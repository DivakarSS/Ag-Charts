{"version":3,"file":"ag-charts.umd.min.js","mappings":"CAAA,SAA2CA,EAAMC,GAC1B,kBAAZC,SAA0C,kBAAXC,OACxCA,OAAOD,QAAUD,IACQ,oBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,kBAAZC,QACdA,QAAQ,aAAeD,IAEvBD,EAAK,aAAeC,GACrB,EATD,CASoB,qBAATK,KAAuBA,KAAOC,MAAO,WAChD,O,uCCVA,IAAIC,EAAa,EAAQ,KACrBC,EAAc,EAAQ,MAEtBC,EAAaC,UAGjBR,EAAOD,QAAU,SAAUU,GACzB,GAAIJ,EAAWI,GAAW,OAAOA,EACjC,MAAMF,EAAWD,EAAYG,GAAY,qBAC3C,C,uBCTA,IAAIJ,EAAa,EAAQ,KAErBK,EAAUC,OACVJ,EAAaC,UAEjBR,EAAOD,QAAU,SAAUU,GACzB,GAAuB,iBAAZA,GAAwBJ,EAAWI,GAAW,OAAOA,EAChE,MAAMF,EAAW,aAAeG,EAAQD,GAAY,kBACtD,C,uBCRA,IAAIG,EAAgB,EAAQ,MAExBL,EAAaC,UAEjBR,EAAOD,QAAU,SAAUc,EAAIC,GAC7B,GAAIF,EAAcE,EAAWD,GAAK,OAAOA,EACzC,MAAMN,EAAW,uBACnB,C,uBCPA,IAAIQ,EAAW,EAAQ,KAEnBL,EAAUC,OACVJ,EAAaC,UAGjBR,EAAOD,QAAU,SAAUU,GACzB,GAAIM,EAASN,GAAW,OAAOA,EAC/B,MAAMF,EAAWG,EAAQD,GAAY,oBACvC,C,uBCTA,IAAIO,EAAkB,EAAQ,MAC1BC,EAAkB,EAAQ,MAC1BC,EAAoB,EAAQ,MAG5BC,EAAe,SAAUC,GAC3B,OAAO,SAAUC,EAAOC,EAAIC,GAC1B,IAGIC,EAHAC,EAAIT,EAAgBK,GACpBK,EAASR,EAAkBO,GAC3BE,EAAQV,EAAgBM,EAAWG,GAIvC,GAAIN,GAAeE,GAAMA,GAAI,MAAOI,EAASC,EAG3C,GAFAH,EAAQC,EAAEE,KAENH,GAASA,EAAO,OAAO,OAEtB,KAAME,EAASC,EAAOA,IAC3B,IAAKP,GAAeO,KAASF,IAAMA,EAAEE,KAAWL,EAAI,OAAOF,GAAeO,GAAS,EACnF,OAAQP,IAAgB,CAC5B,CACF,EAEApB,EAAOD,QAAU,CAGf6B,SAAUT,GAAa,GAGvBU,QAASV,GAAa,G,oCC7BxB,IAAIW,EAAc,EAAQ,MACtBC,EAAU,EAAQ,MAElBxB,EAAaC,UAEbwB,EAA2BC,OAAOD,yBAGlCE,EAAoCJ,IAAgB,WAEtD,QAAaK,IAAT/B,KAAoB,OAAO,EAC/B,IAEE6B,OAAOG,eAAe,GAAI,SAAU,CAAEC,UAAU,IAASX,OAAS,CACpE,CAAE,MAAOY,GACP,OAAOA,aAAiB9B,SAC1B,CACF,CATwD,GAWxDR,EAAOD,QAAUmC,EAAoC,SAAUT,EAAGC,GAChE,GAAIK,EAAQN,KAAOO,EAAyBP,EAAG,UAAUY,SACvD,MAAM9B,EAAW,gCACjB,OAAOkB,EAAEC,OAASA,CACtB,EAAI,SAAUD,EAAGC,GACf,OAAOD,EAAEC,OAASA,CACpB,C,uBC1BA,IAAIa,EAAc,EAAQ,MAEtBC,EAAWD,EAAY,CAAC,EAAEC,UAC1BC,EAAcF,EAAY,GAAGG,OAEjC1C,EAAOD,QAAU,SAAUc,GACzB,OAAO4B,EAAYD,EAAS3B,GAAK,GAAI,EACvC,C,sBCPA,IAAI8B,EAAwB,EAAQ,MAChCtC,EAAa,EAAQ,KACrBuC,EAAa,EAAQ,MACrBC,EAAkB,EAAQ,MAE1BC,EAAgBD,EAAgB,eAChCE,EAAUd,OAGVe,EAAuE,aAAnDJ,EAAW,WAAc,OAAOK,SAAW,CAAhC,IAG/BC,EAAS,SAAUrC,EAAIsC,GACzB,IACE,OAAOtC,EAAGsC,EACZ,CAAE,MAAOb,GAAqB,CAChC,EAGAtC,EAAOD,QAAU4C,EAAwBC,EAAa,SAAU/B,GAC9D,IAAIY,EAAG2B,EAAKC,EACZ,YAAclB,IAAPtB,EAAmB,YAAqB,OAAPA,EAAc,OAEO,iBAAjDuC,EAAMF,EAAOzB,EAAIsB,EAAQlC,GAAKiC,IAA8BM,EAEpEJ,EAAoBJ,EAAWnB,GAEH,WAA3B4B,EAAST,EAAWnB,KAAmBpB,EAAWoB,EAAE6B,QAAU,YAAcD,CACnF,C,uBC5BA,IAAIE,EAAS,EAAQ,MACjBC,EAAU,EAAQ,MAClBC,EAAiC,EAAQ,MACzCC,EAAuB,EAAQ,MAEnC1D,EAAOD,QAAU,SAAU4D,EAAQC,EAAQC,GAIzC,IAHA,IAAIC,EAAON,EAAQI,GACfxB,EAAiBsB,EAAqBK,EACtC/B,EAA2ByB,EAA+BM,EACrDC,EAAI,EAAGA,EAAIF,EAAKpC,OAAQsC,IAAK,CACpC,IAAIb,EAAMW,EAAKE,GACVT,EAAOI,EAAQR,IAAUU,GAAcN,EAAOM,EAAYV,IAC7Df,EAAeuB,EAAQR,EAAKnB,EAAyB4B,EAAQT,GAEjE,CACF,C,uBCfA,IAAIrB,EAAc,EAAQ,MACtB4B,EAAuB,EAAQ,MAC/BO,EAA2B,EAAQ,MAEvCjE,EAAOD,QAAU+B,EAAc,SAAUoC,EAAQf,EAAK3B,GACpD,OAAOkC,EAAqBK,EAAEG,EAAQf,EAAKc,EAAyB,EAAGzC,GACzE,EAAI,SAAU0C,EAAQf,EAAK3B,GAEzB,OADA0C,EAAOf,GAAO3B,EACP0C,CACT,C,mBCTAlE,EAAOD,QAAU,SAAUoE,EAAQ3C,GACjC,MAAO,CACL4C,aAAuB,EAATD,GACdE,eAAyB,EAATF,GAChB9B,WAAqB,EAAT8B,GACZ3C,MAAOA,EAEX,C,uBCPA,IAAInB,EAAa,EAAQ,KACrBqD,EAAuB,EAAQ,MAC/BY,EAAc,EAAQ,MACtBC,EAAuB,EAAQ,MAEnCvE,EAAOD,QAAU,SAAU0B,EAAG0B,EAAK3B,EAAOgD,GACnCA,IAASA,EAAU,CAAC,GACzB,IAAIC,EAASD,EAAQJ,WACjBM,OAAwBvC,IAAjBqC,EAAQE,KAAqBF,EAAQE,KAAOvB,EAEvD,GADI9C,EAAWmB,IAAQ8C,EAAY9C,EAAOkD,EAAMF,GAC5CA,EAAQG,OACNF,EAAQhD,EAAE0B,GAAO3B,EAChB+C,EAAqBpB,EAAK3B,OAC1B,CACL,IACOgD,EAAQI,OACJnD,EAAE0B,KAAMsB,GAAS,UADEhD,EAAE0B,EAEhC,CAAE,MAAOb,GAAqB,CAC1BmC,EAAQhD,EAAE0B,GAAO3B,EAChBkC,EAAqBK,EAAEtC,EAAG0B,EAAK,CAClC3B,MAAOA,EACP4C,YAAY,EACZC,cAAeG,EAAQK,gBACvBxC,UAAWmC,EAAQM,aAEvB,CAAE,OAAOrD,CACX,C,uBC1BA,IAAIkD,EAAS,EAAQ,MAGjBvC,EAAiBH,OAAOG,eAE5BpC,EAAOD,QAAU,SAAUoD,EAAK3B,GAC9B,IACEY,EAAeuC,EAAQxB,EAAK,CAAE3B,MAAOA,EAAO6C,cAAc,EAAMhC,UAAU,GAC5E,CAAE,MAAOC,GACPqC,EAAOxB,GAAO3B,CAChB,CAAE,OAAOA,CACX,C,uBCXA,IAAIuD,EAAQ,EAAQ,MAGpB/E,EAAOD,SAAWgF,GAAM,WAEtB,OAA8E,GAAvE9C,OAAOG,eAAe,CAAC,EAAG,EAAG,CAAE4C,IAAK,WAAc,OAAO,CAAG,IAAK,EAC1E,G,mBCNA,IAAIC,EAAiC,iBAAZC,UAAwBA,SAASC,IAItDC,EAAmC,oBAAfH,QAA8C9C,IAAhB8C,EAEtDjF,EAAOD,QAAU,CACfoF,IAAKF,EACLG,WAAYA,E,sBCRd,IAAIT,EAAS,EAAQ,MACjB5D,EAAW,EAAQ,KAEnBmE,EAAWP,EAAOO,SAElBG,EAAStE,EAASmE,IAAanE,EAASmE,EAASI,eAErDtF,EAAOD,QAAU,SAAUc,GACzB,OAAOwE,EAASH,EAASI,cAAczE,GAAM,CAAC,CAChD,C,mBCTA,IAAIN,EAAaC,UACb+E,EAAmB,iBAEvBvF,EAAOD,QAAU,SAAUc,GACzB,GAAIA,EAAK0E,EAAkB,MAAMhF,EAAW,kCAC5C,OAAOM,CACT,C,mBCNAb,EAAOD,QAAU,CACfyF,eAAgB,CAAEC,EAAG,iBAAkBC,EAAG,EAAGC,EAAG,GAChDC,mBAAoB,CAAEH,EAAG,qBAAsBC,EAAG,EAAGC,EAAG,GACxDE,sBAAuB,CAAEJ,EAAG,wBAAyBC,EAAG,EAAGC,EAAG,GAC9DG,mBAAoB,CAAEL,EAAG,qBAAsBC,EAAG,EAAGC,EAAG,GACxDI,sBAAuB,CAAEN,EAAG,wBAAyBC,EAAG,EAAGC,EAAG,GAC9DK,mBAAoB,CAAEP,EAAG,sBAAuBC,EAAG,EAAGC,EAAG,GACzDM,2BAA4B,CAAER,EAAG,8BAA+BC,EAAG,EAAGC,EAAG,GACzEO,cAAe,CAAET,EAAG,gBAAiBC,EAAG,EAAGC,EAAG,GAC9CQ,kBAAmB,CAAEV,EAAG,oBAAqBC,EAAG,EAAGC,EAAG,GACtDS,oBAAqB,CAAEX,EAAG,sBAAuBC,EAAG,GAAIC,EAAG,GAC3DU,kBAAmB,CAAEZ,EAAG,oBAAqBC,EAAG,GAAIC,EAAG,GACvDW,YAAa,CAAEb,EAAG,aAAcC,EAAG,GAAIC,EAAG,GAC1CY,yBAA0B,CAAEd,EAAG,2BAA4BC,EAAG,GAAIC,EAAG,GACrEa,eAAgB,CAAEf,EAAG,gBAAiBC,EAAG,GAAIC,EAAG,GAChDc,mBAAoB,CAAEhB,EAAG,qBAAsBC,EAAG,GAAIC,EAAG,GACzDe,gBAAiB,CAAEjB,EAAG,iBAAkBC,EAAG,GAAIC,EAAG,GAClDgB,kBAAmB,CAAElB,EAAG,oBAAqBC,EAAG,GAAIC,EAAG,GACvDiB,cAAe,CAAEnB,EAAG,eAAgBC,EAAG,GAAIC,EAAG,GAC9CkB,aAAc,CAAEpB,EAAG,cAAeC,EAAG,GAAIC,EAAG,GAC5CmB,WAAY,CAAErB,EAAG,YAAaC,EAAG,GAAIC,EAAG,GACxCoB,iBAAkB,CAAEtB,EAAG,mBAAoBC,EAAG,GAAIC,EAAG,GACrDqB,mBAAoB,CAAEvB,EAAG,qBAAsBC,EAAG,GAAIC,EAAG,GACzDsB,aAAc,CAAExB,EAAG,cAAeC,EAAG,GAAIC,EAAG,GAC5CuB,qBAAsB,CAAEzB,EAAG,wBAAyBC,EAAG,GAAIC,EAAG,GAC9DwB,eAAgB,CAAE1B,EAAG,iBAAkBC,EAAG,GAAIC,EAAG,G,mBCzBnD3F,EAAOD,QAA8B,oBAAbqH,WAA4BzG,OAAOyG,UAAUC,YAAc,E,uBCAnF,IAOIC,EAAOC,EAPP5C,EAAS,EAAQ,MACjB0C,EAAY,EAAQ,MAEpBG,EAAU7C,EAAO6C,QACjBC,EAAO9C,EAAO8C,KACdC,EAAWF,GAAWA,EAAQE,UAAYD,GAAQA,EAAKF,QACvDI,EAAKD,GAAYA,EAASC,GAG1BA,IACFL,EAAQK,EAAGC,MAAM,KAGjBL,EAAUD,EAAM,GAAK,GAAKA,EAAM,GAAK,EAAI,IAAMA,EAAM,GAAKA,EAAM,MAK7DC,GAAWF,IACdC,EAAQD,EAAUC,MAAM,iBACnBA,GAASA,EAAM,IAAM,MACxBA,EAAQD,EAAUC,MAAM,iBACpBA,IAAOC,GAAWD,EAAM,MAIhCtH,EAAOD,QAAUwH,C,kBCzBjBvH,EAAOD,QAAU,CACf,cACA,iBACA,gBACA,uBACA,iBACA,WACA,U,uBCRF,IAAIwC,EAAc,EAAQ,MAEtBsF,EAASC,MACTC,EAAUxF,EAAY,GAAGwF,SAEzBC,EAAO,SAAWC,GAAO,OAAOtH,OAAOkH,EAAOI,GAAKC,MAAS,CAArD,CAAuD,UAE9DC,EAA2B,uBAC3BC,EAAwBD,EAAyBE,KAAKL,GAE1DhI,EAAOD,QAAU,SAAUmI,EAAOI,GAChC,GAAIF,GAAyC,iBAATF,IAAsBL,EAAOU,kBAC/D,MAAOD,IAAeJ,EAAQH,EAAQG,EAAOC,EAA0B,IACvE,OAAOD,CACX,C,uBCdA,IAAIvD,EAAS,EAAQ,MACjB3C,EAA2B,UAC3BwG,EAA8B,EAAQ,MACtCC,EAAgB,EAAQ,MACxBlE,EAAuB,EAAQ,MAC/BmE,EAA4B,EAAQ,MACpCC,EAAW,EAAQ,MAiBvB3I,EAAOD,QAAU,SAAUyE,EAASZ,GAClC,IAGIgF,EAAQjF,EAAQR,EAAK0F,EAAgBC,EAAgBC,EAHrDC,EAASxE,EAAQb,OACjBsF,EAASzE,EAAQG,OACjBuE,EAAS1E,EAAQ2E,KASrB,GANExF,EADEsF,EACOtE,EACAuE,EACAvE,EAAOqE,IAAWzE,EAAqByE,EAAQ,CAAC,IAE/CrE,EAAOqE,IAAW,CAAC,GAAGI,UAE9BzF,EAAQ,IAAKR,KAAOS,EAAQ,CAQ9B,GAPAkF,EAAiBlF,EAAOT,GACpBqB,EAAQ6E,gBACVN,EAAa/G,EAAyB2B,EAAQR,GAC9C0F,EAAiBE,GAAcA,EAAWvH,OACrCqH,EAAiBlF,EAAOR,GAC/ByF,EAASD,EAASM,EAAS9F,EAAM6F,GAAUE,EAAS,IAAM,KAAO/F,EAAKqB,EAAQ8E,SAEzEV,QAA6BzG,IAAnB0G,EAA8B,CAC3C,UAAWC,UAAyBD,EAAgB,SACpDH,EAA0BI,EAAgBD,EAC5C,EAEIrE,EAAQ+E,MAASV,GAAkBA,EAAeU,OACpDf,EAA4BM,EAAgB,QAAQ,GAEtDL,EAAc9E,EAAQR,EAAK2F,EAAgBtE,EAC7C,CACF,C,mBCrDAxE,EAAOD,QAAU,SAAUyJ,GACzB,IACE,QAASA,GACX,CAAE,MAAOlH,GACP,OAAO,CACT,CACF,C,uBCNA,IAAIyC,EAAQ,EAAQ,MAEpB/E,EAAOD,SAAWgF,GAAM,WAEtB,IAAIsD,EAAO,WAA4B,EAAEoB,OAEzC,MAAsB,mBAARpB,GAAsBA,EAAKqB,eAAe,YAC1D,G,uBCPA,IAAIC,EAAc,EAAQ,MAEtBC,EAAOC,SAAST,UAAUQ,KAE9B5J,EAAOD,QAAU4J,EAAcC,EAAKH,KAAKG,GAAQ,WAC/C,OAAOA,EAAKE,MAAMF,EAAM3G,UAC1B,C,uBCNA,IAAInB,EAAc,EAAQ,MACtByB,EAAS,EAAQ,MAEjBwG,EAAoBF,SAAST,UAE7BY,EAAgBlI,GAAeG,OAAOD,yBAEtCqD,EAAS9B,EAAOwG,EAAmB,QAEnCE,EAAS5E,GAA0D,cAAhD,WAAqC,EAAEX,KAC1DwF,EAAe7E,KAAYvD,GAAgBA,GAAekI,EAAcD,EAAmB,QAAQ1F,cAEvGrE,EAAOD,QAAU,CACfsF,OAAQA,EACR4E,OAAQA,EACRC,aAAcA,E,uBCfhB,IAAI3H,EAAc,EAAQ,MACtB4H,EAAY,EAAQ,MAExBnK,EAAOD,QAAU,SAAUmE,EAAQf,EAAKiH,GACtC,IAEE,OAAO7H,EAAY4H,EAAUlI,OAAOD,yBAAyBkC,EAAQf,GAAKiH,IAC5E,CAAE,MAAO9H,GAAqB,CAChC,C,uBCRA,IAAIqH,EAAc,EAAQ,MAEtBI,EAAoBF,SAAST,UAC7BQ,EAAOG,EAAkBH,KACzBS,EAAsBV,GAAeI,EAAkBN,KAAKA,KAAKG,EAAMA,GAE3E5J,EAAOD,QAAU4J,EAAcU,EAAsB,SAAUC,GAC7D,OAAO,WACL,OAAOV,EAAKE,MAAMQ,EAAIrH,UACxB,CACF,C,uBCVA,IAAI0B,EAAS,EAAQ,MACjBtE,EAAa,EAAQ,KAErBkK,EAAY,SAAU9J,GACxB,OAAOJ,EAAWI,GAAYA,OAAW0B,CAC3C,EAEAnC,EAAOD,QAAU,SAAUyK,EAAWJ,GACpC,OAAOnH,UAAUvB,OAAS,EAAI6I,EAAU5F,EAAO6F,IAAc7F,EAAO6F,IAAc7F,EAAO6F,GAAWJ,EACtG,C,uBCTA,IAAID,EAAY,EAAQ,MACpBM,EAAoB,EAAQ,MAIhCzK,EAAOD,QAAU,SAAU2K,EAAGC,GAC5B,IAAIC,EAAOF,EAAEC,GACb,OAAOF,EAAkBG,QAAQzI,EAAYgI,EAAUS,EACzD,C,uBCRA,IAAIC,EAAQ,SAAUhK,GACpB,OAAOA,GAAMA,EAAGiK,MAAQA,MAAQjK,CAClC,EAGAb,EAAOD,QAEL8K,EAA2B,iBAAdE,YAA0BA,aACvCF,EAAuB,iBAAVG,QAAsBA,SAEnCH,EAAqB,iBAAR1K,MAAoBA,OACjC0K,EAAuB,iBAAV,EAAAI,GAAsB,EAAAA,IAEnC,WAAe,OAAO7K,IAAO,CAA7B,IAAoCA,MAAQyJ,SAAS,cAATA,E,uBCb9C,IAAItH,EAAc,EAAQ,MACtB2I,EAAW,EAAQ,MAEnBxB,EAAiBnH,EAAY,CAAC,EAAEmH,gBAKpC1J,EAAOD,QAAUkC,OAAOsB,QAAU,SAAgB1C,EAAIsC,GACpD,OAAOuG,EAAewB,EAASrK,GAAKsC,EACtC,C,mBCVAnD,EAAOD,QAAU,CAAC,C,uBCAlB,IAAI+B,EAAc,EAAQ,MACtBiD,EAAQ,EAAQ,MAChBO,EAAgB,EAAQ,KAG5BtF,EAAOD,SAAW+B,IAAgBiD,GAAM,WAEtC,OAEQ,GAFD9C,OAAOG,eAAekD,EAAc,OAAQ,IAAK,CACtDN,IAAK,WAAc,OAAO,CAAG,IAC5BmG,CACL,G,uBCVA,IAAI5I,EAAc,EAAQ,MACtBwC,EAAQ,EAAQ,MAChBqG,EAAU,EAAQ,MAElBrI,EAAUd,OACV2F,EAAQrF,EAAY,GAAGqF,OAG3B5H,EAAOD,QAAUgF,GAAM,WAGrB,OAAQhC,EAAQ,KAAKsI,qBAAqB,EAC5C,IAAK,SAAUxK,GACb,MAAsB,UAAfuK,EAAQvK,GAAkB+G,EAAM/G,EAAI,IAAMkC,EAAQlC,EAC3D,EAAIkC,C,uBCdJ,IAAI1C,EAAa,EAAQ,KACrBU,EAAW,EAAQ,KACnBuK,EAAiB,EAAQ,MAG7BtL,EAAOD,QAAU,SAAUsB,EAAOkK,EAAOC,GACvC,IAAIC,EAAWC,EAUf,OAPEJ,GAEAjL,EAAWoL,EAAYF,EAAMI,cAC7BF,IAAcD,GACdzK,EAAS2K,EAAqBD,EAAUrC,YACxCsC,IAAuBF,EAAQpC,WAC/BkC,EAAejK,EAAOqK,GACjBrK,CACT,C,uBCjBA,IAAIkB,EAAc,EAAQ,MACtBlC,EAAa,EAAQ,KACrBuL,EAAQ,EAAQ,MAEhBC,EAAmBtJ,EAAYsH,SAASrH,UAGvCnC,EAAWuL,EAAME,iBACpBF,EAAME,cAAgB,SAAUjL,GAC9B,OAAOgL,EAAiBhL,EAC1B,GAGFb,EAAOD,QAAU6L,EAAME,a,uBCbvB,IAYIC,EAAK/G,EAAKgH,EAZVC,EAAkB,EAAQ,MAC1BtH,EAAS,EAAQ,MACjB5D,EAAW,EAAQ,KACnByH,EAA8B,EAAQ,MACtCjF,EAAS,EAAQ,MACjB2I,EAAS,EAAQ,MACjBC,EAAY,EAAQ,MACpBC,EAAa,EAAQ,MAErBC,EAA6B,6BAC7B7L,EAAYmE,EAAOnE,UACnB8L,EAAU3H,EAAO2H,QAGjBC,EAAU,SAAU1L,GACtB,OAAOmL,EAAInL,GAAMmE,EAAInE,GAAMkL,EAAIlL,EAAI,CAAC,EACtC,EAEI2L,EAAY,SAAUC,GACxB,OAAO,SAAU5L,GACf,IAAI6L,EACJ,IAAK3L,EAASF,KAAQ6L,EAAQ1H,EAAInE,IAAK8L,OAASF,EAC9C,MAAMjM,EAAU,0BAA4BiM,EAAO,aACnD,OAAOC,CACX,CACF,EAEA,GAAIT,GAAmBC,EAAOQ,MAAO,CACnC,IAAId,EAAQM,EAAOQ,QAAUR,EAAOQ,MAAQ,IAAIJ,GAEhDV,EAAM5G,IAAM4G,EAAM5G,IAClB4G,EAAMI,IAAMJ,EAAMI,IAClBJ,EAAMG,IAAMH,EAAMG,IAElBA,EAAM,SAAUlL,EAAI+L,GAClB,GAAIhB,EAAMI,IAAInL,GAAK,MAAML,EAAU6L,GAGnC,OAFAO,EAASC,OAAShM,EAClB+K,EAAMG,IAAIlL,EAAI+L,GACPA,CACT,EACA5H,EAAM,SAAUnE,GACd,OAAO+K,EAAM5G,IAAInE,IAAO,CAAC,CAC3B,EACAmL,EAAM,SAAUnL,GACd,OAAO+K,EAAMI,IAAInL,EACnB,CACF,KAAO,CACL,IAAIiM,EAAQX,EAAU,SACtBC,EAAWU,IAAS,EACpBf,EAAM,SAAUlL,EAAI+L,GAClB,GAAIrJ,EAAO1C,EAAIiM,GAAQ,MAAMtM,EAAU6L,GAGvC,OAFAO,EAASC,OAAShM,EAClB2H,EAA4B3H,EAAIiM,EAAOF,GAChCA,CACT,EACA5H,EAAM,SAAUnE,GACd,OAAO0C,EAAO1C,EAAIiM,GAASjM,EAAGiM,GAAS,CAAC,CAC1C,EACAd,EAAM,SAAUnL,GACd,OAAO0C,EAAO1C,EAAIiM,EACpB,CACF,CAEA9M,EAAOD,QAAU,CACfgM,IAAKA,EACL/G,IAAKA,EACLgH,IAAKA,EACLO,QAASA,EACTC,UAAWA,E,uBCpEb,IAAIpB,EAAU,EAAQ,MAKtBpL,EAAOD,QAAUgN,MAAMhL,SAAW,SAAiBtB,GACjD,MAA4B,SAArB2K,EAAQ3K,EACjB,C,sBCPA,IAAIuM,EAAe,EAAQ,MAEvB/H,EAAc+H,EAAa7H,IAI/BnF,EAAOD,QAAUiN,EAAa5H,WAAa,SAAU3E,GACnD,MAA0B,mBAAZA,GAA0BA,IAAawE,CACvD,EAAI,SAAUxE,GACZ,MAA0B,mBAAZA,CAChB,C,uBCVA,IAAIsE,EAAQ,EAAQ,MAChB1E,EAAa,EAAQ,KAErB4M,EAAc,kBAEdtE,EAAW,SAAUuE,EAASC,GAChC,IAAI3L,EAAQ4L,EAAKC,EAAUH,IAC3B,OAAO1L,GAAS8L,GACZ9L,GAAS+L,IACTlN,EAAW8M,GAAapI,EAAMoI,KAC5BA,EACR,EAEIE,EAAY1E,EAAS0E,UAAY,SAAUG,GAC7C,OAAO7M,OAAO6M,GAAQzF,QAAQkF,EAAa,KAAKQ,aAClD,EAEIL,EAAOzE,EAASyE,KAAO,CAAC,EACxBG,EAAS5E,EAAS4E,OAAS,IAC3BD,EAAW3E,EAAS2E,SAAW,IAEnCtN,EAAOD,QAAU4I,C,mBCnBjB3I,EAAOD,QAAU,SAAUc,GACzB,OAAc,OAAPA,QAAsBsB,IAAPtB,CACxB,C,sBCJA,IAAIR,EAAa,EAAQ,KACrB2M,EAAe,EAAQ,MAEvB/H,EAAc+H,EAAa7H,IAE/BnF,EAAOD,QAAUiN,EAAa5H,WAAa,SAAUvE,GACnD,MAAoB,iBAANA,EAAwB,OAAPA,EAAcR,EAAWQ,IAAOA,IAAOoE,CACxE,EAAI,SAAUpE,GACZ,MAAoB,iBAANA,EAAwB,OAAPA,EAAcR,EAAWQ,EAC1D,C,mBCTAb,EAAOD,SAAU,C,uBCAjB,IAAI2N,EAAa,EAAQ,MACrBrN,EAAa,EAAQ,KACrBO,EAAgB,EAAQ,MACxB+M,EAAoB,EAAQ,MAE5B5K,EAAUd,OAEdjC,EAAOD,QAAU4N,EAAoB,SAAU9M,GAC7C,MAAoB,iBAANA,CAChB,EAAI,SAAUA,GACZ,IAAI+M,EAAUF,EAAW,UACzB,OAAOrN,EAAWuN,IAAYhN,EAAcgN,EAAQxE,UAAWrG,EAAQlC,GACzE,C,uBCZA,IAAIgN,EAAW,EAAQ,MAIvB7N,EAAOD,QAAU,SAAU+N,GACzB,OAAOD,EAASC,EAAIpM,OACtB,C,uBCNA,IAAIa,EAAc,EAAQ,MACtBwC,EAAQ,EAAQ,MAChB1E,EAAa,EAAQ,KACrBkD,EAAS,EAAQ,MACjBzB,EAAc,EAAQ,MACtBiM,EAA6B,qBAC7BjC,EAAgB,EAAQ,MACxBkC,EAAsB,EAAQ,MAE9BC,EAAuBD,EAAoBzB,QAC3C2B,EAAmBF,EAAoBhJ,IACvCtE,EAAUC,OAEVyB,EAAiBH,OAAOG,eACxBK,EAAcF,EAAY,GAAGG,OAC7BqF,EAAUxF,EAAY,GAAGwF,SACzBoG,EAAO5L,EAAY,GAAG4L,MAEtBC,EAAsBtM,IAAgBiD,GAAM,WAC9C,OAAsF,IAA/E3C,GAAe,WAA0B,GAAG,SAAU,CAAEZ,MAAO,IAAKE,MAC7E,IAEI2M,EAAW1N,OAAOA,QAAQiH,MAAM,UAEhCtD,EAActE,EAAOD,QAAU,SAAUyB,EAAOkD,EAAMF,GACf,YAArC/B,EAAY/B,EAAQgE,GAAO,EAAG,KAChCA,EAAO,IAAMqD,EAAQrH,EAAQgE,GAAO,qBAAsB,MAAQ,KAEhEF,GAAWA,EAAQ8J,SAAQ5J,EAAO,OAASA,GAC3CF,GAAWA,EAAQ+J,SAAQ7J,EAAO,OAASA,KAC1CnB,EAAO/B,EAAO,SAAYuM,GAA8BvM,EAAMkD,OAASA,KACtE5C,EAAaM,EAAeZ,EAAO,OAAQ,CAAEA,MAAOkD,EAAML,cAAc,IACvE7C,EAAMkD,KAAOA,GAEhB0J,GAAuB5J,GAAWjB,EAAOiB,EAAS,UAAYhD,EAAME,SAAW8C,EAAQgK,OACzFpM,EAAeZ,EAAO,SAAU,CAAEA,MAAOgD,EAAQgK,QAEnD,IACMhK,GAAWjB,EAAOiB,EAAS,gBAAkBA,EAAQmH,YACnD7J,GAAaM,EAAeZ,EAAO,YAAa,CAAEa,UAAU,IAEvDb,EAAM4H,YAAW5H,EAAM4H,eAAYjH,EAChD,CAAE,MAAOG,GAAqB,CAC9B,IAAIoK,EAAQuB,EAAqBzM,GAG/B,OAFG+B,EAAOmJ,EAAO,YACjBA,EAAM9I,OAASuK,EAAKE,EAAyB,iBAAR3J,EAAmBA,EAAO,KACxDlD,CACX,EAIAqI,SAAST,UAAU5G,SAAW8B,GAAY,WACxC,OAAOjE,EAAWD,OAAS8N,EAAiB9N,MAAMwD,QAAUkI,EAAc1L,KAC5E,GAAG,W,mBCrDH,IAAIqO,EAAO3D,KAAK2D,KACZC,EAAQ5D,KAAK4D,MAKjB1O,EAAOD,QAAU+K,KAAK6D,OAAS,SAAeC,GAC5C,IAAIC,GAAKD,EACT,OAAQC,EAAI,EAAIH,EAAQD,GAAMI,EAChC,C,uBCTA,IAAIrM,EAAW,EAAQ,MAEvBxC,EAAOD,QAAU,SAAUU,EAAUqO,GACnC,YAAoB3M,IAAb1B,EAAyBwC,UAAUvB,OAAS,EAAI,GAAKoN,EAAWtM,EAAS/B,EAClF,C,uBCJA,IAAIqB,EAAc,EAAQ,MACtBiN,EAAiB,EAAQ,MACzBC,EAA0B,EAAQ,MAClCC,EAAW,EAAQ,MACnBC,EAAgB,EAAQ,MAExB3O,EAAaC,UAEb2O,EAAkBlN,OAAOG,eAEzBgN,EAA4BnN,OAAOD,yBACnCqN,EAAa,aACbnF,EAAe,eACfoF,EAAW,WAIfvP,EAAQgE,EAAIjC,EAAckN,EAA0B,SAAwBvN,EAAGkJ,EAAG4E,GAIhF,GAHAN,EAASxN,GACTkJ,EAAIuE,EAAcvE,GAClBsE,EAASM,GACQ,oBAAN9N,GAA0B,cAANkJ,GAAqB,UAAW4E,GAAcD,KAAYC,IAAeA,EAAWD,GAAW,CAC5H,IAAIE,EAAUJ,EAA0B3N,EAAGkJ,GACvC6E,GAAWA,EAAQF,KACrB7N,EAAEkJ,GAAK4E,EAAW/N,MAClB+N,EAAa,CACXlL,aAAc6F,KAAgBqF,EAAaA,EAAWrF,GAAgBsF,EAAQtF,GAC9E9F,WAAYiL,KAAcE,EAAaA,EAAWF,GAAcG,EAAQH,GACxEhN,UAAU,GAGhB,CAAE,OAAO8M,EAAgB1N,EAAGkJ,EAAG4E,EACjC,EAAIJ,EAAkB,SAAwB1N,EAAGkJ,EAAG4E,GAIlD,GAHAN,EAASxN,GACTkJ,EAAIuE,EAAcvE,GAClBsE,EAASM,GACLR,EAAgB,IAClB,OAAOI,EAAgB1N,EAAGkJ,EAAG4E,EAC/B,CAAE,MAAOjN,GAAqB,CAC9B,GAAI,QAASiN,GAAc,QAASA,EAAY,MAAMhP,EAAW,2BAEjE,MADI,UAAWgP,IAAY9N,EAAEkJ,GAAK4E,EAAW/N,OACtCC,CACT,C,uBC1CA,IAAIK,EAAc,EAAQ,MACtB8H,EAAO,EAAQ,MACf6F,EAA6B,EAAQ,MACrCxL,EAA2B,EAAQ,MACnCjD,EAAkB,EAAQ,MAC1BkO,EAAgB,EAAQ,MACxB3L,EAAS,EAAQ,MACjBwL,EAAiB,EAAQ,MAGzBK,EAA4BnN,OAAOD,yBAIvCjC,EAAQgE,EAAIjC,EAAcsN,EAA4B,SAAkC3N,EAAGkJ,GAGzF,GAFAlJ,EAAIT,EAAgBS,GACpBkJ,EAAIuE,EAAcvE,GACdoE,EAAgB,IAClB,OAAOK,EAA0B3N,EAAGkJ,EACtC,CAAE,MAAOrI,GAAqB,CAC9B,GAAIiB,EAAO9B,EAAGkJ,GAAI,OAAO1G,GAA0B2F,EAAK6F,EAA2B1L,EAAGtC,EAAGkJ,GAAIlJ,EAAEkJ,GACjG,C,uBCrBA,IAAI+E,EAAqB,EAAQ,MAC7BC,EAAc,EAAQ,KAEtBvD,EAAauD,EAAYC,OAAO,SAAU,aAK9C7P,EAAQgE,EAAI9B,OAAO4N,qBAAuB,SAA6BpO,GACrE,OAAOiO,EAAmBjO,EAAG2K,EAC/B,C,qBCTArM,EAAQgE,EAAI9B,OAAO6N,qB,uBCDnB,IAAIvN,EAAc,EAAQ,MAE1BvC,EAAOD,QAAUwC,EAAY,CAAC,EAAE3B,c,uBCFhC,IAAI2B,EAAc,EAAQ,MACtBgB,EAAS,EAAQ,MACjBvC,EAAkB,EAAQ,MAC1Ba,EAAU,gBACVuK,EAAa,EAAQ,MAErB2D,EAAOxN,EAAY,GAAGwN,MAE1B/P,EAAOD,QAAU,SAAUmE,EAAQ8L,GACjC,IAGI7M,EAHA1B,EAAIT,EAAgBkD,GACpBF,EAAI,EACJX,EAAS,GAEb,IAAKF,KAAO1B,GAAI8B,EAAO6I,EAAYjJ,IAAQI,EAAO9B,EAAG0B,IAAQ4M,EAAK1M,EAAQF,GAE1E,MAAO6M,EAAMtO,OAASsC,EAAOT,EAAO9B,EAAG0B,EAAM6M,EAAMhM,SAChDnC,EAAQwB,EAAQF,IAAQ4M,EAAK1M,EAAQF,IAExC,OAAOE,CACT,C,kCClBA,IAAI4M,EAAwB,CAAC,EAAE5E,qBAE3BrJ,EAA2BC,OAAOD,yBAGlCkO,EAAclO,IAA6BiO,EAAsBrG,KAAK,CAAE,EAAG,GAAK,GAIpF7J,EAAQgE,EAAImM,EAAc,SAA8BxF,GACtD,IAAI3B,EAAa/G,EAAyB5B,KAAMsK,GAChD,QAAS3B,GAAcA,EAAW3E,UACpC,EAAI6L,C,uBCZJ,IAAIE,EAAsB,EAAQ,MAC9BlB,EAAW,EAAQ,MACnBmB,EAAqB,EAAQ,MAMjCpQ,EAAOD,QAAUkC,OAAOqJ,iBAAmB,aAAe,CAAC,EAAI,WAC7D,IAEIiD,EAFA8B,GAAiB,EACjBhI,EAAO,CAAC,EAEZ,IACEkG,EAAS4B,EAAoBlO,OAAOmH,UAAW,YAAa,OAC5DmF,EAAOlG,EAAM,IACbgI,EAAiBhI,aAAgB0E,KACnC,CAAE,MAAOzK,GAAqB,CAC9B,OAAO,SAAwBb,EAAG6O,GAKhC,OAJArB,EAASxN,GACT2O,EAAmBE,GACfD,EAAgB9B,EAAO9M,EAAG6O,GACzB7O,EAAE8O,UAAYD,EACZ7O,CACT,CACF,CAhB+D,QAgBzDU,E,uBCzBN,IAAIyH,EAAO,EAAQ,MACfvJ,EAAa,EAAQ,KACrBU,EAAW,EAAQ,KAEnBR,EAAaC,UAIjBR,EAAOD,QAAU,SAAUyQ,EAAOC,GAChC,IAAInG,EAAIoG,EACR,GAAa,WAATD,GAAqBpQ,EAAWiK,EAAKkG,EAAMhO,YAAczB,EAAS2P,EAAM9G,EAAKU,EAAIkG,IAAS,OAAOE,EACrG,GAAIrQ,EAAWiK,EAAKkG,EAAMG,WAAa5P,EAAS2P,EAAM9G,EAAKU,EAAIkG,IAAS,OAAOE,EAC/E,GAAa,WAATD,GAAqBpQ,EAAWiK,EAAKkG,EAAMhO,YAAczB,EAAS2P,EAAM9G,EAAKU,EAAIkG,IAAS,OAAOE,EACrG,MAAMnQ,EAAW,0CACnB,C,uBCdA,IAAImN,EAAa,EAAQ,MACrBnL,EAAc,EAAQ,MACtBqO,EAA4B,EAAQ,MACpCC,EAA8B,EAAQ,MACtC5B,EAAW,EAAQ,MAEnBW,EAASrN,EAAY,GAAGqN,QAG5B5P,EAAOD,QAAU2N,EAAW,UAAW,YAAc,SAAiB7M,GACpE,IAAIiD,EAAO8M,EAA0B7M,EAAEkL,EAASpO,IAC5CiP,EAAwBe,EAA4B9M,EACxD,OAAO+L,EAAwBF,EAAO9L,EAAMgM,EAAsBjP,IAAOiD,CAC3E,C,uBCbA,IAAI2G,EAAoB,EAAQ,MAE5BlK,EAAaC,UAIjBR,EAAOD,QAAU,SAAUc,GACzB,GAAI4J,EAAkB5J,GAAK,MAAMN,EAAW,wBAA0BM,GACtE,OAAOA,CACT,C,uBCTA,IAAIqL,EAAS,EAAQ,MACjB4E,EAAM,EAAQ,MAEdhN,EAAOoI,EAAO,QAElBlM,EAAOD,QAAU,SAAUoD,GACzB,OAAOW,EAAKX,KAASW,EAAKX,GAAO2N,EAAI3N,GACvC,C,uBCPA,IAAIwB,EAAS,EAAQ,MACjBJ,EAAuB,EAAQ,MAE/BwM,EAAS,qBACTnF,EAAQjH,EAAOoM,IAAWxM,EAAqBwM,EAAQ,CAAC,GAE5D/Q,EAAOD,QAAU6L,C,uBCNjB,IAAIoF,EAAU,EAAQ,MAClBpF,EAAQ,EAAQ,OAEnB5L,EAAOD,QAAU,SAAUoD,EAAK3B,GAC/B,OAAOoK,EAAMzI,KAASyI,EAAMzI,QAAiBhB,IAAVX,EAAsBA,EAAQ,CAAC,EACpE,GAAG,WAAY,IAAIuO,KAAK,CACtBxI,QAAS,SACT0J,KAAMD,EAAU,OAAS,SACzBE,UAAW,4CACXC,QAAS,2DACTvN,OAAQ,uC,uBCTV,IAAIwN,EAAa,EAAQ,MACrBrM,EAAQ,EAAQ,MAChBJ,EAAS,EAAQ,MAEjBjE,EAAUiE,EAAOhE,OAGrBX,EAAOD,UAAYkC,OAAO6N,wBAA0B/K,GAAM,WACxD,IAAIsM,EAASC,SAKb,OAAQ5Q,EAAQ2Q,MAAapP,OAAOoP,aAAmBC,UAEpDA,OAAO/H,MAAQ6H,GAAcA,EAAa,EAC/C,G,uBCjBA,IAAIG,EAAsB,EAAQ,MAE9BC,EAAM1G,KAAK0G,IACXC,EAAM3G,KAAK2G,IAKfzR,EAAOD,QAAU,SAAU4B,EAAOD,GAChC,IAAIgQ,EAAUH,EAAoB5P,GAClC,OAAO+P,EAAU,EAAIF,EAAIE,EAAUhQ,EAAQ,GAAK+P,EAAIC,EAAShQ,EAC/D,C,uBCVA,IAAIiQ,EAAgB,EAAQ,MACxBC,EAAyB,EAAQ,MAErC5R,EAAOD,QAAU,SAAUc,GACzB,OAAO8Q,EAAcC,EAAuB/Q,GAC9C,C,uBCNA,IAAI8N,EAAQ,EAAQ,MAIpB3O,EAAOD,QAAU,SAAUU,GACzB,IAAIoR,GAAUpR,EAEd,OAAOoR,IAAWA,GAAqB,IAAXA,EAAe,EAAIlD,EAAMkD,EACvD,C,uBCRA,IAAIN,EAAsB,EAAQ,MAE9BE,EAAM3G,KAAK2G,IAIfzR,EAAOD,QAAU,SAAUU,GACzB,OAAOA,EAAW,EAAIgR,EAAIF,EAAoB9Q,GAAW,kBAAoB,CAC/E,C,uBCRA,IAAImR,EAAyB,EAAQ,MAEjC7O,EAAUd,OAIdjC,EAAOD,QAAU,SAAUU,GACzB,OAAOsC,EAAQ6O,EAAuBnR,GACxC,C,uBCRA,IAAImJ,EAAO,EAAQ,MACf7I,EAAW,EAAQ,KACnB+Q,EAAW,EAAQ,MACnBC,EAAY,EAAQ,MACpBC,EAAsB,EAAQ,MAC9BnP,EAAkB,EAAQ,MAE1BtC,EAAaC,UACbyR,EAAepP,EAAgB,eAInC7C,EAAOD,QAAU,SAAUyQ,EAAOC,GAChC,IAAK1P,EAASyP,IAAUsB,EAAStB,GAAQ,OAAOA,EAChD,IACInN,EADA6O,EAAeH,EAAUvB,EAAOyB,GAEpC,GAAIC,EAAc,CAGhB,QAFa/P,IAATsO,IAAoBA,EAAO,WAC/BpN,EAASuG,EAAKsI,EAAc1B,EAAOC,IAC9B1P,EAASsC,IAAWyO,EAASzO,GAAS,OAAOA,EAClD,MAAM9C,EAAW,0CACnB,CAEA,YADa4B,IAATsO,IAAoBA,EAAO,UACxBuB,EAAoBxB,EAAOC,EACpC,C,uBCxBA,IAAI0B,EAAc,EAAQ,MACtBL,EAAW,EAAQ,MAIvB9R,EAAOD,QAAU,SAAUU,GACzB,IAAI0C,EAAMgP,EAAY1R,EAAU,UAChC,OAAOqR,EAAS3O,GAAOA,EAAMA,EAAM,EACrC,C,uBCRA,IAAIN,EAAkB,EAAQ,MAE1BC,EAAgBD,EAAgB,eAChCwF,EAAO,CAAC,EAEZA,EAAKvF,GAAiB,IAEtB9C,EAAOD,QAA2B,eAAjBY,OAAO0H,E,uBCPxB,IAAI+C,EAAU,EAAQ,KAElB1K,EAAUC,OAEdX,EAAOD,QAAU,SAAUU,GACzB,GAA0B,WAAtB2K,EAAQ3K,GAAwB,MAAMD,UAAU,6CACpD,OAAOE,EAAQD,EACjB,C,mBCPA,IAAIC,EAAUC,OAEdX,EAAOD,QAAU,SAAUU,GACzB,IACE,OAAOC,EAAQD,EACjB,CAAE,MAAO6B,GACP,MAAO,QACT,CACF,C,uBCRA,IAAIC,EAAc,EAAQ,MAEtB6P,EAAK,EACLC,EAAUvH,KAAKwH,SACf9P,EAAWD,EAAY,GAAIC,UAE/BxC,EAAOD,QAAU,SAAUoD,GACzB,MAAO,gBAAqBhB,IAARgB,EAAoB,GAAKA,GAAO,KAAOX,IAAW4P,EAAKC,EAAS,GACtF,C,uBCPA,IAAIE,EAAgB,EAAQ,MAE5BvS,EAAOD,QAAUwS,IACXjB,OAAO/H,MACkB,iBAAnB+H,OAAOkB,Q,uBCLnB,IAAI1Q,EAAc,EAAQ,MACtBiD,EAAQ,EAAQ,MAIpB/E,EAAOD,QAAU+B,GAAeiD,GAAM,WAEpC,OAGgB,IAHT9C,OAAOG,gBAAe,WAA0B,GAAG,YAAa,CACrEZ,MAAO,GACPa,UAAU,IACT+G,SACL,G,uBCXA,IAAIzE,EAAS,EAAQ,MACjBtE,EAAa,EAAQ,KAErBiM,EAAU3H,EAAO2H,QAErBtM,EAAOD,QAAUM,EAAWiM,IAAY,cAAcjE,KAAK1H,OAAO2L,G,uBCLlE,IAAI3H,EAAS,EAAQ,MACjBuH,EAAS,EAAQ,MACjB3I,EAAS,EAAQ,MACjBuN,EAAM,EAAQ,MACdyB,EAAgB,EAAQ,MACxB5E,EAAoB,EAAQ,MAE5B2D,EAAS3M,EAAO2M,OAChBmB,EAAwBvG,EAAO,OAC/BwG,EAAwB/E,EAAoB2D,EAAO,QAAUA,EAASA,GAAUA,EAAOqB,eAAiB7B,EAE5G9Q,EAAOD,QAAU,SAAU2E,GAKvB,OAJGnB,EAAOkP,EAAuB/N,KACjC+N,EAAsB/N,GAAQ6N,GAAiBhP,EAAO+N,EAAQ5M,GAC1D4M,EAAO5M,GACPgO,EAAsB,UAAYhO,IAC/B+N,EAAsB/N,EACjC,C,oCChBA,IAAIkO,EAAI,EAAQ,MACZ1H,EAAW,EAAQ,MACnBhK,EAAoB,EAAQ,MAC5B2R,EAAiB,EAAQ,MACzBC,EAA2B,EAAQ,MACnC/N,EAAQ,EAAQ,MAEhBgO,EAAsBhO,GAAM,WAC9B,OAAoD,aAA7C,GAAGgL,KAAKnG,KAAK,CAAElI,OAAQ,YAAe,EAC/C,IAIIsR,EAAiC,WACnC,IAEE/Q,OAAOG,eAAe,GAAI,SAAU,CAAEC,UAAU,IAAS0N,MAC3D,CAAE,MAAOzN,GACP,OAAOA,aAAiB9B,SAC1B,CACF,EAEIoI,EAASmK,IAAwBC,IAIrCJ,EAAE,CAAEjP,OAAQ,QAAS2M,OAAO,EAAM9B,MAAO,EAAGlF,OAAQV,GAAU,CAE5DmH,KAAM,SAAckD,GAClB,IAAIxR,EAAIyJ,EAAS9K,MACb8S,EAAMhS,EAAkBO,GACxB0R,EAAWlQ,UAAUvB,OACzBoR,EAAyBI,EAAMC,GAC/B,IAAK,IAAInP,EAAI,EAAGA,EAAImP,EAAUnP,IAC5BvC,EAAEyR,GAAOjQ,UAAUe,GACnBkP,IAGF,OADAL,EAAepR,EAAGyR,GACXA,CACT,G,oCCvCF,IAAIN,EAAI,EAAQ,MACZjO,EAAS,EAAQ,MACjB+I,EAAa,EAAQ,MACrBzJ,EAA2B,EAAQ,MACnC7B,EAAiB,UACjBmB,EAAS,EAAQ,MACjB6P,EAAa,EAAQ,MACrBC,EAAoB,EAAQ,MAC5BC,EAA0B,EAAQ,MAClCC,EAAwB,EAAQ,MAChCC,EAAkB,EAAQ,MAC1B1R,EAAc,EAAQ,MACtBkP,EAAU,EAAQ,MAElByC,EAAgB,eAChB3L,EAAQ4F,EAAW,SACnBgG,EAAqBhG,EAAW+F,GAEhCE,EAAgB,WAClBP,EAAWhT,KAAMwT,GACjB,IAAIC,EAAkB5Q,UAAUvB,OAC5BoS,EAAUR,EAAwBO,EAAkB,OAAI1R,EAAYc,UAAU,IAC9EyB,EAAO4O,EAAwBO,EAAkB,OAAI1R,EAAYc,UAAU,GAAI,SAC/E8Q,EAAO,IAAIL,EAAmBI,EAASpP,GACvCpC,EAAQwF,EAAMgM,GAIlB,OAHAxR,EAAMoC,KAAO+O,EACbrR,EAAe2R,EAAM,QAAS9P,EAAyB,EAAGuP,EAAgBlR,EAAM4F,MAAO,KACvFmL,EAAkBU,EAAM3T,KAAMuT,GACvBI,CACT,EAEIH,EAAwBD,EAAcvK,UAAYsK,EAAmBtK,UAErE4K,EAAkB,UAAWlM,EAAM2L,GACnCQ,EAA0B,UAAW,IAAIP,EAAmB,EAAG,GAG/D3K,EAAa2K,GAAsB5R,GAAeG,OAAOD,yBAAyB2C,EAAQ8O,GAI1FS,IAAqBnL,KAAgBA,EAAW1G,UAAY0G,EAAW1E,cAEvE8P,EAAqBH,IAAoBE,IAAqBD,EAIlErB,EAAE,CAAEjO,QAAQ,EAAMgH,aAAa,EAAMrC,OAAQ0H,GAAWmD,GAAsB,CAC5EC,aAAcD,EAAqBR,EAAgBD,IAGrD,IAAIW,EAAyB3G,EAAW+F,GACpCa,EAAkCD,EAAuBjL,UAE7D,GAAIkL,EAAgC3I,cAAgB0I,EAKlD,IAAK,IAAIlR,KAJJ6N,GACH5O,EAAekS,EAAiC,cAAerQ,EAAyB,EAAGoQ,IAG7Ed,EAAuB,GAAIhQ,EAAOgQ,EAAuBpQ,GAAM,CAC7E,IAAIoR,EAAWhB,EAAsBpQ,GACjCqR,EAAeD,EAAS9O,EACvBlC,EAAO8Q,EAAwBG,IAClCpS,EAAeiS,EAAwBG,EAAcvQ,EAAyB,EAAGsQ,EAAS7O,GAE9F,C,s1BC5DF,IAAI+O,EACJ,MAAMC,EACJ/I,YAAYgJ,GAAW,GACrBvU,KAAKuU,SAAWA,EAIhBvU,KAAKwU,SAAU,EAIfxU,KAAKyU,QAAU,GAIfzU,KAAK0U,SAAW,GAChB1U,KAAK2U,OAASN,GACTE,GAAYF,IACfrU,KAAKuB,OAAS8S,EAAkBO,SAAWP,EAAkBO,OAAS,KAAKjF,KACzE3P,MACE,EAER,CACI6U,aACF,OAAO7U,KAAKwU,OACd,CACAM,IAAI5K,GACF,GAAIlK,KAAKwU,QAAS,CAChB,MAAMO,EAAqBV,EAC3B,IAEE,OADAA,EAAoBrU,KACbkK,GACT,CAAE,QACAmK,EAAoBU,CACtB,CACF,MAAW,CAGb,CAKAC,KACEX,EAAoBrU,IACtB,CAKAiV,MACEZ,EAAoBrU,KAAK2U,MAC3B,CACAO,KAAKC,GACH,GAAInV,KAAKwU,QAAS,CAChB,IAAI5Q,EAAGwR,EACP,IAAKxR,EAAI,EAAGwR,EAAIpV,KAAKyU,QAAQnT,OAAQsC,EAAIwR,EAAGxR,IAC1C5D,KAAKyU,QAAQ7Q,GAAGsR,OAElB,IAAKtR,EAAI,EAAGwR,EAAIpV,KAAK0U,SAASpT,OAAQsC,EAAIwR,EAAGxR,IAC3C5D,KAAK0U,SAAS9Q,KAEhB,GAAI5D,KAAK4U,OACP,IAAKhR,EAAI,EAAGwR,EAAIpV,KAAK4U,OAAOtT,OAAQsC,EAAIwR,EAAGxR,IACzC5D,KAAK4U,OAAOhR,GAAGsR,MAAK,GAGxB,IAAKlV,KAAKuU,UAAYvU,KAAK2U,SAAWQ,EAAY,CAChD,MAAME,EAAOrV,KAAK2U,OAAOC,OAAOU,MAC5BD,GAAQA,IAASrV,OACnBA,KAAK2U,OAAOC,OAAO5U,KAAKuB,OAAS8T,EACjCA,EAAK9T,MAAQvB,KAAKuB,MAEtB,CACAvB,KAAK2U,YAAS,EACd3U,KAAKwU,SAAU,CACjB,CACF,EAEF,SAASe,EAAYhB,GACnB,OAAO,IAAID,EAAYC,EACzB,CACA,SAASiB,EAAkBC,EAAQC,EAAQrB,GACrCqB,GAASA,EAAMb,QACjBa,EAAMjB,QAAQ9E,KAAK8F,EAEvB,CACA,SAASE,IACP,OAAOtB,CACT,CACA,SAASuB,EAAe1L,GAClBmK,GACFA,EAAkBK,SAAS/E,KAAKzF,EAMpC,CAEA,MAAM2L,EAAapB,IACjB,MAAMqB,EAAM,IAAIC,IAAItB,GAGpB,OAFAqB,EAAIE,EAAI,EACRF,EAAIrH,EAAI,EACDqH,CAAG,EAENG,EAAcH,IAASA,EAAIE,EAAIE,GAAc,EAC7CC,EAAcL,IAASA,EAAIrH,EAAIyH,GAAc,EAC7CE,EAAiBA,EAAGC,WACxB,GAAIA,EAAK/U,OACP,IAAK,IAAIsC,EAAI,EAAGA,EAAIyS,EAAK/U,OAAQsC,IAC/ByS,EAAKzS,GAAGoS,GAAKE,CAEjB,EAEII,EAAsBb,IAC1B,MAAM,KAAEY,GAASZ,EACjB,GAAIY,EAAK/U,OAAQ,CACf,IAAIiV,EAAM,EACV,IAAK,IAAI3S,EAAI,EAAGA,EAAIyS,EAAK/U,OAAQsC,IAAK,CACpC,MAAMkS,EAAMO,EAAKzS,GACbqS,EAAWH,KAASK,EAAWL,GACjCA,EAAIU,OAAOf,GAEXY,EAAKE,KAAST,EAEhBA,EAAIE,IAAME,EACVJ,EAAIrH,IAAMyH,CACZ,CACAG,EAAK/U,OAASiV,CAChB,GAGIE,EAA4B,IAAIvK,QACtC,IAAIwK,EAAmB,EACnBR,EAAa,EACjB,MAAMS,EAAgB,GACtB,IAAIC,EACJ,MAAMC,EAAc3F,OAA+D,IAC7E4F,EAAsB5F,OAAuE,IACnG,MAAM6F,EACJxL,YAAYrB,EAAI8M,EAAY,KAAMtB,GAChC1V,KAAKkK,GAAKA,EACVlK,KAAKgX,UAAYA,EACjBhX,KAAK6U,QAAS,EACd7U,KAAKqW,KAAO,GACZrW,KAAK2U,YAAS,EACda,EAAkBxV,KAAM0V,EAC1B,CACAZ,MACE,IAAK9U,KAAK6U,OACR,OAAO7U,KAAKkK,KAEd,IAAIyK,EAASiC,EACTK,EAAkBC,EACtB,MAAOvC,EAAQ,CACb,GAAIA,IAAW3U,KACb,OAEF2U,EAASA,EAAOA,MAClB,CACA,IAUE,OATA3U,KAAK2U,OAASiC,EACdA,EAAe5W,KACfkX,GAAc,EACdhB,EAAa,KAAOQ,EAChBA,GAAoBC,EACtBP,EAAepW,MAEfmX,EAAcnX,MAETA,KAAKkK,IACd,CAAE,QACIwM,GAAoBC,GACtBL,EAAmBtW,MAErBkW,EAAa,KAAOQ,EACpBE,EAAe5W,KAAK2U,OACpBuC,EAAcD,EACdjX,KAAK2U,YAAS,EACV3U,KAAKoX,WACPpX,KAAKkV,MAET,CACF,CACAA,OACM0B,IAAiB5W,KACnBA,KAAKoX,WAAY,EACRpX,KAAK6U,SACdsC,EAAcnX,MACVA,KAAKqX,QACPrX,KAAKqX,SAEPrX,KAAK6U,QAAS,EAElB,EAEF,SAASsC,EAAcG,GACrB,MAAM,KAAEjB,GAASiB,EACjB,GAAIjB,EAAK/U,OAAQ,CACf,IAAK,IAAIsC,EAAI,EAAGA,EAAIyS,EAAK/U,OAAQsC,IAC/ByS,EAAKzS,GAAG4S,OAAOc,GAEjBjB,EAAK/U,OAAS,CAChB,CACF,CACA,SAASmU,EAAOvL,EAAI9F,GACd8F,EAAGuL,SACLvL,EAAKA,EAAGuL,OAAOvL,IAEjB,MAAMqN,EAAU,IAAIR,EAAe7M,GAC/B9F,KACFoT,EAAAA,EAAAA,IAAOD,EAASnT,GACZA,EAAQsR,OACVF,EAAkB+B,EAASnT,EAAQsR,QAElCtR,GAAYA,EAAQqT,MACvBF,EAAQzC,MAEV,MAAM4C,EAASH,EAAQzC,IAAIzL,KAAKkO,GAEhC,OADAG,EAAOjC,OAAS8B,EACTG,CACT,CACA,SAASxC,EAAKwC,GACZA,EAAOjC,OAAOP,MAChB,CACA,IAAIgC,GAAc,EAClB,MAAMS,EAAa,GACnB,SAASC,IACPD,EAAWhI,KAAKuH,GAChBA,GAAc,CAChB,CAKA,SAASW,IACP,MAAMxC,EAAOsC,EAAWrC,MACxB4B,OAAuB,IAAT7B,GAAyBA,CACzC,CACA,SAASyC,EAAMvU,EAAQgJ,EAAMxJ,GAC3B,GAAImU,GAAeN,EAAc,CAC/B,IAAImB,EAAUtB,EAAU7R,IAAIrB,GACvBwU,GACHtB,EAAU9K,IAAIpI,EAAQwU,EAA0B,IAAIC,KAEtD,IAAIlC,EAAMiC,EAAQnT,IAAI7B,GACjB+S,GACHiC,EAAQpM,IAAI5I,EAAK+S,EAAMD,KAEzB,MAAMoC,OAAsG,EAC5GC,EAAapC,EAAKmC,EACpB,CACF,CACA,SAASC,EAAapC,EAAKqC,GACzB,IAAIC,GAAe,EACf1B,GAAoBC,EACjBR,EAAWL,KACdA,EAAIrH,GAAKyH,EACTkC,GAAgBnC,EAAWH,IAG7BsC,GAAgBtC,EAAIlK,IAAIgL,GAEtBwB,IACFtC,EAAIuC,IAAIzB,GACRA,EAAaP,KAAK1G,KAAKmG,GAY3B,CACA,SAASwC,EAAQ/U,EAAQgJ,EAAMxJ,EAAKwV,EAAUC,EAAUC,GACtD,MAAMV,EAAUtB,EAAU7R,IAAIrB,GAC9B,IAAKwU,EACH,OAEF,IAAI1B,EAAO,GACX,GAAa,UAAT9J,EACF8J,EAAO,IAAI0B,EAAQW,eACd,GAAY,WAAR3V,IAAoBpB,EAAAA,EAAAA,IAAQ4B,GAAS,CAC9C,MAAMoV,EAAYC,OAAOL,GACzBR,EAAQc,SAAQ,CAAC/C,EAAKgD,MACP,WAATA,GAAqBA,GAAQH,IAC/BtC,EAAK1G,KAAKmG,EACZ,GAEJ,MAIE,YAHY,IAAR/S,GACFsT,EAAK1G,KAAKoI,EAAQnT,IAAI7B,IAEhBwJ,GACN,IAAK,OACE5K,EAAAA,EAAAA,IAAQ4B,IAKFwV,EAAAA,EAAAA,IAAahW,IACtBsT,EAAK1G,KAAKoI,EAAQnT,IAAI,YALtByR,EAAK1G,KAAKoI,EAAQnT,IAAIiS,KAClBmC,EAAAA,EAAAA,IAAMzV,IACR8S,EAAK1G,KAAKoI,EAAQnT,IAAIkS,KAK1B,MACF,IAAK,UACEnV,EAAAA,EAAAA,IAAQ4B,KACX8S,EAAK1G,KAAKoI,EAAQnT,IAAIiS,KAClBmC,EAAAA,EAAAA,IAAMzV,IACR8S,EAAK1G,KAAKoI,EAAQnT,IAAIkS,KAG1B,MACF,IAAK,OACCkC,EAAAA,EAAAA,IAAMzV,IACR8S,EAAK1G,KAAKoI,EAAQnT,IAAIiS,IAExB,MAIN,GAAoB,IAAhBR,EAAK/U,OACH+U,EAAK,IAIL4C,EAAe5C,EAAK,QAGnB,CACL,MAAM5B,EAAU,GAChB,IAAK,MAAMqB,KAAOO,EACZP,GACFrB,EAAQ9E,QAAQmG,GAMlBmD,EAAepD,EAAUpB,GAE7B,CACF,CACA,SAASwE,EAAenD,EAAKqC,GAC3B,MAAM1D,GAAU9S,EAAAA,EAAAA,IAAQmU,GAAOA,EAAM,IAAIA,GACzC,IAAK,MAAMwB,KAAW7C,EAChB6C,EAAQ4B,UACVC,EAAc7B,EAASa,GAG3B,IAAK,MAAMb,KAAW7C,EACf6C,EAAQ4B,UACXC,EAAc7B,EAASa,EAG7B,CACA,SAASgB,EAAc7B,EAASa,IAC1Bb,IAAYV,GAAgBU,EAAQ8B,gBAIlC9B,EAAQN,UACVM,EAAQN,YAERM,EAAQxC,MAGd,CACA,SAASuE,EAAmBvV,EAAQf,GAClC,IAAIuW,EACJ,OAAuC,OAA/BA,EAAK7C,EAAU7R,IAAId,SAAmB,EAASwV,EAAG1U,IAAI7B,EAChE,CAEA,MAAMwW,GAAqCC,EAAAA,EAAAA,IAAS,+BAC9CC,EAAiB,IAAI1D,IACTlU,OAAO4N,oBAAoByB,QAAQwI,QAAQ3W,GAAgB,cAARA,GAA+B,WAARA,IAAkB4W,KAAK5W,GAAQmO,OAAOnO,KAAM2W,OAAOhI,EAAAA,KAEzIkI,EAAwBC,IACxBC,EAA6BD,GAAa,GAAO,GACjDE,EAA8BF,GAAa,GAC3CG,EAAqCH,GAAa,GAAM,GACxDI,EAAwCC,IAC9C,SAASA,IACP,MAAMC,EAAmB,CAAC,EAuB1B,MAtBA,CAAC,WAAY,UAAW,eAAetB,SAAS9V,IAC9CoX,EAAiBpX,GAAO,YAAYqX,GAClC,MAAMC,EAAMC,GAAMta,MAClB,IAAK,IAAI4D,EAAI,EAAGwR,EAAIpV,KAAKsB,OAAQsC,EAAIwR,EAAGxR,IACtCkU,EAAMuC,EAAK,MAAOzW,EAAI,IAExB,MAAM2W,EAAMF,EAAItX,MAAQqX,GACxB,OAAa,IAATG,IAAsB,IAARA,EACTF,EAAItX,MAAQqX,EAAKT,IAAIW,KAErBC,CAEX,CAAC,IAEH,CAAC,OAAQ,MAAO,QAAS,UAAW,UAAU1B,SAAS9V,IACrDoX,EAAiBpX,GAAO,YAAYqX,GAClCxC,IACA,MAAM2C,EAAMD,GAAMta,MAAM+C,GAAK2G,MAAM1J,KAAMoa,GAEzC,OADAvC,IACO0C,CACT,CAAC,IAEIJ,CACT,CACA,SAAS7Q,EAAevG,GACtB,MAAM2K,EAAM4M,GAAMta,MAElB,OADA8X,EAAMpK,EAAK,MAAO3K,GACX2K,EAAIpE,eAAevG,EAC5B,CACA,SAAS8W,EAAaW,GAAc,EAAOC,GAAU,GACnD,OAAO,SAAclX,EAAQR,EAAK2X,GAChC,GAAY,mBAAR3X,EACF,OAAQyX,EACH,GAAY,mBAARzX,EACT,OAAOyX,EACF,GAAY,kBAARzX,EACT,OAAO0X,EACF,GAAY,YAAR1X,GAAqB2X,KAAcF,EAAcC,EAAUE,GAAqBC,GAAcH,EAAUI,GAAqBC,IAAalW,IAAIrB,GACvJ,OAAOA,EAET,MAAMwX,GAAgBpZ,EAAAA,EAAAA,IAAQ4B,GAC9B,IAAKiX,EAAa,CAChB,GAAIO,IAAiB5X,EAAAA,EAAAA,IAAO8W,EAAuBlX,GACjD,OAAOiY,QAAQpW,IAAIqV,EAAuBlX,EAAK2X,GAEjD,GAAY,mBAAR3X,EACF,OAAOuG,CAEX,CACA,MAAMiR,EAAMS,QAAQpW,IAAIrB,EAAQR,EAAK2X,GACrC,QAAIhJ,EAAAA,EAAAA,IAAS3O,GAAO0W,EAAe7N,IAAI7I,GAAOwW,EAAmBxW,IACxDwX,GAEJC,GACH1C,EAAMvU,EAAQ,MAAOR,GAEnB0X,EACKF,EAELU,GAAMV,GACDQ,IAAiBhC,EAAAA,EAAAA,IAAahW,GAAOwX,EAAMA,EAAInZ,OAEpDT,EAAAA,EAAAA,IAAS4Z,GACJC,EAAcU,GAASX,GAAOY,GAASZ,GAEzCA,EACT,CACF,CACA,MAAMa,EAAwBC,IACxBC,EAA6BD,GAAa,GAChD,SAASA,EAAaZ,GAAU,GAC9B,OAAO,SAAclX,EAAQR,EAAK3B,EAAOsZ,GACvC,IAAIlC,EAAWjV,EAAOR,GACtB,GAAIwY,GAAW/C,IAAayC,GAAMzC,KAAcyC,GAAM7Z,GACpD,OAAO,EAET,IAAKqZ,IACEe,GAAUpa,IAAWma,GAAWna,KACnCoX,EAAW8B,GAAM9B,GACjBpX,EAAQkZ,GAAMlZ,MAEXO,EAAAA,EAAAA,IAAQ4B,IAAW0X,GAAMzC,KAAcyC,GAAM7Z,IAEhD,OADAoX,EAASpX,MAAQA,GACV,EAGX,MAAMqa,GAAS9Z,EAAAA,EAAAA,IAAQ4B,KAAWwV,EAAAA,EAAAA,IAAahW,GAAO6V,OAAO7V,GAAOQ,EAAOjC,QAAS6B,EAAAA,EAAAA,IAAOI,EAAQR,GAC7FE,EAAS+X,QAAQrP,IAAIpI,EAAQR,EAAK3B,EAAOsZ,GAQ/C,OAPInX,IAAW+W,GAAMI,KACde,GAEMC,EAAAA,EAAAA,IAAWta,EAAOoX,IAC3BF,EAAQ/U,EAAQ,MAAOR,EAAK3B,EAAOoX,GAFnCF,EAAQ/U,EAAQ,MAAOR,EAAK3B,IAKzB6B,CACT,CACF,CACA,SAAS0Y,EAAepY,EAAQR,GAC9B,MAAM0Y,GAAStY,EAAAA,EAAAA,IAAOI,EAAQR,GACxByV,EAAWjV,EAAOR,GAClBE,EAAS+X,QAAQW,eAAepY,EAAQR,GAI9C,OAHIE,GAAUwY,GACZnD,EAAQ/U,EAAQ,SAAUR,OAAK,EAAQyV,GAElCvV,CACT,CACA,SAAS2Y,EAAMrY,EAAQR,GACrB,MAAME,EAAS+X,QAAQpP,IAAIrI,EAAQR,GAInC,OAHK2O,EAAAA,EAAAA,IAAS3O,IAAS0W,EAAe7N,IAAI7I,IACxC+U,EAAMvU,EAAQ,MAAOR,GAEhBE,CACT,CACA,SAASG,EAAQG,GAEf,OADAuU,EAAMvU,EAAQ,WAAW5B,EAAAA,EAAAA,IAAQ4B,GAAU,SAAWsT,GAC/CmE,QAAQ5X,QAAQG,EACzB,CACA,MAAMsY,EAAkB,CACtBjX,IAAKgV,EACLjO,IAAKyP,EACLO,iBACA/P,IAAKgQ,EACLxY,WAEI0Y,EAAmB,CACvBlX,IAAKmV,EACLpO,IAAIpI,EAAQR,GAOV,OAAO,CACT,EACA4Y,eAAepY,EAAQR,GAOrB,OAAO,CACT,GAEIgZ,IAA0CvE,EAAAA,EAAAA,IAC9C,CAAC,EACDqE,EACA,CACEjX,IAAKkV,EACLnO,IAAK2P,IAGHU,IAA0CxE,EAAAA,EAAAA,IAC9C,CAAC,EACDsE,EACA,CACElX,IAAKoV,IAIHiC,GAAa7a,GAAUA,EACvB8a,GAAYC,GAAMnB,QAAQoB,eAAeD,GAC/C,SAASvX,GAAIrB,EAAQR,EAAKwY,GAAa,EAAOC,GAAY,GACxDjY,EAASA,EAAO,WAChB,MAAM8Y,EAAY/B,GAAM/W,GAClB+Y,EAAShC,GAAMvX,GAChBwY,IACCxY,IAAQuZ,GACVxE,EAAMuE,EAAW,MAAOtZ,GAE1B+U,EAAMuE,EAAW,MAAOC,IAE1B,MAAQ1Q,IAAK2Q,GAASL,GAASG,GACzBG,EAAOhB,EAAYS,GAAYV,EAAakB,GAAaC,GAC/D,OAAIH,EAAK/S,KAAK6S,EAAWtZ,GAChByZ,EAAKjZ,EAAOqB,IAAI7B,IACdwZ,EAAK/S,KAAK6S,EAAWC,GACvBE,EAAKjZ,EAAOqB,IAAI0X,SACd/Y,IAAW8Y,GACpB9Y,EAAOqB,IAAI7B,GAEf,CACA,SAAS6I,GAAI7I,EAAKwY,GAAa,GAC7B,MAAMhY,EAASvD,KAAK,WACdqc,EAAY/B,GAAM/W,GAClB+Y,EAAShC,GAAMvX,GAOrB,OANKwY,IACCxY,IAAQuZ,GACVxE,EAAMuE,EAAW,MAAOtZ,GAE1B+U,EAAMuE,EAAW,MAAOC,IAEnBvZ,IAAQuZ,EAAS/Y,EAAOqI,IAAI7I,GAAOQ,EAAOqI,IAAI7I,IAAQQ,EAAOqI,IAAI0Q,EAC1E,CACA,SAASK,GAAKpZ,EAAQgY,GAAa,GAGjC,OAFAhY,EAASA,EAAO,YACfgY,GAAczD,EAAMwC,GAAM/W,GAAS,UAAWsT,GACxCmE,QAAQpW,IAAIrB,EAAQ,OAAQA,EACrC,CACA,SAAS8U,GAAIjX,GACXA,EAAQkZ,GAAMlZ,GACd,MAAMmC,EAAS+W,GAAMta,MACfkQ,EAAQgM,GAAS3Y,GACjBkY,EAASvL,EAAMtE,IAAIpC,KAAKjG,EAAQnC,GAKtC,OAJKqa,IACHlY,EAAO8U,IAAIjX,GACXkX,EAAQ/U,EAAQ,MAAOnC,EAAOA,IAEzBpB,IACT,CACA,SAAS2L,GAAI5I,EAAK3B,GAChBA,EAAQkZ,GAAMlZ,GACd,MAAMmC,EAAS+W,GAAMta,OACb4L,IAAK2Q,EAAM3X,IAAKgY,GAASV,GAAS3Y,GAC1C,IAAIkY,EAASc,EAAK/S,KAAKjG,EAAQR,GAC1B0Y,IACH1Y,EAAMuX,GAAMvX,GACZ0Y,EAASc,EAAK/S,KAAKjG,EAAQR,IAI7B,MAAMyV,EAAWoE,EAAKpT,KAAKjG,EAAQR,GAOnC,OANAQ,EAAOoI,IAAI5I,EAAK3B,GACXqa,GAEMC,EAAAA,EAAAA,IAAWta,EAAOoX,IAC3BF,EAAQ/U,EAAQ,MAAOR,EAAK3B,EAAOoX,GAFnCF,EAAQ/U,EAAQ,MAAOR,EAAK3B,GAIvBpB,IACT,CACA,SAAS6c,GAAY9Z,GACnB,MAAMQ,EAAS+W,GAAMta,OACb4L,IAAK2Q,EAAM3X,IAAKgY,GAASV,GAAS3Y,GAC1C,IAAIkY,EAASc,EAAK/S,KAAKjG,EAAQR,GAC1B0Y,IACH1Y,EAAMuX,GAAMvX,GACZ0Y,EAASc,EAAK/S,KAAKjG,EAAQR,IAI7B,MAAMyV,EAAWoE,EAAOA,EAAKpT,KAAKjG,EAAQR,QAAO,EAC3CE,EAASM,EAAOiT,OAAOzT,GAI7B,OAHI0Y,GACFnD,EAAQ/U,EAAQ,SAAUR,OAAK,EAAQyV,GAElCvV,CACT,CACA,SAAS6Z,KACP,MAAMvZ,EAAS+W,GAAMta,MACf+c,EAA2B,IAAhBxZ,EAAOoZ,KAClBlE,OAA4G,EAC5GxV,EAASM,EAAOuZ,QAItB,OAHIC,GACFzE,EAAQ/U,EAAQ,aAAS,OAAQ,EAAQkV,GAEpCxV,CACT,CACA,SAAS+Z,GAAczB,EAAYC,GACjC,OAAO,SAAiByB,EAAUC,GAChC,MAAMC,EAAWnd,KACXuD,EAAS4Z,EAAS,WAClBd,EAAY/B,GAAM/W,GAClBiZ,EAAOhB,EAAYS,GAAYV,EAAakB,GAAaC,GAE/D,OADCnB,GAAczD,EAAMuE,EAAW,UAAWxF,GACpCtT,EAAOsV,SAAQ,CAACzX,EAAO2B,IACrBka,EAASzT,KAAK0T,EAASV,EAAKpb,GAAQob,EAAKzZ,GAAMoa,IAE1D,CACF,CACA,SAASC,GAAqBpT,EAAQuR,EAAYC,GAChD,OAAO,YAAYpB,GACjB,MAAM7W,EAASvD,KAAK,WACdqc,EAAY/B,GAAM/W,GAClB8Z,GAAcrE,EAAAA,EAAAA,IAAMqD,GACpBiB,EAAoB,YAAXtT,GAAwBA,IAAWkH,OAAOkB,UAAYiL,EAC/DE,EAAuB,SAAXvT,GAAqBqT,EACjCG,EAAgBja,EAAOyG,MAAWoQ,GAClCoC,EAAOhB,EAAYS,GAAYV,EAAakB,GAAaC,GAM/D,OALCnB,GAAczD,EACbuE,EACA,UACAkB,EAAYzG,EAAsBD,GAE7B,CAEL4G,OACE,MAAM,MAAErc,EAAK,KAAEsc,GAASF,EAAcC,OACtC,OAAOC,EAAO,CAAEtc,QAAOsc,QAAS,CAC9Btc,MAAOkc,EAAS,CAACd,EAAKpb,EAAM,IAAKob,EAAKpb,EAAM,KAAOob,EAAKpb,GACxDsc,OAEJ,EAEA,CAACxM,OAAOkB,YACN,OAAOpS,IACT,EAEJ,CACF,CACA,SAAS2d,GAAqBpR,GAC5B,OAAO,YAAY6N,GAQjB,MAAgB,WAAT7N,GAA4BvM,IACrC,CACF,CACA,SAAS4d,KACP,MAAMC,EAA2B,CAC/BjZ,IAAI7B,GACF,OAAO6B,GAAI5E,KAAM+C,EACnB,EACI4Z,WACF,OAAOA,GAAK3c,KACd,EACA4L,OACAyM,OACA1M,OACA6K,OAAQqG,GACRC,SACAjE,QAASmE,IAAc,GAAO,IAE1Bc,EAA2B,CAC/BlZ,IAAI7B,GACF,OAAO6B,GAAI5E,KAAM+C,GAAK,GAAO,EAC/B,EACI4Z,WACF,OAAOA,GAAK3c,KACd,EACA4L,OACAyM,OACA1M,OACA6K,OAAQqG,GACRC,SACAjE,QAASmE,IAAc,GAAO,IAE1Be,EAA4B,CAChCnZ,IAAI7B,GACF,OAAO6B,GAAI5E,KAAM+C,GAAK,EACxB,EACI4Z,WACF,OAAOA,GAAK3c,MAAM,EACpB,EACA4L,IAAI7I,GACF,OAAO6I,GAAIpC,KAAKxJ,KAAM+C,GAAK,EAC7B,EACAsV,IAAKsF,GAAqB,OAC1BhS,IAAKgS,GAAqB,OAC1BnH,OAAQmH,GAAqB,UAC7Bb,MAAOa,GAAqB,SAC5B9E,QAASmE,IAAc,GAAM,IAEzBgB,EAAmC,CACvCpZ,IAAI7B,GACF,OAAO6B,GAAI5E,KAAM+C,GAAK,GAAM,EAC9B,EACI4Z,WACF,OAAOA,GAAK3c,MAAM,EACpB,EACA4L,IAAI7I,GACF,OAAO6I,GAAIpC,KAAKxJ,KAAM+C,GAAK,EAC7B,EACAsV,IAAKsF,GAAqB,OAC1BhS,IAAKgS,GAAqB,OAC1BnH,OAAQmH,GAAqB,UAC7Bb,MAAOa,GAAqB,SAC5B9E,QAASmE,IAAc,GAAM,IAEzBiB,EAAkB,CAAC,OAAQ,SAAU,UAAW/M,OAAOkB,UAuB7D,OAtBA6L,EAAgBpF,SAAS7O,IACvB6T,EAAyB7T,GAAUoT,GACjCpT,GACA,GACA,GAEF+T,EAA0B/T,GAAUoT,GAClCpT,GACA,GACA,GAEF8T,EAAyB9T,GAAUoT,GACjCpT,GACA,GACA,GAEFgU,EAAiChU,GAAUoT,GACzCpT,GACA,GACA,EACD,IAEI,CACL6T,EACAE,EACAD,EACAE,EAEJ,CACA,MACEE,GACAC,GACAC,GACAC,IACkBT,KACpB,SAASU,GAA4B/C,EAAYd,GAC/C,MAAMN,EAAmBM,EAAUc,EAAa8C,GAAkCD,GAA0B7C,EAAa4C,GAA2BD,GACpJ,MAAO,CAAC3a,EAAQR,EAAK2X,IACP,mBAAR3X,GACMwY,EACS,mBAARxY,EACFwY,EACU,YAARxY,EACFQ,EAEFyX,QAAQpW,KACbzB,EAAAA,EAAAA,IAAOgX,EAAkBpX,IAAQA,KAAOQ,EAAS4W,EAAmB5W,EACpER,EACA2X,EAGN,CACA,MAAM6D,GAA4B,CAChC3Z,IAAqB0Z,IAA4B,GAAO,IAEpDE,GAA4B,CAChC5Z,IAAqB0Z,IAA4B,GAAO,IAEpDG,GAA6B,CACjC7Z,IAAqB0Z,IAA4B,GAAM,IAEnDI,GAAoC,CACxC9Z,IAAqB0Z,IAA4B,GAAM,IAYzD,MAAMxD,GAA8B,IAAI5O,QAClC2O,GAAqC,IAAI3O,QACzC0O,GAA8B,IAAI1O,QAClCyO,GAAqC,IAAIzO,QAC/C,SAASyS,GAAcC,GACrB,OAAQA,GACN,IAAK,SACL,IAAK,QACH,OAAO,EACT,IAAK,MACL,IAAK,MACL,IAAK,UACL,IAAK,UACH,OAAO,EACT,QACE,OAAO,EAEb,CACA,SAASC,GAAczd,GACrB,OAAOA,EAAM,cAAgBS,OAAOid,aAAa1d,GAAS,EAAkBud,IAAcI,EAAAA,EAAAA,IAAU3d,GACtG,CACA,SAAS+Z,GAAS5X,GAChB,OAAIgY,GAAWhY,GACNA,EAEFyb,GACLzb,GACA,EACAsY,EACA0C,GACAzD,GAEJ,CACA,SAASmE,GAAgB1b,GACvB,OAAOyb,GACLzb,GACA,EACAwY,GACAyC,GACA3D,GAEJ,CACA,SAASK,GAAS3X,GAChB,OAAOyb,GACLzb,GACA,EACAuY,EACA2C,GACA7D,GAEJ,CACA,SAASsE,GAAgB3b,GACvB,OAAOyb,GACLzb,GACA,EACAyY,GACA0C,GACA/D,GAEJ,CACA,SAASqE,GAAqBzb,EAAQiX,EAAa2E,EAAcC,EAAoBC,GACnF,KAAK1e,EAAAA,EAAAA,IAAS4C,GAIZ,OAAOA,EAET,GAAIA,EAAO,cAAgBiX,IAAejX,EAAO,mBAC/C,OAAOA,EAET,MAAM+b,EAAgBD,EAASza,IAAIrB,GACnC,GAAI+b,EACF,OAAOA,EAET,MAAMC,EAAaV,GAActb,GACjC,GAAmB,IAAfgc,EACF,OAAOhc,EAET,MAAMic,EAAQ,IAAIC,MAChBlc,EACe,IAAfgc,EAAoCH,EAAqBD,GAG3D,OADAE,EAAS1T,IAAIpI,EAAQic,GACdA,CACT,CACA,SAASE,GAAWte,GAClB,OAAIma,GAAWna,GACNse,GAAWte,EAAM,eAEhBA,IAASA,EAAM,kBAC3B,CACA,SAASma,GAAWna,GAClB,SAAUA,IAASA,EAAM,kBAC3B,CACA,SAASoa,GAAUpa,GACjB,SAAUA,IAASA,EAAM,iBAC3B,CACA,SAASue,GAAQve,GACf,OAAOse,GAAWte,IAAUma,GAAWna,EACzC,CACA,SAASkZ,GAAM6C,GACb,MAAMyC,EAAMzC,GAAYA,EAAS,WACjC,OAAOyC,EAAMtF,GAAMsF,GAAOzC,CAC5B,CACA,SAAS0C,GAAQze,GAEf,OADA0e,EAAAA,EAAAA,IAAI1e,EAAO,YAAY,GAChBA,CACT,CACA,MAAMsb,GAActb,IAAUT,EAAAA,EAAAA,IAASS,GAAS+Z,GAAS/Z,GAASA,EAC5Dqb,GAAcrb,IAAUT,EAAAA,EAAAA,IAASS,GAAS8Z,GAAS9Z,GAASA,EAElE,SAAS2e,GAAcC,GACjB9I,GAAeN,IACjBoJ,EAAO1F,GAAM0F,GAQX9H,EAAa8H,EAAKlK,MAAQkK,EAAKlK,IAAMD,MAG3C,CACA,SAASoK,GAAgBD,EAAME,GAC7BF,EAAO1F,GAAM0F,GACb,MAAMlK,EAAMkK,EAAKlK,IACbA,GASAmD,EAAenD,EAGrB,CACA,SAASmF,GAAMkF,GACb,SAAUA,IAAqB,IAAhBA,EAAEC,UACnB,CACA,SAASC,GAAIjf,GACX,OAAOkf,GAAUlf,GAAO,EAC1B,CACA,SAASmf,GAAWnf,GAClB,OAAOkf,GAAUlf,GAAO,EAC1B,CACA,SAASkf,GAAUE,EAAU/F,GAC3B,OAAIQ,GAAMuF,GACDA,EAEF,IAAIC,GAAQD,EAAU/F,EAC/B,CACA,MAAMgG,GACJlV,YAAYnK,EAAOsf,GACjB1gB,KAAK0gB,cAAgBA,EACrB1gB,KAAK8V,SAAM,EACX9V,KAAKogB,WAAY,EACjBpgB,KAAK2gB,UAAYD,EAAgBtf,EAAQkZ,GAAMlZ,GAC/CpB,KAAK4gB,OAASF,EAAgBtf,EAAQsb,GAAWtb,EACnD,CACIA,YAEF,OADA2e,GAAc/f,MACPA,KAAK4gB,MACd,CACIxf,UAAM8e,GACR,MAAMW,EAAiB7gB,KAAK0gB,eAAiBlF,GAAU0E,IAAW3E,GAAW2E,GAC7EA,EAASW,EAAiBX,EAAS5F,GAAM4F,IACrCxE,EAAAA,EAAAA,IAAWwE,EAAQlgB,KAAK2gB,aAC1B3gB,KAAK2gB,UAAYT,EACjBlgB,KAAK4gB,OAASC,EAAiBX,EAASxD,GAAWwD,GACnDD,GAAgBjgB,KAAMkgB,GAE1B,EAEF,SAASY,GAAWd,GAClBC,GAAgBD,OAA+D,EACjF,CACA,SAASe,GAAMf,GACb,OAAO/E,GAAM+E,GAAQA,EAAK5e,MAAQ4e,CACpC,CACA,SAASgB,GAAQxd,GACf,OAAOyd,EAAAA,EAAAA,IAAWzd,GAAUA,IAAWud,GAAMvd,EAC/C,CACA,MAAM0d,GAAwB,CAC5Btc,IAAKA,CAACrB,EAAQR,EAAK2X,IAAaqG,GAAM/F,QAAQpW,IAAIrB,EAAQR,EAAK2X,IAC/D/O,IAAKA,CAACpI,EAAQR,EAAK3B,EAAOsZ,KACxB,MAAMlC,EAAWjV,EAAOR,GACxB,OAAIkY,GAAMzC,KAAcyC,GAAM7Z,IAC5BoX,EAASpX,MAAQA,GACV,GAEA4Z,QAAQrP,IAAIpI,EAAQR,EAAK3B,EAAOsZ,EACzC,GAGJ,SAASyG,GAAUC,GACjB,OAAO1B,GAAW0B,GAAkBA,EAAiB,IAAI3B,MAAM2B,EAAgBF,GACjF,CACA,MAAMG,GACJ9V,YAAY7L,GACVM,KAAK8V,SAAM,EACX9V,KAAKogB,WAAY,EACjB,MAAM,IAAExb,EAAG,IAAE+G,GAAQjM,GACnB,IAAMqgB,GAAc/f,QACpB,IAAMigB,GAAgBjgB,QAExBA,KAAKshB,KAAO1c,EACZ5E,KAAKuhB,KAAO5V,CACd,CACIvK,YACF,OAAOpB,KAAKshB,MACd,CACIlgB,UAAM8e,GACRlgB,KAAKuhB,KAAKrB,EACZ,EAEF,SAASsB,GAAU9hB,GACjB,OAAO,IAAI2hB,GAAc3hB,EAC3B,CACA,SAAS+hB,GAAO3d,GAId,MAAM4d,GAAM/f,EAAAA,EAAAA,IAAQmC,GAAU,IAAI6I,MAAM7I,EAAOxC,QAAU,CAAC,EAC1D,IAAK,MAAMyB,KAAOe,EAChB4d,EAAI3e,GAAO4e,GAAc7d,EAAQf,GAEnC,OAAO2e,CACT,CACA,MAAME,GACJrW,YAAYsW,EAASC,EAAMC,GACzB/hB,KAAK6hB,QAAUA,EACf7hB,KAAK8hB,KAAOA,EACZ9hB,KAAK+hB,cAAgBA,EACrB/hB,KAAKogB,WAAY,CACnB,CACIhf,YACF,MAAMkP,EAAMtQ,KAAK6hB,QAAQ7hB,KAAK8hB,MAC9B,YAAe,IAARxR,EAAiBtQ,KAAK+hB,cAAgBzR,CAC/C,CACIlP,UAAM8e,GACRlgB,KAAK6hB,QAAQ7hB,KAAK8hB,MAAQ5B,CAC5B,CACIpK,UACF,OAAOuD,EAAmBiB,GAAMta,KAAK6hB,SAAU7hB,KAAK8hB,KACtD,EAEF,MAAME,GACJzW,YAAY0W,GACVjiB,KAAKiiB,QAAUA,EACfjiB,KAAKogB,WAAY,EACjBpgB,KAAKkiB,gBAAiB,CACxB,CACI9gB,YACF,OAAOpB,KAAKiiB,SACd,EAEF,SAASE,GAAM3e,EAAQT,EAAKqf,GAC1B,OAAInH,GAAMzX,GACDA,GACEyd,EAAAA,EAAAA,IAAWzd,GACb,IAAIwe,GAAcxe,IAChB7C,EAAAA,EAAAA,IAAS6C,IAAWX,UAAUvB,OAAS,EACzCqgB,GAAcne,EAAQT,EAAKqf,GAE3B/B,GAAI7c,EAEf,CACA,SAASme,GAAcne,EAAQT,EAAKqf,GAClC,MAAM9R,EAAM9M,EAAOT,GACnB,OAAOkY,GAAM3K,GAAOA,EAAM,IAAIsR,GAC5Bpe,EACAT,EACAqf,EAEJ,CAEA,MAAMC,GACJ9W,YAAY2C,EAAQoU,EAAS/G,EAAYgH,GACvCviB,KAAKsiB,QAAUA,EACftiB,KAAK8V,SAAM,EACX9V,KAAKogB,WAAY,EACjBpgB,KAAK,mBAAoB,EACzBA,KAAKwiB,QAAS,EACdxiB,KAAKyV,OAAS,IAAIsB,EAAe7I,GAAQ,KAClClO,KAAKwiB,SACRxiB,KAAKwiB,QAAS,EACdvC,GAAgBjgB,MAClB,IAEFA,KAAKyV,OAAOyD,SAAWlZ,KACvBA,KAAKyV,OAAOZ,OAAS7U,KAAKyiB,YAAcF,EACxCviB,KAAK,kBAAoBub,CAC3B,CACIna,YACF,MAAMrB,EAAOua,GAAMta,MAMnB,OALA+f,GAAchgB,IACVA,EAAKyiB,QAAWziB,EAAK0iB,aACvB1iB,EAAKyiB,QAAS,EACdziB,EAAK6gB,OAAS7gB,EAAK0V,OAAOX,OAErB/U,EAAK6gB,MACd,CACIxf,UAAMmX,GACRvY,KAAKsiB,QAAQ/J,EACf,EAEF,SAASW,GAASwJ,EAAiBC,EAAcJ,GAAQ,GACvD,IAAIrU,EACAC,EACJ,MAAMyU,GAAa3B,EAAAA,EAAAA,IAAWyB,GAC1BE,GACF1U,EAASwU,EACTvU,EAEI0U,EAAAA,KAEJ3U,EAASwU,EAAgB9d,IACzBuJ,EAASuU,EAAgB/W,KAE3B,MAAMmX,EAAO,IAAIT,GAAgBnU,EAAQC,EAAQyU,IAAezU,EAAQoU,GAKxE,OAAOO,CACT,C,utCCrpCA,SAAStJ,EAAQuJ,EAAKC,GACpB,MAAMrJ,EAAsB9X,OAAOohB,OAAO,MACpCC,EAAOH,EAAIvb,MAAM,KACvB,IAAK,IAAI5D,EAAI,EAAGA,EAAIsf,EAAK5hB,OAAQsC,IAC/B+V,EAAIuJ,EAAKtf,KAAM,EAEjB,OAAOof,EAAoB1S,KAAUqJ,EAAIrJ,EAAIjD,eAAkBiD,KAAUqJ,EAAIrJ,EAC/E,CAEA,MAAM6S,EAA4E,CAAC,EAC7EC,EAA4E,GAC5EP,EAAOA,OAEPQ,EAAKA,KAAM,EACXC,EAAO,YACPC,EAAQxgB,GAAQugB,EAAKrb,KAAKlF,GAC1BygB,EAAmBzgB,GAAQA,EAAI0gB,WAAW,aAC1CjM,EAAS3V,OAAO6hB,OAChBC,EAASA,CAACtJ,EAAKnZ,KACnB,MAAM0C,EAAIyW,EAAI5Y,QAAQP,GAClB0C,GAAK,GACPyW,EAAIuJ,OAAOhgB,EAAG,EAChB,EAEI0F,EAAiBzH,OAAOmH,UAAUM,eAClCnG,EAASA,CAACmN,EAAKvN,IAAQuG,EAAeE,KAAK8G,EAAKvN,GAChDpB,EAAUgL,MAAMhL,QAChBqX,EAAS1I,GAA8B,iBAAtBuT,EAAavT,GAC9BwT,EAASxT,GAA8B,iBAAtBuT,EAAavT,GAC9ByT,EAAUzT,GAA8B,kBAAtBuT,EAAavT,GAC/B0T,EAAY1T,GAA8B,oBAAtBuT,EAAavT,GACjC2Q,EAAc3Q,GAAuB,oBAARA,EAC7B2T,EAAY3T,GAAuB,kBAARA,EAC3BoB,EAAYpB,GAAuB,kBAARA,EAC3B3P,EAAY2P,GAAgB,OAARA,GAA+B,kBAARA,EAC3C4T,EAAa5T,GACV3P,EAAS2P,IAAQ2Q,EAAW3Q,EAAI6T,OAASlD,EAAW3Q,EAAI8T,OAE3DC,EAAiBxiB,OAAOmH,UAAU5G,SAClCyhB,EAAgBziB,GAAUijB,EAAe7a,KAAKpI,GAC9C2d,EAAa3d,GACVyiB,EAAaziB,GAAOkB,MAAM,GAAI,GAEjCgiB,EAAiBhU,GAA8B,oBAAtBuT,EAAavT,GACtCyI,EAAgBhW,GAAQkhB,EAASlhB,IAAgB,QAARA,GAA4B,MAAXA,EAAI,IAAc,GAAKwhB,SAASxhB,EAAK,MAAQA,EACvGyhB,EAAiChL,EAErC,uIAEIiL,EAAqCjL,EACzC,6EAEIkL,EAAuBxa,IAC3B,MAAMya,EAAwB9iB,OAAOohB,OAAO,MAC5C,OAAQF,IACN,MAAM6B,EAAMD,EAAM5B,GAClB,OAAO6B,IAAQD,EAAM5B,GAAO7Y,EAAG6Y,GAAK,CACrC,EAEG8B,EAAa,SACbC,EAAWJ,GAAqB3B,GAC7BA,EAAIpb,QAAQkd,GAAY,CAACE,EAAGzf,IAAMA,EAAIA,EAAE0f,cAAgB,OAE3DC,EAAc,aACdC,EAAYR,GACf3B,GAAQA,EAAIpb,QAAQsd,EAAa,OAAO5X,gBAErC8X,EAAaT,GAChB3B,GAAQA,EAAIqC,OAAO,GAAGJ,cAAgBjC,EAAIzgB,MAAM,KAE7C+iB,EAAeX,GAClB3B,GAAQA,EAAO,KAAIoC,EAAWpC,KAAU,KAErCrH,EAAaA,CAACta,EAAOoX,KAAc3W,OAAOyjB,GAAGlkB,EAAOoX,GACpD+M,EAAiBA,CAACC,EAAK3d,KAC3B,IAAK,IAAIjE,EAAI,EAAGA,EAAI4hB,EAAIlkB,OAAQsC,IAC9B4hB,EAAI5hB,GAAGiE,EACT,EAEIiY,EAAMA,CAACpS,EAAK3K,EAAK3B,KACrBS,OAAOG,eAAe0L,EAAK3K,EAAK,CAC9BkB,cAAc,EACdD,YAAY,EACZ5C,SACA,EAEEqkB,EAAiBnV,IACrB,MAAM7B,EAAIiX,WAAWpV,GACrB,OAAOqV,MAAMlX,GAAK6B,EAAM7B,CAAC,EAErBmX,EAAYtV,IAChB,MAAM7B,EAAIwV,EAAS3T,GAAOsI,OAAOtI,GAAOuV,IACxC,OAAOF,MAAMlX,GAAK6B,EAAM7B,CAAC,EAE3B,IAAIqX,EACJ,MAAMC,EAAgBA,IACbD,IAAgBA,EAAoC,qBAAfnb,WAA6BA,WAA6B,qBAAT5K,KAAuBA,KAAyB,qBAAX6K,OAAyBA,OAA2B,qBAAXrG,EAAAA,EAAyBA,EAAAA,EAAS,CAAC,GAOhN,MAAMyhB,EAAiB,CACrB,CAAC,GAAK,OACN,CAAC,GAAK,QACN,CAAC,GAAK,QACN,CAAC,GAAK,QACN,CAAC,IAAM,aACP,CAAC,IAAM,iBACP,CAAC,IAAM,kBACP,CAAC,KAAO,iBACR,CAAC,KAAO,mBACR,CAAC,KAAO,aACR,CAAC,MAAQ,gBACT,CAAC,MAAQ,oBACT,EAAE,GAAK,UACP,EAAE,GAAK,QASHC,EAAuB,2MACvBC,EAAwC1M,EAAQyM,GAEhDE,EAAQ,EACd,SAASC,EAAkB5iB,EAAQ6iB,EAAQ,EAAGC,EAAM9iB,EAAOlC,QACzD,IAAIilB,EAAQ/iB,EAAOgE,MAAM,WACzB,MAAMgf,EAAmBD,EAAM7M,QAAO,CAACqL,EAAG0B,IAAQA,EAAM,IAAM,IAC9DF,EAAQA,EAAM7M,QAAO,CAACqL,EAAG0B,IAAQA,EAAM,IAAM,IAC7C,IAAIC,EAAQ,EACZ,MAAMnM,EAAM,GACZ,IAAK,IAAI3W,EAAI,EAAGA,EAAI2iB,EAAMjlB,OAAQsC,IAEhC,GADA8iB,GAASH,EAAM3iB,GAAGtC,QAAUklB,EAAiB5iB,IAAM4iB,EAAiB5iB,GAAGtC,QAAU,GAC7EolB,GAASL,EAAO,CAClB,IAAK,IAAIM,EAAI/iB,EAAIuiB,EAAOQ,GAAK/iB,EAAIuiB,GAASG,EAAMI,EAAOC,IAAK,CAC1D,GAAIA,EAAI,GAAKA,GAAKJ,EAAMjlB,OACtB,SACF,MAAMslB,EAAOD,EAAI,EACjBpM,EAAI5K,KACD,GAAEiX,IAAO,IAAIC,OAAOnc,KAAK0G,IAAI,EAAI7Q,OAAOqmB,GAAMtlB,OAAQ,SAASilB,EAAMI,MAExE,MAAMG,EAAaP,EAAMI,GAAGrlB,OACtBylB,EAAmBP,EAAiBG,IAAMH,EAAiBG,GAAGrlB,QAAU,EAC9E,GAAIqlB,IAAM/iB,EAAG,CACX,MAAMojB,EAAMX,GAASK,GAASI,EAAaC,IACrCzlB,EAASoJ,KAAK0G,IAClB,EACAkV,EAAMI,EAAQI,EAAaE,EAAMV,EAAMD,GAEzC9L,EAAI5K,KAAM,SAAU,IAAIkX,OAAOG,GAAO,IAAIH,OAAOvlB,GACnD,MAAO,GAAIqlB,EAAI/iB,EAAG,CAChB,GAAI0iB,EAAMI,EAAO,CACf,MAAMplB,EAASoJ,KAAK0G,IAAI1G,KAAK2G,IAAIiV,EAAMI,EAAOI,GAAa,GAC3DvM,EAAI5K,KAAM,SAAU,IAAIkX,OAAOvlB,GACjC,CACAolB,GAASI,EAAaC,CACxB,CACF,CACA,KACF,CAEF,OAAOxM,EAAIxM,KAAK,KAClB,CAEA,SAASkZ,EAAe7lB,GACtB,GAAIO,EAAQP,GAAQ,CAClB,MAAMmZ,EAAM,CAAC,EACb,IAAK,IAAI3W,EAAI,EAAGA,EAAIxC,EAAME,OAAQsC,IAAK,CACrC,MAAMiP,EAAOzR,EAAMwC,GACbsjB,EAAajD,EAASpR,GAAQsU,GAAiBtU,GAAQoU,EAAepU,GAC5E,GAAIqU,EACF,IAAK,MAAMnkB,KAAOmkB,EAChB3M,EAAIxX,GAAOmkB,EAAWnkB,EAG5B,CACA,OAAOwX,CACT,CAAO,OAAI0J,EAAS7iB,IAETT,EAASS,GADXA,OACF,CAGT,CACA,MAAMgmB,EAAkB,gBAClBC,EAAsB,UACtBC,GAAiB,iBACvB,SAASH,GAAiBI,GACxB,MAAM7F,EAAM,CAAC,EAOb,OANA6F,EAAQ5f,QAAQ2f,GAAgB,IAAI9f,MAAM4f,GAAiBvO,SAAShG,IAClE,GAAIA,EAAM,CACR,MAAM2U,EAAM3U,EAAKrL,MAAM6f,GACvBG,EAAIlmB,OAAS,IAAMogB,EAAI8F,EAAI,GAAGC,QAAUD,EAAI,GAAGC,OACjD,KAEK/F,CACT,CAeA,SAASgG,GAAetmB,GACtB,IAAImZ,EAAM,GACV,GAAI0J,EAAS7iB,GACXmZ,EAAMnZ,OACD,GAAIO,EAAQP,GACjB,IAAK,IAAIwC,EAAI,EAAGA,EAAIxC,EAAME,OAAQsC,IAAK,CACrC,MAAMsjB,EAAaQ,GAAetmB,EAAMwC,IACpCsjB,IACF3M,GAAO2M,EAAa,IAExB,MACK,GAAIvmB,EAASS,GAClB,IAAK,MAAMkD,KAAQlD,EACbA,EAAMkD,KACRiW,GAAOjW,EAAO,KAIpB,OAAOiW,EAAIkN,MACb,CACA,SAASE,GAAeC,GACtB,IAAKA,EACH,OAAO,KACT,IAAMC,MAAOC,EAAK,MAAEC,GAAUH,EAO9B,OANIE,IAAU7D,EAAS6D,KACrBF,EAAMC,MAAQH,GAAeI,IAE3BC,IACFH,EAAMG,MAAQd,EAAec,IAExBH,CACT,CAEA,MAAMI,GAAY,ilBACZC,GAAW,opBACXC,GAAY,uEACZC,GAA4B3O,EAAQwO,IACpCI,GAA2B5O,EAAQyO,IACnCI,GAA4B7O,EAAQ0O,IAEpCI,GAAuB,8EACvBC,GAAuC/O,EAAQ8O,IAIrD,SAASE,GAAmBpnB,GAC1B,QAASA,GAAmB,KAAVA,CACpB,CAsEA,SAASqnB,GAAmB1d,EAAG2d,GAC7B,GAAI3d,EAAEzJ,SAAWonB,EAAEpnB,OACjB,OAAO,EACT,IAAIqnB,GAAQ,EACZ,IAAK,IAAI/kB,EAAI,EAAG+kB,GAAS/kB,EAAImH,EAAEzJ,OAAQsC,IACrC+kB,EAAQC,GAAW7d,EAAEnH,GAAI8kB,EAAE9kB,IAE7B,OAAO+kB,CACT,CACA,SAASC,GAAW7d,EAAG2d,GACrB,GAAI3d,IAAM2d,EACR,OAAO,EACT,IAAIG,EAAa9E,EAAOhZ,GACpB+d,EAAa/E,EAAO2E,GACxB,GAAIG,GAAcC,EAChB,SAAOD,IAAcC,IAAa/d,EAAEge,YAAcL,EAAEK,UAItD,GAFAF,EAAanX,EAAS3G,GACtB+d,EAAapX,EAASgX,GAClBG,GAAcC,EAChB,OAAO/d,IAAM2d,EAIf,GAFAG,EAAalnB,EAAQoJ,GACrB+d,EAAannB,EAAQ+mB,GACjBG,GAAcC,EAChB,SAAOD,IAAcC,IAAaL,GAAmB1d,EAAG2d,GAI1D,GAFAG,EAAaloB,EAASoK,GACtB+d,EAAanoB,EAAS+nB,GAClBG,GAAcC,EAAY,CAC5B,IAAKD,IAAeC,EAClB,OAAO,EAET,MAAME,EAAannB,OAAO6B,KAAKqH,GAAGzJ,OAC5B2nB,EAAapnB,OAAO6B,KAAKglB,GAAGpnB,OAClC,GAAI0nB,IAAeC,EACjB,OAAO,EAET,IAAK,MAAMlmB,KAAOgI,EAAG,CACnB,MAAMme,EAAUne,EAAEzB,eAAevG,GAC3BomB,EAAUT,EAAEpf,eAAevG,GACjC,GAAImmB,IAAYC,IAAYD,GAAWC,IAAYP,GAAW7d,EAAEhI,GAAM2lB,EAAE3lB,IACtE,OAAO,CAEX,CACF,CACA,OAAOxC,OAAOwK,KAAOxK,OAAOmoB,EAC9B,CACA,SAASU,GAAa/O,EAAK/J,GACzB,OAAO+J,EAAIgP,WAAWxW,GAAS+V,GAAW/V,EAAMvC,IAClD,CAEA,MAAMgZ,GAAmBhZ,GAChB2T,EAAS3T,GAAOA,EAAa,MAAPA,EAAc,GAAK3O,EAAQ2O,IAAQ3P,EAAS2P,KAASA,EAAIlO,WAAaiiB,IAAmBpD,EAAW3Q,EAAIlO,WAAamnB,KAAKC,UAAUlZ,EAAKmZ,GAAU,GAAKlpB,OAAO+P,GAExLmZ,GAAWA,CAAC3H,EAAMxR,IAClBA,GAAOA,EAAI8P,UACNqJ,GAAS3H,EAAMxR,EAAIlP,OACjB4X,EAAM1I,GACR,CACL,CAAE,OAAMA,EAAIqM,SAAU,IAAIrM,EAAIoZ,WAAWC,QAAO,CAACD,GAAU3mB,EAAK6mB,MAC9DF,EAAS,GAAE3mB,QAAY6mB,EAChBF,IACN,CAAC,IAEG5F,EAAMxT,GACR,CACL,CAAE,OAAMA,EAAIqM,SAAU,IAAIrM,EAAIoI,YAEvB/X,EAAS2P,IAAS3O,EAAQ2O,IAASgU,EAAchU,GAGrDA,EAFE/P,OAAO+P,E;;;;;;AC3YlB,SAASuZ,EAAgBC,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAI3pB,UAAU,oCAExB,CAEA,SAAS4pB,EAAkBzmB,EAAQqkB,GACjC,IAAK,IAAIhkB,EAAI,EAAGA,EAAIgkB,EAAMtmB,OAAQsC,IAAK,CACrC,IAAI+E,EAAaif,EAAMhkB,GACvB+E,EAAW3E,WAAa2E,EAAW3E,aAAc,EACjD2E,EAAW1E,cAAe,EACtB,UAAW0E,IAAYA,EAAW1G,UAAW,GACjDJ,OAAOG,eAAeuB,EAAQoF,EAAW5F,IAAK4F,EAChD,CACF,CAEA,SAASshB,EAAaF,EAAaG,EAAYC,GAG7C,OAFID,GAAYF,EAAkBD,EAAY/gB,UAAWkhB,GACrDC,GAAaH,EAAkBD,EAAaI,GACzCJ,CACT,CAEA,SAASK,EAAgB1c,EAAK3K,EAAK3B,GAYjC,OAXI2B,KAAO2K,EACT7L,OAAOG,eAAe0L,EAAK3K,EAAK,CAC9B3B,MAAOA,EACP4C,YAAY,EACZC,cAAc,EACdhC,UAAU,IAGZyL,EAAI3K,GAAO3B,EAGNsM,CACT,CAEA,SAAStK,EAAQU,EAAQumB,GACvB,IAAI3mB,EAAO7B,OAAO6B,KAAKI,GAEvB,GAAIjC,OAAO6N,sBAAuB,CAChC,IAAI4a,EAAUzoB,OAAO6N,sBAAsB5L,GACvCumB,IAAgBC,EAAUA,EAAQ5Q,QAAO,SAAU6Q,GACrD,OAAO1oB,OAAOD,yBAAyBkC,EAAQymB,GAAKvmB,UACtD,KACAN,EAAKiM,KAAKjG,MAAMhG,EAAM4mB,EACxB,CAEA,OAAO5mB,CACT,CAEA,SAAS8mB,EAAejnB,GACtB,IAAK,IAAIK,EAAI,EAAGA,EAAIf,UAAUvB,OAAQsC,IAAK,CACzC,IAAIJ,EAAyB,MAAhBX,UAAUe,GAAaf,UAAUe,GAAK,CAAC,EAEhDA,EAAI,EACNR,EAAQvB,OAAO2B,IAAS,GAAMqV,SAAQ,SAAU9V,GAC9CqnB,EAAgB7mB,EAAQR,EAAKS,EAAOT,GACtC,IACSlB,OAAO4oB,0BAChB5oB,OAAO6oB,iBAAiBnnB,EAAQ1B,OAAO4oB,0BAA0BjnB,IAEjEJ,EAAQvB,OAAO2B,IAASqV,SAAQ,SAAU9V,GACxClB,OAAOG,eAAeuB,EAAQR,EAAKlB,OAAOD,yBAAyB4B,EAAQT,GAC7E,GAEJ,CAEA,OAAOQ,CACT,CAEA,SAASonB,EAAUC,EAAUC,GAC3B,GAA0B,oBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIzqB,UAAU,sDAGtBwqB,EAAS5hB,UAAYnH,OAAOohB,OAAO4H,GAAcA,EAAW7hB,UAAW,CACrEuC,YAAa,CACXnK,MAAOwpB,EACP3oB,UAAU,EACVgC,cAAc,KAGd4mB,GAAYC,EAAgBF,EAAUC,EAC5C,CAEA,SAASE,EAAgBC,GAIvB,OAHAD,EAAkBlpB,OAAOqJ,eAAiBrJ,OAAOua,eAAiB,SAAyB4O,GACzF,OAAOA,EAAE7a,WAAatO,OAAOua,eAAe4O,EAC9C,EACOD,EAAgBC,EACzB,CAEA,SAASF,EAAgBE,EAAGC,GAM1B,OALAH,EAAkBjpB,OAAOqJ,gBAAkB,SAAyB8f,EAAGC,GAErE,OADAD,EAAE7a,UAAY8a,EACPD,CACT,EAEOF,EAAgBE,EAAGC,EAC5B,CAEA,SAASC,IACP,GAAuB,qBAAZlQ,UAA4BA,QAAQmQ,UAAW,OAAO,EACjE,GAAInQ,QAAQmQ,UAAUhiB,KAAM,OAAO,EACnC,GAAqB,oBAAVsW,MAAsB,OAAO,EAExC,IAEE,OADA2L,KAAKpiB,UAAU5G,SAASoH,KAAKwR,QAAQmQ,UAAUC,KAAM,IAAI,WAAa,MAC/D,CACT,CAAE,MAAOC,GACP,OAAO,CACT,CACF,CAmBA,SAASC,EAAuBvrB,GAC9B,QAAa,IAATA,EACF,MAAM,IAAIwrB,eAAe,6DAG3B,OAAOxrB,CACT,CAEA,SAASyrB,EAA2BzrB,EAAMyJ,GACxC,OAAIA,GAAyB,kBAATA,GAAqC,oBAATA,EAIzC8hB,EAAuBvrB,GAHrByJ,CAIX,CAEA,SAASiiB,EAAaC,GACpB,IAAIC,EAA4BT,IAEhC,OAAO,WACL,IACIjoB,EADA2oB,EAAQb,EAAgBW,GAG5B,GAAIC,EAA2B,CAC7B,IAAItgB,EAAY0f,EAAgB/qB,MAAMuL,YAEtCtI,EAAS+X,QAAQmQ,UAAUS,EAAO/oB,UAAWwI,EAC/C,MACEpI,EAAS2oB,EAAMliB,MAAM1J,KAAM6C,WAG7B,OAAO2oB,EAA2BxrB,KAAMiD,EAC1C,CACF,CAEA,SAAS4oB,EAAmBxR,GAC1B,OAAOyR,EAAmBzR,IAAQ0R,EAAiB1R,IAAQ2R,EAA4B3R,IAAQ4R,GACjG,CAEA,SAASH,EAAmBzR,GAC1B,GAAI1N,MAAMhL,QAAQ0Y,GAAM,OAAO6R,EAAkB7R,EACnD,CAEA,SAAS0R,EAAiBI,GACxB,GAAsB,qBAAXjb,QAA0BA,OAAOkB,YAAYvQ,OAAOsqB,GAAO,OAAOxf,MAAMyf,KAAKD,EAC1F,CAEA,SAASH,EAA4BhB,EAAGqB,GACtC,GAAKrB,EAAL,CACA,GAAiB,kBAANA,EAAgB,OAAOkB,EAAkBlB,EAAGqB,GACvD,IAAI5d,EAAI5M,OAAOmH,UAAU5G,SAASoH,KAAKwhB,GAAG1oB,MAAM,GAAI,GAEpD,MADU,WAANmM,GAAkBuc,EAAEzf,cAAakD,EAAIuc,EAAEzf,YAAYjH,MAC7C,QAANmK,GAAqB,QAANA,EAAoB9B,MAAMyf,KAAKpB,GACxC,cAANvc,GAAqB,2CAA2CxG,KAAKwG,GAAWyd,EAAkBlB,EAAGqB,QAAzG,CALc,CAMhB,CAEA,SAASH,EAAkB7R,EAAKvH,IACnB,MAAPA,GAAeA,EAAMuH,EAAI/Y,UAAQwR,EAAMuH,EAAI/Y,QAE/C,IAAK,IAAIsC,EAAI,EAAG0oB,EAAO,IAAI3f,MAAMmG,GAAMlP,EAAIkP,EAAKlP,IAAK0oB,EAAK1oB,GAAKyW,EAAIzW,GAEnE,OAAO0oB,CACT,CAEA,SAASL,IACP,MAAM,IAAI7rB,UAAU,uIACtB,CAEA,SAASmsB,EAAa7e,EAAK3K,EAAKmL,GAC9BrM,OAAOG,eAAe0L,EAAK3K,EAAK,CAC9B6B,IAAKsJ,EACLlK,YAAY,EACZC,cAAc,GAElB,CAEA,SAASuoB,EAAYhN,EAAOzc,EAAKQ,GAC/B1B,OAAOG,eAAewd,EAAOzc,EAAK,CAChC6B,IAAK,WACH,OAAOrB,EAAOR,GAAK3B,KACrB,EACAuK,IAAK,SAAavK,GAChBmC,EAAOR,GAAK3B,MAAQA,CACtB,EACA4C,YAAY,EACZC,cAAc,GAElB,CAEA,SAASwoB,EAASC,GAChB,IAAIC,EAAa9qB,OAAOua,eAAesQ,EAAK1jB,WAE5C,GAAK2jB,EAIL,OAAOA,EAAWphB,WACpB,CAEA,SAASqhB,EAAOxrB,EAAO2B,GACrB,OAAO3B,EAAMkI,eAAevG,GAAO3B,EAAM2B,QAAOhB,CAClD,CAEA,IAAI8qB,EAAuB,WACzB,SAASA,EAAQjF,EAAOkF,GACtB,IAAIC,EAAQ/sB,KAEZ6pB,EAAgB7pB,KAAM6sB,GAEtBN,EAAavsB,KAAM,UAAU,WAC3B,OAAO4nB,CACT,IACA2E,EAAavsB,KAAM,UAAU,WAC3B,OAAO8sB,EAAIE,KACb,IACAT,EAAavsB,KAAM,UAAU,WAC3B,OAAO8sB,EAAIG,KACb,IACAV,EAAavsB,KAAM,SAAS,WAC1B,OAAO8sB,EAAII,IACb,IACArrB,OAAO6B,KAAKkkB,GAAO/O,SAAQ,SAAU9V,GACnClB,OAAOG,eAAe+qB,EAAOhqB,EAAK,CAChCiB,YAAY,EACZC,cAAc,EACdhC,UAAU,EACVb,MAAOwmB,EAAM7kB,IAEjB,GACF,CAoKA,OAlKAknB,EAAa4C,EAAS,KAAM,CAAC,CAC3B9pB,IAAK,gBACL3B,MAAO,SAAuBsC,GAC5B,IAAIypB,GAEHA,EAAYntB,KAAKotB,KAAKzd,KAAKjG,MAAMyjB,EAAWtB,EAAmBnoB,GAClE,GACC,CACDX,IAAK,OACL3B,MAAO,SAAeisB,GACpB,IAAIC,EAAY,IAAID,EAChBzF,EAAQ,CAAC,EACb/lB,OAAO6B,KAAK4pB,GAAWzU,SAAQ,SAAU9V,GACvC,IAAIwqB,EAAOD,EAAUvqB,GACrB6kB,EAAM7kB,GAAgB,OAATwqB,QAA0B,IAATA,EAAkBA,EAAO,IACzD,IAEA,IAAIC,EAA0B,SAAUC,GACtC9C,EAAU6C,EAAYC,GAEtB,IAAIC,EAASjC,EAAa+B,GAE1B,SAASA,IAGP,OAFA3D,EAAgB7pB,KAAMwtB,GAEfE,EAAOhkB,MAAM1J,KAAM6C,UAC5B,CAEA,OAAO2qB,CACT,CAZ8B,CAY5BxtB,MAKF,OAHAwtB,EAAWG,IAAM,CACf/F,MAAOA,GAEF4F,CACT,GACC,CACDzqB,IAAK,YACL6B,IAAK,WAEH,GAAI5E,OAAS4tB,EACX,MAAO,CAAC,EAGV,IAAIlB,EAAO1sB,KACP2kB,EAAQiI,EAAOF,EAAM,OAEzB,GAAI/H,EACF,OAAOA,EAIT,IAAIvgB,EAAUomB,EAAe,CAAC,EAAGoC,EAAOF,EAAM,QAE9CA,EAAKmB,IAAMzpB,EAEX,IAAIwnB,EAAQa,EAASC,GAEjBd,IACFxnB,EAAQ,WAAawnB,EAAMkC,WAI7B,IAAIC,EAAOnB,EAAOF,EAAM,OAEpBqB,IACF3pB,EAAQ4pB,OAAS5pB,EAAQ4pB,QAAU,GACnC5pB,EAAQ4pB,OAAOC,QAAQF,IAGzB3pB,EAAQ8pB,QAAU1D,EAAe,CAAC,EAAGpmB,EAAQ8pB,SAC7C9pB,EAAQ8U,SAAWsR,EAAe,CAAC,EAAGpmB,EAAQ8U,UAC9C,IAAIhJ,EAAQwc,EAAK1jB,UACjBnH,OAAO4N,oBAAoBS,GAAO2I,SAAQ,SAAU9V,GAClD,GAAY,gBAARA,EAKJ,GAAI2pB,EAAKU,IAAI3rB,QAAQsB,IAAQ,EAC3BqB,EAAQrB,GAAOmN,EAAMnN,OADvB,CAKA,IAAI4F,EAAa9G,OAAOD,yBAAyBsO,EAAOnN,GAExB,oBAArB4F,EAAWvH,OAMlBuH,EAAW/D,KAAO+D,EAAWgD,OAC/BvH,EAAQ8U,SAASnW,GAAO,CACtB6B,IAAK+D,EAAW/D,IAChB+G,IAAKhD,EAAWgD,MARlBvH,EAAQ8pB,QAAQnrB,GAAO4F,EAAWvH,KALpC,CAiBF,IAEAgD,EAAQ+pB,MAAQ,SAAUvG,EAAOkF,GAC/B,IAAIsB,EAEAphB,EAAO,IAAI0f,EAAK9E,EAAOkF,GACvBuB,EAAWxsB,OAAO6B,KAAKsJ,GACvBshB,EAAY,CAAC,EACbC,EAAU,KAiCd,OA/BAF,EAASxV,SAAQ,SAAU9V,QAGPhB,IAAdiL,EAAKjK,IAAsBiK,EAAKjK,IAAQiK,EAAKjK,GAAKyrB,MAItDF,EAAUvrB,IAAOsd,EAAAA,EAAAA,IAAIrT,EAAKjK,IAC1BypB,EAAYxf,EAAMjK,EAAKurB,GACzB,IAEAD,EAASxV,SAAQ,SAAU9V,GACzB,GAAIiK,EAAKjK,IAAQiK,EAAKjK,GAAKyrB,IAAK,CAC9B,IAAIC,EAAazhB,EAAKjK,GAAKyrB,MAEvBC,aAAsBC,SACnBH,IACHA,EAAUG,QAAQC,QAAQL,IAG5BC,EAAUA,EAAQpK,MAAK,WACrB,OAAOsK,EAAWtK,MAAK,SAAU/iB,GAE/B,OADAktB,EAAUvrB,IAAOoe,EAAAA,EAAAA,IAAU/f,GACpBktB,CACT,GACF,KAEAA,EAAUvrB,IAAOoe,EAAAA,EAAAA,IAAUsN,EAE/B,CACF,IACgC,QAAxBL,EAAWG,SAAkC,IAAbH,EAAsBA,EAAWE,CAC3E,EAEA,IAAIM,EAAahC,EAAOF,EAAM,OAE1BkC,GACFA,EAAW/V,SAAQ,SAAU3O,GAC3B,OAAOA,EAAG9F,EACZ,IAIF,IAAIyqB,EAAa,CAAC,SAAU,YAAa,SAAU,eAAgB,YAAa,WAMhF,OALAA,EAAWhW,SAAQ,SAAU9V,GACvB2pB,EAAK3pB,KACPqB,EAAQrB,GAAO2pB,EAAK3pB,GAExB,IACOqB,CACT,KAGKyoB,CACT,CA/L2B,GAiM3BA,EAAQO,IAAM,CAAC,OAAQ,eAAgB,UAAW,cAAe,UAAW,gBAAiB,YAAa,eAAgB,UAAW,YAAa,cAAe,SAAU,gBAAiB,kBAC5L,IAAIQ,EAAMf,EAEV,SAASiC,EAAQ1qB,GACf,OAAO,SAAU2qB,GAEf,OADAA,EAAUC,IAAM5qB,EACT2qB,CACT,CACF,C,wBC3bIE,EAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAKA,IAAIkP,EAAc,cAA0BzB,EACxCriB,cACI+jB,SAASzsB,WACT7C,KAAKuvB,WAAY,EACjBvvB,KAAKwvB,aAAc,CACvB,CAEAC,SACI,OAAOC,EAAAA,EAAAA,GAAE,MAAO,CAAE3H,MAAO,CAAE4H,OAAQ,QAAUtP,IAAK,cACtD,CACAuP,UACI,MAAMxrB,EAAUpE,KAAK6vB,uBAAuB7vB,KAAKoE,SACjDpE,KAAK8vB,MAAQC,EAAAA,GAAQ9M,OAAO7e,GAC5BpE,KAAKgwB,OAAO,WAAW,CAACzX,EAAUC,KAC9BxY,KAAKiwB,eAAe1X,EAAUC,EAAS,GACxC,CACC0X,MAAM,IAEVlwB,KAAKuvB,WAAY,EACjBvvB,KAAK8vB,MAAMA,MAAMK,gBACZhM,MAAK,IAAMnkB,KAAKowB,MAAM,eAAgBpwB,KAAK8vB,QACpD,CACAO,YACQrwB,KAAKuvB,YACDvvB,KAAK8vB,OACL9vB,KAAK8vB,MAAMQ,UAEftwB,KAAKwvB,aAAc,EAE3B,CACAe,YACIvwB,KAAKqwB,WACT,CACAJ,eAAeO,EAAcC,GACrBzwB,KAAKuvB,WAAavvB,KAAK8vB,OACvBC,EAAAA,GAAQW,OAAO1wB,KAAK8vB,OAAOxV,EAAAA,EAAAA,IAAMta,KAAK6vB,wBAAuBvV,EAAAA,EAAAA,IAAMta,KAAKoE,WAEhF,CACAyrB,uBAAuBc,GACnB,OAAIA,EAAaC,UACND,EAEJ9uB,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGiN,GAAe,CAAEC,UAAW5wB,KAAK6wB,MAAMC,YAClF,GAEJzB,EAAcJ,EAAW,CACrBH,EAAQ,CACJlH,MAAO,CACHxjB,QAAS,CAAC,GAEd2sB,MAAO,CAAC,mBAUb1B,E,oCCrEH,SAAS2B,EAASzrB,GACd,IAAK,IAAI0lB,KAAK1lB,EAAQ5F,EAAQ2J,eAAe2hB,KAAItrB,EAAQsrB,GAAK1lB,EAAE0lB,GACpE,CACAppB,OAAOG,eAAerC,EAAS,aAAc,CAAEyB,OAAO,IACtD4vB,EAASC,EAAQ,M,kCCDjBtxB,EAAQ,EAAU,CAACuxB,EAAKtJ,KACpB,MAAMrkB,EAAS2tB,EAAIpD,WAAaoD,EAChC,IAAK,MAAOnuB,EAAKuN,KAAQsX,EACrBrkB,EAAOR,GAAOuN,EAElB,OAAO/M,CAAM,C,+jLCGjB,SAAS4tB,EAAKC,KAAQhX,GA+BtB,CAoEA,SAASiX,EAAa/gB,EAAK/D,GAU3B,CAiCA,SAAS+kB,EAAsBpnB,EAAI4f,EAAUvd,EAAM6N,GACjD,IAAIG,EACJ,IACEA,EAAMH,EAAOlQ,KAAMkQ,GAAQlQ,GAC7B,CAAE,MAAOqnB,GACPC,EAAYD,EAAKzH,EAAUvd,EAC7B,CACA,OAAOgO,CACT,CACA,SAASkX,EAA2BvnB,EAAI4f,EAAUvd,EAAM6N,GACtD,IAAI6G,EAAAA,EAAAA,IAAW/W,GAAK,CAClB,MAAMqQ,EAAM+W,EAAsBpnB,EAAI4f,EAAUvd,EAAM6N,GAMtD,OALIG,IAAO2J,EAAAA,EAAAA,IAAU3J,IACnBA,EAAI6J,OAAOmN,IACTC,EAAYD,EAAKzH,EAAUvd,EAAK,IAG7BgO,CACT,CACA,MAAM7B,EAAS,GACf,IAAK,IAAI9U,EAAI,EAAGA,EAAIsG,EAAG5I,OAAQsC,IAC7B8U,EAAO/I,KAAK8hB,EAA2BvnB,EAAGtG,GAAIkmB,EAAUvd,EAAM6N,IAEhE,OAAO1B,CACT,CACA,SAAS8Y,EAAYD,EAAKzH,EAAUvd,EAAMmlB,GAAa,GACrD,MAAMC,EAAe7H,EAAWA,EAAS8H,MAAQ,KACjD,GAAI9H,EAAU,CACZ,IAAI+H,EAAM/H,EAASnV,OACnB,MAAMmd,EAAkBhI,EAAStK,MAC3BuS,EAAiFxlB,EACvF,MAAOslB,EAAK,CACV,MAAMG,EAAqBH,EAAII,GAC/B,GAAID,EACF,IAAK,IAAIpuB,EAAI,EAAGA,EAAIouB,EAAmB1wB,OAAQsC,IAC7C,IAA+D,IAA3DouB,EAAmBpuB,GAAG2tB,EAAKO,EAAiBC,GAC9C,OAINF,EAAMA,EAAIld,MACZ,CACA,MAAMud,EAAkBpI,EAASqI,WAAWC,OAAOC,aACnD,GAAIH,EAOF,YANAZ,EACEY,EACA,KACA,GACA,CAACX,EAAKO,EAAiBC,GAI7B,CACAO,EAASf,EAAKhlB,EAAMolB,EAAcD,EACpC,CACA,SAASY,EAASf,EAAKhlB,EAAMolB,EAAcD,GAAa,GAgBpDa,QAAQrwB,MAAMqvB,EAElB,CAEA,IAAIiB,GAAa,EACbC,GAAiB,EACrB,MAAMC,EAAQ,GACd,IAAIC,EAAa,EACjB,MAAMC,EAAsB,GAC5B,IAAIC,EAAqB,KACrBC,EAAiB,EACrB,MAAMC,EAAkCrE,QAAQC,UAChD,IAAIqE,EAAsB,KAE1B,SAASC,EAAS/oB,GAChB,MAAM+gB,EAAI+H,GAAuBD,EACjC,OAAO7oB,EAAK+gB,EAAE9G,KAAKnkB,KAAOkK,EAAGb,KAAKrJ,MAAQkK,GAAM+gB,CAClD,CACA,SAASiI,EAAmBlhB,GAC1B,IAAIqU,EAAQsM,EAAa,EACrBrM,EAAMoM,EAAMpxB,OAChB,MAAO+kB,EAAQC,EAAK,CAClB,MAAM6M,EAAS9M,EAAQC,IAAQ,EACzB8M,EAAcC,EAAMX,EAAMS,IAChCC,EAAcphB,EAAKqU,EAAQ8M,EAAS,EAAI7M,EAAM6M,CAChD,CACA,OAAO9M,CACT,CACA,SAASiN,EAASC,GACXb,EAAMpxB,QAAWoxB,EAAMlxB,SAC1B+xB,EACAf,GAAce,EAAIna,aAAeuZ,EAAa,EAAIA,KAEpC,MAAVY,EAAIvhB,GACN0gB,EAAM/iB,KAAK4jB,GAEXb,EAAM9O,OAAOsP,EAAmBK,EAAIvhB,IAAK,EAAGuhB,GAE9CC,IAEJ,CACA,SAASA,IACFhB,GAAeC,IAClBA,GAAiB,EACjBO,EAAsBD,EAAgB5O,KAAKsP,GAE/C,CACA,SAASC,EAAcH,GACrB,MAAM3vB,EAAI8uB,EAAMjxB,QAAQ8xB,GACpB3vB,EAAI+uB,GACND,EAAM9O,OAAOhgB,EAAG,EAEpB,CACA,SAAS+vB,EAAiBC,IACnBjyB,EAAAA,EAAAA,IAAQiyB,GAQXhB,EAAoBjjB,QAAQikB,GAPvBf,GAAuBA,EAAmBrxB,SAC7CoyB,EACAA,EAAGxa,aAAe0Z,EAAiB,EAAIA,IAEvCF,EAAoBjjB,KAAKikB,GAK7BJ,GACF,CACA,SAASK,EAAiBC,EAAMlwB,GAAI4uB,EAAaG,EAAa,EAAI,IAIhE,IAHI,EAGG/uB,EAAI8uB,EAAMpxB,OAAQsC,IAAK,CAC5B,MAAMgwB,EAAKlB,EAAM9uB,GACbgwB,GAAMA,EAAGG,MAIXrB,EAAM9O,OAAOhgB,EAAG,GAChBA,IACAgwB,IAEJ,CACF,CACA,SAASI,EAAkBF,GACzB,GAAIlB,EAAoBtxB,OAAQ,CAC9B,MAAM2yB,EAAU,IAAI,IAAIle,IAAI6c,IAE5B,GADAA,EAAoBtxB,OAAS,EACzBuxB,EAEF,YADAA,EAAmBljB,QAAQskB,GAQ7B,IALApB,EAAqBoB,EAIrBpB,EAAmBqB,MAAK,CAACnpB,EAAG2d,IAAM2K,EAAMtoB,GAAKsoB,EAAM3K,KAC9CoK,EAAiB,EAAGA,EAAiBD,EAAmBvxB,OAAQwxB,IAInED,EAAmBC,KAErBD,EAAqB,KACrBC,EAAiB,CACnB,CACF,CACA,MAAMO,EAASE,GAAkB,MAAVA,EAAIvhB,GAAamiB,IAAWZ,EAAIvhB,GACjDoiB,EAAaA,CAACrpB,EAAG2d,KACrB,MAAM2L,EAAOhB,EAAMtoB,GAAKsoB,EAAM3K,GAC9B,GAAa,IAAT2L,EAAY,CACd,GAAItpB,EAAEgpB,MAAQrL,EAAEqL,IACd,OAAQ,EACV,GAAIrL,EAAEqL,MAAQhpB,EAAEgpB,IACd,OAAO,CACX,CACA,OAAOM,CAAI,EAEb,SAASZ,EAAUK,GACjBrB,GAAiB,EACjBD,GAAa,EAIbE,EAAMwB,KAAKE,GAC2FvR,EAAAA,GACtG,IACE,IAAK8P,EAAa,EAAGA,EAAaD,EAAMpxB,OAAQqxB,IAAc,CAC5D,MAAMY,EAAMb,EAAMC,GACdY,IAAsB,IAAfA,EAAI1e,QAIbyc,EAAsBiC,EAAK,KAAM,GAErC,CACF,CAAE,QACAZ,EAAa,EACbD,EAAMpxB,OAAS,EACf0yB,EAAkBF,GAClBtB,GAAa,EACbQ,EAAsB,MAClBN,EAAMpxB,QAAUsxB,EAAoBtxB,SACtCmyB,EAAUK,EAEd,CACF,CAsIA,IAAIQ,EACAC,EAAS,GACTC,GAAuB,EAQ3B,SAASC,EAAgBC,EAAMnxB,GAC7B,IAAI+V,EAAIqb,EAER,GADAL,EAAWI,EACPJ,EACFA,EAASM,SAAU,EACnBL,EAAO1b,SAAQ,EAAGgc,QAAOza,UAAWka,EAASpH,KAAK2H,KAAUza,KAC5Dma,EAAS,QACJ,GAIa,qBAAX3pB,QACPA,OAAOkqB,eAC6D,OAAjEH,EAAgC,OAA1Brb,EAAK1O,OAAO5D,gBAAqB,EAASsS,EAAGrS,gBAAqB,EAAS0tB,EAAGnzB,SAAS,UAChG,CACA,MAAMuzB,EAASxxB,EAAOyxB,6BAA+BzxB,EAAOyxB,8BAAgC,GAC5FD,EAAOplB,MAAMslB,IACXR,EAAgBQ,EAAS1xB,EAAO,IAElC2xB,YAAW,KACJZ,IACH/wB,EAAOyxB,6BAA+B,KACtCR,GAAuB,EACvBD,EAAS,GACX,GACC,IACL,MACEC,GAAuB,EACvBD,EAAS,EAEb,CAyDA,SAASrH,EAAKpD,EAAU+K,KAAUM,GAChC,GAAIrL,EAASsL,YACX,OACF,MAAMxN,EAAQkC,EAAS8H,MAAMhK,OAASzE,EAAAA,GA0BtC,IAAI/I,EAAO+a,EACX,MAAM3R,EAAkBqR,EAAMpR,WAAW,WACnC4R,EAAW7R,GAAmBqR,EAAMvyB,MAAM,GAChD,GAAI+yB,GAAYA,KAAYzN,EAAO,CACjC,MAAM0N,EAAgB,GAAe,eAAbD,EAA4B,QAAUA,cACxD,OAAE5jB,EAAM,KAAEgW,GAASG,EAAM0N,IAAiBnS,EAAAA,GAC5CsE,IACFrN,EAAO+a,EAAQxb,KAAK5O,IAAMkZ,EAAAA,EAAAA,IAASlZ,GAAKA,EAAE0c,OAAS1c,KAEjD0G,IACF2I,EAAO+a,EAAQxb,IAAI8L,EAAAA,IAEvB,CAeA,IAAI8P,EACJ,IAAIC,EAAU5N,EAAM2N,GAAclQ,EAAAA,EAAAA,IAAawP,KAC/CjN,EAAM2N,GAAclQ,EAAAA,EAAAA,KAAaP,EAAAA,EAAAA,IAAS+P,MACrCW,GAAWhS,IACdgS,EAAU5N,EAAM2N,GAAclQ,EAAAA,EAAAA,KAAaH,EAAAA,EAAAA,IAAU2P,MAEnDW,GACF/D,EACE+D,EACA1L,EACA,EACA1P,GAGJ,MAAMqb,EAAc7N,EAAM2N,EAAe,QACzC,GAAIE,EAAa,CACf,GAAK3L,EAAS4L,SAEP,GAAI5L,EAAS4L,QAAQH,GAC1B,YAFAzL,EAAS4L,QAAU,CAAC,EAItB5L,EAAS4L,QAAQH,IAAe,EAChC9D,EACEgE,EACA3L,EACA,EACA1P,EAEJ,CACF,CACA,SAASub,EAAsBC,EAAMzD,EAAY0D,GAAU,GACzD,MAAMlR,EAAQwN,EAAW2D,WACnBC,EAASpR,EAAM/f,IAAIgxB,GACzB,QAAe,IAAXG,EACF,OAAOA,EAET,MAAMnW,EAAMgW,EAAK7E,MACjB,IAAI7J,EAAa,CAAC,EACd8O,GAAa,EACjB,KAA4B/U,EAAAA,EAAAA,IAAW2U,GAAO,CAC5C,MAAMK,EAAeC,IACnB,MAAMC,EAAuBR,EAAsBO,EAAM/D,GAAY,GACjEgE,IACFH,GAAa,GACbxe,EAAAA,EAAAA,IAAO0P,EAAYiP,GACrB,GAEGN,GAAW1D,EAAWnE,OAAO1sB,QAChC6wB,EAAWnE,OAAOnV,QAAQod,GAExBL,EAAKQ,SACPH,EAAYL,EAAKQ,SAEfR,EAAK5H,QACP4H,EAAK5H,OAAOnV,QAAQod,EAExB,CACA,OAAKrW,GAAQoW,IAMTr0B,EAAAA,EAAAA,IAAQie,GACVA,EAAI/G,SAAS9V,GAAQmkB,EAAWnkB,GAAO,QAEvCyU,EAAAA,EAAAA,IAAO0P,EAAYtH,IAEjBjf,EAAAA,EAAAA,IAASi1B,IACXjR,EAAMhZ,IAAIiqB,EAAM1O,GAEXA,KAbDvmB,EAAAA,EAAAA,IAASi1B,IACXjR,EAAMhZ,IAAIiqB,EAAM,MAEX,KAWX,CACA,SAASS,EAAejyB,EAASrB,GAC/B,SAAKqB,KAAYmf,EAAAA,EAAAA,IAAKxgB,MAGtBA,EAAMA,EAAIT,MAAM,GAAGqF,QAAQ,QAAS,KAC7BxE,EAAAA,EAAAA,IAAOiB,EAASrB,EAAI,GAAGsK,cAAgBtK,EAAIT,MAAM,MAAOa,EAAAA,EAAAA,IAAOiB,GAAS8gB,EAAAA,EAAAA,IAAUniB,MAASI,EAAAA,EAAAA,IAAOiB,EAASrB,GACpH,CAEA,IAAIuzB,EAA2B,KAC3BC,EAAiB,KACrB,SAASC,EAA4B1M,GACnC,MAAM2M,EAAOH,EAGb,OAFAA,EAA2BxM,EAC3ByM,EAAiBzM,GAAYA,EAASvd,KAAKmqB,WAAa,KACjDD,CACT,CACA,SAASE,EAAY3kB,GACnBukB,EAAiBvkB,CACnB,CACA,SAAS4kB,IACPL,EAAiB,IACnB,CACA,MAAMM,EAAeC,GAAQC,EAC7B,SAASA,EAAQ7sB,EAAI4iB,EAAMwJ,EAA0BU,GACnD,IAAKlK,EACH,OAAO5iB,EACT,GAAIA,EAAG+sB,GACL,OAAO/sB,EAET,MAAMgtB,EAAsBA,IAAI9c,KAC1B8c,EAAoBC,IACtBC,IAAkB,GAEpB,MAAMC,EAAeb,EAA4B1J,GACjD,IAAIvS,EACJ,IACEA,EAAMrQ,KAAMkQ,EACd,CAAE,QACAoc,EAA4Ba,GACxBH,EAAoBC,IACtBC,GAAiB,EAErB,CAIA,OAAO7c,CAAG,EAKZ,OAHA2c,EAAoBD,IAAK,EACzBC,EAAoBI,IAAK,EACzBJ,EAAoBC,IAAK,EAClBD,CACT,CAMA,SAASK,EAAoBzN,GAC3B,MACEvd,KAAMwiB,EAAS,MACf6C,EAAK,MACLpS,EAAK,UACLgY,EAAS,MACT5P,EACA+I,cAAeA,GAAa,MAC5B1D,EAAK,MACLD,EAAK,KACLE,EAAI,OACJuC,EAAM,YACNgI,EAAW,KACXzqB,EAAI,WACJyhB,EAAU,IACV3B,EAAG,aACH4K,GACE5N,EACJ,IAAI7mB,EACA00B,EACJ,MAAMlB,EAAOD,EAA4B1M,GAIzC,IACE,GAAsB,EAAlB8H,EAAMgG,UAAe,CACvB,MAAMC,EAAaL,GAAahY,EAChCvc,EAAS60B,GACPrI,EAAOjmB,KACLquB,EACAA,EACAJ,EACA7P,EACA6G,EACAzhB,EACA8f,IAGJ6K,EAAmB3K,CACrB,KAAO,CACL,MAAM+K,EAAUhJ,EACZ,EAGJ9rB,EAAS60B,GACPC,EAAQz2B,OAAS,EAAIy2B,EACnBnQ,EAQI,CAAEoF,QAAOC,QAAOC,SAClB6K,EACFnQ,EACA,OAIJ+P,EAAmB5I,EAAUnH,MAAQoF,EAAQgL,EAAyBhL,EACxE,CACF,CAAE,MAAOuE,GACP0G,GAAW32B,OAAS,EACpBkwB,EAAYD,EAAKzH,EAAU,GAC3B7mB,EAASi1B,GAAYC,GACvB,CACA,IAAI14B,EAAOwD,EAKX,GAAI00B,IAAqC,IAAjBD,EAAwB,CAC9C,MAAMh0B,EAAO7B,OAAO6B,KAAKi0B,IACnB,UAAEC,GAAcn4B,EAClBiE,EAAKpC,QACS,EAAZs2B,IACEjH,GAAgBjtB,EAAK00B,KAAK5U,EAAAA,MAC5BmU,EAAmBU,EACjBV,EACAhH,IAGJlxB,EAAO64B,GAAW74B,EAAMk4B,GA2B9B,CAwBA,OAvBI/F,EAAM2G,OAMR94B,EAAO64B,GAAW74B,GAClBA,EAAK84B,KAAO94B,EAAK84B,KAAO94B,EAAK84B,KAAK/oB,OAAOoiB,EAAM2G,MAAQ3G,EAAM2G,MAE3D3G,EAAM4G,aAMR/4B,EAAK+4B,WAAa5G,EAAM4G,YAKxBv1B,EAASxD,EAEX+2B,EAA4BC,GACrBxzB,CACT,CAsBA,SAASw1B,EAAiBC,GACxB,IAAIC,EACJ,IAAK,IAAI/0B,EAAI,EAAGA,EAAI80B,EAASp3B,OAAQsC,IAAK,CACxC,MAAMg1B,EAAQF,EAAS90B,GACvB,IAAIi1B,GAAQD,GASV,OARA,GAAIA,EAAMrsB,OAAS4rB,IAA8B,SAAnBS,EAAMF,SAAqB,CACvD,GAAIC,EACF,OAEAA,EAAaC,CAEjB,CAIJ,CACA,OAAOD,CACT,CACA,MAAMX,EAA4BhL,IAChC,IAAIzS,EACJ,IAAK,MAAMxX,KAAOiqB,GACJ,UAARjqB,GAA2B,UAARA,IAAmBwgB,EAAAA,EAAAA,IAAKxgB,OAC5CwX,IAAQA,EAAM,CAAC,IAAIxX,GAAOiqB,EAAMjqB,IAGrC,OAAOwX,CAAG,EAEN8d,EAAuBA,CAACrL,EAAOpF,KACnC,MAAMrN,EAAM,CAAC,EACb,IAAK,MAAMxX,KAAOiqB,GACXxJ,EAAAA,EAAAA,IAAgBzgB,IAAUA,EAAIT,MAAM,KAAMslB,IAC7CrN,EAAIxX,GAAOiqB,EAAMjqB,IAGrB,OAAOwX,CAAG,EAKZ,SAASue,EAAsBC,EAAWC,EAAWC,GACnD,MAAQrR,MAAOsR,EAAWR,SAAUS,EAAY,UAAEC,GAAcL,GACxDnR,MAAOyR,EAAWX,SAAUY,EAAY,UAAEC,GAAcP,EAC1DjI,EAAQqI,EAAUI,aAIxB,GAAIR,EAAUT,MAAQS,EAAUR,WAC9B,OAAO,EAET,KAAIS,GAAaM,GAAa,GAmB5B,SAAIJ,IAAgBG,GACbA,GAAiBA,EAAaG,UAIjCP,IAAcG,IAGbH,GAGAG,GAGEK,EAAgBR,EAAWG,EAAWtI,KALlCsI,GA3BX,GAAgB,KAAZE,EACF,OAAO,EAET,GAAgB,GAAZA,EACF,OAAKL,EAGEQ,EAAgBR,EAAWG,EAAWtI,KAFlCsI,EAGN,GAAgB,EAAZE,EAAe,CACxB,MAAMI,EAAeX,EAAUW,aAC/B,IAAK,IAAI/1B,EAAI,EAAGA,EAAI+1B,EAAar4B,OAAQsC,IAAK,CAC5C,MAAMb,EAAM42B,EAAa/1B,GACzB,GAAIy1B,EAAUt2B,KAASm2B,EAAUn2B,KAASszB,EAAetF,EAAOhuB,GAC9D,OAAO,CAEX,CACF,CAkBF,OAAO,CACT,CACA,SAAS22B,EAAgBR,EAAWG,EAAWG,GAC7C,MAAMI,EAAW/3B,OAAO6B,KAAK21B,GAC7B,GAAIO,EAASt4B,SAAWO,OAAO6B,KAAKw1B,GAAW53B,OAC7C,OAAO,EAET,IAAK,IAAIsC,EAAI,EAAGA,EAAIg2B,EAASt4B,OAAQsC,IAAK,CACxC,MAAMb,EAAM62B,EAASh2B,GACrB,GAAIy1B,EAAUt2B,KAASm2B,EAAUn2B,KAASszB,EAAemD,EAAcz2B,GACrE,OAAO,CAEX,CACA,OAAO,CACT,CACA,SAAS82B,GAAgB,MAAEjI,EAAK,OAAEjd,GAAUzT,GAC1C,MAAOyT,GAAUA,EAAOmlB,UAAYlI,GACjCA,EAAQjd,EAAOid,OAAO1wB,GAAKA,EAC5ByT,EAASA,EAAOA,MAEpB,CAEA,MAAMolB,EAAcxtB,GAASA,EAAKytB,aAC5BC,GAAe,CACnB31B,KAAM,WAKN01B,cAAc,EACd5yB,QAAQ8yB,EAAIC,EAAIvJ,EAAWwJ,EAAQC,EAAiBC,EAAgBC,EAAOC,EAAcvB,EAAWwB,GACxF,MAANP,EACFQ,GACEP,EACAvJ,EACAwJ,EACAC,EACAC,EACAC,EACAC,EACAvB,EACAwB,GAGFE,GACET,EACAC,EACAvJ,EACAwJ,EACAC,EACAE,EACAC,EACAvB,EACAwB,EAGN,EACAG,QAASC,GACT5X,OAAQ6X,GACR7tB,UAAW8tB,IAEPC,GAAWf,GACjB,SAASgB,GAAarJ,EAAOttB,GAC3B,MAAM42B,EAAgBtJ,EAAMhK,OAASgK,EAAMhK,MAAMtjB,IAC7C2c,EAAAA,EAAAA,IAAWia,IACbA,GAEJ,CACA,SAASR,GAAc9I,EAAOhB,EAAWwJ,EAAQC,EAAiBC,EAAgBC,EAAOC,EAAcvB,EAAWwB,GAChH,MACExP,EAAGkQ,EACHnQ,GAAG,cAAE9lB,IACHu1B,EACEW,EAAkBl2B,EAAc,OAChCm2B,EAAWzJ,EAAMyJ,SAAWP,GAChClJ,EACA0I,EACAD,EACAzJ,EACAwK,EACAhB,EACAG,EACAC,EACAvB,EACAwB,GAEFU,EACE,KACAE,EAASC,cAAgB1J,EAAM2J,UAC/BH,EACA,KACAf,EACAgB,EACAd,EACAC,GAEEa,EAAShlB,KAAO,GAClB4kB,GAAarJ,EAAO,aACpBqJ,GAAarJ,EAAO,cACpBuJ,EACE,KACAvJ,EAAM4J,WACN5K,EACAwJ,EACAC,EACA,KAEAE,EACAC,GAEFiB,GAAgBJ,EAAUzJ,EAAM4J,aAEhCH,EAAS1M,SAAQ,GAAO,EAE5B,CACA,SAASgM,GAAcT,EAAIC,EAAIvJ,EAAWwJ,EAAQC,EAAiBE,EAAOC,EAAcvB,GAAahO,EAAGkQ,EAAOO,GAAIC,EAAS3Q,GAAG,cAAE9lB,KAC/H,MAAMm2B,EAAWlB,EAAGkB,SAAWnB,EAAGmB,SAClCA,EAASzJ,MAAQuI,EACjBA,EAAGj5B,GAAKg5B,EAAGh5B,GACX,MAAM06B,EAAYzB,EAAGoB,UACfM,EAAc1B,EAAGqB,YACjB,aAAEM,EAAY,cAAER,EAAa,aAAES,EAAY,YAAEC,GAAgBX,EACnE,GAAIC,EACFD,EAASC,cAAgBM,EACrBK,GAAgBL,EAAWN,IAC7BH,EACEG,EACAM,EACAP,EAASD,gBACT,KACAf,EACAgB,EACAd,EACAC,EACAvB,GAEEoC,EAAShlB,MAAQ,EACnBglB,EAAS1M,UACAoN,IACTZ,EACEW,EACAD,EACAjL,EACAwJ,EACAC,EACA,KAEAE,EACAC,EACAvB,GAEFwC,GAAgBJ,EAAUQ,MAG5BR,EAASa,YACLF,GACFX,EAASW,aAAc,EACvBX,EAASS,aAAeR,GAExBK,EAAQL,EAAejB,EAAiBgB,GAE1CA,EAAShlB,KAAO,EAChBglB,EAAS5mB,QAAQnT,OAAS,EAC1B+5B,EAASD,gBAAkBl2B,EAAc,OACrC62B,GACFZ,EACE,KACAS,EACAP,EAASD,gBACT,KACAf,EACAgB,EACAd,EACAC,EACAvB,GAEEoC,EAAShlB,MAAQ,EACnBglB,EAAS1M,WAETwM,EACEW,EACAD,EACAjL,EACAwJ,EACAC,EACA,KAEAE,EACAC,EACAvB,GAEFwC,GAAgBJ,EAAUQ,KAEnBC,GAAgBG,GAAgBL,EAAWE,IACpDX,EACEW,EACAF,EACAhL,EACAwJ,EACAC,EACAgB,EACAd,EACAC,EACAvB,GAEFoC,EAAS1M,SAAQ,KAEjBwM,EACE,KACAS,EACAP,EAASD,gBACT,KACAf,EACAgB,EACAd,EACAC,EACAvB,GAEEoC,EAAShlB,MAAQ,GACnBglB,EAAS1M,iBAKf,GAAImN,GAAgBG,GAAgBL,EAAWE,GAC7CX,EACEW,EACAF,EACAhL,EACAwJ,EACAC,EACAgB,EACAd,EACAC,EACAvB,GAEFwC,GAAgBJ,EAAUO,QAgB1B,GAdAX,GAAad,EAAI,aACjBkB,EAASC,cAAgBM,EACzBP,EAASa,YACTf,EACE,KACAS,EACAP,EAASD,gBACT,KACAf,EACAgB,EACAd,EACAC,EACAvB,GAEEoC,EAAShlB,MAAQ,EACnBglB,EAAS1M,cACJ,CACL,MAAM,QAAEwN,EAAO,UAAED,GAAcb,EAC3Bc,EAAU,EACZjH,YAAW,KACLmG,EAASa,YAAcA,GACzBb,EAASe,SAASP,EACpB,GACCM,GACkB,IAAZA,GACTd,EAASe,SAASP,EAEtB,CAGN,CAEA,SAASf,GAAuBlJ,EAAO0I,EAAgBD,EAAiBzJ,EAAWwK,EAAiBhB,EAAQG,EAAOC,EAAcvB,EAAWwB,EAAmBuB,GAAc,GAO3K,MACE/Q,EAAGkQ,EACH51B,EAAG82B,EACHX,GAAIC,EACJltB,EAAGgP,EACHuN,GAAG,WAAEsR,EAAU,OAAE3Y,IACf8W,EACJ,IAAI8B,EACJ,MAAMC,EAAgBC,GAAmB7K,GACrC4K,IACoB,MAAlBlC,OAAyB,EAASA,EAAegB,iBACnDiB,EAAmBjC,EAAe4B,UAClC5B,EAAejkB,QAGnB,MAAM8lB,EAAUvK,EAAMhK,OAAQhC,EAAAA,EAAAA,IAASgM,EAAMhK,MAAMuU,cAAW,EAI9D,MAAMd,EAAW,CACfzJ,QACAjd,OAAQ2lB,EACRD,kBACAE,QACA3J,YACAwK,kBACAhB,SACA/jB,KAAM,EACN6lB,UAAW,EACXC,QAA4B,kBAAZA,EAAuBA,GAAW,EAClDL,aAAc,KACdR,cAAe,KACfS,cAAc,EACdC,cACA5G,aAAa,EACb3gB,QAAS,GACTka,QAAQ+N,GAAS,EAAOC,GAAO,GAa7B,MACE/K,MAAOgL,EAAM,aACbd,EAAY,cACZR,EAAa,UACbY,EAAS,QACTznB,EACA4lB,gBAAiBwC,EACjBjM,UAAWkM,GACTzB,EACJ,GAAIA,EAASW,YACXX,EAASW,aAAc,OAClB,IAAKU,EAAQ,CAClB,MAAMK,EAAajB,GAAgBR,EAAc9C,YAAgD,WAAlC8C,EAAc9C,WAAW3nB,KACpFksB,IACFjB,EAAatD,WAAWwE,WAAa,KAC/Bd,IAAcb,EAASa,WACzBG,EAAKf,EAAewB,EAAYG,EAAS,EAC3C,GAGJ,IAAM7C,OAAQ6C,GAAY5B,EACtBS,IACFmB,EAAUxf,EAAKqe,GACfH,EAAQG,EAAce,EAAkBxB,GAAU,IAE/C0B,GACHV,EAAKf,EAAewB,EAAYG,EAAS,EAE7C,CACAxB,GAAgBJ,EAAUC,GAC1BD,EAASC,cAAgB,KACzBD,EAASU,cAAe,EACxB,IAAIpnB,EAAS0mB,EAAS1mB,OAClBuoB,GAAwB,EAC5B,MAAOvoB,EAAQ,CACb,GAAIA,EAAO2mB,cAAe,CACxB3mB,EAAOF,QAAQ9E,QAAQ8E,GACvByoB,GAAwB,EACxB,KACF,CACAvoB,EAASA,EAAOA,MAClB,CACKuoB,GACHvJ,EAAiBlf,GAEnB4mB,EAAS5mB,QAAU,GACf+nB,GACElC,GAAkBA,EAAegB,eAAiBiB,IAAqBjC,EAAe4B,YACxF5B,EAAejkB,OACa,IAAxBikB,EAAejkB,MAAesmB,GAChCrC,EAAe3L,WAIrBsM,GAAa2B,EAAQ,YACvB,EACAR,SAASe,GACP,IAAK9B,EAASC,cACZ,OAEF,MAAQ1J,MAAOgL,EAAM,aAAEd,EAAczB,gBAAiBwC,EAAkBjM,UAAWkM,EAAYvC,MAAO6C,GAAW/B,EACjHJ,GAAa2B,EAAQ,cACrB,MAAMK,EAAUxf,EAAKqe,GACfuB,EAAgBA,KACfhC,EAASU,eAGdZ,EACE,KACAgC,EACAL,EACAG,EACAJ,EACA,KAEAO,EACA5C,EACAvB,GAEFwC,GAAgBJ,EAAU8B,GAAc,EAEpCJ,EAAaI,EAAc3E,YAAgD,WAAlC2E,EAAc3E,WAAW3nB,KACpEksB,IACFjB,EAAatD,WAAWwE,WAAaK,GAEvChC,EAASU,cAAe,EACxBJ,EACEG,EACAe,EACA,MAEA,GAGGE,GACHM,GAEJ,EACAhB,KAAKS,EAAYG,EAAS1wB,GACxB8uB,EAASS,cAAgBO,EAAKhB,EAASS,aAAcgB,EAAYG,EAAS1wB,GAC1E8uB,EAASzK,UAAYkM,CACvB,EACArf,OACE,OAAO4d,EAASS,cAAgBre,EAAK4d,EAASS,aAChD,EACAwB,YAAYxT,EAAUyT,GACpB,MAAMC,IAAwBnC,EAASC,cACnCkC,GACFnC,EAAShlB,OAEX,MAAMonB,EAAa3T,EAAS8H,MAAM1wB,GAClC4oB,EAAS4T,SAAStZ,OAAOmN,IACvBC,EAAYD,EAAKzH,EAAU,EAAE,IAC5B3F,MAAMwZ,IACP,GAAI7T,EAASsL,aAAeiG,EAASjG,aAAeiG,EAASa,YAAcpS,EAAS8T,WAClF,OAEF9T,EAAS+T,eAAgB,EACzB,MAAQjM,MAAOgL,GAAW9S,EAI1BgU,GAAkBhU,EAAU6T,GAAkB,GAC1CF,IACFb,EAAO17B,GAAKu8B,GAEd,MAAMM,GAAeN,GAAc3T,EAASgQ,QAAQ54B,GACpDq8B,EACEzT,EACA8S,EAIAN,EAAWmB,GAAc3T,EAASgQ,QAAQ54B,IAG1Cu8B,EAAa,KAAOhgB,EAAKqM,EAASgQ,SAClCuB,EACAd,EACAtB,GAEE8E,GACFpa,EAAOoa,GAETlE,EAAgB/P,EAAU8S,EAAO17B,IAI7Bs8B,GAA2C,MAAlBnC,EAAShlB,MACpCglB,EAAS1M,SACX,GAEJ,EACAgN,QAAQqC,EAAiBC,GACvB5C,EAASjG,aAAc,EACnBiG,EAASS,cACXH,EACEN,EAASS,aACTzB,EACA2D,EACAC,GAGA5C,EAASC,eACXK,EACEN,EAASC,cACTjB,EACA2D,EACAC,EAGN,GAEF,OAAO5C,CACT,CACA,SAASR,GAAgBqD,EAAMtM,EAAOyI,EAAiBC,EAAgBC,EAAOC,EAAcvB,EAAWwB,EAAmB0D,GACxH,MAAM9C,EAAWzJ,EAAMyJ,SAAWP,GAChClJ,EACA0I,EACAD,EACA6D,EAAK5B,WACLx3B,SAASI,cAAc,OACvB,KACAq1B,EACAC,EACAvB,EACAwB,GACA,GAGIx3B,EAASk7B,EACbD,EACA7C,EAASC,cAAgB1J,EAAM2J,UAC/BlB,EACAgB,EACAb,EACAvB,GAKF,OAHsB,IAAlBoC,EAAShlB,MACXglB,EAAS1M,SAAQ,GAAO,GAEnB1rB,CACT,CACA,SAAS83B,GAA0BnJ,GACjC,MAAM,UAAEgG,EAAS,SAAEc,GAAa9G,EAC1BwM,EAA6B,GAAZxG,EACvBhG,EAAM2J,UAAY8C,GAChBD,EAAiB1F,EAAS4F,QAAU5F,GAEtC9G,EAAM4J,WAAa4C,EAAiBC,GAAsB3F,EAAS0D,UAAYlE,GAAYC,GAC7F,CACA,SAASkG,GAAsBh5B,GAC7B,IAAIk5B,EACJ,IAAItd,EAAAA,EAAAA,IAAW5b,GAAI,CACjB,MAAMm5B,EAAaC,IAAsBp5B,EAAEiyB,GACvCkH,IACFn5B,EAAE8xB,IAAK,EACPuH,MAEFr5B,EAAIA,IACAm5B,IACFn5B,EAAE8xB,IAAK,EACPoH,EAAQI,GACRC,KAEJ,CACA,IAAIj9B,EAAAA,EAAAA,IAAQ0D,GAAI,CACd,MAAMw5B,EAAcpG,EAAiBpzB,GACjC,EAGJA,EAAIw5B,CACN,CAKA,OAJAx5B,EAAIyyB,GAAezyB,GACfk5B,IAAUl5B,EAAEy5B,kBACdz5B,EAAEy5B,gBAAkBP,EAAM7kB,QAAQpU,GAAMA,IAAMD,KAEzCA,CACT,CACA,SAAS05B,GAAwB70B,EAAImxB,GAC/BA,GAAYA,EAASC,eACnB35B,EAAAA,EAAAA,IAAQuI,GACVmxB,EAAS5mB,QAAQ9E,QAAQzF,GAEzBmxB,EAAS5mB,QAAQ9E,KAAKzF,GAGxBypB,EAAiBzpB,EAErB,CACA,SAASuxB,GAAgBJ,EAAU2D,GACjC3D,EAASS,aAAekD,EACxB,MAAM,MAAEpN,EAAK,gBAAEyI,GAAoBgB,EAC7Bn6B,EAAK0wB,EAAM1wB,GAAK89B,EAAO99B,GACzBm5B,GAAmBA,EAAgBP,UAAYlI,IACjDyI,EAAgBzI,MAAM1wB,GAAKA,EAC3B24B,EAAgBQ,EAAiBn5B,GAErC,CACA,SAASu7B,GAAmB7K,GAC1B,IAAItY,EACJ,OAAiE,OAAnC,OAArBA,EAAKsY,EAAMhK,YAAiB,EAAStO,EAAG2lB,eAAoD,IAA5BrN,EAAMhK,MAAMqX,WACvF,CAEA,SAASC,GAAYzpB,EAAQrR,GAC3B,OAAO+6B,GAAQ1pB,EAAQ,KAAMrR,EAC/B,CACA,SAASg7B,GAAgB3pB,EAAQrR,GAC/B,OAAO+6B,GACL1pB,EACA,KACqF,CAAE4pB,MAAO,QAElG,CACA,SAASC,GAAgB7pB,EAAQrR,GAC/B,OAAO+6B,GACL1pB,EACA,KACqF,CAAE4pB,MAAO,QAElG,CACA,MAAME,GAAwB,CAAC,EAC/B,SAASC,GAAMh8B,EAAQowB,EAAIxvB,GAMzB,OAAO+6B,GAAQ37B,EAAQowB,EAAIxvB,EAC7B,CACA,SAAS+6B,GAAQ37B,EAAQowB,GAAI,UAAE6L,EAAS,KAAEvP,EAAI,MAAEmP,EAAK,QAAEK,EAAO,UAAEC,GAAcxc,EAAAA,IAC5E,IAAI7J,EAaJ,MAOMwQ,GAAWnU,EAAAA,EAAAA,SAAiD,OAAzB2D,EAAKsmB,SAA2B,EAAStmB,EAAG5D,OAASkqB,GAAkB,KAChH,IAAI1xB,EAkDA2xB,EAjDAC,GAAe,EACfC,GAAgB,EA4CpB,IA3CI9kB,EAAAA,EAAAA,IAAMzX,IACR0K,EAASA,IAAM1K,EAAOpC,MACtB0+B,GAAeE,EAAAA,EAAAA,IAAYx8B,KAClBkc,EAAAA,EAAAA,IAAWlc,IACpB0K,EAASA,IAAM1K,EACf0sB,GAAO,IACEvuB,EAAAA,EAAAA,IAAQ6B,IACjBu8B,GAAgB,EAChBD,EAAet8B,EAAO40B,MAAM/yB,IAAMqa,EAAAA,EAAAA,IAAWra,KAAM26B,EAAAA,EAAAA,IAAY36B,KAC/D6I,EAASA,IAAM1K,EAAOmW,KAAKtU,IACrB4V,EAAAA,EAAAA,IAAM5V,GACDA,EAAEjE,OACAse,EAAAA,EAAAA,IAAWra,GACb46B,GAAS56B,IACP4b,EAAAA,EAAAA,IAAW5b,GACbisB,EAAsBjsB,EAAGykB,EAAU,QADrC,KAQP5b,GAFO+S,EAAAA,EAAAA,IAAWzd,GAChBowB,EACO1lB,IAAMojB,EAAsB9tB,EAAQsmB,EAAU,GAE9C5b,KACP,IAAI4b,IAAYA,EAASsL,YAMzB,OAHIyK,GACFA,IAEKpO,EACLjuB,EACAsmB,EACA,EACA,CAACoW,GACF,EAIIrd,EAAAA,GAGP+Q,GAAM1D,EAAM,CACd,MAAMiQ,EAAajyB,EACnBA,EAASA,IAAM+xB,GAASE,IAC1B,CAEA,IAKIC,EALAF,EAAah2B,IACf21B,EAAUpqB,EAAO4B,OAAS,KACxBia,EAAsBpnB,EAAI4f,EAAU,EAAE,CACvC,EAGH,GAAIuW,GAAuB,CAWzB,GAVAH,EAAYrd,EAAAA,GACP+Q,EAEM6L,GACThO,EAA2BmC,EAAI9J,EAAU,EAAG,CAC1C5b,IACA6xB,EAAgB,QAAK,EACrBG,IALFhyB,IAQY,SAAVmxB,EAIF,OAAOxc,EAAAA,GAJa,CACpB,MAAMiK,EAAMwT,KACZF,EAAatT,EAAIyT,mBAAqBzT,EAAIyT,iBAAmB,GAC/D,CAGF,CACA,IAAI/nB,EAAWunB,EAAgB,IAAIpzB,MAAMnJ,EAAOlC,QAAQk/B,KAAKjB,IAAyBA,GACtF,MAAMhM,EAAMA,KACV,GAAK9d,EAAOZ,OAGZ,GAAI+e,EAAI,CACN,MAAMrb,EAAW9C,EAAOX,OACpBob,GAAQ4P,IAAiBC,EAAgBxnB,EAAS6f,MACpD,CAACjc,EAAGvY,KAAM8X,EAAAA,EAAAA,IAAWS,EAAG3D,EAAS5U,OAC/B8X,EAAAA,EAAAA,IAAWnD,EAAUC,OACnBqnB,GACFA,IAEFpO,EAA2BmC,EAAI9J,EAAU,EAAG,CAC1CvR,EAEAC,IAAa+mB,QAAwB,EAASQ,GAAiBvnB,EAAS,KAAO+mB,GAAwB,GAAK/mB,EAC5G0nB,IAEF1nB,EAAWD,EAEf,MACE9C,EAAOX,KACT,EAGF,IAAIkC,EADJuc,EAAIna,eAAiBwa,EAEP,SAAVyL,EACFroB,EAAYuc,EACO,SAAV8L,EACTroB,EAAYA,IAAMypB,GAAsBlN,EAAKzJ,GAAYA,EAASuR,WAElE9H,EAAIQ,KAAM,EACNjK,IACFyJ,EAAIvhB,GAAK8X,EAASpZ,KACpBsG,EAAYA,IAAMsc,EAASC,IAE7B,MAAM9d,EAAS,IAAIsB,EAAAA,GAAe7I,EAAQ8I,GAKtC4c,EACE6L,EACFlM,IAEA/a,EAAW/C,EAAOX,MAED,SAAVuqB,EACToB,GACEhrB,EAAOX,IAAIzL,KAAKoM,GAChBqU,GAAYA,EAASuR,UAGvB5lB,EAAOX,MAET,MAAM4rB,EAAUA,KACdjrB,EAAOP,OACH4U,GAAYA,EAASpU,QACvBiO,EAAAA,EAAAA,IAAOmG,EAASpU,MAAMjB,QAASgB,EACjC,EAIF,OAFI2qB,GACFA,EAAWzwB,KAAK+wB,GACXA,CACT,CACA,SAASC,GAAcn9B,EAAQpC,EAAOgD,GACpC,MAAMw8B,EAAa5gC,KAAKwf,MAClBtR,GAAS+V,EAAAA,EAAAA,IAASzgB,GAAUA,EAAOhC,SAAS,KAAOq/B,GAAiBD,EAAYp9B,GAAU,IAAMo9B,EAAWp9B,GAAUA,EAAO6F,KAAKu3B,EAAYA,GACnJ,IAAIhN,GACA3S,EAAAA,EAAAA,IAAW7f,GACbwyB,EAAKxyB,GAELwyB,EAAKxyB,EAAMo0B,QACXpxB,EAAUhD,GAEZ,MAAMywB,EAAM+N,GACZkB,GAAmB9gC,MACnB,MAAMua,EAAM4kB,GAAQjxB,EAAQ0lB,EAAGvqB,KAAKu3B,GAAax8B,GAMjD,OALIytB,EACFiP,GAAmBjP,GAEnBkP,KAEKxmB,CACT,CACA,SAASsmB,GAAiB/T,EAAKkU,GAC7B,MAAMC,EAAWD,EAAKx5B,MAAM,KAC5B,MAAO,KACL,IAAIqqB,EAAM/E,EACV,IAAK,IAAIlpB,EAAI,EAAGA,EAAIq9B,EAAS3/B,QAAUuwB,EAAKjuB,IAC1CiuB,EAAMA,EAAIoP,EAASr9B,IAErB,OAAOiuB,CAAG,CAEd,CACA,SAASoO,GAAS7+B,EAAO0yB,GACvB,KAAKnzB,EAAAA,EAAAA,IAASS,IAAUA,EAAM,YAC5B,OAAOA,EAGT,GADA0yB,EAAOA,GAAwB,IAAI/d,IAC/B+d,EAAKloB,IAAIxK,GACX,OAAOA,EAGT,GADA0yB,EAAKzb,IAAIjX,IACL6Z,EAAAA,EAAAA,IAAM7Z,GACR6+B,GAAS7+B,EAAMA,MAAO0yB,QACjB,IAAInyB,EAAAA,EAAAA,IAAQP,GACjB,IAAK,IAAIwC,EAAI,EAAGA,EAAIxC,EAAME,OAAQsC,IAChCq8B,GAAS7+B,EAAMwC,GAAIkwB,QAEhB,IAAIhQ,EAAAA,EAAAA,IAAM1iB,KAAU4X,EAAAA,EAAAA,IAAM5X,GAC/BA,EAAMyX,SAASsD,IACb8jB,GAAS9jB,EAAG2X,EAAK,SAEd,IAAIxP,EAAAA,EAAAA,IAAcljB,GACvB,IAAK,MAAM2B,KAAO3B,EAChB6+B,GAAS7+B,EAAM2B,GAAM+wB,GAGzB,OAAO1yB,CACT,CAOA,SAAS8/B,GAAetP,EAAOuP,GAC7B,MAAMC,EAAmB9K,EACzB,GAAyB,OAArB8K,EAEF,OAAOxP,EAET,MAAM9H,EAAWuX,GAAeD,IAAqBA,EAAiB5hB,MAChE8hB,EAAW1P,EAAM2G,OAAS3G,EAAM2G,KAAO,IAC7C,IAAK,IAAI30B,EAAI,EAAGA,EAAIu9B,EAAW7/B,OAAQsC,IAAK,CAC1C,IAAK29B,EAAKngC,EAAOyG,EAAK25B,EAAYre,EAAAA,IAAage,EAAWv9B,GACtD29B,KACEtgB,EAAAA,EAAAA,IAAWsgB,KACbA,EAAM,CACJ3R,QAAS2R,EACTE,QAASF,IAGTA,EAAIrR,MACN+P,GAAS7+B,GAEXkgC,EAAS3xB,KAAK,CACZ4xB,MACAzX,WACA1oB,QACAoX,cAAU,EACV3Q,MACA25B,cAGN,CACA,OAAO5P,CACT,CACA,SAAS8P,GAAoB9P,EAAOmH,EAAWjP,EAAUxlB,GACvD,MAAMg9B,EAAW1P,EAAM2G,KACjBoJ,EAAc5I,GAAaA,EAAUR,KAC3C,IAAK,IAAI30B,EAAI,EAAGA,EAAI09B,EAAShgC,OAAQsC,IAAK,CACxC,MAAMg+B,EAAUN,EAAS19B,GACrB+9B,IACFC,EAAQppB,SAAWmpB,EAAY/9B,GAAGxC,OAEpC,IAAIszB,EAAOkN,EAAQL,IAAIj9B,GACnBowB,KACF9c,EAAAA,EAAAA,MACA6Z,EAA2BiD,EAAM5K,EAAU,EAAG,CAC5C8H,EAAM1wB,GACN0gC,EACAhQ,EACAmH,KAEFlhB,EAAAA,EAAAA,MAEJ,CACF,CAEA,SAASgqB,KACP,MAAMv1B,EAAQ,CACZw1B,WAAW,EACXC,WAAW,EACXC,cAAc,EACdC,cAA+B,IAAIjqB,KAQrC,OANAkqB,IAAU,KACR51B,EAAMw1B,WAAY,CAAI,IAExBK,IAAgB,KACd71B,EAAM01B,cAAe,CAAI,IAEpB11B,CACT,CACA,MAAM81B,GAA0B,CAAC34B,SAAUkD,OACrC01B,GAAgC,CACpCxxB,KAAMtQ,OACN+hC,OAAQC,QACRC,UAAWD,QAEXE,cAAeL,GACfM,QAASN,GACTO,aAAcP,GACdQ,iBAAkBR,GAElBS,cAAeT,GACfU,QAASV,GACTW,aAAcX,GACdY,iBAAkBZ,GAElBa,eAAgBb,GAChBc,SAAUd,GACVe,cAAef,GACfgB,kBAAmBhB,IAEfiB,GAAqB,CACzB/+B,KAAO,iBACPsjB,MAAOya,GACPlU,MAAMvG,GAAO,MAAEqF,IACb,MAAMnD,EAAWwZ,KACXh3B,EAAQu1B,KACd,IAAI0B,EACJ,MAAO,KACL,MAAM7K,EAAWzL,EAAMqR,SAAWkF,GAAyBvW,EAAMqR,WAAW,GAC5E,IAAK5F,IAAaA,EAASp3B,OACzB,OAEF,IAAIs3B,EAAQF,EAAS,GACrB,GAAIA,EAASp3B,OAAS,EAAG,CACvB,IAAImiC,GAAW,EACf,IAAK,MAAMn+B,KAAKozB,EACd,GAAIpzB,EAAEiH,OAAS4rB,GAAS,CAClB,EAMJS,EAAQtzB,EACRm+B,GAAW,EAET,KACJ,CAEJ,CACA,MAAMC,GAAWppB,EAAAA,EAAAA,IAAMsN,IACjB,KAAE/W,GAAS6yB,EAIjB,GAAIp3B,EAAMy1B,UACR,OAAO4B,GAAiB/K,GAE1B,MAAMgL,EAAaC,GAAkBjL,GACrC,IAAKgL,EACH,OAAOD,GAAiB/K,GAE1B,MAAMkL,EAAaC,GACjBH,EACAF,EACAp3B,EACAwd,GAEFka,GAAmBJ,EAAYE,GAC/B,MAAMG,EAAWna,EAASgQ,QACpBoK,EAAgBD,GAAYJ,GAAkBI,GACpD,IAAIE,GAAuB,EAC3B,MAAM,iBAAEC,GAAqBR,EAAWr3B,KACxC,GAAI63B,EAAkB,CACpB,MAAMrhC,EAAMqhC,SACc,IAAtBb,EACFA,EAAoBxgC,EACXA,IAAQwgC,IACjBA,EAAoBxgC,EACpBohC,GAAuB,EAE3B,CACA,GAAID,GAAiBA,EAAc33B,OAAS4rB,MAAa8D,GAAgB2H,EAAYM,IAAkBC,GAAuB,CAC5H,MAAME,EAAeN,GACnBG,EACAR,EACAp3B,EACAwd,GAGF,GADAka,GAAmBE,EAAeG,GACrB,WAATxzB,EAQF,OAPAvE,EAAMy1B,WAAY,EAClBsC,EAAarH,WAAa,KACxB1wB,EAAMy1B,WAAY,GACa,IAA3BjY,EAAS4G,OAAO7b,QAClBiV,EAAS4G,QACX,EAEKiT,GAAiB/K,GACN,WAAT/nB,GAAqB+yB,EAAWr3B,OAAS4rB,KAClDkM,EAAaC,WAAa,CAACpjC,EAAIqjC,EAAaC,KAC1C,MAAMC,EAAqBC,GACzBp4B,EACA43B,GAEFO,EAAmBlkC,OAAO2jC,EAAcnhC,MAAQmhC,EAChDhjC,EAAGyjC,SAAW,KACZJ,IACArjC,EAAGyjC,cAAW,SACPb,EAAWU,YAAY,EAEhCV,EAAWU,aAAeA,CAAY,EAG5C,CACA,OAAO5L,CAAK,CAEhB,GAEIgM,GAAiBvB,GACvB,SAASqB,GAAuBp4B,EAAOslB,GACrC,MAAM,cAAEqQ,GAAkB31B,EAC1B,IAAIm4B,EAAqBxC,EAAcr9B,IAAIgtB,EAAMrlB,MAKjD,OAJKk4B,IACHA,EAAqC5iC,OAAOohB,OAAO,MACnDgf,EAAct2B,IAAIimB,EAAMrlB,KAAMk4B,IAEzBA,CACT,CACA,SAASV,GAAuBnS,EAAOhK,EAAOtb,EAAOwd,GACnD,MAAM,OACJwY,EAAM,KACNzxB,EAAI,UACJ2xB,GAAY,EAAK,cACjBC,EAAa,QACbC,EAAO,aACPC,EAAY,iBACZC,EAAgB,cAChBC,EAAa,QACbC,EAAO,aACPC,EAAY,iBACZC,EAAgB,eAChBC,EAAc,SACdC,EAAQ,cACRC,EAAa,kBACbC,GACExb,EACE7kB,EAAMxC,OAAOqxB,EAAM7uB,KACnB0hC,EAAqBC,GAAuBp4B,EAAOslB,GACnDiT,EAAWA,CAACnQ,EAAMta,KACtBsa,GAAQjD,EACNiD,EACA5K,EACA,EACA1P,EACD,EAEG0qB,EAAgBA,CAACpQ,EAAMta,KAC3B,MAAMsD,EAAOtD,EAAK,GAClByqB,EAASnQ,EAAMta,IACXzY,EAAAA,EAAAA,IAAQ+yB,GACNA,EAAKqQ,OAAOC,GAAUA,EAAM1jC,QAAU,KACxCoc,IACOgX,EAAKpzB,QAAU,GACxBoc,GACF,EAEIunB,EAAQ,CACZp0B,OACA2xB,YACA0C,YAAYhkC,GACV,IAAIwzB,EAAO+N,EACX,IAAKn2B,EAAMw1B,UAAW,CACpB,IAAIQ,EAGF,OAFA5N,EAAOuO,GAAkBR,CAI7B,CACIvhC,EAAGyjC,UACLzjC,EAAGyjC,UACD,GAIJ,MAAMQ,EAAeV,EAAmB1hC,GACpCoiC,GAAgBlJ,GAAgBrK,EAAOuT,IAAiBA,EAAajkC,GAAGyjC,UAC1EQ,EAAajkC,GAAGyjC,WAElBE,EAASnQ,EAAM,CAACxzB,GAClB,EACAkkC,MAAMlkC,GACJ,IAAIwzB,EAAOgO,EACP2C,EAAY1C,EACZ2C,EAAa1C,EACjB,IAAKt2B,EAAMw1B,UAAW,CACpB,IAAIQ,EAKF,OAJA5N,EAAOwO,GAAYR,EACnB2C,EAAYlC,GAAiBR,EAC7B2C,EAAalC,GAAqBR,CAItC,CACA,IAAI2C,GAAS,EACb,MAAM7nB,EAAOxc,EAAGskC,SAAYC,IACtBF,IAEJA,GAAS,EAEPV,EADEY,EACOH,EAEAD,EAFY,CAACnkC,IAIpB+jC,EAAMT,cACRS,EAAMT,eAERtjC,EAAGskC,cAAW,EAAM,EAElB9Q,EACFoQ,EAAcpQ,EAAM,CAACxzB,EAAIwc,IAEzBA,GAEJ,EACAgoB,MAAMxkC,EAAIyiB,GACR,MAAM7K,EAAOvY,OAAOqxB,EAAM7uB,KAO1B,GANI7B,EAAGskC,UACLtkC,EAAGskC,UACD,GAIAl5B,EAAM01B,aACR,OAAOre,IAETkhB,EAAShC,EAAe,CAAC3hC,IACzB,IAAIqkC,GAAS,EACb,MAAM7nB,EAAOxc,EAAGyjC,SAAYc,IACtBF,IAEJA,GAAS,EACT5hB,IAEEkhB,EADEY,EACOzC,EAEAD,EAFkB,CAAC7hC,IAI9BA,EAAGyjC,cAAW,EACVF,EAAmB3rB,KAAU8Y,UACxB6S,EAAmB3rB,GAC5B,EAEF2rB,EAAmB3rB,GAAQ8Y,EACvBkR,EACFgC,EAAchC,EAAS,CAAC5hC,EAAIwc,IAE5BA,GAEJ,EACAioB,MAAM/I,GACJ,OAAOmH,GAAuBnH,EAAQhV,EAAOtb,EAAOwd,EACtD,GAEF,OAAOmb,CACT,CACA,SAAStB,GAAiB/R,GACxB,GAAIgU,GAAYhU,GAGd,OAFAA,EAAQ0G,GAAW1G,GACnBA,EAAM8G,SAAW,KACV9G,CAEX,CACA,SAASiS,GAAkBjS,GACzB,OAAOgU,GAAYhU,GAASA,EAAM8G,SAAW9G,EAAM8G,SAAS,QAAK,EAAS9G,CAC5E,CACA,SAASoS,GAAmBpS,EAAOqT,GACX,EAAlBrT,EAAMgG,WAAiBhG,EAAMwH,UAC/B4K,GAAmBpS,EAAMwH,UAAUU,QAASmL,GACjB,IAAlBrT,EAAMgG,WACfhG,EAAM2J,UAAU/C,WAAayM,EAAMU,MAAM/T,EAAM2J,WAC/C3J,EAAM4J,WAAWhD,WAAayM,EAAMU,MAAM/T,EAAM4J,aAEhD5J,EAAM4G,WAAayM,CAEvB,CACA,SAASzB,GAAyB9K,EAAUmN,GAAc,EAAOC,GAC/D,IAAIpkB,EAAM,GACNqkB,EAAqB,EACzB,IAAK,IAAIniC,EAAI,EAAGA,EAAI80B,EAASp3B,OAAQsC,IAAK,CACxC,IAAIg1B,EAAQF,EAAS90B,GACrB,MAAMb,EAAmB,MAAb+iC,EAAoBlN,EAAM71B,IAAMxC,OAAOulC,GAAavlC,OAAoB,MAAbq4B,EAAM71B,IAAc61B,EAAM71B,IAAMa,GACnGg1B,EAAMrsB,OAASy5B,IACK,IAAlBpN,EAAMW,WACRwM,IACFrkB,EAAMA,EAAIlS,OACRg0B,GAAyB5K,EAAMF,SAAUmN,EAAa9iC,MAE/C8iC,GAAejN,EAAMrsB,OAAS4rB,KACvCzW,EAAI/R,KAAY,MAAP5M,EAAcu1B,GAAWM,EAAO,CAAE71B,QAAS61B,EAExD,CACA,GAAImN,EAAqB,EACvB,IAAK,IAAIniC,EAAI,EAAGA,EAAI8d,EAAIpgB,OAAQsC,IAC9B8d,EAAI9d,GAAG21B,WAAa,EAGxB,OAAO7X,CACT,CAEA,SAASukB,GAAgB7hC,EAAS8hC,GAChC,OAAOjlB,EAAAA,EAAAA,IAAW7c,GAGA,MAAOoT,EAAAA,EAAAA,IAAO,CAAElT,KAAMF,EAAQE,MAAQ4hC,EAAc,CAAE/X,MAAO/pB,IAA7D,GACdA,CACN,CAEA,MAAM+hC,GAAkBviC,KAAQA,EAAE2I,KAAK65B,cACvC,SAASC,GAAqB7iC,IACxByd,EAAAA,EAAAA,IAAWzd,KACbA,EAAS,CAAE8iC,OAAQ9iC,IAErB,MAAM,OACJ8iC,EAAM,iBACNC,EAAgB,eAChBC,EAAc,MACdC,EAAQ,IAAG,QACXtK,EAAO,YAEP8C,GAAc,EACdyH,QAASC,GACPnjC,EACJ,IACIojC,EADAC,EAAiB,KAEjBC,EAAU,EACd,MAAMC,EAAQA,KACZD,IACAD,EAAiB,KACVG,KAEHA,EAAOA,KACX,IAAIC,EACJ,OAAOJ,IAAmBI,EAAcJ,EAAiBP,IAASliB,OAAOmN,IAEvE,GADAA,EAAMA,aAAe7pB,MAAQ6pB,EAAM,IAAI7pB,MAAMnH,OAAOgxB,IAChDoV,EACF,OAAO,IAAIjY,SAAQ,CAACC,EAASuY,KAC3B,MAAMC,EAAYA,IAAMxY,EAAQoY,KAC1BK,EAAWA,IAAMF,EAAO3V,GAC9BoV,EAAYpV,EAAK4V,EAAWC,EAAUN,EAAU,EAAE,IAGpD,MAAMvV,CACR,IACCpN,MAAMyR,GACHqR,IAAgBJ,GAAkBA,EAC7BA,GAOLjR,IAASA,EAAKyR,YAA2C,WAA7BzR,EAAK1kB,OAAOo2B,gBAC1C1R,EAAOA,EAAK0I,SAKdsI,EAAehR,EACRA,KACN,EAEL,OAAOqQ,GAAgB,CACrB3hC,KAAM,wBACN8hC,cAAeY,EACXO,sBACF,OAAOX,CACT,EACAzY,QACE,MAAMrE,EAAW8V,GACjB,GAAIgH,EACF,MAAO,IAAMY,GAAgBZ,EAAc9c,GAE7C,MAAM4c,EAAWnV,IACfsV,EAAiB,KACjBrV,EACED,EACAzH,EACA,IACC0c,EAEF,EAEH,GAAIvH,GAAenV,EAASuR,UAAYgF,GACtC,OAAO2G,IAAO7iB,MAAMyR,GACX,IAAM4R,GAAgB5R,EAAM9L,KAClC1F,OAAOmN,IACRmV,EAAQnV,GACD,IAAMiV,EAAiBtO,GAAYsO,EAAgB,CACxDtkC,MAAOqvB,IACJ,QAGT,MAAMkW,GAASpnB,EAAAA,EAAAA,KAAI,GACbne,GAAQme,EAAAA,EAAAA,MACRqnB,GAAUrnB,EAAAA,EAAAA,MAAMomB,GA0BtB,OAzBIA,GACFvR,YAAW,KACTwS,EAAQtmC,OAAQ,CAAK,GACpBqlC,GAEU,MAAXtK,GACFjH,YAAW,KACT,IAAKuS,EAAOrmC,QAAUc,EAAMd,MAAO,CACjC,MAAMmwB,EAAM,IAAI7pB,MACb,mCAAkCy0B,QAErCuK,EAAQnV,GACRrvB,EAAMd,MAAQmwB,CAChB,IACC4K,GAEL6K,IAAO7iB,MAAK,KACVsjB,EAAOrmC,OAAQ,EACX0oB,EAASnV,QAAUixB,GAAY9b,EAASnV,OAAOid,QACjD0B,EAASxJ,EAASnV,OAAO+b,OAC3B,IACCtM,OAAOmN,IACRmV,EAAQnV,GACRrvB,EAAMd,MAAQmwB,CAAG,IAEZ,IACDkW,EAAOrmC,OAASwlC,EACXY,GAAgBZ,EAAc9c,GAC5B5nB,EAAMd,OAASolC,EACjBtO,GAAYsO,EAAgB,CACjCtkC,MAAOA,EAAMd,QAENmlC,IAAqBmB,EAAQtmC,MAC/B82B,GAAYqO,QADd,CAIX,GAEJ,CACA,SAASiB,GAAgB5R,EAAMjhB,GAC7B,MAAQ0L,IAAKL,EAAI,MAAE4H,EAAK,SAAE8Q,EAAQ,GAAEiP,GAAOhzB,EAAOid,MAC5CA,EAAQsG,GAAYtC,EAAMhO,EAAO8Q,GAIvC,OAHA9G,EAAMvR,IAAML,EACZ4R,EAAM+V,GAAKA,SACJhzB,EAAOid,MAAM+V,GACb/V,CACT,CAEA,MAAMgU,GAAehU,GAAUA,EAAMrlB,KAAKq7B,cACpCC,GAAgB,CACpBvjC,KAAO,YAIPsjC,eAAe,EACfhgB,MAAO,CACLkgB,QAAS,CAACvnC,OAAQwnC,OAAQp7B,OAC1Bq7B,QAAS,CAACznC,OAAQwnC,OAAQp7B,OAC1ByE,IAAK,CAAC7Q,OAAQqY,SAEhBuV,MAAMvG,GAAO,MAAEqF,IACb,MAAMnD,EAAWwZ,KACX2E,EAAgBne,EAASgD,IAC/B,IAAKmb,EAAcC,SACjB,MAAO,KACL,MAAMxP,EAAWzL,EAAMqR,SAAWrR,EAAMqR,UACxC,OAAO5F,GAAgC,IAApBA,EAASp3B,OAAeo3B,EAAS,GAAKA,CAAQ,EAGrE,MAAM/T,EAAwB,IAAI3M,IAC5BtU,EAAuB,IAAIqS,IACjC,IAAI3G,EAAU,KAId,MAAMkrB,EAAiBxQ,EAASuR,UAE9B6M,UACEjd,EAAGkQ,EACH51B,EAAG82B,EACHX,GAAIyM,EACJnd,GAAG,cAAE9lB,KAEL+iC,EACEG,EAAmBljC,EAAc,OA8CvC,SAASy2B,EAAQ/J,GACfyW,GAAezW,GACfuW,EAASvW,EAAO9H,EAAUwQ,GAAgB,EAC5C,CACA,SAASgO,EAAW5uB,GAClBiL,EAAM9L,SAAQ,CAAC+Y,EAAO7uB,KACpB,MAAMuB,EAAOikC,GAAiB3W,EAAMrlB,OAChCjI,GAAUoV,GAAWA,EAAOpV,IAC9BkkC,EAAgBzlC,EAClB,GAEJ,CACA,SAASylC,EAAgBzlC,GACvB,MAAMgzB,EAASpR,EAAM/f,IAAI7B,GACpBqM,GAAY6sB,GAAgBlG,EAAQ3mB,GAE9BA,GACTi5B,GAAej5B,GAFfusB,EAAQ5F,GAIVpR,EAAMnO,OAAOzT,GACbW,EAAK8S,OAAOzT,EACd,CAlEAklC,EAAcQ,SAAW,CAAC7W,EAAOhB,EAAWwJ,EAAQG,EAAOtB,KACzD,MAAMyP,EAAY9W,EAAMwH,UACxBiD,EAAKzK,EAAOhB,EAAWwJ,EAAQ,EAAGE,GAClCa,EACEuN,EAAU9W,MACVA,EACAhB,EACAwJ,EACAsO,EACApO,EACAC,EACA3I,EAAM4I,aACNvB,GAEFwH,IAAsB,KACpBiI,EAAUC,eAAgB,EACtBD,EAAU39B,IACZwa,EAAAA,EAAAA,IAAemjB,EAAU39B,GAE3B,MAAM69B,EAAYhX,EAAMhK,OAASgK,EAAMhK,MAAMihB,eACzCD,GACFE,GAAgBF,EAAWF,EAAU/zB,OAAQid,EAC/C,GACC0I,EACsE,EAI3E2N,EAAcc,WAAcnX,IAC1B,MAAM8W,EAAY9W,EAAMwH,UACxBiD,EAAKzK,EAAOwW,EAAkB,KAAM,EAAG9N,GACvCmG,IAAsB,KAChBiI,EAAUM,KACZzjB,EAAAA,EAAAA,IAAemjB,EAAUM,IAE3B,MAAMJ,EAAYhX,EAAMhK,OAASgK,EAAMhK,MAAMqhB,iBACzCL,GACFE,GAAgBF,EAAWF,EAAU/zB,OAAQid,GAE/C8W,EAAUC,eAAgB,CAAI,GAC7BrO,EACsE,EA0B3EkF,IACE,IAAM,CAAC5X,EAAMkgB,QAASlgB,EAAMogB,WAC5B,EAAEF,EAASE,MACTF,GAAWQ,GAAYhkC,GAAS4kC,GAAQpB,EAASxjC,KACjD0jC,GAAWM,GAAYhkC,IAAU4kC,GAAQlB,EAAS1jC,IAAM,GAG1D,CAAE+6B,MAAO,OAAQnP,MAAM,IAEzB,IAAIiZ,EAAkB,KACtB,MAAMC,EAAeA,KACI,MAAnBD,GACFxkB,EAAMhZ,IAAIw9B,EAAiBE,GAAcvf,EAASgQ,SACpD,EAiBF,OAfAoI,GAAUkH,GACVE,GAAUF,GACVjH,IAAgB,KACdxd,EAAM9L,SAASkd,IACb,MAAM,QAAE+D,EAAO,SAAEuB,GAAavR,EACxB8H,EAAQyX,GAAcvP,GAC5B,GAAI/D,EAAOxpB,OAASqlB,EAAMrlB,MAAQwpB,EAAOhzB,MAAQ6uB,EAAM7uB,IAMvD44B,EAAQ5F,OANR,CACEsS,GAAezW,GACf,MAAMoX,EAAKpX,EAAMwH,UAAU4P,GAC3BA,GAAMvI,GAAsBuI,EAAI3N,EAElC,CACe,GACf,IAEG,KAEL,GADA8N,EAAkB,MACblc,EAAMqR,QACT,OAAO,KAET,MAAM5F,EAAWzL,EAAMqR,UACjBiL,EAAW7Q,EAAS,GAC1B,GAAIA,EAASp3B,OAAS,EAKpB,OADA8N,EAAU,KACHspB,EACF,IAAKG,GAAQ0Q,MAAoC,EAArBA,EAAS3R,cAAyC,IAArB2R,EAAS3R,WAEvE,OADAxoB,EAAU,KACHm6B,EAET,IAAI3X,EAAQyX,GAAcE,GAC1B,MAAM3T,EAAOhE,EAAMrlB,KACbjI,EAAOikC,GACXpC,GAAevU,GAASA,EAAMrlB,KAAKg7B,iBAAmB,CAAC,EAAI3R,IAEvD,QAAEkS,EAAO,QAAEE,EAAO,IAAE52B,GAAQwW,EAClC,GAAIkgB,KAAaxjC,IAAS4kC,GAAQpB,EAASxjC,KAAU0jC,GAAW1jC,GAAQ4kC,GAAQlB,EAAS1jC,GAEvF,OADA8K,EAAUwiB,EACH2X,EAET,MAAMxmC,EAAmB,MAAb6uB,EAAM7uB,IAAc6yB,EAAOhE,EAAM7uB,IACvCymC,EAAc7kB,EAAM/f,IAAI7B,GAyB9B,OAxBI6uB,EAAM1wB,KACR0wB,EAAQ0G,GAAW1G,GACM,IAArB2X,EAAS3R,YACX2R,EAAShO,UAAY3J,IAGzBuX,EAAkBpmC,EACdymC,GACF5X,EAAM1wB,GAAKsoC,EAAYtoC,GACvB0wB,EAAMwH,UAAYoQ,EAAYpQ,UAC1BxH,EAAM4G,YACRwL,GAAmBpS,EAAOA,EAAM4G,YAElC5G,EAAMgG,WAAa,IACnBl0B,EAAK8S,OAAOzT,GACZW,EAAK2U,IAAItV,KAETW,EAAK2U,IAAItV,GACLqO,GAAO1N,EAAKiZ,KAAO4H,SAASnT,EAAK,KACnCo3B,EAAgB9kC,EAAKgV,SAAS+E,OAAOrc,QAGzCwwB,EAAMgG,WAAa,IACnBxoB,EAAUwiB,EACHmI,EAAWwP,EAASh9B,MAAQg9B,EAAW3X,CAAK,CAEvD,GAEI6X,GAAY5B,GAClB,SAASqB,GAAQQ,EAASplC,GACxB,OAAI3C,EAAAA,EAAAA,IAAQ+nC,GACHA,EAAQtR,MAAMnN,GAAMie,GAAQje,EAAG3mB,MAC7B2f,EAAAA,EAAAA,IAASylB,GACXA,EAAQliC,MAAM,KAAKhG,SAAS8C,MAC1B0f,EAAAA,EAAAA,IAAS0lB,IACXA,EAAQzhC,KAAK3D,EAGxB,CACA,SAASqlC,GAAYjV,EAAMnxB,GACzBqmC,GAAsBlV,EAAM,IAAKnxB,EACnC,CACA,SAASsmC,GAAcnV,EAAMnxB,GAC3BqmC,GAAsBlV,EAAM,KAAMnxB,EACpC,CACA,SAASqmC,GAAsBlV,EAAMnoB,EAAMhJ,EAASq8B,IAClD,MAAMkK,EAAcpV,EAAKqV,QAAUrV,EAAKqV,MAAQ,KAC9C,IAAI36B,EAAU7L,EACd,MAAO6L,EAAS,CACd,GAAIA,EAAQu5B,cACV,OAEFv5B,EAAUA,EAAQuF,MACpB,CACA,OAAO+f,GAAM,GAGf,GADAsV,GAAWz9B,EAAMu9B,EAAavmC,GAC1BA,EAAQ,CACV,IAAI6L,EAAU7L,EAAOoR,OACrB,MAAOvF,GAAWA,EAAQuF,OACpBixB,GAAYx2B,EAAQuF,OAAOid,QAC7BqY,GAAsBH,EAAav9B,EAAMhJ,EAAQ6L,GAEnDA,EAAUA,EAAQuF,MAEtB,CACF,CACA,SAASs1B,GAAsBvV,EAAMnoB,EAAMhJ,EAAQ2mC,GACjD,MAAMC,EAAWH,GACfz9B,EACAmoB,EACAwV,GACA,GAGFE,IAAY,MACVzmB,EAAAA,EAAAA,IAAOumB,EAAc39B,GAAO49B,EAAS,GACpC5mC,EACL,CACA,SAAS8kC,GAAezW,GACtBA,EAAMgG,YAAa,IACnBhG,EAAMgG,YAAa,GACrB,CACA,SAASyR,GAAczX,GACrB,OAAyB,IAAlBA,EAAMgG,UAAkBhG,EAAM2J,UAAY3J,CACnD,CAEA,SAASoY,GAAWz9B,EAAMmoB,EAAMnxB,EAASq8B,GAAiByK,GAAU,GAClE,GAAI9mC,EAAQ,CACV,MAAM0hC,EAAQ1hC,EAAOgJ,KAAUhJ,EAAOgJ,GAAQ,IACxCu9B,EAAcpV,EAAK4V,QAAU5V,EAAK4V,MAAQ,IAAIlwB,KAClD,GAAI7W,EAAO6xB,YACT,QAEFxd,EAAAA,EAAAA,MACAkpB,GAAmBv9B,GACnB,MAAMgX,EAAMkX,EAA2BiD,EAAMnxB,EAAQgJ,EAAM6N,GAG3D,OAFA2mB,MACAlpB,EAAAA,EAAAA,MACO0C,CAAG,GAOZ,OALI8vB,EACFpF,EAAMhX,QAAQ6b,GAEd7E,EAAMt1B,KAAKm6B,GAENA,CACT,CAMF,CACA,MAAMS,GAAcC,GAAc,CAAC9V,EAAMnxB,EAASq8B,OAE9CS,IAAuC,OAAdmK,IAAuBR,GAAWQ,GAAW,IAAIpwB,IAASsa,KAAQta,IAAO7W,GAEhGknC,GAAgBF,GAAW,MAC3BrI,GAAYqI,GAAW,KACvBG,GAAiBH,GAAW,MAC5BjB,GAAYiB,GAAW,KACvBpI,GAAkBoI,GAAW,OAC7BH,GAAcG,GAAW,MACzBI,GAAmBJ,GAAW,MAC9BK,GAAoBL,GACxB,OAEIM,GAAkBN,GACtB,OAEF,SAASO,GAAgBpW,EAAMnxB,EAASq8B,IACtCoK,GAAW,KAAMtV,EAAMnxB,EACzB,CAEA,MAAMwnC,GAAa,aACbC,GAAa,aACnB,SAASC,GAAiB3mC,EAAM4mC,GAC9B,OAAOC,GAAaJ,GAAYzmC,GAAM,EAAM4mC,IAAuB5mC,CACrE,CACA,MAAM8mC,GAAyBl6B,OAAOm6B,IAAI,SAC1C,SAASC,GAAwBlS,GAC/B,OAAInV,EAAAA,EAAAA,IAASmV,GACJ+R,GAAaJ,GAAY3R,GAAW,IAAUA,EAE9CA,GAAagS,EAExB,CACA,SAASG,GAAiBjnC,GACxB,OAAO6mC,GAAaH,GAAY1mC,EAClC,CACA,SAAS6mC,GAAa5+B,EAAMjI,EAAMknC,GAAc,EAAMN,GAAqB,GACzE,MAAMphB,EAAWwM,GAA4BsJ,GAC7C,GAAI9V,EAAU,CACZ,MAAMiF,EAAYjF,EAASvd,KAC3B,GAAIA,IAASw+B,GAAY,CACvB,MAAMU,EAAWlD,GACfxZ,GACA,GAGF,GAAI0c,IAAaA,IAAannC,GAAQmnC,KAAa3mB,EAAAA,EAAAA,IAASxgB,IAASmnC,KAAatmB,EAAAA,EAAAA,KAAWL,EAAAA,EAAAA,IAASxgB,KACpG,OAAOyqB,CAEX,CACA,MAAMxU,EAGJoU,GAAQ7E,EAASvd,IAASwiB,EAAUxiB,GAAOjI,IAC3CqqB,GAAQ7E,EAASqI,WAAW5lB,GAAOjI,GAErC,OAAKiW,GAAO2wB,EACHnc,EAOFxU,CACT,CAKF,CACA,SAASoU,GAAQ+c,EAAUpnC,GACzB,OAAOonC,IAAaA,EAASpnC,IAASonC,GAAS5mB,EAAAA,EAAAA,IAASxgB,KAAUonC,GAASvmB,EAAAA,EAAAA,KAAWL,EAAAA,EAAAA,IAASxgB,KACjG,CAEA,SAASqnC,GAAWnoC,EAAQooC,EAAYjnB,EAAOpjB,GAC7C,IAAImgB,EACJ,MAAMqU,EAASpR,GAASA,EAAMpjB,GAC9B,IAAII,EAAAA,EAAAA,IAAQ6B,KAAWygB,EAAAA,EAAAA,IAASzgB,GAAS,CACvCke,EAAM,IAAI/U,MAAMnJ,EAAOlC,QACvB,IAAK,IAAIsC,EAAI,EAAGwR,EAAI5R,EAAOlC,OAAQsC,EAAIwR,EAAGxR,IACxC8d,EAAI9d,GAAKgoC,EAAWpoC,EAAOI,GAAIA,OAAG,EAAQmyB,GAAUA,EAAOnyB,GAE/D,MAAO,GAAsB,kBAAXJ,EAAqB,CACjC,EAGJke,EAAM,IAAI/U,MAAMnJ,GAChB,IAAK,IAAII,EAAI,EAAGA,EAAIJ,EAAQI,IAC1B8d,EAAI9d,GAAKgoC,EAAWhoC,EAAI,EAAGA,OAAG,EAAQmyB,GAAUA,EAAOnyB,GAE3D,MAAO,IAAIjD,EAAAA,EAAAA,IAAS6C,GAClB,GAAIA,EAAO0N,OAAOkB,UAChBsP,EAAM/U,MAAMyf,KACV5oB,GACA,CAACqP,EAAMjP,IAAMgoC,EAAW/4B,EAAMjP,OAAG,EAAQmyB,GAAUA,EAAOnyB,UAEvD,CACL,MAAMF,EAAO7B,OAAO6B,KAAKF,GACzBke,EAAM,IAAI/U,MAAMjJ,EAAKpC,QACrB,IAAK,IAAIsC,EAAI,EAAGwR,EAAI1R,EAAKpC,OAAQsC,EAAIwR,EAAGxR,IAAK,CAC3C,MAAMb,EAAMW,EAAKE,GACjB8d,EAAI9d,GAAKgoC,EAAWpoC,EAAOT,GAAMA,EAAKa,EAAGmyB,GAAUA,EAAOnyB,GAC5D,CACF,MAEA8d,EAAM,GAKR,OAHIiD,IACFA,EAAMpjB,GAASmgB,GAEVA,CACT,CAEA,SAASmqB,GAAY5e,EAAO6e,GAC1B,IAAK,IAAIloC,EAAI,EAAGA,EAAIkoC,EAAaxqC,OAAQsC,IAAK,CAC5C,MAAMmoC,EAAOD,EAAaloC,GAC1B,IAAIjC,EAAAA,EAAAA,IAAQoqC,GACV,IAAK,IAAIplB,EAAI,EAAGA,EAAIolB,EAAKzqC,OAAQqlB,IAC/BsG,EAAM8e,EAAKplB,GAAGriB,MAAQynC,EAAKplB,GAAGzc,QAEvB6hC,IACT9e,EAAM8e,EAAKznC,MAAQynC,EAAKhpC,IAAM,IAAIqX,KAChC,MAAMG,EAAMwxB,EAAK7hC,MAAMkQ,GAGvB,OAFIG,IACFA,EAAIxX,IAAMgpC,EAAKhpC,KACVwX,CAAG,EACRwxB,EAAK7hC,GAEb,CACA,OAAO+iB,CACT,CAEA,SAAS+e,GAAW/e,EAAO3oB,EAAMsjB,EAAQ,CAAC,EAAGwU,EAAU6P,GACrD,GAAI3V,EAAyB4V,MAAQ5V,EAAyB3hB,QAAUwxB,GAAe7P,EAAyB3hB,SAAW2hB,EAAyB3hB,OAAOu3B,KAGzJ,MAFa,YAAT5nC,IACFsjB,EAAMtjB,KAAOA,GACR4zB,GAAY,OAAQtQ,EAAOwU,GAAYA,KAEhD,IAAI2P,EAAO9e,EAAM3oB,GAObynC,GAAQA,EAAKzU,KACfyU,EAAK5U,IAAK,GAEZuH,KACA,MAAMyN,EAAmBJ,GAAQK,GAAiBL,EAAKnkB,IACjDykB,EAAWC,GACftG,GACA,CACEjjC,IAAK6kB,EAAM7kB,KAEXopC,GAAoBA,EAAiBppC,KAAQ,IAAGuB,KAElD6nC,IAAqB/P,EAAWA,IAAa,IAC7C+P,GAAgC,IAAZlf,EAAMlI,EAAU,IAAM,GAQ5C,OANKknB,GAAaI,EAASE,UACzBF,EAAS7R,aAAe,CAAC6R,EAASE,QAAU,OAE1CR,GAAQA,EAAKzU,KACfyU,EAAK5U,IAAK,GAELkV,CACT,CACA,SAASD,GAAiBI,GACxB,OAAOA,EAAOpU,MAAMQ,IACbC,GAAQD,IAETA,EAAMrsB,OAAS4rB,MAEfS,EAAMrsB,OAASy5B,KAAaoG,GAAiBxT,EAAMF,aAGpD8T,EAAS,IAChB,CAEA,SAASC,GAAW/+B,EAAKg/B,GACvB,MAAMhrB,EAAM,CAAC,EAKb,IAAK,MAAM3e,KAAO2K,EAChBgU,EAAIgrB,GAA2B,QAAQzkC,KAAKlF,GAAQ,MAAKA,KAAQsiB,EAAAA,EAAAA,IAAatiB,IAAQ2K,EAAI3K,GAE5F,OAAO2e,CACT,CAEA,MAAMirB,GAAqB/oC,GACpBA,EAEDgpC,GAAoBhpC,GACfy9B,GAAez9B,IAAMA,EAAE4b,MACzBmtB,GAAkB/oC,EAAE+Q,QAHlB,KAKLk4B,IAGYr1B,EAAAA,EAAAA,IAAuB3V,OAAOohB,OAAO,MAAO,CAC1DzQ,EAAI5O,GAAMA,EACVkpC,IAAMlpC,GAAMA,EAAEguB,MAAM1wB,GACpB6rC,MAAQnpC,GAAMA,EAAEoJ,KAChBggC,OAASppC,GAA6EA,EAAEgkB,MACxFqlB,OAASrpC,GAA6EA,EAAEopB,MACxFkgB,OAAStpC,GAA6EA,EAAEqpB,MACxF4D,MAAQjtB,GAA4EA,EAAEupC,KACtFC,QAAUxpC,GAAM+oC,GAAkB/oC,EAAE+Q,QACpC04B,MAAQzpC,GAAM+oC,GAAkB/oC,EAAEnE,MAClC2wB,MAAQxsB,GAAMA,EAAEspB,KAChBogB,SAAW1pC,GAA4B2pC,GAAqB3pC,GAC5D4pC,aAAe5pC,GAAMA,EAAED,IAAMC,EAAED,EAAI,IAAM2vB,EAAS1vB,EAAE8sB,SACpD+c,UAAY7pC,GAAMA,EAAE6K,IAAM7K,EAAE6K,EAAIwkB,EAAS5pB,KAAKzF,EAAE4b,QAChDwQ,OAASpsB,GAA4B+8B,GAAct3B,KAAKzF,KAItD8pC,GAAkBA,CAACphC,EAAOvJ,IAAQuJ,IAAU6W,EAAAA,KAAc7W,EAAMqhC,kBAAmBxqC,EAAAA,EAAAA,IAAOmJ,EAAOvJ,GACjG6qC,GAA8B,CAClChpC,KAAMmgB,EAAG+E,GAAY/mB,GACnB,MAAM,IAAE+pB,EAAG,WAAE2B,EAAU,KAAEzhB,EAAI,MAAE4a,EAAK,YAAEimB,EAAW,KAAEthC,EAAI,WAAE4lB,GAAerI,EAIxE,IAAIgkB,EACJ,GAAe,MAAX/qC,EAAI,GAAY,CAClB,MAAM0L,EAAIo/B,EAAY9qC,GACtB,QAAU,IAAN0L,EACF,OAAQA,GACN,KAAK,EACH,OAAOggB,EAAW1rB,GACpB,KAAK,EACH,OAAOiK,EAAKjK,GACd,KAAK,EACH,OAAO+pB,EAAI/pB,GACb,KAAK,EACH,OAAO6kB,EAAM7kB,OAEZ,IAAI2qC,GAAgBjf,EAAY1rB,GAErC,OADA8qC,EAAY9qC,GAAO,EACZ0rB,EAAW1rB,GACb,GAAIiK,IAASmW,EAAAA,KAAahgB,EAAAA,EAAAA,IAAO6J,EAAMjK,GAE5C,OADA8qC,EAAY9qC,GAAO,EACZiK,EAAKjK,GACP,IAGJ+qC,EAAkBhkB,EAAS6G,aAAa,MAAOxtB,EAAAA,EAAAA,IAAO2qC,EAAiB/qC,GAGxE,OADA8qC,EAAY9qC,GAAO,EACZ6kB,EAAM7kB,GACR,GAAI+pB,IAAQ3J,EAAAA,KAAahgB,EAAAA,EAAAA,IAAO2pB,EAAK/pB,GAE1C,OADA8qC,EAAY9qC,GAAO,EACZ+pB,EAAI/pB,GACsBgrC,KACjCF,EAAY9qC,GAAO,EACrB,CACF,CACA,MAAMirC,EAAenB,GAAoB9pC,GACzC,IAAIkrC,EAAWC,EACf,OAAIF,GACU,WAARjrC,IACF+U,EAAAA,EAAAA,GAAMgS,EAAU,MAAO/mB,GAKlBirC,EAAalkB,KAGnBmkB,EAAY1hC,EAAK4hC,gBAAkBF,EAAYA,EAAUlrC,IAEnDkrC,EACEnhB,IAAQ3J,EAAAA,KAAahgB,EAAAA,EAAAA,IAAO2pB,EAAK/pB,IAC1C8qC,EAAY9qC,GAAO,EACZ+pB,EAAI/pB,KAGXmrC,EAAmB/b,EAAWC,OAAO8b,kBAAkB/qC,EAAAA,EAAAA,IAAO+qC,EAAkBnrC,GAGvEmrC,EAAiBnrC,QALrB,EAsBT,EACA4I,KAAMoZ,EAAG+E,GAAY/mB,EAAK3B,GACxB,MAAM,KAAE4L,EAAI,WAAEyhB,EAAU,IAAE3B,GAAQhD,EAClC,OAAI4jB,GAAgBjf,EAAY1rB,IAC9B0rB,EAAW1rB,GAAO3B,GACX,GAIE4L,IAASmW,EAAAA,KAAahgB,EAAAA,EAAAA,IAAO6J,EAAMjK,IAC5CiK,EAAKjK,GAAO3B,GACL,KACE+B,EAAAA,EAAAA,IAAO2mB,EAASlC,MAAO7kB,MAInB,MAAXA,EAAI,MAAcA,EAAIT,MAAM,KAAMwnB,MAalCgD,EAAI/pB,GAAO3B,GAGR,GACT,EACAwK,KACEmZ,GAAG,KAAE/X,EAAI,WAAEyhB,EAAU,YAAEof,EAAW,IAAE/gB,EAAG,WAAEqF,EAAU,aAAExB,IACpD5tB,GACD,IAAI+qC,EACJ,QAASD,EAAY9qC,IAAQiK,IAASmW,EAAAA,KAAahgB,EAAAA,EAAAA,IAAO6J,EAAMjK,IAAQ2qC,GAAgBjf,EAAY1rB,KAAS+qC,EAAkBnd,EAAa,MAAOxtB,EAAAA,EAAAA,IAAO2qC,EAAiB/qC,KAAQI,EAAAA,EAAAA,IAAO2pB,EAAK/pB,KAAQI,EAAAA,EAAAA,IAAO0pC,GAAqB9pC,KAAQI,EAAAA,EAAAA,IAAOgvB,EAAWC,OAAO8b,iBAAkBnrC,EACxR,EACAf,eAAeuB,EAAQR,EAAK4F,GAM1B,OALsB,MAAlBA,EAAW/D,IACbrB,EAAOwhB,EAAE8oB,YAAY9qC,GAAO,GACnBI,EAAAA,EAAAA,IAAOwF,EAAY,UAC5B3I,KAAK2L,IAAIpI,EAAQR,EAAK4F,EAAWvH,MAAO,MAEnC4Z,QAAQhZ,eAAeuB,EAAQR,EAAK4F,EAC7C,GAUF,MAAMylC,IAA6D52B,EAAAA,EAAAA,IACjE,CAAC,EACDo2B,GACA,CACEhpC,IAAIrB,EAAQR,GACV,GAAIA,IAAQmO,OAAOm9B,YAGnB,OAAOT,GAA4BhpC,IAAIrB,EAAQR,EAAKQ,EACtD,EACAqI,IAAImZ,EAAGhiB,GACL,MAAM6I,EAAiB,MAAX7I,EAAI,MAAemjB,EAAAA,EAAAA,IAAsBnjB,GAQrD,OAAO6I,CACT,IA+DJ,SAAS0iC,KAIP,OAAO,IACT,CACA,SAASC,KAIP,OAAO,IACT,CACA,SAASC,GAAaC,GAChB,CAGN,CACA,SAASC,GAActqC,GACjB,CAGN,CACA,SAASuqC,KAIP,OAAO,IACT,CACA,SAASC,KACH,CAGN,CACA,SAASC,GAAajnB,EAAOknB,GAI3B,OAAO,IACT,CACA,SAASC,KACP,OAAOC,KAAa/hB,KACtB,CACA,SAASgiB,KACP,OAAOD,KAAahiB,KACtB,CACA,SAASkiB,GAAStnB,EAAOtjB,EAAMF,GAC7B,MAAMR,EAAI0/B,KASV,GAAIl/B,GAAWA,EAAQ+qC,MAAO,CAC5B,MAAM3vB,GAAQa,EAAAA,EAAAA,IAAIuH,EAAMtjB,IAUxB,OATAk7B,IACE,IAAM5X,EAAMtjB,KACX6X,GAAMqD,EAAMpe,MAAQ+a,IAEvBqjB,GAAMhgB,GAAQpe,IACRA,IAAUwmB,EAAMtjB,IAClBV,EAAEspB,KAAM,UAAS5oB,IAAQlD,EAC3B,IAEKoe,CACT,CACE,MAAO,CACLY,WAAW,EACPhf,YACF,OAAOwmB,EAAMtjB,EACf,EACIlD,UAAMA,GACRwC,EAAEspB,KAAM,UAAS5oB,IAAQlD,EAC3B,EAGN,CACA,SAAS4tC,KACP,MAAMprC,EAAI0/B,KAIV,OAAO1/B,EAAEwrC,eAAiBxrC,EAAEwrC,aAAeC,GAAmBzrC,GAChE,CACA,SAAS0rC,GAAsB1nB,GAC7B,OAAOjmB,EAAAA,EAAAA,IAAQimB,GAASA,EAAM+B,QAC5B,CAACzC,EAAY+D,KAAO/D,EAAW+D,GAAK,KAAM/D,IAC1C,CAAC,GACCU,CACN,CACA,SAAS2nB,GAAc3vB,EAAKkvB,GAC1B,MAAMlnB,EAAQ0nB,GAAsB1vB,GACpC,IAAK,MAAM7c,KAAO+rC,EAAU,CAC1B,GAAI/rC,EAAI0gB,WAAW,UACjB,SACF,IAAI+rB,EAAM5nB,EAAM7kB,GACZysC,GACE7tC,EAAAA,EAAAA,IAAQ6tC,KAAQvuB,EAAAA,EAAAA,IAAWuuB,GAC7BA,EAAM5nB,EAAM7kB,GAAO,CAAEwJ,KAAMijC,EAAKlR,QAASwQ,EAAS/rC,IAElDysC,EAAIlR,QAAUwQ,EAAS/rC,GAER,OAARysC,IACTA,EAAM5nB,EAAM7kB,GAAO,CAAEu7B,QAASwQ,EAAS/rC,KAIrCysC,GAAOV,EAAU,UAAS/rC,OAC5BysC,EAAIC,aAAc,EAEtB,CACA,OAAO7nB,CACT,CACA,SAAS8nB,GAAY3kC,EAAG2d,GACtB,OAAK3d,GAAM2d,GAEP/mB,EAAAA,EAAAA,IAAQoJ,KAAMpJ,EAAAA,EAAAA,IAAQ+mB,GACjB3d,EAAEyE,OAAOkZ,IACXlR,EAAAA,EAAAA,IAAO,CAAC,EAAG83B,GAAsBvkC,GAAIukC,GAAsB5mB,IAHzD3d,GAAK2d,CAIhB,CACA,SAASinB,GAAqB/nB,EAAOgoB,GACnC,MAAMluB,EAAM,CAAC,EACb,IAAK,MAAM3e,KAAO6kB,EACXgoB,EAAapuC,SAASuB,IACzBlB,OAAOG,eAAe0f,EAAK3e,EAAK,CAC9BiB,YAAY,EACZY,IAAKA,IAAMgjB,EAAM7kB,KAIvB,OAAO2e,CACT,CACA,SAASmuB,GAAiBC,GACxB,MAAMhjB,EAAMwW,KAMZ,IAAIyM,EAAYD,IAQhB,OAPA/O,MACI7c,EAAAA,EAAAA,IAAU6rB,KACZA,EAAYA,EAAU3rB,OAAOiH,IAE3B,MADAyV,GAAmBhU,GACbzB,CAAC,KAGJ,CAAC0kB,EAAW,IAAMjP,GAAmBhU,GAC9C,CAYA,IAAIihB,IAAoB,EACxB,SAASiC,GAAalmB,GACpB,MAAM1lB,EAAUmpC,GAAqBzjB,GAC/B8W,EAAa9W,EAAStK,MACtBsN,EAAMhD,EAASgD,IACrBihB,IAAoB,EAChB3pC,EAAQ6rC,cACVpL,GAASzgC,EAAQ6rC,aAAcnmB,EAAU,MAE3C,MAEE9c,KAAMkjC,EACNh3B,SAAUi3B,EAAe,QACzBjiB,EACAsR,MAAO4Q,EACPC,QAASC,EACTC,OAAQC,EAAa,QAErBC,EAAO,YACPC,EAAW,QACX9gB,EAAO,aACP+gB,EAAY,QACZlP,EAAO,UACPmP,EAAS,YACTC,EAAW,cACXC,EAAa,cACbC,EAAa,UACb1gB,EAAS,UACTE,EAAS,OACTd,EAAM,cACNuhB,EAAa,gBACbC,EAAe,cACfC,EAAa,eACbC,EAAc,OAEdC,EAAM,aACN1Z,EAAY,WAEZ2Z,EAAU,WACVlQ,EAAU,QACVmQ,GACEltC,EACEmtC,EAAkG,KAYxG,GAHIf,GACFgB,GAAkBhB,EAAe1jB,EAAKykB,GAEpCrjB,EACF,IAAK,MAAMnrB,KAAOmrB,EAAS,CACzB,MAAMujB,EAAgBvjB,EAAQnrB,IAC1Bke,EAAAA,EAAAA,IAAWwwB,KASX3kB,EAAI/pB,GAAO0uC,EAAcpoC,KAAKu3B,GAUpC,CAEF,GAAIsP,EAAa,CACX,EAKJ,MAAMljC,EAAOkjC,EAAY1mC,KAAKo3B,EAAYA,GACtC,GAKCjgC,EAAAA,EAAAA,IAASqM,KAGZ8c,EAAS9c,MAAOmO,EAAAA,EAAAA,IAASnO,GAe7B,CAEA,GADA+gC,IAAoB,EAChBoC,EACF,IAAK,MAAMptC,KAAOotC,EAAiB,CACjC,MAAMX,EAAMW,EAAgBptC,GACtB6B,GAAMqc,EAAAA,EAAAA,IAAWuuB,GAAOA,EAAInmC,KAAKu3B,EAAYA,IAAc3f,EAAAA,EAAAA,IAAWuuB,EAAI5qC,KAAO4qC,EAAI5qC,IAAIyE,KAAKu3B,EAAYA,GAAc/d,EAAAA,GAC1H,EAGJ,MAAMlX,IAAOsV,EAAAA,EAAAA,IAAWuuB,KAAQvuB,EAAAA,EAAAA,IAAWuuB,EAAI7jC,KAAO6jC,EAAI7jC,IAAItC,KAAKu3B,GAI/D/d,EAAAA,GACEvd,EAAI4T,GAAS,CACjBtU,MACA+G,QAEF9J,OAAOG,eAAe8qB,EAAK/pB,EAAK,CAC9BiB,YAAY,EACZC,cAAc,EACdW,IAAKA,IAAMU,EAAElE,MACbuK,IAAMwQ,GAAM7W,EAAElE,MAAQ+a,GAK1B,CAEF,GAAIi0B,EACF,IAAK,MAAMrtC,KAAOqtC,EAChBsB,GAActB,EAAartC,GAAM+pB,EAAK8T,EAAY79B,GAGtD,GAAIutC,EAAgB,CAClB,MAAMqB,GAAW1wB,EAAAA,EAAAA,IAAWqvB,GAAkBA,EAAe9mC,KAAKo3B,GAAc0P,EAChFt1B,QAAQ5X,QAAQuuC,GAAU94B,SAAS9V,IACjCstC,GAAQttC,EAAK4uC,EAAS5uC,GAAK,GAE/B,CAIA,SAAS6uC,EAAsBC,EAAUnd,IACnC/yB,EAAAA,EAAAA,IAAQ+yB,GACVA,EAAK7b,SAASi5B,GAAUD,EAASC,EAAMzoC,KAAKu3B,MACnClM,GACTmd,EAASnd,EAAKrrB,KAAKu3B,GAEvB,CAaA,GAtBI6P,GACF5L,GAAS4L,EAAS3mB,EAAU,KAS9B8nB,EAAsBnH,GAAeiG,GACrCkB,EAAsB1P,GAAWtS,GACjCgiB,EAAsBlH,GAAgBiG,GACtCiB,EAAsBtI,GAAW7H,GACjCmQ,EAAsBjI,GAAaiH,GACnCgB,EAAsB/H,GAAegH,GACrCe,EAAsB9G,GAAiBoG,GACvCU,EAAsB/G,GAAiBmG,GACvCY,EAAsBhH,GAAmBqG,GACzCW,EAAsBzP,GAAiB4O,GACvCa,EAAsBxH,GAAa7Z,GACnCqhB,EAAsBjH,GAAkBwG,IACpCxvC,EAAAA,EAAAA,IAAQyvC,GACV,GAAIA,EAAO9vC,OAAQ,CACjB,MAAMmtC,EAAU3kB,EAAS2kB,UAAY3kB,EAAS2kB,QAAU,CAAC,GACzD2C,EAAOv4B,SAAS9V,IACdlB,OAAOG,eAAeysC,EAAS1rC,EAAK,CAClC6B,IAAKA,IAAMg8B,EAAW79B,GACtB4I,IAAM2E,GAAQswB,EAAW79B,GAAOuN,GAChC,GAEN,MAAYwZ,EAAS2kB,UACnB3kB,EAAS2kB,QAAU,CAAC,GAGpBhf,GAAU3F,EAAS2F,SAAW5M,EAAAA,KAChCiH,EAAS2F,OAASA,GAEA,MAAhBiI,IACF5N,EAAS4N,aAAeA,GAEtB2Z,IACFvnB,EAASunB,WAAaA,GACpBlQ,IACFrX,EAASqX,WAAaA,EAC1B,CACA,SAASqQ,GAAkBhB,EAAe1jB,EAAKykB,EAA2B1uB,EAAAA,KACpElhB,EAAAA,EAAAA,IAAQ6uC,KACVA,EAAgBuB,GAAgBvB,IAElC,IAAK,MAAMztC,KAAOytC,EAAe,CAC/B,MAAMhB,EAAMgB,EAAcztC,GAC1B,IAAIonC,EAGAA,GAFAxpC,EAAAA,EAAAA,IAAS6uC,GACP,YAAaA,EACJe,GACTf,EAAIpjB,MAAQrpB,EACZysC,EAAIlR,SACJ,GAISiS,GAAOf,EAAIpjB,MAAQrpB,GAGrBwtC,GAAOf,IAEhBv0B,EAAAA,EAAAA,IAAMkvB,GACRtoC,OAAOG,eAAe8qB,EAAK/pB,EAAK,CAC9BiB,YAAY,EACZC,cAAc,EACdW,IAAKA,IAAMulC,EAAS/oC,MACpBuK,IAAMwQ,GAAMguB,EAAS/oC,MAAQ+a,IAG/B2Q,EAAI/pB,GAAOonC,CAKf,CACF,CACA,SAAStF,GAASnQ,EAAM5K,EAAUvd,GAChCklB,GACE9vB,EAAAA,EAAAA,IAAQ+yB,GAAQA,EAAK/a,KAAK+V,GAAMA,EAAErmB,KAAKygB,EAAStK,SAAUkV,EAAKrrB,KAAKygB,EAAStK,OAC7EsK,EACAvd,EAEJ,CACA,SAASmlC,GAAc9xB,EAAKkN,EAAK8T,EAAY79B,GAC3C,MAAMmL,EAASnL,EAAIvB,SAAS,KAAOq/B,GAAiBD,EAAY79B,GAAO,IAAM69B,EAAW79B,GACxF,IAAIkhB,EAAAA,EAAAA,IAASrE,GAAM,CACjB,MAAM4V,EAAU1I,EAAIlN,IAChBqB,EAAAA,EAAAA,IAAWuU,IACbgK,GAAMtxB,EAAQsnB,EAIlB,MAAO,IAAIvU,EAAAA,EAAAA,IAAWrB,GACpB4f,GAAMtxB,EAAQ0R,EAAIvW,KAAKu3B,SAClB,IAAIjgC,EAAAA,EAAAA,IAASif,GAClB,IAAIje,EAAAA,EAAAA,IAAQie,GACVA,EAAI/G,SAASsH,GAAMuxB,GAAcvxB,EAAG2M,EAAK8T,EAAY79B,SAChD,CACL,MAAMyyB,GAAUvU,EAAAA,EAAAA,IAAWrB,EAAI4V,SAAW5V,EAAI4V,QAAQnsB,KAAKu3B,GAAc9T,EAAIlN,EAAI4V,UAC7EvU,EAAAA,EAAAA,IAAWuU,IACbgK,GAAMtxB,EAAQsnB,EAAS5V,EAI3B,MACS,CAGb,CACA,SAAS2tB,GAAqBzjB,GAC5B,MAAMiE,EAAOjE,EAASvd,MAChB,OAAEyhB,EAAQoI,QAAS4b,GAAmBjkB,GAE1CC,OAAQikB,EACRC,aAAcvtB,EACdyN,QAAQ,sBAAE+f,IACRroB,EAASqI,WACP4D,EAASpR,EAAM/f,IAAImpB,GACzB,IAAIqkB,EAmBJ,OAlBIrc,EACFqc,EAAWrc,EACDkc,EAAa3wC,QAAW0sB,GAAWgkB,GAK7CI,EAAW,CAAC,EACRH,EAAa3wC,QACf2wC,EAAap5B,SACVtT,GAAM8sC,GAAaD,EAAU7sC,EAAG4sC,GAAuB,KAG5DE,GAAaD,EAAUrkB,EAAMokB,IAT3BC,EAAWrkB,GAWXptB,EAAAA,EAAAA,IAASotB,IACXpJ,EAAMhZ,IAAIoiB,EAAMqkB,GAEXA,CACT,CACA,SAASC,GAAaC,EAAIlmB,EAAMmmB,EAAQ1c,GAAU,GAChD,MAAM,OAAE7H,EAAQoI,QAAS4b,GAAmB5lB,EACxC4lB,GACFK,GAAaC,EAAIN,EAAgBO,GAAQ,GAEvCvkB,GACFA,EAAOnV,SACJtT,GAAM8sC,GAAaC,EAAI/sC,EAAGgtC,GAAQ,KAGvC,IAAK,MAAMxvC,KAAOqpB,EAChB,GAAIyJ,GAAmB,WAAR9yB,OAIR,CACL,MAAMyvC,EAAQC,GAA0B1vC,IAAQwvC,GAAUA,EAAOxvC,GACjEuvC,EAAGvvC,GAAOyvC,EAAQA,EAAMF,EAAGvvC,GAAMqpB,EAAKrpB,IAAQqpB,EAAKrpB,EACrD,CAEF,OAAOuvC,CACT,CACA,MAAMG,GAA4B,CAChCzlC,KAAM0lC,GACN9qB,MAAO+qB,GACP5hB,MAAO4hB,GAEPzkB,QAAS0kB,GACT15B,SAAU05B,GAEV3C,aAAc4C,GACdpC,QAASoC,GACTnC,YAAamC,GACbjjB,QAASijB,GACTlC,aAAckC,GACdpR,QAASoR,GACT/B,cAAe+B,GACf9B,cAAe8B,GACfxiB,UAAWwiB,GACXtiB,UAAWsiB,GACXjC,UAAWiC,GACXhC,YAAagC,GACb3B,cAAe2B,GACf1B,eAAgB0B,GAEhBxB,WAAYuB,GACZzR,WAAYyR,GAEZpT,MAAOsT,GAEPzC,QAASqC,GACTnC,OAAQwC,IAEV,SAASL,GAAYJ,EAAIlmB,GACvB,OAAKA,EAGAkmB,EAGE,WACL,OAAQ96B,EAAAA,EAAAA,KACNyJ,EAAAA,EAAAA,IAAWqxB,GAAMA,EAAG9oC,KAAKxJ,KAAMA,MAAQsyC,GACvCrxB,EAAAA,EAAAA,IAAWmL,GAAQA,EAAK5iB,KAAKxJ,KAAMA,MAAQosB,EAE/C,EAPSA,EAHAkmB,CAWX,CACA,SAASS,GAAYT,EAAIlmB,GACvB,OAAOwmB,GAAmBb,GAAgBO,GAAKP,GAAgB3lB,GACjE,CACA,SAAS2lB,GAAgBnyB,GACvB,IAAIje,EAAAA,EAAAA,IAAQie,GAAM,CAChB,MAAMrF,EAAM,CAAC,EACb,IAAK,IAAI3W,EAAI,EAAGA,EAAIgc,EAAIte,OAAQsC,IAC9B2W,EAAIqF,EAAIhc,IAAMgc,EAAIhc,GAEpB,OAAO2W,CACT,CACA,OAAOqF,CACT,CACA,SAASizB,GAAaP,EAAIlmB,GACxB,OAAOkmB,EAAK,IAAI,IAAIv8B,IAAI,GAAGvG,OAAO8iC,EAAIlmB,KAAUA,CAClD,CACA,SAASwmB,GAAmBN,EAAIlmB,GAC9B,OAAOkmB,GAAK96B,EAAAA,EAAAA,IAAuB3V,OAAOohB,OAAO,MAAOqvB,EAAIlmB,GAAQA,CACtE,CACA,SAASumB,GAAyBL,EAAIlmB,GACpC,OAAIkmB,GACE3wC,EAAAA,EAAAA,IAAQ2wC,KAAO3wC,EAAAA,EAAAA,IAAQyqB,GAClB,IAAoB,IAAIrW,IAAI,IAAIu8B,KAAOlmB,MAEzC5U,EAAAA,EAAAA,IACW3V,OAAOohB,OAAO,MAC9BqsB,GAAsBgD,GACtBhD,GAA8B,MAARljB,EAAeA,EAAO,CAAC,IAGxCA,CAEX,CACA,SAAS0mB,GAAkBR,EAAIlmB,GAC7B,IAAKkmB,EACH,OAAOlmB,EACT,IAAKA,EACH,OAAOkmB,EACT,MAAMU,GAASx7B,EAAAA,EAAAA,IAAuB3V,OAAOohB,OAAO,MAAOqvB,GAC3D,IAAK,MAAMvvC,KAAOqpB,EAChB4mB,EAAOjwC,GAAO8vC,GAAaP,EAAGvvC,GAAMqpB,EAAKrpB,IAE3C,OAAOiwC,CACT,CAEA,SAASC,KACP,MAAO,CACLC,IAAK,KACL9gB,OAAQ,CACN+gB,YAAa9vB,EAAAA,GACb+vB,aAAa,EACblF,iBAAkB,CAAC,EACnBiE,sBAAuB,CAAC,EACxB9f,kBAAc,EACdghB,iBAAa,EACbC,gBAAiB,CAAC,GAEpBtlB,OAAQ,GACRqjB,WAAY,CAAC,EACblQ,WAAY,CAAC,EACbwQ,SAA0B9vC,OAAOohB,OAAO,MACxCivB,aAA8B,IAAIhmC,QAClCqnC,WAA4B,IAAIrnC,QAChC4pB,WAA4B,IAAI5pB,QAEpC,CACA,IAAIsnC,GAAQ,EACZ,SAASC,GAAahkB,EAAQmL,GAC5B,OAAO,SAAmB8Y,EAAeC,EAAY,OAC9C1yB,EAAAA,EAAAA,IAAWyyB,KACdA,GAAgBl8B,EAAAA,EAAAA,IAAO,CAAC,EAAGk8B,IAEZ,MAAbC,IAAsBhzC,EAAAA,EAAAA,IAASgzC,KAEjCA,EAAY,MAEd,MAAMC,EAAUX,KAahB,MAAMY,EAAmC,IAAI99B,IAC7C,IAAI+rB,GAAY,EAChB,MAAMoR,EAAMU,EAAQV,IAAM,CACxBY,KAAMN,KACNO,WAAYL,EACZM,OAAQL,EACRM,WAAY,KACZC,SAAUN,EACVO,UAAW,KACXhtC,WACIirB,aACF,OAAOwhB,EAAQxhB,MACjB,EACIA,WAAOjW,GACL,CAKN,EACAi4B,IAAIC,KAAWjwC,GAcb,OAbIyvC,EAAiBjoC,IAAIyoC,KAEdA,IAAUpzB,EAAAA,EAAAA,IAAWozB,EAAOC,UACrCT,EAAiBx7B,IAAIg8B,GACrBA,EAAOC,QAAQpB,KAAQ9uC,KACd6c,EAAAA,EAAAA,IAAWozB,KACpBR,EAAiBx7B,IAAIg8B,GACrBA,EAAOnB,KAAQ9uC,KAMV8uC,CACT,EACAqB,MAAMA,GAYJ,OAVOX,EAAQ5lB,OAAOxsB,SAAS+yC,IAC3BX,EAAQ5lB,OAAOre,KAAK4kC,GASjBrB,CACT,EACA9Z,UAAU90B,EAAM80B,GAId,OAAKA,GAMLwa,EAAQvC,WAAW/sC,GAAQ80B,EACpB8Z,GANEU,EAAQvC,WAAW/sC,EAO9B,EACAkwC,UAAUlwC,EAAMkwC,GAId,OAAKA,GAMLZ,EAAQzS,WAAW78B,GAAQkwC,EACpBtB,GANEU,EAAQzS,WAAW78B,EAO9B,EACAmwC,MAAMC,EAAeC,EAAWpa,GAC9B,IAAKuH,EAAW,CACV,EAMJ,MAAMlQ,EAAQsG,GACZwb,EACAC,GAoBF,OAlBA/hB,EAAMO,WAAayhB,EAMfe,GAAa/Z,EACfA,EAAQhJ,EAAO8iB,GAEfjlB,EAAOmC,EAAO8iB,EAAena,GAE/BuH,GAAY,EACZoR,EAAIe,WAAaS,EACjBA,EAAcE,YAAc1B,EAKrB7R,GAAezP,EAAMwH,YAAcxH,EAAMwH,UAAU5Z,KAC5D,CAMF,EACAmc,UACMmG,IACFrS,EAAO,KAAMyjB,EAAIe,mBAKVf,EAAIe,WAAWW,YAI1B,EACAvE,QAAQttC,EAAK3B,GAOX,OADAwyC,EAAQjC,SAAS5uC,GAAO3B,EACjB8xC,CACT,EACA2B,eAAe3qC,GACb4qC,GAAa5B,EACb,IACE,OAAOhpC,GACT,CAAE,QACA4qC,GAAa,IACf,CACF,GAEF,OAAO5B,CACT,CACF,CACA,IAAI4B,GAAa,KAEjB,SAASzE,GAAQttC,EAAK3B,GACpB,GAAKw+B,GAIE,CACL,IAAI+R,EAAW/R,GAAgB+R,SAC/B,MAAMoD,EAAiBnV,GAAgBjrB,QAAUirB,GAAgBjrB,OAAOg9B,SACpEoD,IAAmBpD,IACrBA,EAAW/R,GAAgB+R,SAAW9vC,OAAOohB,OAAO8xB,IAEtDpD,EAAS5uC,GAAO3B,CAClB,MAVM,CAWR,CACA,SAASmvC,GAAOxtC,EAAKqf,EAAc4yB,GAAwB,GACzD,MAAMlrB,EAAW8V,IAAmBtJ,EACpC,GAAIxM,GAAYgrB,GAAY,CAC1B,MAAMnD,EAAW7nB,EAA8B,MAAnBA,EAASnV,OAAiBmV,EAAS8H,MAAMO,YAAcrI,EAAS8H,MAAMO,WAAWwf,SAAW7nB,EAASnV,OAAOg9B,SAAWmD,GAAWZ,SAASvC,SACvK,GAAIA,GAAY5uC,KAAO4uC,EACrB,OAAOA,EAAS5uC,GACX,GAAIF,UAAUvB,OAAS,EAC5B,OAAO0zC,IAAyB/zB,EAAAA,EAAAA,IAAWmB,GAAgBA,EAAa5Y,KAAKsgB,GAAYA,EAAStK,OAAS4C,CAI/G,MAAW,CAGb,CACA,SAAS6yB,KACP,SAAUrV,IAAmBtJ,GAA4Bwe,GAC3D,CAEA,SAASI,GAAUprB,EAAU4Z,EAAUyR,EAAY5yB,GAAQ,GACzD,MAAMqF,EAAQ,CAAC,EACToF,EAAQ,CAAC,GACflN,EAAAA,EAAAA,IAAIkN,EAAOooB,GAAmB,GAC9BtrB,EAASurB,cAAgCxzC,OAAOohB,OAAO,MACvDqyB,GAAaxrB,EAAU4Z,EAAU9b,EAAOoF,GACxC,IAAK,MAAMjqB,KAAO+mB,EAAS6G,aAAa,GAChC5tB,KAAO6kB,IACXA,EAAM7kB,QAAO,GAMboyC,EACFrrB,EAASlC,MAAQrF,EAAQqF,GAAQ3I,EAAAA,EAAAA,IAAgB2I,GAE5CkC,EAASvd,KAAKqb,MAGjBkC,EAASlC,MAAQA,EAFjBkC,EAASlC,MAAQoF,EAKrBlD,EAASkD,MAAQA,CACnB,CAQA,SAASuoB,GAAYzrB,EAAU4Z,EAAU8R,EAAcvc,GACrD,MAAM,MACJrR,EAAK,MACLoF,EACA4E,OAAO,UAAE2H,IACPzP,EACE2rB,GAAkBn7B,EAAAA,EAAAA,IAAMsN,IACvBxjB,GAAW0lB,EAAS6G,aAC3B,IAAI+kB,GAAkB,EACtB,KAI+Ezc,GAAaM,EAAY,IAAoB,GAAZA,EAoCzG,CAIL,IAAIoc,EAHAL,GAAaxrB,EAAU4Z,EAAU9b,EAAOoF,KAC1C0oB,GAAkB,GAGpB,IAAK,MAAM3yC,KAAO0yC,EACX/R,KACJvgC,EAAAA,EAAAA,IAAOugC,EAAU3gC,KAEhB4yC,GAAWzwB,EAAAA,EAAAA,IAAUniB,MAAUA,IAAQI,EAAAA,EAAAA,IAAOugC,EAAUiS,MACpDvxC,GACEoxC,QACmB,IAAtBA,EAAazyC,SACa,IAA3ByyC,EAAaG,KACX/tB,EAAM7kB,GAAO6yC,GACXxxC,EACAqxC,EACA1yC,OACA,EACA+mB,GACA,WAKGlC,EAAM7kB,IAInB,GAAIiqB,IAAUyoB,EACZ,IAAK,MAAM1yC,KAAOiqB,EACX0W,IAAavgC,EAAAA,EAAAA,IAAOugC,EAAU3gC,YAC1BiqB,EAAMjqB,GACb2yC,GAAkB,EAI1B,MAvEE,GAAgB,EAAZnc,EAAe,CACjB,MAAMsc,EAAgB/rB,EAAS8H,MAAM+H,aACrC,IAAK,IAAI/1B,EAAI,EAAGA,EAAIiyC,EAAcv0C,OAAQsC,IAAK,CAC7C,IAAIb,EAAM8yC,EAAcjyC,GACxB,GAAIyyB,EAAevM,EAAS0P,aAAcz2B,GACxC,SAEF,MAAM3B,EAAQsiC,EAAS3gC,GACvB,GAAIqB,EACF,IAAIjB,EAAAA,EAAAA,IAAO6pB,EAAOjqB,GACZ3B,IAAU4rB,EAAMjqB,KAClBiqB,EAAMjqB,GAAO3B,EACbs0C,GAAkB,OAEf,CACL,MAAMI,GAAehxB,EAAAA,EAAAA,IAAS/hB,GAC9B6kB,EAAMkuB,GAAgBF,GACpBxxC,EACAqxC,EACAK,EACA10C,EACA0oB,GACA,EAGJ,MAEI1oB,IAAU4rB,EAAMjqB,KAClBiqB,EAAMjqB,GAAO3B,EACbs0C,GAAkB,EAGxB,CACF,CAuCEA,IACFp9B,EAAAA,EAAAA,IAAQwR,EAAU,MAAO,SAK7B,CACA,SAASwrB,GAAaxrB,EAAU4Z,EAAU9b,EAAOoF,GAC/C,MAAO5oB,EAAS2xC,GAAgBjsB,EAAS6G,aACzC,IACIqlB,EADAN,GAAkB,EAEtB,GAAIhS,EACF,IAAK,IAAI3gC,KAAO2gC,EAAU,CACxB,IAAIlf,EAAAA,EAAAA,IAAezhB,GACjB,SAEF,MAAM3B,EAAQsiC,EAAS3gC,GACvB,IAAIkzC,EACA7xC,IAAWjB,EAAAA,EAAAA,IAAOiB,EAAS6xC,GAAWnxB,EAAAA,EAAAA,IAAS/hB,IAC5CgzC,GAAiBA,EAAav0C,SAASy0C,IAGzCD,IAAkBA,EAAgB,CAAC,IAAIC,GAAY70C,EAFpDwmB,EAAMquB,GAAY70C,EAIVi1B,EAAevM,EAAS0P,aAAcz2B,IAC1CA,KAAOiqB,GAAU5rB,IAAU4rB,EAAMjqB,KACrCiqB,EAAMjqB,GAAO3B,EACbs0C,GAAkB,EAGxB,CAEF,GAAIK,EAAc,CAChB,MAAMN,GAAkBn7B,EAAAA,EAAAA,IAAMsN,GACxBsuB,EAAaF,GAAiB7yB,EAAAA,GACpC,IAAK,IAAIvf,EAAI,EAAGA,EAAImyC,EAAaz0C,OAAQsC,IAAK,CAC5C,MAAMb,EAAMgzC,EAAanyC,GACzBgkB,EAAM7kB,GAAO6yC,GACXxxC,EACAqxC,EACA1yC,EACAmzC,EAAWnzC,GACX+mB,IACC3mB,EAAAA,EAAAA,IAAO+yC,EAAYnzC,GAExB,CACF,CACA,OAAO2yC,CACT,CACA,SAASE,GAAiBxxC,EAASwjB,EAAO7kB,EAAK3B,EAAO0oB,EAAUqsB,GAC9D,MAAM3G,EAAMprC,EAAQrB,GACpB,GAAW,MAAPysC,EAAa,CACf,MAAM4G,GAAajzC,EAAAA,EAAAA,IAAOqsC,EAAK,WAC/B,GAAI4G,QAAwB,IAAVh1C,EAAkB,CAClC,MAAMghB,EAAeotB,EAAIlR,QACzB,GAAIkR,EAAIjjC,OAAS9C,WAAa+lC,EAAIC,cAAexuB,EAAAA,EAAAA,IAAWmB,GAAe,CACzE,MAAM,cAAEizB,GAAkBvrB,EACtB/mB,KAAOsyC,EACTj0C,EAAQi0C,EAActyC,IAEtB+9B,GAAmBhX,GACnB1oB,EAAQi0C,EAActyC,GAAOqf,EAAa5Y,KACxC,KACAoe,GAEFmZ,KAEJ,MACE3/B,EAAQghB,CAEZ,CACIotB,EAAI,KACF2G,IAAaC,EACfh1C,GAAQ,GACCouC,EAAI,IAAsC,KAAVpuC,GAAgBA,KAAU8jB,EAAAA,EAAAA,IAAUniB,KAC7E3B,GAAQ,GAGd,CACA,OAAOA,CACT,CACA,SAASi1C,GAAsBzgB,EAAMzD,EAAY0D,GAAU,GACzD,MAAMlR,EAAQwN,EAAWohB,WACnBxd,EAASpR,EAAM/f,IAAIgxB,GACzB,GAAIG,EACF,OAAOA,EAET,MAAMnW,EAAMgW,EAAKhO,MACXV,EAAa,CAAC,EACd6uB,EAAe,GACrB,IAAI/f,GAAa,EACjB,KAA4B/U,EAAAA,EAAAA,IAAW2U,GAAO,CAC5C,MAAM0gB,EAAepgB,IACnBF,GAAa,EACb,MAAOpO,EAAOlkB,GAAQ2yC,GAAsBngB,EAAM/D,GAAY,IAC9D3a,EAAAA,EAAAA,IAAO0P,EAAYU,GACflkB,GACFqyC,EAAapmC,QAAQjM,EAAK,GAEzBmyB,GAAW1D,EAAWnE,OAAO1sB,QAChC6wB,EAAWnE,OAAOnV,QAAQy9B,GAExB1gB,EAAKQ,SACPkgB,EAAY1gB,EAAKQ,SAEfR,EAAK5H,QACP4H,EAAK5H,OAAOnV,QAAQy9B,EAExB,CACA,IAAK12B,IAAQoW,EAIX,OAHIr1B,EAAAA,EAAAA,IAASi1B,IACXjR,EAAMhZ,IAAIiqB,EAAMxS,EAAAA,IAEXA,EAAAA,GAET,IAAIzhB,EAAAA,EAAAA,IAAQie,GACV,IAAK,IAAIhc,EAAI,EAAGA,EAAIgc,EAAIte,OAAQsC,IAAK,CAC/B,EAGJ,MAAM2yC,GAAgBzxB,EAAAA,EAAAA,IAASlF,EAAIhc,IAC/B4yC,GAAiBD,KACnBrvB,EAAWqvB,GAAiBpzB,EAAAA,GAEhC,MACK,GAAIvD,EAAK,CACV,EAGJ,IAAK,MAAM7c,KAAO6c,EAAK,CACrB,MAAM22B,GAAgBzxB,EAAAA,EAAAA,IAAS/hB,GAC/B,GAAIyzC,GAAiBD,GAAgB,CACnC,MAAM/G,EAAM5vB,EAAI7c,GACV0zC,EAAOvvB,EAAWqvB,IAAiB50C,EAAAA,EAAAA,IAAQ6tC,KAAQvuB,EAAAA,EAAAA,IAAWuuB,GAAO,CAAEjjC,KAAMijC,IAAQh4B,EAAAA,EAAAA,IAAO,CAAC,EAAGg4B,GACtG,GAAIiH,EAAM,CACR,MAAMC,EAAeC,GAAapU,QAASkU,EAAKlqC,MAC1CqqC,EAAcD,GAAap2C,OAAQk2C,EAAKlqC,MAC9CkqC,EAAK,GAAsBC,GAAgB,EAC3CD,EAAK,GAA0BG,EAAc,GAAKF,EAAeE,GAC7DF,GAAgB,IAAKvzC,EAAAA,EAAAA,IAAOszC,EAAM,aACpCV,EAAapmC,KAAK4mC,EAEtB,CACF,CACF,CACF,CACA,MAAMh8B,EAAM,CAAC2M,EAAY6uB,GAIzB,OAHIp1C,EAAAA,EAAAA,IAASi1B,IACXjR,EAAMhZ,IAAIiqB,EAAMrb,GAEXA,CACT,CACA,SAASi8B,GAAiBzzC,GACxB,MAAe,MAAXA,EAAI,EAMV,CACA,SAAS8zC,GAAQC,GACf,MAAM5vC,EAAQ4vC,GAAQA,EAAK10C,WAAW8E,MAAM,8BAC5C,OAAOA,EAAQA,EAAM,GAAc,OAAT4vC,EAAgB,OAAS,EACrD,CACA,SAASC,GAAWhsC,EAAG2d,GACrB,OAAOmuB,GAAQ9rC,KAAO8rC,GAAQnuB,EAChC,CACA,SAASiuB,GAAapqC,EAAMyqC,GAC1B,OAAIr1C,EAAAA,EAAAA,IAAQq1C,GACHA,EAAc3tB,WAAW4tB,GAAMF,GAAWE,EAAG1qC,MAC3C0U,EAAAA,EAAAA,IAAW+1B,IACbD,GAAWC,EAAezqC,GAAQ,GAEnC,CACV,CAqGA,MAAM2qC,GAAiBn0C,GAAmB,MAAXA,EAAI,IAAsB,YAARA,EAC3Co0C,GAAsB/1C,IAAUO,EAAAA,EAAAA,IAAQP,GAASA,EAAMuY,IAAIme,IAAkB,CAACA,GAAe12B,IAC7Fg2C,GAAgBA,CAACr0C,EAAKs0C,EAASvqB,KACnC,GAAIuqB,EAAQpgB,GACV,OAAOogB,EAET,MAAMnwB,EAAa6P,GAAQ,IAAI3c,IAMtB+8B,GAAmBE,KAAWj9B,KACpC0S,GAEH,OADA5F,EAAWoQ,IAAK,EACTpQ,CAAU,EAEbowB,GAAuBA,CAACC,EAAUtqB,EAAOnD,KAC7C,MAAMgD,EAAMyqB,EAASC,KACrB,IAAK,MAAMz0C,KAAOw0C,EAAU,CAC1B,GAAIL,GAAcn0C,GAChB,SACF,MAAM3B,EAAQm2C,EAASx0C,GACvB,IAAIke,EAAAA,EAAAA,IAAW7f,GACb6rB,EAAMlqB,GAAOq0C,GAAcr0C,EAAK3B,EAAO0rB,QAClC,GAAa,MAAT1rB,EAAe,CACpB,EAKJ,MAAM8lB,EAAaiwB,GAAmB/1C,GACtC6rB,EAAMlqB,GAAO,IAAMmkB,CACrB,CACF,GAEIuwB,GAAsBA,CAAC3tB,EAAU4O,KAMrC,MAAMxR,EAAaiwB,GAAmBze,GACtC5O,EAASmD,MAAMqR,QAAU,IAAMpX,CAAU,EAErCwwB,GAAYA,CAAC5tB,EAAU4O,KAC3B,GAA+B,GAA3B5O,EAAS8H,MAAMgG,UAAgB,CACjC,MAAMrrB,EAAOmsB,EAAS3T,EAClBxY,GACFud,EAASmD,OAAQ3S,EAAAA,EAAAA,IAAMoe,IACvB5Y,EAAAA,EAAAA,IAAI4Y,EAAU,IAAKnsB,IAEnB+qC,GACE5e,EACA5O,EAASmD,MAAQ,CAAC,EAExB,MACEnD,EAASmD,MAAQ,CAAC,EACdyL,GACF+e,GAAoB3tB,EAAU4O,IAGlC5Y,EAAAA,EAAAA,IAAIgK,EAASmD,MAAOmoB,GAAmB,EAAE,EAErCuC,GAAcA,CAAC7tB,EAAU4O,EAAUO,KACvC,MAAM,MAAErH,EAAK,MAAE3E,GAAUnD,EACzB,IAAI8tB,GAAoB,EACpBC,EAA2B10B,EAAAA,GAC/B,GAAsB,GAAlByO,EAAMgG,UAAgB,CACxB,MAAMrrB,EAAOmsB,EAAS3T,EAClBxY,EAIS0sB,GAAsB,IAAT1sB,EACtBqrC,GAAoB,IAEpBpgC,EAAAA,EAAAA,IAAOyV,EAAOyL,GACTO,GAAsB,IAAT1sB,UACT0gB,EAAMlI,IAIjB6yB,GAAqBlf,EAASe,QAC9B6d,GAAqB5e,EAAUzL,IAEjC4qB,EAA2Bnf,CAC7B,MAAWA,IACT+e,GAAoB3tB,EAAU4O,GAC9Bmf,EAA2B,CAAEvZ,QAAS,IAExC,GAAIsZ,EACF,IAAK,MAAM70C,KAAOkqB,EACXiqB,GAAcn0C,IAAUA,KAAO80C,UAC3B5qB,EAAMlqB,EAGnB,EAGF,SAAS+0C,GAAOC,EAAQC,EAAW1d,EAAgB1I,EAAOqmB,GAAY,GACpE,IAAIt2C,EAAAA,EAAAA,IAAQo2C,GAUV,YATAA,EAAOl/B,SACL,CAACsH,EAAGvc,IAAMk0C,GACR33B,EACA63B,KAAcr2C,EAAAA,EAAAA,IAAQq2C,GAAaA,EAAUp0C,GAAKo0C,GAClD1d,EACA1I,EACAqmB,KAKN,GAAI9R,GAAevU,KAAWqmB,EAC5B,OAEF,MAAMC,EAA6B,EAAlBtmB,EAAMgG,UAAgByJ,GAAezP,EAAMwH,YAAcxH,EAAMwH,UAAU5Z,MAAQoS,EAAM1wB,GAClGE,EAAQ62C,EAAY,KAAOC,GACzBt0C,EAAGu0C,EAAOh4B,EAAGE,GAAQ03B,EAO7B,MAAMK,EAASJ,GAAaA,EAAU73B,EAChCgtB,EAAOgL,EAAMhL,OAAShqB,EAAAA,GAAYg1B,EAAMhL,KAAO,CAAC,EAAIgL,EAAMhL,KAC1D1e,EAAa0pB,EAAM1pB,WAWzB,GAVc,MAAV2pB,GAAkBA,IAAW/3B,KAC3B4D,EAAAA,EAAAA,IAASm0B,IACXjL,EAAKiL,GAAU,MACXj1C,EAAAA,EAAAA,IAAOsrB,EAAY2pB,KACrB3pB,EAAW2pB,GAAU,QAEdn9B,EAAAA,EAAAA,IAAMm9B,KACfA,EAAOh3C,MAAQ,QAGf6f,EAAAA,EAAAA,IAAWZ,GACbiR,EAAsBjR,EAAK83B,EAAO,GAAI,CAAC/2C,EAAO+rC,QACzC,CACL,MAAMkL,GAAYp0B,EAAAA,EAAAA,IAAS5D,GACrBi4B,GAASr9B,EAAAA,EAAAA,IAAMoF,GACrB,GAAIg4B,GAAaC,EAAQ,CACvB,MAAMC,EAAQA,KACZ,GAAIR,EAAOp0C,EAAG,CACZ,MAAM60C,EAAWH,GAAYl1C,EAAAA,EAAAA,IAAOsrB,EAAYpO,GAAOoO,EAAWpO,GAAO8sB,EAAK9sB,GAAOA,EAAIjf,MACrF62C,GACFt2C,EAAAA,EAAAA,IAAQ62C,KAAa70B,EAAAA,EAAAA,IAAO60B,EAAUN,IAEjCv2C,EAAAA,EAAAA,IAAQ62C,GAWDA,EAASh3C,SAAS02C,IAC5BM,EAAS7oC,KAAKuoC,GAXVG,GACFlL,EAAK9sB,GAAO,CAAC63B,IACT/0C,EAAAA,EAAAA,IAAOsrB,EAAYpO,KACrBoO,EAAWpO,GAAO8sB,EAAK9sB,MAGzBA,EAAIjf,MAAQ,CAAC82C,GACTH,EAAOU,IACTtL,EAAK4K,EAAOU,GAAKp4B,EAAIjf,OAM/B,MAAWi3C,GACTlL,EAAK9sB,GAAOjf,GACR+B,EAAAA,EAAAA,IAAOsrB,EAAYpO,KACrBoO,EAAWpO,GAAOjf,IAEXk3C,IACTj4B,EAAIjf,MAAQA,EACR22C,EAAOU,IACTtL,EAAK4K,EAAOU,GAAKr3C,GACkC,EAIrDA,GACFm3C,EAAMvmC,IAAM,EACZyuB,GAAsB8X,EAAOje,IAE7Bie,GAEJ,MAAW,CAGb,CACF,CAEA,IAAIG,IAAc,EAClB,MAAMC,GAAkB/nB,GAAc,MAAM3oB,KAAK2oB,EAAUgoB,eAAuC,kBAAtBhoB,EAAUioB,QAChFC,GAAa5a,GAA2B,IAAlBA,EAAK6a,SACjC,SAASC,GAAyBve,GAChC,MACEwe,GAAIC,EACJjuB,EAAGkQ,EACHnQ,GAAG,UACDmuB,EAAS,WACTC,EAAU,YACVC,EAAW,WACX/c,EAAU,OACV3Y,EAAM,OACN21B,EAAM,cACNC,IAEA9e,EACEG,EAAUA,CAAChJ,EAAOhB,KACtB,IAAKA,EAAU4oB,gBAOb,OAHAre,EAAM,KAAMvJ,EAAOhB,GACnBoD,SACApD,EAAU6oB,OAAS7nB,GAGrB8mB,IAAc,EACdva,EAAYvN,EAAU8oB,WAAY9nB,EAAO,KAAM,KAAM,MACrDoC,IACApD,EAAU6oB,OAAS7nB,EACf8mB,IACFnmB,QAAQrwB,MAAO,+CACjB,EAEIi8B,EAAcA,CAACD,EAAMtM,EAAOyI,EAAiBC,EAAgBE,EAAcvB,GAAY,KAC3F,MAAM0gB,EAAkBb,GAAU5a,IAAuB,MAAdA,EAAKlxB,KAC1C4sC,EAAaA,IAAMC,EACvB3b,EACAtM,EACAyI,EACAC,EACAE,EACAmf,IAEI,KAAEptC,EAAI,IAAE8T,EAAG,UAAEuX,EAAS,UAAE2B,GAAc3H,EAC5C,IAAIkoB,EAAU5b,EAAK6a,SACnBnnB,EAAM1wB,GAAKg9B,GACQ,IAAf3E,IACFN,GAAY,EACZrH,EAAMkN,gBAAkB,MAE1B,IAAIib,EAAW,KACf,OAAQxtC,GACN,KAAKytC,GACa,IAAZF,EACqB,KAAnBloB,EAAM8G,UACR4gB,EAAO1nB,EAAM1wB,GAAKk4C,EAAW,IAAK9c,EAAW4B,GAAOA,GACpD6b,EAAW7b,GAEX6b,EAAWH,KAGT1b,EAAKlxB,OAAS4kB,EAAM8G,WACtBggB,IAAc,EAMdxa,EAAKlxB,KAAO4kB,EAAM8G,UAEpBqhB,EAAWV,EAAYnb,IAEzB,MACF,KAAK/F,GAED4hB,EADc,IAAZD,GAA+BH,EACtBC,IAEAP,EAAYnb,GAEzB,MACF,KAAK+b,GAKH,GAJIN,IACFzb,EAAOmb,EAAYnb,GACnB4b,EAAU5b,EAAK6a,UAED,IAAZe,GAA2C,IAAZA,EAA0B,CAC3DC,EAAW7b,EACX,MAAMgc,GAAsBtoB,EAAM8G,SAASp3B,OAC3C,IAAK,IAAIsC,EAAI,EAAGA,EAAIguB,EAAMuoB,YAAav2C,IACjCs2C,IACFtoB,EAAM8G,UAAkC,IAAtBqhB,EAAShB,SAA+BgB,EAASK,UAAYL,EAAS/sC,MACtFpJ,IAAMguB,EAAMuoB,YAAc,IAC5BvoB,EAAMwI,OAAS2f,GAEjBA,EAAWV,EAAYU,GAEzB,OAAOJ,EAAkBN,EAAYU,GAAYA,CACnD,CACEH,IAEF,MACF,KAAK5T,GAID+T,EAHGJ,EAGQU,EACTnc,EACAtM,EACAyI,EACAC,EACAE,EACAvB,GARS2gB,IAWb,MACF,QACE,GAAgB,EAAZhiB,EAEAmiB,EADc,IAAZD,GAA+BloB,EAAMrlB,KAAKc,gBAAkB6wB,EAAK2a,QAAQxrC,cAChEusC,IAEAU,EACTpc,EACAtM,EACAyI,EACAC,EACAE,EACAvB,QAGC,GAAgB,EAAZrB,EAAe,CACxBhG,EAAM4I,aAAeA,EACrB,MAAM5J,EAAY0L,EAAW4B,GAc7B,GAbAgb,EACEtnB,EACAhB,EACA,KACAyJ,EACAC,EACAqe,GAAe/nB,GACfqI,GAEF8gB,EAAWJ,EAAkBY,EAAyBrc,GAAQmb,EAAYnb,GACtE6b,GAAYjB,GAAUiB,IAA+B,iBAAlBA,EAAS/sC,OAC9C+sC,EAAWV,EAAYU,IAErB5T,GAAevU,GAAQ,CACzB,IAAIkI,EACA6f,GACF7f,EAAU5B,GAAY8N,IACtBlM,EAAQM,OAAS2f,EAAWA,EAASS,gBAAkB5pB,EAAU6pB,WAEjE3gB,EAA4B,IAAlBoE,EAAK6a,SAAiB2B,GAAgB,IAAMxiB,GAAY,OAEpE4B,EAAQ54B,GAAKg9B,EACbtM,EAAMwH,UAAUU,QAAUA,CAC5B,CACF,MAAuB,GAAZlC,EAEPmiB,EADc,IAAZD,EACSF,IAEAhoB,EAAMrlB,KAAKquB,QACpBsD,EACAtM,EACAyI,EACAC,EACAE,EACAvB,EACAwB,EACAkgB,GAGiB,IAAZ/iB,IACTmiB,EAAWnoB,EAAMrlB,KAAKquB,QACpBsD,EACAtM,EACAyI,EACAC,EACAqe,GAAerc,EAAW4B,IAC1B1D,EACAvB,EACAwB,EACA0D,IASR,OAHW,MAAP9d,GACFy3B,GAAOz3B,EAAK,KAAMia,EAAgB1I,GAE7BmoB,CAAQ,EAEXO,EAAiBA,CAACp5C,EAAI0wB,EAAOyI,EAAiBC,EAAgBE,EAAcvB,KAChFA,EAAYA,KAAerH,EAAMkN,gBACjC,MAAM,KAAEvyB,EAAI,MAAEqb,EAAK,UAAE2R,EAAS,UAAE3B,EAAS,KAAEW,GAAS3G,EAC9CgpB,EAA2B,UAATruC,GAAoBgsB,GAAiB,WAAThsB,EACpD,GAAiDquC,IAAkC,IAAfrhB,EAAkB,CAIpF,GAHIhB,GACFmJ,GAAoB9P,EAAO,KAAMyI,EAAiB,WAEhDzS,EACF,GAAIgzB,IAAoB3hB,GAAyB,GAAZM,EACnC,IAAK,MAAMx2B,KAAO6kB,GACZgzB,GAAmB73C,EAAI83C,SAAS,WAAYt3B,EAAAA,EAAAA,IAAKxgB,MAASyhB,EAAAA,EAAAA,IAAezhB,KAC3Eo2C,EACEj4C,EACA6B,EACA,KACA6kB,EAAM7kB,IACN,OACA,EACAs3B,QAIGzS,EAAMkzB,SACf3B,EACEj4C,EACA,UACA,KACA0mB,EAAMkzB,SACN,OACA,EACAzgB,GAIN,IAAI0gB,EAaJ,IAZIA,EAAanzB,GAASA,EAAMozB,qBAC9BlS,GAAgBiS,EAAY1gB,EAAiBzI,GAE3C2G,GACFmJ,GAAoB9P,EAAO,KAAMyI,EAAiB,iBAE/C0gB,EAAanzB,GAASA,EAAMihB,iBAAmBtQ,IAClDwG,IAAwB,KACtBgc,GAAcjS,GAAgBiS,EAAY1gB,EAAiBzI,GAC3D2G,GAAQmJ,GAAoB9P,EAAO,KAAMyI,EAAiB,UAAU,GACnEC,GAEW,GAAZ1C,KACFhQ,IAAUA,EAAMqzB,YAAarzB,EAAMszB,aAAe,CAClD,IAAIz9B,EAAOk9B,EACTz5C,EAAGw4C,WACH9nB,EACA1wB,EACAm5B,EACAC,EACAE,EACAvB,GAGF,MAAOxb,EAAM,CACXi7B,IAAc,EAOd,MAAM7mB,EAAMpU,EACZA,EAAOA,EAAK47B,YACZ11B,EAAOkO,EACT,CACF,MAAuB,EAAZ+F,GACL12B,EAAGg6C,cAAgBtpB,EAAM8G,WAC3BggB,IAAc,EAMdx3C,EAAGg6C,YAActpB,EAAM8G,SAG7B,CACA,OAAOx3B,EAAGm4C,WAAW,EAEjBsB,EAAkBA,CAACzc,EAAMid,EAAavqB,EAAWyJ,EAAiBC,EAAgBE,EAAcvB,KACpGA,EAAYA,KAAekiB,EAAYrc,gBACvC,MAAMpG,EAAWyiB,EAAYziB,SACvBtjB,EAAIsjB,EAASp3B,OAEnB,IAAK,IAAIsC,EAAI,EAAGA,EAAIwR,EAAGxR,IAAK,CAC1B,MAAMguB,EAAQqH,EAAYP,EAAS90B,GAAK80B,EAAS90B,GAAKk0B,GAAeY,EAAS90B,IAC9E,GAAIs6B,EACFA,EAAOC,EACLD,EACAtM,EACAyI,EACAC,EACAE,EACAvB,OAEG,IAAIrH,EAAMrlB,OAASytC,KAASpoB,EAAM8G,SACvC,SAEAggB,IAAc,EAOdvd,EACE,KACAvJ,EACAhB,EACA,KACAyJ,EACAC,EACAqe,GAAe/nB,GACf4J,EAEJ,CACF,CACA,OAAO0D,CAAI,EAEPmc,EAAkBA,CAACnc,EAAMtM,EAAOyI,EAAiBC,EAAgBE,EAAcvB,KACnF,MAAQuB,aAAc4gB,GAAyBxpB,EAC3CwpB,IACF5gB,EAAeA,EAAeA,EAAahrB,OAAO4rC,GAAwBA,GAE5E,MAAMxqB,EAAY0L,EAAW4B,GACvBzgB,EAAOk9B,EACXtB,EAAYnb,GACZtM,EACAhB,EACAyJ,EACAC,EACAE,EACAvB,GAEF,OAAIxb,GAAQq7B,GAAUr7B,IAAuB,MAAdA,EAAKzQ,KAC3BqsC,EAAYznB,EAAMwI,OAAS3c,IAElCi7B,IAAc,EACdY,EAAO1nB,EAAMwI,OAASmf,EAAe,KAAK3oB,EAAWnT,GAC9CA,EACT,EAEIo8B,EAAiBA,CAAC3b,EAAMtM,EAAOyI,EAAiBC,EAAgBE,EAAc6gB,KAYlF,GAXA3C,IAAc,EAUd9mB,EAAM1wB,GAAK,KACPm6C,EAAY,CACd,MAAM/0B,EAAMi0B,EAAyBrc,GACrC,MAAO,EAAM,CACX,MAAMod,EAAQjC,EAAYnb,GAC1B,IAAIod,GAASA,IAAUh1B,EAGrB,MAFA3C,EAAO23B,EAIX,CACF,CACA,MAAM79B,EAAO47B,EAAYnb,GACnBtN,EAAY0L,EAAW4B,GAY7B,OAXAva,EAAOua,GACP/C,EACE,KACAvJ,EACAhB,EACAnT,EACA4c,EACAC,EACAqe,GAAe/nB,GACf4J,GAEK/c,CAAI,EAEP88B,EAA4Brc,IAChC,IAAIh3B,EAAQ,EACZ,MAAOg3B,EAEL,GADAA,EAAOmb,EAAYnb,GACfA,GAAQ4a,GAAU5a,KACF,MAAdA,EAAKlxB,MACP9F,IACgB,MAAdg3B,EAAKlxB,MAAc,CACrB,GAAc,IAAV9F,EACF,OAAOmyC,EAAYnb,GAEnBh3B,GAEJ,CAGJ,OAAOg3B,CAAI,EAEb,MAAO,CAACtD,EAASuD,EACnB,CA0CA,SAASod,KAkBT,CAEA,MAAM9a,GAAwB1B,GAC9B,SAASyc,GAAep3C,GACtB,OAAOq3C,GAAmBr3C,EAC5B,CACA,SAASs3C,GAAwBt3C,GAC/B,OAAOq3C,GAAmBr3C,EAAS40C,GACrC,CACA,SAASyC,GAAmBr3C,EAASu3C,GAEjCJ,KAEF,MAAMh4C,GAASwiB,EAAAA,EAAAA,MACfxiB,EAAOq4C,SAAU,EAIjB,MACEtC,OAAQuC,EACRl4B,OAAQm4B,EACR3C,UAAW4C,EACX72C,cAAe82C,EACf5C,WAAY6C,EACZ1C,cAAe2C,EACfC,QAASC,EACTC,eAAgBC,EAChBhgB,WAAYigB,EACZlD,YAAamD,EACbC,WAAYC,EAAiB75B,EAAAA,GAC7B85B,oBAAqBC,GACnBx4C,EACE+2B,EAAQA,CAACjB,EAAIC,EAAIvJ,EAAWwJ,EAAS,KAAMC,EAAkB,KAAMC,EAAiB,KAAMC,GAAQ,EAAOC,EAAe,KAAMvB,IAAmFkB,EAAG2E,mBACxN,GAAI5E,IAAOC,EACT,OAEED,IAAO+B,GAAgB/B,EAAIC,KAC7BC,EAASyiB,EAAgB3iB,GACzByB,EAAQzB,EAAIG,EAAiBC,GAAgB,GAC7CJ,EAAK,OAEe,IAAlBC,EAAGZ,YACLN,GAAY,EACZkB,EAAG2E,gBAAkB,MAEvB,MAAM,KAAEvyB,EAAI,IAAE8T,EAAG,UAAEuX,GAAcuC,EACjC,OAAQ5tB,GACN,KAAKytC,GACH8C,EAAY5iB,EAAIC,EAAIvJ,EAAWwJ,GAC/B,MACF,KAAKjC,GACH4kB,EAAmB7iB,EAAIC,EAAIvJ,EAAWwJ,GACtC,MACF,KAAK6f,GACO,MAAN/f,GACF8iB,EAAgB7iB,EAAIvJ,EAAWwJ,EAAQG,GAIzC,MACF,KAAKyL,GACHiX,EACE/iB,EACAC,EACAvJ,EACAwJ,EACAC,EACAC,EACAC,EACAC,EACAvB,GAEF,MACF,QACkB,EAAZrB,EACFslB,EACEhjB,EACAC,EACAvJ,EACAwJ,EACAC,EACAC,EACAC,EACAC,EACAvB,GAEmB,EAAZrB,EACTulB,EACEjjB,EACAC,EACAvJ,EACAwJ,EACAC,EACAC,EACAC,EACAC,EACAvB,IAEmB,GAAZrB,GAaY,IAAZA,IAZTrrB,EAAKnF,QACH8yB,EACAC,EACAvJ,EACAwJ,EACAC,EACAC,EACAC,EACAC,EACAvB,EACAmkB,IAmBG,MAAP/8B,GAAega,GACjByd,GAAOz3B,EAAK6Z,GAAMA,EAAG7Z,IAAKia,EAAgBH,GAAMD,GAAKC,EACvD,EAEI2iB,EAAcA,CAAC5iB,EAAIC,EAAIvJ,EAAWwJ,KACtC,GAAU,MAANF,EACF2hB,EACE1hB,EAAGj5B,GAAK+6C,EAAe9hB,EAAGzB,UAC1B9H,EACAwJ,OAEG,CACL,MAAMl5B,EAAKi5B,EAAGj5B,GAAKg5B,EAAGh5B,GAClBi5B,EAAGzB,WAAawB,EAAGxB,UACrB0jB,EAAYl7C,EAAIi5B,EAAGzB,SAEvB,GAEIqkB,EAAqBA,CAAC7iB,EAAIC,EAAIvJ,EAAWwJ,KACnC,MAANF,EACF2hB,EACE1hB,EAAGj5B,GAAKg7C,EAAkB/hB,EAAGzB,UAAY,IACzC9H,EACAwJ,GAGFD,EAAGj5B,GAAKg5B,EAAGh5B,EACb,EAEI87C,EAAkBA,CAAC7iB,EAAIvJ,EAAWwJ,EAAQG,MAC7CJ,EAAGj5B,GAAIi5B,EAAGC,QAAUwiB,EACnBziB,EAAGzB,SACH9H,EACAwJ,EACAG,EACAJ,EAAGj5B,GACHi5B,EAAGC,OACJ,EAiBGijB,EAAiBA,EAAGn8C,KAAIk5B,UAAUxJ,EAAWyoB,KACjD,IAAI57B,EACJ,MAAOvc,GAAMA,IAAOk5B,EAClB3c,EAAO++B,EAAgBt7C,GACvB26C,EAAW36C,EAAI0vB,EAAWyoB,GAC1Bn4C,EAAKuc,EAEPo+B,EAAWzhB,EAAQxJ,EAAWyoB,EAAY,EAEtCiE,EAAmBA,EAAGp8C,KAAIk5B,aAC9B,IAAI3c,EACJ,MAAOvc,GAAMA,IAAOk5B,EAClB3c,EAAO++B,EAAgBt7C,GACvB46C,EAAW56C,GACXA,EAAKuc,EAEPq+B,EAAW1hB,EAAO,EAEd8iB,EAAiBA,CAAChjB,EAAIC,EAAIvJ,EAAWwJ,EAAQC,EAAiBC,EAAgBC,EAAOC,EAAcvB,KACvGsB,EAAQA,GAAqB,QAAZJ,EAAG5tB,KACV,MAAN2tB,EACFqjB,EACEpjB,EACAvJ,EACAwJ,EACAC,EACAC,EACAC,EACAC,EACAvB,GAGFukB,EACEtjB,EACAC,EACAE,EACAC,EACAC,EACAC,EACAvB,EAEJ,EAEIskB,EAAeA,CAAC3rB,EAAOhB,EAAWwJ,EAAQC,EAAiBC,EAAgBC,EAAOC,EAAcvB,KACpG,IAAI/3B,EACA0nC,EACJ,MAAM,KAAEr8B,EAAI,MAAEqb,EAAK,UAAEgQ,EAAS,WAAEY,EAAU,KAAED,GAAS3G,EAyBrD,GAxBA1wB,EAAK0wB,EAAM1wB,GAAK86C,EACdpqB,EAAMrlB,KACNguB,EACA3S,GAASA,EAAMtC,GACfsC,GAEc,EAAZgQ,EACF0kB,EAAmBp7C,EAAI0wB,EAAM8G,UACR,GAAZd,GACT6lB,EACE7rB,EAAM8G,SACNx3B,EACA,KACAm5B,EACAC,EACAC,GAAkB,kBAAThuB,EACTiuB,EACAvB,GAGAV,GACFmJ,GAAoB9P,EAAO,KAAMyI,EAAiB,WAEpDoiB,EAAWv7C,EAAI0wB,EAAOA,EAAM2a,QAAS/R,EAAcH,GAC/CzS,EAAO,CACT,IAAK,MAAM7kB,KAAO6kB,EACJ,UAAR7kB,IAAoByhB,EAAAA,EAAAA,IAAezhB,IACrCg5C,EACE76C,EACA6B,EACA,KACA6kB,EAAM7kB,GACNw3B,EACA3I,EAAM8G,SACN2B,EACAC,EACAojB,GAIF,UAAW91B,GACbm0B,EAAc76C,EAAI,QAAS,KAAM0mB,EAAMxmB,QAErCwnC,EAAYhhB,EAAMozB,qBACpBlS,GAAgBF,EAAWvO,EAAiBzI,EAEhD,CAWI2G,GACFmJ,GAAoB9P,EAAO,KAAMyI,EAAiB,eAEpD,MAAMsjB,IAA4BrjB,GAAkBA,IAAmBA,EAAegB,gBAAkB9C,IAAeA,EAAWgK,UAC9Hmb,GACFnlB,EAAW0M,YAAYhkC,GAEzB26C,EAAW36C,EAAI0vB,EAAWwJ,KACrBwO,EAAYhhB,GAASA,EAAMihB,iBAAmB8U,GAA2BplB,IAC5EkI,IAAsB,KACpBmI,GAAaE,GAAgBF,EAAWvO,EAAiBzI,GACzD+rB,GAA2BnlB,EAAW4M,MAAMlkC,GAC5Cq3B,GAAQmJ,GAAoB9P,EAAO,KAAMyI,EAAiB,UAAU,GACnEC,EACL,EAEImiB,EAAaA,CAACv7C,EAAI0wB,EAAO2a,EAAS/R,EAAcH,KAIpD,GAHIkS,GACFmQ,EAAex7C,EAAIqrC,GAEjB/R,EACF,IAAK,IAAI52B,EAAI,EAAGA,EAAI42B,EAAal5B,OAAQsC,IACvC84C,EAAex7C,EAAIs5B,EAAa52B,IAGpC,GAAIy2B,EAAiB,CACnB,IAAIP,EAAUO,EAAgBP,QAI9B,GAAIlI,IAAUkI,EAAS,CACrB,MAAMqhB,EAAc9gB,EAAgBzI,MACpC6qB,EACEv7C,EACAi6C,EACAA,EAAY5O,QACZ4O,EAAY3gB,aACZH,EAAgB1lB,OAEpB,CACF,GAEI8oC,EAAgBA,CAAC/kB,EAAU9H,EAAWwJ,EAAQC,EAAiBC,EAAgBC,EAAOC,EAAcvB,EAAW5S,EAAQ,KAC3H,IAAK,IAAIziB,EAAIyiB,EAAOziB,EAAI80B,EAASp3B,OAAQsC,IAAK,CAC5C,MAAMg1B,EAAQF,EAAS90B,GAAKq1B,EAAY2kB,GAAellB,EAAS90B,IAAMk0B,GAAeY,EAAS90B,IAC9Fu3B,EACE,KACAvC,EACAhI,EACAwJ,EACAC,EACAC,EACAC,EACAC,EACAvB,EAEJ,GAEIukB,EAAeA,CAACtjB,EAAIC,EAAIE,EAAiBC,EAAgBC,EAAOC,EAAcvB,KAClF,MAAM/3B,EAAKi5B,EAAGj5B,GAAKg5B,EAAGh5B,GACtB,IAAI,UAAEq4B,EAAS,gBAAEuF,EAAe,KAAEvG,GAAS4B,EAC3CZ,GAA4B,GAAfW,EAAGX,UAChB,MAAMskB,EAAW3jB,EAAGtS,OAASzE,EAAAA,GACvB26B,EAAW3jB,EAAGvS,OAASzE,EAAAA,GAC7B,IAAIylB,EACJvO,GAAmB0jB,GAAc1jB,GAAiB,IAC9CuO,EAAYkV,EAASE,sBACvBlV,GAAgBF,EAAWvO,EAAiBF,EAAID,GAE9C3B,GACFmJ,GAAoBvH,EAAID,EAAIG,EAAiB,gBAE/CA,GAAmB0jB,GAAc1jB,GAAiB,GAMlD,MAAM4jB,EAAiB1jB,GAAqB,kBAAZJ,EAAG5tB,KA2BnC,GA1BIuyB,EACFof,EACEhkB,EAAG4E,gBACHA,EACA59B,EACAm5B,EACAC,EACA2jB,EACAzjB,GAKQvB,GACVklB,EACEjkB,EACAC,EACAj5B,EACA,KACAm5B,EACAC,EACA2jB,EACAzjB,GACA,GAGAjB,EAAY,EAAG,CACjB,GAAgB,GAAZA,EACF6kB,EACEl9C,EACAi5B,EACA0jB,EACAC,EACAzjB,EACAC,EACAC,QAWF,GARgB,EAAZhB,GACEskB,EAASh2B,QAAUi2B,EAASj2B,OAC9Bk0B,EAAc76C,EAAI,QAAS,KAAM48C,EAASj2B,MAAO0S,GAGrC,EAAZhB,GACFwiB,EAAc76C,EAAI,QAAS28C,EAAS91B,MAAO+1B,EAAS/1B,MAAOwS,GAE7C,EAAZhB,EAAe,CACjB,MAAMsc,EAAgB1b,EAAGR,aACzB,IAAK,IAAI/1B,EAAI,EAAGA,EAAIiyC,EAAcv0C,OAAQsC,IAAK,CAC7C,MAAMb,EAAM8yC,EAAcjyC,GACpB6yB,EAAOonB,EAAS96C,GAChB0a,EAAOqgC,EAAS/6C,GAClB0a,IAASgZ,GAAgB,UAAR1zB,GACnBg5C,EACE76C,EACA6B,EACA0zB,EACAhZ,EACA8c,EACAL,EAAGxB,SACH2B,EACAC,EACAojB,EAGN,CACF,CAEc,EAAZnkB,GACEW,EAAGxB,WAAayB,EAAGzB,UACrB4jB,EAAmBp7C,EAAIi5B,EAAGzB,SAGhC,MAAYO,GAAgC,MAAnB6F,GACvBsf,EACEl9C,EACAi5B,EACA0jB,EACAC,EACAzjB,EACAC,EACAC,KAGCqO,EAAYkV,EAASO,iBAAmB9lB,IAC3CkI,IAAsB,KACpBmI,GAAaE,GAAgBF,EAAWvO,EAAiBF,EAAID,GAC7D3B,GAAQmJ,GAAoBvH,EAAID,EAAIG,EAAiB,UAAU,GAC9DC,EACL,EAEI4jB,EAAqBA,CAACI,EAAaC,EAAaC,EAAmBnkB,EAAiBC,EAAgBC,EAAOC,KAC/G,IAAK,IAAI52B,EAAI,EAAGA,EAAI26C,EAAYj9C,OAAQsC,IAAK,CAC3C,MAAM66C,EAAWH,EAAY16C,GACvB86C,EAAWH,EAAY36C,GACvBgtB,EAGJ6tB,EAASv9C,KAERu9C,EAASlyC,OAASy5B,KAElB/J,GAAgBwiB,EAAUC,IACN,GAArBD,EAAS7mB,WAAwB2kB,EAAekC,EAASv9C,IAGvDs9C,EAGJrjB,EACEsjB,EACAC,EACA9tB,EACA,KACAyJ,EACAC,EACAC,EACAC,GACA,EAEJ,GAEI4jB,EAAaA,CAACl9C,EAAI0wB,EAAOisB,EAAUC,EAAUzjB,EAAiBC,EAAgBC,KAClF,GAAIsjB,IAAaC,EAAU,CACzB,GAAID,IAAa16B,EAAAA,GACf,IAAK,MAAMpgB,KAAO86C,GACXr5B,EAAAA,EAAAA,IAAezhB,IAAUA,KAAO+6C,GACnC/B,EACE76C,EACA6B,EACA86C,EAAS96C,GACT,KACAw3B,EACA3I,EAAM8G,SACN2B,EACAC,EACAojB,GAKR,IAAK,MAAM36C,KAAO+6C,EAAU,CAC1B,IAAIt5B,EAAAA,EAAAA,IAAezhB,GACjB,SACF,MAAM0a,EAAOqgC,EAAS/6C,GAChB0zB,EAAOonB,EAAS96C,GAClB0a,IAASgZ,GAAgB,UAAR1zB,GACnBg5C,EACE76C,EACA6B,EACA0zB,EACAhZ,EACA8c,EACA3I,EAAM8G,SACN2B,EACAC,EACAojB,EAGN,CACI,UAAWI,GACb/B,EAAc76C,EAAI,QAAS28C,EAASz8C,MAAO08C,EAAS18C,MAExD,GAEI67C,EAAkBA,CAAC/iB,EAAIC,EAAIvJ,EAAWwJ,EAAQC,EAAiBC,EAAgBC,EAAOC,EAAcvB,KACxG,MAAM0lB,EAAsBxkB,EAAGj5B,GAAKg5B,EAAKA,EAAGh5B,GAAK+6C,EAAe,IAC1D2C,EAAoBzkB,EAAGC,OAASF,EAAKA,EAAGE,OAAS6hB,EAAe,IACtE,IAAI,UAAE1iB,EAAS,gBAAEuF,EAAiBtE,aAAc4gB,GAAyBjhB,EAOrEihB,IACF5gB,EAAeA,EAAeA,EAAahrB,OAAO4rC,GAAwBA,GAElE,MAANlhB,GACF2hB,EAAW8C,EAAqB/tB,EAAWwJ,GAC3CyhB,EAAW+C,EAAmBhuB,EAAWwJ,GACzCqjB,EACEtjB,EAAGzB,SACH9H,EACAguB,EACAvkB,EACAC,EACAC,EACAC,EACAvB,IAGEM,EAAY,GAAiB,GAAZA,GAAkBuF,GAEvC5E,EAAG4E,iBACDof,EACEhkB,EAAG4E,gBACHA,EACAlO,EACAyJ,EACAC,EACAC,EACAC,IASU,MAAVL,EAAGp3B,KAAes3B,GAAmBF,IAAOE,EAAgBP,UAE5D+kB,GACE3kB,EACAC,GACA,IAKJgkB,EACEjkB,EACAC,EACAvJ,EACAguB,EACAvkB,EACAC,EACAC,EACAC,EACAvB,EAGN,EAEIkkB,EAAmBA,CAACjjB,EAAIC,EAAIvJ,EAAWwJ,EAAQC,EAAiBC,EAAgBC,EAAOC,EAAcvB,KACzGkB,EAAGK,aAAeA,EACR,MAANN,EACiB,IAAfC,EAAGvC,UACLyC,EAAgBvN,IAAI2b,SAClBtO,EACAvJ,EACAwJ,EACAG,EACAtB,GAGFigB,EACE/e,EACAvJ,EACAwJ,EACAC,EACAC,EACAC,EACAtB,GAIJ6lB,EAAgB5kB,EAAIC,EAAIlB,EAC1B,EAEIigB,EAAiBA,CAAC6F,EAAcnuB,EAAWwJ,EAAQC,EAAiBC,EAAgBC,EAAOtB,KAC/F,MAAMnP,EAAYi1B,EAAa3lB,UAAY4lB,GACzCD,EACA1kB,EACAC,GAqBF,GAZIsL,GAAYmZ,KACdj1B,EAASgD,IAAIob,SAAWkV,IAMxB6B,GAAen1B,GAKbA,EAAS4T,UAEX,GADApD,GAAkBA,EAAegD,YAAYxT,EAAUyT,IAClDwhB,EAAa79C,GAAI,CACpB,MAAM68B,EAAcjU,EAASgQ,QAAU5B,GAAYC,IACnD4kB,EAAmB,KAAMhf,EAAanN,EAAWwJ,EACnD,OAGFmD,EACEzT,EACAi1B,EACAnuB,EACAwJ,EACAE,EACAC,EACAtB,EAE8C,EAK5C6lB,EAAkBA,CAAC5kB,EAAIC,EAAIlB,KAC/B,MAAMnP,EAAWqQ,EAAGf,UAAYc,EAAGd,UACnC,GAAIN,EAAsBoB,EAAIC,EAAIlB,GAAY,CAC5C,GAAInP,EAAS4T,WAAa5T,EAAS+T,cAQjC,YAJAqhB,EAAyBp1B,EAAUqQ,EAAIlB,GAMvCnP,EAASrM,KAAO0c,EAChBzG,EAAc5J,EAAS4G,QACvB5G,EAAS4G,QAEb,MACEyJ,EAAGj5B,GAAKg5B,EAAGh5B,GACX4oB,EAAS8H,MAAQuI,CACnB,EAEIoD,EAAoBA,CAACzT,EAAUi1B,EAAcnuB,EAAWwJ,EAAQE,EAAgBC,EAAOtB,KAC3F,MAAMkmB,EAAoBA,KACxB,GAAKr1B,EAASgY,UA0FP,CACL,IAEI8G,GAFA,KAAEnrB,EAAI,GAAE2hC,EAAE,EAAEC,EAAC,OAAE1qC,EAAM,MAAEid,GAAU9H,EACjCw1B,EAAa7hC,EAEb,EAGJsgC,GAAcj0B,GAAU,GACpBrM,GACFA,EAAKvc,GAAK0wB,EAAM1wB,GAChBg+C,EAAyBp1B,EAAUrM,EAAMwb,IAEzCxb,EAAOmU,EAELwtB,IACF75B,EAAAA,EAAAA,IAAe65B,IAEbxW,EAAYnrB,EAAKmK,OAASnK,EAAKmK,MAAMo2B,sBACvClV,GAAgBF,EAAWj0B,EAAQ8I,EAAMmU,GAE3CmsB,GAAcj0B,GAAU,GAIxB,MAAMy1B,EAAWhoB,EAAoBzN,GACjC,EAGJ,MAAM01B,EAAW11B,EAASgQ,QAC1BhQ,EAASgQ,QAAUylB,EAInBpkB,EACEqkB,EACAD,EAEAhD,EAAeiD,EAASt+C,IAExB27C,EAAgB2C,GAChB11B,EACAwQ,EACAC,GAKF9c,EAAKvc,GAAKq+C,EAASr+C,GACA,OAAfo+C,GACFzlB,EAAgB/P,EAAUy1B,EAASr+C,IAEjCm+C,GACF5e,GAAsB4e,EAAG/kB,IAEvBsO,EAAYnrB,EAAKmK,OAASnK,EAAKmK,MAAMy2B,iBACvC5d,IACE,IAAMqI,GAAgBF,EAAWj0B,EAAQ8I,EAAMmU,IAC/C0I,EASN,KA5JyB,CACvB,IAAIsO,EACJ,MAAM,GAAE1nC,EAAE,MAAE0mB,GAAUm3B,GAChB,GAAEU,EAAE,EAAEl6C,EAAC,OAAEoP,GAAWmV,EACpB41B,EAAsBvZ,GAAe4Y,GAS3C,GARAhB,GAAcj0B,GAAU,GACpB21B,IACFl6B,EAAAA,EAAAA,IAAek6B,IAEZC,IAAwB9W,EAAYhhB,GAASA,EAAMozB,qBACtDlS,GAAgBF,EAAWj0B,EAAQoqC,GAErChB,GAAcj0B,GAAU,GACpB5oB,GAAMi9B,GAAa,CACrB,MAAMwhB,EAAiBA,KAIrB71B,EAASgQ,QAAUvC,EAAoBzN,GAOvCqU,GACEj9B,EACA4oB,EAASgQ,QACThQ,EACAwQ,EACA,KAE8C,EAI9ColB,EACFX,EAAaxyC,KAAK65B,gBAAgBjiB,MAKhC,KAAO2F,EAASsL,aAAeuqB,MAGjCA,GAEJ,KAAO,CACD,EAGJ,MAAM7lB,EAAUhQ,EAASgQ,QAAUvC,EAAoBzN,GACnD,EAMJqR,EACE,KACArB,EACAlJ,EACAwJ,EACAtQ,EACAwQ,EACAC,GAKFwkB,EAAa79C,GAAK44B,EAAQ54B,EAC5B,CAIA,GAHIqE,GACFk7B,GAAsBl7B,EAAG+0B,IAEtBolB,IAAwB9W,EAAYhhB,GAASA,EAAMihB,gBAAiB,CACvE,MAAM+W,EAAqBb,EAC3Bte,IACE,IAAMqI,GAAgBF,EAAWj0B,EAAQirC,IACzCtlB,EAEJ,EAC6B,IAAzBykB,EAAannB,WAAmBjjB,GAAUwxB,GAAexxB,EAAOid,QAAmC,IAAzBjd,EAAOid,MAAMgG,YACzF9N,EAAS/e,GAAK01B,GAAsB3W,EAAS/e,EAAGuvB,GAElDxQ,EAASgY,WAAY,EAIrBid,EAAenuB,EAAYwJ,EAAS,IACtC,CAkEA,EAEI3kB,EAASqU,EAASrU,OAAS,IAAIsB,EAAAA,GACnCooC,GACA,IAAM7rB,EAAS5C,IACf5G,EAASpU,OAGLgb,EAAS5G,EAAS4G,OAAS,IAAMjb,EAAOX,MAC9C4b,EAAO1e,GAAK8X,EAASpZ,IACrBqtC,GAAcj0B,GAAU,GAMxB4G,GAAQ,EAEJwuB,EAA2BA,CAACp1B,EAAUkP,EAAWC,KACrDD,EAAUI,UAAYtP,EACtB,MAAMoP,EAAYpP,EAAS8H,MAAMhK,MACjCkC,EAAS8H,MAAQoH,EACjBlP,EAASrM,KAAO,KAChB83B,GAAYzrB,EAAUkP,EAAUpR,MAAOsR,EAAWD,GAClD0e,GAAY7tB,EAAUkP,EAAUN,SAAUO,IAC1CrhB,EAAAA,EAAAA,MACAic,KACAhc,EAAAA,EAAAA,KAAe,EAEXsmC,EAAgBA,CAACjkB,EAAIC,EAAIvJ,EAAWwJ,EAAQC,EAAiBC,EAAgBC,EAAOC,EAAcvB,GAAY,KAClH,MAAM4mB,EAAK3lB,GAAMA,EAAGxB,SACdonB,EAAgB5lB,EAAKA,EAAGtC,UAAY,EACpCmoB,EAAK5lB,EAAGzB,UACR,UAAEa,EAAS,UAAE3B,GAAcuC,EACjC,GAAIZ,EAAY,EAAG,CACjB,GAAgB,IAAZA,EAYF,YAXAymB,EACEH,EACAE,EACAnvB,EACAwJ,EACAC,EACAC,EACAC,EACAC,EACAvB,GAGG,GAAgB,IAAZM,EAYT,YAXA0mB,EACEJ,EACAE,EACAnvB,EACAwJ,EACAC,EACAC,EACAC,EACAC,EACAvB,EAIN,CACgB,EAAZrB,GACkB,GAAhBkoB,GACFpC,EAAgBmC,EAAIxlB,EAAiBC,GAEnCylB,IAAOF,GACTvD,EAAmB1rB,EAAWmvB,IAGZ,GAAhBD,EACc,GAAZloB,EACFooB,EACEH,EACAE,EACAnvB,EACAwJ,EACAC,EACAC,EACAC,EACAC,EACAvB,GAGFykB,EAAgBmC,EAAIxlB,EAAiBC,GAAgB,IAGnC,EAAhBwlB,GACFxD,EAAmB1rB,EAAW,IAEhB,GAAZgH,GACF6lB,EACEsC,EACAnvB,EACAwJ,EACAC,EACAC,EACAC,EACAC,EACAvB,GAIR,EAEIgnB,EAAuBA,CAACJ,EAAIE,EAAInvB,EAAWwJ,EAAQC,EAAiBC,EAAgBC,EAAOC,EAAcvB,KAC7G4mB,EAAKA,GAAMz8B,EAAAA,GACX28B,EAAKA,GAAM38B,EAAAA,GACX,MAAM88B,EAAYL,EAAGv+C,OACfqX,EAAYonC,EAAGz+C,OACf6+C,EAAez1C,KAAK2G,IAAI6uC,EAAWvnC,GACzC,IAAI/U,EACJ,IAAKA,EAAI,EAAGA,EAAIu8C,EAAcv8C,IAAK,CACjC,MAAMw8C,EAAYL,EAAGn8C,GAAKq1B,EAAY2kB,GAAemC,EAAGn8C,IAAMk0B,GAAeioB,EAAGn8C,IAChFu3B,EACE0kB,EAAGj8C,GACHw8C,EACAxvB,EACA,KACAyJ,EACAC,EACAC,EACAC,EACAvB,EAEJ,CACIinB,EAAYvnC,EACd+kC,EACEmC,EACAxlB,EACAC,GACA,GACA,EACA6lB,GAGF1C,EACEsC,EACAnvB,EACAwJ,EACAC,EACAC,EACAC,EACAC,EACAvB,EACAknB,EAEJ,EAEIH,EAAqBA,CAACH,EAAIE,EAAInvB,EAAWyvB,EAAchmB,EAAiBC,EAAgBC,EAAOC,EAAcvB,KACjH,IAAIr1B,EAAI,EACR,MAAM08C,EAAKP,EAAGz+C,OACd,IAAIi/C,EAAKV,EAAGv+C,OAAS,EACjBk/C,EAAKF,EAAK,EACd,MAAO18C,GAAK28C,GAAM38C,GAAK48C,EAAI,CACzB,MAAMtmB,EAAK2lB,EAAGj8C,GACRu2B,EAAK4lB,EAAGn8C,GAAKq1B,EAAY2kB,GAAemC,EAAGn8C,IAAMk0B,GAAeioB,EAAGn8C,IACzE,IAAIq4B,GAAgB/B,EAAIC,GAatB,MAZAgB,EACEjB,EACAC,EACAvJ,EACA,KACAyJ,EACAC,EACAC,EACAC,EACAvB,GAKJr1B,GACF,CACA,MAAOA,GAAK28C,GAAM38C,GAAK48C,EAAI,CACzB,MAAMtmB,EAAK2lB,EAAGU,GACRpmB,EAAK4lB,EAAGS,GAAMvnB,EAAY2kB,GAAemC,EAAGS,IAAO1oB,GAAeioB,EAAGS,IAC3E,IAAIvkB,GAAgB/B,EAAIC,GAatB,MAZAgB,EACEjB,EACAC,EACAvJ,EACA,KACAyJ,EACAC,EACAC,EACAC,EACAvB,GAKJsnB,IACAC,GACF,CACA,GAAI58C,EAAI28C,GACN,GAAI38C,GAAK48C,EAAI,CACX,MAAMC,EAAUD,EAAK,EACfpmB,EAASqmB,EAAUH,EAAKP,EAAGU,GAASv/C,GAAKm/C,EAC/C,MAAOz8C,GAAK48C,EACVrlB,EACE,KACA4kB,EAAGn8C,GAAKq1B,EAAY2kB,GAAemC,EAAGn8C,IAAMk0B,GAAeioB,EAAGn8C,IAC9DgtB,EACAwJ,EACAC,EACAC,EACAC,EACAC,EACAvB,GAEFr1B,GAEJ,OACK,GAAIA,EAAI48C,EACb,MAAO58C,GAAK28C,EACV5kB,EAAQkkB,EAAGj8C,GAAIy2B,EAAiBC,GAAgB,GAChD12B,QAEG,CACL,MAAM88C,EAAK98C,EACL+8C,EAAK/8C,EACLg9C,EAAmC,IAAI5oC,IAC7C,IAAKpU,EAAI+8C,EAAI/8C,GAAK48C,EAAI58C,IAAK,CACzB,MAAMw8C,EAAYL,EAAGn8C,GAAKq1B,EAAY2kB,GAAemC,EAAGn8C,IAAMk0B,GAAeioB,EAAGn8C,IAC3D,MAAjBw8C,EAAUr9C,KAQZ69C,EAAiBj1C,IAAIy0C,EAAUr9C,IAAKa,EAExC,CACA,IAAI+iB,EACAk6B,EAAU,EACd,MAAMC,EAAcN,EAAKG,EAAK,EAC9B,IAAII,GAAQ,EACRC,EAAmB,EACvB,MAAMC,EAAwB,IAAIt0C,MAAMm0C,GACxC,IAAKl9C,EAAI,EAAGA,EAAIk9C,EAAal9C,IAC3Bq9C,EAAsBr9C,GAAK,EAC7B,IAAKA,EAAI88C,EAAI98C,GAAK28C,EAAI38C,IAAK,CACzB,MAAMs9C,EAAYrB,EAAGj8C,GACrB,GAAIi9C,GAAWC,EAAa,CAC1BnlB,EAAQulB,EAAW7mB,EAAiBC,GAAgB,GACpD,QACF,CACA,IAAI6mB,EACJ,GAAqB,MAAjBD,EAAUn+C,IACZo+C,EAAWP,EAAiBh8C,IAAIs8C,EAAUn+C,UAE1C,IAAK4jB,EAAIg6B,EAAIh6B,GAAK65B,EAAI75B,IACpB,GAAsC,IAAlCs6B,EAAsBt6B,EAAIg6B,IAAa1kB,GAAgBilB,EAAWnB,EAAGp5B,IAAK,CAC5Ew6B,EAAWx6B,EACX,KACF,MAGa,IAAbw6B,EACFxlB,EAAQulB,EAAW7mB,EAAiBC,GAAgB,IAEpD2mB,EAAsBE,EAAWR,GAAM/8C,EAAI,EACvCu9C,GAAYH,EACdA,EAAmBG,EAEnBJ,GAAQ,EAEV5lB,EACE+lB,EACAnB,EAAGoB,GACHvwB,EACA,KACAyJ,EACAC,EACAC,EACAC,EACAvB,GAEF4nB,IAEJ,CACA,MAAMO,EAA6BL,EAAQM,GAAYJ,GAAyB79B,EAAAA,GAEhF,IADAuD,EAAIy6B,EAA2B9/C,OAAS,EACnCsC,EAAIk9C,EAAc,EAAGl9C,GAAK,EAAGA,IAAK,CACrC,MAAM09C,EAAYX,EAAK/8C,EACjBw8C,EAAYL,EAAGuB,GACflnB,EAASknB,EAAY,EAAIhB,EAAKP,EAAGuB,EAAY,GAAGpgD,GAAKm/C,EAC1B,IAA7BY,EAAsBr9C,GACxBu3B,EACE,KACAilB,EACAxvB,EACAwJ,EACAC,EACAC,EACAC,EACAC,EACAvB,GAEO8nB,IACLp6B,EAAI,GAAK/iB,IAAMw9C,EAA2Bz6B,GAC5C0V,EAAK+jB,EAAWxvB,EAAWwJ,EAAQ,GAEnCzT,IAGN,CACF,GAEI0V,EAAOA,CAACzK,EAAOhB,EAAWwJ,EAAQmnB,EAAUjnB,EAAiB,QACjE,MAAM,GAAEp5B,EAAE,KAAEqL,EAAI,WAAEisB,EAAU,SAAEE,EAAQ,UAAEd,GAAchG,EACtD,GAAgB,EAAZgG,EAEF,YADAyE,EAAKzK,EAAMwH,UAAUU,QAASlJ,EAAWwJ,EAAQmnB,GAGnD,GAAgB,IAAZ3pB,EAEF,YADAhG,EAAMyJ,SAASgB,KAAKzL,EAAWwJ,EAAQmnB,GAGzC,GAAgB,GAAZ3pB,EAEF,YADArrB,EAAK8vB,KAAKzK,EAAOhB,EAAWwJ,EAAQgjB,IAGtC,GAAI7wC,IAASy5B,GAAU,CACrB6V,EAAW36C,EAAI0vB,EAAWwJ,GAC1B,IAAK,IAAIx2B,EAAI,EAAGA,EAAI80B,EAASp3B,OAAQsC,IACnCy4B,EAAK3D,EAAS90B,GAAIgtB,EAAWwJ,EAAQmnB,GAGvC,YADA1F,EAAWjqB,EAAMwI,OAAQxJ,EAAWwJ,EAEtC,CACA,GAAI7tB,IAAS0tC,GAEX,YADAoD,EAAezrB,EAAOhB,EAAWwJ,GAGnC,MAAMonB,EAA8B,IAAbD,GAA8B,EAAZ3pB,GAAiBY,EAC1D,GAAIgpB,EACF,GAAiB,IAAbD,EACF/oB,EAAW0M,YAAYhkC,GACvB26C,EAAW36C,EAAI0vB,EAAWwJ,GAC1BqG,IAAsB,IAAMjI,EAAW4M,MAAMlkC,IAAKo5B,OAC7C,CACL,MAAM,MAAEoL,EAAK,WAAEpB,EAAU,WAAEtH,GAAexE,EACpCipB,EAAUA,IAAM5F,EAAW36C,EAAI0vB,EAAWwJ,GAC1CsnB,EAAeA,KACnBhc,EAAMxkC,GAAI,KACRugD,IACAzkB,GAAcA,GAAY,GAC1B,EAEAsH,EACFA,EAAWpjC,EAAIugD,EAASC,GAExBA,GAEJ,MAEA7F,EAAW36C,EAAI0vB,EAAWwJ,EAC5B,EAEIuB,EAAUA,CAAC/J,EAAOyI,EAAiBC,EAAgB2D,GAAW,EAAOhF,GAAY,KACrF,MAAM,KACJ1sB,EAAI,MACJqb,EAAK,IACLvH,EAAG,SACHqY,EAAQ,gBACRoG,EAAe,UACflH,EAAS,UACT2B,EAAS,KACThB,GACE3G,EAIJ,GAHW,MAAPvR,GACFy3B,GAAOz3B,EAAK,KAAMia,EAAgB1I,GAAO,GAE3B,IAAZgG,EAEF,YADAyC,EAAgBvN,IAAIic,WAAWnX,GAGjC,MAAM+vB,EAA+B,EAAZ/pB,GAAiBW,EACpCqpB,GAAyBzb,GAAevU,GAC9C,IAAIgX,EAIJ,GAHIgZ,IAA0BhZ,EAAYhhB,GAASA,EAAMi6B,uBACvD/Y,GAAgBF,EAAWvO,EAAiBzI,GAE9B,EAAZgG,EACFkqB,EAAiBlwB,EAAMwH,UAAWkB,EAAgB2D,OAC7C,CACL,GAAgB,IAAZrG,EAEF,YADAhG,EAAMyJ,SAASM,QAAQrB,EAAgB2D,GAGrC0jB,GACFjgB,GAAoB9P,EAAO,KAAMyI,EAAiB,iBAEpC,GAAZzC,EACFhG,EAAMrlB,KAAKoX,OACTiO,EACAyI,EACAC,EACArB,EACAmkB,GACAnf,GAEOa,IACVvyB,IAASy5B,IAAYzM,EAAY,GAAiB,GAAZA,GACrCmkB,EACE5e,EACAzE,EACAC,GACA,GACA,IAEO/tB,IAASy5B,IAAwB,IAAZzM,IAA4BN,GAAyB,GAAZrB,IACvE8lB,EAAgBhlB,EAAU2B,EAAiBC,GAEzC2D,GACFta,EAAOiO,EAEX,EACIgwB,IAA0BhZ,EAAYhhB,GAASA,EAAMqhB,mBAAqB0Y,IAC5ElhB,IAAsB,KACpBmI,GAAaE,GAAgBF,EAAWvO,EAAiBzI,GACzD+vB,GAAoBjgB,GAAoB9P,EAAO,KAAMyI,EAAiB,YAAY,GACjFC,EACL,EAEI3W,EAAUiO,IACd,MAAM,KAAErlB,EAAI,GAAErL,EAAE,OAAEk5B,EAAM,WAAE5B,GAAe5G,EACzC,GAAIrlB,IAASy5B,GAYX,YAFE+b,EAAe7gD,EAAIk5B,GAIvB,GAAI7tB,IAAS0tC,GAEX,YADAqD,EAAiB1rB,GAGnB,MAAMowB,EAAgBA,KACpBlG,EAAW56C,GACPs3B,IAAeA,EAAWgK,WAAahK,EAAWwE,YACpDxE,EAAWwE,YACb,EAEF,GAAsB,EAAlBpL,EAAMgG,WAAiBY,IAAeA,EAAWgK,UAAW,CAC9D,MAAM,MAAEkD,EAAK,WAAEpB,GAAe9L,EACxBkpB,EAAeA,IAAMhc,EAAMxkC,EAAI8gD,GACjC1d,EACFA,EAAW1S,EAAM1wB,GAAI8gD,EAAeN,GAEpCA,GAEJ,MACEM,GACF,EAEID,EAAiBA,CAAClwB,EAAKvL,KAC3B,IAAI7I,EACJ,MAAOoU,IAAQvL,EACb7I,EAAO++B,EAAgB3qB,GACvBiqB,EAAWjqB,GACXA,EAAMpU,EAERq+B,EAAWx1B,EAAI,EAEXw7B,EAAmBA,CAACh4B,EAAUwQ,EAAgB2D,KAIlD,MAAM,IAAEgkB,EAAG,MAAEvsC,EAAK,OAAEgb,EAAM,QAAEoJ,EAAO,GAAE4B,GAAO5R,EACxCm4B,IACF18B,EAAAA,EAAAA,IAAe08B,GAEjBvsC,EAAMR,OACFwb,IACFA,EAAO7b,QAAS,EAChB8mB,EAAQ7B,EAAShQ,EAAUwQ,EAAgB2D,IAEzCvC,GACF+E,GAAsB/E,EAAIpB,GAE5BmG,IAAsB,KACpB3W,EAASsL,aAAc,CAAI,GAC1BkF,GACCA,GAAkBA,EAAegB,gBAAkBhB,EAAelF,aAAetL,EAAS4T,WAAa5T,EAAS+T,eAAiB/T,EAAS8T,aAAetD,EAAe4B,YAC1K5B,EAAejkB,OACa,IAAxBikB,EAAejkB,MACjBikB,EAAe3L,UAGsD,EAIrE+uB,EAAkBA,CAAChlB,EAAU2B,EAAiBC,EAAgB2D,GAAW,EAAOhF,GAAY,EAAO5S,EAAQ,KAC/G,IAAK,IAAIziB,EAAIyiB,EAAOziB,EAAI80B,EAASp3B,OAAQsC,IACvC+3B,EAAQjD,EAAS90B,GAAIy2B,EAAiBC,EAAgB2D,EAAUhF,EAClE,EAEI4jB,EAAmBjrB,GACD,EAAlBA,EAAMgG,UACDilB,EAAgBjrB,EAAMwH,UAAUU,SAEnB,IAAlBlI,EAAMgG,UACDhG,EAAMyJ,SAAS5d,OAEjB++B,EAAgB5qB,EAAMwI,QAAUxI,EAAM1wB,IAEzCuuB,EAASA,CAACmC,EAAOhB,EAAW2J,KACnB,MAAT3I,EACEhB,EAAU6oB,QACZ9d,EAAQ/K,EAAU6oB,OAAQ,KAAM,MAAM,GAGxCte,EAAMvK,EAAU6oB,QAAU,KAAM7nB,EAAOhB,EAAW,KAAM,KAAM,KAAM2J,GAEtE1G,IACAG,IACApD,EAAU6oB,OAAS7nB,CAAK,EAEpBwrB,GAAY,CAChBnyB,EAAGkQ,EACHO,GAAIC,EACJp2B,EAAG82B,EACHlc,EAAGwD,EACHs1B,GAAIC,EACJgJ,GAAIzE,EACJ0E,GAAIhE,EACJiE,IAAKlE,EACLzvC,EAAGouC,EACH7xB,EAAG5mB,GAEL,IAAIw2B,GACAuD,GAMJ,OALIwd,KACD/gB,GAASuD,IAAewd,EACvByB,KAGG,CACL3tB,SACAmL,WACAynB,UAAW5O,GAAahkB,EAAQmL,IAEpC,CACA,SAASmjB,IAAc,OAAEtoC,EAAM,OAAEib,GAAU4xB,GACzC7sC,EAAO2D,aAAesX,EAAOtX,aAAekpC,CAC9C,CACA,SAASzD,GAAuB3kB,EAAIC,EAAI1f,GAAU,GAChD,MAAM8nC,EAAMroB,EAAGxB,SACT8pB,EAAMroB,EAAGzB,SACf,IAAI/2B,EAAAA,EAAAA,IAAQ4gD,KAAQ5gD,EAAAA,EAAAA,IAAQ6gD,GAC1B,IAAK,IAAI5+C,EAAI,EAAGA,EAAI2+C,EAAIjhD,OAAQsC,IAAK,CACnC,MAAMi8C,EAAK0C,EAAI3+C,GACf,IAAIm8C,EAAKyC,EAAI5+C,GACM,EAAfm8C,EAAGnoB,YAAkBmoB,EAAGjhB,mBACtBihB,EAAGxmB,WAAa,GAAsB,KAAjBwmB,EAAGxmB,aAC1BwmB,EAAKyC,EAAI5+C,GAAKg6C,GAAe4E,EAAI5+C,IACjCm8C,EAAG7+C,GAAK2+C,EAAG3+C,IAERuZ,GACHokC,GAAuBgB,EAAIE,IAE3BA,EAAGxzC,OAASytC,KACd+F,EAAG7+C,GAAK2+C,EAAG3+C,GAKf,CAEJ,CACA,SAASmgD,GAAYhnC,GACnB,MAAM4Q,EAAI5Q,EAAI/X,QACRW,EAAS,CAAC,GAChB,IAAIW,EAAG+iB,EAAG04B,EAAGljC,EAAG7W,EAChB,MAAMwN,EAAMuH,EAAI/Y,OAChB,IAAKsC,EAAI,EAAGA,EAAIkP,EAAKlP,IAAK,CACxB,MAAM6+C,EAAOpoC,EAAIzW,GACjB,GAAa,IAAT6+C,EAAY,CAEd,GADA97B,EAAI1jB,EAAOA,EAAO3B,OAAS,GACvB+Y,EAAIsM,GAAK87B,EAAM,CACjBx3B,EAAErnB,GAAK+iB,EACP1jB,EAAO0M,KAAK/L,GACZ,QACF,CACAy7C,EAAI,EACJljC,EAAIlZ,EAAO3B,OAAS,EACpB,MAAO+9C,EAAIljC,EACT7W,EAAI+5C,EAAIljC,GAAK,EACT9B,EAAIpX,EAAOqC,IAAMm9C,EACnBpD,EAAI/5C,EAAI,EAER6W,EAAI7W,EAGJm9C,EAAOpoC,EAAIpX,EAAOo8C,MAChBA,EAAI,IACNp0B,EAAErnB,GAAKX,EAAOo8C,EAAI,IAEpBp8C,EAAOo8C,GAAKz7C,EAEhB,CACF,CACAy7C,EAAIp8C,EAAO3B,OACX6a,EAAIlZ,EAAOo8C,EAAI,GACf,MAAOA,KAAM,EACXp8C,EAAOo8C,GAAKljC,EACZA,EAAI8O,EAAE9O,GAER,OAAOlZ,CACT,CAEA,MAAMy/C,GAAcn2C,GAASA,EAAKo2C,aAC5BC,GAAsBh7B,GAAUA,IAAUA,EAAMi7B,UAA+B,KAAnBj7B,EAAMi7B,UAClEC,GAAev/C,GAAiC,qBAAfw/C,YAA8Bx/C,aAAkBw/C,WACjFC,GAAgBA,CAACp7B,EAAOq7B,KAC5B,MAAMC,EAAiBt7B,GAASA,EAAM0qB,GACtC,IAAIruB,EAAAA,EAAAA,IAASi/B,GAAiB,CAC5B,GAAKD,EAKE,CACL,MAAM1/C,EAAS0/C,EAAOC,GAMtB,OAAO3/C,CACT,CATE,OAAO,IAUX,CAIE,OAAO2/C,CACT,EAEIC,GAAe,CACnBR,cAAc,EACdv7C,QAAQ8yB,EAAIC,EAAIvJ,EAAWwJ,EAAQC,EAAiBC,EAAgBC,EAAOC,EAAcvB,EAAWmkB,GAClG,MACE8E,GAAIzE,EACJ0E,GAAIhE,EACJiE,IAAKlE,EACLlzB,GAAG,OAAEsuB,EAAM,cAAE8J,EAAa,WAAEhK,EAAU,cAAEG,IACtC6D,EACEyF,EAAWD,GAAmBzoB,EAAGvS,OACvC,IAAI,UAAEgQ,EAAS,SAAEc,EAAQ,gBAAEoG,GAAoB3E,EAK/C,GAAU,MAAND,EAAY,CACd,MAAM6D,EAAc5D,EAAGj5B,GAAmFk4C,EAAW,IAC/GiK,EAAalpB,EAAGC,OAAqFgf,EAAW,IACtHE,EAAOvb,EAAanN,EAAWwJ,GAC/Bkf,EAAO+J,EAAYzyB,EAAWwJ,GAC9B,MAAM72B,EAAS42B,EAAG52B,OAASy/C,GAAc7oB,EAAGvS,MAAOw7B,GAC7CE,EAAenpB,EAAGmpB,aAAelK,EAAW,IAC9C71C,IACF+1C,EAAOgK,EAAc//C,GACrBg3B,EAAQA,GAASuoB,GAAYv/C,IAI/B,MAAMkxC,EAAQA,CAAC3X,EAAYG,KACT,GAAZrF,GACF6lB,EACE/kB,EACAoE,EACAG,EACA5C,EACAC,EACAC,EACAC,EACAvB,EAEJ,EAEE4pB,EACFpO,EAAM7jB,EAAWyyB,GACR9/C,GACTkxC,EAAMlxC,EAAQ+/C,EAElB,KAAO,CACLnpB,EAAGj5B,GAAKg5B,EAAGh5B,GACX,MAAMmiD,EAAalpB,EAAGC,OAASF,EAAGE,OAC5B72B,EAAS42B,EAAG52B,OAAS22B,EAAG32B,OACxB+/C,EAAenpB,EAAGmpB,aAAeppB,EAAGopB,aACpCC,EAAcX,GAAmB1oB,EAAGtS,OACpC47B,EAAmBD,EAAc3yB,EAAYrtB,EAC7CkgD,EAAgBF,EAAcF,EAAaC,EA0BjD,GAzBA/oB,EAAQA,GAASuoB,GAAYv/C,GACzBu7B,GACFof,EACEhkB,EAAG4E,gBACHA,EACA0kB,EACAnpB,EACAC,EACAC,EACAC,GAEFqkB,GAAuB3kB,EAAIC,GAAI,IACrBlB,GACVklB,EACEjkB,EACAC,EACAqpB,EACAC,EACAppB,EACAC,EACAC,EACAC,GACA,GAGAqoB,EACGU,GACHG,GACEvpB,EACAvJ,EACAyyB,EACAjG,EACA,QAIJ,IAAKjjB,EAAGvS,OAASuS,EAAGvS,MAAM0qB,OAASpY,EAAGtS,OAASsS,EAAGtS,MAAM0qB,IAAK,CAC3D,MAAMqR,EAAaxpB,EAAG52B,OAASy/C,GAC7B7oB,EAAGvS,MACHw7B,GAEEO,GACFD,GACEvpB,EACAwpB,EACA,KACAvG,EACA,EASN,MAAWmG,GACTG,GACEvpB,EACA52B,EACA+/C,EACAlG,EACA,EAIR,CACAwG,GAAczpB,EAChB,EACAxW,OAAOiO,EAAOyI,EAAiBC,EAAgBrB,GAAayC,GAAIC,EAAS3Q,GAAKrH,OAAQm4B,IAAgB7d,GACpG,MAAM,UAAErG,EAAS,SAAEc,EAAQ,OAAE0B,EAAM,aAAEkpB,EAAY,OAAE//C,EAAM,MAAEqkB,GAAUgK,EAIrE,GAHIruB,GACFu4C,EAAWwH,IAETrlB,IAAa2kB,GAAmBh7B,MAClCk0B,EAAW1hB,GACK,GAAZxC,GACF,IAAK,IAAIh0B,EAAI,EAAGA,EAAI80B,EAASp3B,OAAQsC,IAAK,CACxC,MAAMg1B,EAAQF,EAAS90B,GACvB+3B,EACE/C,EACAyB,EACAC,GACA,IACE1B,EAAMkG,gBAEZ,CAGN,EACAzC,KAAMqnB,GACN9oB,QAASipB,IAEX,SAASH,GAAa9xB,EAAOhB,EAAWyvB,GAAgBr1B,GAAG,OAAEsuB,GAAU/zC,EAAG82B,GAAQklB,EAAW,GAC1E,IAAbA,GACFjI,EAAO1nB,EAAM0xB,aAAc1yB,EAAWyvB,GAExC,MAAM,GAAEn/C,EAAE,OAAEk5B,EAAM,UAAExC,EAAS,SAAEc,EAAQ,MAAE9Q,GAAUgK,EAC7CkyB,EAAyB,IAAbvC,EAIlB,GAHIuC,GACFxK,EAAOp4C,EAAI0vB,EAAWyvB,KAEnByD,GAAalB,GAAmBh7B,KACnB,GAAZgQ,EACF,IAAK,IAAIh0B,EAAI,EAAGA,EAAI80B,EAASp3B,OAAQsC,IACnCy4B,EACE3D,EAAS90B,GACTgtB,EACAyvB,EACA,GAKJyD,GACFxK,EAAOlf,EAAQxJ,EAAWyvB,EAE9B,CACA,SAASwD,GAAgB3lB,EAAMtM,EAAOyI,EAAiBC,EAAgBE,EAAcvB,GACnFjO,GAAG,YAAEquB,EAAW,WAAE/c,EAAU,cAAE8mB,IAC7BzI,GACD,MAAMp3C,EAASquB,EAAMruB,OAASy/C,GAC5BpxB,EAAMhK,MACNw7B,GAEF,GAAI7/C,EAAQ,CACV,MAAMwgD,EAAaxgD,EAAOygD,MAAQzgD,EAAOm2C,WACzC,GAAsB,GAAlB9nB,EAAMgG,UACR,GAAIgrB,GAAmBhxB,EAAMhK,OAC3BgK,EAAMwI,OAASugB,EACbtB,EAAYnb,GACZtM,EACA0K,EAAW4B,GACX7D,EACAC,EACAE,EACAvB,GAEFrH,EAAM0xB,aAAeS,MAChB,CACLnyB,EAAMwI,OAASif,EAAYnb,GAC3B,IAAIolB,EAAeS,EACnB,MAAOT,EAEL,GADAA,EAAejK,EAAYiK,GACvBA,GAA0C,IAA1BA,EAAavK,UAAwC,oBAAtBuK,EAAat2C,KAA4B,CAC1F4kB,EAAM0xB,aAAeA,EACrB//C,EAAOygD,KAAOpyB,EAAM0xB,cAAgBjK,EAAYznB,EAAM0xB,cACtD,KACF,CAEF3I,EACEoJ,EACAnyB,EACAruB,EACA82B,EACAC,EACAE,EACAvB,EAEJ,CAEF2qB,GAAchyB,EAChB,CACA,OAAOA,EAAMwI,QAAUif,EAAYznB,EAAMwI,OAC3C,CACA,MAAM6pB,GAAWd,GACjB,SAASS,GAAchyB,GACrB,MAAM9E,EAAM8E,EAAM9E,IAClB,GAAIA,GAAOA,EAAIo3B,GAAI,CACjB,IAAIhmB,EAAOtM,EAAM8G,SAAS,GAAGx3B,GAC7B,MAAOg9B,IAAStM,EAAM0xB,aACE,IAAlBplB,EAAK6a,UACP7a,EAAKimB,aAAa,eAAgBr3B,EAAIpc,KACxCwtB,EAAOA,EAAKmb,YAEdvsB,EAAIo3B,IACN,CACF,CAEA,MAAMle,GAAW90B,OAAOm6B,IAAI,SACtB2O,GAAO9oC,OAAOm6B,IAAI,SAClBlT,GAAUjnB,OAAOm6B,IAAI,SACrB4O,GAAS/oC,OAAOm6B,IAAI,SACpBpT,GAAa,GACnB,IAAI0G,GAAe,KACnB,SAASD,GAAU0lB,GAAkB,GACnCnsB,GAAWtoB,KAAKgvB,GAAeylB,EAAkB,KAAO,GAC1D,CACA,SAASxlB,KACP3G,GAAW3iB,MACXqpB,GAAe1G,GAAWA,GAAW32B,OAAS,IAAM,IACtD,CACA,IAkDI+iD,GAlDA5lB,GAAqB,EACzB,SAASrH,GAAiBh2B,GACxBq9B,IAAsBr9B,CACxB,CACA,SAASkjD,GAAW1yB,GAMlB,OALAA,EAAMkN,gBAAkBL,GAAqB,EAAIE,IAAgBvb,EAAAA,GAAY,KAC7Ewb,KACIH,GAAqB,GAAKE,IAC5BA,GAAahvB,KAAKiiB,GAEbA,CACT,CACA,SAAS2yB,GAAmBh4C,EAAMqb,EAAO8Q,EAAUa,EAAWI,EAAc/B,GAC1E,OAAO0sB,GACLE,GACEj4C,EACAqb,EACA8Q,EACAa,EACAI,EACA/B,GACA,GAIN,CACA,SAAS0U,GAAY//B,EAAMqb,EAAO8Q,EAAUa,EAAWI,GACrD,OAAO2qB,GACLpsB,GACE3rB,EACAqb,EACA8Q,EACAa,EACAI,GACA,GAIN,CACA,SAASd,GAAQz3B,GACf,QAAOA,IAA8B,IAAtBA,EAAMqjD,WACvB,CACA,SAASxoB,GAAgB/B,EAAIC,GAM3B,OAAOD,EAAG3tB,OAAS4tB,EAAG5tB,MAAQ2tB,EAAGn3B,MAAQo3B,EAAGp3B,GAC9C,CAEA,SAAS2hD,GAAmBC,GAC1BN,GAAuBM,CACzB,CACA,MAKMvP,GAAqB,cACrBwP,GAAeA,EAAG7hD,SAAiB,MAAPA,EAAcA,EAAM,KAChD8hD,GAAeA,EACnBxkC,MACAykC,UACAC,cAEmB,kBAAR1kC,IACTA,EAAM,GAAKA,GAEC,MAAPA,GAAc4D,EAAAA,EAAAA,IAAS5D,KAAQpF,EAAAA,EAAAA,IAAMoF,KAAQY,EAAAA,EAAAA,IAAWZ,GAAO,CAAEzc,EAAG0yB,EAA0BnW,EAAGE,EAAKo4B,EAAGqM,EAASnhD,IAAKohD,GAAY1kC,EAAM,MAElJ,SAASmkC,GAAgBj4C,EAAMqb,EAAQ,KAAM8Q,EAAW,KAAMa,EAAY,EAAGI,EAAe,KAAM/B,GAAYrrB,IAASy5B,GAAW,EAAI,GAAGgf,GAAc,EAAOC,GAAgC,GAC5L,MAAMrzB,EAAQ,CACZ6yB,aAAa,EACbS,UAAU,EACV34C,OACAqb,QACA7kB,IAAK6kB,GAASg9B,GAAah9B,GAC3BvH,IAAKuH,GAASi9B,GAAaj9B,GAC3B2kB,QAAShW,EACTiE,aAAc,KACd9B,WACAU,UAAW,KACXiC,SAAU,KACVE,UAAW,KACXC,WAAY,KACZjD,KAAM,KACNC,WAAY,KACZt3B,GAAI,KACJk5B,OAAQ,KACR72B,OAAQ,KACR+/C,aAAc,KACdnJ,YAAa,EACbviB,YACA2B,YACAI,eACAmF,gBAAiB,KACjB3M,WAAY,KACZrF,IAAKwJ,GAwBP,OAtBI2uB,GACFE,GAAkBvzB,EAAO8G,GACT,IAAZd,GACFrrB,EAAKU,UAAU2kB,IAER8G,IACT9G,EAAMgG,YAAa3T,EAAAA,EAAAA,IAASyU,GAAY,EAAI,IAK1C+F,GAAqB,IACxBumB,GACDrmB,KAIC/M,EAAM2H,UAAY,GAAiB,EAAZ3B,IAEJ,KAApBhG,EAAM2H,WACJoF,GAAahvB,KAAKiiB,GAEbA,CACT,CACA,MAAMsG,GAAyFktB,GAC/F,SAASA,GAAa74C,EAAMqb,EAAQ,KAAM8Q,EAAW,KAAMa,EAAY,EAAGI,EAAe,KAAMqrB,GAAc,GAO3G,GANKz4C,GAAQA,IAAS6+B,KAIpB7+B,EAAO4rB,IAELU,GAAQtsB,GAAO,CACjB,MAAM84C,EAAS/sB,GACb/rB,EACAqb,GACA,GAcF,OAXI8Q,GACFysB,GAAkBE,EAAQ3sB,GAExB+F,GAAqB,IAAMumB,GAAermB,KACrB,EAAnB0mB,EAAOztB,UACT+G,GAAaA,GAAal9B,QAAQ8K,IAAS84C,EAE3C1mB,GAAahvB,KAAK01C,IAGtBA,EAAO9rB,YAAc,EACd8rB,CACT,CAIA,GAHIC,GAAiB/4C,KACnBA,EAAOA,EAAKuhB,WAEVlG,EAAO,CACTA,EAAQ29B,GAAmB39B,GAC3B,IAAMC,MAAOC,EAAK,MAAEC,GAAUH,EAC1BE,KAAU7D,EAAAA,EAAAA,IAAS6D,KACrBF,EAAMC,OAAQH,EAAAA,EAAAA,IAAeI,KAE3BnnB,EAAAA,EAAAA,IAASonB,MACPpI,EAAAA,EAAAA,IAAQoI,MAAWpmB,EAAAA,EAAAA,IAAQomB,KAC7BA,GAAQvQ,EAAAA,EAAAA,IAAO,CAAC,EAAGuQ,IAErBH,EAAMG,OAAQd,EAAAA,EAAAA,IAAec,GAEjC,CACA,MAAM6P,GAAY3T,EAAAA,EAAAA,IAAS1X,GAAQ,EAAIwtB,EAAWxtB,GAAQ,IAAMm2C,GAAWn2C,GAAQ,IAAK5L,EAAAA,EAAAA,IAAS4L,GAAQ,GAAI0U,EAAAA,EAAAA,IAAW1U,GAAQ,EAAI,EAUpI,OAAOi4C,GACLj4C,EACAqb,EACA8Q,EACAa,EACAI,EACA/B,EACAotB,GACA,EAEJ,CACA,SAASO,GAAmB39B,GAC1B,OAAKA,GAEEjI,EAAAA,EAAAA,IAAQiI,IAAUwtB,MAAqBxtB,GAAQpQ,EAAAA,EAAAA,IAAO,CAAC,EAAGoQ,GAASA,EADjE,IAEX,CACA,SAAS0Q,GAAW1G,EAAO4zB,EAAYC,GAAW,GAChD,MAAM,MAAE79B,EAAK,IAAEvH,EAAG,UAAEkZ,EAAS,SAAEb,GAAa9G,EACtC8zB,EAAcF,EAAaG,GAAW/9B,GAAS,CAAC,EAAG49B,GAAc59B,EACjEy9B,EAAS,CACbZ,aAAa,EACbS,UAAU,EACV34C,KAAMqlB,EAAMrlB,KACZqb,MAAO89B,EACP3iD,IAAK2iD,GAAed,GAAac,GACjCrlC,IAAKmlC,GAAcA,EAAWnlC,IAI5BolC,GAAYplC,GAAM1e,EAAAA,EAAAA,IAAQ0e,GAAOA,EAAI7Q,OAAOq1C,GAAaW,IAAe,CAACnlC,EAAKwkC,GAAaW,IAAeX,GAAaW,GACrHnlC,EACJksB,QAAS3a,EAAM2a,QACf/R,aAAc5I,EAAM4I,aACpB9B,SAA8HA,EAC9Hn1B,OAAQquB,EAAMruB,OACd+/C,aAAc1xB,EAAM0xB,aACpBnJ,YAAavoB,EAAMuoB,YACnBviB,UAAWhG,EAAMgG,UAKjB2B,UAAWisB,GAAc5zB,EAAMrlB,OAASy5B,IAA0B,IAAfzM,EAAmB,GAAiB,GAAZA,EAAiBA,EAC5FI,aAAc/H,EAAM+H,aACpBmF,gBAAiBlN,EAAMkN,gBACvB3M,WAAYP,EAAMO,WAClBoG,KAAM3G,EAAM2G,KACZC,WAAY5G,EAAM4G,WAKlBY,UAAWxH,EAAMwH,UACjBiC,SAAUzJ,EAAMyJ,SAChBE,UAAW3J,EAAM2J,WAAajD,GAAW1G,EAAM2J,WAC/CC,WAAY5J,EAAM4J,YAAclD,GAAW1G,EAAM4J,YACjDt6B,GAAI0wB,EAAM1wB,GACVk5B,OAAQxI,EAAMwI,OACdtN,IAAK8E,EAAM9E,IACX6a,GAAI/V,EAAM+V,IAEZ,OAAO0d,CACT,CAQA,SAAS3K,GAAgBkL,EAAO,IAAKC,EAAO,GAC1C,OAAO3tB,GAAY8hB,GAAM,KAAM4L,EAAMC,EACvC,CACA,SAASC,GAAkBC,EAASC,GAClC,MAAMp0B,EAAQsG,GAAY+hB,GAAQ,KAAM8L,GAExC,OADAn0B,EAAMuoB,YAAc6L,EACbp0B,CACT,CACA,SAASq0B,GAAmBL,EAAO,GAAIM,GAAU,GAC/C,OAAOA,GAAWxnB,KAAa4N,GAAYnU,GAAS,KAAMytB,IAAS1tB,GAAYC,GAAS,KAAMytB,EAChG,CACA,SAAS9tB,GAAec,GACtB,OAAa,MAATA,GAAkC,mBAAVA,EACnBV,GAAYC,KACVx2B,EAAAA,EAAAA,IAAQi3B,GACVV,GACL8N,GACA,KAEApN,EAAMt2B,SAEkB,kBAAVs2B,EACTglB,GAAehlB,GAEfV,GAAY8hB,GAAM,KAAMz5C,OAAOq4B,GAE1C,CACA,SAASglB,GAAehlB,GACtB,OAAoB,OAAbA,EAAM13B,KAAoC,IAArB03B,EAAMW,WAAoBX,EAAMutB,KAAOvtB,EAAQN,GAAWM,EACxF,CACA,SAASusB,GAAkBvzB,EAAO8G,GAChC,IAAInsB,EAAO,EACX,MAAM,UAAEqrB,GAAchG,EACtB,GAAgB,MAAZ8G,EACFA,EAAW,UACN,IAAI/2B,EAAAA,EAAAA,IAAQ+2B,GACjBnsB,EAAO,QACF,GAAwB,kBAAbmsB,EAAuB,CACvC,GAAgB,GAAZd,EAAsB,CACxB,MAAMmU,EAAOrT,EAAS4F,QAMtB,YALIyN,IACFA,EAAKzU,KAAOyU,EAAK5U,IAAK,GACtBguB,GAAkBvzB,EAAOma,KACzBA,EAAKzU,KAAOyU,EAAK5U,IAAK,IAG1B,CAAO,CACL5qB,EAAO,GACP,MAAM65C,EAAW1tB,EAAS3T,EACrBqhC,GAAchR,MAAqB1c,EAEhB,IAAb0tB,GAAkB9vB,IACc,IAArCA,EAAyBrJ,MAAMlI,EACjC2T,EAAS3T,EAAI,GAEb2T,EAAS3T,EAAI,EACb6M,EAAM2H,WAAa,OANrBb,EAAS8e,KAAOlhB,CASpB,CACF,MAAWrV,EAAAA,EAAAA,IAAWyX,IACpBA,EAAW,CAAE4F,QAAS5F,EAAU8e,KAAMlhB,GACtC/pB,EAAO,KAEPmsB,EAAWn4B,OAAOm4B,GACF,GAAZd,GACFrrB,EAAO,GACPmsB,EAAW,CAACgiB,GAAgBhiB,KAE5BnsB,EAAO,GAGXqlB,EAAM8G,SAAWA,EACjB9G,EAAMgG,WAAarrB,CACrB,CACA,SAASo5C,MAAcvrC,GACrB,MAAMsH,EAAM,CAAC,EACb,IAAK,IAAI9d,EAAI,EAAGA,EAAIwW,EAAK9Y,OAAQsC,IAAK,CACpC,MAAMyiD,EAAUjsC,EAAKxW,GACrB,IAAK,MAAMb,KAAOsjD,EAChB,GAAY,UAARtjD,EACE2e,EAAImG,QAAUw+B,EAAQx+B,QACxBnG,EAAImG,OAAQH,EAAAA,EAAAA,IAAe,CAAChG,EAAImG,MAAOw+B,EAAQx+B,cAE5C,GAAY,UAAR9kB,EACT2e,EAAIqG,OAAQd,EAAAA,EAAAA,IAAe,CAACvF,EAAIqG,MAAOs+B,EAAQt+B,aAC1C,IAAIxE,EAAAA,EAAAA,IAAKxgB,GAAM,CACpB,MAAMy1C,EAAW92B,EAAI3e,GACfujD,EAAWD,EAAQtjD,IACrBujD,GAAY9N,IAAa8N,IAAc3kD,EAAAA,EAAAA,IAAQ62C,IAAaA,EAASh3C,SAAS8kD,KAChF5kC,EAAI3e,GAAOy1C,EAAW,GAAGhpC,OAAOgpC,EAAU8N,GAAYA,EAE1D,KAAmB,KAARvjD,IACT2e,EAAI3e,GAAOsjD,EAAQtjD,GAGzB,CACA,OAAO2e,CACT,CACA,SAASonB,GAAgBpU,EAAM5K,EAAU8H,EAAOmH,EAAY,MAC1DtH,EAA2BiD,EAAM5K,EAAU,EAAG,CAC5C8H,EACAmH,GAEJ,CAEA,MAAMwtB,GAAkBtT,KACxB,IAAIviC,GAAM,EACV,SAASsuC,GAAwBptB,EAAOjd,EAAQ0mB,GAC9C,MAAM9uB,EAAOqlB,EAAMrlB,KACb4lB,GAAcxd,EAASA,EAAOwd,WAAaP,EAAMO,aAAeo0B,GAChEz8B,EAAW,CACfpZ,IAAKA,KACLkhB,QACArlB,OACAoI,SACAwd,aACA1yB,KAAM,KAENge,KAAM,KACNqc,QAAS,KAETrkB,OAAQ,KACRib,OAAQ,KAERhb,MAAO,IAAIpB,EAAAA,IACT,GAGFmb,OAAQ,KACRjQ,MAAO,KACPivB,QAAS,KACT+X,YAAa,KACbhvB,UAAW,KACXma,SAAUh9B,EAASA,EAAOg9B,SAAW9vC,OAAOohB,OAAOkP,EAAWwf,UAC9D9D,YAAa,KACbpW,YAAa,GAEb4Z,WAAY,KACZlQ,WAAY,KAEZxQ,aAAc0lB,GAAsB9pC,EAAM4lB,GAC1CqH,aAAc7D,EAAsBppB,EAAM4lB,GAE1CjF,KAAM,KAENwI,QAAS,KAET2f,cAAelyB,EAAAA,GAEfuU,aAAcnrB,EAAKmrB,aAEnB5K,IAAK3J,EAAAA,GACLnW,KAAMmW,EAAAA,GACNyE,MAAOzE,EAAAA,GACP6J,MAAO7J,EAAAA,GACP8J,MAAO9J,EAAAA,GACPgqB,KAAMhqB,EAAAA,GACNsL,WAAYtL,EAAAA,GACZisB,aAAc,KACdqX,WAAY,KACZC,WAAY,KAEZrrB,WACAuC,WAAYvC,EAAWA,EAASa,UAAY,EAC5CwB,SAAU,KACVG,eAAe,EAGfiE,WAAW,EACX1M,aAAa,EACbuT,eAAe,EACfge,GAAI,KACJrhD,EAAG,KACHm6C,GAAI,KACJl6C,EAAG,KACH65C,GAAI,KACJC,EAAG,KACH3jB,GAAI,KACJumB,IAAK,KACLjZ,GAAI,KACJj+B,EAAG,KACH67C,IAAK,KACLC,IAAK,KACL50B,GAAI,KACJ60B,GAAI,MAYN,OAPEh9B,EAASgD,IAAM,CAAE/H,EAAG+E,GAEtBA,EAASrqB,KAAOkV,EAASA,EAAOlV,KAAOqqB,EACvCA,EAASoD,KAAOA,EAAK7jB,KAAK,KAAMygB,GAC5B8H,EAAM+V,IACR/V,EAAM+V,GAAG7d,GAEJA,CACT,CACA,IAAI8V,GAAkB,KACtB,MAAM0D,GAAqBA,IAAM1D,IAAmBtJ,EACpD,IAAIywB,GACAC,GACAC,GAAa,4BAETD,IAA+BjhC,EAAAA,EAAAA,MAAgBkhC,OACnDD,IAA+BjhC,EAAAA,EAAAA,MAAgBkhC,IAAc,IAE/DD,GAA6Br3C,MAAM/L,GAAMg8B,GAAkBh8B,IAC3DmjD,GAA8Bj9B,IACxBk9B,GAA6B1lD,OAAS,EACxC0lD,GAA6BnuC,SAASxT,GAAMA,EAAEykB,KAE9Ck9B,GAA6B,GAAGl9B,EAClC,EAGJ,MAAMgX,GAAsBhX,IAC1Bi9B,GAA2Bj9B,GAC3BA,EAASpU,MAAMV,IAAI,EAEf+rB,GAAuBA,KAC3BnB,IAAmBA,GAAgBlqB,MAAMT,MACzC8xC,GAA2B,KAAK,EAWlC,SAASna,GAAoB9iB,GAC3B,OAAkC,EAA3BA,EAAS8H,MAAMgG,SACxB,CACA,IAyGIsvB,GACAC,GA1GA9mB,IAAwB,EAC5B,SAAS4e,GAAen1B,EAAUvH,GAAQ,GACxC8d,GAAwB9d,EACxB,MAAM,MAAEqF,EAAK,SAAE8Q,GAAa5O,EAAS8H,MAC/BujB,EAAavI,GAAoB9iB,GACvCorB,GAAUprB,EAAUlC,EAAOutB,EAAY5yB,GACvCm1B,GAAU5tB,EAAU4O,GACpB,MAAM0uB,EAAcjS,EAAakS,GAAuBv9B,EAAUvH,QAAS,EAE3E,OADA8d,IAAwB,EACjB+mB,CACT,CACA,SAASC,GAAuBv9B,EAAUvH,GAExC,MAAMwM,EAAYjF,EAASvd,KAuB3Bud,EAAS+jB,YAA8BhsC,OAAOohB,OAAO,MACrD6G,EAAStK,OAAQK,EAAAA,EAAAA,IAAQ,IAAIJ,MAAMqK,EAASgD,IAAK8gB,KAIjD,MAAM,MAAEzf,GAAUY,EAClB,GAAIZ,EAAO,CACT,MAAMihB,EAAetlB,EAASslB,aAAejhB,EAAM7sB,OAAS,EAAI+tC,GAAmBvlB,GAAY,KAC/FgX,GAAmBhX,IACnBlS,EAAAA,EAAAA,MACA,MAAMwvC,EAAc91B,EAClBnD,EACArE,EACA,EACA,CAA+EA,EAASlC,MAAOwnB,IAIjG,IAFAv3B,EAAAA,EAAAA,MACAkpB,MACI7c,EAAAA,EAAAA,IAAUkjC,GAAc,CAE1B,GADAA,EAAYjjC,KAAK4c,GAAsBA,IACnCxe,EACF,OAAO6kC,EAAYjjC,MAAMmjC,IACvBxpB,GAAkBhU,EAAUw9B,EAAgB/kC,EAAM,IACjD6B,OAAOiH,IACRmG,EAAYnG,EAAGvB,EAAU,EAAE,IAG7BA,EAAS4T,SAAW0pB,CAQxB,MACEtpB,GAAkBhU,EAAUs9B,EAAa7kC,EAE7C,MACEglC,GAAqBz9B,EAAUvH,EAEnC,CACA,SAASub,GAAkBhU,EAAUs9B,EAAa7kC,IAC5CtB,EAAAA,EAAAA,IAAWmmC,GACTt9B,EAASvd,KAAKi7C,kBAChB19B,EAAS29B,UAAYL,EAErBt9B,EAAS2F,OAAS23B,GAEXzmD,EAAAA,EAAAA,IAASymD,KASlBt9B,EAAS2E,YAAatN,EAAAA,EAAAA,IAAUimC,IASlCG,GAAqBz9B,EAAUvH,EACjC,CAGA,SAASmlC,GAAwBC,GAC/BT,GAAUS,EACVR,GAAoBvjD,IACdA,EAAE6rB,OAAOm4B,MACXhkD,EAAE4zB,UAAY,IAAI/X,MAAM7b,EAAEkpB,IAAKshB,IACjC,CAEJ,CACA,MAAMyZ,GAAgBA,KAAOX,GAC7B,SAASK,GAAqBz9B,EAAUvH,EAAOulC,GAC7C,MAAM/4B,EAAYjF,EAASvd,KAC3B,IAAKud,EAAS2F,OAAQ,CACpB,IAAKlN,GAAS2kC,KAAYn4B,EAAUU,OAAQ,CAC1C,MAAMs4B,EAAWh5B,EAAUg5B,UAAYxa,GAAqBzjB,GAAUi+B,SACtE,GAAIA,EAAU,CACR,EAGJ,MAAM,gBAAEC,EAAe,gBAAE1U,GAAoBxpB,EAASqI,WAAWC,QAC3D,WAAE61B,EAAY3U,gBAAiB4U,GAA6Bn5B,EAC5Do5B,GAAuB3wC,EAAAA,EAAAA,KAC3BA,EAAAA,EAAAA,IACE,CACEwwC,kBACAC,cAEF3U,GAEF4U,GAEFn5B,EAAUU,OAASy3B,GAAQa,EAAUI,EAIvC,CACF,CACAr+B,EAAS2F,OAASV,EAAUU,QAAU5M,EAAAA,GAClCskC,IACFA,GAAiBr9B,EAErB,CAEEgX,GAAmBhX,IACnBlS,EAAAA,EAAAA,MACAo4B,GAAalmB,IACbjS,EAAAA,EAAAA,MACAkpB,IAYJ,CACA,SAASqnB,GAAct+B,GACrB,OAAOA,EAAS28B,aAAe38B,EAAS28B,WAAa,IAAIhnC,MACvDqK,EAASkD,MAeL,CACFpoB,IAAIrB,EAAQR,GAEV,OADA+U,EAAAA,EAAAA,GAAMgS,EAAU,MAAO,UAChBvmB,EAAOR,EAChB,IAGN,CASA,SAASssC,GAAmBvlB,GAC1B,MAAMsnB,EAAU3C,IAqBd3kB,EAAS2kB,QAAUA,GAAW,CAAC,CAAC,EAgBhC,MAAO,CACDzhB,YACF,OAAOo7B,GAAct+B,EACvB,EACAmD,MAAOnD,EAASmD,MAChBC,KAAMpD,EAASoD,KACfkkB,SAGN,CACA,SAAS/P,GAAevX,GACtB,GAAIA,EAAS2kB,QACX,OAAO3kB,EAAS08B,cAAgB18B,EAAS08B,YAAc,IAAI/mC,OAAM0B,EAAAA,EAAAA,KAAUtB,EAAAA,EAAAA,IAAQiK,EAAS2kB,UAAW,CACrG7pC,IAAIrB,EAAQR,GACV,OAAIA,KAAOQ,EACFA,EAAOR,GACLA,KAAO8pC,GACTA,GAAoB9pC,GAAK+mB,QAD3B,CAGT,EACAle,IAAIrI,EAAQR,GACV,OAAOA,KAAOQ,GAAUR,KAAO8pC,EACjC,IAGN,CAGA,SAAStE,GAAiBxZ,EAAWs5B,GAAkB,GACrD,OAAOpnC,EAAAA,EAAAA,IAAW8N,GAAaA,EAAUu5B,aAAev5B,EAAUzqB,KAAOyqB,EAAUzqB,MAAQ+jD,GAAmBt5B,EAAUw5B,MAC1H,CAuBA,SAASjD,GAAiBlkD,GACxB,OAAO6f,EAAAA,EAAAA,IAAW7f,IAAU,cAAeA,CAC7C,CAEA,MAAM8X,GAAWA,CAACwJ,EAAiBC,KAC1B6lC,EAAAA,EAAAA,IAAW9lC,EAAiBC,EAAc0d,IAGnD,SAAS3Q,GAAEnjB,EAAMk8C,EAAiB/vB,GAChC,MAAMtjB,EAAIvS,UAAUvB,OACpB,OAAU,IAAN8T,GACEzU,EAAAA,EAAAA,IAAS8nD,MAAqB9mD,EAAAA,EAAAA,IAAQ8mD,GACpC5vB,GAAQ4vB,GACHvwB,GAAY3rB,EAAM,KAAM,CAACk8C,IAE3BvwB,GAAY3rB,EAAMk8C,GAElBvwB,GAAY3rB,EAAM,KAAMk8C,IAG7BrzC,EAAI,EACNsjB,EAAW/rB,MAAM3D,UAAU1G,MAAMkH,KAAK3G,UAAW,GAClC,IAANuS,GAAWyjB,GAAQH,KAC5BA,EAAW,CAACA,IAEPR,GAAY3rB,EAAMk8C,EAAiB/vB,GAE9C,CAEA,MAAMgwB,GAAgBx3C,OAAOm6B,IAAI,SAC3B/K,GAAgBA,KACpB,CACE,MAAMxT,EAAMyjB,GAAOmY,IAMnB,OAAO57B,CACT,GAOF,SAAS67B,KAEL,aA4KJ,CAEA,SAASC,GAASzC,EAAM12B,EAAQ9K,EAAOpjB,GACrC,MAAMw0B,EAASpR,EAAMpjB,GACrB,GAAIw0B,GAAU8yB,GAAW9yB,EAAQowB,GAC/B,OAAOpwB,EAET,MAAMrU,EAAM+N,IAEZ,OADA/N,EAAIykC,KAAOA,EAAK7jD,QACTqiB,EAAMpjB,GAASmgB,CACxB,CACA,SAASmnC,GAAW9yB,EAAQowB,GAC1B,MAAM1vB,EAAOV,EAAOowB,KACpB,GAAI1vB,EAAKn1B,QAAU6kD,EAAK7kD,OACtB,OAAO,EAET,IAAK,IAAIsC,EAAI,EAAGA,EAAI6yB,EAAKn1B,OAAQsC,IAC/B,IAAI8X,EAAAA,EAAAA,IAAW+a,EAAK7yB,GAAIuiD,EAAKviD,IAC3B,OAAO,EAMX,OAHI66B,GAAqB,GAAKE,IAC5BA,GAAahvB,KAAKomB,IAEb,CACT,CAEA,MAAM5uB,GAAU,QACV2hD,GAAY,CAChB9J,2BACAC,kBACA1nB,sBACAf,8BACAqC,QAASA,GACTf,mBAEIixB,GAAWD,GACXE,GAAgB,KAChBC,GAAc,KCrjPdC,GAAQ,6BACRC,GAA0B,qBAAbrkD,SAA2BA,SAAW,KACnDskD,GAAoBD,IAAuBA,GAAIjkD,cAAc,YAC7DmkD,GAAU,CACd/P,OAAQA,CAAC1gB,EAAOjkB,EAAQylB,KACtBzlB,EAAO20C,aAAa1wB,EAAOwB,GAAU,KAAK,EAE5CzW,OAASiV,IACP,MAAMjkB,EAASikB,EAAM0D,WACjB3nB,GACFA,EAAO40C,YAAY3wB,EACrB,EAEF1zB,cAAeA,CAAClC,EAAKu3B,EAAOjV,EAAIsC,KAC9B,MAAM1mB,EAAKq5B,EAAQ4uB,GAAIK,gBAAgBN,GAAOlmD,GAAOmmD,GAAIjkD,cAAclC,EAAKsiB,EAAK,CAAEA,WAAO,GAI1F,MAHY,WAARtiB,GAAoB4kB,GAA2B,MAAlBA,EAAM6hC,UACrCvoD,EAAGijD,aAAa,WAAYv8B,EAAM6hC,UAE7BvoD,CAAE,EAEXk4C,WAAawM,GAASuD,GAAIO,eAAe9D,GACzCrM,cAAgBqM,GAASuD,GAAI5P,cAAcqM,GAC3CzJ,QAASA,CAACje,EAAM0nB,KACd1nB,EAAKyrB,UAAY/D,CAAI,EAEvBvJ,eAAgBA,CAACn7C,EAAI0kD,KACnB1kD,EAAGg6C,YAAc0K,CAAI,EAEvBtpB,WAAa4B,GAASA,EAAK5B,WAC3B+c,YAAcnb,GAASA,EAAKmb,YAC5B+J,cAAgBwG,GAAaT,GAAI/F,cAAcwG,GAC/CnN,WAAWv7C,EAAI8Q,GACb9Q,EAAGijD,aAAanyC,EAAI,GACtB,EAKA2qC,oBAAoBoJ,EAASpxC,EAAQylB,EAAQG,EAAOlU,EAAOC,GACzD,MAAMujC,EAASzvB,EAASA,EAAOogB,gBAAkB7lC,EAAO8lC,UACxD,GAAIp0B,IAAUA,IAAUC,GAAOD,EAAMgzB,cACnC,MAAO,EAEL,GADA1kC,EAAO20C,aAAajjC,EAAMyjC,WAAU,GAAO1vB,GACvC/T,IAAUC,KAASD,EAAQA,EAAMgzB,aACnC,UAEC,CACL+P,GAAkBnO,UAAY1gB,EAAS,QAAOwrB,UAAkBA,EAChE,MAAMgC,EAAWqB,GAAkBrD,QACnC,GAAIxrB,EAAO,CACT,MAAMwvB,EAAUhC,EAASrO,WACzB,MAAOqQ,EAAQrQ,WACbqO,EAASiC,YAAYD,EAAQrQ,YAE/BqO,EAASwB,YAAYQ,EACvB,CACAp1C,EAAO20C,aAAavB,EAAU3tB,EAChC,CACA,MAAO,CAELyvB,EAASA,EAAOxQ,YAAc1kC,EAAO+kC,WAErCtf,EAASA,EAAOogB,gBAAkB7lC,EAAO8lC,UAE7C,GAGF,SAASwP,GAAW/oD,EAAIE,EAAOm5B,GAC7B,MAAM2vB,EAAoBhpD,EAAGipD,KACzBD,IACF9oD,GAASA,EAAQ,CAACA,KAAU8oD,GAAqB,IAAIA,IAAoBn8C,KAAK,MAEnE,MAAT3M,EACFF,EAAGkpD,gBAAgB,SACV7vB,EACTr5B,EAAGijD,aAAa,QAAS/iD,GAEzBF,EAAGmpD,UAAYjpD,CAEnB,CAEA,SAASkpD,GAAWppD,EAAIu1B,EAAMhZ,GAC5B,MAAMsK,EAAQ7mB,EAAG6mB,MACXwiC,GAActmC,EAAAA,EAAAA,IAASxG,GAC7B,GAAIA,IAAS8sC,EAAa,CACxB,GAAI9zB,KAASxS,EAAAA,EAAAA,IAASwS,GACpB,IAAK,MAAM1zB,KAAO0zB,EACC,MAAbhZ,EAAK1a,IACPynD,GAASziC,EAAOhlB,EAAK,IAI3B,IAAK,MAAMA,KAAO0a,EAChB+sC,GAASziC,EAAOhlB,EAAK0a,EAAK1a,GAE9B,KAAO,CACL,MAAM0nD,EAAiB1iC,EAAM2iC,QACzBH,EACE9zB,IAAShZ,IACXsK,EAAMR,QAAU9J,GAETgZ,GACTv1B,EAAGkpD,gBAAgB,SAEjB,SAAUlpD,IACZ6mB,EAAM2iC,QAAUD,EAEpB,CACF,CACA,MACME,GAAc,iBACpB,SAASH,GAASziC,EAAOzjB,EAAMgM,GAC7B,IAAI3O,EAAAA,EAAAA,IAAQ2O,GACVA,EAAIuI,SAASsD,GAAMquC,GAASziC,EAAOzjB,EAAM6X,UAWzC,GATW,MAAP7L,IACFA,EAAM,IAQJhM,EAAKmf,WAAW,MAClBsE,EAAM6iC,YAAYtmD,EAAMgM,OACnB,CACL,MAAMu6C,EAAWC,GAAW/iC,EAAOzjB,GAC/BqmD,GAAY1iD,KAAKqI,GACnByX,EAAM6iC,aACJ1lC,EAAAA,EAAAA,IAAU2lC,GACVv6C,EAAI3I,QAAQgjD,GAAa,IACzB,aAGF5iC,EAAM8iC,GAAYv6C,CAEtB,CAEJ,CACA,MAAMy6C,GAAW,CAAC,SAAU,MAAO,MAC7BC,GAAc,CAAC,EACrB,SAASF,GAAW/iC,EAAOkjC,GACzB,MAAMl1B,EAASi1B,GAAYC,GAC3B,GAAIl1B,EACF,OAAOA,EAET,IAAIzxB,GAAOwgB,EAAAA,EAAAA,IAASmmC,GACpB,GAAa,WAAT3mD,GAAqBA,KAAQyjB,EAC/B,OAAOijC,GAAYC,GAAW3mD,EAEhCA,GAAO6gB,EAAAA,EAAAA,IAAW7gB,GAClB,IAAK,IAAIV,EAAI,EAAGA,EAAImnD,GAASzpD,OAAQsC,IAAK,CACxC,MAAMinD,EAAWE,GAASnnD,GAAKU,EAC/B,GAAIumD,KAAY9iC,EACd,OAAOijC,GAAYC,GAAWJ,CAElC,CACA,OAAOI,CACT,CAEA,MAAMC,GAAU,+BAChB,SAASC,GAAUjqD,EAAI6B,EAAK3B,EAAOm5B,EAAOzQ,GACxC,GAAIyQ,GAASx3B,EAAI0gB,WAAW,UACb,MAATriB,EACFF,EAAGkqD,kBAAkBF,GAASnoD,EAAIT,MAAM,EAAGS,EAAIzB,SAE/CJ,EAAGmqD,eAAeH,GAASnoD,EAAK3B,OAE7B,CACL,MAAMkqD,GAAY/iC,EAAAA,EAAAA,IAAqBxlB,GAC1B,MAAT3B,GAAiBkqD,KAAc9iC,EAAAA,EAAAA,IAAmBpnB,GACpDF,EAAGkpD,gBAAgBrnD,GAEnB7B,EAAGijD,aAAaphD,EAAKuoD,EAAY,GAAKlqD,EAE1C,CACF,CAEA,SAASmqD,GAAarqD,EAAI6B,EAAK3B,EAAO+3B,EAAckB,EAAiBC,EAAgBojB,GACnF,GAAY,cAAR36C,GAA+B,gBAARA,EAKzB,OAJIo2B,GACFukB,EAAgBvkB,EAAckB,EAAiBC,QAEjDp5B,EAAG6B,GAAgB,MAAT3B,EAAgB,GAAKA,GAGjC,MAAM4B,EAAM9B,EAAG23C,QACf,GAAY,UAAR91C,GAA2B,aAARC,IACtBA,EAAIxB,SAAS,KAAM,CAClBN,EAAG0f,OAASxf,EACZ,MAAMoX,EAAmB,WAARxV,EAAmB9B,EAAGsqD,aAAa,SAAWtqD,EAAGE,MAC5DmX,EAAoB,MAATnX,EAAgB,GAAKA,EAOtC,OANIoX,IAAaD,IACfrX,EAAGE,MAAQmX,QAEA,MAATnX,GACFF,EAAGkpD,gBAAgBrnD,GAGvB,CACA,IAAI0oD,GAAa,EACjB,GAAc,KAAVrqD,GAAyB,MAATA,EAAe,CACjC,MAAMmL,SAAcrL,EAAG6B,GACV,YAATwJ,EACFnL,GAAQonB,EAAAA,EAAAA,IAAmBpnB,GACT,MAATA,GAA0B,WAATmL,GAC1BnL,EAAQ,GACRqqD,GAAa,GACK,WAATl/C,IACTnL,EAAQ,EACRqqD,GAAa,EAEjB,CACA,IACEvqD,EAAG6B,GAAO3B,CACZ,CAAE,MAAOiqB,GACH,CAMN,CACAogC,GAAcvqD,EAAGkpD,gBAAgBrnD,EACnC,CAEA,SAAS2oD,GAAiBxqD,EAAI2zB,EAAOW,EAASpxB,GAC5ClD,EAAGwqD,iBAAiB72B,EAAOW,EAASpxB,EACtC,CACA,SAASunD,GAAoBzqD,EAAI2zB,EAAOW,EAASpxB,GAC/ClD,EAAGyqD,oBAAoB92B,EAAOW,EAASpxB,EACzC,CACA,SAASwnD,GAAW1qD,EAAI+pD,EAASY,EAAWC,EAAWhiC,EAAW,MAChE,MAAMiiC,EAAW7qD,EAAG8qD,OAAS9qD,EAAG8qD,KAAO,CAAC,GAClCC,EAAkBF,EAASd,GACjC,GAAIa,GAAaG,EACfA,EAAgB7qD,MAAQ0qD,MACnB,CACL,MAAOxnD,EAAMF,GAAW8nD,GAAUjB,GAClC,GAAIa,EAAW,CACb,MAAMK,EAAUJ,EAASd,GAAWmB,GAAcN,EAAWhiC,GAC7D4hC,GAAiBxqD,EAAIoD,EAAM6nD,EAAS/nD,EACtC,MAAW6nD,IACTN,GAAoBzqD,EAAIoD,EAAM2nD,EAAiB7nD,GAC/C2nD,EAASd,QAAW,EAExB,CACF,CACA,MAAMoB,GAAoB,4BAC1B,SAASH,GAAU5nD,GACjB,IAAIF,EACJ,GAAIioD,GAAkBpkD,KAAK3D,GAAO,CAEhC,IAAIiB,EADJnB,EAAU,CAAC,EAEX,MAAOmB,EAAIjB,EAAK4C,MAAMmlD,IACpB/nD,EAAOA,EAAKhC,MAAM,EAAGgC,EAAKhD,OAASiE,EAAE,GAAGjE,QACxC8C,EAAQmB,EAAE,GAAG8H,gBAAiB,CAElC,CACA,MAAMwnB,EAAoB,MAAZvwB,EAAK,GAAaA,EAAKhC,MAAM,IAAK4iB,EAAAA,EAAAA,IAAU5gB,EAAKhC,MAAM,IACrE,MAAO,CAACuyB,EAAOzwB,EACjB,CACA,IAAIkoD,GAAY,EAChB,MAAMrhC,GAAoByD,QAAQC,UAC5B49B,GAASA,IAAMD,KAAcrhC,GAAE9G,MAAK,IAAMmoC,GAAY,IAAIA,GAAYlhC,KAAKohC,OACjF,SAASJ,GAAcK,EAAc3iC,GACnC,MAAMqiC,EAAW9gC,IACf,GAAKA,EAAEqhC,MAEA,GAAIrhC,EAAEqhC,MAAQP,EAAQQ,SAC3B,YAFAthC,EAAEqhC,KAAOthC,KAAKohC,MAIhB/6B,EACEm7B,GAA8BvhC,EAAG8gC,EAAQ/qD,OACzC0oB,EACA,EACA,CAACuB,GACF,EAIH,OAFA8gC,EAAQ/qD,MAAQqrD,EAChBN,EAAQQ,SAAWJ,KACZJ,CACT,CACA,SAASS,GAA8BvhC,EAAGjqB,GACxC,IAAIO,EAAAA,EAAAA,IAAQP,GAAQ,CAClB,MAAMyrD,EAAexhC,EAAEyhC,yBAKvB,OAJAzhC,EAAEyhC,yBAA2B,KAC3BD,EAAarjD,KAAK6hB,GAClBA,EAAE0hC,UAAW,CAAI,EAEZ3rD,EAAMuY,KAAKzP,GAAQs2C,IAAQA,EAAGuM,UAAY7iD,GAAMA,EAAGs2C,IAC5D,CACE,OAAOp/C,CAEX,CAEA,MAAM4rD,GAAa,WACb7T,GAAYA,CAACj4C,EAAI6B,EAAK8oD,EAAWC,EAAWvxB,GAAQ,EAAOpB,EAAckB,EAAiBC,EAAgBojB,KAClG,UAAR36C,EACFknD,GAAW/oD,EAAI4qD,EAAWvxB,GACT,UAARx3B,EACTunD,GAAWppD,EAAI2qD,EAAWC,IACjBvoC,EAAAA,EAAAA,IAAKxgB,IACTygB,EAAAA,EAAAA,IAAgBzgB,IACnB6oD,GAAW1qD,EAAI6B,EAAK8oD,EAAWC,EAAWzxB,IAExB,MAAXt3B,EAAI,IAAcA,EAAMA,EAAIT,MAAM,GAAI,GAAmB,MAAXS,EAAI,IAAcA,EAAMA,EAAIT,MAAM,GAAI,GAAS2qD,GAAgB/rD,EAAI6B,EAAK+oD,EAAWvxB,IAC1IgxB,GACErqD,EACA6B,EACA+oD,EACA3yB,EACAkB,EACAC,EACAojB,IAGU,eAAR36C,EACF7B,EAAGgsD,WAAapB,EACC,gBAAR/oD,IACT7B,EAAGisD,YAAcrB,GAEnBX,GAAUjqD,EAAI6B,EAAK+oD,EAAWvxB,GAChC,EAEF,SAAS0yB,GAAgB/rD,EAAI6B,EAAK3B,EAAOm5B,GACvC,OAAIA,EACU,cAARx3B,GAA+B,gBAARA,MAGvBA,KAAO7B,GAAM8rD,GAAW/kD,KAAKlF,KAAQke,EAAAA,EAAAA,IAAW7f,IAK1C,eAAR2B,GAAgC,cAARA,GAA+B,cAARA,IAGvC,SAARA,KAGQ,SAARA,GAAiC,UAAf7B,EAAG23C,YAGb,SAAR91C,GAAiC,aAAf7B,EAAG23C,aAGrBmU,GAAW/kD,KAAKlF,MAAQkhB,EAAAA,EAAAA,IAAS7iB,KAG9B2B,KAAO7B,KAChB,CAEA,SAASksD,GAAoBhpD,EAASipD,GACpC,MAAMC,EAAOrnB,GAAgB7hC,GAC7B,MAAMmpD,UAAyBC,GAC7BjiD,YAAYkiD,GACVn+B,MAAMg+B,EAAMG,EAAcJ,EAC5B,EAGF,OADAE,EAAiBztC,IAAMwtC,EAChBC,CACT,CACA,MAAMG,GAA0BtpD,GACvBgpD,GAAoBhpD,EAASw2B,IAEhC+yB,GAAmC,qBAAhB74B,YAA8BA,YAAc,QAErE,MAAM04B,WAAmBG,GACvBpiD,YAAYqiD,EAAM5Z,EAAS,CAAC,EAAGqZ,GAC7B/9B,QACAtvB,KAAK4tD,KAAOA,EACZ5tD,KAAKg0C,OAASA,EAIdh0C,KAAKm0C,UAAY,KACjBn0C,KAAK6tD,YAAa,EAClB7tD,KAAK8tD,WAAY,EACjB9tD,KAAK+tD,aAAe,KAChB/tD,KAAKguD,YAAcX,EACrBA,EAASrtD,KAAKolD,eAAgBplD,KAAKguD,aAOnChuD,KAAKiuD,aAAa,CAAEp9C,KAAM,SACrB7Q,KAAK4tD,KAAKxnB,eACbpmC,KAAKkuD,cAAcluD,KAAK4tD,MAG9B,CACAO,oBACEnuD,KAAK6tD,YAAa,EACb7tD,KAAKm0C,YACJn0C,KAAK8tD,UACP9tD,KAAKouD,UAELpuD,KAAKquD,cAGX,CACAC,uBACEtuD,KAAK6tD,YAAa,EAClB56B,GAAS,KACFjzB,KAAK6tD,aACRp+B,GAAO,KAAMzvB,KAAKguD,YAClBhuD,KAAKm0C,UAAY,KACnB,GAEJ,CAIAka,cACEruD,KAAK8tD,WAAY,EACjB,IAAK,IAAIlqD,EAAI,EAAGA,EAAI5D,KAAKuuD,WAAWjtD,OAAQsC,IAC1C5D,KAAKwuD,SAASxuD,KAAKuuD,WAAW3qD,GAAGU,MAEnC,IAAImqD,kBAAkBC,IACpB,IAAK,MAAMnpD,KAAKmpD,EACd1uD,KAAKwuD,SAASjpD,EAAEopD,cAClB,IACCC,QAAQ5uD,KAAM,CAAEuuD,YAAY,IAC/B,MAAM5/B,EAAUA,CAAC7O,EAAK+uC,GAAU,KAC9B,MAAM,MAAEjnC,EAAK,OAAEknC,GAAWhvC,EAC1B,IAAIivC,EACJ,GAAInnC,KAAUjmB,EAAAA,EAAAA,IAAQimB,GACpB,IAAK,MAAM7kB,KAAO6kB,EAAO,CACvB,MAAM4nB,EAAM5nB,EAAM7kB,IACdysC,IAAQ52B,QAAU42B,GAAOA,EAAIjjC,OAASqM,UACpC7V,KAAO/C,KAAKg0C,SACdh0C,KAAKg0C,OAAOjxC,IAAO6iB,EAAAA,EAAAA,IAAS5lB,KAAKg0C,OAAOjxC,MAEzCgsD,IAAgBA,EAA8BltD,OAAOohB,OAAO,SAAQ+rC,EAAAA,EAAAA,IAAWjsD,KAAQ,EAE5F,CAEF/C,KAAK+tD,aAAegB,EAChBF,GACF7uD,KAAKkuD,cAAcpuC,GAErB9f,KAAKivD,aAAaH,GAClB9uD,KAAKouD,SAAS,EAEVc,EAAWlvD,KAAK4tD,KAAKxnB,cACvB8oB,EACFA,IAAW/qC,MAAMrE,GAAQ6O,EAAQ7O,GAAK,KAEtC6O,EAAQ3uB,KAAK4tD,KAEjB,CACAM,cAAcpuC,GACZ,MAAM,MAAE8H,GAAU9H,EACZqvC,GAAmBxtD,EAAAA,EAAAA,IAAQimB,GAASA,EAAQ/lB,OAAO6B,KAAKkkB,GAAS,CAAC,GACxE,IAAK,MAAM7kB,KAAOlB,OAAO6B,KAAK1D,MACb,MAAX+C,EAAI,IAAcosD,EAAiB3tD,SAASuB,IAC9C/C,KAAKovD,SAASrsD,EAAK/C,KAAK+C,IAAM,GAAM,GAGxC,IAAK,MAAMA,KAAOosD,EAAiBx1C,IAAIq1C,EAAAA,IACrCntD,OAAOG,eAAehC,KAAM+C,EAAK,CAC/B6B,MACE,OAAO5E,KAAKqvD,SAAStsD,EACvB,EACA4I,IAAI2E,GACFtQ,KAAKovD,SAASrsD,EAAKuN,EACrB,GAGN,CACAk+C,SAASzrD,GACP,IAAI3B,EAAQpB,KAAKwrD,aAAazoD,GAC9B,MAAMkzC,GAAW+Y,EAAAA,EAAAA,IAAWjsD,GACxB/C,KAAK+tD,cAAgB/tD,KAAK+tD,aAAa9X,KACzC70C,GAAQwkB,EAAAA,EAAAA,IAASxkB,IAEnBpB,KAAKovD,SAASnZ,EAAU70C,GAAO,EACjC,CAIAiuD,SAAStsD,GACP,OAAO/C,KAAKg0C,OAAOjxC,EACrB,CAIAqsD,SAASrsD,EAAKuN,EAAKg/C,GAAgB,EAAMC,GAAe,GAClDj/C,IAAQtQ,KAAKg0C,OAAOjxC,KACtB/C,KAAKg0C,OAAOjxC,GAAOuN,EACfi/C,GAAgBvvD,KAAKm0C,WACvBn0C,KAAKouD,UAEHkB,KACU,IAARh/C,EACFtQ,KAAKmkD,cAAaj/B,EAAAA,EAAAA,IAAUniB,GAAM,IACV,kBAARuN,GAAmC,kBAARA,EAC3CtQ,KAAKmkD,cAAaj/B,EAAAA,EAAAA,IAAUniB,GAAMuN,EAAM,IAC9BA,GACVtQ,KAAKoqD,iBAAgBllC,EAAAA,EAAAA,IAAUniB,KAIvC,CACAqrD,UACE3+B,GAAOzvB,KAAKolD,eAAgBplD,KAAKguD,WACnC,CACA5I,eACE,MAAMxzB,EAAQsG,GAAYl4B,KAAK4tD,MAAMp2C,EAAAA,EAAAA,IAAO,CAAC,EAAGxX,KAAKg0C,SAuCrD,OAtCKh0C,KAAKm0C,YACRviB,EAAM+V,GAAM7d,IACV9pB,KAAKm0C,UAAYrqB,EACjBA,EAASoiB,MAAO,EAYhB,MAAMsjB,EAAWA,CAAC36B,EAAOza,KACvBpa,KAAKyvD,cACH,IAAIC,YAAY76B,EAAO,CACrB86B,OAAQv1C,IAEX,EAEH0P,EAASoD,KAAO,CAAC2H,KAAUza,KACzBo1C,EAAS36B,EAAOza,IACZ8K,EAAAA,EAAAA,IAAU2P,KAAWA,GACvB26B,GAAStqC,EAAAA,EAAAA,IAAU2P,GAAQza,EAC7B,EAEF,IAAIzF,EAAS3U,KACb,MAAO2U,EAASA,IAAWA,EAAO2nB,YAAc3nB,EAAOi7C,MACrD,GAAIj7C,aAAkB64C,GAAY,CAChC1jC,EAASnV,OAASA,EAAOw/B,UACzBrqB,EAAS6nB,SAAWh9B,EAAOw/B,UAAUxC,SACrC,KACF,CACF,GAGG/f,CACT,CACAq9B,aAAaH,GACPA,GACFA,EAAOj2C,SAASg3C,IACd,MAAMxqD,EAAIP,SAASI,cAAc,SACjCG,EAAE61C,YAAc2U,EAChB7vD,KAAKguD,WAAWhE,YAAY3kD,EACoB,GAKtD,EAGF,SAASyqD,GAAaxrD,EAAO,UAC3B,CACE,MAAMwlB,EAAWwZ,KACjB,IAAKxZ,EAEH,OAAO3G,EAAAA,GAET,MAAM4sC,EAAUjmC,EAASvd,KAAK4hC,aAC9B,IAAK4hB,EAEH,OAAO5sC,EAAAA,GAET,MAAM6sC,EAAMD,EAAQzrD,GACpB,OAAK0rD,GAEI7sC,EAAAA,EAGX,CACF,CAEA,SAAS8sC,GAAW/hD,GAClB,MAAM4b,EAAWwZ,KACjB,IAAKxZ,EAEH,OAEF,MAAMomC,EAAkBpmC,EAASo6B,GAAK,CAACiM,EAAOjiD,EAAO4b,EAAStK,UAC5D7S,MAAMyf,KACJtnB,SAASsrD,iBAAkB,kBAAiBtmC,EAASpZ,UACrDmI,SAASqlB,GAASmyB,GAAcnyB,EAAMiyB,IAAM,EAE1CG,EAAUA,KACd,MAAMH,EAAOjiD,EAAO4b,EAAStK,OAC7B+wC,GAAezmC,EAASgQ,QAASq2B,GACjCD,EAAgBC,EAAK,EAEvB/wB,GAAgBkxB,GAChBpuB,IAAU,KACR,MAAMsuB,EAAK,IAAI/B,iBAAiB6B,GAChCE,EAAG5B,QAAQ9kC,EAASgQ,QAAQ54B,GAAGo7B,WAAY,CAAEm0B,WAAW,IACxDrmB,IAAY,IAAMomB,EAAGE,cAAa,GAEtC,CACA,SAASH,GAAe3+B,EAAOu+B,GAC7B,GAAsB,IAAlBv+B,EAAMgG,UAAiB,CACzB,MAAMyD,EAAWzJ,EAAMyJ,SACvBzJ,EAAQyJ,EAASS,aACbT,EAASC,gBAAkBD,EAASW,aACtCX,EAAS5mB,QAAQ9E,MAAK,KACpB4gD,GAAel1B,EAASS,aAAcq0B,EAAK,GAGjD,CACA,MAAOv+B,EAAMwH,UACXxH,EAAQA,EAAMwH,UAAUU,QAE1B,GAAsB,EAAlBlI,EAAMgG,WAAiBhG,EAAM1wB,GAC/BmvD,GAAcz+B,EAAM1wB,GAAIivD,QACnB,GAAIv+B,EAAMrlB,OAASy5B,GACxBpU,EAAM8G,SAAS7f,SAASvT,GAAMirD,GAAejrD,EAAG6qD,UAC3C,GAAIv+B,EAAMrlB,OAAS0tC,GAAQ,CAChC,IAAI,GAAE/4C,EAAE,OAAEk5B,GAAWxI,EACrB,MAAO1wB,EAAI,CAET,GADAmvD,GAAcnvD,EAAIivD,GACdjvD,IAAOk5B,EACT,MACFl5B,EAAKA,EAAGm4C,WACV,CACF,CACF,CACA,SAASgX,GAAcnvD,EAAIivD,GACzB,GAAoB,IAAhBjvD,EAAG63C,SAAgB,CACrB,MAAMhxB,EAAQ7mB,EAAG6mB,MACjB,IAAK,MAAMhlB,KAAOotD,EAChBpoC,EAAM6iC,YAAa,KAAI7nD,IAAOotD,EAAKptD,GAEvC,CACF,CAEA,MAAM4tD,GAAa,aACbC,GAAY,YACZC,GAAaA,CAACjpC,GAASqF,WAAYyC,GAAEkV,GAAgBksB,GAAuBlpC,GAAQqF,GAC1F4jC,GAAWvI,YAAc,aACzB,MAAMyI,GAA+B,CACnCzsD,KAAM/D,OACNgM,KAAMhM,OACNsvD,IAAK,CACHtjD,KAAMg2B,QACNjE,SAAS,GAEX0yB,SAAU,CAACzwD,OAAQqY,OAAQ/W,QAC3BovD,eAAgB1wD,OAChB2wD,iBAAkB3wD,OAClB4wD,aAAc5wD,OACd6wD,gBAAiB7wD,OACjB8wD,kBAAmB9wD,OACnB+wD,cAAe/wD,OACfgxD,eAAgBhxD,OAChBixD,iBAAkBjxD,OAClBkxD,aAAclxD,QAEVmxD,GAA4Bb,GAAWjpC,OAAwBpQ,EAAAA,EAAAA,IACnE,CAAC,EACD6qB,GACA0uB,IAEIlsB,GAAWA,CAACnQ,EAAMta,EAAO,OACzBzY,EAAAA,EAAAA,IAAQ+yB,GACVA,EAAK7b,SAAS84C,GAAOA,KAAMv3C,KAClBsa,GACTA,KAAQta,EACV,EAEIw3C,GAAuBl9B,KACpBA,KAAO/yB,EAAAA,EAAAA,IAAQ+yB,GAAQA,EAAK0D,MAAMu5B,GAAOA,EAAGrwD,OAAS,IAAKozB,EAAKpzB,OAAS,GAEjF,SAASwvD,GAAuBptB,GAC9B,MAAMmuB,EAAY,CAAC,EACnB,IAAK,MAAM9uD,KAAO2gC,EACV3gC,KAAOguD,KACXc,EAAU9uD,GAAO2gC,EAAS3gC,IAG9B,IAAqB,IAAjB2gC,EAASmsB,IACX,OAAOgC,EAET,MAAM,KACJvtD,EAAO,IAAG,KACViI,EAAI,SACJykD,EAAQ,eACRC,EAAkB,GAAE3sD,eAAiB,iBACrC4sD,EAAoB,GAAE5sD,iBAAmB,aACzC6sD,EAAgB,GAAE7sD,aAAe,gBACjC8sD,EAAkBH,EAAc,kBAChCI,EAAoBH,EAAgB,cACpCI,EAAgBH,EAAY,eAC5BI,EAAkB,GAAEjtD,eAAiB,iBACrCktD,EAAoB,GAAEltD,iBAAmB,aACzCmtD,EAAgB,GAAEntD,cAChBo/B,EACEouB,EAAYC,GAAkBf,GAC9BgB,EAAgBF,GAAaA,EAAU,GACvCG,EAAgBH,GAAaA,EAAU,IACvC,cACJrvB,EAAa,QACbC,EAAO,iBACPE,EAAgB,QAChBE,EAAO,iBACPE,EAAgB,eAChBC,EAAiBR,EAAa,SAC9BS,EAAWR,EAAO,kBAClBU,EAAoBR,GAClBivB,EACEK,EAAcA,CAAChxD,EAAIixD,EAAUz0C,KACjC00C,GAAsBlxD,EAAIixD,EAAWb,EAAgBH,GACrDiB,GAAsBlxD,EAAIixD,EAAWd,EAAoBH,GACzDxzC,GAAQA,GAAM,EAEV20C,EAAcA,CAACnxD,EAAIwc,KACvBxc,EAAGoxD,YAAa,EAChBF,GAAsBlxD,EAAIqwD,GAC1Ba,GAAsBlxD,EAAIuwD,GAC1BW,GAAsBlxD,EAAIswD,GAC1B9zC,GAAQA,GAAM,EAEV60C,EAAiBJ,GACd,CAACjxD,EAAIwc,KACV,MAAMgX,EAAOy9B,EAAWjvB,EAAWR,EAC7B/T,EAAUA,IAAMujC,EAAYhxD,EAAIixD,EAAUz0C,GAChDmnB,GAASnQ,EAAM,CAACxzB,EAAIytB,IACpB6jC,IAAU,KACRJ,GAAsBlxD,EAAIixD,EAAWf,EAAkBH,GACvDwB,GAAmBvxD,EAAIixD,EAAWb,EAAgBH,GAC7CS,GAAoBl9B,IACvBg+B,GAAmBxxD,EAAIqL,EAAMylD,EAAerjC,EAC9C,GACA,EAGN,OAAOnX,EAAAA,EAAAA,IAAOq6C,EAAW,CACvBpvB,cAAcvhC,GACZ2jC,GAASpC,EAAe,CAACvhC,IACzBuxD,GAAmBvxD,EAAI+vD,GACvBwB,GAAmBvxD,EAAIgwD,EACzB,EACAjuB,eAAe/hC,GACb2jC,GAAS5B,EAAgB,CAAC/hC,IAC1BuxD,GAAmBvxD,EAAIkwD,GACvBqB,GAAmBvxD,EAAImwD,EACzB,EACA3uB,QAAS6vB,GAAc,GACvBrvB,SAAUqvB,GAAc,GACxBzvB,QAAQ5hC,EAAIwc,GACVxc,EAAGoxD,YAAa,EAChB,MAAM3jC,EAAUA,IAAM0jC,EAAYnxD,EAAIwc,GACtC+0C,GAAmBvxD,EAAIqwD,GACvBoB,KACAF,GAAmBvxD,EAAIswD,GACvBgB,IAAU,KACHtxD,EAAGoxD,aAGRF,GAAsBlxD,EAAIqwD,GAC1BkB,GAAmBvxD,EAAIuwD,GAClBG,GAAoB9uB,IACvB4vB,GAAmBxxD,EAAIqL,EAAM0lD,EAAetjC,GAC9C,IAEFkW,GAAS/B,EAAS,CAAC5hC,EAAIytB,GACzB,EACAiU,iBAAiB1hC,GACfgxD,EAAYhxD,GAAI,GAChB2jC,GAASjC,EAAkB,CAAC1hC,GAC9B,EACAkiC,kBAAkBliC,GAChBgxD,EAAYhxD,GAAI,GAChB2jC,GAASzB,EAAmB,CAACliC,GAC/B,EACA8hC,iBAAiB9hC,GACfmxD,EAAYnxD,GACZ2jC,GAAS7B,EAAkB,CAAC9hC,GAC9B,GAEJ,CACA,SAAS6wD,GAAkBf,GACzB,GAAgB,MAAZA,EACF,OAAO,KACF,IAAIrwD,EAAAA,EAAAA,IAASqwD,GAClB,MAAO,CAAC4B,GAAS5B,EAAS5rB,OAAQwtB,GAAS5B,EAAStrB,QAC/C,CACL,MAAMj3B,EAAImkD,GAAS5B,GACnB,MAAO,CAACviD,EAAGA,EACb,CACF,CACA,SAASmkD,GAAStiD,GAChB,MAAMiK,GAAMqL,EAAAA,EAAAA,IAAStV,GAIrB,OAAOiK,CACT,CACA,SAASk4C,GAAmBvxD,EAAI2xD,GAC9BA,EAAIrrD,MAAM,OAAOqR,SAASvT,GAAMA,GAAKpE,EAAG4xD,UAAUz6C,IAAI/S,MACrDpE,EAAGipD,OAASjpD,EAAGipD,KAAuB,IAAIp0C,MAAQsC,IAAIw6C,EACzD,CACA,SAAST,GAAsBlxD,EAAI2xD,GACjCA,EAAIrrD,MAAM,OAAOqR,SAASvT,GAAMA,GAAKpE,EAAG4xD,UAAUnvC,OAAOre,KACzD,MAAM,KAAE6kD,GAASjpD,EACbipD,IACFA,EAAK3zC,OAAOq8C,GACP1I,EAAKxtC,OACRzb,EAAGipD,UAAO,GAGhB,CACA,SAASqI,GAAU5+B,GACjBm/B,uBAAsB,KACpBA,sBAAsBn/B,EAAG,GAE7B,CACA,IAAIo/B,GAAQ,EACZ,SAASN,GAAmBxxD,EAAI+xD,EAAcC,EAAiBvkC,GAC7D,MAAM3c,EAAK9Q,EAAGiyD,SAAWH,GACnBI,EAAoBA,KACpBphD,IAAO9Q,EAAGiyD,QACZxkC,GACF,EAEF,GAAIukC,EACF,OAAOh+B,WAAWk+B,EAAmBF,GAEvC,MAAM,KAAE3mD,EAAI,QAAE4vB,EAAO,UAAEk3B,GAAcC,GAAkBpyD,EAAI+xD,GAC3D,IAAK1mD,EACH,OAAOoiB,IAET,MAAM4kC,EAAWhnD,EAAO,MACxB,IAAIinD,EAAQ,EACZ,MAAMltC,EAAMA,KACVplB,EAAGyqD,oBAAoB4H,EAAUE,GACjCL,GAAmB,EAEfK,EAASpoC,IACTA,EAAE9nB,SAAWrC,KAAQsyD,GAASH,GAChC/sC,GACF,EAEF4O,YAAW,KACLs+B,EAAQH,GACV/sC,GACF,GACC6V,EAAU,GACbj7B,EAAGwqD,iBAAiB6H,EAAUE,EAChC,CACA,SAASH,GAAkBpyD,EAAI+xD,GAC7B,MAAMnE,EAASlkD,OAAO8oD,iBAAiBxyD,GACjCyyD,EAAsB5wD,IAAS+rD,EAAO/rD,IAAQ,IAAIyE,MAAM,MACxDosD,EAAmBD,EAAoB,GAAEhD,WACzCkD,EAAsBF,EAAoB,GAAEhD,cAC5CmD,EAAoBC,GAAWH,EAAkBC,GACjDG,EAAkBL,EAAoB,GAAE/C,WACxCqD,EAAqBN,EAAoB,GAAE/C,cAC3CsD,EAAmBH,GAAWC,EAAiBC,GACrD,IAAI1nD,EAAO,KACP4vB,EAAU,EACVk3B,EAAY,EACZJ,IAAiBtC,GACfmD,EAAoB,IACtBvnD,EAAOokD,GACPx0B,EAAU23B,EACVT,EAAYQ,EAAoBvyD,QAEzB2xD,IAAiBrC,GACtBsD,EAAmB,IACrB3nD,EAAOqkD,GACPz0B,EAAU+3B,EACVb,EAAYY,EAAmB3yD,SAGjC66B,EAAUzxB,KAAK0G,IAAI0iD,EAAmBI,GACtC3nD,EAAO4vB,EAAU,EAAI23B,EAAoBI,EAAmBvD,GAAaC,GAAY,KACrFyC,EAAY9mD,EAAOA,IAASokD,GAAakD,EAAoBvyD,OAAS2yD,EAAmB3yD,OAAS,GAEpG,MAAM6yD,EAAe5nD,IAASokD,IAAc,yBAAyB1oD,KACnE0rD,EAAoB,GAAEhD,cAAsBvuD,YAE9C,MAAO,CACLmK,OACA4vB,UACAk3B,YACAc,eAEJ,CACA,SAASJ,GAAWK,EAAQtC,GAC1B,MAAOsC,EAAO9yD,OAASwwD,EAAUxwD,OAC/B8yD,EAASA,EAAO5kD,OAAO4kD,GAEzB,OAAO1pD,KAAK0G,OAAO0gD,EAAUn4C,KAAI,CAACwV,EAAGvrB,IAAMywD,GAAKllC,GAAKklC,GAAKD,EAAOxwD,MACnE,CACA,SAASywD,GAAKhvD,GACZ,OAAkD,IAA3CuT,OAAOvT,EAAE/C,MAAM,GAAI,GAAGqF,QAAQ,IAAK,KAC5C,CACA,SAASgrD,KACP,OAAO7tD,SAASwvD,KAAKC,YACvB,CAEA,MAAMC,GAA8B,IAAItoD,QAClCuoD,GAAiC,IAAIvoD,QACrCwoD,GAAsB,CAC1BpwD,KAAM,kBACNsjB,OAAuBpQ,EAAAA,EAAAA,IAAO,CAAC,EAAGk6C,GAA2B,CAC3D1uD,IAAKzC,OACLo0D,UAAWp0D,SAEb4tB,MAAMvG,GAAO,MAAEqF,IACb,MAAMnD,EAAWwZ,KACXh3B,EAAQu1B,KACd,IAAI1I,EACAT,EAmCJ,OAlCA4Q,IAAU,KACR,IAAKnQ,EAAa73B,OAChB,OAEF,MAAMqzD,EAAY/sC,EAAM+sC,WAAc,GAAE/sC,EAAMtjB,MAAQ,WACtD,IAAKswD,GACHz7B,EAAa,GAAGj4B,GAChB4oB,EAAS8H,MAAM1wB,GACfyzD,GAEA,OAEFx7B,EAAatgB,QAAQg8C,IACrB17B,EAAatgB,QAAQi8C,IACrB,MAAMC,EAAgB57B,EAAazf,OAAOs7C,IAC1CrC,KACAoC,EAAcl8C,SAASvT,IACrB,MAAMpE,EAAKoE,EAAEpE,GACP6mB,EAAQ7mB,EAAG6mB,MACjB0qC,GAAmBvxD,EAAIyzD,GACvB5sC,EAAMktC,UAAYltC,EAAMmtC,gBAAkBntC,EAAMotC,mBAAqB,GACrE,MAAMvhC,EAAK1yB,EAAGk0D,QAAW/pC,IACnBA,GAAKA,EAAE9nB,SAAWrC,GAGjBmqB,IAAK,aAAapjB,KAAKojB,EAAEgqC,gBAC5Bn0D,EAAGyqD,oBAAoB,gBAAiB/3B,GACxC1yB,EAAGk0D,QAAU,KACbhD,GAAsBlxD,EAAIyzD,GAC5B,EAEFzzD,EAAGwqD,iBAAiB,gBAAiB93B,EAAG,GACxC,IAEG,KACL,MAAM8P,GAAWppB,EAAAA,EAAAA,IAAMsN,GACjB0tC,EAAqBxE,GAAuBptB,GAClD,IAAI1gC,EAAM0gC,EAAS1gC,KAAOgjC,GAC1B7M,EAAeT,EACfA,EAAWzL,EAAMqR,QAAUkF,GAAyBvW,EAAMqR,WAAa,GACvE,IAAK,IAAI16B,EAAI,EAAGA,EAAI80B,EAASp3B,OAAQsC,IAAK,CACxC,MAAMg1B,EAAQF,EAAS90B,GACN,MAAbg1B,EAAM71B,KACRihC,GACEpL,EACAmL,GAAuBnL,EAAO08B,EAAoBhpD,EAAOwd,GAK/D,CACA,GAAIqP,EACF,IAAK,IAAIv1B,EAAI,EAAGA,EAAIu1B,EAAa73B,OAAQsC,IAAK,CAC5C,MAAMg1B,EAAQO,EAAav1B,GAC3BogC,GACEpL,EACAmL,GAAuBnL,EAAO08B,EAAoBhpD,EAAOwd,IAE3D0qC,GAAY7oD,IAAIitB,EAAOA,EAAM13B,GAAGq0D,wBAClC,CAEF,OAAOr9B,GAAYl1B,EAAK,KAAM01B,EAAS,CAE3C,GAGyBg8B,GAAoB9sC,MAC/C,MAAM4tC,GAAkBd,GACxB,SAASG,GAAevvD,GACtB,MAAMpE,EAAKoE,EAAEpE,GACTA,EAAGk0D,SACLl0D,EAAGk0D,UAEDl0D,EAAGskC,UACLtkC,EAAGskC,UAEP,CACA,SAASsvB,GAAexvD,GACtBmvD,GAAe9oD,IAAIrG,EAAGA,EAAEpE,GAAGq0D,wBAC7B,CACA,SAASP,GAAiB1vD,GACxB,MAAMmwD,EAASjB,GAAY5vD,IAAIU,GACzBowD,EAASjB,GAAe7vD,IAAIU,GAC5BqwD,EAAKF,EAAOG,KAAOF,EAAOE,KAC1BC,EAAKJ,EAAOK,IAAMJ,EAAOI,IAC/B,GAAIH,GAAME,EAAI,CACZ,MAAMxwD,EAAIC,EAAEpE,GAAG6mB,MAGf,OAFA1iB,EAAE4vD,UAAY5vD,EAAE6vD,gBAAmB,aAAYS,OAAQE,OACvDxwD,EAAE8vD,mBAAqB,KAChB7vD,CACT,CACF,CACA,SAASsvD,GAAgB1zD,EAAIzB,EAAMk1D,GACjC,MAAMhvB,EAAQzkC,EAAG4oD,YACb5oD,EAAGipD,MACLjpD,EAAGipD,KAAKtxC,SAASg6C,IACfA,EAAIrrD,MAAM,OAAOqR,SAASvT,GAAMA,GAAKqgC,EAAMmtB,UAAUnvC,OAAOre,IAAG,IAGnEqvD,EAAUntD,MAAM,OAAOqR,SAASvT,GAAMA,GAAKqgC,EAAMmtB,UAAUz6C,IAAI/S,KAC/DqgC,EAAM5d,MAAM2iC,QAAU,OACtB,MAAM95B,EAA8B,IAAlBnxB,EAAKs5C,SAAiBt5C,EAAOA,EAAK68B,WACpD1L,EAAUo5B,YAAYrkB,GACtB,MAAM,aAAEwuB,GAAiBb,GAAkB3tB,GAE3C,OADA/U,EAAU24B,YAAY5jB,GACfwuB,CACT,CAEA,MAAM4B,GAAoBnkC,IACxB,MAAM1nB,EAAK0nB,EAAMhK,MAAM,yBAA0B,EACjD,OAAOjmB,EAAAA,EAAAA,IAAQuI,GAAO9I,IAAUmkB,EAAAA,EAAAA,IAAerb,EAAI9I,GAAS8I,CAAE,EAEhE,SAAS8rD,GAAmB3qC,GAC1BA,EAAE9nB,OAAO0yD,WAAY,CACvB,CACA,SAASC,GAAiB7qC,GACxB,MAAM9nB,EAAS8nB,EAAE9nB,OACbA,EAAO0yD,YACT1yD,EAAO0yD,WAAY,EACnB1yD,EAAOksD,cAAc,IAAI0G,MAAM,UAEnC,CACA,MAAMC,GAAa,CACjB3lB,QAAQvvC,GAAMsgC,WAAW,KAAE/pB,EAAI,KAAEgQ,EAAI,OAAEhW,IAAYmgB,GACjD1wB,EAAGm1D,QAAUN,GAAiBnkC,GAC9B,MAAM0kC,EAAe7kD,GAAUmgB,EAAMhK,OAA8B,WAArBgK,EAAMhK,MAAMrb,KAC1Dm/C,GAAiBxqD,EAAIuW,EAAO,SAAW,SAAU4T,IAC/C,GAAIA,EAAE9nB,OAAO0yD,UACX,OACF,IAAIM,EAAWr1D,EAAGE,MACdqmB,IACF8uC,EAAWA,EAAS9uC,QAElB6uC,IACFC,GAAW9wC,EAAAA,EAAAA,IAAc8wC,IAE3Br1D,EAAGm1D,QAAQE,EAAS,IAElB9uC,GACFikC,GAAiBxqD,EAAI,UAAU,KAC7BA,EAAGE,MAAQF,EAAGE,MAAMqmB,MAAM,IAGzBhQ,IACHi0C,GAAiBxqD,EAAI,mBAAoB80D,IACzCtK,GAAiBxqD,EAAI,iBAAkBg1D,IACvCxK,GAAiBxqD,EAAI,SAAUg1D,IAEnC,EAEAtmC,QAAQ1uB,GAAI,MAAEE,IACZF,EAAGE,MAAiB,MAATA,EAAgB,GAAKA,CAClC,EACAuvC,aAAazvC,GAAI,MAAEE,EAAOogC,WAAW,KAAE/pB,EAAI,KAAEgQ,EAAI,OAAEhW,IAAYmgB,GAE7D,GADA1wB,EAAGm1D,QAAUN,GAAiBnkC,GAC1B1wB,EAAG+0D,UACL,OACF,GAAInxD,SAAS0xD,gBAAkBt1D,GAAkB,UAAZA,EAAGqL,KAAkB,CACxD,GAAIkL,EACF,OAEF,GAAIgQ,GAAQvmB,EAAGE,MAAMqmB,SAAWrmB,EAC9B,OAEF,IAAKqQ,GAAsB,WAAZvQ,EAAGqL,QAAsBkZ,EAAAA,EAAAA,IAAcvkB,EAAGE,SAAWA,EAClE,MAEJ,CACA,MAAMmX,EAAoB,MAATnX,EAAgB,GAAKA,EAClCF,EAAGE,QAAUmX,IACfrX,EAAGE,MAAQmX,EAEf,GAEIk+C,GAAiB,CAErBvmC,MAAM,EACNugB,QAAQvvC,EAAI6jB,EAAG6M,GACb1wB,EAAGm1D,QAAUN,GAAiBnkC,GAC9B85B,GAAiBxqD,EAAI,UAAU,KAC7B,MAAMw1D,EAAax1D,EAAGy1D,YAChBC,EAAeC,GAAS31D,GACxB41D,EAAU51D,EAAG41D,QACbpzC,EAASxiB,EAAGm1D,QAClB,IAAI10D,EAAAA,EAAAA,IAAQ+0D,GAAa,CACvB,MAAMn1D,GAAQ6nB,EAAAA,EAAAA,IAAastC,EAAYE,GACjCG,GAAmB,IAAXx1D,EACd,GAAIu1D,IAAYC,EACdrzC,EAAOgzC,EAAWlnD,OAAOonD,SACpB,IAAKE,GAAWC,EAAO,CAC5B,MAAMC,EAAW,IAAIN,GACrBM,EAASpzC,OAAOriB,EAAO,GACvBmiB,EAAOszC,EACT,CACF,MAAO,IAAIlzC,EAAAA,EAAAA,IAAM4yC,GAAa,CAC5B,MAAMrR,EAAS,IAAItvC,IAAI2gD,GACnBI,EACFzR,EAAOhtC,IAAIu+C,GAEXvR,EAAO7uC,OAAOogD,GAEhBlzC,EAAO2hC,EACT,MACE3hC,EAAOuzC,GAAiB/1D,EAAI41D,GAC9B,GAEJ,EAEAlnC,QAASsnC,GACTvmB,aAAazvC,EAAI0gC,EAAShQ,GACxB1wB,EAAGm1D,QAAUN,GAAiBnkC,GAC9BslC,GAAWh2D,EAAI0gC,EAAShQ,EAC1B,GAEF,SAASslC,GAAWh2D,GAAI,MAAEE,EAAK,SAAEoX,GAAYoZ,GAC3C1wB,EAAGy1D,YAAcv1D,GACbO,EAAAA,EAAAA,IAAQP,GACVF,EAAG41D,SAAU1tC,EAAAA,EAAAA,IAAahoB,EAAOwwB,EAAMhK,MAAMxmB,QAAU,GAC9C0iB,EAAAA,EAAAA,IAAM1iB,GACfF,EAAG41D,QAAU11D,EAAMwK,IAAIgmB,EAAMhK,MAAMxmB,OAC1BA,IAAUoX,IACnBtX,EAAG41D,SAAUluC,EAAAA,EAAAA,IAAWxnB,EAAO61D,GAAiB/1D,GAAI,IAExD,CACA,MAAMi2D,GAAc,CAClB1mB,QAAQvvC,GAAI,MAAEE,GAASwwB,GACrB1wB,EAAG41D,SAAUluC,EAAAA,EAAAA,IAAWxnB,EAAOwwB,EAAMhK,MAAMxmB,OAC3CF,EAAGm1D,QAAUN,GAAiBnkC,GAC9B85B,GAAiBxqD,EAAI,UAAU,KAC7BA,EAAGm1D,QAAQQ,GAAS31D,GAAI,GAE5B,EACAyvC,aAAazvC,GAAI,MAAEE,EAAK,SAAEoX,GAAYoZ,GACpC1wB,EAAGm1D,QAAUN,GAAiBnkC,GAC1BxwB,IAAUoX,IACZtX,EAAG41D,SAAUluC,EAAAA,EAAAA,IAAWxnB,EAAOwwB,EAAMhK,MAAMxmB,OAE/C,GAEIg2D,GAAe,CAEnBlnC,MAAM,EACNugB,QAAQvvC,GAAI,MAAEE,EAAOogC,WAAW,OAAE/vB,IAAYmgB,GAC5C,MAAMylC,GAAavzC,EAAAA,EAAAA,IAAM1iB,GACzBsqD,GAAiBxqD,EAAI,UAAU,KAC7B,MAAMo2D,EAAc3qD,MAAM3D,UAAU0Q,OAAOlQ,KAAKtI,EAAGkD,SAAU4mB,GAAMA,EAAEusC,WAAU59C,KAC5EqR,GAAMvZ,GAASgU,EAAAA,EAAAA,IAAcoxC,GAAS7rC,IAAM6rC,GAAS7rC,KAExD9pB,EAAGm1D,QACDn1D,EAAGuoD,SAAW4N,EAAa,IAAIthD,IAAIuhD,GAAeA,EAAcA,EAAY,GAC7E,IAEHp2D,EAAGm1D,QAAUN,GAAiBnkC,EAChC,EAGAhC,QAAQ1uB,GAAI,MAAEE,IACZo2D,GAAYt2D,EAAIE,EAClB,EACAuvC,aAAazvC,EAAIu2D,EAAU7lC,GACzB1wB,EAAGm1D,QAAUN,GAAiBnkC,EAChC,EACA6P,QAAQvgC,GAAI,MAAEE,IACZo2D,GAAYt2D,EAAIE,EAClB,GAEF,SAASo2D,GAAYt2D,EAAIE,GACvB,MAAMs2D,EAAax2D,EAAGuoD,SACtB,IAAIiO,IAAe/1D,EAAAA,EAAAA,IAAQP,KAAW0iB,EAAAA,EAAAA,IAAM1iB,GAA5C,CAMA,IAAK,IAAIwC,EAAI,EAAGwR,EAAIlU,EAAGkD,QAAQ9C,OAAQsC,EAAIwR,EAAGxR,IAAK,CACjD,MAAM+zD,EAASz2D,EAAGkD,QAAQR,GACpBg0D,EAAcf,GAASc,GAC7B,GAAID,GACE/1D,EAAAA,EAAAA,IAAQP,GACVu2D,EAAOJ,UAAWnuC,EAAAA,EAAAA,IAAahoB,EAAOw2D,IAAgB,EAEtDD,EAAOJ,SAAWn2D,EAAMwK,IAAIgsD,QAG9B,IAAIhvC,EAAAA,EAAAA,IAAWiuC,GAASc,GAASv2D,GAG/B,YAFIF,EAAG22D,gBAAkBj0D,IACvB1C,EAAG22D,cAAgBj0D,GAI3B,CACK8zD,IAAoC,IAAtBx2D,EAAG22D,gBACpB32D,EAAG22D,eAAiB,EAnBtB,CAqBF,CACA,SAAShB,GAAS31D,GAChB,MAAO,WAAYA,EAAKA,EAAG0f,OAAS1f,EAAGE,KACzC,CACA,SAAS61D,GAAiB/1D,EAAI41D,GAC5B,MAAM/zD,EAAM+zD,EAAU,aAAe,cACrC,OAAO/zD,KAAO7B,EAAKA,EAAG6B,GAAO+zD,CAC/B,CACA,MAAMgB,GAAgB,CACpBrnB,QAAQvvC,EAAI0gC,EAAShQ,GACnBmmC,GAAc72D,EAAI0gC,EAAShQ,EAAO,KAAM,UAC1C,EACAhC,QAAQ1uB,EAAI0gC,EAAShQ,GACnBmmC,GAAc72D,EAAI0gC,EAAShQ,EAAO,KAAM,UAC1C,EACA+e,aAAazvC,EAAI0gC,EAAShQ,EAAOmH,GAC/Bg/B,GAAc72D,EAAI0gC,EAAShQ,EAAOmH,EAAW,eAC/C,EACA0I,QAAQvgC,EAAI0gC,EAAShQ,EAAOmH,GAC1Bg/B,GAAc72D,EAAI0gC,EAAShQ,EAAOmH,EAAW,UAC/C,GAEF,SAASi/B,GAAoBnf,EAAStsC,GACpC,OAAQssC,GACN,IAAK,SACH,OAAOue,GACT,IAAK,WACH,OAAOhB,GACT,QACE,OAAQ7pD,GACN,IAAK,WACH,OAAOkqD,GACT,IAAK,QACH,OAAOU,GACT,QACE,OAAOf,IAGjB,CACA,SAAS2B,GAAc72D,EAAI0gC,EAAShQ,EAAOmH,EAAWrE,GACpD,MAAMujC,EAAaD,GACjB92D,EAAG23C,QACHjnB,EAAMhK,OAASgK,EAAMhK,MAAMrb,MAEvBrC,EAAK+tD,EAAWvjC,GACtBxqB,GAAMA,EAAGhJ,EAAI0gC,EAAShQ,EAAOmH,EAC/B,CACA,SAASm/B,KACP9B,GAAW+B,YAAc,EAAG/2D,YAAY,CAAGA,UAC3C+1D,GAAYgB,YAAc,EAAG/2D,SAASwwB,KACpC,GAAIA,EAAMhK,QAASgB,EAAAA,EAAAA,IAAWgJ,EAAMhK,MAAMxmB,MAAOA,GAC/C,MAAO,CAAE01D,SAAS,EACpB,EAEFL,GAAe0B,YAAc,EAAG/2D,SAASwwB,KACvC,IAAIjwB,EAAAA,EAAAA,IAAQP,IACV,GAAIwwB,EAAMhK,QAASwB,EAAAA,EAAAA,IAAahoB,EAAOwwB,EAAMhK,MAAMxmB,QAAU,EAC3D,MAAO,CAAE01D,SAAS,QAEf,IAAIhzC,EAAAA,EAAAA,IAAM1iB,IACf,GAAIwwB,EAAMhK,OAASxmB,EAAMwK,IAAIgmB,EAAMhK,MAAMxmB,OACvC,MAAO,CAAE01D,SAAS,QAEf,GAAI11D,EACT,MAAO,CAAE01D,SAAS,EACpB,EAEFgB,GAAcK,YAAc,CAACv2B,EAAShQ,KACpC,GAA0B,kBAAfA,EAAMrlB,KACf,OAEF,MAAM0rD,EAAaD,GAEjBpmC,EAAMrlB,KAAKyY,cACX4M,EAAMhK,OAASgK,EAAMhK,MAAMrb,MAE7B,OAAI0rD,EAAWE,YACNF,EAAWE,YAAYv2B,EAAShQ,QADzC,CAEA,CAEJ,CAEA,MAAMwmC,GAAkB,CAAC,OAAQ,QAAS,MAAO,QAC3CC,GAAiB,CACrBnjD,KAAOmW,GAAMA,EAAEitC,kBACfC,QAAUltC,GAAMA,EAAEmtC,iBAClBz4D,KAAOsrB,GAAMA,EAAE9nB,SAAW8nB,EAAEotC,cAC5BC,KAAOrtC,IAAOA,EAAEstC,QAChBC,MAAQvtC,IAAOA,EAAEwtC,SACjBC,IAAMztC,IAAOA,EAAE0tC,OACfxrC,KAAOlC,IAAOA,EAAE2tC,QAChBpD,KAAOvqC,GAAM,WAAYA,GAAkB,IAAbA,EAAE4tC,OAChC9lC,OAAS9H,GAAM,WAAYA,GAAkB,IAAbA,EAAE4tC,OAClCC,MAAQ7tC,GAAM,WAAYA,GAAkB,IAAbA,EAAE4tC,OACjCE,MAAOA,CAAC9tC,EAAGmW,IAAc42B,GAAgBhgC,MAAM7yB,GAAM8lB,EAAG,GAAE9lB,UAAYi8B,EAAUhgC,SAAS+D,MAErF6zD,GAAgBA,CAAClvD,EAAIs3B,IAClB,CAAC3M,KAAUza,KAChB,IAAK,IAAIxW,EAAI,EAAGA,EAAI49B,EAAUlgC,OAAQsC,IAAK,CACzC,MAAMy1D,EAAQhB,GAAe72B,EAAU59B,IACvC,GAAIy1D,GAASA,EAAMxkC,EAAO2M,GACxB,MACJ,CACA,OAAOt3B,EAAG2qB,KAAUza,EAAK,EAGvBk/C,GAAW,CACfC,IAAK,SACLC,MAAO,IACPC,GAAI,WACJ7D,KAAM,aACNsD,MAAO,cACPQ,KAAM,aACNljD,OAAQ,aAEJmjD,GAAWA,CAACzvD,EAAIs3B,IACZ3M,IACN,KAAM,QAASA,GACb,OAEF,MAAM+kC,GAAW10C,EAAAA,EAAAA,IAAU2P,EAAM9xB,KACjC,OAAIy+B,EAAUpJ,MAAMqgB,GAAMA,IAAMmhB,GAAYN,GAAS7gB,KAAOmhB,IACnD1vD,EAAG2qB,QADZ,CAEA,EAIEglC,GAAQ,CACZnpB,YAAYxvC,GAAI,MAAEE,IAAS,WAAEo3B,IAC3Bt3B,EAAG44D,KAA4B,SAArB54D,EAAG6mB,MAAM2iC,QAAqB,GAAKxpD,EAAG6mB,MAAM2iC,QAClDlyB,GAAcp3B,EAChBo3B,EAAW0M,YAAYhkC,GAEvB64D,GAAW74D,EAAIE,EAEnB,EACAwuB,QAAQ1uB,GAAI,MAAEE,IAAS,WAAEo3B,IACnBA,GAAcp3B,GAChBo3B,EAAW4M,MAAMlkC,EAErB,EACAugC,QAAQvgC,GAAI,MAAEE,EAAK,SAAEoX,IAAY,WAAEggB,KAC5Bp3B,KAAWoX,IAEZggB,EACEp3B,GACFo3B,EAAW0M,YAAYhkC,GACvB64D,GAAW74D,GAAI,GACfs3B,EAAW4M,MAAMlkC,IAEjBs3B,EAAWkN,MAAMxkC,GAAI,KACnB64D,GAAW74D,GAAI,EAAM,IAIzB64D,GAAW74D,EAAIE,GAEnB,EACA2vC,cAAc7vC,GAAI,MAAEE,IAClB24D,GAAW74D,EAAIE,EACjB,GAEF,SAAS24D,GAAW74D,EAAIE,GACtBF,EAAG6mB,MAAM2iC,QAAUtpD,EAAQF,EAAG44D,KAAO,MACvC,CACA,SAASE,KACPH,GAAM1B,YAAc,EAAG/2D,YACrB,IAAKA,EACH,MAAO,CAAE2mB,MAAO,CAAE2iC,QAAS,QAC7B,CAEJ,CAEA,MAAMuP,IAAkCziD,EAAAA,EAAAA,IAAO,CAAE2hC,cAAakQ,IAC9D,IAAInhB,GACAgyB,IAAmB,EACvB,SAASC,KACP,OAAOjyB,KAAaA,GAAWsT,GAAeye,IAChD,CACA,SAASG,KAGP,OAFAlyB,GAAWgyB,GAAmBhyB,GAAWwT,GAAwBue,IACjEC,IAAmB,EACZhyB,EACT,CACA,MAAMzY,GAASA,IAAIrV,KACjB+/C,KAAiB1qC,UAAUrV,EAAK,EAE5BwgB,GAAUA,IAAIxgB,KAClBggD,KAA0Bx/B,WAAWxgB,EAAK,EAEtCioC,GAAYA,IAAIjoC,KACpB,MAAM84B,EAAMinB,KAAiB9X,aAAajoC,GAK1C,MAAM,MAAEq6B,GAAUvB,EAiBlB,OAhBAA,EAAIuB,MAAS4lB,IACX,MAAMzpC,EAAY0pC,GAAmBD,GACrC,IAAKzpC,EACH,OACF,MAAMwI,EAAY8Z,EAAIa,YACjB9yB,EAAAA,EAAAA,IAAWmY,IAAeA,EAAU3J,QAAW2J,EAAU2uB,WAC5D3uB,EAAU2uB,SAAWn3B,EAAUqqB,WAEjCrqB,EAAUqqB,UAAY,GACtB,MAAMz7B,EAAQi1B,EAAM7jB,GAAW,EAAOA,aAAqBmyB,YAK3D,OAJInyB,aAAqB2pC,UACvB3pC,EAAUw5B,gBAAgB,WAC1Bx5B,EAAUuzB,aAAa,aAAc,KAEhC3kC,CAAK,EAEP0zB,CAAG,EAENsnB,GAAeA,IAAIpgD,KACvB,MAAM84B,EAAMknB,KAA0B/X,aAAajoC,GAKnD,MAAM,MAAEq6B,GAAUvB,EAOlB,OANAA,EAAIuB,MAAS4lB,IACX,MAAMzpC,EAAY0pC,GAAmBD,GACrC,GAAIzpC,EACF,OAAO6jB,EAAM7jB,GAAW,EAAMA,aAAqBmyB,WACrD,EAEK7P,CAAG,EAqCZ,SAASonB,GAAmB1pC,GAC1B,IAAI3M,EAAAA,EAAAA,IAAS2M,GAAY,CACvB,MAAMrW,EAAMzV,SAASs+C,cAAcxyB,GAMnC,OAAOrW,CACT,CAMA,OAAOqW,CACT,CACA,IAAI6pC,IAA0B,EAC9B,MAAMC,GAAuBA,KACtBD,KACHA,IAA0B,EAC1BvC,KACA8B,KACF,ECr+CF,SAASW,GAAez4D,GACtB,MAAMA,CACR,CACA,SAAS04D,GAAcxpC,GAEvB,CACA,SAASypC,GAAoBC,EAAMC,EAAKC,EAAUC,GAChD,MAAM7pC,EAA2H0pC,EAC3H54D,EAAQ,IAAIgE,YAAY3F,OAAO6wB,IAGrC,OAFAlvB,EAAM44D,KAAOA,EACb54D,EAAM64D,IAAMA,EACL74D,CACT,CACA,MAgEMg5D,GAAWhqD,OAAiE,IAC5EiqD,GAAWjqD,OAAiE,IAC5EkqD,GAAWlqD,OAAiE,IAC5EmqD,GAAanqD,OAAkE,IAC/EoqD,GAAkBpqD,OAAuE,IACzFqqD,GAAarqD,OAAkE,IAC/EsqD,GAAetqD,OAAoE,IACnFuqD,GAAuBvqD,OAA2E,IAClGwqD,GAAexqD,OAAoE,IACnFyqD,GAAuBzqD,OAA2E,IAClG0qD,GAAiB1qD,OAA2E,IAC5F2qD,GAAc3qD,OAAwE,IACtF4qD,GAAgB5qD,OAA0E,IAC1F6qD,GAAoB7qD,OAAyE,IAC7F8qD,GAA4B9qD,OACyC,IAErE+qD,GAAoB/qD,OAAyE,IAC7FgrD,GAAiBhrD,OAAsE,IACvFirD,GAAkBjrD,OAAuE,IACzFkrD,GAAclrD,OAAmE,IACjFmrD,GAAcnrD,OAAmE,IACjForD,GAAeprD,OAAoE,IACnFqrD,GAAoBrrD,OAAwE,IAC5FsrD,GAActrD,OAAmE,IACjFurD,GAAkBvrD,OAAuE,IACzFwrD,GAAkBxrD,OAAuE,IACzFyrD,GAAkBzrD,OAAuE,IACzF0rD,GAAuB1rD,OAA2E,IAClG2rD,GAAc3rD,OAAmE,IACjF4rD,GAAW5rD,OAAiE,IAC5E6rD,GAAa7rD,OAAmE,IAChF8rD,GAAiB9rD,OAAqE,IACtF+rD,GAAqB/rD,OAAyE,IAC9FgsD,GAAgBhsD,OAAoE,IACpFisD,GAAejsD,OAAmE,IAClFksD,GAAWlsD,OAAgE,IAC3EmsD,GAAQnsD,OAA8D,IACtEosD,GAASpsD,OAA8D,IACvEqsD,GAAYrsD,OAAiE,IAC7EssD,GAAetsD,OAAmE,IAClFusD,GAAgB,CACpB,CAACvC,IAAY,WACb,CAACC,IAAY,WACb,CAACC,IAAY,WACb,CAACC,IAAc,YACf,CAACC,IAAmB,iBACpB,CAACC,IAAc,YACf,CAACC,IAAgB,cACjB,CAACC,IAAwB,qBACzB,CAACC,IAAgB,cACjB,CAACC,IAAwB,qBACzB,CAACC,IAAkB,qBACnB,CAACC,IAAe,kBAChB,CAACC,IAAiB,oBAClB,CAACC,IAAqB,mBACtB,CAACC,IAA6B,0BAC9B,CAACC,IAAqB,mBACtB,CAACC,IAAkB,gBACnB,CAACC,IAAmB,iBACpB,CAACC,IAAe,aAChB,CAACC,IAAe,aAChB,CAACC,IAAgB,cACjB,CAACC,IAAqB,kBACtB,CAACC,IAAe,aAChB,CAACC,IAAmB,iBACpB,CAACC,IAAmB,iBACpB,CAACC,IAAmB,iBACpB,CAACC,IAAwB,qBACzB,CAACC,IAAe,aAChB,CAACC,IAAY,WACb,CAACC,IAAc,aACf,CAACC,IAAkB,eACnB,CAACC,IAAsB,mBACvB,CAACC,IAAiB,cAClB,CAACC,IAAgB,aACjB,CAACC,IAAY,UACb,CAACC,IAAS,QACV,CAACC,IAAU,QACX,CAACC,IAAa,WACd,CAACC,IAAgB,cAEnB,SAASE,GAAuBC,GAC9B97D,OAAO6N,sBAAsBiuD,GAAS9kD,SAASxT,IAC7Co4D,GAAcp4D,GAAKs4D,EAAQt4D,EAAE,GAEjC,CAEA,MAAMu4D,GAAU,CACdp6D,OAAQ,GACR6iB,MAAO,CAAEO,KAAM,EAAGi3C,OAAQ,EAAGC,OAAQ,GACrCx3C,IAAK,CAAEM,KAAM,EAAGi3C,OAAQ,EAAGC,OAAQ,IAErC,SAASC,GAAWrlC,EAAUqiC,EAAM6C,IAClC,MAAO,CACLrxD,KAAM,EACNmsB,WACAilC,QAAyB,IAAI5nD,IAC7Bs7B,WAAY,GACZlQ,WAAY,GACZ68B,OAAQ,GACRC,QAAS,GACTloC,OAAQ,EACRmoC,MAAO,EACPC,iBAAa,EACbpD,MAEJ,CACA,SAASqD,GAAgBxqB,EAAS5wC,EAAK4kB,EAAO8Q,EAAUa,EAAWI,EAAcwH,EAAYk9B,GAAU,EAAOja,GAAkB,EAAOka,GAAc,EAAOvD,EAAM6C,IAYhK,OAXIhqB,IACEyqB,GACFzqB,EAAQ2qB,OAAOhD,IACf3nB,EAAQ2qB,OAAOC,GAAoB5qB,EAAQ6qB,MAAOH,KAElD1qB,EAAQ2qB,OAAOG,GAAe9qB,EAAQ6qB,MAAOH,IAE3Cn9B,GACFyS,EAAQ2qB,OAAOpC,KAGZ,CACL5vD,KAAM,GACNvJ,MACA4kB,QACA8Q,WACAa,YACAI,eACAwH,aACAk9B,UACAja,kBACAka,cACAvD,MAEJ,CACA,SAAS4D,GAAsBC,EAAU7D,EAAM6C,IAC7C,MAAO,CACLrxD,KAAM,GACNwuD,MACA6D,WAEJ,CACA,SAASC,GAAuBC,EAAY/D,EAAM6C,IAChD,MAAO,CACLrxD,KAAM,GACNwuD,MACA+D,aAEJ,CACA,SAASC,GAAqBh8D,EAAK3B,GACjC,MAAO,CACLmL,KAAM,GACNwuD,IAAK6C,GACL76D,KAAKkhB,EAAAA,EAAAA,IAASlhB,GAAOi8D,GAAuBj8D,GAAK,GAAQA,EACzD3B,QAEJ,CACA,SAAS49D,GAAuBjZ,EAASkZ,GAAW,EAAOlE,EAAM6C,GAASsB,EAAY,GACpF,MAAO,CACL3yD,KAAM,EACNwuD,MACAhV,UACAkZ,WACAC,UAAWD,EAAW,EAAIC,EAE9B,CAQA,SAASC,GAAyBzmC,EAAUqiC,EAAM6C,IAChD,MAAO,CACLrxD,KAAM,EACNwuD,MACAriC,WAEJ,CACA,SAAS0mC,GAAqBl8D,EAAQkX,EAAO,GAAI2gD,EAAM6C,IACrD,MAAO,CACLrxD,KAAM,GACNwuD,MACA73D,SACAL,UAAWuX,EAEf,CACA,SAASilD,GAAyBC,EAAQC,OAAU,EAAQC,GAAU,EAAOC,GAAS,EAAO1E,EAAM6C,IACjG,MAAO,CACLrxD,KAAM,GACN+yD,SACAC,UACAC,UACAC,SACA1E,MAEJ,CACA,SAAS2E,GAA4Bz3D,EAAM03D,EAAYC,EAAWJ,GAAU,GAC1E,MAAO,CACLjzD,KAAM,GACNtE,OACA03D,aACAC,YACAJ,UACAzE,IAAK6C,GAET,CACA,SAASiC,GAAsBt+D,EAAOH,EAAOy3B,GAAU,GACrD,MAAO,CACLtsB,KAAM,GACNhL,QACAH,QACAy3B,UACAkiC,IAAK6C,GAET,CACA,SAASkC,GAAqBxL,GAC5B,MAAO,CACL/nD,KAAM,GACN+nD,OACAyG,IAAK6C,GAET,CAuCA,SAASc,GAAeqB,EAAKzB,GAC3B,OAAOyB,GAAOzB,EAAc5C,GAAeC,EAC7C,CACA,SAAS6C,GAAoBuB,EAAKzB,GAChC,OAAOyB,GAAOzB,EAAc9C,GAAeC,EAC7C,CACA,SAASuE,GAAe9hC,GAAM,OAAEqgC,EAAM,aAAE0B,EAAY,MAAExB,IAC/CvgC,EAAKmgC,UACRngC,EAAKmgC,SAAU,EACf4B,EAAavB,GAAeD,EAAOvgC,EAAKogC,cACxCC,EAAOhD,IACPgD,EAAOC,GAAoBC,EAAOvgC,EAAKogC,cAE3C,CAEA,MAAM4B,GAAej1C,GAAiB,IAAXA,EAAE1e,MAAc0e,EAAEg0C,SACvCkB,GAAgBA,CAACn9D,EAAKo9D,IAAap9D,IAAQo9D,GAAYp9D,KAAQkiB,EAAAA,EAAAA,IAAUk7C,GAC/E,SAASC,GAAgBr9D,GACvB,OAAIm9D,GAAcn9D,EAAK,YACdm4D,GACEgF,GAAcn9D,EAAK,YACrBo4D,GACE+E,GAAcn9D,EAAK,aACrBq4D,GACE8E,GAAcn9D,EAAK,kBACrBs4D,QADF,CAGT,CACA,MAAMgF,GAAkB,cAClBC,GAAsBj8D,IAAUg8D,GAAgBr4D,KAAK3D,GACrDk8D,GAAwB,wBACxBC,GAAmB,uBACnBC,GAAe,yBACfC,GAA6B3/B,IACjCA,EAAOA,EAAKvZ,OAAO9f,QAAQ+4D,IAAer7D,GAAMA,EAAEoiB,SAClD,IAAInb,EAAQ,EACRs0D,EAAa,GACbC,EAA0B,EAC1BC,EAAyB,EACzBC,EAAoB,KACxB,IAAK,IAAIn9D,EAAI,EAAGA,EAAIo9B,EAAK1/B,OAAQsC,IAAK,CACpC,MAAMo9D,EAAOhgC,EAAK5b,OAAOxhB,GACzB,OAAQ0I,GACN,KAAK,EACH,GAAa,MAAT00D,EACFJ,EAAWjxD,KAAKrD,GAChBA,EAAQ,EACRu0D,SACK,GAAa,MAATG,EACTJ,EAAWjxD,KAAKrD,GAChBA,EAAQ,EACRw0D,SACK,KAAY,IAANl9D,EAAU48D,GAAwBC,IAAkBx4D,KAAK+4D,GACpE,OAAO,EAET,MACF,KAAK,EACW,MAAVA,GAA0B,MAAVA,GAAyB,MAATA,GAClCJ,EAAWjxD,KAAKrD,GAChBA,EAAQ,EACRy0D,EAAoBC,GACD,MAAVA,EACTH,IACmB,MAAVG,MACFH,IACLv0D,EAAQs0D,EAAWtrD,QAGvB,MACF,KAAK,EACH,GAAc,MAAV0rD,GAA0B,MAAVA,GAAyB,MAATA,EAClCJ,EAAWjxD,KAAKrD,GAChBA,EAAQ,EACRy0D,EAAoBC,OACf,GAAc,MAAVA,EACTF,SACK,GAAc,MAAVE,EAAc,CACvB,GAAIp9D,IAAMo9B,EAAK1/B,OAAS,EACtB,OAAO,IAEFw/D,IACLx0D,EAAQs0D,EAAWtrD,MAEvB,CACA,MACF,KAAK,EACC0rD,IAASD,IACXz0D,EAAQs0D,EAAWtrD,MACnByrD,EAAoB,MAEtB,MAEN,CACA,OAAQF,IAA4BC,CAAsB,EAGtDG,GAAqBN,GAC3B,SAASO,GAAcnG,EAAK+C,EAAQx8D,GAClC,MAAMkC,EAASu3D,EAAIv3D,OAAOlB,MAAMw7D,EAAQA,EAASx8D,GAC3C6/D,EAAS,CACb39D,SACA6iB,MAAO+6C,GAAyBrG,EAAI10C,MAAO00C,EAAIv3D,OAAQs6D,GACvDx3C,IAAKy0C,EAAIz0C,KASX,OAPc,MAAVhlB,IACF6/D,EAAO76C,IAAM86C,GACXrG,EAAI10C,MACJ00C,EAAIv3D,OACJs6D,EAASx8D,IAGN6/D,CACT,CACA,SAASC,GAAyBC,EAAK79D,EAAQ89D,EAAqB99D,EAAOlC,QACzE,OAAOigE,IACL/pD,EAAAA,EAAAA,IAAO,CAAC,EAAG6pD,GACX79D,EACA89D,EAEJ,CACA,SAASC,GAA4BF,EAAK79D,EAAQ89D,EAAqB99D,EAAOlC,QAC5E,IAAIkgE,EAAa,EACbC,GAAkB,EACtB,IAAK,IAAI79D,EAAI,EAAGA,EAAI09D,EAAoB19D,IACT,KAAzBJ,EAAOk+D,WAAW99D,KACpB49D,IACAC,EAAiB79D,GAMrB,OAHAy9D,EAAIvD,QAAUwD,EACdD,EAAIz6C,MAAQ46C,EACZH,EAAIxD,QAA6B,IAApB4D,EAAwBJ,EAAIxD,OAASyD,EAAqBA,EAAqBG,EACrFJ,CACT,CAMA,SAASM,GAAQzjC,EAAM55B,EAAMs9D,GAAa,GACxC,IAAK,IAAIh+D,EAAI,EAAGA,EAAIs6B,EAAKtW,MAAMtmB,OAAQsC,IAAK,CAC1C,MAAMqnB,EAAIiT,EAAKtW,MAAMhkB,GACrB,GAAe,IAAXqnB,EAAE1e,OAAeq1D,GAAc32C,EAAE42C,QAAS59C,EAAAA,EAAAA,IAAS3f,GAAQ2mB,EAAE3mB,OAASA,EAAOA,EAAK2D,KAAKgjB,EAAE3mB,OAC3F,OAAO2mB,CAEX,CACF,CACA,SAAS62C,GAAS5jC,EAAM55B,EAAMy9D,GAAc,EAAOH,GAAa,GAC9D,IAAK,IAAIh+D,EAAI,EAAGA,EAAIs6B,EAAKtW,MAAMtmB,OAAQsC,IAAK,CAC1C,MAAMqnB,EAAIiT,EAAKtW,MAAMhkB,GACrB,GAAe,IAAXqnB,EAAE1e,KAAY,CAChB,GAAIw1D,EACF,SACF,GAAI92C,EAAE3mB,OAASA,IAAS2mB,EAAE7pB,OAASwgE,GACjC,OAAO32C,CAEX,MAAO,GAAe,SAAXA,EAAE3mB,OAAoB2mB,EAAE42C,KAAOD,IAAeI,GAAc/2C,EAAEpjB,IAAKvD,GAC5E,OAAO2mB,CAEX,CACF,CACA,SAAS+2C,GAAcn6D,EAAKvD,GAC1B,SAAUuD,IAAOq4D,GAAYr4D,IAAQA,EAAIk+C,UAAYzhD,EACvD,CACA,SAAS29D,GAAmB/jC,GAC1B,OAAOA,EAAKtW,MAAMwQ,MACfnN,GAAiB,IAAXA,EAAE1e,MAAyB,SAAX0e,EAAE3mB,QAAqB2mB,EAAEpjB,KACjC,IAAfojB,EAAEpjB,IAAI0E,OACL0e,EAAEpjB,IAAIo3D,WAGX,CACA,SAASiD,GAAShkC,GAChB,OAAqB,IAAdA,EAAK3xB,MAA4B,IAAd2xB,EAAK3xB,IACjC,CACA,SAAS41D,GAAQl3C,GACf,OAAkB,IAAXA,EAAE1e,MAAyB,SAAX0e,EAAE3mB,IAC3B,CACA,SAAS89D,GAAelkC,GACtB,OAAqB,IAAdA,EAAK3xB,MAA+B,IAAjB2xB,EAAKmkC,OACjC,CACA,SAASC,GAAapkC,GACpB,OAAqB,IAAdA,EAAK3xB,MAA+B,IAAjB2xB,EAAKmkC,OACjC,CACA,MAAME,GAAiC,IAAIxsD,IAAI,CAAC4mD,GAAiBC,KACjE,SAAS4F,GAAqB56C,EAAO66C,EAAW,IAC9C,GAAI76C,KAAU3D,EAAAA,EAAAA,IAAS2D,IAAyB,KAAfA,EAAMrb,KAAa,CAClD,MAAMrJ,EAAS0kB,EAAM1kB,OACrB,KAAK+gB,EAAAA,EAAAA,IAAS/gB,IAAWq/D,GAAe32D,IAAI1I,GAC1C,OAAOs/D,GACL56C,EAAM/kB,UAAU,GAChB4/D,EAASjzD,OAAOoY,GAGtB,CACA,MAAO,CAACA,EAAO66C,EACjB,CACA,SAASC,GAAWxkC,EAAMuY,EAAM7C,GAC9B,IAAI+uB,EAGAC,EAFAh7C,EAAsB,KAAdsW,EAAK3xB,KAAc2xB,EAAKtW,MAAQsW,EAAKr7B,UAAU,GACvD4/D,EAAW,GAEf,GAAI76C,KAAU3D,EAAAA,EAAAA,IAAS2D,IAAyB,KAAfA,EAAMrb,KAAa,CAClD,MAAMmV,EAAM8gD,GAAqB56C,GACjCA,EAAQlG,EAAI,GACZ+gD,EAAW/gD,EAAI,GACfkhD,EAAaH,EAASA,EAASnhE,OAAS,EAC1C,CACA,GAAa,MAATsmB,IAAiB3D,EAAAA,EAAAA,IAAS2D,GAC5B+6C,EAAqB9D,GAAuB,CAACpoB,SACxC,GAAmB,KAAf7uB,EAAMrb,KAAa,CAC5B,MAAMs2D,EAAQj7C,EAAM/kB,UAAU,IACzBohB,EAAAA,EAAAA,IAAS4+C,IAAyB,KAAfA,EAAMt2D,KAKxBqb,EAAM1kB,SAAW25D,GACnB8F,EAAqBvD,GAAqBxrB,EAAQ2qB,OAAO/B,IAAc,CACrEqC,GAAuB,CAACpoB,IACxB7uB,IAGFA,EAAM/kB,UAAUorB,QAAQ4wC,GAAuB,CAACpoB,KAV7CqsB,GAAQrsB,EAAMosB,IACjBA,EAAM/D,WAAW7wC,QAAQwoB,IAY5BksB,IAAuBA,EAAqB/6C,EAC/C,MAA0B,KAAfA,EAAMrb,MACVu2D,GAAQrsB,EAAM7uB,IACjBA,EAAMk3C,WAAW7wC,QAAQwoB,GAE3BksB,EAAqB/6C,IAErB+6C,EAAqBvD,GAAqBxrB,EAAQ2qB,OAAO/B,IAAc,CACrEqC,GAAuB,CAACpoB,IACxB7uB,IAEEg7C,GAAcA,EAAW1/D,SAAW05D,KACtCgG,EAAaH,EAASA,EAASnhE,OAAS,KAG1B,KAAd48B,EAAK3xB,KACHq2D,EACFA,EAAW//D,UAAU,GAAK8/D,EAE1BzkC,EAAKtW,MAAQ+6C,EAGXC,EACFA,EAAW//D,UAAU,GAAK8/D,EAE1BzkC,EAAKr7B,UAAU,GAAK8/D,CAG1B,CACA,SAASG,GAAQrsB,EAAM7uB,GACrB,IAAI3kB,GAAS,EACb,GAAsB,IAAlBwzC,EAAK1zC,IAAIwJ,KAAY,CACvB,MAAMw2D,EAActsB,EAAK1zC,IAAIgjD,QAC7B9iD,EAAS2kB,EAAMk3C,WAAW1mC,MACvBnN,GAAqB,IAAfA,EAAEloB,IAAIwJ,MAAc0e,EAAEloB,IAAIgjD,UAAYgd,GAEjD,CACA,OAAO9/D,CACT,CACA,SAAS+/D,GAAe1+D,EAAMiI,GAC5B,MAAQ,IAAGA,KAAQjI,EAAKqD,QAAQ,UAAU,CAACs7D,EAAaC,IAC/B,MAAhBD,EAAsB,IAAM3+D,EAAKo9D,WAAWwB,GAAc9gE,cAErE,CAyCA,SAAS+gE,GAAmBjlC,GAC1B,OAAkB,KAAdA,EAAK3xB,MAAe2xB,EAAKh7B,SAAWq6D,GAC/Br/B,EAAKr7B,UAAU,GAAG08D,QAElBrhC,CAEX,CAsCA,SAASklC,GAAergE,EAAK6wC,GAC3B,MAAMxhB,EAASwhB,EAAQxvC,QAAUwvC,EAAQxvC,QAAQi/D,aAAezvB,EAAQyvB,aAClEjiE,EAAQgxB,GAAUA,EAAOrvB,GAC/B,MAAY,SAARA,EACK3B,GAAS,EAETA,CAEX,CACA,SAASkiE,GAAgBvgE,EAAK6wC,GAC5B,MAAM/iC,EAAOuyD,GAAe,OAAQxvB,GAC9BxyC,EAAQgiE,GAAergE,EAAK6wC,GAClC,OAAgB,IAAT/iC,GAAuB,IAAVzP,GAA2B,IAAVA,CACvC,CACA,SAASmiE,GAAmBxgE,EAAK6wC,EAASmnB,KAAQ3gD,GAChD,MAAMwa,EAAU0uC,GAAgBvgE,EAAK6wC,GAIrC,OAAOhf,CACT,CAgBA,MAAM4uC,GAAW,2BACXC,GAAY,CAChBC,GAAI,IACJC,GAAI,IACJC,IAAK,IACLC,KAAM,IACNC,KAAM,KAEFC,GAAuB,CAC3B9b,WAAY,CAAE,KAAM,MACpB+b,aAAcA,IAAM,EACpBC,YAAaA,IAAM,EACnB57C,UAAWhF,EAAAA,GACX6gD,SAAU7gD,EAAAA,GACV2kC,gBAAiB3kC,EAAAA,GACjB8gD,eAAiBC,GAAYA,EAAQz8D,QAAQ67D,IAAU,CAACz+C,EAAGs/C,IAAOZ,GAAUY,KAC5E39B,QAASi0B,GACT2J,OAAQ1J,GACR2J,UAAU,GAEZ,SAASC,GAAUze,EAAS3hD,EAAU,CAAC,GACrC,MAAMwvC,EAAU6wB,GAAoB1e,EAAS3hD,GACvCiiB,EAAQq+C,GAAU9wB,GACxB,OAAOmqB,GACL4G,GAAc/wB,EAAS,EAAG,IAC1BgxB,GAAahxB,EAASvtB,GAE1B,CACA,SAASo+C,GAAoB1e,EAAS8e,GACpC,MAAMzgE,GAAUoT,EAAAA,EAAAA,IAAO,CAAC,EAAGusD,IAC3B,IAAIhhE,EACJ,IAAKA,KAAO8hE,EACVzgE,EAAQrB,QAA2B,IAApB8hE,EAAW9hE,GAAkBghE,GAAqBhhE,GAAO8hE,EAAW9hE,GAErF,MAAO,CACLqB,UACAy5D,OAAQ,EACRj3C,KAAM,EACNk3C,OAAQ,EACRgH,eAAgB/e,EAChBviD,OAAQuiD,EACRgf,OAAO,EACPC,QAAQ,EACRV,OAAQlgE,EAAQkgE,OAEpB,CACA,SAASK,GAAc/wB,EAAS/iC,EAAMo0D,GACpC,MAAMtwD,EAASU,GAAK4vD,GACdC,EAAKvwD,EAASA,EAAOuwD,GAAK,EAC1BC,EAAQ,GACd,OAAQC,GAAMxxB,EAAS/iC,EAAMo0D,GAAY,CACvC,MAAM5/D,EAAIuuC,EAAQpwC,OAClB,IAAI06B,EACJ,GAAa,IAATrtB,GAAuB,IAATA,EAChB,IAAK+iC,EAAQoxB,QAAUvhD,GAAWpe,EAAGuuC,EAAQxvC,QAAQ6jD,WAAW,IAC9D/pB,EAAOmnC,GAAmBzxB,EAAS/iC,QAC9B,GAAa,IAATA,GAAuB,MAATxL,EAAE,GACzB,GAAiB,IAAbA,EAAE/D,OACJgkE,GAAU1xB,EAAS,EAAG,QACjB,GAAa,MAATvuC,EAAE,GACPoe,GAAWpe,EAAG,WAChB64B,EAAOqnC,GAAa3xB,GACXnwB,GAAWpe,EAAG,aACvB64B,EAAOsnC,GAAkB5xB,GAChBnwB,GAAWpe,EAAG,aACZ,IAAP6/D,EACFhnC,EAAOunC,GAAW7xB,EAASqxB,IAE3BK,GAAU1xB,EAAS,GACnB1V,EAAOsnC,GAAkB5xB,KAG3B0xB,GAAU1xB,EAAS,IACnB1V,EAAOsnC,GAAkB5xB,SAEtB,GAAa,MAATvuC,EAAE,GACX,GAAiB,IAAbA,EAAE/D,OACJgkE,GAAU1xB,EAAS,EAAG,OACjB,IAAa,MAATvuC,EAAE,GAAY,CACvBigE,GAAU1xB,EAAS,GAAI,GACvB8xB,GAAU9xB,EAAS,GACnB,QACF,CAAO,GAAI,SAAS3rC,KAAK5C,EAAE,IAAK,CAC9BigE,GAAU1xB,EAAS,IACnB+xB,GAAS/xB,EAASgyB,GAAQC,IAAKlxD,GAC/B,QACF,CACE2wD,GACE1xB,EACA,GACA,GAEF1V,EAAOsnC,GAAkB5xB,EAC3B,KACS,SAAS3rC,KAAK5C,EAAE,KACzB64B,EAAO4nC,GAAalyB,EAASqxB,GACzB3B,GACF,2BACA1vB,IACG1V,GAAqB,aAAbA,EAAKl7B,MAAuBk7B,EAAKtW,MAAMwQ,MACjDnN,GAAiB,IAAXA,EAAE1e,MAAcw5D,GAA2B96C,EAAE3mB,UAOpD45B,EAAOA,EAAKxF,WAEI,MAATrzB,EAAE,IACXigE,GACE1xB,EACA,GACA,GAEF1V,EAAOsnC,GAAkB5xB,IAEzB0xB,GAAU1xB,EAAS,GAAI,GAO7B,GAHK1V,IACHA,EAAO8nC,GAAUpyB,EAAS/iC,KAExBlP,EAAAA,EAAAA,IAAQu8B,GACV,IAAK,IAAIt6B,EAAI,EAAGA,EAAIs6B,EAAK58B,OAAQsC,IAC/BqiE,GAASd,EAAOjnC,EAAKt6B,SAGvBqiE,GAASd,EAAOjnC,EAEpB,CACA,IAAIgoC,GAAoB,EACxB,GAAa,IAATr1D,GAAuB,IAATA,EAAY,CAC5B,MAAMs1D,EAAgD,aAA/BvyB,EAAQxvC,QAAQgiE,WACvC,IAAK,IAAIxiE,EAAI,EAAGA,EAAIuhE,EAAM7jE,OAAQsC,IAAK,CACrC,MAAMs6B,EAAOinC,EAAMvhE,GACnB,GAAkB,IAAds6B,EAAK3xB,KACP,GAAKqnC,EAAQmxB,MAcX7mC,EAAK6nB,QAAU7nB,EAAK6nB,QAAQp+C,QAAQ,QAAS,WAb7C,GAAK,eAAeM,KAAKi2B,EAAK6nB,SASnBogB,IACTjoC,EAAK6nB,QAAU7nB,EAAK6nB,QAAQp+C,QAAQ,gBAAiB,UAVf,CACtC,MAAM8uB,EAAO0uC,EAAMvhE,EAAI,GACjB6Z,EAAO0nD,EAAMvhE,EAAI,IAClB6yB,IAAShZ,GAAQ0oD,IAAiC,IAAd1vC,EAAKlqB,MAA4B,IAAdkR,EAAKlR,MAA4B,IAAdkqB,EAAKlqB,MAA4B,IAAdkR,EAAKlR,MAA4B,IAAdkqB,EAAKlqB,MAA4B,IAAdkR,EAAKlR,MAA4B,IAAdkqB,EAAKlqB,MAA4B,IAAdkR,EAAKlR,MAAc,SAAStE,KAAKi2B,EAAK6nB,WAClNmgB,GAAoB,EACpBf,EAAMvhE,GAAK,MAEXs6B,EAAK6nB,QAAU,GAEnB,MAMqB,IAAd7nB,EAAK3xB,MAAeqnC,EAAQxvC,QAAQmgE,WAC7C2B,GAAoB,EACpBf,EAAMvhE,GAAK,KAEf,CACA,GAAIgwC,EAAQmxB,OAASpwD,GAAUi/B,EAAQxvC,QAAQ8/D,SAASvvD,EAAO3R,KAAM,CACnE,MAAM6/D,EAAQsC,EAAM,GAChBtC,GAAwB,IAAfA,EAAMt2D,OACjBs2D,EAAM9c,QAAU8c,EAAM9c,QAAQp+C,QAAQ,SAAU,IAEpD,CACF,CACA,OAAOu+D,EAAoBf,EAAMzrD,OAAO6oB,SAAW4iC,CACrD,CACA,SAASc,GAASd,EAAOjnC,GACvB,GAAkB,IAAdA,EAAK3xB,KAAY,CACnB,MAAMkqB,EAAOphB,GAAK8vD,GAClB,GAAI1uC,GAAsB,IAAdA,EAAKlqB,MAAckqB,EAAKskC,IAAIz0C,IAAIw3C,SAAW5/B,EAAK68B,IAAI10C,MAAMy3C,OAIpE,OAHArnC,EAAKsvB,SAAW7nB,EAAK6nB,QACrBtvB,EAAKskC,IAAIz0C,IAAM4X,EAAK68B,IAAIz0C,SACxBmQ,EAAKskC,IAAIv3D,QAAU06B,EAAK68B,IAAIv3D,OAGhC,CACA2hE,EAAMx1D,KAAKuuB,EACb,CACA,SAASunC,GAAW7xB,EAASqxB,GAC3BS,GAAU9xB,EAAS,GACnB,MAAMuxB,EAAQR,GAAc/wB,EAAS,EAAGqxB,GAMxC,OAL8B,IAA1BrxB,EAAQpwC,OAAOlC,OACjBgkE,GAAU1xB,EAAS,GAEnB8xB,GAAU9xB,EAAS,GAEduxB,CACT,CACA,SAASI,GAAa3xB,GACpB,MAAMvtB,EAAQq+C,GAAU9wB,GACxB,IAAImS,EACJ,MAAM7+C,EAAQ,WAAWkC,KAAKwqC,EAAQpwC,QACtC,GAAK0D,EAIE,CACDA,EAAM3F,OAAS,GACjB+jE,GAAU1xB,EAAS,GAEjB1sC,EAAM,IACRo+D,GAAU1xB,EAAS,IAErBmS,EAAUnS,EAAQpwC,OAAOlB,MAAM,EAAG4E,EAAM3F,OACxC,MAAM8D,EAAIuuC,EAAQpwC,OAAOlB,MAAM,EAAG4E,EAAM3F,OACxC,IAAI8kE,EAAY,EAAGC,EAAc,EACjC,OAAyD,KAAjDA,EAAcjhE,EAAE5D,QAAQ,UAAQ4kE,IACtCX,GAAU9xB,EAAS0yB,EAAcD,EAAY,GACzCC,EAAc,EAAIjhE,EAAE/D,QACtBgkE,GAAU1xB,EAAS,IAErByyB,EAAYC,EAAc,EAE5BZ,GAAU9xB,EAAS1sC,EAAM3F,MAAQ2F,EAAM,GAAG5F,OAAS+kE,EAAY,EACjE,MArBEtgB,EAAUnS,EAAQpwC,OAAOlB,MAAM,GAC/BojE,GAAU9xB,EAASA,EAAQpwC,OAAOlC,QAClCgkE,GAAU1xB,EAAS,GAoBrB,MAAO,CACLrnC,KAAM,EACNw5C,UACAgV,IAAK6J,GAAahxB,EAASvtB,GAE/B,CACA,SAASm/C,GAAkB5xB,GACzB,MAAMvtB,EAAQq+C,GAAU9wB,GAClB2yB,EAAqC,MAAtB3yB,EAAQpwC,OAAO,GAAa,EAAI,EACrD,IAAIuiD,EACJ,MAAMygB,EAAa5yB,EAAQpwC,OAAO/B,QAAQ,KAQ1C,OAPoB,IAAhB+kE,GACFzgB,EAAUnS,EAAQpwC,OAAOlB,MAAMikE,GAC/Bb,GAAU9xB,EAASA,EAAQpwC,OAAOlC,UAElCykD,EAAUnS,EAAQpwC,OAAOlB,MAAMikE,EAAcC,GAC7Cd,GAAU9xB,EAAS4yB,EAAa,IAE3B,CACLj6D,KAAM,EACNw5C,UACAgV,IAAK6J,GAAahxB,EAASvtB,GAE/B,CACA,SAASy/C,GAAalyB,EAASqxB,GAC7B,MAAMwB,EAAW7yB,EAAQmxB,MACnB2B,EAAY9yB,EAAQoxB,OACpBrwD,EAASU,GAAK4vD,GACd0B,EAAUhB,GAAS/xB,EAASgyB,GAAQgB,MAAOjyD,GAC3CkyD,EAAgBjzB,EAAQmxB,QAAU0B,EAClCK,EAAiBlzB,EAAQoxB,SAAW0B,EAC1C,GAAIC,EAAQI,eAAiBnzB,EAAQxvC,QAAQikB,UAAUs+C,EAAQ3jE,KAO7D,OANI6jE,IACFjzB,EAAQmxB,OAAQ,GAEd+B,IACFlzB,EAAQoxB,QAAS,GAEZ2B,EAET1B,EAAUt1D,KAAKg3D,GACf,MAAM91D,EAAO+iC,EAAQxvC,QAAQ6/D,YAAY0C,EAAShyD,GAC5C+jB,EAAWisC,GAAc/wB,EAAS/iC,EAAMo0D,GAC9CA,EAAU3vD,MACV,CACE,MAAM0xD,EAAqBL,EAAQ/+C,MAAMq/C,MACtCh8C,GAAiB,IAAXA,EAAE1e,MAAyB,oBAAX0e,EAAE3mB,OAE3B,GAAI0iE,GAAsBzD,GACxB,2BACA3vB,EACAozB,EAAmBjM,KAClB,CACD,MAAMA,EAAM6J,GAAahxB,EAAS+yB,EAAQ5L,IAAIz0C,KAC9C0gD,EAAmB5lE,MAAQ,CACzBmL,KAAM,EACNw5C,QAASgV,EAAIv3D,OACbu3D,MAEJ,CACF,CAEA,GADA4L,EAAQjuC,SAAWA,EACfwuC,GAAqBtzB,EAAQpwC,OAAQmjE,EAAQ3jE,KAC/C2iE,GAAS/xB,EAASgyB,GAAQC,IAAKlxD,QAG/B,GADA2wD,GAAU1xB,EAAS,GAAI,EAAG+yB,EAAQ5L,IAAI10C,OACR,IAA1ButB,EAAQpwC,OAAOlC,QAA8C,WAA9BqlE,EAAQ3jE,IAAIqK,cAA4B,CACzE,MAAMw1D,EAAQnqC,EAAS,GACnBmqC,GAASp/C,GAAWo/C,EAAM9H,IAAIv3D,OAAQ,YACxC8hE,GAAU1xB,EAAS,EAEvB,CASF,OAPA+yB,EAAQ5L,IAAM6J,GAAahxB,EAAS+yB,EAAQ5L,IAAI10C,OAC5CwgD,IACFjzB,EAAQmxB,OAAQ,GAEd+B,IACFlzB,EAAQoxB,QAAS,GAEZ2B,CACT,CACA,IAAIf,GAA0B,CAAEuB,IAC9BA,EAASA,EAAS,SAAW,GAAK,QAClCA,EAASA,EAAS,OAAS,GAAK,MACzBA,GAHqB,CAI3BvB,IAAW,CAAC,GACf,MAAMG,IAA6CvsD,EAAAA,EAAAA,IAChD,4BAEH,SAASmsD,GAAS/xB,EAASrnC,EAAMoI,GAC/B,MAAM0R,EAAQq+C,GAAU9wB,GAClB1sC,EAAQ,+BAA+BkC,KAAKwqC,EAAQpwC,QACpDR,EAAMkE,EAAM,GACZg+D,EAAKtxB,EAAQxvC,QAAQ4/D,aAAahhE,EAAK2R,GAC7C+wD,GAAU9xB,EAAS1sC,EAAM,GAAG5F,QAC5B8lE,GAAcxzB,GACd,MAAMyzB,EAAS3C,GAAU9wB,GACnB0zB,EAAgB1zB,EAAQpwC,OAC1BowC,EAAQxvC,QAAQ8/D,SAASlhE,KAC3B4wC,EAAQmxB,OAAQ,GAElB,IAAIn9C,EAAQ2/C,GAAgB3zB,EAASrnC,GACxB,IAATA,IAA2BqnC,EAAQoxB,QAAUp9C,EAAMwQ,MAAMnN,GAAiB,IAAXA,EAAE1e,MAAyB,QAAX0e,EAAE3mB,SACnFsvC,EAAQoxB,QAAS,GACjBxtD,EAAAA,EAAAA,IAAOo8B,EAASyzB,GAChBzzB,EAAQpwC,OAAS8jE,EACjB1/C,EAAQ2/C,GAAgB3zB,EAASrnC,GAAMmN,QAAQuR,GAAiB,UAAXA,EAAE3mB,QAEzD,IAAIyiE,GAAgB,EAUpB,GAT8B,IAA1BnzB,EAAQpwC,OAAOlC,OACjBgkE,GAAU1xB,EAAS,IAEnBmzB,EAAgBtjD,GAAWmwB,EAAQpwC,OAAQ,MAC9B,IAAT+I,GAAwBw6D,GAC1BzB,GAAU1xB,EAAS,GAErB8xB,GAAU9xB,EAASmzB,EAAgB,EAAI,IAE5B,IAATx6D,EACF,OA2BF,IAAI81D,EAAU,EAcd,OAbKzuB,EAAQoxB,SACC,SAARhiE,EACFq/D,EAAU,EACO,aAARr/D,EACL4kB,EAAMwQ,MACPnN,GAAiB,IAAXA,EAAE1e,MAAcw5D,GAA2B96C,EAAE3mB,UAEpD+9D,EAAU,GAEH/D,GAAYt7D,EAAK4kB,EAAOgsB,KACjCyuB,EAAU,IAGP,CACL91D,KAAM,EACN24D,KACAliE,MACAq/D,UACAz6C,QACAm/C,gBACAruC,SAAU,GACVqiC,IAAK6J,GAAahxB,EAASvtB,GAC3B83C,iBAAa,EAGjB,CACA,SAASG,GAAYt7D,EAAK4kB,EAAOgsB,GAC/B,MAAMxvC,EAAUwvC,EAAQxvC,QACxB,GAAIA,EAAQ4jD,gBAAgBhlD,GAC1B,OAAO,EAET,GAAY,cAARA,GAAuB,SAASiF,KAAKjF,IAAQq9D,GAAgBr9D,IAAQoB,EAAQojE,oBAAsBpjE,EAAQojE,mBAAmBxkE,IAAQoB,EAAQ+uC,cAAgB/uC,EAAQ+uC,YAAYnwC,GACpL,OAAO,EAET,IAAK,IAAIY,EAAI,EAAGA,EAAIgkB,EAAMtmB,OAAQsC,IAAK,CACrC,MAAMqnB,EAAIrD,EAAMhkB,GAChB,GAAe,IAAXqnB,EAAE1e,MACJ,GAAe,OAAX0e,EAAE3mB,MAAiB2mB,EAAE7pB,MAAO,CAC9B,GAAI6pB,EAAE7pB,MAAM2kD,QAAQtiC,WAAW,QAC7B,OAAO,EACF,GAAI8/C,GACT,yBACA3vB,EACA3oB,EAAE8vC,KAEF,OAAO,CAEX,MACK,CACL,GAAe,OAAX9vC,EAAE3mB,KACJ,OAAO,EACF,GAEM,SAAX2mB,EAAE3mB,MAAmB09D,GAAc/2C,EAAEpjB,IAAK,OAAiB07D,GACzD,yBACA3vB,EACA3oB,EAAE8vC,KAGJ,OAAO,CAEX,CACF,CACF,CACA,SAASwM,GAAgB3zB,EAASrnC,GAChC,MAAMqb,EAAQ,GACR6/C,EAAiC,IAAI1xD,IAC3C,MAAO69B,EAAQpwC,OAAOlC,OAAS,IAAMmiB,GAAWmwB,EAAQpwC,OAAQ,OAASigB,GAAWmwB,EAAQpwC,OAAQ,MAAO,CACzG,GAAIigB,GAAWmwB,EAAQpwC,OAAQ,KAAM,CACnC8hE,GAAU1xB,EAAS,IACnB8xB,GAAU9xB,EAAS,GACnBwzB,GAAcxzB,GACd,QACF,CACa,IAATrnC,GACF+4D,GAAU1xB,EAAS,GAErB,MAAM8zB,EAAOC,GAAe/zB,EAAS6zB,GACnB,IAAdC,EAAKn7D,MAAcm7D,EAAKtmE,OAAuB,UAAdsmE,EAAKpjE,OACxCojE,EAAKtmE,MAAM2kD,QAAU2hB,EAAKtmE,MAAM2kD,QAAQp+C,QAAQ,OAAQ,KAAK8f,QAElD,IAATlb,GACFqb,EAAMjY,KAAK+3D,GAET,kBAAkBz/D,KAAK2rC,EAAQpwC,SACjC8hE,GAAU1xB,EAAS,IAErBwzB,GAAcxzB,EAChB,CACA,OAAOhsB,CACT,CACA,SAAS+/C,GAAe/zB,EAASg0B,GAC/B,IAAItuD,EACJ,MAAM+M,EAAQq+C,GAAU9wB,GAClB1sC,EAAQ,kCAAkCkC,KAAKwqC,EAAQpwC,QACvDc,EAAO4C,EAAM,GACf0gE,EAAQh8D,IAAItH,IACdghE,GAAU1xB,EAAS,GAErBg0B,EAAQvvD,IAAI/T,GACI,MAAZA,EAAK,IACPghE,GAAU1xB,EAAS,IAErB,CACE,MAAMlK,EAAU,SAChB,IAAInkC,EACJ,MAAOA,EAAImkC,EAAQtgC,KAAK9E,GACtBghE,GACE1xB,EACA,GACAruC,EAAEhE,MAGR,CAEA,IAAIH,EADJskE,GAAU9xB,EAAStvC,EAAKhD,QAEpB,iBAAiB2G,KAAK2rC,EAAQpwC,UAChC4jE,GAAcxzB,GACd8xB,GAAU9xB,EAAS,GACnBwzB,GAAcxzB,GACdxyC,EAAQymE,GAAoBj0B,GACvBxyC,GACHkkE,GAAU1xB,EAAS,KAGvB,MAAMmnB,EAAM6J,GAAahxB,EAASvtB,GAClC,IAAKutB,EAAQoxB,QAAU,6BAA6B/8D,KAAK3D,GAAO,CAC9D,MAAMwjE,EAAS,qEAAqE1+D,KAClF9E,GAEF,IAEIuD,EAFAkgE,EAAkBtkD,GAAWnf,EAAM,KACnC0jE,EAAUF,EAAO,KAAOC,GAAmBtkD,GAAWnf,EAAM,KAAO,OAASmf,GAAWnf,EAAM,KAAO,KAAO,QAE/G,GAAIwjE,EAAO,GAAI,CACb,MAAMrI,EAAqB,SAAZuI,EACTC,EAAc3jE,EAAK4jE,YACvBJ,EAAO,GACPxjE,EAAKhD,SAA+B,OAAnBgY,EAAKwuD,EAAO,SAAc,EAASxuD,EAAGhY,SAAW,IAE9D6mE,EAAOvD,GACXhxB,EACAw0B,GAAex0B,EAASvtB,EAAO4hD,GAC/BG,GACEx0B,EACAvtB,EACA4hD,EAAcH,EAAO,GAAGxmE,QAAUm+D,GAAUqI,EAAO,IAAM,IAAIxmE,SAGjE,IAAIykD,EAAU+hB,EAAO,GACjB7I,GAAW,EACXlZ,EAAQtiC,WAAW,MACrBw7C,GAAW,EACNlZ,EAAQlL,SAAS,KAOpBkL,EAAUA,EAAQzjD,MAAM,EAAGyjD,EAAQzkD,OAAS,IAN5CgkE,GACE1xB,EACA,IAEFmS,EAAUA,EAAQzjD,MAAM,KAIjBm9D,IACT1Z,GAAW+hB,EAAO,IAAM,IAE1BjgE,EAAM,CACJ0E,KAAM,EACNw5C,UACAkZ,WACAC,UAAWD,EAAW,EAAI,EAC1BlE,IAAKoN,EAET,CACA,GAAI/mE,GAASA,EAAMinE,SAAU,CAC3B,MAAMC,EAAWlnE,EAAM25D,IACvBuN,EAASjiD,MAAMy3C,SACfwK,EAASjiD,MAAMw3C,SACfyK,EAAShiD,IAAM86C,GAAyBkH,EAASjiD,MAAOjlB,EAAM2kD,SAC9DuiB,EAAS9kE,OAAS8kE,EAAS9kE,OAAOlB,MAAM,GAAI,EAC9C,CACA,MAAMk/B,EAAYsmC,EAAO,GAAKA,EAAO,GAAGxlE,MAAM,GAAGkF,MAAM,KAAO,GAqB9D,OApBIugE,GACFvmC,EAAU7xB,KAAK,QACD,SAAZq4D,GAAsBngE,GACpB25B,EAAUhgC,SAAS,SAAW+hE,GAChC,uBACA3vB,EACAmnB,EACAlzD,EAAIkzD,IAAIv3D,UAERwkE,EAAU,QACVxmC,EAAU5d,OAAO4d,EAAU//B,QAAQ,QAAS,IAUzC,CACL8K,KAAM,EACNjI,KAAM0jE,EACNnG,IAAKzgE,GAAS,CACZmL,KAAM,EACNw5C,QAAS3kD,EAAM2kD,QACfkZ,UAAU,EAGVC,UAAW,EACXnE,IAAK35D,EAAM25D,KAEblzD,MACA25B,YACAu5B,MAEJ,CAIA,OAHKnnB,EAAQoxB,QAAUvhD,GAAWnf,EAAM,OACtCghE,GAAU1xB,EAAS,IAEd,CACLrnC,KAAM,EACNjI,OACAlD,MAAOA,GAAS,CACdmL,KAAM,EACNw5C,QAAS3kD,EAAM2kD,QACfgV,IAAK35D,EAAM25D,KAEbA,MAEJ,CACA,SAAS8M,GAAoBj0B,GAC3B,MAAMvtB,EAAQq+C,GAAU9wB,GACxB,IAAImS,EACJ,MAAMwiB,EAAQ30B,EAAQpwC,OAAO,GACvB6kE,EAAsB,MAAXE,GAA4B,MAAXA,EAClC,GAAIF,EAAU,CACZ3C,GAAU9xB,EAAS,GACnB,MAAM40B,EAAW50B,EAAQpwC,OAAO/B,QAAQ8mE,IACtB,IAAdC,EACFziB,EAAU0iB,GACR70B,EACAA,EAAQpwC,OAAOlC,OACf,IAGFykD,EAAU0iB,GAAc70B,EAAS40B,EAAU,GAC3C9C,GAAU9xB,EAAS,GAEvB,KAAO,CACL,MAAM1sC,EAAQ,kBAAkBkC,KAAKwqC,EAAQpwC,QAC7C,IAAK0D,EACH,OAEF,MAAMwhE,EAAkB,WACxB,IAAInjE,EACJ,MAAOA,EAAImjE,EAAgBt/D,KAAKlC,EAAM,IACpCo+D,GACE1xB,EACA,GACAruC,EAAEhE,OAGNwkD,EAAU0iB,GAAc70B,EAAS1sC,EAAM,GAAG5F,OAAQ,EACpD,CACA,MAAO,CAAEykD,UAASsiB,WAAUtN,IAAK6J,GAAahxB,EAASvtB,GACzD,CACA,SAASg/C,GAAmBzxB,EAAS/iC,GACnC,MAAO83D,EAAMC,GAASh1B,EAAQxvC,QAAQ6jD,WAChCue,EAAa5yB,EAAQpwC,OAAO/B,QAAQmnE,EAAOD,EAAKrnE,QACtD,IAAoB,IAAhBklE,EAEF,YADAlB,GAAU1xB,EAAS,IAGrB,MAAMvtB,EAAQq+C,GAAU9wB,GACxB8xB,GAAU9xB,EAAS+0B,EAAKrnE,QACxB,MAAMunE,EAAanE,GAAU9wB,GACvBk1B,EAAWpE,GAAU9wB,GACrBm1B,EAAmBvC,EAAamC,EAAKrnE,OACrC0nE,EAAap1B,EAAQpwC,OAAOlB,MAAM,EAAGymE,GACrCE,EAAiBR,GAAc70B,EAASm1B,EAAkBl4D,GAC1Dk1C,EAAUkjB,EAAexhD,OACzBwgD,EAAcgB,EAAexnE,QAAQskD,GACvCkiB,EAAc,GAChB1G,GAA4BsH,EAAYG,EAAYf,GAEtD,MAAMiB,EAAYH,GAAoBE,EAAe3nE,OAASykD,EAAQzkD,OAAS2mE,GAG/E,OAFA1G,GAA4BuH,EAAUE,EAAYE,GAClDxD,GAAU9xB,EAASg1B,EAAMtnE,QAClB,CACLiL,KAAM,EACNw5C,QAAS,CACPx5C,KAAM,EACN0yD,UAAU,EAEVC,UAAW,EACXnZ,UACAgV,IAAK6J,GAAahxB,EAASi1B,EAAYC,IAEzC/N,IAAK6J,GAAahxB,EAASvtB,GAE/B,CACA,SAAS2/C,GAAUpyB,EAAS/iC,GAC1B,MAAMs4D,EAAqB,IAATt4D,EAAa,CAAC,OAAS,CAAC,IAAK+iC,EAAQxvC,QAAQ6jD,WAAW,IAC1E,IAAIugB,EAAW50B,EAAQpwC,OAAOlC,OAC9B,IAAK,IAAIsC,EAAI,EAAGA,EAAIulE,EAAU7nE,OAAQsC,IAAK,CACzC,MAAMrC,EAAQqyC,EAAQpwC,OAAO/B,QAAQ0nE,EAAUvlE,GAAI,IACpC,IAAXrC,GAAgBinE,EAAWjnE,IAC7BinE,EAAWjnE,EAEf,CACA,MAAM8kB,EAAQq+C,GAAU9wB,GAClBmS,EAAU0iB,GAAc70B,EAAS40B,EAAU33D,GACjD,MAAO,CACLtE,KAAM,EACNw5C,UACAgV,IAAK6J,GAAahxB,EAASvtB,GAE/B,CACA,SAASoiD,GAAc70B,EAAStyC,EAAQuP,GACtC,MAAMuzD,EAAUxwB,EAAQpwC,OAAOlB,MAAM,EAAGhB,GAExC,OADAokE,GAAU9xB,EAAStyC,GACN,IAATuP,GAAuB,IAATA,GAAeuzD,EAAQ5iE,SAAS,KAGzCoyC,EAAQxvC,QAAQ+/D,eACrBC,EACS,IAATvzD,GAJKuzD,CAOX,CACA,SAASM,GAAU9wB,GACjB,MAAM,OAAEiqB,EAAM,KAAEj3C,EAAI,OAAEk3C,GAAWlqB,EACjC,MAAO,CAAEiqB,SAAQj3C,OAAMk3C,SACzB,CACA,SAAS8G,GAAahxB,EAASvtB,EAAOC,GAEpC,OADAA,EAAMA,GAAOo+C,GAAU9wB,GAChB,CACLvtB,QACAC,MACA9iB,OAAQowC,EAAQkxB,eAAexiE,MAAM+jB,EAAMy3C,OAAQx3C,EAAIw3C,QAE3D,CACA,SAASzoD,GAAK+zD,GACZ,OAAOA,EAAGA,EAAG9nE,OAAS,EACxB,CACA,SAASmiB,GAAWjgB,EAAQ6lE,GAC1B,OAAO7lE,EAAOigB,WAAW4lD,EAC3B,CACA,SAAS3D,GAAU9xB,EAAS0tB,GAC1B,MAAM,OAAE99D,GAAWowC,EACnB2tB,GAA4B3tB,EAASpwC,EAAQ89D,GAC7C1tB,EAAQpwC,OAASA,EAAOlB,MAAMg/D,EAChC,CACA,SAAS8F,GAAcxzB,GACrB,MAAM1sC,EAAQ,gBAAgBkC,KAAKwqC,EAAQpwC,QACvC0D,GACFw+D,GAAU9xB,EAAS1sC,EAAM,GAAG5F,OAEhC,CACA,SAAS8mE,GAAex0B,EAASvtB,EAAOi7C,GACtC,OAAOF,GACL/6C,EACAutB,EAAQkxB,eAAexiE,MAAM+jB,EAAMy3C,OAAQwD,GAC3CA,EAEJ,CACA,SAASgE,GAAU1xB,EAASknB,EAAMgD,EAAQ/C,EAAM2J,GAAU9wB,IACpDkqB,IACF/C,EAAI+C,QAAUA,EACd/C,EAAI8C,QAAUC,GAEhBlqB,EAAQxvC,QAAQsiC,QACdm0B,GAAoBC,EAAM,CACxBz0C,MAAO00C,EACPz0C,IAAKy0C,EACLv3D,OAAQ,KAGd,CACA,SAAS4hE,GAAMxxB,EAAS/iC,EAAMo0D,GAC5B,MAAM5/D,EAAIuuC,EAAQpwC,OAClB,OAAQqN,GACN,KAAK,EACH,GAAI4S,GAAWpe,EAAG,MAChB,IAAK,IAAIzB,EAAIqhE,EAAU3jE,OAAS,EAAGsC,GAAK,IAAKA,EAC3C,GAAIsjE,GAAqB7hE,EAAG4/D,EAAUrhE,GAAGZ,KACvC,OAAO,EAIb,MACF,KAAK,EACL,KAAK,EAAG,CACN,MAAM2R,EAASU,GAAK4vD,GACpB,GAAItwD,GAAUuyD,GAAqB7hE,EAAGsP,EAAO3R,KAC3C,OAAO,EAET,KACF,CACA,KAAK,EACH,GAAIygB,GAAWpe,EAAG,OAChB,OAAO,EAET,MAEJ,OAAQA,CACV,CACA,SAAS6hE,GAAqB1jE,EAAQR,GACpC,OAAOygB,GAAWjgB,EAAQ,OAASA,EAAOlB,MAAM,EAAG,EAAIU,EAAI1B,QAAQ+L,gBAAkBrK,EAAIqK,eAAiB,gBAAgBpF,KAAKzE,EAAO,EAAIR,EAAI1B,SAAW,IAC3J,CAEA,SAASgoE,GAAY7pE,EAAMm0C,GACzB21B,GACE9pE,EACAm0C,EAGA41B,GAAoB/pE,EAAMA,EAAKi5B,SAAS,IAE5C,CACA,SAAS8wC,GAAoB/pE,EAAMm5B,GACjC,MAAM,SAAEF,GAAaj5B,EACrB,OAA2B,IAApBi5B,EAASp3B,QAA+B,IAAfs3B,EAAMrsB,OAAe+1D,GAAa1pC,EACpE,CACA,SAAS2wC,GAAKrrC,EAAM0V,EAAS61B,GAAiB,GAC5C,MAAM,SAAE/wC,GAAawF,EACfwrC,EAAgBhxC,EAASp3B,OAC/B,IAAIqoE,EAAe,EACnB,IAAK,IAAI/lE,EAAI,EAAGA,EAAI80B,EAASp3B,OAAQsC,IAAK,CACxC,MAAMg1B,EAAQF,EAAS90B,GACvB,GAAmB,IAAfg1B,EAAMrsB,MAAgC,IAAlBqsB,EAAMypC,QAAe,CAC3C,MAAMuH,EAAeH,EAAiB,EAAII,GAAgBjxC,EAAOgb,GACjE,GAAIg2B,EAAe,GACjB,GAAIA,GAAgB,EAAG,CACrBhxC,EAAMulC,YAAY5kC,UAAY,KAC9BX,EAAMulC,YAAcvqB,EAAQk2B,MAAMlxC,EAAMulC,aACxCwL,IACA,QACF,MACK,CACL,MAAMxL,EAAcvlC,EAAMulC,YAC1B,GAAyB,KAArBA,EAAY5xD,KAAa,CAC3B,MAAMs5C,EAAOkkB,GAAa5L,GAC1B,KAAMtY,GAAiB,MAATA,GAAyB,IAATA,IAAemkB,GAA8BpxC,EAAOgb,IAAY,EAAG,CAC/F,MAAMhsB,EAAQqiD,GAAarxC,GACvBhR,IACFu2C,EAAYv2C,MAAQgsB,EAAQk2B,MAAMliD,GAEtC,CACIu2C,EAAYxkC,eACdwkC,EAAYxkC,aAAeia,EAAQk2B,MAAM3L,EAAYxkC,cAEzD,CACF,CACF,CACA,GAAmB,IAAff,EAAMrsB,KAAY,CACpB,MAAM+xD,EAAgC,IAAlB1lC,EAAMypC,QACtB/D,GACF1qB,EAAQh/B,OAAOs1D,QAEjBX,GAAK3wC,EAAOgb,GACR0qB,GACF1qB,EAAQh/B,OAAOs1D,OAEnB,MAAO,GAAmB,KAAftxC,EAAMrsB,KACfg9D,GAAK3wC,EAAOgb,EAAmC,IAA1Bhb,EAAMF,SAASp3B,aAC/B,GAAmB,IAAfs3B,EAAMrsB,KACf,IAAK,IAAI49D,EAAK,EAAGA,EAAKvxC,EAAMwxC,SAAS9oE,OAAQ6oE,IAC3CZ,GACE3wC,EAAMwxC,SAASD,GACfv2B,EACuC,IAAvChb,EAAMwxC,SAASD,GAAIzxC,SAASp3B,OAIpC,CACIqoE,GAAgB/1B,EAAQy2B,gBAC1Bz2B,EAAQy2B,eAAe3xC,EAAUkb,EAAS1V,GAExCyrC,GAAgBA,IAAiBD,GAA+B,IAAdxrC,EAAK3xB,MAA+B,IAAjB2xB,EAAKmkC,SAAiBnkC,EAAKigC,aAAyC,KAA1BjgC,EAAKigC,YAAY5xD,OAAe5K,EAAAA,EAAAA,IAAQu8B,EAAKigC,YAAYzlC,YAC1KwF,EAAKigC,YAAYzlC,SAAWkb,EAAQk2B,MAClCnL,GAAsBzgC,EAAKigC,YAAYzlC,WAG7C,CACA,SAASmxC,GAAgB3rC,EAAM0V,GAC7B,MAAM,cAAE02B,GAAkB12B,EAC1B,OAAQ1V,EAAK3xB,MACX,KAAK,EACH,GAAqB,IAAjB2xB,EAAKmkC,QACP,OAAO,EAET,MAAMtsC,EAASu0C,EAAc1lE,IAAIs5B,GACjC,QAAe,IAAXnI,EACF,OAAOA,EAET,MAAMooC,EAAcjgC,EAAKigC,YACzB,GAAyB,KAArBA,EAAY5xD,KACd,OAAO,EAET,GAAI4xD,EAAYE,SAAwB,QAAbngC,EAAKl7B,KAA8B,kBAAbk7B,EAAKl7B,IACpD,OAAO,EAET,MAAM6iD,EAAOkkB,GAAa5L,GAC1B,GAAKtY,EAsDH,OADAykB,EAAc3+D,IAAIuyB,EAAM,GACjB,EAtDE,CACT,IAAIqsC,EAAc,EAClB,MAAMC,EAAqBR,GAA8B9rC,EAAM0V,GAC/D,GAA2B,IAAvB42B,EAEF,OADAF,EAAc3+D,IAAIuyB,EAAM,GACjB,EAELssC,EAAqBD,IACvBA,EAAcC,GAEhB,IAAK,IAAI5mE,EAAI,EAAGA,EAAIs6B,EAAKxF,SAASp3B,OAAQsC,IAAK,CAC7C,MAAM6mE,EAAYZ,GAAgB3rC,EAAKxF,SAAS90B,GAAIgwC,GACpD,GAAkB,IAAd62B,EAEF,OADAH,EAAc3+D,IAAIuyB,EAAM,GACjB,EAELusC,EAAYF,IACdA,EAAcE,EAElB,CACA,GAAIF,EAAc,EAChB,IAAK,IAAI3mE,EAAI,EAAGA,EAAIs6B,EAAKtW,MAAMtmB,OAAQsC,IAAK,CAC1C,MAAMqnB,EAAIiT,EAAKtW,MAAMhkB,GACrB,GAAe,IAAXqnB,EAAE1e,MAAyB,SAAX0e,EAAE3mB,MAAmB2mB,EAAE42C,IAAK,CAC9C,MAAM6I,EAAUb,GAAgB5+C,EAAE42C,IAAKjuB,GACvC,GAAgB,IAAZ82B,EAEF,OADAJ,EAAc3+D,IAAIuyB,EAAM,GACjB,EAELwsC,EAAUH,IACZA,EAAcG,EAElB,CACF,CAEF,GAAIvM,EAAYE,QAAS,CACvB,IAAK,IAAIz6D,EAAI,EAAGA,EAAIs6B,EAAKtW,MAAMtmB,OAAQsC,IAAK,CAC1C,MAAMqnB,EAAIiT,EAAKtW,MAAMhkB,GACrB,GAAe,IAAXqnB,EAAE1e,KAEJ,OADA+9D,EAAc3+D,IAAIuyB,EAAM,GACjB,CAEX,CACA0V,EAAQqsB,aAAa1E,IACrB3nB,EAAQqsB,aACNzB,GAAoB5qB,EAAQ6qB,MAAON,EAAYG,cAEjDH,EAAYE,SAAU,EACtBzqB,EAAQ2qB,OAAOG,GAAe9qB,EAAQ6qB,MAAON,EAAYG,aAC3D,CAEA,OADAgM,EAAc3+D,IAAIuyB,EAAMqsC,GACjBA,CACT,CAIF,KAAK,EACL,KAAK,EACH,OAAO,EACT,KAAK,EACL,KAAK,GACL,KAAK,GACH,OAAO,EACT,KAAK,EACL,KAAK,GACH,OAAOV,GAAgB3rC,EAAK6nB,QAASnS,GACvC,KAAK,EACH,OAAO1V,EAAKghC,UACd,KAAK,EACH,IAAIyL,EAAa,EACjB,IAAK,IAAI/mE,EAAI,EAAGA,EAAIs6B,EAAKxF,SAASp3B,OAAQsC,IAAK,CAC7C,MAAMg1B,EAAQsF,EAAKxF,SAAS90B,GAC5B,IAAIqgB,EAAAA,EAAAA,IAAS2U,KAAUlnB,EAAAA,EAAAA,IAASknB,GAC9B,SAEF,MAAM6xC,EAAYZ,GAAgBjxC,EAAOgb,GACzC,GAAkB,IAAd62B,EACF,OAAO,EACEA,EAAYE,IACrBA,EAAaF,EAEjB,CACA,OAAOE,EACT,QAEE,OAAO,EAEb,CACA,MAAMC,GAAwC,IAAI70D,IAAI,CACpD0mD,GACAC,GACAC,GACAC,KAEF,SAASiO,GAA4BzpE,EAAOwyC,GAC1C,GAAmB,KAAfxyC,EAAMmL,QAAgB0X,EAAAA,EAAAA,IAAS7iB,EAAM8B,SAAW0nE,GAAsBh/D,IAAIxK,EAAM8B,QAAS,CAC3F,MAAM2E,EAAMzG,EAAMyB,UAAU,GAC5B,GAAiB,IAAbgF,EAAI0E,KACN,OAAOs9D,GAAgBhiE,EAAK+rC,GACvB,GAAiB,KAAb/rC,EAAI0E,KACb,OAAOs+D,GAA4BhjE,EAAK+rC,EAE5C,CACA,OAAO,CACT,CACA,SAASo2B,GAA8B9rC,EAAM0V,GAC3C,IAAI+2B,EAAa,EACjB,MAAM/iD,EAAQqiD,GAAa/rC,GAC3B,GAAItW,GAAwB,KAAfA,EAAMrb,KAAa,CAC9B,MAAM,WAAEuyD,GAAel3C,EACvB,IAAK,IAAIhkB,EAAI,EAAGA,EAAIk7D,EAAWx9D,OAAQsC,IAAK,CAC1C,MAAM,IAAEb,EAAG,MAAE3B,GAAU09D,EAAWl7D,GAC5BknE,EAAUjB,GAAgB9mE,EAAK6wC,GACrC,GAAgB,IAAZk3B,EACF,OAAOA,EAKT,IAAIC,EAQJ,GAXID,EAAUH,IACZA,EAAaG,GAIbC,EADiB,IAAf3pE,EAAMmL,KACIs9D,GAAgBzoE,EAAOwyC,GACX,KAAfxyC,EAAMmL,KACHs+D,GAA4BzpE,EAAOwyC,GAEnC,EAEI,IAAdm3B,EACF,OAAOA,EAELA,EAAYJ,IACdA,EAAaI,EAEjB,CACF,CACA,OAAOJ,CACT,CACA,SAASV,GAAa/rC,GACpB,MAAMigC,EAAcjgC,EAAKigC,YACzB,GAAyB,KAArBA,EAAY5xD,KACd,OAAO4xD,EAAYv2C,KAEvB,CACA,SAASmiD,GAAa7rC,GACpB,MAAM2nB,EAAO3nB,EAAK3E,UAClB,OAAOssB,EAAOthC,SAASshC,EAAM,SAAM,CACrC,CAEA,SAASmlB,GAAuBvrE,GAAM,SACpCwrE,EAAW,GAAE,kBACbC,GAAoB,EACpB5B,YAAa6B,GAAe,EAAK,cACjCC,GAAgB,EAAK,eACrBC,EAAiB,GAAE,oBACnBC,EAAsB,CAAC,EAAC,eACxBjB,EAAiB,KAAI,mBACrB7C,EAAqB3kD,EAAAA,GAAI,gBACzBmlC,EAAkBnlC,EAAAA,GAAI,kBACtB0oD,EAAoB,GAAE,QACtBh/B,EAAU,KAAI,QACdi/B,GAAU,EAAI,IACdzL,GAAM,EAAK,MACXtB,GAAQ,EAAK,WACbgN,EAAc,GAAC,gBACfC,EAAkBvoD,EAAAA,GAAS,OAC3BwoD,GAAS,EAAK,KACdC,GAAO,EAAK,QACZllC,EAAUi0B,GAAc,OACxB2J,EAAS1J,GAAa,aACtByI,IAEA,MAAMwI,EAAYZ,EAAStjE,QAAQ,QAAS,IAAIT,MAAM,mBAChD0sC,EAAU,CAEdnI,SAAUogC,IAAa1mD,EAAAA,EAAAA,KAAWL,EAAAA,EAAAA,IAAS+mD,EAAU,KACrDX,oBACA5B,YAAa6B,EACbC,gBACAC,iBACAC,sBACAjB,iBACA7C,qBACAxf,kBACAujB,oBACAh/B,UACAi/B,UACAzL,MACAtB,QACAgN,aACAC,kBACAC,SACAC,OACAllC,UACA49B,SACAjB,eAEA5jE,OACAk+D,QAAyB,IAAI3lD,IAC7Bq5B,WAA4B,IAAIt7B,IAChCorB,WAA4B,IAAIprB,IAChCioD,OAAQ,GACRC,QAAS,GACTqM,cAA+B,IAAItyD,IACnCkmD,MAAO,EACPnoC,OAAQ,EACR+1C,YAA6BjqE,OAAOohB,OAAO,MAC3CrO,OAAQ,CACNm3D,KAAM,EACN7B,MAAO,EACP8B,KAAM,EACNC,MAAO,GAETt3D,OAAQ,KACRu3D,YAAazsE,EACb0sE,WAAY,EACZC,SAAS,EAET7N,OAAOj6D,GACL,MAAMoiB,EAAQktB,EAAQ+pB,QAAQ/4D,IAAIN,IAAS,EAE3C,OADAsvC,EAAQ+pB,QAAQhyD,IAAIrH,EAAMoiB,EAAQ,GAC3BpiB,CACT,EACA27D,aAAa37D,GACX,MAAMoiB,EAAQktB,EAAQ+pB,QAAQ/4D,IAAIN,GAClC,GAAIoiB,EAAO,CACT,MAAM2lD,EAAe3lD,EAAQ,EACxB2lD,EAGHz4B,EAAQ+pB,QAAQhyD,IAAIrH,EAAM+nE,GAF1Bz4B,EAAQ+pB,QAAQnnD,OAAOlS,EAI3B,CACF,EACAgoE,aAAahoE,GACX,MAAQ,IAAGm5D,GAAc7pB,EAAQ2qB,OAAOj6D,KAC1C,EACAioE,YAAYruC,GASV0V,EAAQj/B,OAAO+jB,SAASkb,EAAQu4B,YAAcv4B,EAAQs4B,YAAchuC,CACtE,EACAsuC,WAAWtuC,GAIT,MAAMhb,EAAO0wB,EAAQj/B,OAAO+jB,SACtB+zC,EAAevuC,EAAOhb,EAAKzhB,QAAQy8B,GAAQ0V,EAAQs4B,YAAct4B,EAAQu4B,YAAc,EAIxFjuC,GAAQA,IAAS0V,EAAQs4B,YAIxBt4B,EAAQu4B,WAAaM,IACvB74B,EAAQu4B,aACRv4B,EAAQ84B,kBALV94B,EAAQs4B,YAAc,KACtBt4B,EAAQ84B,iBAOV94B,EAAQj/B,OAAO+jB,SAAS9U,OAAO6oD,EAAc,EAC/C,EACAC,cAAeA,OAEfC,eAAe9K,GACf,EACA+K,kBAAkB/K,GAClB,EACAiI,MAAMjI,IACA59C,EAAAA,EAAAA,IAAS49C,KACXA,EAAM7C,GAAuB6C,IAC/BjuB,EAAQoqB,OAAOruD,KAAKkyD,GACpB,MAAMgL,EAAa7N,GAChB,YAAWprB,EAAQoqB,OAAO18D,UAC3B,EACAugE,EAAI9G,IACJ,GAGF,OADA8R,EAAWC,QAAUjL,EACdgL,CACT,EACAloD,MAAMk9C,EAAKhpC,GAAU,GACnB,OAAOgnC,GAAsBjsB,EAAQ7d,SAAU8rC,EAAKhpC,EACtD,GAKF,OAFE+a,EAAQtC,QAA0B,IAAIv7B,IAEjC69B,CACT,CACA,SAASqhB,GAAUx1D,EAAM2E,GACvB,MAAMwvC,EAAUo3B,GAAuBvrE,EAAM2E,GAC7C2oE,GAAattE,EAAMm0C,GACfxvC,EAAQklE,aACVA,GAAY7pE,EAAMm0C,GAEfxvC,EAAQ27D,KACXiN,GAAkBvtE,EAAMm0C,GAE1Bn0C,EAAKk+D,QAA0B,IAAI5nD,IAAI,IAAI69B,EAAQ+pB,QAAQj6D,SAC3DjE,EAAK4xC,WAAa,IAAIuC,EAAQvC,YAC9B5xC,EAAK0hC,WAAa,IAAIyS,EAAQzS,YAC9B1hC,EAAKw+D,QAAUrqB,EAAQqqB,QACvBx+D,EAAKu+D,OAASpqB,EAAQoqB,OACtBv+D,EAAKy+D,MAAQtqB,EAAQsqB,MACrBz+D,EAAKs2B,OAAS6d,EAAQ7d,OAEpBt2B,EAAK6xC,QAAU,IAAIsC,EAAQtC,QAE/B,CACA,SAAS07B,GAAkBvtE,EAAMm0C,GAC/B,MAAM,OAAE2qB,GAAW3qB,GACb,SAAElb,GAAaj5B,EACrB,GAAwB,IAApBi5B,EAASp3B,OAAc,CACzB,MAAMs3B,EAAQF,EAAS,GACvB,GAAI8wC,GAAoB/pE,EAAMm5B,IAAUA,EAAMulC,YAAa,CACzD,MAAMA,EAAcvlC,EAAMulC,YACD,KAArBA,EAAY5xD,MACdyzD,GAAe7B,EAAavqB,GAE9Bn0C,EAAK0+D,YAAcA,CACrB,MACE1+D,EAAK0+D,YAAcvlC,CAEvB,MAAO,GAAIF,EAASp3B,OAAS,EAAG,CAC9B,IAAIi4B,EAAY,GACIvT,EAAAA,EAAe,IAC/B,EAIJvmB,EAAK0+D,YAAcC,GACjBxqB,EACA2qB,EAAOrD,SACP,EACAz7D,EAAKi5B,SACLa,EAAsF,QACtF,OACA,GACA,OACA,GACA,EAGJ,CACF,CACA,SAAS0zC,GAAiBt4D,EAAQi/B,GAChC,IAAIhwC,EAAI,EACR,MAAMspE,EAAcA,KAClBtpE,GAAG,EAEL,KAAOA,EAAI+Q,EAAO+jB,SAASp3B,OAAQsC,IAAK,CACtC,MAAMg1B,EAAQjkB,EAAO+jB,SAAS90B,IAC1BqgB,EAAAA,EAAAA,IAAS2U,KAEbgb,EAAQj/B,OAASA,EACjBi/B,EAAQu4B,WAAavoE,EACrBgwC,EAAQ84B,cAAgBQ,EACxBH,GAAan0C,EAAOgb,GACtB,CACF,CACA,SAASm5B,GAAa7uC,EAAM0V,GAC1BA,EAAQs4B,YAAchuC,EACtB,MAAM,eAAEmtC,GAAmBz3B,EACrBu5B,EAAU,GAChB,IAAK,IAAIhD,EAAK,EAAGA,EAAKkB,EAAe/pE,OAAQ6oE,IAAM,CACjD,MAAMiD,EAAS/B,EAAelB,GAAIjsC,EAAM0V,GAQxC,GAPIw5B,KACEzrE,EAAAA,EAAAA,IAAQyrE,GACVD,EAAQx9D,QAAQy9D,GAEhBD,EAAQx9D,KAAKy9D,KAGZx5B,EAAQs4B,YACX,OAEAhuC,EAAO0V,EAAQs4B,WAEnB,CACA,OAAQhuC,EAAK3xB,MACX,KAAK,EACEqnC,EAAQmsB,KACXnsB,EAAQ2qB,OAAO3C,IAEjB,MACF,KAAK,EACEhoB,EAAQmsB,KACXnsB,EAAQ2qB,OAAOhC,IAEjB,MACF,KAAK,EACH,IAAK,IAAI4N,EAAK,EAAGA,EAAKjsC,EAAKksC,SAAS9oE,OAAQ6oE,IAC1C4C,GAAa7uC,EAAKksC,SAASD,GAAKv2B,GAElC,MACF,KAAK,GACL,KAAK,GACL,KAAK,EACL,KAAK,EACHq5B,GAAiB/uC,EAAM0V,GACvB,MAEJA,EAAQs4B,YAAchuC,EACtB,IAAIt6B,EAAIupE,EAAQ7rE,OAChB,MAAOsC,IACLupE,EAAQvpE,IAEZ,CACA,SAASypE,GAAmC/oE,EAAM4F,GAChD,MAAMg/B,GAAUjlB,EAAAA,EAAAA,IAAS3f,GAASmK,GAAMA,IAAMnK,EAAQmK,GAAMnK,EAAK2D,KAAKwG,GACtE,MAAO,CAACyvB,EAAM0V,KACZ,GAAkB,IAAd1V,EAAK3xB,KAAY,CACnB,MAAM,MAAEqb,GAAUsW,EAClB,GAAqB,IAAjBA,EAAKmkC,SAAiBz6C,EAAMwQ,KAAK+pC,IACnC,OAEF,MAAMgL,EAAU,GAChB,IAAK,IAAIvpE,EAAI,EAAGA,EAAIgkB,EAAMtmB,OAAQsC,IAAK,CACrC,MAAM6yC,EAAO7uB,EAAMhkB,GACnB,GAAkB,IAAd6yC,EAAKlqC,MAAc28B,EAAQuN,EAAKnyC,MAAO,CACzCsjB,EAAMhE,OAAOhgB,EAAG,GAChBA,IACA,MAAMwpE,EAASljE,EAAGg0B,EAAMuY,EAAM7C,GAC1Bw5B,GACFD,EAAQx9D,KAAKy9D,EACjB,CACF,CACA,OAAOD,CACT,EAEJ,CAEA,MAAMG,GAAmB,gBACnBC,GAAeloE,GAAO,GAAEo4D,GAAcp4D,QAAQo4D,GAAcp4D,KAClE,SAASmoE,GAAqBC,GAAK,KACjC58D,EAAO,WAAU,kBACjBq6D,EAA6B,WAATr6D,EAAiB,UACrC68D,GAAY,EAAK,SACjBzC,EAAY,oBAAkB,QAC9B1+B,EAAU,KAAI,gBACdohC,GAAkB,EAAK,kBACvBC,EAAqB,MAAI,kBACzBC,EAAqB,MAAI,qBACzBC,EAAuB,sBAAqB,IAC5C/N,GAAM,EAAK,KACX6L,GAAO,EAAK,MACZnN,GAAQ,IAER,MAAM7qB,EAAU,CACd/iC,OACAq6D,oBACAwC,YACAzC,WACA1+B,UACAohC,kBACAC,oBACAC,oBACAC,uBACA/N,MACA6L,OACAnN,QACAj7D,OAAQiqE,EAAI1S,IAAIv3D,OAChBs3D,KAAO,GACP+C,OAAQ,EACRj3C,KAAM,EACNk3C,OAAQ,EACRiQ,YAAa,EACbC,MAAM,EACNr0D,SAAK,EACL4kD,OAAOx7D,GACL,MAAQ,IAAG06D,GAAc16D,IAC3B,EACA4M,KAAKmrD,EAAM58B,GACT0V,EAAQknB,MAAQA,CAClB,EACAmT,SACEzO,IAAU5rB,EAAQm6B,YACpB,EACAG,SAASC,GAAiB,GACpBA,IACAv6B,EAAQm6B,YAEVvO,IAAU5rB,EAAQm6B,YAEtB,EACAvO,UACEA,EAAQ5rB,EAAQm6B,YAClB,GAEF,SAASvO,EAAQ/wD,GACfmlC,EAAQjkC,KAAK,KAAQ,KAAIkX,OAAOpY,GAClC,CACA,OAAOmlC,CACT,CACA,SAASw6B,GAASX,EAAKrpE,EAAU,CAAC,GAChC,MAAMwvC,EAAU45B,GAAqBC,EAAKrpE,GACtCA,EAAQiqE,kBACVjqE,EAAQiqE,iBAAiBz6B,GAC3B,MAAM,KACJ/iC,EAAI,KACJlB,EAAI,kBACJu7D,EAAiB,OACjB+C,EAAM,SACNC,EAAQ,QACR1O,EAAO,QACPjzB,EAAO,IACPwzB,GACEnsB,EACE+pB,EAAUhxD,MAAMyf,KAAKqhD,EAAI9P,SACzB2Q,EAAa3Q,EAAQr8D,OAAS,EAC9BitE,GAAgBrD,GAA8B,WAATr6D,EACrC29D,GAAiB,EACjBC,EAAkBD,EAAiBhB,GAAqBC,EAAKrpE,GAAWwvC,EAE5E86B,GAAoBjB,EAAKgB,GAE3B,MAAME,EAAe5O,EAAO,YAAc,SACpC3lD,EAAO2lD,EAAM,CAAC,OAAQ,QAAS,UAAW,UAAY,CAAC,OAAQ,UAC/D6O,EAAYx0D,EAAKrM,KAAK,MAgC5B,GA9BE4B,EAAM,YAAWg/D,KAAgBC,QAEnCX,IACIM,IACF5+D,EAAM,iBACNs+D,IACIK,IACF3+D,EAAM,WAAUguD,EAAQhkD,IAAI4zD,IAAax/D,KAAK,kBAC9C4B,EAAM,MAEN6vD,MAGAiO,EAAIp8B,WAAW/vC,SACjButE,GAAUpB,EAAIp8B,WAAY,YAAauC,IACnC65B,EAAItsC,WAAW7/B,QAAUmsE,EAAIvP,MAAQ,IACvCsB,KAGAiO,EAAItsC,WAAW7/B,SACjButE,GAAUpB,EAAItsC,WAAY,YAAayS,GACnC65B,EAAIvP,MAAQ,GACdsB,KAGAiO,EAAIn8B,SAAWm8B,EAAIn8B,QAAQhwC,SAC7Bk+D,IACAqP,GAAUpB,EAAIn8B,QAAS,SAAUsC,GACjC4rB,KAEEiO,EAAIvP,MAAQ,EAAG,CACjBvuD,EAAM,QACN,IAAK,IAAI/L,EAAI,EAAGA,EAAI6pE,EAAIvP,MAAOt6D,IAC7B+L,EAAM,GAAE/L,EAAI,EAAK,KAAO,UAASA,IAErC,CAoBA,OAnBI6pE,EAAIp8B,WAAW/vC,QAAUmsE,EAAItsC,WAAW7/B,QAAUmsE,EAAIvP,SACxDvuD,EAAM,MAEN6vD,KAEGO,GACHpwD,EAAM,WAEJ89D,EAAItP,YACN2Q,GAAQrB,EAAItP,YAAavqB,GAEzBjkC,EAAM,QAEJ4+D,IACFL,IACAv+D,EAAM,MAERu+D,IACAv+D,EAAM,KACC,CACL89D,MACA3S,KAAMlnB,EAAQknB,KACdiU,SAAUP,EAAiBC,EAAgB3T,KAAQ,GAEnDnhD,IAAKi6B,EAAQj6B,IAAMi6B,EAAQj6B,IAAIq1D,cAAW,EAE9C,CACA,SAASN,GAAoBjB,EAAK75B,GAChC,MAAM,IACJmsB,EAAG,kBACHmL,EAAiB,KACjBv7D,EAAI,QACJ6vD,EAAO,kBACPqO,EAAiB,kBACjBD,EAAiB,qBACjBE,GACEl6B,EACEq7B,EAAarB,EACbjQ,EAAUhxD,MAAMyf,KAAKqhD,EAAI9P,SAC/B,GAAIA,EAAQr8D,OAAS,IAEjBqO,EAAM,gBAAes/D,OAEjBxB,EAAIzP,OAAO18D,QAAQ,CACrB,MAAM4tE,EAAgB,CACpBxT,GACAC,GACAC,GACAC,GACAC,IACApiD,QAAQ6kD,GAAWZ,EAAQn8D,SAAS+8D,KAAS5kD,IAAI4zD,IAAax/D,KAAK,MACrE4B,EAAM,WAAUu/D,eAElB,CAGJC,GAAU1B,EAAIzP,OAAQpqB,GACtB4rB,IACA7vD,EAAM,UACR,CACA,SAASk/D,GAAUO,EAAQ7iE,GAAM,OAAEgyD,EAAM,KAAE5uD,EAAI,QAAE6vD,EAAO,KAAEoM,IACxD,MAAMyD,EAAW9Q,EACN,WAAThyD,EAAoB2vD,GAA0B,cAAT3vD,EAAuBwvD,GAAoBE,IAElF,IAAK,IAAIr4D,EAAI,EAAGA,EAAIwrE,EAAO9tE,OAAQsC,IAAK,CACtC,IAAIoO,EAAKo9D,EAAOxrE,GAChB,MAAMsnC,EAAqBl5B,EAAG6oC,SAAS,UACnC3P,IACFl5B,EAAKA,EAAG1P,MAAM,GAAI,IAEpBqN,EACG,SAAQqzD,GAAehxD,EAAIzF,QAAW8iE,KAAY9lD,KAAKC,UAAUxX,KAAMk5B,EAAsB,SAAW,MAAK0gC,EAAQ,IAAM,MAE1HhoE,EAAIwrE,EAAO9tE,OAAS,GACtBk+D,GAEJ,CACF,CACA,SAAS2P,GAAUnR,EAAQpqB,GACzB,IAAKoqB,EAAO18D,OACV,OAEFsyC,EAAQo6B,MAAO,EACf,MAAM,KAAEr+D,EAAI,QAAE6vD,EAAO,OAAEjB,EAAM,QAAEhyB,EAAO,KAAE17B,GAAS+iC,EACjD4rB,IACA,IAAK,IAAI57D,EAAI,EAAGA,EAAIo6D,EAAO18D,OAAQsC,IAAK,CACtC,MAAMi+D,EAAM7D,EAAOp6D,GACfi+D,IACFlyD,EACG,kBAAiB/L,EAAI,QAExBkrE,GAAQjN,EAAKjuB,GACb4rB,IAEJ,CACA5rB,EAAQo6B,MAAO,CACjB,CAIA,SAASsB,GAAmBnK,EAAOvxB,GACjC,MAAM27B,EAAapK,EAAM7jE,OAAS,IAAK,EACvCsyC,EAAQjkC,KAAM,KACd4/D,GAAc37B,EAAQq6B,SACtBuB,GAAYrK,EAAOvxB,EAAS27B,GAC5BA,GAAc37B,EAAQs6B,WACtBt6B,EAAQjkC,KAAM,IAChB,CACA,SAAS6/D,GAAYrK,EAAOvxB,EAAS27B,GAAa,EAAOE,GAAQ,GAC/D,MAAM,KAAE9/D,EAAI,QAAE6vD,GAAY5rB,EAC1B,IAAK,IAAIhwC,EAAI,EAAGA,EAAIuhE,EAAM7jE,OAAQsC,IAAK,CACrC,MAAMs6B,EAAOinC,EAAMvhE,IACfqgB,EAAAA,EAAAA,IAASia,GACXvuB,EAAKuuB,IACIv8B,EAAAA,EAAAA,IAAQu8B,GACjBoxC,GAAmBpxC,EAAM0V,GAEzBk7B,GAAQ5wC,EAAM0V,GAEZhwC,EAAIuhE,EAAM7jE,OAAS,IACjBiuE,GACFE,GAAS9/D,EAAK,KACd6vD,KAEAiQ,GAAS9/D,EAAK,MAGpB,CACF,CACA,SAASm/D,GAAQ5wC,EAAM0V,GACrB,IAAI3vB,EAAAA,EAAAA,IAASia,GACX0V,EAAQjkC,KAAKuuB,QAGf,IAAIxsB,EAAAA,EAAAA,IAASwsB,GACX0V,EAAQjkC,KAAKikC,EAAQ2qB,OAAOrgC,SAG9B,OAAQA,EAAK3xB,MACX,KAAK,EACL,KAAK,EACL,KAAK,GAKHuiE,GAAQ5wC,EAAKigC,YAAavqB,GAC1B,MACF,KAAK,EACH87B,GAAQxxC,EAAM0V,GACd,MACF,KAAK,EACH+7B,GAAczxC,EAAM0V,GACpB,MACF,KAAK,EACHg8B,GAAiB1xC,EAAM0V,GACvB,MACF,KAAK,GACHk7B,GAAQ5wC,EAAKigC,YAAavqB,GAC1B,MACF,KAAK,EACHi8B,GAAsB3xC,EAAM0V,GAC5B,MACF,KAAK,EACHk8B,GAAW5xC,EAAM0V,GACjB,MACF,KAAK,GACHm8B,GAAa7xC,EAAM0V,GACnB,MACF,KAAK,GACHo8B,GAAkB9xC,EAAM0V,GACxB,MACF,KAAK,GACHq8B,GAAoB/xC,EAAM0V,GAC1B,MACF,KAAK,GACHs8B,GAAmBhyC,EAAM0V,GACzB,MACF,KAAK,GACHu8B,GAAsBjyC,EAAM0V,GAC5B,MACF,KAAK,GACHw8B,GAAyBlyC,EAAM0V,GAC/B,MACF,KAAK,GACHy8B,GAAmBnyC,EAAM0V,GACzB,MACF,KAAK,GACH47B,GAAYtxC,EAAKo2B,KAAM1gB,GAAS,GAAM,GACtC,MACF,KAAK,GACH,MACF,KAAK,GACH,MACF,KAAK,GACH,MACF,KAAK,GACH,MACF,KAAK,GACH,MACF,KAAK,GACH,MACF,QACM,EAMV,CACA,SAAS87B,GAAQxxC,EAAM0V,GACrBA,EAAQjkC,KAAK4Z,KAAKC,UAAU0U,EAAK6nB,SAAU7nB,EAC7C,CACA,SAASyxC,GAAczxC,EAAM0V,GAC3B,MAAM,QAAEmS,EAAO,SAAEkZ,GAAa/gC,EAC9B0V,EAAQjkC,KAAKsvD,EAAW11C,KAAKC,UAAUu8B,GAAWA,EAAS7nB,EAC7D,CACA,SAAS0xC,GAAiB1xC,EAAM0V,GAC9B,MAAM,KAAEjkC,EAAI,OAAE4uD,EAAM,KAAEyP,GAASp6B,EAC3Bo6B,GACFr+D,EAAK29D,IACP39D,EAAM,GAAE4uD,EAAOhC,QACfuS,GAAQ5wC,EAAK6nB,QAASnS,GACtBjkC,EAAM,IACR,CACA,SAASkgE,GAAsB3xC,EAAM0V,GACnC,IAAK,IAAIhwC,EAAI,EAAGA,EAAIs6B,EAAKxF,SAASp3B,OAAQsC,IAAK,CAC7C,MAAMg1B,EAAQsF,EAAKxF,SAAS90B,IACxBqgB,EAAAA,EAAAA,IAAS2U,GACXgb,EAAQjkC,KAAKipB,GAEbk2C,GAAQl2C,EAAOgb,EAEnB,CACF,CACA,SAAS08B,GAA2BpyC,EAAM0V,GACxC,MAAM,KAAEjkC,GAASikC,EACjB,GAAkB,IAAd1V,EAAK3xB,KACPoD,EAAM,KACNkgE,GAAsB3xC,EAAM0V,GAC5BjkC,EAAM,UACD,GAAIuuB,EAAK+gC,SAAU,CACxB,MAAMrZ,EAAO2a,GAAmBriC,EAAK6nB,SAAW7nB,EAAK6nB,QAAUx8B,KAAKC,UAAU0U,EAAK6nB,SACnFp2C,EAAKi2C,EAAM1nB,EACb,MACEvuB,EAAM,IAAGuuB,EAAK6nB,WAAY7nB,EAE9B,CACA,SAAS4xC,GAAW5xC,EAAM0V,GACxB,MAAM,KAAEjkC,EAAI,OAAE4uD,EAAM,KAAEyP,GAASp6B,EAC3Bo6B,GACFr+D,EAAK29D,IAEP39D,EAAM,GAAE4uD,EAAO3C,OAAmBryC,KAAKC,UAAU0U,EAAK6nB,YAAa7nB,EACrE,CACA,SAAS6xC,GAAa7xC,EAAM0V,GAC1B,MAAM,KAAEjkC,EAAI,OAAE4uD,EAAM,KAAEyP,GAASp6B,GACzB,IACJ5wC,EAAG,MACH4kB,EAAK,SACL8Q,EAAQ,UACRa,EAAS,aACTI,EAAY,WACZwH,EAAU,QACVk9B,EAAO,gBACPja,EAAe,YACfka,GACEpgC,EACAiD,GACFxxB,EAAK4uD,EAAOpC,IAAoB,KAE9BkC,GACF1uD,EAAM,IAAG4uD,EAAOhD,OAAenX,EAAmB,OAAS,SAEzD4pB,GACFr+D,EAAK29D,IAEP,MAAMiD,EAAalS,EAAUG,GAAoB5qB,EAAQ6qB,MAAOH,GAAeI,GAAe9qB,EAAQ6qB,MAAOH,GAC7G3uD,EAAK4uD,EAAOgS,GAAe,IAAIryC,GAC/BsxC,GACEgB,GAAgB,CAACxtE,EAAK4kB,EAAO8Q,EAAUa,EAAWI,IAClDia,GAEFjkC,EAAM,KACF0uD,GACF1uD,EAAM,KAEJwxB,IACFxxB,EAAM,MACNm/D,GAAQ3tC,EAAYyS,GACpBjkC,EAAM,KAEV,CACA,SAAS6gE,GAAgBp2D,GACvB,IAAIxW,EAAIwW,EAAK9Y,OACb,MAAOsC,IACL,GAAe,MAAXwW,EAAKxW,GACP,MAEJ,OAAOwW,EAAK9X,MAAM,EAAGsB,EAAI,GAAG+V,KAAK9R,GAAQA,GAAQ,QACnD,CACA,SAASmoE,GAAkB9xC,EAAM0V,GAC/B,MAAM,KAAEjkC,EAAI,OAAE4uD,EAAM,KAAEyP,GAASp6B,EACzB1wC,GAAS+gB,EAAAA,EAAAA,IAASia,EAAKh7B,QAAUg7B,EAAKh7B,OAASq7D,EAAOrgC,EAAKh7B,QAC7D8qE,GACFr+D,EAAK29D,IAEP39D,EAAKzM,EAAU,IAAIg7B,GACnBsxC,GAAYtxC,EAAKr7B,UAAW+wC,GAC5BjkC,EAAM,IACR,CACA,SAASsgE,GAAoB/xC,EAAM0V,GACjC,MAAM,KAAEjkC,EAAI,OAAEs+D,EAAM,SAAEC,EAAQ,QAAE1O,GAAY5rB,GACtC,WAAEkrB,GAAe5gC,EACvB,IAAK4gC,EAAWx9D,OAEd,YADAqO,EAAM,KAAKuuB,GAGb,MAAMqxC,EAAazQ,EAAWx9D,OAAS,IAAK,EAC5CqO,EAAK4/D,EAAc,IAAM,MACzBA,GAActB,IACd,IAAK,IAAIrqE,EAAI,EAAGA,EAAIk7D,EAAWx9D,OAAQsC,IAAK,CAC1C,MAAM,IAAEb,EAAG,MAAE3B,GAAU09D,EAAWl7D,GAClC0sE,GAA2BvtE,EAAK6wC,GAChCjkC,EAAM,MACNm/D,GAAQ1tE,EAAOwyC,GACXhwC,EAAIk7D,EAAWx9D,OAAS,IAC1BqO,EAAM,KACN6vD,IAEJ,CACA+P,GAAcrB,IACdv+D,EAAK4/D,EAAc,IAAM,KAC3B,CACA,SAASW,GAAmBhyC,EAAM0V,GAChC07B,GAAmBpxC,EAAK0gC,SAAUhrB,EACpC,CACA,SAASu8B,GAAsBjyC,EAAM0V,GACnC,MAAM,KAAEjkC,EAAI,OAAEs+D,EAAM,SAAEC,GAAat6B,GAC7B,OAAE0rB,EAAM,QAAEC,EAAO,KAAEjL,EAAI,QAAEkL,EAAO,OAAEC,GAAWvhC,EAC/CuhC,GACF9vD,EAAM,IAAG8tD,GAAcL,QAEzBztD,EAAM,IAAIuuB,IACNv8B,EAAAA,EAAAA,IAAQ29D,GACVkQ,GAAYlQ,EAAQ1rB,GACX0rB,GACTwP,GAAQxP,EAAQ1rB,GAElBjkC,EAAM,UACF6vD,GAAWlL,KACb3kD,EAAM,KACNs+D,KAEE1O,GACEC,GACF7vD,EAAM,YAEJhO,EAAAA,EAAAA,IAAQ49D,GACV+P,GAAmB/P,EAAS3rB,GAE5Bk7B,GAAQvP,EAAS3rB,IAEV0gB,GACTwa,GAAQxa,EAAM1gB,IAEZ4rB,GAAWlL,KACb4Z,IACAv+D,EAAM,MAEJ8vD,IACEvhC,EAAKlH,iBACPrnB,EAAM,qBAERA,EAAM,KAEV,CACA,SAASygE,GAAyBlyC,EAAM0V,GACtC,MAAM,KAAE3rC,EAAI,WAAE03D,EAAU,UAAEC,EAAWJ,QAASiR,GAAgBvyC,GACxD,KAAEvuB,EAAI,OAAEs+D,EAAM,SAAEC,EAAQ,QAAE1O,GAAY5rB,EAC5C,GAAkB,IAAd3rC,EAAKsE,KAAY,CACnB,MAAMmkE,GAAenQ,GAAmBt4D,EAAK89C,SAC7C2qB,GAAe/gE,EAAM,KACrBggE,GAAc1nE,EAAM2rC,GACpB88B,GAAe/gE,EAAM,IACvB,MACEA,EAAM,KACNm/D,GAAQ7mE,EAAM2rC,GACdjkC,EAAM,KAER8gE,GAAexC,IACfr6B,EAAQm6B,cACR0C,GAAe9gE,EAAM,KACrBA,EAAM,MACNm/D,GAAQnP,EAAY/rB,GACpBA,EAAQm6B,cACR0C,GAAejR,IACfiR,GAAe9gE,EAAM,KACrBA,EAAM,MACN,MAAMghE,EAA8B,KAAnB/Q,EAAUrzD,KACtBokE,GACH/8B,EAAQm6B,cAEVe,GAAQlP,EAAWhsB,GACd+8B,GACH/8B,EAAQm6B,cAEV0C,GAAevC,GACb,EAGJ,CACA,SAASmC,GAAmBnyC,EAAM0V,GAChC,MAAM,KAAEjkC,EAAI,OAAE4uD,EAAM,OAAE0P,EAAM,SAAEC,EAAQ,QAAE1O,GAAY5rB,EACpDjkC,EAAM,UAASuuB,EAAK38B,eAChB28B,EAAKrF,UACPo1C,IACAt+D,EAAM,GAAE4uD,EAAOtB,YACfuC,KAEF7vD,EAAM,UAASuuB,EAAK38B,aACpButE,GAAQ5wC,EAAK98B,MAAOwyC,GAChB1V,EAAKrF,UACPlpB,EAAM,KACN6vD,IACA7vD,EAAM,GAAE4uD,EAAOtB,WACfuC,IACA7vD,EAAM,UAASuuB,EAAK38B,UACpB2sE,KAEFv+D,EAAM,IACR,CAwG4B,IAAIo4B,OAC9B,MAAQ,sMAAsMvgC,MAAM,KAAKuG,KAAK,WAAa,OA0E7O,MAAM6iE,GAAcvD,GAClB,uBACA,CAACnvC,EAAMqD,EAAKqS,IACHi9B,GAAU3yC,EAAMqD,EAAKqS,GAAS,CAACk9B,EAAQ9xC,EAAQ+xC,KACpD,MAAMC,EAAWp9B,EAAQj/B,OAAO+jB,SAChC,IAAI90B,EAAIotE,EAASvvE,QAAQqvE,GACrB/tE,EAAM,EACV,MAAOa,MAAO,EAAG,CACf,MAAMqtE,EAAUD,EAASptE,GACrBqtE,GAA4B,IAAjBA,EAAQ1kE,OACrBxJ,GAAOkuE,EAAQ7G,SAAS9oE,OAE5B,CACA,MAAO,KACL,GAAIyvE,EACFD,EAAO3S,YAAc+S,GACnBlyC,EACAj8B,EACA6wC,OAEG,CACL,MAAMu9B,EAAkBC,GAAmBN,EAAO3S,aAClDgT,EAAgBvR,UAAYsR,GAC1BlyC,EACAj8B,EAAM+tE,EAAO1G,SAAS9oE,OAAS,EAC/BsyC,EAEJ,EACD,MAIP,SAASi9B,GAAU3yC,EAAMqD,EAAKqS,EAASy9B,GACrC,GAAiB,SAAb9vC,EAAIj9B,QAAqBi9B,EAAIsgC,MAAQtgC,EAAIsgC,IAAI9b,QAAQt+B,QAAS,CAChE,MAAMszC,EAAMx5B,EAAIsgC,IAAMtgC,EAAIsgC,IAAI9G,IAAM78B,EAAK68B,IACzCnnB,EAAQlN,QACNm0B,GAAoB,GAAIt5B,EAAIw5B,MAE9Bx5B,EAAIsgC,IAAM7C,GAAwB,QAAO,EAAOjE,EAClD,CAIA,GAAiB,OAAbx5B,EAAIj9B,KAAe,CACrB,MAAM06B,EAASsyC,GAAepzC,EAAMqD,GAC9BuvC,EAAS,CACbvkE,KAAM,EACNwuD,IAAK78B,EAAK68B,IACVqP,SAAU,CAACprC,IAGb,GADA4U,EAAQ24B,YAAYuE,GAChBO,EACF,OAAOA,EAAeP,EAAQ9xC,GAAQ,EAE1C,KAAO,CACL,MAAMgyC,EAAWp9B,EAAQj/B,OAAO+jB,SAEhC,IAAI90B,EAAIotE,EAASvvE,QAAQy8B,GACzB,MAAOt6B,OAAQ,EAAG,CAChB,MAAMqtE,EAAUD,EAASptE,GACzB,GAAIqtE,GAA4B,IAAjBA,EAAQ1kE,KACrBqnC,EAAQ44B,WAAWyE,OADrB,CAKA,IAAIA,GAA4B,IAAjBA,EAAQ1kE,MAAe0kE,EAAQlrB,QAAQt+B,OAAOnmB,OAA7D,CAIA,GAAI2vE,GAA4B,IAAjBA,EAAQ1kE,KAAY,CAChB,YAAbg1B,EAAIj9B,WAAkF,IAA5D2sE,EAAQ7G,SAAS6G,EAAQ7G,SAAS9oE,OAAS,GAAGiwE,WAC1E39B,EAAQlN,QACNm0B,GAAoB,GAAI38B,EAAK68B,MAGjCnnB,EAAQ44B,aACR,MAAMxtC,EAASsyC,GAAepzC,EAAMqD,GAChC,EAmBJ0vC,EAAQ7G,SAASz6D,KAAKqvB,GACtB,MAAMouC,EAASiE,GAAkBA,EAAeJ,EAASjyC,GAAQ,GACjE+tC,GAAa/tC,EAAQ4U,GACjBw5B,GACFA,IACFx5B,EAAQs4B,YAAc,IACxB,MACEt4B,EAAQlN,QACNm0B,GAAoB,GAAI38B,EAAK68B,MAGjC,KAvCA,CAFEnnB,EAAQ44B,WAAWyE,EAFrB,CA4CF,CACF,CACF,CACA,SAASK,GAAepzC,EAAMqD,GAC5B,MAAMiwC,EAAgC,IAAjBtzC,EAAKmkC,QAC1B,MAAO,CACL91D,KAAM,GACNwuD,IAAK78B,EAAK68B,IACVwW,UAAwB,SAAbhwC,EAAIj9B,UAAkB,EAASi9B,EAAIsgC,IAC9CnpC,SAAU84C,IAAiB7P,GAAQzjC,EAAM,OAASA,EAAKxF,SAAW,CAACwF,GACnEuzC,QAAS3P,GAAS5jC,EAAO,OACzBszC,eAEJ,CACA,SAASN,GAA2BlyC,EAAQ0yC,EAAU99B,GACpD,OAAI5U,EAAOuyC,UACF7R,GACL1gC,EAAOuyC,UACPI,GAA0B3yC,EAAQ0yC,EAAU99B,GAG5CwrB,GAAqBxrB,EAAQ2qB,OAAO3C,IAAiB,CACI,KACvD,UAIG+V,GAA0B3yC,EAAQ0yC,EAAU99B,EAEvD,CACA,SAAS+9B,GAA0B3yC,EAAQ0yC,EAAU99B,GACnD,MAAM,OAAE2qB,GAAW3qB,EACbg+B,EAAc7S,GACjB,MACDC,GACG,GAAE0S,KACH,EACA9T,GACA,KAGE,SAAEllC,GAAasG,EACf0a,EAAahhB,EAAS,GACtBm5C,EAA0C,IAApBn5C,EAASp3B,QAAoC,IAApBo4C,EAAWntC,KAChE,GAAIslE,EAAqB,CACvB,GAAwB,IAApBn5C,EAASp3B,QAAoC,KAApBo4C,EAAWntC,KAAa,CACnD,MAAMulE,EAAYp4B,EAAWykB,YAE7B,OADAuE,GAAWoP,EAAWF,EAAah+B,GAC5Bk+B,CACT,CAAO,CACL,IAAIv4C,EAAY,GACIvT,EAAAA,EAAe,IAKnC,OAAOo4C,GACLxqB,EACA2qB,EAAOrD,IACP2D,GAAuB,CAAC+S,IACxBl5C,EACAa,EAAsF,QACtF,OACA,GACA,GACA,GACA,EACAyF,EAAO+7B,IAEX,CACF,CAAO,CACL,MAAMr5C,EAAMg4B,EAAWykB,YACjB2T,EAAY3O,GAAmBzhD,GAKrC,OAJuB,KAAnBowD,EAAUvlE,MACZyzD,GAAe8R,EAAWl+B,GAE5B8uB,GAAWoP,EAAWF,EAAah+B,GAC5BlyB,CACT,CACF,CAqBA,SAAS0vD,GAAmBlzC,GAC1B,MAAO,EACL,GAAkB,KAAdA,EAAK3xB,KAAa,CACpB,GAA4B,KAAxB2xB,EAAK0hC,UAAUrzD,KAGjB,OAAO2xB,EAFPA,EAAOA,EAAK0hC,SAIhB,MAAyB,KAAd1hC,EAAK3xB,OACd2xB,EAAOA,EAAK98B,MAGlB,CAEA,MAAM2wE,GAAe1E,GACnB,OACA,CAACnvC,EAAMqD,EAAKqS,KACV,MAAM,OAAE2qB,EAAM,aAAE0B,GAAiBrsB,EACjC,OAAOo+B,GAAW9zC,EAAMqD,EAAKqS,GAAUq+B,IACrC,MAAMC,EAAY9S,GAAqBb,EAAOnC,IAAc,CAC1D6V,EAAQzuE,SAEJ2uE,EAAa/P,GAAelkC,GAC5BioB,EAAOwb,GAAQzjC,EAAM,QACrBk0C,EAAUtQ,GAAS5jC,EAAO,OAC1Bm0C,EAASD,IAA6B,IAAjBA,EAAQ7lE,KAAayyD,GAAuBoT,EAAQhxE,MAAM2kD,SAAS,GAAQqsB,EAAQvQ,KACxG+P,EAAcQ,EAAUrT,GAAsB,MAAMsT,GAAU,KAC9DC,EAA2C,IAAxBL,EAAQzuE,OAAO+I,MAAc0lE,EAAQzuE,OAAO07D,UAAY,EAC3EqT,EAAeD,EAAmB,GAAKF,EAAU,IAAM,IAc7D,OAbAH,EAAQ9T,YAAcC,GACpBxqB,EACA2qB,EAAOrD,SACP,EACAgX,EACAK,EAAwG,QACxG,OACA,GACA,GACCD,GACD,EACAp0C,EAAK68B,KAEA,KACL,IAAIyX,EACJ,MAAM,SAAE95C,GAAau5C,EAiBrB,MAAMJ,EAA0C,IAApBn5C,EAASp3B,QAAqC,IAArBo3B,EAAS,GAAGnsB,KAC3DkmE,EAAanQ,GAAapkC,GAAQA,EAAOi0C,GAAuC,IAAzBj0C,EAAKxF,SAASp3B,QAAgBghE,GAAapkC,EAAKxF,SAAS,IAAMwF,EAAKxF,SAAS,GAAK,KA6C/I,GA5CI+5C,GACFD,EAAaC,EAAWtU,YACpBgU,GAAcP,GAChBlP,GAAW8P,EAAYZ,EAAah+B,IAE7Bi+B,EACTW,EAAapU,GACXxqB,EACA2qB,EAAOrD,IACP0W,EAAc/S,GAAuB,CAAC+S,SAAgB,EACtD1zC,EAAKxF,SACL,UACA,OACA,GACA,OACA,GACA,IAIF85C,EAAa95C,EAAS,GAAGylC,YACrBgU,GAAcP,GAChBlP,GAAW8P,EAAYZ,EAAah+B,GAElC4+B,EAAWnU,WAAaiU,IACtBE,EAAWnU,SACb4B,EAAa1E,IACb0E,EACEzB,GAAoB5qB,EAAQ6qB,MAAO+T,EAAWlU,eAGhD2B,EACEvB,GAAe9qB,EAAQ6qB,MAAO+T,EAAWlU,eAI/CkU,EAAWnU,SAAWiU,EAClBE,EAAWnU,SACbE,EAAOhD,IACPgD,EAAOC,GAAoB5qB,EAAQ6qB,MAAO+T,EAAWlU,eAErDC,EAAOG,GAAe9qB,EAAQ6qB,MAAO+T,EAAWlU,eAGhDnY,EAAM,CACR,MAAMusB,EAAOrT,GACXsT,GAAoBV,EAAQW,YAAa,CACvC5T,GAAwB,cAG5B0T,EAAKpe,KAAOwL,GAAqB,CAC/BX,GAAyB,CAAE,kBAAkBhZ,EAAK0b,IAAM,MACxD1C,GAAyB,CACtB,iBACEkT,EAAS,CAAE,uBAAuBA,GAAU,GAC9C,OAAMz+B,EAAQ04B,aACb9O,wCAGJ2B,GAAyB,CAAE,iBAAiBqT,IAC5CxT,GAAwB,sBACxBA,GAAwB,kBAE1BkT,EAAUrvE,UAAU8M,KAClB+iE,EACA1T,GAAwB,UACxBA,GAAuBz+D,OAAOqzC,EAAQ7d,WAE1C,MACEm8C,EAAUrvE,UAAU8M,KAClB0vD,GACEsT,GAAoBV,EAAQW,aAC5BJ,GACA,GAIN,CACD,GACD,IAGN,SAASR,GAAW9zC,EAAMqD,EAAKqS,EAASy9B,GACtC,IAAK9vC,EAAIsgC,IAIP,YAHAjuB,EAAQlN,QACNm0B,GAAoB,GAAIt5B,EAAIw5B,MAIhC,MAAM6X,EAAcC,GAGlBtxC,EAAIsgC,IACJjuB,GAEF,IAAKg/B,EAIH,YAHAh/B,EAAQlN,QACNm0B,GAAoB,GAAIt5B,EAAIw5B,MAIhC,MAAM,eAAE4R,EAAc,kBAAEC,EAAiB,OAAEh4D,GAAWg/B,GAChD,OAAEpwC,EAAM,MAAEpC,EAAK,IAAE2B,EAAG,MAAExB,GAAUqxE,EAChCX,EAAU,CACd1lE,KAAM,GACNwuD,IAAKx5B,EAAIw5B,IACTv3D,SACAsvE,WAAY1xE,EACZ2xE,SAAUhwE,EACViwE,iBAAkBzxE,EAClBqxE,cACAl6C,SAAU0pC,GAAelkC,GAAQA,EAAKxF,SAAW,CAACwF,IAEpD0V,EAAQ24B,YAAY0F,GACpBr9D,EAAOm3D,OACP,MAAMqB,EAASiE,GAAkBA,EAAeY,GAChD,MAAO,KACLr9D,EAAOm3D,OACHqB,GACFA,GAAQ,CAEd,CACA,MAAM6F,GAAa,qCACbC,GAAgB,iCAChBC,GAAgB,WACtB,SAASN,GAAmBziE,EAAOwjC,GACjC,MAAMmnB,EAAM3qD,EAAM2qD,IACZ8G,EAAMzxD,EAAM21C,QACZqtB,EAAUvR,EAAI36D,MAAM+rE,IAC1B,IAAKG,EACH,OACF,MAAO,CAAEC,EAAKC,GAAOF,EACfnwE,EAAS,CACbO,OAAQ+vE,GACNxY,EACAuY,EAAI7rD,OACJo6C,EAAIpgE,QAAQ6xE,EAAKD,EAAI/xE,SAEvBF,WAAO,EACP2B,SAAK,EACLxB,WAAO,GAKT,IAAIiyE,EAAeH,EAAI5rD,OAAO9f,QAAQwrE,GAAe,IAAI1rD,OACzD,MAAMgsD,EAAgBJ,EAAI5xE,QAAQ+xE,GAC5BE,EAAgBF,EAAatsE,MAAMgsE,IACzC,GAAIQ,EAAe,CACjBF,EAAeA,EAAa7rE,QAAQurE,GAAe,IAAIzrD,OACvD,MAAMksD,EAAaD,EAAc,GAAGjsD,OACpC,IAAImsD,EAYJ,GAXID,IACFC,EAAY/R,EAAIpgE,QAAQkyE,EAAYF,EAAgBD,EAAalyE,QACjE2B,EAAOF,IAAMwwE,GAAsBxY,EAAK4Y,EAAYC,IASlDF,EAAc,GAAI,CACpB,MAAMG,EAAeH,EAAc,GAAGjsD,OAClCosD,IACF5wE,EAAO1B,MAAQgyE,GACbxY,EACA8Y,EACAhS,EAAIpgE,QACFoyE,EACA5wE,EAAOF,IAAM6wE,EAAYD,EAAWryE,OAASmyE,EAAgBD,EAAalyE,SAWlF,CACF,CAWA,OAVIkyE,IACFvwE,EAAO7B,MAAQmyE,GAAsBxY,EAAKyY,EAAcC,IASnDxwE,CACT,CACA,SAASswE,GAAsBptD,EAAO4/B,EAAS+X,GAC7C,OAAOkB,GACLjZ,GACA,EACAmb,GAAc/6C,EAAO23C,EAAQ/X,EAAQzkD,QAEzC,CACA,SAASqxE,IAAoB,MAAEvxE,EAAK,IAAE2B,EAAG,MAAExB,GAASuyE,EAAW,IAC7D,OAAOC,GAAiB,CAAC3yE,EAAO2B,EAAKxB,KAAUuyE,GACjD,CACA,SAASC,GAAiB35D,GACxB,IAAIxW,EAAIwW,EAAK9Y,OACb,MAAOsC,IACL,GAAIwW,EAAKxW,GACP,MAEJ,OAAOwW,EAAK9X,MAAM,EAAGsB,EAAI,GAAG+V,KAAI,CAAC9R,EAAKsiE,IAAOtiE,GAAOm3D,GAAwB,IAAGn4C,OAAOsjD,EAAK,IAAI,IACjG,CAEA,MAAM6J,GAAkBhV,GAAwB,aAAY,GACtDiV,GAAkBA,CAAC/1C,EAAM0V,KAC7B,GAAkB,IAAd1V,EAAK3xB,OAAgC,IAAjB2xB,EAAKmkC,SAAkC,IAAjBnkC,EAAKmkC,SAAgB,CACjE,MAAM6H,EAAQvI,GAAQzjC,EAAM,QAC5B,GAAIgsC,EAGF,OAFAA,EAAMrI,IACNjuB,EAAQh/B,OAAOs1D,QACR,KACLt2B,EAAQh/B,OAAOs1D,OAAO,CAG5B,GAuBIgK,GAAoBA,CAACtsD,EAAO8Q,EAAUqiC,IAAQsE,GAClDz3C,EACA8Q,GACA,GACA,EACAA,EAASp3B,OAASo3B,EAAS,GAAGqiC,IAAMA,GAEtC,SAASoZ,GAAWj2C,EAAM0V,EAASwgC,EAAcF,IAC/CtgC,EAAQ2qB,OAAOnB,IACf,MAAM,SAAE1kC,EAAQ,IAAEqiC,GAAQ78B,EACpBm2C,EAAkB,GAClBvoC,EAAe,GACrB,IAAIwoC,EAAkB1gC,EAAQh/B,OAAOs1D,MAAQ,GAAKt2B,EAAQh/B,OAAOm3D,KAAO,EACxE,MAAMwI,EAAkB5S,GAAQzjC,EAAM,QAAQ,GAC9C,GAAIq2C,EAAiB,CACnB,MAAM,IAAE1sE,EAAG,IAAEg6D,GAAQ0S,EACjB1sE,IAAQq4D,GAAYr4D,KACtBysE,GAAkB,GAEpBD,EAAgB1kE,KACdovD,GACEl3D,GAAOm3D,GAAuB,WAAW,GACzCoV,EAAYvS,EAAKnpC,EAAUqiC,IAGjC,CACA,IAAIyZ,GAAmB,EACnBC,GAAsB,EAC1B,MAAMC,EAA0B,GAC1BC,EAAgC,IAAI5+D,IAC1C,IAAI6+D,EAAyB,EAC7B,IAAK,IAAIhxE,EAAI,EAAGA,EAAI80B,EAASp3B,OAAQsC,IAAK,CACxC,MAAMixE,EAAcn8C,EAAS90B,GAC7B,IAAIkxE,EACJ,IAAK1S,GAAeyS,MAAkBC,EAAUnT,GAAQkT,EAAa,QAAQ,IAAQ,CAC1D,IAArBA,EAAYtoE,MACdmoE,EAAwB/kE,KAAKklE,GAE/B,QACF,CACA,GAAIN,EAAiB,CACnB3gC,EAAQlN,QACNm0B,GAAoB,GAAIia,EAAQ/Z,MAElC,KACF,CACAyZ,GAAmB,EACnB,MAAQ97C,SAAUq8C,EAAcha,IAAKia,GAAYH,GAE/ChtE,IAAKotE,EAAWjW,GAAwB,WAAU,GAClD6C,IAAKqT,EACLna,IAAKoa,GACHL,EACJ,IAAIM,EACAlV,GAAY+U,GACdG,EAAiBH,EAAWA,EAASlvB,QAAW,UAEhDuuB,GAAkB,EAEpB,MAAMe,EAAejB,EAAYc,EAAWH,EAAcC,GAC1D,IAAIM,EACAC,EACAxJ,EACJ,GAAIuJ,EAAM3T,GAAQkT,EAAa,MAC7BP,GAAkB,EAClBxoC,EAAan8B,KACX+vD,GACE4V,EAAIzT,IACJ2T,GAAiBP,EAAUI,EAAcT,KACzCZ,UAGC,GAAIuB,EAAQ5T,GACjBkT,EACA,gBACA,GAEC,CACD,IACIp+C,EADA9P,EAAI/iB,EAER,MAAO+iB,IAEL,GADA8P,EAAOiC,EAAS/R,GACE,IAAd8P,EAAKlqB,KACP,MAGJ,GAAIkqB,GAAQ2rC,GAAe3rC,IAASkrC,GAAQlrC,EAAM,MAAO,CACvDiC,EAAS9U,OAAOhgB,EAAG,GACnBA,IACA,IAAI6xE,EAAc3pC,EAAaA,EAAaxqC,OAAS,GACrD,MAAsC,KAA/Bm0E,EAAY7V,UAAUrzD,KAC3BkpE,EAAcA,EAAY7V,UAE5B6V,EAAY7V,UAAY2V,EAAM1T,IAAMnC,GAClC6V,EAAM1T,IACN2T,GACEP,EACAI,EACAT,KAEFZ,IACEwB,GAAiBP,EAAUI,EAAcT,IAC/C,MACEhhC,EAAQlN,QACNm0B,GAAoB,GAAI0a,EAAMxa,KAGpC,MAAO,GAAIgR,EAAOpK,GAAQkT,EAAa,OAAQ,CAC7CP,GAAkB,EAClB,MAAM1B,EAAc7G,EAAK6G,aAAeC,GAAmB9G,EAAKlK,IAAKjuB,GACjEg/B,EACF9mC,EAAan8B,KACXyvD,GAAqBxrB,EAAQ2qB,OAAOnC,IAAc,CAChDwW,EAAYpvE,OACZ67D,GACEsT,GAAoBC,GACpB4C,GAAiBP,EAAUI,IAC3B,MAMNzhC,EAAQlN,QACNm0B,GAAoB,GAAIkR,EAAKhR,KAGnC,KAAO,CACL,GAAIqa,EAAgB,CAClB,GAAIT,EAAc/oE,IAAIwpE,GAAiB,CACrCxhC,EAAQlN,QACNm0B,GACE,GACAsa,IAGJ,QACF,CACAR,EAAct8D,IAAI+8D,GACK,YAAnBA,IACFX,GAAsB,EAE1B,CACAJ,EAAgB1kE,KAAKovD,GAAqBkW,EAAUI,GACtD,CACF,CACA,IAAKd,EAAiB,CACpB,MAAMmB,EAA2BA,CAAC9tD,EAAO+tD,KACvC,MAAMzrE,EAAKkqE,EAAYxsD,EAAO+tD,EAAW5a,GAIzC,OAHInnB,EAAQyvB,eACVn5D,EAAG8sB,iBAAkB,GAEhB+nC,GAAsB,UAAU70D,EAAG,EAEvCsqE,EAEME,EAAwBpzE,QAGnCozE,EAAwBt8C,MAAMw9C,GAAUC,GAAuBD,OACzDnB,EACF7gC,EAAQlN,QACNm0B,GACE,GACA6Z,EAAwB,GAAG3Z,MAI/BsZ,EAAgB1kE,KACd+lE,OAAyB,EAAQhB,KAdrCL,EAAgB1kE,KAAK+lE,OAAyB,EAAQh9C,GAkB1D,CACA,MAAM0tB,EAAWkuB,EAAkB,EAAIwB,GAAkB53C,EAAKxF,UAAY,EAAI,EAC9E,IAAIzL,EAAQ4xC,GACVwV,EAAgB7kE,OACduvD,GACG,IAGDC,GACE5Y,EAA+F,IAC/F,KAIN2U,GAQF,OANIjvB,EAAaxqC,SACf2rB,EAAQmyC,GAAqBxrB,EAAQ2qB,OAAOjC,IAAe,CACzDrvC,EACA0xC,GAAsB7yB,MAGnB,CACL7e,QACAqnD,kBAEJ,CACA,SAASkB,GAAiBlxE,EAAM4F,EAAI3I,GAClC,MAAMqmB,EAAQ,CACZm3C,GAAsB,OAAOz6D,GAC7By6D,GAAsB,KAAK70D,IAO7B,OALa,MAAT3I,GACFqmB,EAAMjY,KACJovD,GAAsB,MAAMC,GAAuBz+D,OAAOgB,IAAQ,KAG/Ds9D,GAAuBj3C,EAChC,CACA,SAASkuD,GAAkBp9C,GACzB,IAAK,IAAI90B,EAAI,EAAGA,EAAI80B,EAASp3B,OAAQsC,IAAK,CACxC,MAAMg1B,EAAQF,EAAS90B,GACvB,OAAQg1B,EAAMrsB,MACZ,KAAK,EACH,GAAsB,IAAlBqsB,EAAMypC,SAAiByT,GAAkBl9C,EAAMF,UACjD,OAAO,EAET,MACF,KAAK,EACH,GAAIo9C,GAAkBl9C,EAAMwxC,UAC1B,OAAO,EACT,MACF,KAAK,GACL,KAAK,GACH,GAAI0L,GAAkBl9C,EAAMF,UAC1B,OAAO,EACT,MAEN,CACA,OAAO,CACT,CACA,SAASm9C,GAAuB33C,GAC9B,OAAkB,IAAdA,EAAK3xB,MAA4B,KAAd2xB,EAAK3xB,OAEP,IAAd2xB,EAAK3xB,OAAe2xB,EAAK6nB,QAAQt+B,OAASouD,GAAuB33C,EAAK6nB,SAC/E,CAEA,MAAMgwB,GAAqC,IAAI7pE,QACzC8pE,GAAmBA,CAAC93C,EAAM0V,IACvB,WAEL,GADA1V,EAAO0V,EAAQs4B,YACK,IAAdhuC,EAAK3xB,MAAgC,IAAjB2xB,EAAKmkC,SAAkC,IAAjBnkC,EAAKmkC,QACnD,OAEF,MAAM,IAAEr/D,EAAG,MAAE4kB,GAAUsW,EACjBogC,EAA+B,IAAjBpgC,EAAKmkC,QACzB,IAAI4T,EAAW3X,EAAc4X,GAAqBh4C,EAAM0V,GAAY,IAAG5wC,KACvE,MAAMmzE,GAAqBx1E,EAAAA,EAAAA,IAASs1E,IAAaA,EAAS/yE,SAAW84D,GACrE,IAAIoa,EACAC,EACAC,EAEAC,EACAC,EACAC,EAHAl9C,EAAY,EAIZm9C,EAEFP,GAAsBF,IAAa9a,IAAY8a,IAAa7a,KAAakD,IAIhE,QAARt7D,GAAyB,kBAARA,GAEpB,GAAI4kB,EAAMtmB,OAAS,EAAG,CACpB,MAAMq1E,EAAmBC,GACvB14C,EACA0V,OACA,EACA0qB,EACA6X,GAEFC,EAAaO,EAAiB/uD,MAC9B2R,EAAYo9C,EAAiBp9C,UAC7Bi9C,EAAmBG,EAAiBH,iBACpC,MAAMr1C,EAAaw1C,EAAiBx1C,WACpCs1C,EAAkBt1C,GAAcA,EAAW7/B,OAASq9D,GAClDx9B,EAAWxnB,KAAK4nB,GAAQs1C,GAAmBt1C,EAAKqS,WAC9C,EACA+iC,EAAiBD,iBACnBA,GAAiB,EAErB,CACA,GAAIx4C,EAAKxF,SAASp3B,OAAS,EAAG,CACxB20E,IAAa5a,KACfqb,GAAiB,EACjBn9C,GAAa,MAWf,MAAMu9C,EAAqBxY,GAC3B2X,IAAa9a,IACb8a,IAAa5a,GACb,GAAIyb,EAAoB,CACtB,MAAM,MAAE7pD,EAAK,gBAAEqnD,GAAoBH,GAAWj2C,EAAM0V,GACpDyiC,EAAgBppD,EACZqnD,IACF/6C,GAAa,KAEjB,MAAO,GAA6B,IAAzB2E,EAAKxF,SAASp3B,QAAgB20E,IAAa9a,GAAU,CAC9D,MAAMviC,EAAQsF,EAAKxF,SAAS,GACtBnsB,EAAOqsB,EAAMrsB,KACbwqE,EAA+B,IAATxqE,GAAuB,IAATA,EACtCwqE,GAA2D,IAApClN,GAAgBjxC,EAAOgb,KAChDra,GAAa,GAGb88C,EADEU,GAAgC,IAATxqE,EACTqsB,EAEAsF,EAAKxF,QAEzB,MACE29C,EAAgBn4C,EAAKxF,QAEzB,CACkB,IAAda,IASA+8C,EAAiB/1E,OAAOg5B,GAEtBi9C,GAAoBA,EAAiBl1E,SACvCi1E,EAAoBS,GAA0BR,KAGlDt4C,EAAKigC,YAAcC,GACjBxqB,EACAqiC,EACAG,EACAC,EACAC,EACAC,EACAE,IACEC,GACF,EACApY,EACApgC,EAAK68B,IAET,EAEF,SAASmb,GAAqBh4C,EAAM0V,EAASmsB,GAAM,GACjD,IAAI,IAAE/8D,GAAQk7B,EACd,MAAM+4C,EAAoBC,GAAel0E,GACnCm0E,EAASrV,GAAS5jC,EAAM,MAC9B,GAAIi5C,EACF,GAAIF,GAAqB3T,GACvB,yBACA1vB,GACC,CACD,MAAMiuB,EAAsB,IAAhBsV,EAAO5qE,KAAa4qE,EAAO/1E,OAAS49D,GAAuBmY,EAAO/1E,MAAM2kD,SAAS,GAAQoxB,EAAOtV,IAC5G,GAAIA,EACF,OAAOzC,GAAqBxrB,EAAQ2qB,OAAOvC,IAA4B,CACrE6F,GAGN,MAA2B,IAAhBsV,EAAO5qE,MAAc4qE,EAAO/1E,MAAM2kD,QAAQtiC,WAAW,UAC9DzgB,EAAMm0E,EAAO/1E,MAAM2kD,QAAQzjD,MAAM,IAGrC,MAAM80E,GAASH,GAAqBtV,GAAQzjC,EAAM,MAClD,GAAIk5C,GAASA,EAAMvV,IAMjB,OAAOzC,GAAqBxrB,EAAQ2qB,OAAOvC,IAA4B,CACrEob,EAAMvV,MAGV,MAAMwV,EAAUhX,GAAgBr9D,IAAQ4wC,EAAQ4zB,mBAAmBxkE,GACnE,OAAIq0E,GACGtX,GACHnsB,EAAQ2qB,OAAO8Y,GACVA,IAETzjC,EAAQ2qB,OAAOxC,IACfnoB,EAAQvC,WAAWh5B,IAAIrV,GAChBggE,GAAehgE,EAAM,aAC9B,CACA,SAAS4zE,GAAW14C,EAAM0V,EAAShsB,EAAQsW,EAAKtW,MAAO02C,EAAa6X,EAAoBpW,GAAM,GAC5F,MAAM,IAAE/8D,EAAK+3D,IAAKuc,EAAU,SAAE5+C,GAAawF,EAC3C,IAAI4gC,EAAa,GACjB,MAAMyY,EAAY,GACZC,EAAoB,GACpBC,EAAc/+C,EAASp3B,OAAS,EACtC,IAAIo1E,GAAiB,EACjBn9C,EAAY,EACZm+C,GAAS,EACTC,GAAkB,EAClBC,GAAkB,EAClBC,GAA2B,EAC3BC,GAAiB,EACjBC,GAAe,EACnB,MAAMvB,EAAmB,GACnBwB,EAAgBnwE,IAChBi3D,EAAWx9D,SACbi2E,EAAU5nE,KACRkvD,GAAuBoZ,GAAiBnZ,GAAawY,IAEvDxY,EAAa,IAEXj3D,GACF0vE,EAAU5nE,KAAK9H,EAAI,EAEjBqwE,EAAmBA,EAAGn1E,MAAK3B,YAC/B,GAAI8+D,GAAYn9D,GAAM,CACpB,MAAMuB,EAAOvB,EAAIgjD,QACXoyB,GAAiB50D,EAAAA,EAAAA,IAAKjf,GAW5B,IAVI6zE,GAAoB7Z,IAAe6X,GAEhB,YAAvB7xE,EAAK+I,eACI,wBAAT/I,IACCkgB,EAAAA,EAAAA,IAAelgB,KACduzE,GAA2B,GAEzBM,IAAkB3zD,EAAAA,EAAAA,IAAelgB,KACnCyzE,GAAe,GAEE,KAAf32E,EAAMmL,OAA+B,IAAfnL,EAAMmL,MAA6B,IAAfnL,EAAMmL,OAAes9D,GAAgBzoE,EAAOwyC,GAAW,EACnG,OAEW,QAATtvC,EACFozE,GAAS,EACS,UAATpzE,EACTqzE,GAAkB,EACA,UAATrzE,EACTszE,GAAkB,EACA,QAATtzE,GAAmBkyE,EAAiBh1E,SAAS8C,IACtDkyE,EAAiB7mE,KAAKrL,IAEpBg6D,GAAyB,UAATh6D,GAA6B,UAATA,GAAsBkyE,EAAiBh1E,SAAS8C,IACtFkyE,EAAiB7mE,KAAKrL,EAE1B,MACEwzE,GAAiB,CACnB,EAEF,IAAK,IAAIl0E,EAAI,EAAGA,EAAIgkB,EAAMtmB,OAAQsC,IAAK,CACrC,MAAM6yC,EAAO7uB,EAAMhkB,GACnB,GAAkB,IAAd6yC,EAAKlqC,KAAY,CACnB,MAAM,IAAEwuD,EAAG,KAAEz2D,EAAI,MAAElD,GAAUq1C,EAC7B,IAAIwoB,GAAW,EAYf,GAXa,QAAT36D,IACFozE,GAAS,EACL9jC,EAAQh/B,OAAOm3D,KAAO,GACxBjN,EAAWnvD,KACTovD,GACEC,GAAuB,WAAW,GAClCA,GAAuB,WAKlB,OAAT16D,IAAkB4yE,GAAel0E,IAAQ5B,GAASA,EAAM2kD,QAAQtiC,WAAW,SAAW6/C,GACxF,yBACA1vB,IAEA,SAEFkrB,EAAWnvD,KACTovD,GACEC,GACE16D,GACA,EACA48D,GAAcnG,EAAK,EAAGz2D,EAAKhD,SAE7B09D,GACE59D,EAAQA,EAAM2kD,QAAU,GACxBkZ,EACA79D,EAAQA,EAAM25D,IAAMA,IAI5B,KAAO,CACL,MAAM,KAAEz2D,EAAI,IAAEuD,EAAG,IAAEg6D,EAAG,IAAE9G,GAAQtkB,EAC1B2hC,EAAmB,SAAT9zE,EACV+zE,EAAiB,OAAT/zE,EACd,GAAa,SAATA,EAAiB,CACdg6D,GACH1qB,EAAQlN,QACNm0B,GAAoB,GAAIE,IAG5B,QACF,CACA,GAAa,SAATz2D,GAA4B,SAATA,EACrB,SAEF,GAAa,OAATA,GAAiB8zE,GAAWpW,GAAcn6D,EAAK,QAAUqvE,GAAel0E,IAAQsgE,GAClF,yBACA1vB,IAEA,SAEF,GAAIykC,GAAStY,EACX,SAkBF,IAdEqY,GAAWpW,GAAcn6D,EAAK,QAE9BwwE,GAASZ,GAAezV,GAAcn6D,EAAK,wBAE3C6uE,GAAiB,GAEf0B,GAAWpW,GAAcn6D,EAAK,QAAU+rC,EAAQh/B,OAAOm3D,KAAO,GAChEjN,EAAWnvD,KACTovD,GACEC,GAAuB,WAAW,GAClCA,GAAuB,WAIxBn3D,IAAQuwE,GAAWC,GAAQ,CAE9B,GADAP,GAAiB,EACbjW,EACF,GAAIuW,EAAS,CAwBT,GAvBFJ,IAuBM1U,GACF,+BACA1vB,GACC,CACD2jC,EAAUtpD,QAAQ4zC,GAClB,QACF,CAEF0V,EAAU5nE,KAAKkyD,EACjB,MACEmW,EAAa,CACXzrE,KAAM,GACNwuD,MACA73D,OAAQ0wC,EAAQ2qB,OAAO1B,IACvBh6D,UAAWy7D,EAAc,CAACuD,GAAO,CAACA,EAAM,eAI5CjuB,EAAQlN,QACNm0B,GACEud,EAAU,GAAK,GACfrd,IAIN,QACF,CACA,MAAMud,EAAqB1kC,EAAQ03B,oBAAoBhnE,GACvD,GAAIg0E,EAAoB,CACtB,MAAQ1wD,MAAO2wD,EAAM,YAAEC,GAAgBF,EAAmB7hC,EAAMvY,EAAM0V,IACrEmsB,GAAOwY,EAAO1/D,QAAQq/D,GACnBG,GAASxwE,IAAQq4D,GAAYr4D,GAC/BmwE,EAAanZ,GAAuB0Z,EAAQjB,IAE5CxY,EAAWnvD,QAAQ4oE,GAEjBC,IACFhB,EAAkB7nE,KAAK8mC,IACnB/kC,EAAAA,EAAAA,IAAS8mE,IACXzC,GAAmBpqE,IAAI8qC,EAAM+hC,GAGnC,MAAY/zD,EAAAA,EAAAA,IAAmBngB,KAC7BkzE,EAAkB7nE,KAAK8mC,GACnBghC,IACFf,GAAiB,GAGvB,CACF,CACA,IAAI+B,EAqCJ,GApCIlB,EAAUj2E,QACZ02E,IAEES,EADElB,EAAUj2E,OAAS,EACH89D,GAChBxrB,EAAQ2qB,OAAO/B,IACf+a,EACAD,GAGgBC,EAAU,IAErBzY,EAAWx9D,SACpBm3E,EAAkB5Z,GAChBoZ,GAAiBnZ,GACjBwY,IAGAQ,EACFv+C,GAAa,IAETo+C,IAAoBrZ,IACtB/kC,GAAa,GAEXq+C,IAAoBtZ,IACtB/kC,GAAa,GAEXi9C,EAAiBl1E,SACnBi4B,GAAa,GAEXs+C,IACFt+C,GAAa,KAGZm9C,GAAiC,IAAdn9C,GAAiC,KAAdA,KAAsBm+C,GAAUK,GAAgBP,EAAkBl2E,OAAS,KACpHi4B,GAAa,MAEVqa,EAAQ6qB,OAASga,EACpB,OAAQA,EAAgBlsE,MACtB,KAAK,GACH,IAAImsE,GAAiB,EACjBC,GAAiB,EACjBC,GAAgB,EACpB,IAAK,IAAIh1E,EAAI,EAAGA,EAAI60E,EAAgB3Z,WAAWx9D,OAAQsC,IAAK,CAC1D,MAAMb,EAAM01E,EAAgB3Z,WAAWl7D,GAAGb,IACtCm9D,GAAYn9D,GACM,UAAhBA,EAAIgjD,QACN2yB,EAAgB90E,EACS,UAAhBb,EAAIgjD,UACb4yB,EAAgB/0E,GAERb,EAAI81E,eACdD,GAAgB,EAEpB,CACA,MAAME,EAAYL,EAAgB3Z,WAAW4Z,GACvCK,EAAYN,EAAgB3Z,WAAW6Z,GACxCC,EAkBHH,EAAkBrZ,GAChBxrB,EAAQ2qB,OAAO5B,IACf,CAAC8b,KAnBCK,IAAc5Y,GAAY4Y,EAAU13E,SACtC03E,EAAU13E,MAAQg+D,GAChBxrB,EAAQ2qB,OAAO9B,IACf,CAACqc,EAAU13E,SAGX23E,IAEHnB,GAA4C,IAAzBmB,EAAU33E,MAAMmL,MAAqD,MAAvCwsE,EAAU33E,MAAM2kD,QAAQt+B,OAAO,IAExD,KAAzBsxD,EAAU33E,MAAMmL,QACdwsE,EAAU33E,MAAQg+D,GAChBxrB,EAAQ2qB,OAAO7B,IACf,CAACqc,EAAU33E,UASjB,MACF,KAAK,GACH,MACF,QACEq3E,EAAkBrZ,GAChBxrB,EAAQ2qB,OAAO5B,IACf,CACEyC,GAAqBxrB,EAAQ2qB,OAAO3B,IAAuB,CACzD6b,MAIN,MAGN,MAAO,CACL7wD,MAAO6wD,EACPt3C,WAAYq2C,EACZj+C,YACAi9C,mBACAE,iBAEJ,CACA,SAASuB,GAAiBnZ,GACxB,MAAMka,EAA6B,IAAIhhE,IACjCic,EAAU,GAChB,IAAK,IAAIrwB,EAAI,EAAGA,EAAIk7D,EAAWx9D,OAAQsC,IAAK,CAC1C,MAAM6yC,EAAOqoB,EAAWl7D,GACxB,GAAsB,IAAlB6yC,EAAK1zC,IAAIwJ,OAAekqC,EAAK1zC,IAAIk8D,SAAU,CAC7ChrC,EAAQtkB,KAAK8mC,GACb,QACF,CACA,MAAMnyC,EAAOmyC,EAAK1zC,IAAIgjD,QAChBvN,EAAWwgC,EAAWp0E,IAAIN,GAC5Bk0C,GACW,UAATl0C,GAA6B,UAATA,IAAoBif,EAAAA,EAAAA,IAAKjf,KAC/CuuC,GAAa2F,EAAU/B,IAGzBuiC,EAAWrtE,IAAIrH,EAAMmyC,GACrBxiB,EAAQtkB,KAAK8mC,GAEjB,CACA,OAAOxiB,CACT,CACA,SAAS4e,GAAa2F,EAAU8N,GACF,KAAxB9N,EAASp3C,MAAMmL,KACjBisC,EAASp3C,MAAMw9D,SAASjvD,KAAK22C,EAASllD,OAEtCo3C,EAASp3C,MAAQu9D,GACf,CAACnmB,EAASp3C,MAAOklD,EAASllD,OAC1Bo3C,EAASuiB,IAGf,CACA,SAAS8b,GAAmBt1C,EAAKqS,GAC/B,MAAMqlC,EAAU,GACVC,EAAUnD,GAAmBnxE,IAAI28B,GACnC23C,EACFD,EAAQtpE,KAAKikC,EAAQ04B,aAAa4M,KAGhCtlC,EAAQ2qB,OAAOtC,IACfroB,EAAQzS,WAAW9oB,IAAIkpB,EAAIj9B,MAC3B20E,EAAQtpE,KAAKqzD,GAAezhC,EAAIj9B,KAAO,eAG3C,MAAM,IAAEy2D,GAAQx5B,EAShB,GARIA,EAAIsgC,KACNoX,EAAQtpE,KAAK4xB,EAAIsgC,KACftgC,EAAI15B,MACD05B,EAAIsgC,KACPoX,EAAQtpE,KAAM,UAEhBspE,EAAQtpE,KAAK4xB,EAAI15B,MAEfhG,OAAO6B,KAAK69B,EAAIC,WAAWlgC,OAAQ,CAChCigC,EAAI15B,MACF05B,EAAIsgC,KACPoX,EAAQtpE,KAAM,UAEhBspE,EAAQtpE,KAAM,WAEhB,MAAMwpE,EAAiBna,GAAwB,QAAO,EAAOjE,GAC7Dke,EAAQtpE,KACNkvD,GACEt9B,EAAIC,UAAU7nB,KACXy/D,GAAara,GAAqBqa,EAAUD,KAE/Cpe,GAGN,CACA,OAAO4D,GAAsBsa,EAAS13C,EAAIw5B,IAC5C,CACA,SAASic,GAA0BpvD,GACjC,IAAIyxD,EAAoB,IACxB,IAAK,IAAIz1E,EAAI,EAAGwR,EAAIwS,EAAMtmB,OAAQsC,EAAIwR,EAAGxR,IACvCy1E,GAAoB9vD,KAAKC,UAAU5B,EAAMhkB,IACrCA,EAAIwR,EAAI,IACVikE,GAAoB,MAExB,OAAOA,EAAoB,GAC7B,CACA,SAASnC,GAAel0E,GACtB,MAAe,cAARA,GAA+B,cAARA,CAChC,CAEA,MAAMs2E,GAAsBA,CAACp7C,EAAM0V,KACjC,GAAI0uB,GAAapkC,GAAO,CACtB,MAAM,SAAExF,EAAQ,IAAEqiC,GAAQ78B,GACpB,SAAE+2C,EAAQ,UAAEC,GAAcqE,GAAkBr7C,EAAM0V,GAClD4lC,EAAW,CACf5lC,EAAQs3B,kBAAqB,cAAgB,SAC7C+J,EACA,KACA,YACA,QAEF,IAAIwE,EAAc,EACdvE,IACFsE,EAAS,GAAKtE,EACduE,EAAc,GAEZ/gD,EAASp3B,SACXk4E,EAAS,GAAKna,GAAyB,GAAI3mC,GAAU,GAAO,EAAOqiC,GACnE0e,EAAc,GAEZ7lC,EAAQrH,UAAYqH,EAAQ43B,UAC9BiO,EAAc,GAEhBD,EAAS51D,OAAO61D,GAChBv7C,EAAKigC,YAAciB,GACjBxrB,EAAQ2qB,OAAOlC,IACfmd,EACAze,EAEJ,GAEF,SAASwe,GAAkBr7C,EAAM0V,GAC/B,IACIshC,EADAD,EAAY,YAEhB,MAAMyE,EAAe,GACrB,IAAK,IAAI91E,EAAI,EAAGA,EAAIs6B,EAAKtW,MAAMtmB,OAAQsC,IAAK,CAC1C,MAAMqnB,EAAIiT,EAAKtW,MAAMhkB,GACN,IAAXqnB,EAAE1e,KACA0e,EAAE7pB,QACW,SAAX6pB,EAAE3mB,KACJ2wE,EAAW1rD,KAAKC,UAAUyB,EAAE7pB,MAAM2kD,UAElC96B,EAAE3mB,MAAOwgB,EAAAA,EAAAA,IAASmG,EAAE3mB,MACpBo1E,EAAa/pE,KAAKsb,KAIP,SAAXA,EAAE3mB,MAAmB09D,GAAc/2C,EAAEpjB,IAAK,QACxCojB,EAAE42C,MACJoT,EAAWhqD,EAAE42C,MAEA,SAAX52C,EAAE3mB,MAAmB2mB,EAAEpjB,KAAOq4D,GAAYj1C,EAAEpjB,OAC9CojB,EAAEpjB,IAAIk+C,SAAUjhC,EAAAA,EAAAA,IAASmG,EAAEpjB,IAAIk+C,UAEjC2zB,EAAa/pE,KAAKsb,GAGxB,CACA,GAAIyuD,EAAap4E,OAAS,EAAG,CAC3B,MAAM,MAAEsmB,EAAK,WAAEuZ,GAAey1C,GAC5B14C,EACA0V,EACA8lC,GACA,GACA,GAEFxE,EAAYttD,EACRuZ,EAAW7/B,QACbsyC,EAAQlN,QACNm0B,GACE,GACA15B,EAAW,GAAG45B,KAItB,CACA,MAAO,CACLka,WACAC,YAEJ,CAEA,MAAMyE,GAAU,+FACVC,GAAcA,CAACr4C,EAAKrD,EAAM0V,EAASimC,KACvC,MAAM,IAAE9e,EAAG,UAAEv5B,EAAS,IAAE35B,GAAQ05B,EAIhC,IAAIu4C,EACJ,GAJKv4C,EAAIsgC,KAAQrgC,EAAUlgC,QACzBsyC,EAAQlN,QAAQm0B,GAAoB,GAAIE,IAGzB,IAAblzD,EAAI0E,KACN,GAAI1E,EAAIo3D,SAAU,CAChB,IAAIhU,EAAUpjD,EAAIk+C,QACd,EAKAkF,EAAQxnC,WAAW,UACrBwnC,EAAW,SAAQA,EAAQ3oD,MAAM,MAEnC,MAAMy3E,EAA+B,IAAjB77C,EAAKmkC,SAAiBpX,EAAQxnC,WAAW,WAAa,QAAQxb,KAAKgjD,IAGrF5lC,EAAAA,EAAAA,KAAaP,EAAAA,EAAAA,IAASmmC,IAIrB,MAAKA,IAER6uB,EAAY9a,GAAuB+a,GAAa,EAAMlyE,EAAIkzD,IAC5D,MACE+e,EAAY3a,GAAyB,CAClC,GAAEvrB,EAAQ04B,aAAatP,OACxBn1D,EACC,WAILiyE,EAAYjyE,EACZiyE,EAAUphD,SAASzK,QAAS,GAAE2lB,EAAQ04B,aAAatP,QACnD8c,EAAUphD,SAAS/oB,KAAM,KAE3B,IAAIkyD,EAAMtgC,EAAIsgC,IACVA,IAAQA,EAAI9b,QAAQt+B,SACtBo6C,OAAM,GAER,IAAImY,EAAcpmC,EAAQw3B,gBAAkBvJ,IAAQjuB,EAAQw4B,QAC5D,GAAIvK,EAAK,CACP,MAAMoY,EAAchZ,GAAmBY,EAAI9b,SACrCm0B,IAAsBD,GAAeN,GAAQ1xE,KAAK45D,EAAI9b,UACtDo0B,EAAwBtY,EAAI9b,QAAQvkD,SAAU,KAChD,GAQA04E,GAAqBF,GAAeC,KACtCpY,EAAM1C,GAAyB,CAC5B,GAAE+a,EAAqB,SAAW,kBAAsBC,EAAyB,IAAM,MACxFtY,EACAsY,EAAyB,IAAM,MAGrC,CACA,IAAIz4D,EAAM,CACRkG,MAAO,CACLm3C,GACE+a,EACAjY,GAAO7C,GAAwB,YAAW,EAAOjE,MAWvD,OAPI8e,IACFn4D,EAAMm4D,EAAUn4D,IAEds4D,IACFt4D,EAAIkG,MAAM,GAAGxmB,MAAQwyC,EAAQjvB,MAAMjD,EAAIkG,MAAM,GAAGxmB,QAElDsgB,EAAIkG,MAAM/O,SAASoS,GAAMA,EAAEloB,IAAI81E,cAAe,IACvCn3D,CAAG,EAGN04D,GAAgBA,CAAC74C,EAAK84C,EAAOzmC,KACjC,MAAM,IAAEiuB,EAAG,UAAErgC,EAAS,IAAEu5B,GAAQx5B,EAC1B15B,EAAM05B,EAAI15B,IA2BhB,OA1BiB,IAAbA,EAAI0E,MACN1E,EAAI6wB,SAASzK,QAAS,KACtBpmB,EAAI6wB,SAAS/oB,KAAM,YACT9H,EAAIo3D,WACdp3D,EAAIk+C,QAAW,GAAEl+C,EAAIk+C,iBAEnBvkB,EAAUhgC,SAAS,WACJ,IAAbqG,EAAI0E,KACF1E,EAAIo3D,SACNp3D,EAAIk+C,SAAUjhC,EAAAA,EAAAA,IAASjd,EAAIk+C,SAE3Bl+C,EAAIk+C,QAAW,GAAEnS,EAAQ04B,aAAaxP,OAAaj1D,EAAIk+C,YAGzDl+C,EAAI6wB,SAASzK,QAAS,GAAE2lB,EAAQ04B,aAAaxP,QAC7Cj1D,EAAI6wB,SAAS/oB,KAAM,OAGlBikC,EAAQ6qB,QACPj9B,EAAUhgC,SAAS,SACrB84E,GAAazyE,EAAK,KAEhB25B,EAAUhgC,SAAS,SACrB84E,GAAazyE,EAAK,OAGjBg6D,GAAoB,IAAbA,EAAIt1D,OAAes1D,EAAI9b,QAAQt+B,QACzCmsB,EAAQlN,QAAQm0B,GAAoB,GAAIE,IACjC,CACLnzC,MAAO,CAACm3C,GAAqBl3D,EAAKm3D,GAAuB,IAAI,EAAMjE,OAGhE,CACLnzC,MAAO,CAACm3C,GAAqBl3D,EAAKg6D,IACnC,EAEGyY,GAAeA,CAACzyE,EAAK0yE,KACR,IAAb1yE,EAAI0E,KACF1E,EAAIo3D,SACNp3D,EAAIk+C,QAAUw0B,EAAS1yE,EAAIk+C,QAE3Bl+C,EAAIk+C,QAAW,KAAIw0B,OAAY1yE,EAAIk+C,cAGrCl+C,EAAI6wB,SAASzK,QAAS,IAAGssD,UACzB1yE,EAAI6wB,SAAS/oB,KAAM,KACrB,EAGI6qE,GAAgBA,CAACt8C,EAAM0V,KAC3B,GAAkB,IAAd1V,EAAK3xB,MAA4B,IAAd2xB,EAAK3xB,MAA4B,KAAd2xB,EAAK3xB,MAA6B,KAAd2xB,EAAK3xB,KACjE,MAAO,KACL,MAAMmsB,EAAWwF,EAAKxF,SACtB,IAAI8qB,EACAi3B,GAAU,EACd,IAAK,IAAI72E,EAAI,EAAGA,EAAI80B,EAASp3B,OAAQsC,IAAK,CACxC,MAAMg1B,EAAQF,EAAS90B,GACvB,GAAIs+D,GAAStpC,GAAQ,CACnB6hD,GAAU,EACV,IAAK,IAAI9zD,EAAI/iB,EAAI,EAAG+iB,EAAI+R,EAASp3B,OAAQqlB,IAAK,CAC5C,MAAMlJ,EAAOib,EAAS/R,GACtB,IAAIu7C,GAASzkD,GAUN,CACL+lC,OAAmB,EACnB,KACF,CAZOA,IACHA,EAAmB9qB,EAAS90B,GAAKu7D,GAC/B,CAACvmC,GACDA,EAAMmiC,MAGVvX,EAAiB9qB,SAAS/oB,KAAM,MAAM8N,GACtCib,EAAS9U,OAAO+C,EAAG,GACnBA,GAKJ,CACF,CACF,CACA,GAAK8zD,IAIe,IAApB/hD,EAASp3B,QAA+B,IAAd48B,EAAK3xB,OAA4B,IAAd2xB,EAAK3xB,MAA+B,IAAjB2xB,EAAKmkC,SAKpEnkC,EAAKtW,MAAMq/C,MACTh8C,GAAiB,IAAXA,EAAE1e,OAAeqnC,EAAQ03B,oBAAoBrgD,EAAE3mB,SAIzC,aAAb45B,EAAKl7B,MAGP,IAAK,IAAIY,EAAI,EAAGA,EAAI80B,EAASp3B,OAAQsC,IAAK,CACxC,MAAMg1B,EAAQF,EAAS90B,GACvB,GAAIs+D,GAAStpC,IAAyB,IAAfA,EAAMrsB,KAAY,CACvC,MAAMmuE,EAAW,GACE,IAAf9hD,EAAMrsB,MAAgC,MAAlBqsB,EAAMmtB,SAC5B20B,EAAS/qE,KAAKipB,GAEXgb,EAAQmsB,KAA2C,IAApC8J,GAAgBjxC,EAAOgb,IACzC8mC,EAAS/qE,KACP,KAGJ+oB,EAAS90B,GAAK,CACZ2I,KAAM,GACNw5C,QAASntB,EACTmiC,IAAKniC,EAAMmiC,IACXoD,YAAaiB,GACXxrB,EAAQ2qB,OAAO1C,IACf6e,GAGN,CACF,EAEJ,EAGIC,GAAyB,IAAIC,QAC7BC,GAAgBA,CAAC38C,EAAM0V,KAC3B,GAAkB,IAAd1V,EAAK3xB,MAAco1D,GAAQzjC,EAAM,QAAQ,GAAO,CAClD,GAAIy8C,GAAO/uE,IAAIsyB,IAAS0V,EAAQw4B,SAAWx4B,EAAQ6qB,MACjD,OAKF,OAHAkc,GAAOtiE,IAAI6lB,GACX0V,EAAQw4B,SAAU,EAClBx4B,EAAQ2qB,OAAOtB,IACR,KACLrpB,EAAQw4B,SAAU,EAClB,MAAMv6C,EAAM+hB,EAAQs4B,YAChBr6C,EAAIssC,cACNtsC,EAAIssC,YAAcvqB,EAAQjvB,MACxBkN,EAAIssC,aACJ,GAGJ,CAEJ,GAGI2c,GAAiBA,CAACv5C,EAAKrD,EAAM0V,KACjC,MAAM,IAAEiuB,EAAG,IAAEh6D,GAAQ05B,EACrB,IAAKsgC,EAIH,OAHAjuB,EAAQlN,QACNm0B,GAAoB,GAAIt5B,EAAIw5B,MAEvBggB,KAET,MAAMC,EAASnZ,EAAI9G,IAAIv3D,OACjBy3E,EAAyB,IAAbpZ,EAAIt1D,KAAas1D,EAAI9b,QAAUi1B,EAC3CE,EAActnC,EAAQ83B,gBAAgBsP,GAC5C,GAAoB,UAAhBE,GAA2C,kBAAhBA,EAE7B,OADAtnC,EAAQlN,QAAQm0B,GAAoB,GAAIgH,EAAI9G,MACrCggB,KAET,MAAMI,GAAW,EACjB,IAAKF,EAAUxzD,SAAWw5C,GAAmBga,KAAeE,EAI1D,OAHAvnC,EAAQlN,QACNm0B,GAAoB,GAAIgH,EAAI9G,MAEvBggB,KAET,MAAMK,EAAWvzE,GAAYm3D,GAAuB,cAAc,GAC5D8a,EAAYjyE,EAAMq4D,GAAYr4D,GAAQ,aAAWid,EAAAA,EAAAA,IAASjd,EAAIk+C,WAAaoZ,GAAyB,CAAC,iBAAkBt3D,IAAS,sBACtI,IAAIwzE,EACJ,MAAMC,EAAW1nC,EAAQg4B,KAAQ,gBAAkB,SAEjDyP,EAAgBlc,GAAyB,CACtC,GAAEmc,UACHzZ,EACC,gBAGL,MAAMj6C,EAAQ,CAEZm3C,GAAqBqc,EAAU75C,EAAIsgC,KAEnC9C,GAAqB+a,EAAWuB,IAElC,GAAI95C,EAAIC,UAAUlgC,QAA2B,IAAjB48B,EAAKmkC,QAAe,CAC9C,MAAM7gC,EAAYD,EAAIC,UAAU7nB,KAAKpU,IAAOg7D,GAAmBh7D,GAAKA,EAAIgkB,KAAKC,UAAUjkB,IAAO,WAASwI,KAAM,MACvGunB,EAAeztB,EAAMq4D,GAAYr4D,GAAQ,GAAEA,EAAIk+C,mBAAqBoZ,GAAyB,CAACt3D,EAAK,mBAAsB,iBAC/H+f,EAAMjY,KACJovD,GACEzpC,EACA0pC,GACG,KAAIx9B,OACL,EACAD,EAAIw5B,IACJ,IAIR,CACA,OAAOggB,GAAqBnzD,EAAM,EAEpC,SAASmzD,GAAqBnzD,EAAQ,IACpC,MAAO,CAAEA,QACX,CAEA,MAAM2zD,GAAsB,gBACtBC,GAAkBA,CAACt9C,EAAM0V,KACxB0vB,GAAgB,kBAAmB1vB,KAGtB,IAAd1V,EAAK3xB,MACPkvE,GAAcv9C,EAAK6nB,QAASnS,GAEZ,IAAd1V,EAAK3xB,MACP2xB,EAAKtW,MAAM/O,SAAS49B,IACA,IAAdA,EAAKlqC,MAA4B,QAAdkqC,EAAKnyC,MAAkBmyC,EAAKorB,KACjD4Z,GAAchlC,EAAKorB,IAAKjuB,EAC1B,IAEJ,EAEF,SAAS6nC,GAAcv9C,EAAM0V,GAC3B,GAAkB,IAAd1V,EAAK3xB,KACPmvE,GAAYx9C,EAAM0V,QAElB,IAAK,IAAIhwC,EAAI,EAAGA,EAAIs6B,EAAKxF,SAASp3B,OAAQsC,IAAK,CAC7C,MAAMg1B,EAAQsF,EAAKxF,SAAS90B,GACP,kBAAVg1B,IAEQ,IAAfA,EAAMrsB,KACRmvE,GAAY9iD,EAAOgb,GACK,IAAfhb,EAAMrsB,KACfkvE,GAAcv9C,EAAM0V,GACI,IAAfhb,EAAMrsB,MACfkvE,GAAc7iD,EAAMmtB,QAASnS,GAEjC,CAEJ,CACA,SAAS8nC,GAAYx9C,EAAM0V,GACzB,MAAMiuB,EAAM3jC,EAAK6nB,QACjB,IAQIzgD,EAAGmxB,EAAM7yB,EAAG+3E,EARZC,GAAW,EACXC,GAAW,EACXC,GAAmB,EACnBC,GAAU,EACVC,EAAQ,EACRC,EAAS,EACTC,EAAQ,EACRC,EAAkB,EACM7qC,EAAU,GACtC,IAAK1tC,EAAI,EAAGA,EAAIi+D,EAAIvgE,OAAQsC,IAG1B,GAFA6yB,EAAOnxB,EACPA,EAAIu8D,EAAIH,WAAW99D,GACfg4E,EACQ,KAANt2E,GAAqB,KAATmxB,IACdmlD,GAAW,QACR,GAAIC,EACC,KAANv2E,GAAqB,KAATmxB,IACdolD,GAAW,QACR,GAAIC,EACC,KAANx2E,GAAqB,KAATmxB,IACdqlD,GAAmB,QAChB,GAAIC,EACC,KAANz2E,GAAqB,KAATmxB,IACdslD,GAAU,QACP,GAAU,MAANz2E,GACe,MAA1Bu8D,EAAIH,WAAW99D,EAAI,IAAwC,MAA1Bi+D,EAAIH,WAAW99D,EAAI,IAAeo4E,GAAUC,GAAWC,EAOjF,CACL,OAAQ52E,GACN,KAAK,GACHu2E,GAAW,EACX,MACF,KAAK,GACHD,GAAW,EACX,MACF,KAAK,GACHE,GAAmB,EACnB,MACF,KAAK,GACHI,IACA,MACF,KAAK,GACHA,IACA,MACF,KAAK,GACHD,IACA,MACF,KAAK,GACHA,IACA,MACF,KAAK,IACHD,IACA,MACF,KAAK,IACHA,IACA,MAEJ,GAAU,KAAN12E,EAAU,CACZ,IACI2lB,EADAtE,EAAI/iB,EAAI,EAEZ,KAAO+iB,GAAK,EAAGA,IAEb,GADAsE,EAAI42C,EAAIz8C,OAAOuB,GACL,MAANsE,EACF,MAECA,GAAMswD,GAAoBtzE,KAAKgjB,KAClC8wD,GAAU,EAEd,CACF,WAhDqB,IAAfJ,GACFQ,EAAkBv4E,EAAI,EACtB+3E,EAAa9Z,EAAIv/D,MAAM,EAAGsB,GAAG6jB,QAE7B20D,IAmDN,SAASA,IACP9qC,EAAQ3hC,KAAKkyD,EAAIv/D,MAAM65E,EAAiBv4E,GAAG6jB,QAC3C00D,EAAkBv4E,EAAI,CACxB,CACA,QATmB,IAAf+3E,EACFA,EAAa9Z,EAAIv/D,MAAM,EAAGsB,GAAG6jB,OACA,IAApB00D,GACTC,IAME9qC,EAAQhwC,OAAQ,CAMlB,IAAKsC,EAAI,EAAGA,EAAI0tC,EAAQhwC,OAAQsC,IAC9B+3E,EAAaU,GAAWV,EAAYrqC,EAAQ1tC,GAAIgwC,GAElD1V,EAAK6nB,QAAU41B,CACjB,CACF,CACA,SAASU,GAAWxa,EAAKnoD,EAAQk6B,GAC/BA,EAAQ2qB,OAAOrC,IACf,MAAMt4D,EAAI8V,EAAOjY,QAAQ,KACzB,GAAImC,EAAI,EAEN,OADAgwC,EAAQtC,QAAQj5B,IAAIqB,GACZ,GAAEspD,GAAetpD,EAAQ,aAAamoD,KACzC,CACL,MAAMv9D,EAAOoV,EAAOpX,MAAM,EAAGsB,GACvBwW,EAAOV,EAAOpX,MAAMsB,EAAI,GAE9B,OADAgwC,EAAQtC,QAAQj5B,IAAI/T,GACZ,GAAE0+D,GAAe1+D,EAAM,aAAau9D,IAAe,MAATznD,EAAe,IAAMA,EAAOA,GAChF,CACF,CAEA,MAAM0Z,GAAuB,IAAI8mD,QAC3B0B,GAAgBA,CAACp+C,EAAM0V,KAC3B,GAAkB,IAAd1V,EAAK3xB,KAAY,CACnB,MAAMg1B,EAAMogC,GAAQzjC,EAAM,QAC1B,IAAKqD,GAAOzN,GAAKloB,IAAIsyB,GACnB,OAGF,OADApK,GAAKzb,IAAI6lB,GACF,KACL,MAAMigC,EAAcjgC,EAAKigC,aAAevqB,EAAQs4B,YAAY/N,YACxDA,GAAoC,KAArBA,EAAY5xD,OACR,IAAjB2xB,EAAKmkC,SACPrC,GAAe7B,EAAavqB,GAE9B1V,EAAKigC,YAAciB,GAAqBxrB,EAAQ2qB,OAAOhB,IAAY,CACjEh8B,EAAIsgC,IACJxC,QAAyB,EAAQlB,GAChC,SACD59D,OAAOqzC,EAAQ7d,YAEnB,CAEJ,GAGF,SAASwmD,GAAuBrR,GAC9B,MAAO,CACL,CACE2P,GACAjK,GACA0L,GACAvK,GACIyJ,GAEJlC,GACAtD,GACA/B,GACAuG,IAEF,CACExlE,GAAI4kE,GACJvwE,KAAM+wE,GACNoC,MAAO1B,IAGb,CACA,SAAS2B,GAAY10B,EAAU3jD,EAAU,CAAC,GACxC,MAAMsiC,EAAUtiC,EAAQsiC,SAAWi0B,GAC7B+hB,EAAgC,WAAjBt4E,EAAQyM,MAEO,IAA9BzM,EAAQ8mE,kBACVxkC,EAAQm0B,GAAoB,KACnB6hB,GACTh2C,EAAQm0B,GAAoB,KAGhC,MAAMqQ,GAAoB,EACtB9mE,EAAQgnE,eACV1kC,EAAQm0B,GAAoB,KAE1Bz2D,EAAQmoC,UAAYmwC,GACtBh2C,EAAQm0B,GAAoB,KAE9B,MAAM4S,GAAMxpD,EAAAA,EAAAA,IAAS8jC,GAAYyc,GAAUzc,EAAU3jD,GAAW2jD,GACzDsjB,EAAgBC,GAAuBiR,KAkB9C,OAjBAtnB,GACEwY,GACAj2D,EAAAA,EAAAA,IAAO,CAAC,EAAGpT,EAAS,CAClB8mE,oBACAG,eAAgB,IACXA,KACAjnE,EAAQinE,gBAAkB,IAG/BC,qBAAqB9zD,EAAAA,EAAAA,IACnB,CAAC,EACD8zD,EACAlnE,EAAQknE,qBAAuB,CAAC,MAK/B8C,GACLX,GACAj2D,EAAAA,EAAAA,IAAO,CAAC,EAAGpT,EAAS,CAClB8mE,sBAGN,CAEA,MAAMyR,GAAyBA,KAAA,CAAS/0D,MAAO,KCplJzCg1D,GAAgB1rE,OAAoE,IACpF2rE,GAAmB3rE,OAAuE,IAC1F4rE,GAAe5rE,OAAmE,IAClF6rE,GAAiB7rE,OAAqE,IACtF8rE,GAAkB9rE,OAAsE,IACxF+rE,GAAsB/rE,OAA0E,IAChGgsE,GAAiBhsE,OAAqE,IACtFisE,GAASjsE,OAA8D,IACvEy/C,GAAaz/C,OAAmE,IAChFksE,GAAmBlsE,OAAwE,IAcjG,IAAImsE,GACJ,SAASC,GAAkB19D,EAAK29D,GAAS,GAIvC,OAHKF,KACHA,GAAUv4E,SAASI,cAAc,QAE/Bq4E,GACFF,GAAQpiC,UAAa,aAAYr7B,EAAIjY,QAAQ,KAAM,cAC5C01E,GAAQ3kD,SAAS,GAAG8yB,aAAa,SAExC6xB,GAAQpiC,UAAYr7B,EACby9D,GAAQniC,YAEnB,CAzBAwiB,GAAuB,CACrB,CAACkf,IAAiB,cAClB,CAACC,IAAoB,iBACrB,CAACC,IAAgB,aACjB,CAACC,IAAkB,eACnB,CAACC,IAAmB,gBACpB,CAACC,IAAuB,gBACxB,CAACC,IAAkB,WACnB,CAACC,IAAU,QACX,CAACxsB,IAAc,aACf,CAACysB,IAAoB,oBAiBvB,MAAMI,IAAqChkE,EAAAA,EAAAA,IACzC,gCACA,GAEIikE,GAAgB,CACpBp1D,UAAS,KACT8qB,YAAcnwC,IAAQmlB,EAAAA,EAAAA,IAAUnlB,KAAQolB,EAAAA,EAAAA,IAASplB,GACjDkhE,SAAWlhE,GAAgB,QAARA,EACnBmhE,eAAgBmZ,GAChB9V,mBAAqBxkE,GACfm9D,GAAcn9D,EAAM,cACf2tD,GACEwP,GAAcn9D,EAAM,mBACtBo6E,QADF,EAKTpZ,aAAahhE,EAAK2R,GAChB,IAAIuwD,EAAKvwD,EAASA,EAAOuwD,GAAK,EAC9B,GAAIvwD,GAAiB,IAAPuwD,EACZ,GAAmB,mBAAfvwD,EAAO3R,IAA0B,CACnC,GAAY,QAARA,EACF,OAAO,EAEL2R,EAAOiT,MAAMwQ,MACdrtB,GAAiB,IAAXA,EAAEwB,MAAyB,aAAXxB,EAAEzG,MAAkC,MAAXyG,EAAE3J,QAAsC,cAApB2J,EAAE3J,MAAM2kD,SAA+C,0BAApBh7C,EAAE3J,MAAM2kD,aAE/Gmf,EAAK,EAET,KAAW,qBAAqBj9D,KAAK0M,EAAO3R,MAAgB,WAARA,GAA4B,eAARA,IACtEkiE,EAAK,QAEEvwD,GAAiB,IAAPuwD,IACA,kBAAfvwD,EAAO3R,KAA0C,SAAf2R,EAAO3R,KAAiC,UAAf2R,EAAO3R,MACpEkiE,EAAK,IAGT,GAAW,IAAPA,EAAU,CACZ,GAAY,QAARliE,EACF,OAAO,EAET,GAAY,SAARA,EACF,OAAO,CAEX,CACA,OAAOkiE,CACT,EAEAjB,aAAY,IAAEjhE,EAAG,GAAEkiE,IACjB,GAAW,IAAPA,EAAU,CACZ,GAAY,aAARliE,GAA8B,UAARA,EACxB,OAAO,EAET,GAAIw6E,GAAmBx6E,GACrB,OAAO,CAEX,CACA,OAAO,CACT,GAGI06E,GAAkBx/C,IACJ,IAAdA,EAAK3xB,MACP2xB,EAAKtW,MAAM/O,SAAQ,CAACoS,EAAGrnB,KACN,IAAXqnB,EAAE1e,MAAyB,UAAX0e,EAAE3mB,MAAoB2mB,EAAE7pB,QAC1C88B,EAAKtW,MAAMhkB,GAAK,CACd2I,KAAM,EACNjI,KAAO,OACPuD,IAAKm3D,GAAwB,SAAQ,EAAM/zC,EAAE8vC,KAC7C8G,IAAK8b,GAAe1yD,EAAE7pB,MAAM2kD,QAAS96B,EAAE8vC,KACvCv5B,UAAW,GACXu5B,IAAK9vC,EAAE8vC,KAEX,GAEJ,EAEI4iB,GAAiBA,CAACp2D,EAASwzC,KAC/B,MAAM7zC,GAAaC,EAAAA,EAAAA,IAAiBI,GACpC,OAAOy3C,GACLz1C,KAAKC,UAAUtC,IACf,EACA6zC,EACA,EACD,EAGH,SAAS6iB,GAAuB9iB,EAAMC,GACpC,OAAOF,GACLC,EACAC,OACwE,EAE5E,CACA,MAcM8iB,GAAiBA,CAACt8C,EAAKrD,EAAM0V,KACjC,MAAM,IAAEiuB,EAAG,IAAE9G,GAAQx5B,EAYrB,OAXKsgC,GACHjuB,EAAQlN,QACNk3C,GAAuB,GAAI7iB,IAG3B78B,EAAKxF,SAASp3B,SAChBsyC,EAAQlN,QACNk3C,GAAuB,GAAI7iB,IAE7B78B,EAAKxF,SAASp3B,OAAS,GAElB,CACLsmB,MAAO,CACLm3C,GACEC,GAAwB,aAAY,EAAMjE,GAC1C8G,GAAO7C,GAAuB,IAAI,KAGvC,EAGG8e,GAAiBA,CAACv8C,EAAKrD,EAAM0V,KACjC,MAAM,IAAEiuB,EAAG,IAAE9G,GAAQx5B,EAYrB,OAXKsgC,GACHjuB,EAAQlN,QACNk3C,GAAuB,GAAI7iB,IAG3B78B,EAAKxF,SAASp3B,SAChBsyC,EAAQlN,QACNk3C,GAAuB,GAAI7iB,IAE7B78B,EAAKxF,SAASp3B,OAAS,GAElB,CACLsmB,MAAO,CACLm3C,GACEC,GAAwB,eAAc,GACtC6C,EAAMgI,GAAgBhI,EAAKjuB,GAAW,EAAIiuB,EAAMzC,GAC9CxrB,EAAQ04B,aAAa/P,IACrB,CAACsF,GACD9G,GACEiE,GAAuB,IAAI,KAGpC,EAGG8b,GAAiBA,CAACv5C,EAAKrD,EAAM0V,KACjC,MAAMmqC,EAAaC,GAAiBz8C,EAAKrD,EAAM0V,GAC/C,IAAKmqC,EAAWn2D,MAAMtmB,QAA2B,IAAjB48B,EAAKmkC,QACnC,OAAO0b,EAELx8C,EAAI15B,KACN+rC,EAAQlN,QACNk3C,GACE,GACAr8C,EAAI15B,IAAIkzD,MAed,MAAM,IAAE/3D,GAAQk7B,EACV8pB,EAAkBpU,EAAQoU,gBAAgBhlD,GAChD,GAAY,UAARA,GAA2B,aAARA,GAA8B,WAARA,GAAoBglD,EAAiB,CAChF,IAAIi2B,EAAiBnB,GACjBoB,GAAgB,EACpB,GAAY,UAARl7E,GAAmBglD,EAAiB,CACtC,MAAMz7C,EAAOu1D,GAAS5jC,EAAO,QAC7B,GAAI3xB,GACF,GAAkB,IAAdA,EAAKA,KACP0xE,EAAiBjB,QACZ,GAAIzwE,EAAKnL,MACd,OAAQmL,EAAKnL,MAAM2kD,SACjB,IAAK,QACHk4B,EAAiBrB,GACjB,MACF,IAAK,WACHqB,EAAiBpB,GACjB,MACF,IAAK,OACHqB,GAAgB,EAChBtqC,EAAQlN,QACNk3C,GACE,GACAr8C,EAAIw5B,MAGR,MACF,QAEE,YAGGkH,GAAmB/jC,KAC5B+/C,EAAiBjB,GAIrB,KAAmB,WAARh6E,IACTi7E,EAAiBlB,IAIdmB,IACHH,EAAWvF,YAAc5kC,EAAQ2qB,OAAO0f,GAE5C,MACErqC,EAAQlN,QACNk3C,GACE,GACAr8C,EAAIw5B,MAOV,OAHAgjB,EAAWn2D,MAAQm2D,EAAWn2D,MAAMlO,QACjCuR,KAAuB,IAAfA,EAAEloB,IAAIwJ,MAAgC,eAAlB0e,EAAEloB,IAAIgjD,WAE9Bg4B,CAAU,EAGbI,IAAwC3kE,EAAAA,EAAAA,IAAS,wBACjD4kE,IAAmC5kE,EAAAA,EAAAA,IAEtC,sDAEG6kE,IAAmC7kE,EAAAA,EAAAA,IAAQ,cAC3C8kE,IAAkC9kE,EAAAA,EAAAA,IACrC,gCACD,GAEI+kE,GAAmBA,CAACx7E,EAAKy+B,EAAWoS,EAASmnB,KACjD,MAAMyjB,EAAe,GACfC,EAAkB,GAClBC,EAAuB,GAC7B,IAAK,IAAI96E,EAAI,EAAGA,EAAI49B,EAAUlgC,OAAQsC,IAAK,CACzC,MAAMw1E,EAAW53C,EAAU59B,GACV,WAAbw1E,GAAyB7V,GAC3B,uBACA3vB,EACAmnB,IAGSojB,GAAsB/E,GAD/BsF,EAAqB/uE,KAAKypE,GAItBiF,GAAiBjF,GACflZ,GAAYn9D,GACVu7E,GAAgBv7E,EAAIgjD,SACtBy4B,EAAa7uE,KAAKypE,GAElBqF,EAAgB9uE,KAAKypE,IAGvBoF,EAAa7uE,KAAKypE,GAClBqF,EAAgB9uE,KAAKypE,IAGnBgF,GAAiBhF,GACnBqF,EAAgB9uE,KAAKypE,GAErBoF,EAAa7uE,KAAKypE,EAI1B,CACA,MAAO,CACLoF,eACAC,kBACAC,uBACD,EAEGC,GAAiBA,CAAC57E,EAAK8xB,KAC3B,MAAM+pD,EAAgB1e,GAAYn9D,IAAsC,YAA9BA,EAAIgjD,QAAQ14C,cACtD,OAAOuxE,EAAgB5f,GAAuBnqC,GAAO,GAAqB,IAAb9xB,EAAIwJ,KAAa4yD,GAAyB,CACpG,IACDp8D,EACC,sBAAqB8xB,SACtB9xB,EACC,MACEA,CAAG,EAEJ62E,GAAcA,CAACr4C,EAAKrD,EAAM0V,IACvBirC,GAAct9C,EAAKrD,EAAM0V,GAAUmqC,IACxC,MAAM,UAAEv8C,GAAcD,EACtB,IAAKC,EAAUlgC,OACb,OAAOy8E,EACT,IAAI,IAAEh7E,EAAK3B,MAAO09E,GAAef,EAAWn2D,MAAM,GAClD,MAAM,aAAE42D,EAAY,gBAAEC,EAAe,qBAAEC,GAAyBH,GAAiBx7E,EAAKy+B,EAAWoS,EAASrS,EAAIw5B,KAoB9G,GAnBI0jB,EAAgBj9E,SAAS,WAC3BuB,EAAM47E,GAAe57E,EAAM,kBAEzB07E,EAAgBj9E,SAAS,YAC3BuB,EAAM47E,GAAe57E,EAAM,cAEzB07E,EAAgBn9E,SAClBw9E,EAAa1f,GAAqBxrB,EAAQ2qB,OAAO0e,IAAsB,CACrE6B,EACAv1D,KAAKC,UAAUi1D,OAGfD,EAAal9E,QACf4+D,GAAYn9D,KAAQu7E,GAAgBv7E,EAAIgjD,WACxC+4B,EAAa1f,GAAqBxrB,EAAQ2qB,OAAO2e,IAAiB,CAChE4B,EACAv1D,KAAKC,UAAUg1D,MAGfE,EAAqBp9E,OAAQ,CAC/B,MAAMy9E,EAAkBL,EAAqB/kE,IAAIwL,EAAAA,IAAYpX,KAAK,IAClEhL,EAAMm9D,GAAYn9D,GAAOi8D,GAAwB,GAAEj8D,EAAIgjD,UAAUg5B,KAAmB,GAAQ5f,GAAyB,CAAE,IAAIp8D,EAAM,QAAOg8E,MAC1I,CACA,MAAO,CACLn3D,MAAO,CAACm3C,GAAqBh8D,EAAK+7E,IACnC,IAICE,GAAgBA,CAACz9C,EAAKrD,EAAM0V,KAChC,MAAM,IAAEiuB,EAAG,IAAE9G,GAAQx5B,EAMrB,OALKsgC,GACHjuB,EAAQlN,QACNk3C,GAAuB,GAAI7iB,IAGxB,CACLnzC,MAAO,GACP4wD,YAAa5kC,EAAQ2qB,OAAO4e,IAC7B,EAgDH,MAAM8B,GAAuBA,CAAC/gD,EAAM0V,KAChB,IAAd1V,EAAK3xB,MAA+B,IAAjB2xB,EAAKmkC,SAA+B,WAAbnkC,EAAKl7B,KAAiC,UAAbk7B,EAAKl7B,KAO1E4wC,EAAQ44B,YACV,EAGI0S,GAAoB,CACxBxB,IAGIyB,GAAyB,CAC7BC,MAAOzC,GACP0C,KAAMxB,GACNj4B,KAAMk4B,GACNtB,MAAO1B,GAEP9lE,GAAI4kE,GAEJ0F,KAAMN,IAER,SAAS93B,GAAQa,EAAU3jD,EAAU,CAAC,GACpC,OAAOq4E,GACL10B,GACAvwC,EAAAA,EAAAA,IAAO,CAAC,EAAGimE,GAAer5E,EAAS,CACjCinE,eAAgB,CAId4T,MACGC,MACA96E,EAAQinE,gBAAkB,IAE/BC,qBAAqB9zD,EAAAA,EAAAA,IACnB,CAAC,EACD2nE,GACA/6E,EAAQknE,qBAAuB,CAAC,GAElCjB,eAAgB,OAGtB,CCpdA,MAAMkV,GAA+B19E,OAAOohB,OAAO,MACnD,SAASu8D,GAAkBz3B,EAAU3jD,GACnC,KAAK6f,EAAAA,EAAAA,IAAS8jC,GAAW,CACvB,IAAIA,EAAShP,SAIX,OAAOl2B,EAAAA,GAHPklC,EAAWA,EAAS9M,SAKxB,CACA,MAAMl4C,EAAMglD,EACNhyB,EAASwpD,GAAax8E,GAC5B,GAAIgzB,EACF,OAAOA,EAET,GAAoB,MAAhBgyB,EAAS,GAAY,CACvB,MAAM7mD,EAAK4D,SAASs+C,cAAc2E,GAC9B,EAGJA,EAAW7mD,EAAKA,EAAG+5C,UAAa,EAClC,CACA,MAAMwkC,GAAOjoE,EAAAA,EAAAA,IACX,CACE8xD,aAAa,EACb5iC,aAA+D,EAC/D49B,OAA8EzhD,EAAAA,IAEhFze,GAEGq7E,EAAKz3B,iBAA6C,qBAAnB03B,iBAClCD,EAAKz3B,gBAAmBhlD,KAAU08E,eAAe96E,IAAI5B,IAEvD,MAAM,KAAE83D,GAAS5T,GAAQa,EAAU03B,GAWnC,MAAMhwD,EAAS,IAAIhmB,SAAS,MAAOqxD,EAApB,CAA0B6kB,GAEzC,OADAlwD,EAAOm4B,KAAM,EACN23B,GAAax8E,GAAO0sB,CAC7B,CACAi4B,GAAwB83B,G,8EC5DjB,MAAMI,EACTr0E,YAAYs0E,EAAQC,EAAQC,GACxB//E,KAAKggF,QAAUH,EACf7/E,KAAKigF,QAAUH,EACf9/E,KAAKkgF,eAAiBH,CAC1B,CAMAzxE,MAAM6xE,GACF,MAAMhxD,EAAI,IAAI/D,KAAK+0D,GACb90D,EAAIrrB,KAAKggF,QAAQ7wD,GACvB,OAAOnvB,KAAKigF,QAAQ50D,EACxB,CAKAhd,KAAK8xE,GACD,MAAMhxD,EAAI,IAAI/D,KAAKxS,OAAOunE,GAAQ,GAC5B90D,EAAIrrB,KAAKggF,QAAQ7wD,GACvB,OAAOnvB,KAAKigF,QAAQ50D,EAAI,EAC5B,CAOAlF,MAAME,EAAOnR,EAAMsC,GACf,IAAI8B,EACJ,MAAMymE,EAA+C,QAA9BzmE,EAAKtZ,KAAKkgF,sBAAmC,IAAP5mE,OAAgB,EAASA,EAAG9P,KAAKxJ,KAAMqmB,EAAOnR,GACrGkrE,EAAKpgF,KAAKggF,QAAQxoE,EAASxX,KAAKsO,MAAM+X,GAASrmB,KAAKqO,KAAKgY,IACzDk6B,EAAKvgD,KAAKggF,QAAQxoE,EAASxX,KAAKqO,KAAK6G,GAAQlV,KAAKsO,MAAM4G,IAC9D,GAAIqrC,EAAK6/B,EACL,MAAO,GAEX,MAAMj6D,EAAQ,GACd,IAAK,IAAIkF,EAAI+0D,EAAI/0D,GAAKk1B,EAAIl1B,IAAK,CAC3B,MAAM8D,EAAInvB,KAAKigF,QAAQ50D,GACvBlF,EAAMxW,KAAKwf,EACf,CAEA,OADkB,OAAlB4wD,QAA4C,IAAlBA,GAAoCA,IACvD55D,CACX,EAEG,MAAMk6D,UAA8BT,EACvCU,UAAUC,EAAQC,GACd,MAAMn7E,EAAsB,kBAAXk7E,GAAuBA,aAAkBn1D,KAAOprB,KAAKggF,QAAQ,IAAI50D,KAAKm1D,IAAW,EAClG,OAAO71E,KAAK4D,MAAMjJ,GAAKm7E,CAC3B,CAOAz7C,MAAMy7C,EAAMp8E,GACR,IACI27E,EADAjiB,EAAS,EAEb,MAAM,OAAEyiB,EAAS,SAAwB,OAAZn8E,QAAgC,IAAZA,EAAqBA,EAAU,CAAC,EACjF,GAAsB,kBAAXm8E,EAAqB,CAC5B,MAAME,EAAgB3iB,EACtBiiB,EAAgBA,CAAC15D,EAAOnR,KACpB,MAAM7P,EAAe,UAAXk7E,EAAqBl6D,EAAQnR,EAEvC,OADA4oD,EAAS99D,KAAKsgF,UAAUj7E,EAAGm7E,GACpB,IAAO1iB,EAAS2iB,CAAc,CAE7C,KAC2B,kBAAXF,EACZziB,EAAS99D,KAAKsgF,UAAU,IAAIl1D,KAAKm1D,GAASC,GAErCD,aAAkBn1D,OACvB0yC,EAAS99D,KAAKsgF,UAAUC,EAAQC,IAEpC,MAAMX,EAAUM,IACZ,MAAM90D,EAAIrrB,KAAKggF,QAAQG,GACvB,OAAOz1E,KAAK4D,OAAO+c,EAAIyyC,GAAU0iB,EAAK,EAEpCV,EAAUY,GACL1gF,KAAKigF,QAAQS,EAAUF,EAAO1iB,GAEnC6iB,EAAW,IAAIf,EAAaC,EAAQC,EAAQC,GAClD,OAAOY,CACX,ECxFJ,SAASd,EAAOM,GACZ,OAAOA,EAAKp3D,SAChB,CACA,SAAS+2D,EAAOY,GACZ,OAAO,IAAIt1D,KAAKs1D,EACpB,CACO,MAAME,EAAc,IAAIP,EAAsBR,EAAQC,GAC7D,QCPyB,IAAI10D,KAAK,GAAGy1D,cAA9B,MACMC,EAAiB,IACjBC,EAAkC,GAAjBD,EACjBE,EAAgC,GAAjBD,EACfE,EAA6B,GAAfD,EACdE,EAA6B,EAAdD,EACfE,EAA8B,GAAdF,EAChBG,EAA6B,IAAdH,ECNtBnjB,GAAS,IAAI1yC,MAAOi2D,oBAAsBN,EAChD,SAASlB,EAAOM,GACZ,OAAOz1E,KAAK4D,OAAO6xE,EAAKp3D,UAAY+0C,GAAUgjB,EAClD,CACA,SAAShB,EAAOY,GACZ,OAAO,IAAIt1D,KAAK0yC,EAAS4iB,EAAUI,EACvC,CACO,MAAMQ,EAAS,IAAIjB,EAAsBR,EAAQC,GACxD,QCRA,MAAMhiB,GAAS,IAAI1yC,MAAOi2D,oBAAsBN,EAChD,SAASlB,EAAOM,GACZ,OAAOz1E,KAAK4D,OAAO6xE,EAAKp3D,UAAY+0C,GAAUijB,EAClD,CACA,SAASjB,EAAOY,GACZ,OAAO,IAAIt1D,KAAK0yC,EAAS4iB,EAAUK,EACvC,CACO,MAAMQ,EAAS,IAAIlB,EAAsBR,EAAQC,GACxD,QCRA,MAAMhiB,GAAS,IAAI1yC,MAAOi2D,oBAAsBN,EAChD,SAASlB,EAAOM,GACZ,OAAOz1E,KAAK4D,OAAO6xE,EAAKp3D,UAAY+0C,GAAUkjB,EAClD,CACA,SAASlB,EAAOY,GACZ,OAAO,IAAIt1D,KAAK0yC,EAAS4iB,EAAUM,EACvC,CACO,MAAMQ,EAAO,IAAInB,EAAsBR,EAAQC,GACtD,QCRA,SAASD,EAAOM,GACZ,MAAMsB,EAAMr2D,KAAKs2D,IAAIvB,EAAKU,cAAeV,EAAKwB,WAAYxB,EAAKyB,WAC/D,OAAOl3E,KAAK4D,MAAMmzE,EAAMR,EAC5B,CACA,SAASnB,EAAOY,GACZ,MAAMvxD,EAAI,IAAI/D,KAAK,GAGnB,OAFA+D,EAAE0yD,QAAQ1yD,EAAEyyD,UAAYlB,GACxBvxD,EAAE2yD,SAAS,EAAG,EAAG,EAAG,GACb3yD,CACX,CACO,MAAM4yD,EAAM,IAAI1B,EAAsBR,EAAQC,GACrD,QCXA,MAAMkC,EAAa,IAAI52D,KAAK,KAAM,EAAG,GAErC,SAAS62D,EAAQxzE,GAEb,MAAMsf,EAAO3C,KAAKs2D,IAAIM,EAAWnB,cAAemB,EAAWL,WAAYK,EAAWJ,WAAanzE,EAAIwyE,EACnG,SAASpB,EAAOM,GACZ,MAAMsB,EAAMr2D,KAAKs2D,IAAIvB,EAAKU,cAAeV,EAAKwB,WAAYxB,EAAKyB,WAC/D,OAAOl3E,KAAK4D,OAAOmzE,EAAM1zD,GAAQmzD,EACrC,CACA,SAASpB,EAAOY,GACZ,MAAMvxD,EAAI,IAAI/D,KAAK2C,GAEnB,OADAoB,EAAE0yD,QAAQ1yD,EAAEyyD,UAAsB,EAAVlB,GACjBvxD,CACX,CACA,OAAO,IAAIkxD,EAAsBR,EAAQC,EAC7C,CACO,MAAMoC,EAASD,EAAQ,GACRA,EAAQ,GACPA,EAAQ,GACNA,EAAQ,GACTA,EAAQ,GACVA,EAAQ,GACNA,EAAQ,GAChC,QCxBA,SAASpC,EAAOM,GACZ,OAA4B,GAArBA,EAAKU,cAAqBV,EAAKwB,UAC1C,CACA,SAAS7B,EAAOY,GACZ,MAAMyB,EAAOz3E,KAAK4D,MAAMoyE,EAAU,IAC5B0B,EAAQ1B,EAAiB,GAAPyB,EACxB,OAAO,IAAI/2D,KAAK+2D,EAAMC,EAAO,EACjC,CACO,MAAMA,EAAQ,IAAI/B,EAAsBR,EAAQC,GACvD,QCTA,SAASD,EAAOM,GACZ,OAAOA,EAAKU,aAChB,CACA,SAASf,EAAOY,GAGZ,MAAMvxD,EAAI,IAAI/D,KAId,OAHA+D,EAAEkzD,YAAY3B,GACdvxD,EAAEmzD,SAAS,EAAG,GACdnzD,EAAE2yD,SAAS,EAAG,EAAG,EAAG,GACb3yD,CACX,CACO,MAAMgzD,EAAO,IAAI9B,EAAsBR,EAAQC,GACtD,QCZA,SAASD,EAAOM,GACZ,OAAOz1E,KAAK4D,MAAM6xE,EAAKp3D,UAAYg4D,EACvC,CACA,SAASjB,EAAOY,GACZ,OAAO,IAAIt1D,KAAKs1D,EAAUK,EAC9B,CACyB,IAAIV,EAAsBR,EAAQC,GCN3D,SAASD,EAAOM,GACZ,OAAOz1E,KAAK4D,MAAM6xE,EAAKp3D,UAAYi4D,EACvC,CACA,SAASlB,EAAOY,GACZ,OAAO,IAAIt1D,KAAKs1D,EAAUM,EAC9B,CACuB,IAAIX,EAAsBR,EAAQC,GCNzD,SAASD,EAAOM,GACZ,OAAOz1E,KAAK4D,MAAM6xE,EAAKp3D,UAAYk4D,EACvC,CACA,SAASnB,EAAOY,GACZ,MAAMvxD,EAAI,IAAI/D,KAAK,GAGnB,OAFA+D,EAAEozD,WAAWpzD,EAAEqzD,aAAe9B,GAC9BvxD,EAAEszD,YAAY,EAAG,EAAG,EAAG,GAChBtzD,CACX,CACsB,IAAIkxD,EAAsBR,EAAQC,GCVxD,SAASD,EAAOM,GACZ,OAA+B,GAAxBA,EAAKuC,iBAAwBvC,EAAKwC,aAC7C,CACA,SAAS7C,GAAOY,GACZ,MAAMyB,EAAOz3E,KAAK4D,MAAMoyE,EAAU,IAC5B0B,EAAQ1B,EAAiB,GAAPyB,EACxB,OAAO,IAAI/2D,KAAKA,KAAKs2D,IAAIS,EAAMC,EAAO,GAC1C,CACwB,IAAI/B,EAAsBR,EAAQC,ICR1D,SAASD,GAAOM,GACZ,OAAOA,EAAKuC,gBAChB,CACA,SAAS5C,GAAOY,GAGZ,MAAMvxD,EAAI,IAAI/D,KAId,OAHA+D,EAAEyzD,eAAelC,GACjBvxD,EAAE0zD,YAAY,EAAG,GACjB1zD,EAAEszD,YAAY,EAAG,EAAG,EAAG,GAChBtzD,CACX,CACuB,IAAIkxD,EAAsBR,GAAQC,ICbzD,MAAMgD,GAAS,CAAC,WAAY,SAAU,UAAW,QAAS,QAAS,cAAe,kBAC3E,SAASC,KACZ,MAAM97E,EAAYD,UAAUC,UAC5B,OAAI67E,GAAO1qD,MAAMjY,GAAMA,EAAElY,KAAKhB,IAIlC,CCFO,MAAM+7E,GAGTz3E,aAAY,SAAEzG,EAAW8F,OAAO9F,SAAQ,MAAEm+E,EAAQ,IAAG,OAAEtzD,EAAS,IAAG,SAAEuzD,GAAW,EAAK,OAAEC,EAAS,EAAC,KAAE7+E,EAAgB,yBAAE8+E,IACjHpjF,KAAKi0C,gBAAalyC,EAClB/B,KAAKqjF,UAAW,EAGhBrjF,KAAKsjF,YAAcz9D,IACnB7lB,KAAKujF,OAAS,EACdvjF,KAAKwjF,QAAU,EACfxjF,KAAK8E,SAAWA,EAGhB9E,KAAK2mE,QAAU7hE,EAASI,cAAc,UACtClF,KAAK2mE,QAAQsc,MAAQA,EACrBjjF,KAAK2mE,QAAQh3C,OAASA,EACtB3vB,KAAK4zC,QAAU5zC,KAAK2mE,QAAQ33B,WAAW,MACvChvC,KAAKyjF,YAAczjF,KAAK4zC,QAAQ8vC,OAChC,MAAM,MAAE37D,GAAU/nB,KAAK2mE,QACvB5+C,EAAM47D,WAAa,OACnB57D,EAAM2iC,QAAU,QACZw4B,IACAn7D,EAAM67D,SAAW,WACjB77D,EAAMo7D,OAAS5iF,OAAO4iF,GACtBp7D,EAAM+tC,IAAM,IACZ/tC,EAAM6tC,KAAO,IACb7tC,EAAM87D,cAAgB,OACtB97D,EAAM+7D,QAAW,IACbx/E,IACAtE,KAAK2mE,QAAQ30D,GAAK1N,IAG1BtE,KAAK+jF,cAAcX,GACnBpjF,KAAKgkF,OAAOf,EAAOtzD,EACvB,CACIiB,cAAUxvB,GACNpB,KAAKi0C,aAAe7yC,IACpBpB,KAAK2jB,SACDviB,GACAA,EAAM4oD,YAAYhqD,KAAK2mE,SAE3B3mE,KAAKi0C,WAAa7yC,EAE1B,CACIwvB,gBACA,OAAO5wB,KAAKi0C,UAChB,CACIrf,YAAQxzB,GACRpB,KAAK2mE,QAAQ5+C,MAAM2iC,QAAUtpD,EAAQ,QAAU,OAC/CpB,KAAKqjF,WAAajiF,CACtB,CACIwzB,cACA,OAAO50B,KAAKqjF,QAChB,CACA1/D,SACI,MAAM,WAAE2Y,GAAet8B,KAAK2mE,QACV,MAAdrqC,GACAA,EAAWitB,YAAYvpD,KAAK2mE,QAEpC,CACAr2C,UACItwB,KAAK2mE,QAAQhjD,SAGb3jB,KAAK2mE,QAAQsc,MAAQ,EACrBjjF,KAAK2mE,QAAQh3C,OAAS,EACtB3vB,KAAK4zC,QAAQqwC,UAAU,EAAG,EAAG,EAAG,GAChCpiF,OAAOqiF,OAAOlkF,KAClB,CACAmkF,WACI,CAEJrnE,QACI9c,KAAK4zC,QAAQwwC,OACbpkF,KAAK4zC,QAAQywC,iBACbrkF,KAAK4zC,QAAQqwC,UAAU,EAAG,EAAGjkF,KAAKijF,MAAOjjF,KAAK2vB,QAC9C3vB,KAAK4zC,QAAQ0wC,SACjB,CACAC,UACI,MAAMC,EAAMxkF,KAAK8E,SAASI,cAAc,OAExC,OADAs/E,EAAIC,IAAMzkF,KAAK0kF,aACRF,CACX,CACAE,WAAWn4E,GACP,OAAOvM,KAAK2mE,QAAQge,UAAUp4E,EAClC,CAKAq4E,SAASC,EAAUC,EAAa,aAC5BD,GAAyB,OAAbA,QAAkC,IAAbA,EAAsBA,EAAW,IAAIp9D,QAAU,QAChF,MAAMs9D,EAAU/kF,KAAK0kF,WAAWI,GAC1BhgF,EAAW9E,KAAK8E,SAChBiG,EAAIjG,EAASI,cAAc,KACjC6F,EAAEi6E,KAAOD,EACTh6E,EAAE65E,SAAWC,EACb95E,EAAEgd,MAAM2iC,QAAU,OAClB5lD,EAASwvD,KAAKtK,YAAYj/C,GAC1BA,EAAEk6E,QACFngF,EAASwvD,KAAK/K,YAAYx+C,EAC9B,CACIm6E,iBACA,OAAOllF,KAAKsjF,WAChB,CAMAS,cAAcoB,GACV,IAAID,EAAuB,OAAVC,QAA4B,IAAVA,EAAmBA,EAAQv6E,OAAOw6E,iBAChErC,OAIDmC,EAAa,GAEjBlC,GAAWqC,cAAcrlF,KAAK4zC,QAASsxC,GACvCllF,KAAKsjF,YAAc4B,CACvB,CACII,cAAUlkF,GACVpB,KAAK2mE,QAAQ5+C,MAAMw9D,eAAiBnkF,EAAQ,YAAc,MAC9D,CACIkkF,gBACA,MAA6C,cAAtCtlF,KAAK2mE,QAAQ5+C,MAAMw9D,cAC9B,CACItC,YACA,OAAOjjF,KAAKujF,MAChB,CACI5zD,aACA,OAAO3vB,KAAKwjF,OAChB,CACAQ,OAAOf,EAAOtzD,GACV,KAAMszD,EAAQ,GAAKtzD,EAAS,GACxB,OAEJ,MAAM,QAAEg3C,EAAO,QAAE/yB,EAAO,WAAEsxC,GAAellF,KACzC2mE,EAAQsc,MAAQv4E,KAAK86E,MAAMvC,EAAQiC,GACnCve,EAAQh3C,OAASjlB,KAAK86E,MAAM71D,EAASu1D,GACrCve,EAAQ5+C,MAAMk7D,MAAQA,EAAQ,KAC9Btc,EAAQ5+C,MAAM4H,OAASA,EAAS,KAChCikB,EAAQywC,iBACRrkF,KAAKujF,OAASN,EACdjjF,KAAKwjF,QAAU7zD,CACnB,CACW81D,kCACP,GAAIzlF,KAAK0lF,sBACL,OAAO1lF,KAAK0lF,sBAEhB,MAAMhC,EAAS5+E,SAASI,cAAc,UAEtC,OADAlF,KAAK0lF,sBAAwBhC,EAAO10C,WAAW,MACxChvC,KAAK0lF,qBAChB,CACWC,qBACP,GAAI3lF,KAAK4lF,SACL,OAAO5lF,KAAK4lF,SAEhB,MAAMC,EAAQ,6BACRC,EAAMhhF,SAAS0kD,gBAAgBq8B,EAAO,OAC5CC,EAAI3hC,aAAa,QAAS,OAC1B2hC,EAAI3hC,aAAa,SAAU,OAGvB2hC,EAAIhzB,UACJgzB,EAAIhzB,UAAUz6C,IAAI,sBAGlBytE,EAAI3hC,aAAa,QAAS,sBAE9B2hC,EAAI/9D,MAAM67D,SAAW,WACrBkC,EAAI/9D,MAAM+tC,IAAM,UAChBgwB,EAAI/9D,MAAMg+D,WAAa,SACvB,MAAMJ,EAAU7gF,SAAS0kD,gBAAgBq8B,EAAO,QAOhD,OANAF,EAAQxhC,aAAa,IAAK,KAC1BwhC,EAAQxhC,aAAa,IAAK,MAC1BwhC,EAAQxhC,aAAa,OAAQ,SAC7B2hC,EAAI97B,YAAY27B,GAChB7gF,SAASwvD,KAAKtK,YAAY87B,GAC1B9lF,KAAK4lF,SAAWD,EACTA,CACX,CACW/5E,iBACP,GAAI5L,KAAKgmF,KACL,OAAOhmF,KAAKgmF,KAEhB,MAAMC,EAAWj/E,UAAUC,UAAUxF,QAAQ,WAAa,EACpDykF,EAAYl/E,UAAUC,UAAUxF,QAAQ,YAAc,EACtD0kF,GAAYF,GAAYj/E,UAAUC,UAAUxF,QAAQ,WAAa,EAUvE,OATAzB,KAAKgmF,KAAOnkF,OAAOqiF,OAAO,CACtBkC,iBAAwFrkF,IAA3E/B,KAAKylF,qBAAqBY,YAAY,QAAQC,2BAItDJ,IACAC,EACLI,kBAAyDxkF,IAA3C/B,KAAKylF,qBAAqBc,eAErCvmF,KAAKgmF,IAChB,CACAQ,mBAAmB5gC,EAAM6gC,EAAMC,EAAcC,GACzC,MAAM75D,EAAM9sB,KAAKylF,qBAIjB,OAHA34D,EAAI25D,KAAOA,EACX35D,EAAI45D,aAAeA,EACnB55D,EAAI65D,UAAYA,EACT75D,EAAIu5D,YAAYzgC,EAC3B,CAMA4gC,mBAAmB5gC,EAAM6gC,GACrB,GAAIzmF,KAAK4L,IAAIw6E,YAAa,CACtB,MAAMt5D,EAAM9sB,KAAKylF,qBACjB34D,EAAI25D,KAAOA,EACX,MAAMG,EAAU95D,EAAIu5D,YAAYzgC,GAChC,MAAO,CACHq9B,MAAO2D,EAAQ3D,MACftzD,OAAQi3D,EAAQC,wBAA0BD,EAAQN,yBAE1D,CAEI,OAAOtmF,KAAK8mF,eAAelhC,EAAM6gC,EAEzC,CACAD,sBAAsB5gC,EAAM6gC,GACxB,MAAM9hE,EAAQ3kB,KAAK+mF,cACbC,EAAYriE,EAAM8hE,GAGxB,GAAIO,EAAW,CACX,MAAMrqE,EAAOqqE,EAAUphC,GACvB,GAAIjpC,EACA,OAAOA,CAEf,MAEIgI,EAAM8hE,GAAQ,CAAC,EAEnB,MAAMd,EAAU3lF,KAAK2lF,QACrBA,EAAQ59D,MAAM0+D,KAAOA,EACrBd,EAAQzqC,YAAc0K,EAKtB,MAAMqhC,EAAOtB,EAAQuB,UACfvqE,EAAO,CACTsmE,MAAOgE,EAAKhE,MACZtzD,OAAQs3D,EAAKt3D,QAGjB,OADAhL,EAAM8hE,GAAM7gC,GAAQjpC,EACbA,CACX,CACA6pE,qBAAqB15D,EAAKq6D,GACtB,IAAIC,EAAQ,EACZ,MAAMC,EAAY,CACdjD,OACIpkF,KAAKsnF,QACLF,GACJ,EACA9C,UACI,KAAI8C,EAAQ,GAKR,MAAM,IAAI1/E,MAAM,gDAJhB1H,KAAKunF,WACLH,GAKR,EACAI,aAAaz8E,EAAG2d,EAAGpjB,EAAG6pB,EAAG9D,EAAG1nB,GACP,kBAANoH,EACP/K,KAAKynF,cAAc18E,GAGnB/K,KAAKynF,cAAc18E,EAAIo8E,EAAOz+D,EAAIy+D,EAAO7hF,EAAI6hF,EAAOh4D,EAAIg4D,EAAO97D,EAAI87D,EAAOxjF,EAAIwjF,EAEtF,EACA9C,iBAGIrkF,KAAKynF,cAAcN,EAAO,EAAG,EAAGA,EAAO,EAAG,EAC9C,EACAO,kBACI,GAAc,IAAVN,EACA,MAAM,IAAI1/E,MAAM,+CAAiD0/E,EAEzE,GAEJ,IAAK,MAAM9iF,KAAQ+iF,EACXxlF,OAAOmH,UAAUM,eAAeE,KAAK69E,EAAW/iF,KAG3CwoB,EAAI,IAAMxoB,KACXwoB,EAAI,IAAMxoB,GAAQwoB,EAAIxoB,IAI1BwoB,EAAIxoB,GAAQ+iF,EAAU/iF,GAGlC,EAEJ0+E,GAAW+D,cAAgB,CAAC,EC9SrB,MAAMY,GACTp8E,YAAYiD,EAAGo5E,EAAG3E,EAAOtzD,GACrB3vB,KAAKwO,EAAIA,EACTxO,KAAK4nF,EAAIA,EACT5nF,KAAKijF,MAAQA,EACbjjF,KAAK2vB,OAASA,CAClB,CACAgW,QACI,MAAM,EAAEn3B,EAAC,EAAEo5E,EAAC,MAAE3E,EAAK,OAAEtzD,GAAW3vB,KAChC,OAAO,IAAI2nF,GAAKn5E,EAAGo5E,EAAG3E,EAAOtzD,EACjC,CACAk4D,OAAOC,GACH,OAAO9nF,KAAKwO,IAAMs5E,EAAMt5E,GAAKxO,KAAK4nF,IAAME,EAAMF,GAAK5nF,KAAKijF,QAAU6E,EAAM7E,OAASjjF,KAAK2vB,SAAWm4D,EAAMn4D,MAC3G,CACAo4D,cAAcv5E,EAAGo5E,GACb,OAAOp5E,GAAKxO,KAAKwO,GAAKA,GAAKxO,KAAKwO,EAAIxO,KAAKijF,OAAS2E,GAAK5nF,KAAK4nF,GAAKA,GAAK5nF,KAAK4nF,EAAI5nF,KAAK2vB,MACxF,CACAq4D,aAAaF,GACT,OAAQ9nF,KAAKwO,EAAIs5E,EAAMt5E,EAAIs5E,EAAM7E,OAC7BjjF,KAAKwO,EAAIxO,KAAKijF,MAAQ6E,EAAMt5E,GAC5BxO,KAAK4nF,EAAIE,EAAMF,EAAIE,EAAMn4D,QACzB3vB,KAAK4nF,EAAI5nF,KAAK2vB,OAASm4D,EAAMF,CACrC,CACAK,aACI,OAAQv9E,KAAKw9E,IAAIloF,KAAKwO,KAAO2lB,KACzBzpB,KAAKw9E,IAAIloF,KAAK4nF,KAAOzzD,KACrBzpB,KAAKw9E,IAAIloF,KAAKijF,SAAW9uD,KACzBzpB,KAAKw9E,IAAIloF,KAAK2vB,UAAYwE,GAClC,CACAg0D,OAAOC,EAAQxE,GACX,MAAMl6E,EAAQA,CAAC23D,EAAKgnB,KAChB,OAAQhnB,GACJ,IAAK,MACDrhE,KAAK4nF,GAAKS,EAEd,IAAK,SACDroF,KAAK2vB,QAAU04D,EACf,MACJ,IAAK,OACDroF,KAAKwO,GAAK65E,EAEd,IAAK,QACDroF,KAAKijF,OAASoF,EACd,MACJ,IAAK,WACDroF,KAAK4nF,GAAKS,EACVroF,KAAK2vB,QAAgB,EAAN04D,EACf,MACJ,IAAK,aACDroF,KAAKwO,GAAK65E,EACVroF,KAAKijF,OAAe,EAANoF,EACd,MACJ,QACIroF,KAAKwO,GAAK65E,EACVroF,KAAKijF,OAAe,EAANoF,EACdroF,KAAK4nF,GAAKS,EACVroF,KAAK2vB,QAAgB,EAAN04D,EACvB,EAQJ,MANsB,kBAAXD,EACP1+E,EAAMk6E,EAAUwE,GAGhBvmF,OAAO6nB,QAAQ0+D,GAAQvvE,SAAQ,EAAEwoD,EAAKgnB,KAAS3+E,EAAM23D,EAAKgnB,KAEvDroF,IACX,CACAsoF,KAAKF,EAAQxE,GACT,GAAsB,kBAAXwE,EACPpoF,KAAKmoF,QAAQC,EAAQxE,OAEpB,CACD,MAAM2E,EAAc1mF,OAAO6hB,OAAO,CAAC,EAAG0kE,GACtC,IAAK,MAAMrlF,KAAOwlF,EACdA,EAAYxlF,KAAS,EAEzB/C,KAAKmoF,OAAOI,EAChB,CACA,OAAOvoF,IACX,CACAwmF,aAAagC,GACT,IAAI5yB,EAAOzhC,IACP2hC,EAAM3hC,IACN+kC,GAAS/kC,IACTs0D,GAAUt0D,IAed,OAdAq0D,EAAM3vE,SAAS6vE,IACPA,EAAIl6E,EAAIonD,IACRA,EAAO8yB,EAAIl6E,GAEXk6E,EAAId,EAAI9xB,IACRA,EAAM4yB,EAAId,GAEVc,EAAIl6E,EAAIk6E,EAAIzF,MAAQ/pB,IACpBA,EAAQwvB,EAAIl6E,EAAIk6E,EAAIzF,OAEpByF,EAAId,EAAIc,EAAI/4D,OAAS84D,IACrBA,EAASC,EAAId,EAAIc,EAAI/4D,OACzB,IAEG,IAAIg4D,GAAK/xB,EAAME,EAAKoD,EAAQtD,EAAM6yB,EAAS3yB,EACtD,EC9FG,MAAM6yB,GACTp9E,YAAYqzD,EAAW,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IACnC5+D,KAAK4+D,SAAWA,CACpB,CACIvzC,QACA,MAAO,IAAIrrB,KAAK4+D,SACpB,CACAgqB,YAAYhqB,GACR,MAAMvzC,EAAIrrB,KAAK4+D,SAmBf,OANAvzC,EAAE,GAAKuzC,EAAS,GAChBvzC,EAAE,GAAKuzC,EAAS,GAChBvzC,EAAE,GAAKuzC,EAAS,GAChBvzC,EAAE,GAAKuzC,EAAS,GAChBvzC,EAAE,GAAKuzC,EAAS,GAChBvzC,EAAE,GAAKuzC,EAAS,GACT5+D,IACX,CACI6oF,eACA,MAAMx9D,EAAIrrB,KAAK4+D,SACf,OAAgB,IAATvzC,EAAE,IAAqB,IAATA,EAAE,IAAqB,IAATA,EAAE,IAAqB,IAATA,EAAE,IAAqB,IAATA,EAAE,IAAqB,IAATA,EAAE,EACnF,CAKAy9D,IAAIC,EAAGC,EAAGC,GACN,MAAMl+E,EAAIg+E,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAItgE,EAAIqgE,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAI1jF,EAAIyjF,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAI75D,EAAI45D,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAI39D,EAAI09D,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAIplF,EAAIolF,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAC1ME,EAAU,OAANA,QAAoB,IAANA,EAAeA,EAAIF,EACrCE,EAAE,GAAKl+E,EACPk+E,EAAE,GAAKvgE,EACPugE,EAAE,GAAK3jF,EACP2jF,EAAE,GAAK95D,EACP85D,EAAE,GAAK59D,EACP49D,EAAE,GAAKtlF,CACX,CAMAulF,aAAapB,GAET,OADA9nF,KAAK8oF,IAAI9oF,KAAK4+D,SAAUkpB,EAAMlpB,UACvB5+D,IACX,CAMAmpF,SAASrB,GACL,MAAMlpB,EAAW,IAAIjyD,MAAM,GAE3B,OADA3M,KAAK8oF,IAAI9oF,KAAK4+D,SAAUkpB,EAAMlpB,SAAUA,GACjC,IAAI+pB,GAAO/pB,EACtB,CACAwqB,gBAAgBtB,GAEZ,OADA9nF,KAAK8oF,IAAIhB,EAAMlpB,SAAU5+D,KAAK4+D,SAAU5+D,KAAK4+D,UACtC5+D,IACX,CAIAqpF,UACI,MAAMnoF,EAAKlB,KAAK4+D,SAChB,IAAI7zD,EAAI7J,EAAG,GAAIwnB,EAAIxnB,EAAG,GAAIoE,EAAIpE,EAAG,GAAIiuB,EAAIjuB,EAAG,GAC5C,MAAMmqB,EAAInqB,EAAG,GAAIyC,EAAIzC,EAAG,GAClBooF,EAAK,GAAKv+E,EAAIokB,EAAIzG,EAAIpjB,GAK5B,OAJAyF,GAAKu+E,EACL5gE,GAAK4gE,EACLhkF,GAAKgkF,EACLn6D,GAAKm6D,EACE,IAAIX,GAAO,CAACx5D,GAAIzG,GAAIpjB,EAAGyF,EAAGzF,EAAI3B,EAAIwrB,EAAI9D,EAAG3C,EAAI2C,EAAItgB,EAAIpH,GAChE,CAIA4lF,UAAUzB,GACN,MAAM5mF,EAAKlB,KAAK4+D,SAChB,IAAI7zD,EAAI7J,EAAG,GAAIwnB,EAAIxnB,EAAG,GAAIoE,EAAIpE,EAAG,GAAIiuB,EAAIjuB,EAAG,GAC5C,MAAMmqB,EAAInqB,EAAG,GAAIyC,EAAIzC,EAAG,GAClBooF,EAAK,GAAKv+E,EAAIokB,EAAIzG,EAAIpjB,GAM5B,OALAyF,GAAKu+E,EACL5gE,GAAK4gE,EACLhkF,GAAKgkF,EACLn6D,GAAKm6D,EACLxB,EAAMc,YAAY,CAACz5D,GAAIzG,GAAIpjB,EAAGyF,EAAGzF,EAAI3B,EAAIwrB,EAAI9D,EAAG3C,EAAI2C,EAAItgB,EAAIpH,IACrD3D,IACX,CACAwpF,aACI,MAAMtoF,EAAKlB,KAAK4+D,SAChB,IAAI7zD,EAAI7J,EAAG,GAAIwnB,EAAIxnB,EAAG,GAAIoE,EAAIpE,EAAG,GAAIiuB,EAAIjuB,EAAG,GAC5C,MAAMmqB,EAAInqB,EAAG,GAAIyC,EAAIzC,EAAG,GAClBooF,EAAK,GAAKv+E,EAAIokB,EAAIzG,EAAIpjB,GAW5B,OAVAyF,GAAKu+E,EACL5gE,GAAK4gE,EACLhkF,GAAKgkF,EACLn6D,GAAKm6D,EACLpoF,EAAG,GAAKiuB,EACRjuB,EAAG,IAAMwnB,EACTxnB,EAAG,IAAMoE,EACTpE,EAAG,GAAK6J,EACR7J,EAAG,GAAKoE,EAAI3B,EAAIwrB,EAAI9D,EACpBnqB,EAAG,GAAKwnB,EAAI2C,EAAItgB,EAAIpH,EACb3D,IACX,CACAypF,eAAej7E,EAAGo5E,GACd,MAAMv8D,EAAIrrB,KAAK4+D,SACf,MAAO,CACHpwD,EAAGA,EAAI6c,EAAE,GAAKu8D,EAAIv8D,EAAE,GAAKA,EAAE,GAC3Bu8D,EAAGp5E,EAAI6c,EAAE,GAAKu8D,EAAIv8D,EAAE,GAAKA,EAAE,GAEnC,CACAq+D,cAAczC,EAAM1jF,GAChB,MAAMq7D,EAAW5+D,KAAK4+D,SAChB+qB,EAAK/qB,EAAS,GACdgrB,EAAKhrB,EAAS,GACdirB,EAAKjrB,EAAS,GACdkrB,EAAKlrB,EAAS,GACdmrB,EAAmB,GAAb9C,EAAKhE,MACX+G,EAAoB,GAAd/C,EAAKt3D,OACXs6D,EAAKhD,EAAKz4E,EAAIu7E,EACdG,EAAKjD,EAAKW,EAAIoC,EACdh0E,EAAItL,KAAKw9E,IAAI6B,EAAMJ,GAAMj/E,KAAKw9E,IAAI8B,EAAMH,GACxCn6D,EAAIhlB,KAAKw9E,IAAI6B,EAAMH,GAAMl/E,KAAKw9E,IAAI8B,EAAMF,GAQ9C,OAPKvmF,IACDA,EAAS,IAAIokF,GAAK,EAAG,EAAG,EAAG,IAE/BpkF,EAAOiL,EAAIy7E,EAAKN,EAAKO,EAAKL,EAAKjrB,EAAS,GAAK5oD,EAC7CzS,EAAOqkF,EAAIqC,EAAKL,EAAKM,EAAKJ,EAAKlrB,EAAS,GAAKlvC,EAC7CnsB,EAAO0/E,MAAQjtE,EAAIA,EACnBzS,EAAOosB,OAASD,EAAIA,EACbnsB,CACX,CACA4mF,UAAUr9D,GAoBN,GAAI9sB,KAAK6oF,SACL,OAEJ,MAAMx9D,EAAIrrB,KAAK4+D,SACf9xC,EAAImoC,UAAU5pC,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAClD,CACAm7D,iBAAiB4D,GACb,OAAOzB,GAAO7+D,SAAS8+D,YAAYwB,EAAaxrB,SACpD,CACA4nB,6BAA6B6D,EAAQC,EAAUC,EAAUC,EAAUC,EAAcC,EAAcjL,GAE3F,MAAOkL,EAAMC,GAAQ,CAAC,EAAG,GACnBC,EAAKP,EACLQ,EAAKP,EACX,IAAIQ,EACAC,EACO,IAAPH,GAAmB,IAAPC,GACZC,EAAM,EACNC,EAAM,IAGND,EAA2E,OAA3D,OAATtL,QAA0B,IAATA,OAAkB,EAASA,EAAKwL,gBAA0BN,EAAgB,OAATlL,QAA0B,IAATA,OAAkB,EAASA,EAAKwL,eAC1ID,EAA2E,OAA3D,OAATvL,QAA0B,IAATA,OAAkB,EAASA,EAAKyL,gBAA0BN,EAAgB,OAATnL,QAA0B,IAATA,OAAkB,EAASA,EAAKyL,gBAE9I,MAAM/qE,EAAIqqE,EACJW,EAAMzgF,KAAKygF,IAAIhrE,GACfirE,EAAM1gF,KAAK0gF,IAAIjrE,GACrB,IAAIkrE,EACAC,EACM,IAANnrE,GACAkrE,EAAM,EACNC,EAAM,IAGND,EAA4E,OAA5D,OAAT5L,QAA0B,IAATA,OAAkB,EAASA,EAAK8L,iBAA2BZ,EAAgB,OAATlL,QAA0B,IAATA,OAAkB,EAASA,EAAK8L,gBAC3ID,EAA4E,OAA5D,OAAT7L,QAA0B,IAATA,OAAkB,EAASA,EAAK+L,iBAA2BZ,EAAgB,OAATnL,QAA0B,IAATA,OAAkB,EAASA,EAAK+L,iBAE/I,MAAMC,EAAKhB,EACLiB,EAAKhB,EAcLiB,EAAMZ,GAAO,EAAIF,GAAMQ,EACvBO,EAAMZ,GAAO,EAAIF,GAAMQ,EAS7B,OARAjB,EAAOzB,YAAY,CACfuC,EAAMN,EACNO,EAAMP,GACLO,EAAMN,EACPK,EAAML,EACNK,EAAMQ,EAAMP,EAAMQ,EAAMP,EAAMI,EAC9BL,EAAMO,EAAMR,EAAMS,EAAMN,EAAMI,IAE3BrB,CACX,CACA7D,mBAAmB15D,GACf,MAAM++D,EAAY/+D,EAAIy5D,eACtB,OAAO,IAAIoC,GAAO,CAACkD,EAAU9gF,EAAG8gF,EAAUnjE,EAAGmjE,EAAUvmF,EAAGumF,EAAU18D,EAAG08D,EAAUxgE,EAAGwgE,EAAUloF,GAClG,EAEJglF,GAAO7+D,SAAW,IAAI6+D,GCvPtB,MAAMmD,GAAS,CAAC,EAMT,SAASC,GAASjiE,GACrB,IAAIxQ,EACJ,MAAM/N,EAAcue,EAASve,YACvB8+C,EAAYxoD,OAAOmH,UAAUM,eAAeE,KAAK+B,EAAa,aAC9DA,EAAY8+C,UACZ9+C,EAAYjH,KAClB,IAAK+lD,EACD,MAAM,IAAI3iD,MAAO,OAAM6D,0CAE3B,MAAMygF,GAAuC,QAA5B1yE,EAAKwyE,GAAOzhC,UAA+B,IAAP/wC,EAAgBA,EAAK,GAAK,EAE/E,OADAwyE,GAAOzhC,GAAa2hC,EACb3hC,EAAY,IAAM2hC,CAC7B,CClBO,IAAIC,GAWX,SAASC,KACL,IAEI,OADA,IAAIziF,SAAS,gBACN,CACX,CACA,MAAO4hB,GACH,OAAO,CACX,CACJ,EAlBA,SAAW4gE,GACPA,EAAWA,EAAW,QAAU,GAAK,OAErCA,EAAWA,EAAW,WAAa,GAAK,UAExCA,EAAWA,EAAW,SAAW,GAAK,QAEtCA,EAAWA,EAAW,SAAW,GAAK,OACzC,EARD,CAQGA,KAAeA,GAAa,CAAC,IAWhC,MAAME,GAA0BD,KACzB,SAASE,GAAqB3M,GACjC,MAAM,SAAE4M,EAAQ,UAAEC,GAAuB,OAAT7M,QAA0B,IAATA,EAAkBA,EAAO,CAAC,EAC3E,OAAO,SAAUl8E,EAAQR,GAErB,MAAMwpF,EAAc,KAAIxpF,IACpBQ,EAAOR,KAGPopF,IAAuC,MAAZE,GAAiC,MAAbC,EAC/CE,GAAkBjpF,EAAQR,EAAKwpF,EAAY9M,GAG3CgN,GAAkBlpF,EAAQR,EAAKwpF,EAAY9M,GAEnD,CACJ,CACA,SAAS+M,GAAkBjpF,EAAQR,EAAKwpF,EAAY9M,GAChD,MAAM,OAAEiN,EAAST,GAAWU,QAAO,KAAEpgF,EAAO,SAAQ,uBAAEqgF,GAAyB,GAAmB,OAATnN,QAA0B,IAATA,EAAkBA,EAAO,CAAC,EAI9HoN,EAAW,IAAIpjF,SAAS,QAAU,mCACZ8iF,2DAEbA,2BACI,WAAThgF,EAAqB,wBAAuBmgF,MAAa,mBAChD,cAATngF,EAAwB,2BAA0BmgF,MAAa,mBACtD,SAATngF,EACH,wEAAuEmgF,QACxE,mBACa,SAATngF,EACH,wEAAuEmgF,QACxE,0BAEAE,EACC,uCAAsCX,GAAWa,iDAClD,QAEAC,EAAW,IAAItjF,SAAU,eAAc8iF,MAC7C1qF,OAAOG,eAAeuB,EAAQR,EAAK,CAC/B4I,IAAKkhF,EACLjoF,IAAKmoF,EACL/oF,YAAY,EACZC,cAAc,GAEtB,CACA,SAASwoF,GAAkBlpF,EAAQR,EAAKwpF,EAAY9M,GAChD,MAAM,OAAEiN,EAAST,GAAWU,QAAO,KAAEpgF,EAAO,SAAQ,SAAE8/E,EAAQ,UAAEC,EAAS,uBAAEM,GAAyB,GAAoB,OAATnN,QAA0B,IAATA,EAAkBA,EAAO,CAAC,EAIpJtxE,EAAS,SAAU/M,GACrB,MAAMoX,EAAWxY,KAAKusF,GACtBnrF,EAAQkrF,EAAYA,EAAUlrF,GAASA,EACnCA,IAAUoX,IACVxY,KAAKusF,GAAcnrF,EACN,WAATmL,GACAvM,KAAKgtF,UAAUhtF,KAAM0sF,GACZ,cAATngF,GACAvM,KAAKitF,mBAAmBP,GACf,SAATngF,GAAoBvM,KAAKktF,aACzBltF,KAAKktF,YAAa,EAClBltF,KAAKgtF,UAAUhtF,KAAM0sF,IAEZ,SAATngF,GAAoBvM,KAAKmtF,aACzBntF,KAAKmtF,YAAa,EAClBntF,KAAKgtF,UAAUhtF,KAAM0sF,IAErBL,GACAA,EAASrsF,OAEb4sF,GAAmC,MAATxrF,GAAiBA,EAAMohB,OAASypE,GAAWa,MACrE9sF,KAAKgtF,UAAU5rF,EAAOA,EAAMohB,OACpC,EACMtU,EAAS,WACX,OAAOlO,KAAKusF,EAChB,EACA1qF,OAAOG,eAAeuB,EAAQR,EAAK,CAC/B4I,IAAKwC,EACLvJ,IAAKsJ,EACLlK,YAAY,EACZC,cAAc,GAEtB,CACO,MAAMmpF,GACT7hF,cACIvL,KAAKwiB,OAASypE,GAAWoB,KAC7B,CACAL,UAAUM,EAAS/gF,EAAO0/E,GAAWU,SAC7B3sF,KAAKwiB,OAASjW,IAGlBvM,KAAKwiB,OAASjW,EAClB,CACAghF,UAAUC,GACNxtF,KAAKwiB,OAASypE,GAAWa,IAC7B,CACAW,UACI,OAAOztF,KAAKwiB,OAASypE,GAAWa,IACpC,ECxHJ,IAUWY,GAVPz+D,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,GAMA,SAAWutE,GACPA,EAAcA,EAAc,OAAS,GAAK,MAC1CA,EAAcA,EAAc,QAAU,GAAK,MAC9C,EAHD,CAGGA,KAAkBA,GAAgB,CAAC,IACtC,MAAMC,GAAyB3iE,IACvBA,EAAErW,SACFqW,EAAErW,OAAOi5E,aAAc,GAE3B5iE,EAAE6iE,eAAe,EAMd,MAAMC,WAAaV,GACtB7hF,cACI+jB,SAASzsB,WAET7C,KAAK+tF,aAAeD,GAAKE,oBAIzBhuF,KAAKgS,GAAK+5E,GAAS/rF,MAKnBA,KAAKgD,IAAM6iB,IAMX7lB,KAAKiuF,iBAAkB,EACvBjuF,KAAKkuF,UAAY,GAEjBluF,KAAKmuF,SAAW,CAAC,EAGjBnuF,KAAKqqF,OAAS,IAAI1B,GAClB3oF,KAAKouF,cAAgB,IAAIzF,GACzB3oF,KAAKquF,iBAAkB,EACvBruF,KAAKsqF,SAAW,EAChBtqF,KAAKuqF,SAAW,EAOhBvqF,KAAKirF,eAAiB,KACtBjrF,KAAKkrF,eAAiB,KACtBlrF,KAAKurF,gBAAkB,KACvBvrF,KAAKwrF,gBAAkB,KAMvBxrF,KAAKwqF,SAAW,EAChBxqF,KAAKyqF,aAAe,EACpBzqF,KAAK0qF,aAAe,EACpB1qF,KAAKsuF,SAAU,EACftuF,KAAK4tF,aAAc,EACnB5tF,KAAKmjF,OAAS,EAEdnjF,KAAKuuF,oBAAiBxsF,EACtB/B,KAAK6jF,cAAgB6J,GAAcc,GACvC,CAIIC,YACA,IAAIn1E,EACJ,YAAoBvX,IAAhB/B,KAAK0uF,OACE1uF,KAAK0uF,OAEe,QAAvBp1E,EAAKtZ,KAAK2uF,eAA4B,IAAPr1E,OAAgB,EAASA,EAAGm1E,KACvE,CACIA,UAAMA,GACNzuF,KAAK0uF,OAASD,CAClB,CACAG,iBAAiBxtF,GACbpB,KAAK6uF,cAAgBztF,EACrBpB,KAAK8uF,OAAmB,OAAV1tF,QAA4B,IAAVA,OAAmB,EAASA,EAAM2tF,MAClE,IAAK,MAAMn2D,KAAS54B,KAAK04B,SACrBE,EAAMg2D,iBAAiBxtF,EAE/B,CACI4tF,mBACA,OAAOhvF,KAAK6uF,aAChB,CACIl6E,aACA,OAAO3U,KAAK2uF,OAChB,CACIj2D,eACA,OAAO14B,KAAKkuF,SAChB,CASAe,OAAO9pB,GAGEx4D,MAAMhL,QAAQwjE,KACfA,EAAQ,CAACA,IAEb,IAAK,MAAMjnC,KAAQinC,EAAO,CACtB,GAAIjnC,EAAKvpB,OACL,MAAM,IAAIjN,MAAO,GAAEw2B,wCAA2CA,EAAKvpB,WAEvE,GAAIupB,EAAK8wD,aACL,MAAM,IAAItnF,MAAO,GAAEw2B,iCAAoCA,EAAK8wD,iBAEhE,GAAIhvF,KAAKmuF,SAASjwD,EAAKlsB,IAEnB,MAAM,IAAItK,MAAO,aAAYw2B,EAAK3yB,YAAYjH,cAAc45B,KAEhEl+B,KAAKkuF,UAAUv+E,KAAKuuB,GACpBl+B,KAAKmuF,SAASjwD,EAAKlsB,KAAM,EACzBksB,EAAKywD,QAAU3uF,KACfk+B,EAAK0wD,iBAAiB5uF,KAAKgvF,aAC/B,CACAhvF,KAAK4tF,aAAc,EACnB5tF,KAAKgtF,UAAUhtF,KAAMisF,GAAWoB,MACpC,CACArjC,YAAY9rB,GAER,OADAl+B,KAAKivF,OAAO/wD,GACLA,CACX,CACAqrB,YAAYrrB,GACR,GAAIA,EAAKvpB,SAAW3U,KAAM,CACtB,MAAM4D,EAAI5D,KAAK04B,SAASj3B,QAAQy8B,GAChC,GAAIt6B,GAAK,EAOL,OANA5D,KAAKkuF,UAAUtqE,OAAOhgB,EAAG,UAClB5D,KAAKmuF,SAASjwD,EAAKlsB,IAC1BksB,EAAKywD,aAAU5sF,EACfm8B,EAAK0wD,mBACL5uF,KAAK4tF,aAAc,EACnB5tF,KAAKgtF,UAAU9uD,EAAM+tD,GAAWoB,OACzBnvD,CAEf,CACA,MAAM,IAAIx2B,MAAO,sDACrB,CASA4hD,aAAaprB,EAAM6b,GACf,MAAMplC,EAASupB,EAAKvpB,OAIpB,GAHIupB,EAAKvpB,QACLupB,EAAKvpB,OAAO40C,YAAYrrB,GAExB6b,GAAYA,EAASplC,SAAW3U,KAAM,CACtC,MAAM4D,EAAI5D,KAAK04B,SAASj3B,QAAQs4C,GAChC,KAAIn2C,GAAK,GAOL,MAAM,IAAI8D,MAAO,GAAEqyC,SAAgBplC,wDANnC3U,KAAKkuF,UAAUtqE,OAAOhgB,EAAG,EAAGs6B,GAC5Bl+B,KAAKmuF,SAASjwD,EAAKlsB,KAAM,EACzBksB,EAAKywD,QAAU3uF,KACfk+B,EAAK0wD,iBAAiB5uF,KAAKgvF,cAK/BhvF,KAAK4tF,aAAc,EACnB5tF,KAAKgtF,UAAU9uD,EAAM+tD,GAAWoB,MACpC,MAEIrtF,KAAKivF,OAAO/wD,GAEhB,OAAOA,CACX,CACAgxD,4BACIlvF,KAAKmvF,yBACL,MAAM9E,EAAS1B,GAAOyG,UAAUpvF,KAAKqqF,QACrC,IAAI11E,EAAS3U,KAAK2U,OAClB,MAAOA,EACHA,EAAOw6E,yBACP9E,EAAOjB,gBAAgBz0E,EAAO01E,QAC9B11E,EAASA,EAAOA,OAEpB,OAAO01E,CACX,CACAZ,eAAej7E,EAAGo5E,GACd,MAAMyC,EAASrqF,KAAKkvF,4BACpB,OAAO7E,EAAOb,aAAaC,eAAej7E,EAAGo5E,EACjD,CACAyH,sBAAsB7gF,EAAGo5E,GACrB,MAAMyC,EAASrqF,KAAKkvF,4BACpB,OAAO7E,EAAOZ,eAAej7E,EAAGo5E,EACpC,CACA8B,cAAczC,GACV,MAAMoD,EAASrqF,KAAKkvF,4BACpB,OAAO7E,EAAOb,aAAaE,cAAczC,EAC7C,CACAqI,qBAAqBrI,GACjB,MAAMoD,EAASrqF,KAAKkvF,4BACpB,OAAO7E,EAAOX,cAAczC,EAChC,CACAgG,qBACIjtF,KAAKquF,iBAAkB,EACvBruF,KAAKgtF,UAAUhtF,KAAMisF,GAAWoB,MACpC,CACAtF,cAAcwH,EAAIC,GACd,OAAO,CACX,CAOAC,SAASjhF,EAAGo5E,GACR,IAAItuE,EACJ,IAAKtZ,KAAKsuF,SAAWtuF,KAAK6jF,gBAAkB6J,GAAcgC,OAAS1vF,KAAK+nF,cAAcv5E,EAAGo5E,GACrF,OAEJ,MAAMlvD,EAAW14B,KAAK04B,SACtB,GAAIA,EAASp3B,OAAS,IAIlB,IAAK,IAAIsC,EAAI80B,EAASp3B,OAAS,EAAGsC,GAAK,EAAGA,IAAK,CAC3C,MAAMg1B,EAAQF,EAAS90B,GACjBmkF,EAA0D,QAAzCzuE,EAAKsf,EAAM+2D,gCAA6C,IAAPr2E,OAAgB,EAASA,EAAGyuE,cAAcv5E,EAAGo5E,GAC/GhjE,EAAMmjE,EAAgBnvD,EAAM62D,SAASjhF,EAAGo5E,QAAK7lF,EACnD,GAAI6iB,EACA,OAAOA,CAEf,MAEC,GAAI8T,EAASp3B,OAGd,IAAK,IAAIsC,EAAI80B,EAASp3B,OAAS,EAAGsC,GAAK,EAAGA,IAAK,CAC3C,MAAMghB,EAAM8T,EAAS90B,GAAG6rF,SAASjhF,EAAGo5E,GACpC,GAAIhjE,EACA,OAAOA,CAEf,MAEC,IAAK5kB,KAAKiuF,gBAEX,OAAOjuF,IAEf,CACA4vF,UAAUC,GACN,MAAM5sF,EAAS4sF,EAAU7vF,MAAQ,CAACA,MAAQ,GAC1C,IAAK,MAAM44B,KAAS54B,KAAK04B,SAAU,CAC/B,MAAMo3D,EAAcl3D,EAAMg3D,UAAUC,GAChCC,GACA7sF,EAAO0M,QAAQmgF,EAEvB,CACA,OAAO7sF,CACX,CACA8sF,cAEA,CACAJ,yBACI,MAAM1I,EAAOjnF,KAAK+vF,cAClB,IAAK9I,EACD,OAEJjnF,KAAKmvF,yBACL,MAAM9E,EAAS1B,GAAOyG,UAAUpvF,KAAKqqF,QACrC,IAAI11E,EAAS3U,KAAK2U,OAClB,MAAOA,EACHA,EAAOw6E,yBACP9E,EAAOjB,gBAAgBz0E,EAAO01E,QAC9B11E,EAASA,EAAOA,OAGpB,OADA01E,EAAOX,cAAczC,EAAMA,GACpBA,CACX,CACAkI,yBACI,IAAKnvF,KAAKquF,gBACN,OAEJ,MAAM,OAAEhE,EAAM,SAAEC,EAAQ,SAAEC,EAAQ,SAAEC,EAAQ,aAAEC,EAAY,aAAEC,EAAY,eAAEO,EAAc,eAAEC,EAAc,gBAAEK,EAAe,gBAAEC,GAAqBxrF,KAChJ2oF,GAAOqH,sBAAsB3F,EAAQC,EAAUC,EAAUC,EAAUC,EAAcC,EAAc,CAC3FO,iBACAC,iBACAK,kBACAC,oBAEJnB,EAAOd,UAAUvpF,KAAKouF,eACtBpuF,KAAKquF,iBAAkB,CAC3B,CACA5+D,OAAOwgE,GACH,MAAM,MAAEC,GAAUD,EAClBjwF,KAAKwiB,OAASypE,GAAWa,KACrBoD,GACAA,EAAMC,eACd,CACAC,UAAUtjE,GACN,MAAMm6D,EAAOjnF,KAAK+vF,cAClB,GAAY,MAAR9I,EACA,OAEJ,MAAM,EAAEz4E,EAAC,EAAEo5E,EAAC,MAAE3E,EAAK,OAAEtzD,GAAWs3D,EAC1BoJ,EAAUrwF,KAAKypF,eAAej7E,EAAGo5E,GACjC0I,EAActwF,KAAKypF,eAAej7E,EAAIy0E,EAAO2E,EAAIj4D,GACvD7C,EAAIm3D,UAAUoM,EAAQ7hF,EAAG6hF,EAAQzI,EAAG0I,EAAY9hF,EAAI6hF,EAAQ7hF,EAAG8hF,EAAY1I,EAAIyI,EAAQzI,EAC3F,CACAoF,UAAUM,EAAS/gF,EAAO0/E,GAAWU,QAAS4D,EAAahkF,GACnDvM,KAAKwiB,OAASjW,GAGdvM,KAAKwiB,SAAWjW,GAAQA,IAASgkF,IAGrCvwF,KAAKwiB,OAASjW,EACVvM,KAAK2U,OACL3U,KAAK2U,OAAOq4E,UAAUhtF,KAAMuwF,GAEvBvwF,KAAKgvF,cACVhvF,KAAKgvF,aAAahC,YAE1B,CACIwD,YACA,OAAOxwF,KAAKwiB,MAChB,CACA+qE,UAAU9N,GACN,MAAM,MAAEgR,GAAQ,EAAK,UAAEC,GAAY,GAAkB,OAATjR,QAA0B,IAATA,EAAkBA,EAAO,CAAC,EACvF,IAAIz/E,KAAKwiB,SAAWypE,GAAWa,MAAS2D,KAGxCzwF,KAAKwiB,OAASypE,GAAWa,KACrB4D,GACA,IAAK,MAAM93D,KAAS54B,KAAK04B,SACrBE,EAAM20D,WAGlB,CACAoD,oBACI,CAEAC,gBACA,IAAIlqE,EAAQ,EACRmqE,EAAa7wF,KAAKwiB,QAAUypE,GAAWa,MAAQ9sF,KAAKquF,gBAAkB,EAAI,EAC1EyC,EAAe9wF,KAAKsuF,QAAU,EAAI,EACtC,IAAK,MAAM11D,KAAS54B,KAAKkuF,UAAW,CAChC,MAAQxnE,MAAOqqE,EAAYD,aAAcE,EAAmBH,WAAYI,GAAoBr4D,EAAMg4D,UAClGlqE,GAASqqE,EACTD,GAAgBE,EAChBH,GAAcI,CAClB,CACA,MAAO,CAAEvqE,QAAOoqE,eAAcD,aAClC,CACAhD,gBACI,ECpXD,SAASqD,GAA+BnmF,EAAG2d,GAC9C,IAAI2L,EAAO,EAmBX,MAlBiB,kBAANtpB,GAA+B,kBAAN2d,EAChC2L,EAAOtpB,EAAI2d,EAEO,kBAAN3d,GAA+B,kBAAN2d,EACrC2L,EAAOtpB,EAAEomF,cAAczoE,GAEb,MAAL3d,GAAkB,MAAL2d,IAIlB2L,EADU,MAALtpB,GACG,EAEE,MAAL2d,EACE,EAGAnoB,OAAOwK,GAAGomF,cAAc5wF,OAAOmoB,KAEnC2L,CACX,CACO,SAAS+8D,GAAkBrmF,EAAG2d,EAAG0L,GACpC,MAAMi9D,EAAal1E,GACE,oBAANA,EACAA,IAEJA,EAEX,IAAK,MAAMsK,KAAO1b,EAAG,CACjB,MAAMspB,EAAOD,EAAWi9D,EAAUtmF,EAAE0b,IAAO4qE,EAAU3oE,EAAEjC,KACvD,GAAa,IAAT4N,EACA,OAAOA,CAEf,CACA,OAAO,CACX,CDmVAy5D,GAAKE,kBAAoB,EACzB/+D,GAAW,CACPm9D,GAAqB,CAAE7/E,KAAM,eAC9BuhF,GAAK9kF,UAAW,gBAAY,GAC/BimB,GAAW,CACPm9D,GAAqB,CAAE7/E,KAAM,eAC9BuhF,GAAK9kF,UAAW,gBAAY,GAC/BimB,GAAW,CACPm9D,GAAqB,CAAE7/E,KAAM,eAC9BuhF,GAAK9kF,UAAW,sBAAkB,GACrCimB,GAAW,CACPm9D,GAAqB,CAAE7/E,KAAM,eAC9BuhF,GAAK9kF,UAAW,sBAAkB,GACrCimB,GAAW,CACPm9D,GAAqB,CAAE7/E,KAAM,eAC9BuhF,GAAK9kF,UAAW,uBAAmB,GACtCimB,GAAW,CACPm9D,GAAqB,CAAE7/E,KAAM,eAC9BuhF,GAAK9kF,UAAW,uBAAmB,GACtCimB,GAAW,CACPm9D,GAAqB,CAAE7/E,KAAM,eAC9BuhF,GAAK9kF,UAAW,gBAAY,GAC/BimB,GAAW,CACPm9D,GAAqB,CAAE7/E,KAAM,eAC9BuhF,GAAK9kF,UAAW,oBAAgB,GACnCimB,GAAW,CACPm9D,GAAqB,CAAE7/E,KAAM,eAC9BuhF,GAAK9kF,UAAW,oBAAgB,GACnCimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWoB,MAAOhB,SAAWrhE,GAAMA,EAAE2lE,uBACrE7C,GAAK9kF,UAAW,eAAW,GAC9BimB,GAAW,CACPm9D,GAAqB,CACjBM,OAAQT,GAAWU,QACnBN,SAAUsB,MAEfG,GAAK9kF,UAAW,cAAU,GAC7BimB,GAAW,CACPm9D,GAAqB,CACjBM,OAAQT,GAAWU,QACnBN,SAAUsB,MAEfG,GAAK9kF,UAAW,sBAAkB,GEjarC,MAAMsoF,GAAc,CAAC,EAId,SAASC,GAAO/mF,EAAMzH,GACrBuuF,GAAYvuF,KAGhByH,IACA8mF,GAAYvuF,IAAO,EACvB,CCRO,MAAMyuF,GAAS,CAClBzC,SAAS0C,GACLl/D,QAAQm/D,OAAOD,EACnB,EACAtgE,KAAKzd,KAAY+9E,GACbl/D,QAAQpB,KAAM,eAAczd,OAAc+9E,EAC9C,EACAvvF,MAAMwR,KAAY+9E,GACS,kBAAZ/9E,EACP6e,QAAQrwB,MAAO,kBAAkBwR,KAAY+9E,GAG7Cl/D,QAAQrwB,MAAO,eAAcwR,OAAc+9E,EAEnD,EACAE,SAASj+E,KAAY+9E,GACjBF,IAAO,IAAMC,GAAOrgE,KAAKzd,KAAY+9E,IAAc,gBAAe/9E,IACtE,EACAk+E,UAAUl+E,KAAY+9E,GAClBF,IAAO,IAAMC,GAAOtvF,MAAMwR,KAAY+9E,IAAc,gBAAe/9E,IACvE,GCtBJ,IAAIub,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAKO,MAAM0xE,WAAc/D,GACvBviF,YAAYk0E,GACR,IAAInmE,EACJgW,QACAtvB,KAAKy/E,KAAOA,EACZz/E,KAAK8jF,QAAU,EACf9jF,KAAK8xF,cAAW/vF,EAChB,MAAM,OAAEohF,EAAM,eAAEoL,GAA4B,OAAT9O,QAA0B,IAATA,EAAkBA,EAAO,CAAC,EAC9Ez/E,KAAKiuF,iBAAkB,OACRlsF,IAAXohF,IACAnjF,KAAKmjF,OAASA,QAEKphF,IAAnBwsF,IACAvuF,KAAKuuF,eAAiBA,GAE1BvuF,KAAKsE,KAA4B,QAApBgV,EAAKtZ,KAAKy/E,YAAyB,IAAPnmE,OAAgB,EAASA,EAAGhV,IACzE,CACAupF,gBACI,IAAIv0E,EACAtZ,KAAK+xF,QACyB,QAA7Bz4E,EAAKtZ,KAAK6uF,qBAAkC,IAAPv1E,GAAyBA,EAAG04E,UAAUhyF,KAAK+xF,MAAO/xF,KAAKmjF,OAAQnjF,KAAKuuF,gBAElH,CACA0D,UACI,OAAqB,MAAdjyF,KAAK+xF,KAChB,CACAnD,iBAAiBsD,GACb,IAAI54E,EAAIqb,EAKR,GAJI30B,KAAK6uF,eAAiB7uF,KAAK+xF,QAC3B/xF,KAAK6uF,cAAcsD,YAAYnyF,KAAK+xF,OACpC/xF,KAAK+xF,WAAQhwF,GAEb/B,KAAK+xF,MACL,MAAM,IAAIrqF,MAAM,2DAGpB,GADA4nB,MAAMs/D,iBAAiBsD,GACnBA,IAA+B,QAApB54E,EAAKtZ,KAAKy/E,YAAyB,IAAPnmE,OAAgB,EAASA,EAAGy4E,OAAQ,CAC3E,MAAM,OAAE5O,EAAM,eAAEoL,EAAc,KAAEjqF,GAA8B,QAApBqwB,EAAK30B,KAAKy/E,YAAyB,IAAP9qD,EAAgBA,EAAK,CAAC,EACtFy9D,EAAqBA,IAAMpyF,KAAKoyF,qBAChCC,EAAgBA,IAAMryF,KAAKqyF,gBACjCryF,KAAK+xF,MAAQG,EAAMI,SAAS,CAAEnP,SAAQoL,iBAAgBjqF,OAAM8tF,qBAAoBC,iBACpF,CACJ,CACAD,qBACI,IAAItO,EAAU,EACV5lD,EAAOl+B,KACX,GACQk+B,aAAgB2zD,KAChB/N,GAAW5lD,EAAK4lD,eAEd5lD,EAAOA,EAAKvpB,QACtB,OAAOmvE,CACX,CACAuO,gBACI,IAAIn0D,EAAOl+B,KACPsuF,EAAUtuF,KAAKsuF,QACnB,MAAQpwD,EAAOA,EAAKvpB,OACZupB,EAAKowD,UAGTA,EAAUpwD,EAAKowD,SAEnB,OAAOA,CACX,CACAqC,oBACQ3wF,KAAK+xF,QACL/xF,KAAK+xF,MAAMn9D,QAAU50B,KAAKsuF,QAElC,CACAtB,UAAUxpF,EAAQ+I,EAAO0/E,GAAWU,SAChC,MAAM4D,EAAahkF,GAAQ0/E,GAAWsG,MAAQtG,GAAWU,QAAUpgF,EACnE+iB,MAAM09D,UAAUxpF,EAAQ+I,EAAMgkF,EAClC,CAEAxI,cAAcwH,EAAIC,GACd,OAAO,CACX,CACAO,cAEI,OADA/vF,KAAKmvF,yBACE0C,GAAM9B,YAAY/vF,KAAK04B,SAClC,CACAi3D,yBACI,OAAO3vF,KAAK+vF,aAChB,CACAtgE,OAAOwgE,GACH,IAAI32E,EAAIqb,EACR,MAAQ8qD,MAAM,KAAEn7E,GAAqB,CAAC,GAAMtE,MACpC8uF,QAAQ,WAAE0D,GAAa,GAAU,CAAC,GAAMxyF,MAC1C,MAAEwwF,EAAK,YAAE5C,EAAW,MAAEmE,EAAK,SAAEr5D,EAAQ,SAAE+5D,GAAazyF,KAC1D,IAAI,IAAE8sB,EAAG,YAAE4lE,EAAW,SAAEC,GAAa1C,EACrC,MAAM,QAAE2C,EAAO,MAAE1C,GAAUD,EACrB4C,EAAqB/lE,EAAIy5D,eACzBkH,EAAU+C,GAASvE,GAAWsG,OAAS3E,GAAegF,EACtDE,EAAerF,GAAW/0D,EAASN,MAAM3pB,GAAMA,EAAE+hF,OAASvE,GAAWU,UAI3E,GAHIroF,GAAQkuF,GACRhB,GAAOzC,MAAM,CAAEzqF,OAAMyuF,MAAO/yF,KAAMytF,UAASqF,eAAc7C,YAAWyC,gBAEpEX,EAAO,CAEP,MAAMiB,EAAchzF,KAAK+vF,mBACHhuF,IAAlB/B,KAAK8xF,UAA2B9xF,KAAK8xF,SAASjK,OAAOmL,GAI/CA,EAAY/K,eAKlByK,GAAc,IARdA,GAAc,EACd1yF,KAAK8xF,SAAWkB,EASxB,CACA,IAAKvF,IAAYqF,IAAiBJ,EAAa,CAC3C,GAAIpuF,GAAQkuF,GAActC,EAAO,CAC7B,MAAM+C,EAASjzF,KAAK4wF,UACpBY,GAAOzC,MAAM,CAAEzqF,OAAMrB,OAAQ,WAAYgtF,YAAWgD,SAAQF,MAAO/yF,MACvE,CAOA,OANI+xF,GAAS7B,IACTA,EAAMgD,gBACNhD,EAAMiD,cAAgBnzF,KAAK4wF,UAAUlqE,YAEzC1mB,KAAKutF,UAAU,CAAEmD,WAAW,GAGhC,CACA,MAAM0C,EAAepzF,KAAKsuF,QAC1B,GAAIyD,EAAO,CAOP,GALAjlE,EAAMilE,EAAMn+C,QACZ9mB,EAAIs3D,OACJt3D,EAAIu3D,iBACJqO,GAAc,EACdX,EAAMj1E,QACF61E,EAAU,CAEV,MAAM,MAAE1P,EAAK,OAAEtzD,EAAM,EAAEnhB,EAAC,EAAEo5E,GAAM+K,EAC5BH,GACAhB,GAAOzC,MAAM,CAAEzqF,OAAMquF,WAAUU,aAAcvmE,EAAIy5D,eAAgB0J,YAAW8C,MAAO/yF,OAEvFA,KAAKszF,QAAQxmE,EAAKte,EAAGo5E,EAAG3E,EAAOtzD,EACnC,CACA7C,EAAI06D,aAAaqL,EACrB,MAII/lE,EAAIymE,aAAevzF,KAAK8jF,QAO5B,GAFA9jF,KAAKmvF,yBACLnvF,KAAKqqF,OAAOF,UAAUr9D,GAClB2lE,EAAU,CAEV,MAAM,EAAEjkF,EAAC,EAAEo5E,EAAC,MAAE3E,EAAK,OAAEtzD,GAAW8iE,EAChC3lE,EAAIs3D,OACAoO,GACAhB,GAAOzC,MAAM,CAAEzqF,OAAMmuF,WAAUY,aAAcvmE,EAAIy5D,eAAgB0J,YAAW8C,MAAO/yF,OAEvFA,KAAKszF,QAAQxmE,EAAKte,EAAGo5E,EAAG3E,EAAOtzD,GAE/BgjE,EAAW3yF,KAAKqqF,OAAOhB,UAAUK,cAAc+I,EACnD,CACI7E,IACA5tF,KAAKwzF,eACLd,GAAc,GAGlB,MAAMe,EAAuBf,IAAgBzC,EAAUyC,aAAeC,IAAa1C,EAAU0C,UAAY7lE,IAAQmjE,EAAUnjE,IACrH4mE,EAAqBD,EAAuB5xF,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGusE,GAAY,CAAEnjE,MAAK4lE,cAAaC,aAAc1C,EAEhI,IAAI0D,EAAU,EACd,IAAK,MAAM/6D,KAASF,EACXE,EAAM01D,SAAY8E,EAOlBV,GAAe95D,EAAM43D,QAAUvE,GAAWa,MAO/ChgE,EAAIs3D,OACJxrD,EAAMnJ,OAAOikE,GACb5mE,EAAIw3D,WAPI4L,IACAyD,GAAW/6D,EAAMg4D,UAAUlqE,QAR/BkS,EAAM20D,YACF2C,IACAyD,GAAW/6D,EAAMg4D,UAAUlqE,QA6BvC,GAfIwpE,IACAA,EAAMiD,cAAgBQ,GAE1BrkE,MAAMG,OAAOwgE,GACTwC,GACA3lE,EAAIw3D,UAEJyN,IACI7B,GACAA,EAAM0D,iBACV9mE,EAAIw3D,UACJyN,EAAM5N,WAE0C,QAA/CxvD,GAAMrb,EAAKy4E,EAAMn+C,SAAS8zC,uBAAoC,IAAP/yD,GAAyBA,EAAGnrB,KAAK8P,IAEzFhV,GAAQkuF,GAActC,EAAO,CAC7B,MAAM+C,EAASjzF,KAAK4wF,UACpBY,GAAOzC,MAAM,CAAEzqF,OAAMrB,OAAQ,WAAY0wF,UAAS1D,YAAWgD,SAAQF,MAAO/yF,MAChF,CACJ,CACAwzF,eACIxzF,KAAK4tF,aAAc,EACnB5tF,KAAK04B,SAASxE,MAAK,CAACnpB,EAAG2d,KACnB,IAAIpP,EAAIqb,EACR,OAAOy8D,GAAkB,CAACrmF,EAAEo4E,UAAwC,QAA3B7pE,EAAKvO,EAAEwjF,sBAAmC,IAAPj1E,EAAgBA,EAAK,MAACvX,OAAWA,GAAagJ,EAAEgjF,cAAe,CAACrlE,EAAEy6D,UAAwC,QAA3BxuD,EAAKjM,EAAE6lE,sBAAmC,IAAP55D,EAAgBA,EAAK,MAAC5yB,OAAWA,GAAa2mB,EAAEqlE,cAAemD,GAA+B,GAEpS,CACAoC,QAAQxmE,EAAKte,EAAGo5E,EAAG3E,EAAOtzD,GACtB7C,EAAI+mE,YACJ/mE,EAAIgnE,OAAOtlF,EAAGo5E,GACd96D,EAAIinE,OAAOvlF,EAAIy0E,EAAO2E,GACtB96D,EAAIinE,OAAOvlF,EAAIy0E,EAAO2E,EAAIj4D,GAC1B7C,EAAIinE,OAAOvlF,EAAGo5E,EAAIj4D,GAClB7C,EAAIknE,YACJlnE,EAAImnE,MACR,CACAzN,mBAAmBrhB,GACf,IAAIvP,EAAOzhC,IACP+kC,GAAS/kC,IACT2hC,EAAM3hC,IACNs0D,GAAUt0D,IAwBd,OAvBAgxC,EAAMtsD,SAASpK,IACX,IAAKA,EAAE6/E,QACH,OAEJ,MAAMrH,EAAOx4E,EAAEkhF,yBACf,IAAK1I,EACD,OAEJ,MAAMz4E,EAAIy4E,EAAKz4E,EACTo5E,EAAIX,EAAKW,EACXp5E,EAAIonD,IACJA,EAAOpnD,GAEPo5E,EAAI9xB,IACJA,EAAM8xB,GAENp5E,EAAIy4E,EAAKhE,MAAQ/pB,IACjBA,EAAQ1qD,EAAIy4E,EAAKhE,OAEjB2E,EAAIX,EAAKt3D,OAAS84D,IAClBA,EAASb,EAAIX,EAAKt3D,OACtB,IAEG,IAAIg4D,GAAK/xB,EAAME,EAAKoD,EAAQtD,EAAM6yB,EAAS3yB,EACtD,CAMAo+B,kCAAkCjN,GAC9BjnF,KAAKyyF,SAAWxL,EAAOjnF,KAAK0pF,cAAczC,QAAQllF,CACtD,EAEJ8vF,GAAMxnC,UAAY,QAClBp7B,GAAW,CACPm9D,GAAqB,CACjBE,UAAYnwE,GAAMzR,KAAK2G,IAAI,EAAG3G,KAAK0G,IAAI,EAAG+K,OAE/C01E,GAAM7oF,UAAW,eAAW,GCpRxB,MAAMmrF,GAGT5oF,aAAY,MAAE03E,EAAQ,IAAG,OAAEtzD,EAAS,IAAG,yBAAEyzD,IACrCpjF,KAAK40B,SAAU,EAGf50B,KAAKsjF,YAAcz9D,IACnB7lB,KAAKujF,OAAS,EACdvjF,KAAKwjF,QAAU,EACfxjF,KAAK0jF,OAAS,IAAI0Q,gBAAgBnR,EAAOtzD,GACzC3vB,KAAK4zC,QAAU5zC,KAAK0jF,OAAO10C,WAAW,MACtChvC,KAAKyjF,YAAczjF,KAAK0jF,OAAO2Q,wBAC/Br0F,KAAK+jF,cAAcX,GACnBpjF,KAAKgkF,OAAOf,EAAOtzD,EACvB,CACA62D,qBACI,OAAoC,MAA7B57E,OAAO,kBAClB,CACAu5E,WACInkF,KAAKyjF,YAAY7a,QACjB5oE,KAAKyjF,YAAczjF,KAAK0jF,OAAO2Q,uBACnC,CACA/jE,UACItwB,KAAKyjF,YAAY7a,QAGjB5oE,KAAK0jF,OAAOT,MAAQ,EACpBjjF,KAAK0jF,OAAO/zD,OAAS,EACrB3vB,KAAK4zC,QAAQqwC,UAAU,EAAG,EAAG,EAAG,EACpC,CACAnnE,QACI9c,KAAK4zC,QAAQwwC,OACbpkF,KAAK4zC,QAAQywC,iBACbrkF,KAAK4zC,QAAQqwC,UAAU,EAAG,EAAGjkF,KAAKijF,MAAOjjF,KAAK2vB,QAC9C3vB,KAAK4zC,QAAQ0wC,SACjB,CACIY,iBACA,OAAOllF,KAAKsjF,WAChB,CAMAS,cAAcoB,GACV,IAAID,EAAuB,OAAVC,QAA4B,IAAVA,EAAmBA,EAAQv6E,OAAOw6E,iBAChErC,OAIDmC,EAAa,GAEjBlC,GAAWqC,cAAcrlF,KAAK4zC,QAASsxC,GACvCllF,KAAKsjF,YAAc4B,CACvB,CACIjC,YACA,OAAOjjF,KAAKujF,MAChB,CACI5zD,aACA,OAAO3vB,KAAKwjF,OAChB,CACAQ,OAAOf,EAAOtzD,GACV,KAAMszD,EAAQ,GAAKtzD,EAAS,GACxB,OAEJ,MAAM,OAAE+zD,EAAM,QAAE9vC,EAAO,WAAEsxC,GAAellF,KACxC0jF,EAAOT,MAAQv4E,KAAK86E,MAAMvC,EAAQiC,GAClCxB,EAAO/zD,OAASjlB,KAAK86E,MAAM71D,EAASu1D,GACpCtxC,EAAQywC,iBACRrkF,KAAKujF,OAASN,EACdjjF,KAAKwjF,QAAU7zD,CACnB,EC9EG,SAAS2kE,GAAYhwF,GAIxB,MAAMiwF,EAA2B,qBAAX3pF,OAChBA,YAEE7I,EACR,OAAkB,OAAXwyF,QAA8B,IAAXA,OAAoB,EAASA,EAAOjwF,EAClE,CCTA,IAAIkwF,GAAwC,SAAUt3E,EAASu3E,EAAYlqF,EAAGmqF,GAC1E,SAASC,EAAMvzF,GAAS,OAAOA,aAAiBmJ,EAAInJ,EAAQ,IAAImJ,GAAE,SAAUokB,GAAWA,EAAQvtB,EAAQ,GAAI,CAC3G,OAAO,IAAKmJ,IAAMA,EAAImkB,WAAU,SAAUC,EAASuY,GAC/C,SAAS0tD,EAAUxzF,GAAS,IAAMo/E,EAAKkU,EAAUj3E,KAAKrc,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC1F,SAASwpE,EAASzzF,GAAS,IAAMo/E,EAAKkU,EAAU,SAAStzF,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC7F,SAASm1D,EAAKv9E,GAAUA,EAAOya,KAAOiR,EAAQ1rB,EAAO7B,OAASuzF,EAAM1xF,EAAO7B,OAAO+iB,KAAKywE,EAAWC,EAAW,CAC7GrU,GAAMkU,EAAYA,EAAUhrF,MAAMwT,EAASu3E,GAAc,KAAKh3E,OAClE,GACJ,EASA,SAASq3E,KACL,IAAIx7E,EACJ,IAAI8Y,EAAsD,QAA5C9Y,EAAKg7E,GAAY,6BAA0C,IAAPh7E,EAAgBA,EAAK,GACjE,kBAAX8Y,IACPA,EAAS,CAACA,IAEd,MAAMnvB,EAAS,GASf,OARAmvB,EAAOvZ,SAASvU,IACC,WAATA,EACArB,EAAO0M,KAAK,aAAc,SAAU,OAAQ,qBAG5C1M,EAAO0M,KAAKrL,EAChB,IAEGrB,CACX,CACO,MAAM8xF,GACTxpF,YAAYk0E,GACR,IAAInmE,EAAIqb,EAAI2C,EACZt3B,KAAKgS,GAAK+5E,GAAS/rF,MACnBA,KAAKg1F,OAAS,GACdh1F,KAAKi1F,YAAc,EACnBj1F,KAAKk1F,aAAe,EACpBl1F,KAAKwiB,QAAS,EACdxiB,KAAKm1F,MAAQ,KACbn1F,KAAK+uF,MAAQ,CACTqG,WAAW,EACXlF,OAAO,EACPmF,qBAAqB,EACrB7C,YAAY,EACZ8C,mBAAoB,IAExB,MAAM,SAAExwF,EAAW8F,OAAO9F,SAAQ,KAAE+L,GAA0D,QAAlDyI,EAAKg7E,GAAY,mCAAgD,IAAPh7E,EAAgBA,EAAK,iBAAe,MAAE2pE,EAAK,OAAEtzD,EAAM,yBAAEyzD,GAA0C3D,EACrMz/E,KAAKojF,yBAA2BA,EAChCpjF,KAAKy/E,KAAO,CAAE36E,WAAU+L,QACxB7Q,KAAK+uF,MAAMyD,YAA8C,IAAjC8B,GAAY,iBACpCt0F,KAAK+uF,MAAMmB,MAAqD,QAA5Cv7D,EAAK2/D,GAAY,6BAA0C,IAAP3/D,GAAgBA,EACxF30B,KAAK+uF,MAAMqG,UAA6D,QAAhD99D,EAAKg9D,GAAY,iCAA8C,IAAPh9D,GAAgBA,EAChGt3B,KAAK+uF,MAAMuG,mBAAqBR,KAChC90F,KAAK0jF,OAAS,IAAIV,GAAW,CAAEl+E,WAAUm+E,QAAOtzD,SAAQyzD,4BAC5D,CACIxyD,cAAUxvB,GACVpB,KAAK0jF,OAAO9yD,UAAYxvB,CAC5B,CACIwvB,gBACA,OAAO5wB,KAAK0jF,OAAO9yD,SACvB,CACAg0D,SAASC,EAAUC,GACf9kF,KAAK0jF,OAAOkB,SAASC,EAAUC,EACnC,CACAJ,WAAWn4E,GACP,OAAOvM,KAAK0jF,OAAOgB,WAAWn4E,EAClC,CACI02E,YACA,OAAOjjF,KAAKu1F,YAAcv1F,KAAKu1F,YAAY,GAAKv1F,KAAK0jF,OAAOT,KAChE,CACItzD,aACA,OAAO3vB,KAAKu1F,YAAcv1F,KAAKu1F,YAAY,GAAKv1F,KAAK0jF,OAAO/zD,MAChE,CACAq0D,OAAOf,EAAOtzD,GACVszD,EAAQv4E,KAAK86E,MAAMvC,GACnBtzD,EAASjlB,KAAK86E,MAAM71D,GAEpB,MAAM6lE,EAAevS,GAAS,GAAKtzD,GAAU,EACvC8lE,EAAM9vE,MAAMs9D,IAAUt9D,MAAMgK,GAC5B+lE,EAAYzS,IAAUjjF,KAAKijF,OAAStzD,IAAW3vB,KAAK2vB,OAC1D,QAAI+lE,GAAaD,GAAOD,KAGxBx1F,KAAKu1F,YAAc,CAACtS,EAAOtzD,GAC3B3vB,KAAKgtF,aACE,EACX,CACAsF,SAAS7S,GACL,IAAInmE,EACJ,MAAM,KAAEzI,GAAS7Q,KAAKy/E,KAChBkW,EAAe,CAAC,YAAa,gBAAiB,iBACpD,IAAKA,EAAan0F,SAASqP,GACvB,OAEJ,MAAM,OAAEsyE,EAASnjF,KAAKi1F,cAAa,KAAE3wF,EAAI,eAAEiqF,EAAc,mBAAE6D,EAAkB,cAAEC,GAAkB5S,GAC3F,MAAEwD,EAAK,OAAEtzD,EAAM,yBAAEyzD,GAA6BpjF,KAC9CkjF,EAAoB,kBAATryE,EACX+kF,EAAoB,kBAAT/kF,EACX6yE,EAAUkS,GAAazB,GAAoB0B,cAU3C,IAAI1B,GAAoB,CACtBlR,QACAtzD,SACAyzD,6BAZF,IAAIJ,GAAW,CACbl+E,SAAU9E,KAAKy/E,KAAK36E,SACpBm+E,QACAtzD,SACAuzD,WACAC,SACA7+E,OACA8+E,6BAOF0S,EAAW,CACb9jF,GAAIhS,KAAKk1F,eACT5wF,OACA6+E,SACAoL,iBACA7K,SACA0O,qBACAC,iBAOJ,GALIlP,GAAUnjF,KAAKi1F,cACfj1F,KAAKi1F,YAAc9R,EAAS,GAEhCnjF,KAAKg1F,OAAOrlF,KAAKmmF,GACjB91F,KAAK+1F,aACD7S,EAAU,CACV,MAAM8S,EAAch2F,KAAKg1F,OACpBr7E,KAAKwC,GAAMA,EAAEunE,SACbhqE,QAAQyC,GAAMA,aAAa6mE,KAC1BiT,EAAgBD,EAAY3sE,WAAWlN,GAAMA,IAAMunE,IACnDwS,EAAsD,QAAzC58E,EAAK08E,EAAYC,EAAgB,UAAuB,IAAP38E,EAAgBA,EAAKtZ,KAAK0jF,OAC9FwS,EAAUvvB,QAAQwvB,sBAAsB,WAAYzS,EAAO/c,QAC/D,CAIA,OAHI3mE,KAAK+uF,MAAMyD,YACXhB,GAAOzC,MAAM,CAAEiG,OAAQh1F,KAAKg1F,SAEzBc,EAASpS,MACpB,CACAyO,YAAYzO,GACR,MAAMniF,EAAQvB,KAAKg1F,OAAO3rE,WAAWjU,GAAMA,EAAEsuE,SAAWA,IACpDniF,GAAS,IACTvB,KAAKg1F,OAAOpxE,OAAOriB,EAAO,GAC1BmiF,EAAOpzD,UACPtwB,KAAKgtF,YACDhtF,KAAK+uF,MAAMyD,YACXhB,GAAOzC,MAAM,CAAEiG,OAAQh1F,KAAKg1F,SAGxC,CACAhD,UAAUtO,EAAQ0S,EAAWC,GACzB,MAAMtE,EAAQ/xF,KAAKg1F,OAAO/tB,MAAM7xD,GAAMA,EAAEsuE,SAAWA,IAC/CqO,IACAA,EAAM5O,OAASiT,EACfrE,EAAMxD,eAAiB8H,EACvBr2F,KAAK+1F,aACL/1F,KAAKgtF,YACDhtF,KAAK+uF,MAAMyD,YACXhB,GAAOzC,MAAM,CAAEiG,OAAQh1F,KAAKg1F,SAGxC,CACAe,aACI/1F,KAAKg1F,OAAO9gE,MAAK,CAACnpB,EAAG2d,KACjB,IAAIpP,EAAIqb,EACR,OAAOy8D,GAAkB,CAACrmF,EAAEo4E,UAAwC,QAA3B7pE,EAAKvO,EAAEwjF,sBAAmC,IAAPj1E,EAAgBA,EAAK,MAACvX,OAAWA,GAAagJ,EAAEiH,IAAK,CAAC0W,EAAEy6D,UAAwC,QAA3BxuD,EAAKjM,EAAE6lE,sBAAmC,IAAP55D,EAAgBA,EAAK,MAAC5yB,OAAWA,GAAa2mB,EAAE1W,IAAKk/E,GAA+B,GAEhR,CACAlE,YACIhtF,KAAKwiB,QAAS,CAClB,CACIguE,YACA,OAAOxwF,KAAKwiB,MAChB,CACI/iB,SAAKy+B,GACDA,IAASl+B,KAAKm1F,QAGdn1F,KAAKm1F,OACLn1F,KAAKm1F,MAAMvG,mBAEf5uF,KAAKm1F,MAAQj3D,EACTA,IAEoB,OAAhBA,EAAKvpB,QAAmBupB,EAAK8wD,cAAgB9wD,EAAK8wD,eAAiBhvF,OACnEk+B,EAAK8wD,aAAavvF,KAAO,MAE7By+B,EAAK0wD,iBAAiB5uF,OAE1BA,KAAKgtF,YACT,CACIvtF,WACA,OAAOO,KAAKm1F,KAChB,CAEAmB,QACI,MAAM,OAAEtB,GAAWh1F,KACnB,IAAK,MAAM+xF,KAASiD,EAChBjD,EAAMrO,OAAOpzD,iBACNyhE,EAAM,UAEjBiD,EAAOpxE,OAAO,EAAGoxE,EAAO1zF,QACxBtB,KAAKP,KAAO,KACZO,KAAKwiB,QAAS,EACdxiB,KAAK0jF,OAAO9vC,QAAQywC,gBACxB,CACA/zD,UACItwB,KAAK4wB,eAAY7uB,EACjB/B,KAAKs2F,QACLt2F,KAAK0jF,OAAOpzD,UACZzuB,OAAO6hB,OAAO1jB,KAAM,CAAE0jF,YAAQ3hF,EAAW+qB,SAAK/qB,GAClD,CACA0tB,OAAOgwD,GACH,IAAInmE,EACJ,OAAOk7E,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,gBAAEu2F,EAAkB,CAACnjD,YAAYoZ,OAAM,gBAAEgqC,EAAkB,CAAC,GAAe,OAAT/W,QAA0B,IAATA,EAAkBA,EAAO,CAAC,GAC7G,OAAEiE,EAAQA,QAAU9vC,QAAS9mB,GAAK,KAAErtB,EAAI,OAAEu1F,EAAM,YAAEO,EAAa9V,MAAM,KAAE5uE,IAAY7Q,KAMzF,GALIu1F,IACAv1F,KAAK0jF,OAAOM,UAAUuR,GACtBv1F,KAAKg1F,OAAOn8E,SAASk5E,GAAUA,EAAMrO,OAAOM,UAAUuR,KACtDv1F,KAAKu1F,iBAAcxzF,GAEnBtC,IAASA,EAAK6uF,QAEd,YADAtuF,KAAKwiB,QAAS,GAGlB,GAAI/iB,IAASO,KAAKwwF,MAQd,OAPIxwF,KAAK+uF,MAAMyD,YACXhB,GAAOzC,MAAM,QAAS,CAClB0H,WAAYxK,GAAWxsF,EAAK+wF,OAC5BkG,KAAM12F,KAAK22F,UAAUl3F,UAG7BO,KAAK42F,WAAWL,EAAiBzpE,OAAK/qB,EAAWy0F,GAGrD,MAAMvG,EAAY,CACdnjE,MACA4lE,aAAa,EACbE,UAAW2C,EACXsB,WAAY,CAAC,GAEQ,aAArB72F,KAAK+uF,MAAMmB,QACXD,EAAUC,MAAQ,CAAE0D,eAAgB,EAAGV,cAAe,EAAG/C,cAAe,EAAGgD,aAAc,IAE7F,IAAI2D,GAAgB,EAMpB,KALKr3F,GAAQA,EAAK+wF,OAASvE,GAAWU,WAElCmK,GAAgB,EAChBpT,EAAO5mE,SAEPrd,GAAQO,KAAK+uF,MAAMqG,UAAW,CAC9B,MAAM,UAAEA,EAAS,MAAE2B,GAAU/2F,KAAKg3F,eAAev3F,GACjD+xF,GAAOzC,MAAM,CAAEqG,YAAW2B,SAC9B,CACIt3F,GAAQq3F,IACJ92F,KAAK+uF,MAAMyD,YACXhB,GAAOzC,MAAM,SAAU,CACnB0H,WAAYxK,GAAWxsF,EAAK+wF,OAC5BsG,gBACAJ,KAAM12F,KAAK22F,UAAUl3F,KAGzBA,EAAK6uF,UACLxhE,EAAIs3D,OACJ3kF,EAAKgwB,OAAOwgE,GACZnjE,EAAIw3D,YAGC,kBAATzzE,GAA4BmkF,EAAO1zF,OAAS,GAAKw1F,IACjD92F,KAAK+1F,aACLjpE,EAAIs3D,OACJt3D,EAAI06D,aAAa,EAAI9D,EAAOwB,WAAY,EAAG,EAAG,EAAIxB,EAAOwB,WAAY,EAAG,GACxE8P,EAAOn8E,SAAQ,EAAG6qE,QAAUD,cAAa7uD,WAAWw9D,qBAAoBC,oBAC/Dz9D,GAAYy9D,MAGjBvlE,EAAIymE,YAAcnB,IAClBtlE,EAAImqE,UAAUxT,EAAa,EAAG,GAAE,IAEpC32D,EAAIw3D,WAGuB,QAA9BhrE,EAAKwT,EAAI46D,uBAAoC,IAAPpuE,GAAyBA,EAAG9P,KAAKsjB,GACxE9sB,KAAKwiB,QAAS,EACdxiB,KAAK42F,WAAWL,EAAiBzpE,EAAKmjE,EAAUC,MAAOsG,GACvDx2F,KAAKk3F,wBAAwBpqE,EAAK9sB,KAAK+uF,MAAMuG,mBAAoBrF,EAAU4G,YACvEp3F,GAAQO,KAAK+uF,MAAMyD,YACnBhB,GAAOzC,MAAM,QAAS,CAAE0H,WAAYxK,GAAWxsF,EAAK+wF,OAAQsG,gBAAeJ,KAAM12F,KAAK22F,UAAUl3F,IAExG,GACJ,CACAm3F,WAAWL,EAAiBzpE,EAAKqqE,EAAgBX,EAAkB,CAAC,GAChE,MAAMlwE,EAAM8sB,YAAYoZ,MACxB,GAAIxsD,KAAK+uF,MAAMmB,MAAO,CAClB,MAAM7pE,EAAQkwE,EAAgB,GAC9BA,EAAgB5mF,KAAK2W,GACrB,MAAM8wE,EAAMA,CAAC/qD,EAAUsnD,KACnB,MAAM0D,EAAQhrD,EAAWsnD,EACzB,MAAQ,GAAEtnD,OAAcgrD,MAAU3sF,KAAK86E,MAAO,IAAMn5C,EAAYgrD,MAAU,EAExEC,EAAOA,CAACjxE,EAAOC,IACP5b,KAAK86E,MAAsB,KAAfl/D,EAAMD,IAAgB,IAApC,MAEN,eAAEutE,EAAiB,EAAC,cAAEV,EAAgB,EAAC,cAAE/C,EAAgB,EAAC,aAAEgD,EAAe,GAAyB,OAAnBgE,QAA8C,IAAnBA,EAA4BA,EAAiB,CAAC,EAC1JI,EAAShB,EACV58E,KAAI,CAACs9B,EAAGrzC,IAAOA,EAAI,EAAI0zF,EAAKf,EAAgB3yF,EAAI,GAAIqzC,GAAK,OACzDv9B,QAAQyC,GAAW,MAALA,IACdpO,KAAK,OACJypF,EAAS31F,OAAO6nB,QAAQ8sE,GACzB78E,KAAI,EAAE8+B,EAAGt8B,KAAQ,GAAEs8B,MAAMt8B,MACzBpO,KAAK,OACJmiF,EAAQ,CACT,GAAEoH,EAAKjxE,EAAOC,OAASixE,KACvB,GAAEC,IACkB,aAArBx3F,KAAK+uF,MAAMmB,MAAwB,WAAUkH,EAAIxD,EAAgBV,KAAmB,KAC/D,aAArBlzF,KAAK+uF,MAAMmB,MAAwB,UAASkH,EAAIjH,EAAegD,KAAkB,MACnFz5E,QAAQyC,GAAW,MAALA,IACVs7E,EAAYvH,EAAMv2E,KAAKs9B,GAAM,CAACA,EAAG+rC,GAAW0U,YAAYzgD,EAAGnqB,EAAI25D,SAC/DxD,EAAQv4E,KAAK0G,OAAOqmF,EAAU99E,KAAI,EAAE,EAAIspE,YAAaA,KACrDtzD,EAAS8nE,EAAU9tE,QAAO,CAAC0tE,GAAQ,EAAI1nE,aAAc0nE,EAAQ1nE,GAAQ,GAC3E7C,EAAIs3D,OACJt3D,EAAI6qE,UAAY,QAChB7qE,EAAI8qE,SAAS,EAAG,EAAG3U,EAAOtzD,GAC1B7C,EAAI6qE,UAAY,QAChB,IAAI/P,EAAI,EACR,IAAK,MAAO7+E,EAAM4T,KAAS86E,EACvB7P,GAAKjrE,EAAKgT,OACV7C,EAAI+qE,SAAS9uF,EAAM,EAAG6+E,GAE1B96D,EAAIw3D,SACR,CACJ,CACA4S,wBAAwBpqE,EAAKwoE,EAAoBuB,GAC7C,IAAIv9E,EACJ,MAAMw+E,EAAmBC,GAAatpF,KAC9BspF,EAAQ9vF,KAAKwG,EAAEuD,KAGZvD,aAAaojF,IAAmB,MAAVpjF,EAAEnK,MAAgByzF,EAAQ9vF,KAAKwG,EAAEnK,MAE5D0zF,EAAmB9wF,GAAWuH,GAC5BvH,IAAUuH,EAAEuD,IAGTvD,aAAaojF,IAAmB,MAAVpjF,EAAEnK,MAAgB4C,IAAUuH,EAAEnK,KAE/D,IAAK,MAAMmZ,KAAQ63E,EAAoB,CACnC,GAAoB,kBAAT73E,GAAyC,MAApBo5E,EAAWp5E,GACvC,SACJ,MAAMoyE,EAA4B,kBAATpyE,EAAoBu6E,EAAgBv6E,GAAQq6E,EAAgBr6E,GAC/E0nD,EAA6B,QAApB7rD,EAAKtZ,KAAKP,YAAyB,IAAP6Z,OAAgB,EAASA,EAAGs2E,UAAUC,GACjF,GAAK1qB,GAA0B,IAAjBA,EAAM7jE,OAIpB,IAAK,MAAM48B,KAAQinC,EACXjnC,aAAgB2zD,IAAS3zD,EAAK55B,KAC9BuyF,EAAW34D,EAAK55B,MAAQ45B,EAGxB24D,EAAW34D,EAAKlsB,IAAMksB,OAR1BszD,GAAOzC,MAAO,8BAA6BtxE,qBAWnD,CACAqP,EAAIs3D,OACJ,IAAK,MAAO9/E,EAAM45B,KAASr8B,OAAO6nB,QAAQmtE,GAAa,CACnD,MAAM5P,EAAO/oD,EAAKyxD,yBACb1I,GAILn6D,EAAIymE,YAAc,GAClBzmE,EAAImrE,YAAc,MAClBnrE,EAAIorE,UAAY,EAChBprE,EAAIqrE,WAAWlR,EAAKz4E,EAAGy4E,EAAKW,EAAGX,EAAKhE,MAAOgE,EAAKt3D,QAChD7C,EAAI6qE,UAAY,MAChB7qE,EAAImrE,YAAc,QAClBnrE,EAAI25D,KAAO,kBACX35D,EAAI45D,aAAe,MACnB55D,EAAI65D,UAAY,OAChB75D,EAAIorE,UAAY,EAChBprE,EAAIsrE,WAAW9zF,EAAM2iF,EAAKz4E,EAAGy4E,EAAKW,EAAGX,EAAKhE,OAC1Cn2D,EAAI+qE,SAASvzF,EAAM2iF,EAAKz4E,EAAGy4E,EAAKW,EAAGX,EAAKhE,QAdpCuO,GAAOzC,MAAO,8BAA6BzqF,MAenD,CACAwoB,EAAIw3D,SACR,CACAqS,UAAUz4D,GACN,IAAI5kB,EACJ,MAAMhV,EAA6D,QAArDgV,EAAM4kB,aAAgB2zD,GAAQ3zD,EAAK55B,KAAO,YAA0B,IAAPgV,EAAgBA,EAAK4kB,EAAKlsB,GACrG,OAAOnQ,OAAO6hB,OAAO,CAAEpf,OACnB45B,OAAMsyD,MAAOvE,GAAW/tD,EAAKsyD,QAAUtyD,EAAKxF,SAC3C/e,KAAKrU,GAAMtF,KAAK22F,UAAUrxF,KAC1BqkB,QAAO,CAAC1mB,EAAQo1F,KACjB,IAAM/zF,KAAMg0F,GAAiBD,EAC7B,MAAQn6D,MAAM,QAAEowD,EAAO,QAAExK,EAAO,OAAEX,EAAM,eAAEoL,GAAkBrwD,KAAMq6D,GAAeF,IAC5E/J,GAAWxK,GAAW,KACvBwU,EAAgB,IAAGA,MAEnBC,aAAqB1G,IAAS0G,EAAUtG,YACxCqG,EAAgB,IAAGA,MAEvB,MAAMv1F,EAAM,CACP,GAAmB,OAAjBu1F,QAA0C,IAAjBA,EAA0BA,EAAe,cACpE,MAAKnV,IACNoL,GAAmB,OAAMA,EAAexgF,KAAK,UAE5C2L,QAAQyC,KAAQA,IAChBpO,KAAK,KAEV,OADA9K,EAAOF,GAAOs1F,EACPp1F,CAAM,GACd,CAAC,GACR,CACA+zF,eAAe94D,GACX,IAAI5kB,EACJ,GAAI4kB,EAAKsyD,QAAUvE,GAAWa,KAC1B,MAAO,CAAEsI,UAAW,CAAC,EAAG2B,MAAO,IAEnC,MAAMyB,EAAoBt6D,EAAKxF,SAAS/e,KAAKrU,GAAMtF,KAAKg3F,eAAe1xF,KAAIoU,QAAQpU,GAAMA,EAAEyxF,MAAMz1F,OAAS,IACpGgD,EAA6D,QAArDgV,EAAM4kB,aAAgB2zD,GAAQ3zD,EAAK55B,KAAO,YAA0B,IAAPgV,EAAgBA,EAAK4kB,EAAKlsB,GAC/F+kF,EAAqC,IAA7ByB,EAAkBl3F,OAC1B,CAACgD,GACDk0F,EACG7+E,KAAKrU,GAAMA,EAAEyxF,QACbptE,QAAO,CAACxJ,EAAG8K,IAAM9K,EAAE3Q,OAAOyb,IAAI,IAC9BtR,KAAKsR,GAAO,GAAE3mB,KAAQ2mB,MAC/B,MAAO,CACHmqE,UAAWvzF,OAAO6hB,OAAO,CAAEpf,OACvB45B,OAAMsyD,MAAOvE,GAAW/tD,EAAKsyD,QAAUgI,EACtC7+E,KAAKrU,GAAMA,EAAE8vF,YACb17E,QAAQu9B,QAAkBl1C,IAAZk1C,EAAEu5C,QAChB7mE,QAAO,CAAC1mB,EAAQo1F,KACjB,IAAI/+E,EAEJ,OADArW,EAAiC,QAAzBqW,EAAK++E,EAAU/zF,YAAyB,IAAPgV,EAAgBA,EAAK,aAAe++E,EACtEp1F,CAAM,GACd,CAAC,IACJ8zF,QAER,EAEJhC,GAAM1qC,UAAY,QC7bX,MAAMouC,GACTltF,cACIvL,KAAK04F,MAAQ,EACjB,ECHJ,MAAMC,GAAkB,EAAVjuF,KAAKkuF,GAKZ,SAASC,GAAkBC,GAI9B,OAHAA,GAAWH,GACXG,GAAWH,GACXG,GAAWH,GACJG,CACX,CACO,SAASC,GAA2BD,GAMvC,OALAA,GAAWH,GACXG,GAAWH,GACPG,IAAYH,KACZG,GAAWH,IAERG,CACX,CAKO,SAASE,GAAkBF,GAQ9B,OAPAA,GAAWH,GACPG,GAAWpuF,KAAKkuF,GAChBE,GAAWH,GAENG,GAAWpuF,KAAKkuF,KACrBE,GAAWH,IAERG,CACX,CACO,SAASG,GAAUC,GACtB,OAAQA,EAAU,IAAOxuF,KAAKkuF,EAClC,CCjCO,MAAMO,WAAuBV,GAChCltF,cACI+jB,SAASzsB,WACT7C,KAAKo5F,MAAQ,CACjB,CACAC,eAAevsE,EAAKm6D,GAEhB,MAAMqS,EAAc,IACd,MAAEZ,EAAK,MAAEU,GAAUp5F,KACnB84F,EAAUD,GAAkBI,GAAUG,EAAQE,IAC9CnO,EAAMzgF,KAAKygF,IAAI2N,GACf1N,EAAM1gF,KAAK0gF,IAAI0N,GACf9iF,EAAIixE,EAAKhE,MACTvzD,EAAIu3D,EAAKt3D,OACTs6D,EAAKhD,EAAKz4E,EAAQ,GAAJwH,EACdk0E,EAAKjD,EAAKW,EAAQ,GAAJl4D,EACpB,GAAI1Z,EAAI,GAAK0Z,EAAI,EAAG,CAChB,MAAM6pE,EAAW7uF,KAAK8uF,KAAK9pE,EAAIA,EAAI1Z,EAAIA,GAAK,EACtCyjF,EAAgB/uF,KAAKgvF,MAAMhqE,EAAG1Z,GACpC,IAAI2jF,EAEAA,EADAb,EAAUpuF,KAAKkuF,GAAK,EACHE,EAEZA,EAAUpuF,KAAKkuF,GACHluF,KAAKkuF,GAAKE,EAEtBA,EAAW,EAAIpuF,KAAKkuF,GAAM,EACdE,EAAUpuF,KAAKkuF,GAGf,EAAIluF,KAAKkuF,GAAKE,EAEnC,MAAM1jF,EAAImkF,EAAW7uF,KAAKw9E,IAAIx9E,KAAKygF,IAAIwO,EAAiBF,IAClDG,EAAW9sE,EAAI+sE,qBAAqB5P,EAAKkB,EAAM/1E,EAAG80E,EAAKkB,EAAMh2E,EAAG60E,EAAKkB,EAAM/1E,EAAG80E,EAAKkB,EAAMh2E,GAI/F,OAHAsjF,EAAM7/E,SAAS3D,IACX0kF,EAASE,aAAa5kF,EAAK4oD,OAAQ5oD,EAAK6kF,MAAM,IAE3CH,CACX,CACA,MAAO,OACX,EC1CJ,IAAI3qE,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAGA,MAAM65E,GAAyB,6CACxB,MAAMC,WAAcnM,GACvBviF,cACI+jB,SAASzsB,WACT7C,KAAKk6F,eAAiB,EACtBl6F,KAAKm6F,YAAc,EACnBn6F,KAAKo6F,cAAgB,EACrBp6F,KAAKwgC,KAAOy5D,GAAMI,cAAc75D,KAWhCxgC,KAAKs6F,OAASL,GAAMI,cAAcC,OAClCt6F,KAAKu6F,YAAcN,GAAMI,cAAcE,YACvCv6F,KAAKw6F,SAAWP,GAAMI,cAAcG,SACpCx6F,KAAKy6F,eAAiBR,GAAMI,cAAcI,eAC1Cz6F,KAAK06F,QAAUT,GAAMI,cAAcK,QACnC16F,KAAK26F,SAAWV,GAAMI,cAAcM,SACpC36F,KAAK8jF,QAAUmW,GAAMI,cAAcvW,QACnC9jF,KAAK46F,WAAaX,GAAMI,cAAcO,UAC1C,CAgBApU,sBAAsBz+B,GAClB,MAAM8yC,EAAQh5F,OAAOohB,OAAO8kC,GAG5B,OAFA8yC,EAAMC,gBAAW/4F,GACjB84F,EAAM7oF,GAAK+1C,EAAS/1C,GAAK,aAAezR,SAASwnD,EAASmyC,gBACnDW,CACX,CAIAE,mBACI,MAAMjsC,EAAS9uD,KAAKuL,YAAY8uF,cAC1B32F,EAAO7B,OAAO4N,oBAAoBq/C,GAKxC,IAAK,IAAIlrD,EAAI,EAAG6K,EAAI/K,EAAKpC,OAAQsC,EAAI6K,EAAG7K,IAAK,CACzC,MAAMb,EAAMW,EAAKE,GACjB5D,KAAK+C,GAAO+rD,EAAO/rD,EACvB,CACJ,CACAi4F,mBACI,MAAMlsC,EAAS9uD,KAAKuL,YAAY8uF,cAChC,IAAK,MAAMY,KAAYnsC,EACnB9uD,KAAKi7F,GAAYnsC,EAAOmsC,EAEhC,CAIAC,0BACI,MAAMpsC,EAAS9uD,KAAKuL,YAAY8uF,cAC1Bc,EAAct5F,OAAOua,eAAe0yC,GAC1C,IAAK,MAAMmsC,KAAYnsC,EACfjtD,OAAOmH,UAAUM,eAAeE,KAAKslD,EAAQmsC,IAC7Cp5F,OAAOmH,UAAUM,eAAeE,KAAK2xF,EAAaF,KAClDj7F,KAAKi7F,GAAYnsC,EAAOmsC,GAGpC,CACAG,iBACI,MAAM,KAAE56D,GAASxgC,KACjB,IAAIq7F,EACJ,IAAc,OAAT76D,QAA0B,IAATA,OAAkB,EAASA,EAAK/c,WAAW,sBAAwB43E,EAAsBrB,GAAuB5wF,KAAKo3B,IAAQ,CAC/I,MAAM44D,EAAQ1zE,WAAW21E,EAAoB,IACvCC,EAAS,GACTC,EAAaF,EAAoB,GACjCG,EAAa,yCACnB,IAAIl2F,EACJ,MAAQA,EAAIk2F,EAAWpyF,KAAKmyF,GACxBD,EAAO3rF,KAAKrK,EAAE,IAElBtF,KAAK45F,SAAW,IAAIT,GACpBn5F,KAAK45F,SAASR,MAAQA,EACtBp5F,KAAK45F,SAASlB,MAAQ4C,EAAO3hF,KAAI,CAACogF,EAAOx4F,KACrC,MAAMu8D,EAASv8D,GAAS+5F,EAAOh6F,OAAS,GACxC,MAAO,CAAEw8D,SAAQi8B,QAAO,GAEhC,MAEI/5F,KAAK45F,cAAW73F,CAExB,CAOA05F,MAAMp1E,EAAO/kB,GACT,IAAIgY,EAAIqb,EAAI2C,EACZ,MAAM4tD,EAA0J,QAA5I5tD,EAAwF,QAAlF3C,EAAkC,QAA5Brb,EAAKtZ,KAAKgvF,oBAAiC,IAAP11E,OAAgB,EAASA,EAAGoqE,cAA2B,IAAP/uD,OAAgB,EAASA,EAAGuwD,kBAA+B,IAAP5tD,EAAgBA,EAAK,EACvLokE,EAAehxF,KAAK86E,MAAMn/D,EAAQ6+D,GAAcA,EACtD,YAAcnjF,GAAVT,EACOo6F,EAEI,IAAXp6F,EACO,EAEPA,EAAS,EAEFoJ,KAAK2D,KAAK/M,EAAS4jF,GAAcA,EAIrCx6E,KAAK86E,OAAOlkF,EAAS+kB,GAAS6+D,GAAcA,EAAawW,CACpE,CACAC,WAAW7uE,GACP9sB,KAAK47F,WAAW9uE,GAChB9sB,KAAK67F,aAAa/uE,EACtB,CACA8uE,WAAW9uE,GACP,GAAI9sB,KAAKwgC,KAAM,CACX,MAAM,YAAE+yD,GAAgBzmE,EACxB9sB,KAAK87F,UAAUhvE,GACf9sB,KAAK+7F,eAAejvE,GACpB9sB,KAAKg8F,YAAYlvE,GACjBA,EAAI0T,OACJ1T,EAAIymE,YAAcA,CACtB,CACAzmE,EAAImvE,YAAc,kBACtB,CACAH,UAAUhvE,GACF9sB,KAAK45F,SACL9sE,EAAI6qE,UAAY33F,KAAK45F,SAASP,eAAevsE,EAAK9sB,KAAK+vF,eAGvDjjE,EAAI6qE,UAAY33F,KAAKwgC,IAE7B,CACAu7D,eAAejvE,GACX,MAAM,YAAEymE,GAAgBzmE,EACxBA,EAAIymE,YAAcA,EAAcvzF,KAAK8jF,QAAU9jF,KAAKm6F,WACxD,CACA6B,YAAYlvE,GACR,IAAIxT,EAAIqb,EAIR,MAAMuwD,EAA2G,QAA7FvwD,EAAkC,QAA5Brb,EAAKtZ,KAAKgvF,oBAAiC,IAAP11E,OAAgB,EAASA,EAAGoqE,OAAOwB,kBAA+B,IAAPvwD,EAAgBA,EAAK,EACxIimE,EAAa56F,KAAK46F,YACL,OAAfA,QAAsC,IAAfA,OAAwB,EAASA,EAAWhmE,WACnE9H,EAAImvE,YAAcrB,EAAWb,MAC7BjtE,EAAIovE,cAAgBtB,EAAWuB,QAAUjX,EACzCp4D,EAAIsvE,cAAgBxB,EAAWyB,QAAUnX,EACzCp4D,EAAIwvE,WAAa1B,EAAW2B,KAAOrX,EAE3C,CACA2W,aAAa/uE,GACT,GAAI9sB,KAAKs6F,QAAUt6F,KAAKu6F,YAAa,CACjC,MAAM,YAAEhH,GAAgBzmE,EACxBA,EAAImrE,YAAcj4F,KAAKs6F,OACvBxtE,EAAIymE,YAAcA,EAAcvzF,KAAK8jF,QAAU9jF,KAAKo6F,cACpDttE,EAAIorE,UAAYl4F,KAAKu6F,YACjBv6F,KAAKw6F,UACL1tE,EAAI0vE,YAAYx8F,KAAKw6F,UAErBx6F,KAAKy6F,iBACL3tE,EAAI2tE,eAAiBz6F,KAAKy6F,gBAE1Bz6F,KAAK06F,UACL5tE,EAAI4tE,QAAU16F,KAAK06F,SAEnB16F,KAAK26F,WACL7tE,EAAI6tE,SAAW36F,KAAK26F,UAExB7tE,EAAIwtE,SACJxtE,EAAIymE,YAAcA,CACtB,CACJ,CACAxL,cAAcv5E,EAAGo5E,GACb,OAAO5nF,KAAKy8F,cAAcjuF,EAAGo5E,EACjC,EAUJqS,GAAMI,cAAgBx4F,OAAO6hB,OAAO,CAAC,EAAG,CACpC8c,KAAM,QACN85D,YAAQv4F,EACRw4F,YAAa,EACbC,cAAUz4F,EACV04F,eAAgB,EAChBC,aAAS34F,EACT44F,cAAU54F,EACV+hF,QAAS,EACT8W,gBAAY74F,IAEhBktB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWsG,SAC3C0H,GAAMjxF,UAAW,mBAAe,GACnCimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWsG,SAC3C0H,GAAMjxF,UAAW,qBAAiB,GACrCimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWsG,MAAOlG,SAAWhnF,GAAMA,EAAE+1F,oBACrEnB,GAAMjxF,UAAW,YAAQ,GAC5BimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWsG,SAC3C0H,GAAMjxF,UAAW,cAAU,GAC9BimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWsG,SAC3C0H,GAAMjxF,UAAW,mBAAe,GACnCimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWsG,SAC3C0H,GAAMjxF,UAAW,gBAAY,GAChCimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWsG,SAC3C0H,GAAMjxF,UAAW,sBAAkB,GACtCimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWsG,SAC3C0H,GAAMjxF,UAAW,eAAW,GAC/BimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWsG,SAC3C0H,GAAMjxF,UAAW,gBAAY,GAChCimB,GAAW,CACPm9D,GAAqB,CACjBM,OAAQT,GAAWsG,MACnBjG,UAAYnwE,GAAMzR,KAAK2G,IAAI,EAAG3G,KAAK0G,IAAI,EAAG+K,OAE/C89E,GAAMjxF,UAAW,eAAW,GAC/BimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWsG,MAAO3F,wBAAwB,KAC1EqN,GAAMjxF,UAAW,kBAAc,GClQlC,IAAIimB,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAKA,MAAMu8E,GAAW,IACjB,SAASC,GAAyBld,GAC9B,MAAM,OAAEiN,EAAST,GAAWoB,MAAK,SAAEhB,GAAsB,OAAT5M,QAA0B,IAATA,EAAkBA,EAAO,CAAC,EAC3F,OAAO2M,GAAqB,CAAEM,SAAQngF,KAAM,OAAQ8/E,YACxD,CACO,MAAMryC,WAAaigD,GACtB1uF,cACI+jB,SAASzsB,WACT7C,KAAKwO,EAAI,EACTxO,KAAK4nF,EAAI,EACT5nF,KAAKumB,MAAQ,GACbvmB,KAAK4lD,UAAO7jD,EACZ/B,KAAKmtF,YAAa,EAClBntF,KAAK48F,SAAW,GAChB58F,KAAK68F,WAAa,aAClB78F,KAAK2mF,UAAY3sC,GAAKqgD,cAAc1T,UACpC3mF,KAAK0mF,aAAe1sC,GAAKqgD,cAAc3T,aAEvC1mF,KAAK88F,gBAAa/6F,CACtB,CACAg7F,YACI/8F,KAAKumB,MAAQy2E,GAAUh9F,KAAK4lD,KAChC,CACI6gC,WAKA,OAJIzmF,KAAKmtF,aACLntF,KAAKmtF,YAAa,EAClBntF,KAAKi9F,MAAQC,GAAQl9F,OAElBA,KAAKi9F,KAChB,CACAlN,cACI,OAAO/M,GAAWp3E,IAAIw6E,YAChB+W,GAAen9F,KAAKumB,MAAOvmB,KAAKwO,EAAGxO,KAAK4nF,EAAG5nF,MAC3Co9F,GAAmBp9F,KAAKumB,MAAOvmB,KAAKwO,EAAGxO,KAAK4nF,EAAG5nF,KACzD,CACAq9F,cAAcz2E,GACV,IAAItN,EAAIqb,EACR,GAAI30B,KAAK88F,WACL,OAAO98F,KAAK88F,WAChB,GAAI9Z,GAAWp3E,IAAIw6E,YAAa,CAC5B,MAAMQ,EAAU5D,GAAWqD,YAAYz/D,EAAM5mB,KAAKymF,KAAMzmF,KAAK0mF,aAAc1mF,KAAK2mF,WAChF,OAAkD,QAAxCrtE,EAAKstE,EAAQ0W,6BAA0C,IAAPhkF,EAAgBA,EAAKstE,EAAQ2W,iBACxC,QAAzC5oE,EAAKiyD,EAAQ4W,8BAA2C,IAAP7oE,EAAgBA,EAAKiyD,EAAQ6W,gBACxF,CACA,OAAOza,GAAW0U,YAAY9wE,EAAM5mB,KAAKymF,MAAM92D,MACnD,CACA8sE,cAAcjuF,EAAGo5E,GACb,MAAM8V,EAAQ19F,KAAKypF,eAAej7E,EAAGo5E,GAC/BX,EAAOjnF,KAAK+vF,cAClB,QAAO9I,GAAOA,EAAKc,cAAc2V,EAAMlvF,EAAGkvF,EAAM9V,EACpD,CACAn4D,OAAOwgE,GACH,MAAM,IAAEnjE,EAAG,YAAE4lE,EAAW,MAAExC,GAAUD,EACpC,GAAIjwF,KAAKwwF,QAAUvE,GAAWa,OAAS4F,EAGnC,YAFIxC,IACAA,EAAMiD,cAAgBnzF,KAAK4wF,UAAUlqE,QAG7C,IAAK1mB,KAAKumB,MAAMjlB,SAAWtB,KAAKgvF,aAG5B,YAFIkB,IACAA,EAAMiD,cAAgBnzF,KAAK4wF,UAAUlqE,QAG7C1mB,KAAKmvF,yBACLnvF,KAAKqqF,OAAOF,UAAUr9D,GACtB,MAAM,KAAE0T,EAAI,OAAE85D,EAAM,YAAEC,GAAgBv6F,KACtC8sB,EAAI25D,KAAOzmF,KAAKymF,KAChB35D,EAAI65D,UAAY3mF,KAAK2mF,UACrB75D,EAAI45D,aAAe1mF,KAAK0mF,aACxB,MAAMxB,EAAallF,KAAKgvF,aAAatL,OAAOwB,YAAc,GACpD,YAAEqO,GAAgBzmE,EACxB,GAAI0T,EAAM,CACN1T,EAAI6qE,UAAYn3D,EAChB1T,EAAIymE,YAAcA,EAAcvzF,KAAK8jF,QAAU9jF,KAAKm6F,YACpD,MAAM,WAAES,GAAe56F,MACJ,OAAf46F,QAAsC,IAAfA,OAAwB,EAASA,EAAWhmE,WACnE9H,EAAImvE,YAAcrB,EAAWb,MAC7BjtE,EAAIovE,cAAgBtB,EAAWuB,QAAUjX,EACzCp4D,EAAIsvE,cAAgBxB,EAAWyB,QAAUnX,EACzCp4D,EAAIwvE,WAAa1B,EAAW2B,KAAOrX,GAEvCllF,KAAK29F,aAAY,CAAC/2E,EAAMpY,EAAGo5E,IAAM96D,EAAI+qE,SAASjxE,EAAMpY,EAAGo5E,IAC3D,CACA,GAAI0S,GAAUC,EAAa,CACvBztE,EAAImrE,YAAcqC,EAClBxtE,EAAIorE,UAAYqC,EAChBztE,EAAIymE,YAAcA,EAAcvzF,KAAK8jF,QAAU9jF,KAAKo6F,cACpD,MAAM,SAAEI,EAAQ,eAAEC,EAAc,QAAEC,EAAO,SAAEC,GAAa36F,KACpDw6F,GACA1tE,EAAI0vE,YAAYhC,GAEhBC,IACA3tE,EAAI2tE,eAAiBA,GAErBC,IACA5tE,EAAI4tE,QAAUA,GAEdC,IACA7tE,EAAI6tE,SAAWA,GAEnB36F,KAAK29F,aAAY,CAAC/2E,EAAMpY,EAAGo5E,IAAM96D,EAAIsrE,WAAWxxE,EAAMpY,EAAGo5E,IAC7D,CACAt4D,MAAMG,OAAOwgE,EACjB,CACA0N,YAAYC,GACR,MAAM,MAAEr3E,EAAK,EAAE/X,EAAC,EAAEo5E,GAAM5nF,KAClB69F,EAAc79F,KAAKumB,MAAM5M,KAAKiN,GAAS5mB,KAAKq9F,cAAcz2E,KAC1Dk3E,EAAcD,EAAYl0E,QAAO,CAAC5e,EAAG2d,IAAM3d,EAAI2d,GAAG,GACxD,IAAIq1E,IAAYD,EAAcD,EAAY,IAAMG,GAAkBh+F,KAAK0mF,cACvE,IAAK,IAAI9iF,EAAI,EAAGA,EAAI2iB,EAAMjlB,OAAQsC,IAC9Bg6F,EAAer3E,EAAM3iB,GAAI4K,EAAGo5E,EAAImW,GAChCA,GAAWF,EAAYj6F,EAE/B,CACA4iF,YAAY5gC,EAAMq4C,EAAUC,EAAWC,EAAWC,GAC9C,MAAM3X,EAAOyW,GAAQiB,GACfE,EAAWC,GAAmB7X,GAC9BlgE,EAAQq/B,EAAKp+C,MAAM,UACzB,GAAqB,IAAjB+e,EAAMjlB,OACN,MAAO,GAEX,GAAiB,UAAb88F,EACA,OAAOpkD,GAAKukD,aAAah4E,EAAM,GAAI03E,EAAUI,GAAU,GAE3D,MAAMp7F,EAAS,GACf,IAAIu7F,EAAmB,EACvB,IAAK,MAAM53E,KAAQL,EAAO,CACtB,MAAMk4E,EAAczkD,GAAK0kD,SAAS93E,EAAMq3E,EAAUC,EAAWG,EAAUF,EAAWC,EAAUI,GAG5F,GAFAv7F,EAAO0M,KAAK8uF,EAAYx7F,QACxBu7F,EAAmBC,EAAYD,iBAC3BC,EAAYE,UACZ,KAER,CACA,OAAO17F,EAAO8K,KAAK,MAAM0Z,MAC7B,CACA++D,gBAAgB5gC,EAAMq4C,EAAUC,EAAWG,EAAUF,EAAWC,EAAUI,GAEtE,GADA54C,EAAOA,EAAKn+B,QACPm+B,EACD,MAAO,CAAE3iD,OAAQ,GAAI07F,WAAW,EAAOH,oBAE3C,MAAMI,EAAcP,EAAS1hF,KAAKipC,GAClC,GAAIg5C,EAAY3b,OAASgb,EAErB,MAAO,CAAEh7F,OAAQ2iD,EAAM+4C,WAAW,EAAOH,iBAAkBA,EAAmBI,EAAYjvE,QAE9F,GAAIivE,EAAYjvE,OAASuuE,GAAaG,EAASpb,MAAM,KAAOgb,EAExD,MAAO,CAAEh7F,OAAQ,GAAI07F,WAAW,EAAMH,oBAE1C,MAAMK,EAAQj5C,EAAKp+C,MAAM,QACnBs3F,EAAa9kD,GAAK+kD,qBAAqBF,EAAOZ,EAAUC,EAAWG,EAAUF,EAAWC,EAAUI,GACxGA,EAAmBM,EAAWN,iBAC9B,IAAI,MAAEj4E,GAAUu4E,EAChB,IAAMA,EAAWE,yBAA0BF,EAAWG,eAAiB,CAEnE,MAAMz9B,EAAas9B,EAAWv4E,MAAMjlB,OAC9B49F,EAAWllD,GAAKmlD,iBAAiBN,EAAOZ,EAAUI,EAAU78B,GAC9D09B,EAAS59F,SAAWilB,EAAMjlB,SAE1BilB,EAAQ24E,EAEhB,CACA,MAAME,EAAc74E,EAAM5M,KAAK0lF,GAAOA,EAAGtxF,KAAK,OAAMA,KAAK,MACzD,MAAO,CAAE9K,OAAQm8F,EAAaT,UAAWG,EAAWG,eAAgBT,mBACxE,CACAhY,iBAAiB8Y,EAAMC,EAAgBtB,EAAUuB,EAASnB,GACtD,MAAMoB,EAAmBl+F,GAAUy4C,GAAK0lD,iBAAiBl+F,SAAS89F,EAAK/9F,IACjEmuB,EAAI8vE,EAAUnB,EAASpb,MAAM,KAAO,EACpC0c,EAAS,GACf,IAAIC,EAAY,EACZ30E,EAAI,EACR,IAAK,IAAIrnB,EAAI,EAAGA,EAAI07F,EAAKh+F,OAAQsC,IAAK,CAClC,MAAM0B,EAAIg6F,EAAK17F,GACToS,EAAIqoF,EAASpb,MAAM39E,GACnBu6F,EAAc,IAAN50E,EAAUs0E,EAAiBtB,EACrC2B,EAAY5pF,EAAI0Z,EAAImwE,IACpBF,EAAOhwF,KAAK/L,GACZg8F,EAAY,EACZ30E,KAEJ20E,GAAa5pF,CACjB,CACA,MAAM8pF,EAAQ,GACd,IAAIz5E,EAAQ,EACZ,IAAK,MAAM9kB,KAASo+F,EAAQ,CACxB,IAAII,EAAOT,EAAKU,UAAU35E,EAAO9kB,GAC7Bi+F,GAAWO,EAAKz+F,OAAS,IAAMm+F,EAAgBl+F,EAAQ,KAAOk+F,EAAgBl+F,KAC9Ew+F,GAAQ,KAEZD,EAAMnwF,KAAKowF,GACX15E,EAAQ9kB,CACZ,CAEA,OADAu+F,EAAMnwF,KAAK2vF,EAAKU,UAAU35E,IACnBy5E,CACX,CACAtZ,oBAAoB5gC,EAAMq4C,EAAUI,EAAU4B,GAC1C,MAAM/H,EAAYmG,EAASpb,MAAMr9B,GACjC,GAAIsyC,EAAY+F,IAAagC,EACzB,OAAOr6C,EAEX,MAAMs6C,EAAgB7B,EAASpb,MAAMyZ,IACrC,GAAIxE,EAAYgI,GAAiBjC,EAC7B,MAAQ,GAAEr4C,IAAO82C,KAErB,IACInuF,EACA4xF,EAFA5+F,EAAQmJ,KAAK4D,MAAOs3C,EAAKtkD,OAAS28F,EAAY/F,GAAa,EAG/D,GACI3pF,EAAQq3C,EAAKo6C,UAAU,EAAGz+F,GAC1B4+F,EAAa9B,EAASpb,MAAM10E,WACrBhN,GAAS,GAAK4+F,EAAaD,EAAgBjC,GACtD,MAAQ,GAAE1vF,IAAQmuF,IACtB,CACAlW,4BAA4BqY,EAAOZ,EAAUC,EAAWG,EAAUF,EAAWC,EAAUI,GACnF,MAAM,SAAE5B,EAAQ,WAAEE,EAAaF,EAAW5iD,GAAKomD,wBAA2BjC,EACpEkC,EAAyB,WAAbjC,GAAsC,cAAbA,EACrCl5E,EAAyB,cAAbk5E,EACZkC,EAAajC,EAASpb,MAAM,KAClC,IAAI+b,GAAyB,EACzBC,GAAiB,EACrB,MAAM14E,EAAQ,GACd,IAAIg6E,EAAc,GACdrI,EAAY,EAChB,MAAMsI,EAAaA,KACf,MAAMC,EAAiBjC,EAAmB1B,EAC1C,GAAI2D,GAAkBvC,EAAW,CAE7B,MAAMwC,EAAWH,EAAYxyF,KAAK,KAC5BQ,EAAQyrC,GAAKukD,aAAamC,EAAUzC,EAAUI,GAAU,GAG9D,OAFAkC,EAAY38E,OAAO,EAAG28E,EAAYj/F,OAAQiN,GAC1C0wF,GAAiB,GACV,CACX,CAMA,OAJAsB,EAAc,GACdrI,EAAY,EACZsG,EAAmBiC,EACnBl6E,EAAM5W,KAAK4wF,IACJ,CAAI,EAEf,IAAKC,IACD,MAAO,CAAEj6E,QAAO04E,gBAAgB,EAAMD,yBAAwBR,oBAElE,IAAK,IAAI56F,EAAI,EAAGA,EAAIi7F,EAAMv9F,OAAQsC,IAAK,CACnC,MAAM07F,EAAOT,EAAMj7F,GACb+8F,EAAYtC,EAASpb,MAAMqc,GAC3BsB,EAA4C,IAAvBL,EAAYj/F,OAAe,EAAIg/F,EACpDO,EAAoB3I,EAAY0I,EAAqBD,EAC3D,GAAIE,GAAqB5C,EAErBsC,EAAY5wF,KAAK2vF,GACjBpH,EAAY2I,OAGhB,GAAIF,GAAa1C,EAAjB,CAEI,IAAKuC,IACD,MAEJD,EAAY5wF,KAAK2vF,GACjBpH,EAAYyI,CAEhB,KARA,CAWA,GADA3B,GAAyB,GACrBqB,EAmBC,CAED,IAAKG,IACD,MAEJ,MAAMjyF,EAAQyrC,GAAKukD,aAAae,EAAMrB,EAAUI,GAAU,GAC1DkC,EAAY5wF,KAAKpB,GACb3K,EAAIi7F,EAAMv9F,OAAS,IACnB29F,GAAiB,GAErB,KACJ,CA9Be,CAEX,MAAM6B,EAAa7C,EAAW/F,EAAY0I,EACpCd,EAAQ9lD,GAAKqmD,UAAUf,EAAMwB,EAAY7C,EAAU/4E,EAAWm5E,GACpE,IAAI0C,GAAY,EAChB,IAAK,IAAI91E,EAAI,EAAGA,EAAI60E,EAAMx+F,OAAQ2pB,IAAK,CACnC,MAAM80E,EAAOD,EAAM70E,GAEnB,GADA80E,GAAQQ,EAAY5wF,KAAKowF,GACrB90E,IAAM60E,EAAMx+F,OAAS,EACrB42F,EAAYmG,EAASpb,MAAM8c,QAE1B,IAAKS,IAAc,CACpBO,GAAY,EACZ,KACJ,CACJ,CACA,GAAIA,EACA,KACR,CArBA,CAkCJ,CACA,MAAO,CAAEx6E,QAAO04E,iBAAgBD,yBAAwBR,mBAC5D,CACAhY,wBAAwBqY,EAAOZ,EAAUI,EAAU78B,GAC/C,MAAMw/B,EAAkBnC,EAAMl1E,QAAO,CAACs3E,EAAKjrF,IAAMirF,EAAM5C,EAASpb,MAAMjtE,IAAI,GACpEsqF,EAAajC,EAASpb,MAAM,KAC5Bie,EAAkBZ,GAAczB,EAAMv9F,OAASkgE,EAAa,GAC5D2/B,GAAoBH,EAAkBE,GAAmB1/B,EACzDj7C,EAAQ,GACd,IAAIg6E,EAAc,GACdrI,EAAYmG,EAASpb,MAAM4b,EAAM,IACjCuC,GAAU,EACd,IAAK,MAAM9B,KAAQT,EAAO,CACtB,MAAM5b,EAAQob,EAASpb,MAAMqc,GAC7B,GAAI8B,EAAS,CAETb,EAAc,GACdA,EAAY5wF,KAAK2vF,GACjBpH,EAAYjV,EACZme,GAAU,EACV76E,EAAM5W,KAAK4wF,GACX,QACJ,CACA,MAAMM,EAAoB3I,EAAYoI,EAAard,EAC/C4d,GAAqBM,GAErBZ,EAAY5wF,KAAK2vF,GACjBpH,EAAY2I,GAEPA,GAAqB5C,GAE1BsC,EAAY5wF,KAAK2vF,GACjB8B,GAAU,IAIVb,EAAc,CAACjB,GACfpH,EAAYjV,EACZ18D,EAAM5W,KAAK4wF,GAEnB,CACA,OAAOh6E,CACX,EA4CG,SAAS+3E,GAAmB7X,GAC/B,MAAM9hE,EAAQ,IAAI3M,IACZ0/E,EAAe9xC,GAASo9B,GAAW0U,YAAY9xC,EAAM6gC,GACrD4a,EAAgBz7C,IAClB,GAAIjhC,EAAM/Y,IAAIg6C,GACV,OAAOjhC,EAAM/f,IAAIghD,GAErB,MAAM,MAAEq9B,GAAUyU,EAAY9xC,GAE9B,OADAjhC,EAAMhZ,IAAIi6C,EAAMq9B,GACTA,CAAK,EAEhB,MAAO,CAAEtmE,KAAM+6E,EAAazU,MAAOoe,EACvC,CACO,SAASnE,GAAQoE,GACpB,MAAM,WAAEzE,EAAU,SAAED,EAAQ,UAAE2E,EAAS,WAAEC,GAAeF,EACxD,MAAO,CAAe,OAAdC,QAAoC,IAAdA,EAAuBA,EAAY,GAAmB,OAAfC,QAAsC,IAAfA,EAAwBA,EAAa,GAAI5E,EAAW,KAAMC,GAAY9uF,KAAK,KAAK0Z,MAChL,CACO,SAAS4+D,GAAY9/D,EAAO/X,EAAGo5E,EAAGuW,GACrC,OAAOnb,GAAWp3E,IAAIw6E,YAChB+W,GAAe52E,EAAO/X,EAAGo5E,EAAGuW,GAC5Bf,GAAmB72E,EAAO/X,EAAGo5E,EAAGuW,EAC1C,CACA,SAAShB,GAAe52E,EAAO/X,EAAGo5E,EAAGuW,GACjC,IAAI7kF,EAAIqb,EACR,IAAIihC,EAAO,EACPE,EAAM,EACNmtB,EAAQ,EACRtzD,EAAS,EAET8xE,EAAmB,EACvB,MAAMhb,EAAOyW,GAAQiB,IACf,WAAErB,EAAU,aAAEpW,EAAe1sC,GAAKqgD,cAAc3T,aAAY,UAAEC,EAAY3sC,GAAKqgD,cAAc1T,WAAewX,EAClH,IAAK,IAAIv6F,EAAI,EAAGA,EAAI2iB,EAAMjlB,OAAQsC,IAAK,CACnC,MAAMgjF,EAAU5D,GAAWqD,YAAY9/D,EAAM3iB,GAAI6iF,EAAMC,EAAcC,GACrE/wB,EAAOlrD,KAAK0G,IAAIwkD,EAAMgxB,EAAQ8a,uBAC9Bze,EAAQv4E,KAAK0G,IAAI6xE,EAAO2D,EAAQ3D,OACvB,GAALr/E,GACAkyD,GAAO8wB,EAAQC,wBACfl3D,GAAUi3D,EAAQC,yBAGlB4a,GAA6D,QAAxCnoF,EAAKstE,EAAQ0W,6BAA0C,IAAPhkF,EAAgBA,EAAKstE,EAAQ2W,eAElG35F,GAAK2iB,EAAMjlB,OAAS,EACpBquB,GAAUi3D,EAAQN,yBAGlBmb,GAA8D,QAAzC9sE,EAAKiyD,EAAQ4W,8BAA2C,IAAP7oE,EAAgBA,EAAKiyD,EAAQ6W,eAE3G,CAMA,YALmB17F,IAAf+6F,IACA2E,GAAoBl7E,EAAMjlB,OAAS,GAAKw7F,GAE5CntE,GAAU8xE,EACV3rC,GAAO2rC,EAAmBzD,GAAkBtX,GACrC,IAAIiB,GAAKn5E,EAAIonD,EAAMgyB,EAAI9xB,EAAKmtB,EAAOtzD,EAC9C,CACA,SAASytE,GAAmB72E,EAAO/X,EAAGo5E,EAAGuW,GACrC,IAAIlb,EAAQ,EACR0e,EAAkB,EAElBF,EAAmB,EACvB,MAAMhb,EAAOyW,GAAQiB,IACf,WAAErB,EAAU,aAAEpW,EAAe1sC,GAAKqgD,cAAc3T,aAAY,UAAEC,EAAY3sC,GAAKqgD,cAAc1T,WAAewX,EAClH,GAAI53E,EAAMjlB,OAAS,EAAG,CAClB,MAAMsgG,EAAW5e,GAAW0U,YAAYnxE,EAAM,GAAIkgE,GAClDxD,EAAQ2e,EAAS3e,MACjB0e,EAAkBC,EAASjyE,MAC/B,CACA,IAAK,IAAI/rB,EAAI,EAAGA,EAAI2iB,EAAMjlB,OAAQsC,IAAK,CACnC,MAAMg+F,EAAW5e,GAAW0U,YAAYnxE,EAAM3iB,GAAI6iF,GAClDxD,EAAQv4E,KAAK0G,IAAI6xE,EAAO2e,EAAS3e,OACjCwe,GAAmC,OAAf3E,QAAsC,IAAfA,EAAwBA,EAAa8E,EAASjyE,MAC7F,CACA,OAAQg3D,GACJ,IAAK,MACL,IAAK,QACDn4E,GAAKy0E,EACL,MACJ,IAAK,SACDz0E,GAAKy0E,EAAQ,EAErB,OAAQyD,GACJ,IAAK,aACDkB,GAAuB,GAAlB+Z,EAA2C,GAAnBF,EAC7B,MACJ,IAAK,SACD7Z,GAAuB,IAAlB+Z,EAA4C,GAAnBF,EAC9B,MACJ,IAAK,cACD7Z,GAAK+Z,EAAkBF,EACvB,MACJ,IAAK,UACD7Z,GAAuB,GAAlB+Z,EAA2C,GAAnBF,EAC7B,MACJ,IAAK,SACD7Z,GAAK+Z,EAAkBF,EACvB,MAER,OAAO,IAAI9Z,GAAKn5E,EAAGo5E,EAAG3E,EAAO0e,EAAkBF,EACnD,CACA,SAASzD,GAAkBtX,GACvB,OAAQA,GACJ,IAAK,MACL,IAAK,UACD,OAAO,EACX,IAAK,SACL,IAAK,aACL,IAAK,cACD,OAAO,EACX,IAAK,SACD,MAAO,GAEnB,CACO,SAASsW,GAAUp3C,GACtB,MAAuB,kBAATA,EAAoBA,EAAKp+C,MAAM,UAAY,EAC7D,CA9JAwyC,GAAKqQ,UAAY,OAEjBrQ,GAAKomD,uBAAyB,KAC9BpmD,GAAKqgD,cAAgBx4F,OAAO6hB,OAAO,CAAC,EAAGu2E,GAAMI,cAAe,CACxD1T,UAAW,QACX4a,eAAWx/F,EACXy/F,gBAAYz/F,EACZ66F,SAAU,GACVC,WAAY,aACZnW,aAAc,eAElB1sC,GAAK0lD,iBAAmB,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAM,IAAI,IAAK,IAAK,KAC3EzwE,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3CrzC,GAAKhxC,UAAW,SAAK,GACxBimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3CrzC,GAAKhxC,UAAW,SAAK,GACxBimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWoB,MAAOhB,SAAWrhE,GAAMA,EAAE+xE,eACrE/iD,GAAKhxC,UAAW,YAAQ,GAC3BimB,GAAW,CACP0tE,MACD3iD,GAAKhxC,UAAW,iBAAa,GAChCimB,GAAW,CACP0tE,MACD3iD,GAAKhxC,UAAW,kBAAc,GACjCimB,GAAW,CACP0tE,MACD3iD,GAAKhxC,UAAW,gBAAY,GAC/BimB,GAAW,CACP0tE,MACD3iD,GAAKhxC,UAAW,kBAAc,GACjCimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3CrzC,GAAKhxC,UAAW,iBAAa,GAChCimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3CrzC,GAAKhxC,UAAW,oBAAgB,GACnCimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3CrzC,GAAKhxC,UAAW,kBAAc,GCxY1B,MAAM64F,GACTt2F,cACIvL,KAAK8hG,kBAAoB,IAAI9pF,GACjC,CACA0zC,iBAAiBn/C,EAAMw1F,GACnB,GAAwB,oBAAbA,EACP,MAAM,IAAIr6F,MAAM,2CAEpB,MAAM,kBAAEo6F,GAAsB9hG,KAC9B,IAAIgiG,EAAiBF,EAAkBl9F,IAAI2H,GACtCy1F,IACDA,EAAiB,IAAIjsF,IACrB+rF,EAAkBn2F,IAAIY,EAAMy1F,IAE3BA,EAAep2F,IAAIm2F,IACpBC,EAAe3pF,IAAI0pF,EAE3B,CACAp2C,oBAAoBp/C,EAAMw1F,GACtB,MAAM,kBAAED,GAAsB9hG,KACxBgiG,EAAiBF,EAAkBl9F,IAAI2H,GACxCy1F,IAGLA,EAAexrF,OAAOurF,GACM,IAAxBC,EAAerlF,MACfmlF,EAAkBtrF,OAAOjK,GAEjC,CACA01F,iBAAiB11F,GACb,OAAOvM,KAAK8hG,kBAAkBl2F,IAAIW,EACtC,CACA21F,sBACIliG,KAAK8hG,kBAAkBhlF,OAC3B,CACAqlF,UAAUttE,GACN,MAAMutE,EAAYpiG,KAAK8hG,kBAAkBl9F,IAAIiwB,EAAMtoB,MACrC,OAAd61F,QAAoC,IAAdA,GAAgCA,EAAUvpF,SAASkpF,GAAaA,EAASltE,IACnG,ECtCG,MAAM5Q,GAAY9H,GAAmB,kBAANA,EACzBkmF,GAAkBlmF,KAAQA,GAAKta,OAAOmH,UAAUM,eAAeE,KAAK2S,EAAG,aAAe8H,GAAS9H,EAAE/Z,YAEvG,SAASkgG,GAAWlhG,GACvB,OAAO6iB,GAAS7iB,IAAUihG,GAAejhG,EAC7C,CACO,SAASmhG,GAAanhG,GACzB,MAAMohG,EAAkBrmF,KAAQA,GAAKta,OAAOmH,UAAUM,eAAeE,KAAK2S,EAAG,YAAcsmF,GAAStmF,EAAE5L,WAChGwT,EAAU5H,GAAMA,aAAaiP,OAASzF,OAAOxJ,GACnD,OAAOsmF,GAASrhG,IAAUohG,EAAephG,IAAU2iB,EAAO3iB,EAC9D,CACO,SAASshG,GAAWthG,EAAOuhG,GAC9B,OAAIA,GAAqBJ,GAAanhG,GAC3BA,EAEDuhG,OAAL,EACIL,GAAWlhG,GAGTA,EAFIb,OAAOa,EAK1B,CACO,MAAMqhG,GAAYtmF,GAAmB,kBAANA,GAAkBvD,OAAOgqF,SAASzmF,GCtBjE,MAAM0mF,GAaTt3F,YAAY4U,EAAGtV,EAAG6d,EAAG3d,EAAI,GAErB/K,KAAKmgB,EAAIzV,KAAK2G,IAAI,EAAG3G,KAAK0G,IAAI,EAAG+O,GAAK,IACtCngB,KAAK6K,EAAIH,KAAK2G,IAAI,EAAG3G,KAAK0G,IAAI,EAAGvG,GAAK,IACtC7K,KAAK0oB,EAAIhe,KAAK2G,IAAI,EAAG3G,KAAK0G,IAAI,EAAGsX,GAAK,IACtC1oB,KAAK+K,EAAIL,KAAK2G,IAAI,EAAG3G,KAAK0G,IAAI,EAAGrG,GAAK,GAC1C,CASAy7E,wBAAwBzjE,GACpB,OAAIA,EAAIthB,QAAQ,MAAQ,IACXohG,GAAMC,SAAS//E,GAExBA,EAAIthB,QAAQ,QAAU,IACbohG,GAAME,aAAahgF,KAEvB8/E,GAAMG,UAAUjgF,EAAI1V,cACjC,CAUAm5E,kBAAkBzjE,GAEd,GAAIA,EAAIthB,QAAQ,MAAQ,EAEpB,OAAOohG,GAAMI,cAAclgF,GAG/B,MAAMmgF,EAAML,GAAMG,UAAUjgF,EAAI1V,eAChC,GAAI61F,EACA,OAAOL,GAAMI,cAAcC,GAG/B,GAAIngF,EAAIthB,QAAQ,QAAU,EACtB,OAAOohG,GAAMM,eAAepgF,GAEhC,MAAM,IAAIrb,MAAO,0BAAyBqb,KAC9C,CACAyjE,0BAA0BzjE,GACtB,IACI,OAAO8/E,GAAMO,WAAWrgF,EAC5B,CACA,MAAOsI,GAEH,OADAmmE,GAAOG,SAAU,0BAAyB5uE,OACnC8/E,GAAMQ,UAAU,CAAC,EAAG,EAAG,GAClC,CACJ,CAEA7c,gBAAgBp2E,GAEZ,IAAI0vF,EACJ,OAFA1vF,EAAQA,EAAMzI,QAAQ,KAAM,IAAIrF,MAAM,GAE9B8N,EAAM9O,QACV,KAAK,EACL,KAAK,EACDw+F,EAAQ,GACR,IAAK,IAAIl8F,EAAI,EAAGA,EAAIwM,EAAM9O,OAAQsC,GAAK,EACnCk8F,EAAMnwF,KAAK4U,SAAU,GAAEnU,EAAMxM,KAAKwM,EAAMxM,EAAI,KAAM,KAEtD,MACJ,KAAK,EACL,KAAK,EACDk8F,EAAQ1vF,EACH5I,MAAM,IACNmS,KAAKsR,GAAM1G,SAAS0G,EAAG,MACvBtR,KAAKsR,GAAMA,EAAQ,GAAJA,IACpB,MAER,IAAe,OAAV60E,QAA4B,IAAVA,OAAmB,EAASA,EAAMx+F,SAAW,GAC5Dw+F,EAAM/6D,OAAO9Z,GAAMA,GAAK,IAIxB,OAHqB,IAAjB60E,EAAMx+F,QACNw+F,EAAMnwF,KAAK,KAERmwF,CAGnB,CACAtZ,qBAAqBzjE,GACjB,MAAMrK,EAASmqF,GAAMC,SAAS//E,GAC9B,GAAIrK,EAAQ,CACR,MAAOyH,EAAGtV,EAAG6d,EAAG3d,GAAK2N,EACrB,OAAO,IAAImqF,GAAM1iF,EAAI,IAAKtV,EAAI,IAAK6d,EAAI,IAAK3d,EAAI,IACpD,CACA,MAAM,IAAIrD,MAAO,wCAAuCqb,KAC5D,CACAyjE,oBAAoBzjE,GAEhB,IAAKugF,EAAInhD,GAAM,CAACt8B,IAAKA,KACrB,IAAK,IAAIjiB,EAAI,EAAGA,EAAImf,EAAIzhB,OAAQsC,IAAK,CACjC,MAAM0B,EAAIyd,EAAInf,GACd,GAAK0/F,GAAY,MAANh+F,GAGN,GAAU,MAANA,EAAW,CAChB68C,EAAKv+C,EACL,KACJ,OALI0/F,EAAK1/F,CAMb,CACA,MAAM2/F,EAAWD,GAAMnhD,GAAMp/B,EAAIi9E,UAAUsD,EAAK,EAAGnhD,GACnD,IAAKohD,EACD,OAEJ,MAAMzD,EAAQyD,EAAS/7F,MAAM,KACvBg8F,EAAO,GACb,IAAK,IAAI5/F,EAAI,EAAGA,EAAIk8F,EAAMx+F,OAAQsC,IAAK,CACnC,MAAMm8F,EAAOD,EAAMl8F,GACnB,IAAIxC,EAAQskB,WAAWq6E,GACvB,GAAIp6E,MAAMvkB,GACN,OAEA2+F,EAAKt+F,QAAQ,MAAQ,GAErBL,EAAQsJ,KAAK0G,IAAI,EAAG1G,KAAK2G,IAAI,IAAKjQ,IAClCA,GAAS,KAGC,IAANwC,EAEAxC,EAAQsJ,KAAK0G,IAAI,EAAG1G,KAAK2G,IAAI,EAAGjQ,KAIhCA,EAAQsJ,KAAK0G,IAAI,EAAG1G,KAAK2G,IAAI,IAAKjQ,IAClCA,GAAS,KAGjBoiG,EAAK7zF,KAAKvO,EACd,CACA,OAAOoiG,CACX,CACAhd,sBAAsBzjE,GAClB,MAAMygF,EAAOX,GAAME,aAAahgF,GAChC,GAAIygF,EAAM,CACN,GAAoB,IAAhBA,EAAKliG,OACL,OAAO,IAAIuhG,GAAMW,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAEvC,GAAoB,IAAhBA,EAAKliG,OACV,OAAO,IAAIuhG,GAAMW,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAEzD,CACA,MAAM,IAAI97F,MAAO,qCAAoCqb,KACzD,CACAyjE,iBAAiBnsE,GACb,GAAmB,IAAfA,EAAI/Y,OACJ,OAAO,IAAIuhG,GAAMxoF,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAEjD,GAAmB,IAAfA,EAAI/Y,OACJ,OAAO,IAAIuhG,GAAMxoF,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAEzC,MAAM,IAAI3S,MAAM,oEACpB,CACA8+E,eAAe92D,EAAGrqB,EAAGqjB,EAAG+6E,EAAQ,GAC5B,MAAMC,EAAMb,GAAMc,SAASj0E,EAAGrqB,EAAGqjB,GACjC,OAAO,IAAIm6E,GAAMa,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAID,EAC7C,CACAjd,cAAczjE,GAEV,OAAsB,IAAfA,EAAIzhB,OAAe,IAAMyhB,EAAMA,CAC1C,CACA6gF,cACI,IAAIV,EAAM,IACNL,GAAMgB,OAAOn5F,KAAK86E,MAAe,IAATxlF,KAAKmgB,GAAS/d,SAAS,KAC/CygG,GAAMgB,OAAOn5F,KAAK86E,MAAe,IAATxlF,KAAK6K,GAASzI,SAAS,KAC/CygG,GAAMgB,OAAOn5F,KAAK86E,MAAe,IAATxlF,KAAK0oB,GAAStmB,SAAS,KAInD,OAHIpC,KAAK+K,EAAI,IACTm4F,GAAOL,GAAMgB,OAAOn5F,KAAK86E,MAAe,IAATxlF,KAAK+K,GAAS3I,SAAS,MAEnD8gG,CACX,CACAY,aAAaC,EAAiB,GAC1B,MAAM1yD,EAAa,CAAC3mC,KAAK86E,MAAe,IAATxlF,KAAKmgB,GAAUzV,KAAK86E,MAAe,IAATxlF,KAAK6K,GAAUH,KAAK86E,MAAe,IAATxlF,KAAK0oB,IAClF+vB,EAAI/tC,KAAKs5F,IAAI,GAAID,GACvB,OAAe,IAAX/jG,KAAK+K,GACLsmC,EAAW1hC,KAAKjF,KAAK86E,MAAMxlF,KAAK+K,EAAI0tC,GAAKA,GACjC,QAAOpH,EAAWtjC,KAAK,UAE3B,OAAMsjC,EAAWtjC,KAAK,QAClC,CACA3L,WACI,OAAe,IAAXpC,KAAK+K,EACE/K,KAAK4jG,cAET5jG,KAAK8jG,cAChB,CACAG,QACI,OAAOpB,GAAMqB,SAASlkG,KAAKmgB,EAAGngB,KAAK6K,EAAG7K,KAAK0oB,EAC/C,CAKA89D,gBAAgBrmE,EAAGtV,EAAG6d,GAClB,MAAMrX,EAAM3G,KAAK2G,IAAI8O,EAAGtV,EAAG6d,GACrBtX,EAAM1G,KAAK0G,IAAI+O,EAAGtV,EAAG6d,GACrBy7E,EAAY,IAAR/yF,GAAaA,EAAMC,GAAOD,EAAM,EAC1C,IAAIgzF,EAAIv+E,IAGR,GAAIxU,IAAQD,EAAK,CACb,MAAMizF,EAAQjzF,EAAMC,EACdizF,GAAMlzF,EAAM+O,GAAKkkF,EACjBE,GAAMnzF,EAAMvG,GAAKw5F,EACjB19C,GAAMv1C,EAAMsX,GAAK27E,EAEnBD,EADAjkF,IAAM/O,EACFu1C,EAAK49C,EAEJ15F,IAAMuG,EACP,EAAMkzF,EAAK39C,EAGX,EAAM49C,EAAKD,EAEnBF,GAAK,EACDA,EAAI,IACJA,GAAQ,EAEhB,CACA,MAAO,CAAK,IAAJA,EAASD,EAAG/yF,EACxB,CAIAo1E,gBAAgB4d,EAAGD,EAAGnb,GACdrjE,MAAMy+E,KACNA,EAAI,GAERA,GAAOA,EAAI,IAAO,KAAO,IAAO,IAChC,IAAIjkF,EAAI,EACJtV,EAAI,EACJ6d,EAAI,EACR,GAAU,IAANy7E,EACAhkF,EAAItV,EAAI6d,EAAIsgE,MAEX,CACD,MAAMt5D,EAA0B,GAArB00E,EAAI15F,KAAK4D,MAAM81F,IACpBzgG,EAAI+rB,EAAIhlB,KAAK4D,MAAMohB,GACnBzE,EAAI+9D,GAAK,EAAImb,GACbK,EAAIxb,GAAK,EAAImb,EAAIxgG,GACjBszC,EAAI+xC,GAAK,EAAImb,GAAK,EAAIxgG,IAC5B,OAAQ+rB,GAAK,GAET,KAAK,EACDvP,EAAI6oE,EACJn+E,EAAIosC,EACJvuB,EAAIuC,EACJ,MACJ,KAAK,EACD9K,EAAIqkF,EACJ35F,EAAIm+E,EACJtgE,EAAIuC,EACJ,MACJ,KAAK,EACD9K,EAAI8K,EACJpgB,EAAIm+E,EACJtgE,EAAIuuB,EACJ,MACJ,KAAK,EACD92B,EAAI8K,EACJpgB,EAAI25F,EACJ97E,EAAIsgE,EACJ,MACJ,KAAK,EACD7oE,EAAI82B,EACJpsC,EAAIogB,EACJvC,EAAIsgE,EACJ,MACJ,KAAK,EACD7oE,EAAI6oE,EACJn+E,EAAIogB,EACJvC,EAAI87E,EACJ,MAEZ,CACA,MAAO,CAACrkF,EAAGtV,EAAG6d,EAClB,CACA+7E,OAAOC,EAAUC,EAAkBC,EAAkBC,GACjD,MAAMC,EAAMjC,GAAMqB,SAASlkG,KAAKmgB,EAAGngB,KAAK6K,EAAG7K,KAAK0oB,GAChD,IAAIA,EAAIo8E,EAAI,GACH,GAALp8E,GAAUk8E,EAAmB,IAC7Bl8E,EAAI,KAER,MAAMgH,IAAOo1E,EAAI,GAAKJ,GAAY,IAAO,KAAO,IAC1Cr/F,EAAIqF,KAAK0G,IAAI1G,KAAK2G,IAAIyzF,EAAI,GAAKH,EAAkB,GAAM,GAC7Dj8E,EAAIhe,KAAK0G,IAAI1G,KAAK2G,IAAIqX,EAAIk8E,EAAkB,GAAM,GAClD,MAAM75F,EAAIL,KAAK0G,IAAI1G,KAAK2G,IAAIrR,KAAK+K,EAAI85F,EAAe,GAAM,GACpDrB,EAAOX,GAAMc,SAASj0E,EAAGrqB,EAAGqjB,GAElC,OADA86E,EAAK7zF,KAAK5E,GACH83F,GAAMQ,UAAUG,EAC3B,CACAuB,WACI,OAAO/kG,KAAKykG,OAAO,EAAG,EAAK,EAAM,GAAK,EAC1C,CACAO,SACI,OAAOhlG,KAAKykG,OAAO,EAAG,EAAK,GAAK,EACpC,CACAje,mBAAmBuT,EAAOjS,GACtB,MAAMmd,EAAKpC,GAAMqC,mBAAmBnL,GAC9Bl6C,EAAKgjD,GAAMqC,mBAAmBpd,GACpC,OAAQ7wC,IACJ,MAAMrzC,EAAIA,CAAC4K,EAAGo5E,IAAMp5E,GAAK,EAAIyoC,GAAK2wC,EAAI3wC,EAChC3xC,EAAI,IAAIu9F,GAAMj/F,EAAEqhG,EAAG9kF,EAAG0/B,EAAG1/B,GAAIvc,EAAEqhG,EAAGp6F,EAAGg1C,EAAGh1C,GAAIjH,EAAEqhG,EAAGv8E,EAAGm3B,EAAGn3B,GAAI9kB,EAAEqhG,EAAGl6F,EAAG80C,EAAG90C,IAC5E,OAAOzF,EAAElD,UAAU,CAE3B,EAMJygG,GAAMG,UAAYnhG,OAAOqiF,OAAO,CAC5BihB,UAAW,UACXC,aAAc,UACdC,KAAM,UACNC,WAAY,UACZC,MAAO,UACPC,MAAO,UACPC,OAAQ,UACRC,MAAO,UACPC,eAAgB,UAChBC,KAAM,UACNC,WAAY,UACZC,MAAO,UACPC,UAAW,UACXC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,MAAO,UACPC,eAAgB,UAChBC,SAAU,UACVC,QAAS,UACTC,KAAM,UACNC,SAAU,UACVC,SAAU,UACVC,cAAe,UACfC,SAAU,UACVC,UAAW,UACXC,SAAU,UACVC,UAAW,UACXC,YAAa,UACbC,eAAgB,UAChBC,WAAY,UACZC,WAAY,UACZC,QAAS,UACTC,WAAY,UACZC,aAAc,UACdC,cAAe,UACfC,cAAe,UACfC,cAAe,UACfC,cAAe,UACfC,WAAY,UACZC,SAAU,UACVC,YAAa,UACbC,QAAS,UACTC,QAAS,UACTC,WAAY,UACZC,UAAW,UACXC,YAAa,UACbC,YAAa,UACbC,QAAS,UACTC,UAAW,UACXC,WAAY,UACZC,KAAM,UACNC,UAAW,UACXC,KAAM,UACNC,MAAO,UACPC,YAAa,UACbC,KAAM,UACNC,SAAU,UACVC,QAAS,UACTC,UAAW,UACXC,OAAQ,UACRC,MAAO,UACPC,MAAO,UACPC,SAAU,UACVC,cAAe,UACfC,UAAW,UACXC,aAAc,UACdC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,qBAAsB,UACtBC,UAAW,UACXC,WAAY,UACZC,UAAW,UACXC,UAAW,UACXC,YAAa,UACbC,cAAe,UACfC,aAAc,UACdC,eAAgB,UAChBC,eAAgB,UAChBC,eAAgB,UAChBC,YAAa,UACbC,KAAM,UACNC,UAAW,UACXC,MAAO,UACPC,QAAS,UACTC,OAAQ,UACRC,iBAAkB,UAClBC,WAAY,UACZC,aAAc,UACdC,aAAc,UACdC,eAAgB,UAChBC,gBAAiB,UACjBC,kBAAmB,UACnBC,gBAAiB,UACjBC,gBAAiB,UACjBC,aAAc,UACdC,UAAW,UACXC,UAAW,UACXC,SAAU,UACVC,YAAa,UACbC,KAAM,UACNC,QAAS,UACTC,MAAO,UACPC,UAAW,UACXC,OAAQ,UACRC,UAAW,UACXC,OAAQ,UACRC,cAAe,UACfC,UAAW,UACXC,cAAe,UACfC,cAAe,UACfC,WAAY,UACZC,UAAW,UACXC,KAAM,UACNC,KAAM,UACNC,KAAM,UACNC,WAAY,UACZC,OAAQ,UACRC,cAAe,UACfC,IAAK,UACLC,UAAW,UACXC,UAAW,UACXC,YAAa,UACbC,OAAQ,UACRC,WAAY,UACZC,SAAU,UACVC,SAAU,UACVC,OAAQ,UACRC,OAAQ,UACRC,QAAS,UACTC,UAAW,UACXC,UAAW,UACXC,UAAW,UACXC,KAAM,UACNC,YAAa,UACbC,UAAW,UACXC,IAAK,UACLC,KAAM,UACNC,QAAS,UACTC,OAAQ,UACRC,YAAa,YACbC,UAAW,UACXC,OAAQ,UACRC,MAAO,UACPC,MAAO,UACPC,WAAY,UACZC,OAAQ,UACRC,YAAa,YCneV,MAAMC,GAAwBt9F,OAAO,SACtCu9F,GAAa,qBACnB,SAASC,GAAiBnrG,EAAQorG,EAAqBC,EAAaC,GACL,MAAvDhtG,OAAOD,yBAAyB2B,EAAQkrG,KACxC5sG,OAAOG,eAAeuB,EAAQkrG,GAAY,CAAErtG,MAAO,CAAC,IAExD,MAAMgxB,EAAS7uB,EAAOkrG,IACtB,GAA2B,MAAvBr8E,EAAOw8E,GACP,OAAOx8E,EAAOw8E,GAElBx8E,EAAOw8E,GAAe,CAAEE,QAAS,GAAIC,QAAS,IAC9C,MAAMpmG,EAAa9G,OAAOD,yBAAyB2B,EAAQorG,GACrDK,EAAyB,OAAfrmG,QAAsC,IAAfA,OAAwB,EAASA,EAAWgD,IAC7EsjG,EAAyB,OAAftmG,QAAsC,IAAfA,OAAwB,EAASA,EAAW/D,IAC7EsJ,EAAS,WACX,IAAIoL,EAAIqb,EACR,IAAIvzB,EAAQ6tG,EAAUA,EAAQzlG,KAAKxJ,MAAQA,KAAK6uG,GAChD,IAAK,MAAMK,KAAqG,QAArFv6E,EAAoC,QAA9Brb,EAAK8Y,EAAOw8E,UAAiC,IAAPt1F,OAAgB,EAASA,EAAGy1F,eAA4B,IAAPp6E,EAAgBA,EAAK,GAEzI,GADAvzB,EAAQ8tG,EAAYlvG,KAAM2uG,EAAqBvtG,GAC3CA,IAAUotG,GACV,OAGR,OAAOptG,CACX,EACM+M,EAAS,SAAU/M,GACrB,IAAIkY,EAAIqb,EACR,MAAMm6E,EAAgG,QAArFn6E,EAAoC,QAA9Brb,EAAK8Y,EAAOw8E,UAAiC,IAAPt1F,OAAgB,EAASA,EAAGw1F,eAA4B,IAAPn6E,EAAgBA,EAAK,GACnI,IAAInc,EACAs2F,EAAQ12E,MAAMz0B,GAAMA,EAAErC,OAAS,MAE/BkX,EAAWy2F,EAAUA,EAAQzlG,KAAKxJ,MAAQA,KAAK6uG,IAEnD,IAAK,MAAMK,KAAeJ,EAEtB,GADA1tG,EAAQ8tG,EAAYlvG,KAAM2uG,EAAqBvtG,EAAOoX,GAClDpX,IAAUotG,GACV,OAGJQ,EACAA,EAAQxlG,KAAKxJ,KAAMoB,GAGnBpB,KAAK6uG,GAAiBztG,CAE9B,EAOA,OANAS,OAAOG,eAAeuB,EAAQorG,EAAqB,CAC/ChjG,IAAKwC,EACLvJ,IAAKsJ,EACLlK,YAAY,EACZC,cAAc,IAEXmuB,EAAOw8E,EAClB,CACO,SAASO,GAA+B3nB,EAAcjB,GACzD,MAAO,CAAChjF,EAAQorG,KACZ,MAAMC,EAAcD,EAAoBvsG,WAClCysG,EAAiB,KAAID,KACrB,QAAEG,EAAO,QAAED,GAAYJ,GAAiBnrG,EAAQorG,EAAqBC,EAAaC,GACxFC,EAAQn/F,KAAK63E,GACTjB,GACAwoB,EAAQnrF,OAAO,EAAG,EAAG2iE,EACzB,CAER,CC7DO,SAAS6oB,GAASvf,GACrB,OAAOsf,IAA+B,CAAC5rG,EAAQkzC,EAAMt6B,KACjD,IAAI7C,EAAIqb,EAAI2C,EACZ,GAAIu4D,EAAU1zE,EAAG,CAAE5Y,WACf,OAAO4Y,EAEX,MAAMkzF,EAAW54D,EAAKr0C,WAAWuF,QAAQ,MAAO,IAChD,IAAI2nG,EAAqG,QAAtF36E,EAAmC,QAA7Brb,EAAK/V,EAAOgI,mBAAgC,IAAP+N,OAAgB,EAASA,EAAG+wC,iBAA8B,IAAP11B,EAAgBA,EAAmC,QAA7B2C,EAAK/zB,EAAOgI,mBAAgC,IAAP+rB,OAAgB,EAASA,EAAGhzB,MACnL,OAAhBgrG,QAAwC,IAAhBA,OAAyB,EAASA,EAAYhuG,QAAU,IACjFguG,EAAc,MAElB,MAAMC,EAAkBD,EAAe,OAAMA,MAAkB,GAO/D,OANIzf,EAAUn8E,QACV89E,GAAOrgE,KAAM,aAAYk+E,MAAaE,sBAAoChmF,KAAKC,UAAUrN,QAAQ0zE,EAAUn8E,sBAG3G89E,GAAOrgE,KAAM,aAAYk+E,MAAaE,sBAAoChmF,KAAKC,UAAUrN,kBAEtFqyF,EAAqB,GAEpC,CACO,SAASgB,GAAqB3f,EAAWn8E,GAE5C,OADAm8E,EAAUn8E,QAAUA,EACbm8E,CACX,CACO,MAAM4f,GAAWA,CAACtzF,EAAG2Q,EAAK+iE,SAAoB9tF,IAANoa,GAAmB0zE,EAAU1zE,EAAG2Q,GAClE4iF,GAAQA,CAACpuG,EAAQuuF,IACnB2f,IAAqB,CAACrzF,EAAG2Q,IAAQngB,MAAMhL,QAAQwa,MACjD7a,GAAS6a,EAAE7a,SAAWA,MACtBuuF,GAAY1zE,EAAE4oB,OAAO1Z,GAAMwkE,EAAUxkE,EAAGyB,OAAgB,sBAEpD6iF,GAAaruG,GACfkuG,IAAqB,CAACrzF,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,EAAK4iF,GAAMpuG,KAAU,+BAEhEsuG,GAAMA,IAAIC,IACZL,IAAqB,CAACrzF,EAAG2Q,IAAQ+iF,EAAW9qE,OAAO9Z,GAAMA,EAAE9O,EAAG2Q,MAAO+iF,EACvEl2F,KAAKsR,GAAMA,EAAEvX,UACbgG,QAAQnU,GAAW,MAALA,IACdwI,KAAK,UAED+hG,GAAKA,IAAID,IACXL,IAAqB,CAACrzF,EAAG2Q,IAAQ+iF,EAAWz3E,MAAMnN,GAAMA,EAAE9O,EAAG2Q,MAAO+iF,EACtEl2F,KAAKsR,GAAMA,EAAEvX,UACbgG,QAAQnU,GAAW,MAALA,IACdwI,KAAK,SAERgiG,GAAgB5zF,GACN,MAALA,IAAcwJ,MAAMxJ,GAElB6zF,GAAaC,GAAeT,IAAqB,CAACrzF,EAAG2Q,KAASijF,GAAa5zF,KAAO4zF,GAAajjF,EAAIvpB,OAAO0sG,KAAgB9zF,EAAI2Q,EAAIvpB,OAAO0sG,IAAc,4BAA2BA,KAClLC,GAAgBD,GAAeT,IAAqB,CAACrzF,EAAG2Q,KAASijF,GAAa5zF,KAAO4zF,GAAajjF,EAAIvpB,OAAO0sG,KAAgB9zF,EAAI2Q,EAAIvpB,OAAO0sG,IAAc,+BAA8BA,KACxLE,GAAWX,IAAsBrzF,GAAmB,oBAANA,GAAkB,wBAChEi0F,GAAeZ,IAAqB,CAACrzF,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,EAAKqjF,KAAY,kCAC7EE,GAAUb,IAAsBrzF,IAAY,IAANA,IAAoB,IAANA,GAAa,uBACjEm0F,GAAcd,IAAqB,CAACrzF,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,EAAKujF,KAAU,iCAC1EE,GAASf,IAAsBrzF,GAAmB,kBAANA,GAAgB,sBAC5Dq0F,GAAahB,IAAqB,CAACrzF,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,EAAKyjF,KAAS,gCACxEE,GAAOjB,IAAsBrzF,GAAMA,aAAaiP,OAASzF,OAAOxJ,IAAI,2BACpEu0F,GAAWlB,IAAqB,CAACrzF,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,EAAK2jF,KAAO,8BAEpEE,IADanB,GAAqBE,QAAM3tG,EAAW0uG,IAAO,sCAC5CG,GAAO,IACrBC,GAAkBrB,IAAqB,CAACrzF,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,EAAK6jF,KAAc,gCAClFG,GAA0BhB,GAAGY,GAAUG,IAC9CE,GAAgB,8KACTC,GAAexB,IAAsBrzF,GAC7B,kBAANA,GAGJ0mF,GAAMoO,iBAAiB90F,IAC9B,6BAA4B40F,MACnBG,GAAmB1B,IAAqB,CAACrzF,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,EAAKkkF,KAAgB,uCAAsCD,MAC3HI,GAAqB3B,GAAqBE,QAAM3tG,EAAWivG,IAAgB,wCAAuCD,MAClHK,GAAyB5B,IAAqB,CAACrzF,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,EAAKqkF,KAAsB,iDAAgDJ,MACvJ,SAASH,GAAOv/F,EAAKD,GACxB,MAAMsC,EAAW,mCAAoC3R,IAARsP,EAAoB,2BAA6BA,EAAM,UACvFtP,IAARqP,EAAoB,2BAA6BA,EAAM,KAC5D,OAAOo+F,IAAsBrzF,GAAmB,kBAANA,GACtCvD,OAAOgqF,SAASzmF,UACPpa,IAARsP,GAAoB8K,GAAK9K,UACjBtP,IAARqP,GAAoB+K,GAAK/K,IAAasC,EAC/C,CACO,SAAS29F,GAAWhgG,EAAKD,GAC5B,MAAMsC,EAAW,6CAA8C3R,IAARsP,EAAoB,2BAA6BA,EAAM,UACjGtP,IAARqP,EAAoB,2BAA6BA,EAAM,KAC5D,OAAOo+F,IAAqB,CAACrzF,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,EAAK8jF,GAAOv/F,EAAKD,KAAOsC,EAChF,CACO,SAAS49F,GAAcjgG,EAAKD,GAE/B,MAAMsC,EAAW,mCAAoC3R,IAARsP,EAAoB,2BAA6BA,EAAM,UACvFtP,IAARqP,EAAoB,2BAA6BA,EAAM,KAC5D,OAAOo+F,IAAsBrzF,GAAmB,kBAANA,IACrCwJ,MAAMxJ,IACFvD,OAAOgqF,SAASzmF,UAAepa,IAARsP,GAAoB8K,GAAK9K,UAAwBtP,IAARqP,GAAoB+K,GAAK/K,KAAesC,EACrH,CACO,MAAM69F,GAAe/B,GAAqBE,QAAM3tG,EAAW6uG,MAAW,iCAChEY,GAAmBhC,IAAqB,CAACrzF,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,EAAKykF,KAAe,0CACpFE,GAAejC,GAAqBE,QAAM3tG,EAAWwuG,IAAS,iCAC3Cf,IAAqB,CAACrzF,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,EAAK2kF,KAAe,0CAC1F,SAASC,MAAgBh5F,GAC5B,MAAMhF,EAAW,qBAAoBgF,EAAO3K,KAAK,QACjD,OAAOyhG,IAAsBrzF,GAAmB,kBAANA,GAAkBzD,EAAOjX,QAAQ0a,IAAM,GAAGzI,EACxF,CACO,MAAMi+F,GAAgBnC,GAAqBE,QAAM3tG,EAAWsuG,IAAU,wCAEvEuB,IAD2BpC,IAAqB,CAACrzF,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,EAAK6kF,KAAgB,iDAC9E,CACjB,SACA,OACA,SACA,UACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,QAESE,GAAarC,IAAsBrzF,GAAY,WAANA,GAAwB,WAANA,GAAwB,YAANA,GAAkB,0EAC/F21F,GAAiBtC,IAAqB,CAACrzF,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,EAAK+kF,KAAc,oFACjFE,GAAcvC,IAAsBrzF,GAAMy1F,GAAapwG,SAAS2a,IAAK,mHACrE61F,GAAkBxC,IAAqB,CAACrzF,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,EAAKilF,KAAe,6HACnFE,GAAYzC,GAAqBE,QAAM3tG,EAAW6uG,GAAO,IAAK,2LAC9DsB,GAAgB1C,IAAqB,CAACrzF,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,EAAKmlF,KAAY,oMACrFE,GAAY,CAAC,OAAQ,QAAS,UACvBC,GAAW5C,IAAsBrzF,GAAMg2F,GAAU3wG,SAAS2a,IAAK,oEAEtEk2F,IADsB7C,IAAqB,CAACrzF,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,EAAKslF,KAAY,8EACvE,CAAC,QAAS,QAAS,UACzBE,GAAY9C,IAAsBrzF,GAAMk2F,GAAW7wG,SAAS2a,IAAK,qEAExEo2F,IADuB/C,IAAqB,CAACrzF,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,EAAKwlF,KAAa,+EAC1E,CAAC,MAAO,QAAS,SAAU,SAChCE,GAAWhD,IAAsBrzF,GAAMo2F,GAAU/wG,SAAS2a,IAAK,0EACtEs2F,GAAqB,CAAC,QAAS,WACxBC,GAAoBlD,IAAsBrzF,GAAoB,kBAANA,GAAkBvD,OAAOgqF,SAASzmF,IAAOs2F,GAAmBjxG,SAAS2a,IAAK,oEACzIw2F,GAAa,CAAC,QAAS,SAAU,YAAa,YACvCC,GAAYpD,IAAsBrzF,GAAMw2F,GAAWnxG,SAAS2a,IAAK,6FCxIvE,IAAI02F,GCHAC,GCAJ,SAASC,GAAar6F,EAAQs6F,EAAS,CAAC7+E,KAAWA,MACtD,IAAK,MAAM/yB,KAASsX,EACK,kBAAVtX,IAGPA,EAAQ4xG,EAAO,KACfA,EAAO,GAAK5xG,GAEZA,EAAQ4xG,EAAO,KACfA,EAAO,GAAK5xG,IAGpB,OAAO4xG,CACX,CCTA,SAASC,GAAYvvG,GACjB,OAAOA,EACFiW,KAAKwC,GACG,MAALA,GAGkB,kBAANA,GAA+B,kBAANA,GAA+B,mBAANA,EAFvDA,EAKW,kBAANA,EACLoN,KAAKC,UAAUrN,GAEnBA,IAENpO,KAAK,IACd,CACA,SAASy3E,GAAMl1E,GACX,MAAM4iG,EAAW,IACjB,OAAIt6F,OAAOu6F,UAAU7iG,GACVA,EAEF5F,KAAKw9E,IAAI53E,GAAO4iG,EACdxoG,KAAK6D,MAAM+B,GAEf5F,KAAK86E,MAAMl1E,EAAM4iG,GAAYA,CACxC,CACO,SAASE,GAAiBC,GAC7B,QAAetxG,IAAXsxG,EAEA,MAAO,GAEX,IAAKhiG,EAAKD,GAAOiiG,EAGjB,OAFAhiG,GAAOA,EACPD,GAAOA,EACK,IAARC,GAAqB,IAARD,EAEN,CAAC,EAAG,GAEXC,IAAQ8iB,KAAY/iB,KAAS+iB,IAEtB,IAEP9iB,IAAQ8iB,MACR9iB,EAAM,GAEND,KAAS+iB,MACT/iB,EAAM,GAEJqxF,GAASpxF,IAAQoxF,GAASrxF,GAGzB,CAACC,EAAKD,GAFF,GAGf,EHpDA,SAAWyhG,GACPA,EAAOA,EAAO,6BAA+B,IAAM,2BACnDA,EAAOA,EAAO,oBAAsB,GAAK,mBACzCA,EAAOA,EAAO,eAAiB,IAAM,cACrCA,EAAOA,EAAO,iCAAmC,IAAM,gCACvDA,EAAOA,EAAO,uBAAyB,KAAO,sBAC9CA,EAAOA,EAAO,2BAA6B,KAAQ,0BACnDA,EAAOA,EAAO,uBAAyB,MAAQ,sBAC/CA,EAAOA,EAAO,gCAAkC,MAAQ,+BACxDA,EAAOA,EAAO,iBAAmB,KAAQ,eAC5C,EAVD,CAUGA,KAAWA,GAAS,CAAC,ICbxB,SAAWC,GACPA,EAAmB,KAAO,IAC1BA,EAAmB,KAAO,GAC7B,CAHD,CAGGA,KAAuBA,GAAqB,CAAC,IEqDhD,MAAMQ,GAAgBpiG,OAAO,WACtB,MAAMqiG,GACThoG,YAAYk0E,GACR,IAAInmE,EACJ,MAAM,MAAEsO,GAAU63D,EAGlB,IAAI/7E,GAAO,EACX,IAAK,MAAM+Z,KAAQmK,EAAO,CACtB,GAAkB,QAAdnK,EAAKlR,OAAmB7I,EACxB,MAAM,IAAIgE,MAAM,oEAEF,UAAd+V,EAAKlR,MAAoB7I,IACzBA,GAAO,EAEf,CACA1D,KAAKy/E,KAAO59E,OAAO6hB,OAAO,CAAE8vF,aAAa,GAAQ/zB,GACjDz/E,KAAK0D,KAAOkkB,EACPlO,QAAQoG,GAAqB,QAAbA,EAAIvT,OACpBoN,KAAI,CAACmG,EAAKve,IAAWM,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG5D,GAAM,CAAEve,QAAOkyG,SAAS,MAClFzzG,KAAK0Y,OAASkP,EACTlO,QAAQoG,GAAqB,UAAbA,EAAIvT,OACpBoN,KAAI,CAACmG,EAAKve,IAAWM,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG5D,GAAM,CAAEve,QAAOkyG,SAAS,MAClFzzG,KAAK0zG,WAAa9rF,EAAMlO,QAAQoG,GAAqB,cAAbA,EAAIvT,OAC5CvM,KAAK2zG,gBAAkB/rF,EAAMlO,QAAQoG,GAAqB,0BAAbA,EAAIvT,OACjDvM,KAAK4zG,mBAAqBhsF,EAAMlO,QAAQoG,GAAqB,6BAAbA,EAAIvT,OACpDvM,KAAK6zG,SAAWjsF,EAAMlO,QAAQoG,GAAqB,YAAbA,EAAIvT,OAC1CvM,KAAK8zG,WAAalsF,EAAMlO,QAAQoG,GAAqB,cAAbA,EAAIvT,OAC5C,IAAK,MAAM,WAAEuyD,KAA2C,QAA1BxlD,EAAKtZ,KAAK0zG,kBAA+B,IAAPp6F,EAAgBA,EAAK,GACjF,GAA0B,IAAtBwlD,EAAWx9D,OAEf,IAAK,MAAM25F,KAAYn8B,EAAY,CAC/B,GAAwB,kBAAbm8B,IAA0Bj7F,KAAK0Y,OAAO0f,MAAMtY,GAAQA,EAAIm7E,WAAaA,IAC5E,MAAM,IAAIvzF,MAAO,0FAAyFo3D,OAE9G,GAAwB,kBAAbm8B,IAA0Bj7F,KAAK0Y,OAAO0f,MAAMtY,GAAQA,EAAI9N,KAAOipF,EAASjpF,KAC/E,MAAM,IAAItK,MAAO,0FAAyFo3D,MAElH,CAER,CACAi1C,8BAA8BC,GAC1B,MAAM,KAAEtwG,EAAI,OAAEgV,GAAW1Y,KACnB8f,EAAM,IAAIpc,KAASgV,GAAQuuD,MAAK,EAAGj1D,QAASA,IAAOgiG,IACzD,GAAKl0F,EAEL,MAA6D,SAAhD,OAARA,QAAwB,IAARA,OAAiB,EAASA,EAAIvT,OAA4E,WAAhD,OAARuT,QAAwB,IAARA,OAAiB,EAASA,EAAIvT,MAC1G,CAAEA,KAAMuT,EAAIvT,KAAMhL,MAAOue,EAAIve,YADxC,CAGJ,CACA0yG,4BAA4BD,GACxB,MAAM,KAAEtwG,EAAI,OAAEgV,GAAW1Y,KACnB8f,EAAM,IAAIpc,KAASgV,GAAQuuD,MAAK,EAAGj1D,QAASA,IAAOgiG,IACzD,GAAKl0F,EAEL,OAAOA,CACX,CACAo0F,UAAUF,EAAUG,GAChB,MAAM1tF,EAAMzmB,KAAK+zG,8BAA8BC,GAC/C,OAAKvtF,EAGE0tF,EAAcnB,OAAoB,QAAbvsF,EAAIla,KAAiB,OAAS,UAAUka,EAAIllB,OAF7D,EAGf,CACA6yG,YAAYpnG,GACR,MAAQyyE,MAAM,YAAE40B,EAAW,UAAEC,GAAW,WAAEZ,EAAU,gBAAEC,EAAe,SAAEE,EAAQ,WAAEC,EAAU,mBAAEF,GAAwB5zG,KAC/GqmB,EAAQ+sB,YAAYoZ,MAC1B,IAAK,MAAM1sC,IAAO,IAAI9f,KAAK0D,QAAS1D,KAAK0Y,QACrCoH,EAAI2zF,SAAU,EAElB,GAAIY,GAAoC,IAArBr0G,KAAK0D,KAAKpC,OACzB,OAEJ,IAAI6yG,EAAgBn0G,KAAKu0G,YAAYvnG,GACjCqnG,EACAF,EAAgBn0G,KAAKw0G,UAAUL,GAE1BG,IACLH,EAAgBn0G,KAAKw0G,UAAUL,EAAeG,EAAUH,KAExDR,EAAgBryG,OAAS,GACzBtB,KAAKy0G,kBAAkBN,GAEvBT,EAAWpyG,OAAS,GACpBtB,KAAK00G,cAAcP,GAEnBP,EAAmBtyG,OAAS,GAC5BtB,KAAK20G,sBAAsBR,GAE3BN,EAASvyG,OAAS,GAClBtB,KAAK40G,WAAWT,GAEhBL,EAAWxyG,OAAS,GACpBtB,KAAK60G,gBAAgBV,GAEzB,IAAK,MAAMr0F,IAAO,IAAI9f,KAAK0D,QAAS1D,KAAK0Y,QACjCoH,EAAI2zF,SACJjiB,GAAOG,SAAU,YAAW7xE,EAAIm7E,yDAGxC,MAAM30E,EAAM8sB,YAAYoZ,MAKxB,OAJA2nD,EAAc7c,KAAOhxE,EAAMD,EACvBktF,GAAUuB,SACVC,GAAiBZ,GAEdA,CACX,CACAa,eAAev+D,GACX,IAAIxzC,EAOJ,GALIA,EADgB,kBAATwzC,EACEz2C,KAAK0Y,OAAO2Q,WAAWvJ,GAAQA,EAAIm7E,WAAaxkD,IAGhDz2C,KAAK0Y,OAAO2Q,WAAWvJ,GAAQA,EAAI9N,KAAOykC,EAAKzkC,KAExD/O,GAAU,EACV,OAAOA,EAEX,MAAM,IAAIyE,MAAM,sDAAwD+uC,EAC5E,CACA89D,YAAYvnG,GACR,MAAQtJ,KAAMuxG,EAASv8F,OAAQw8F,EAAWz1B,MAAM,YAAE+zB,IAAmBxzG,MAC/D,WAAEm1G,EAAU,aAAEC,GAAiBp1G,KAAKq1G,0BACpCC,EAAa,IAAI3oG,MAAM6mG,EAAcxmG,EAAK1L,OAAS,GACzD,IAAIi0G,EAAgB,EACpB,IAAK,MAAM9mB,KAASzhF,EAAM,CACtB,MAAMtJ,EAAO8vG,EAAc,IAAI7mG,MAAMsoG,EAAQ3zG,aAAUS,EACvD,IACIgB,EADAyyG,EAAS,EAEb,IAAK,MAAM11F,KAAOm1F,EAAS,CAEvB,GADAlyG,EAAMqyG,EAAat1F,EAAK2uE,EAAO1rF,GAC3BA,IAAQuwG,GACR,MACA5vG,IACAA,EAAK8xG,KAAYzyG,EAEzB,CACA,GAAIA,IAAQuwG,GACR,SACJ,MAAM56F,EAAS86F,GAAe0B,EAAU5zG,OAAS,EAAI,IAAIqL,MAAMuoG,EAAU5zG,aAAUS,EACnF,IACIX,EADAq0G,EAAW,EAEf,IAAK,MAAM31F,KAAOo1F,EAAW,CAEzB,GADA9zG,EAAQg0G,EAAat1F,EAAK2uE,EAAOrtF,GAC7BA,IAAUkyG,GACV,MACA56F,IACAA,EAAO+8F,KAAcr0G,EAE7B,CACIA,IAAUkyG,KAEVE,IACA8B,EAAWC,KAAmB,CAC1B9mB,QACA/qF,OACAgV,WAGZ,CACA48F,EAAWh0G,OAASi0G,EACpB,MAAMG,EAAkB51F,IACpB,IAAIxG,EACJ,MAAMrW,EAASkyG,EAAWvwG,IAAsB,QAAjB0U,EAAKwG,EAAI9N,UAAuB,IAAPsH,EAAgBA,EAAKwG,EAAIm7E,UAAU+X,OAC3F,OAAIrmG,MAAMhL,QAAQsB,IAAWA,EAAO,GAAKA,EAAO,GAErC,GAEJ,IAAIA,EAAO,EAEtB,MAAO,CACHsJ,KAAM,YACNS,KAAMsoG,EACNtC,OAAQ,CACJtvG,KAAMuxG,EAAQt7F,KAAKmG,GAAQ41F,EAAe51F,KAC1CpH,OAAQw8F,EAAUv7F,KAAKmG,GAAQ41F,EAAe51F,MAElD61F,QAAS,CACLjyG,KAAMuxG,EAAQtrF,QAAO,CAACxJ,GAAK86E,WAAU15F,YACjC4e,EAAE86E,GAAY15F,EACP4e,IACR,CAAC,GACJzH,OAAQw8F,EAAUvrF,QAAO,CAACxJ,GAAK86E,WAAU15F,YACrC4e,EAAE86E,GAAY15F,EACP4e,IACR,CAAC,IAERy1F,KAAM,CACFlyG,KAAMuxG,EACNv8F,OAAQw8F,GAEZ5d,KAAM,EAEd,CACAkd,UAAUxnG,EAAM6oG,GACZ,MAAM1B,EAAgB,IAAIn8F,IAC1B,IAAK,MAAM89F,KAAa9oG,EAAKA,KAAM,CAC/B,MAAM,KAAEtJ,EAAI,OAAEgV,EAAM,MAAE+1E,GAAUqnB,EAC1B/iB,EAAQ8iB,EAAaA,EAAWC,GAAapyG,EAC7CqyG,EAAW9C,GAAYlgB,GAC7B,GAAIohB,EAAcvoG,IAAImqG,GAAW,CAC7B,MAAMC,EAAe7B,EAAcvvG,IAAImxG,GACvCC,EAAat9F,OAAO/I,KAAK+I,GACzBs9F,EAAavnB,MAAM9+E,KAAK8+E,EAC5B,MAEI0lB,EAAcxoG,IAAIoqG,EAAU,CAAEryG,KAAMqvF,EAAOr6E,OAAQ,CAACA,GAAS+1E,MAAO,CAACA,IAE7E,CACA,MAAM6mB,EAAa,IAAI3oG,MAAMwnG,EAAcx3F,MACrCs5F,EAAe,IAAItpG,MAAMwnG,EAAcx3F,MAC7C,IAAIu5F,EAAY,EAChB,IAAK,MAAO,EAAE,KAAExyG,EAAI,OAAEgV,EAAM,MAAE+1E,MAAY0lB,EAAczqF,UACpDusF,EAAaC,GAAaxyG,EAC1B4xG,EAAWY,KAAe,CACtBxyG,OACAgV,SACA+1E,SAGR,OAAO5sF,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG1W,GAAO,CAAET,KAAM,UAAWS,KAAMsoG,EAAYtC,OAAQnxG,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG1W,EAAKgmG,QAAS,CAAEmD,OAAQF,KACvJ,CACAvB,cAAcP,GACV,IAAI76F,EAAIqb,EAAI2C,EAAIH,EAAIi/E,EAAIC,EAAIC,EAC5B,MAAQ5C,WAAY6C,GAAYv2G,KAChC,IAAKu2G,EACD,OACJ,MAAMC,EAAkBD,EAAQ58F,KAAI,IAAM,CAACwa,KAAWA,OAChDsiF,EAAwBF,EAAQ58F,KAAKi8F,GAASA,EAAK92C,WAAWnlD,KAAK88B,GAASz2C,KAAKg1G,eAAev+D,OAChGigE,EAAeH,EAAQ58F,KAAKmG,GAAQA,EAAI62F,oBACxCC,EAAoBL,EAAQ58F,KAAKmG,GAAQA,EAAI+2F,yBAC7CC,EAAiBP,EAAQ58F,KAAKmG,GAAQA,EAAIi3F,gBAChD,IAAK,MAAMhkB,KAASohB,EAAcnnG,KAAM,CACpC,IAAI,OAAE0L,GAAWq6E,EACU,QAA1Bz5E,EAAKy5E,EAAMikB,iBAA8B,IAAP19F,IAAsBy5E,EAAMikB,UAAY,IAAIrqG,MAAM8pG,EAAsBn1G,SAChF,cAAvB6yG,EAAc5nG,OACdmM,EAAS,CAACA,IAEd,IAAIu+F,EAAY,EAChB,IAAK,MAAMtB,KAAWc,EAAuB,CACzC,IAAIS,EAAgI,QAA9G5/E,EAA6C,QAAvC3C,EAAKiiF,EAAkBK,UAA+B,IAAPtiF,OAAgB,EAASA,EAAGnrB,KAAKotG,UAAuC,IAAPt/E,EAAgBA,EAAKy7E,GAAa,IAC9K,IAAK,MAAMoE,KAAkBz+F,EAAQ,CACjC,MAAM0+F,EAAczB,EAAQh8F,KAAK87F,GAAa0B,EAAe1B,KACvD4B,EAAYX,EAAaO,GAAWG,EAAarkB,EAAMrvF,MACzD2zG,IACAH,EAC8I,QAAzId,EAA6C,QAAvCj/E,EAAKy/E,EAAkBK,UAA+B,IAAP9/E,OAAgB,EAASA,EAAG3tB,KAAKotG,EAAmBS,EAAWH,UAAoC,IAAPd,EAAgBA,EAAKrD,GAAasE,EAAWH,GAE3M,CACA,MAAMI,GAAwI,QAAxHhB,EAA0C,QAApCD,EAAKS,EAAeG,UAA+B,IAAPZ,OAAgB,EAASA,EAAG7sG,KAAKstG,EAAgBI,UAAoC,IAAPZ,EAAgBA,EAAKY,GAAgBv9F,KAAKwC,GAAMqpE,GAAMrpE,KAC5M42F,GAAauE,EAAad,EAAgBS,IAC1ClkB,EAAMikB,UAAUC,KAAeK,CACnC,CACJ,CACAnD,EAAcnB,OAAOgE,UAAYR,CACrC,CACA/B,kBAAkBN,GACd,MAAM,gBAAER,GAAoB3zG,KAC5B,GAAK2zG,EAEL,IAAK,MAAM4D,KAAa5D,EAAiB,CACrC,MAAM6D,EAAeD,EAAUz4C,WAAWnlD,KAAKsR,GAAMjrB,KAAKg1G,eAAe/pF,KACnEwsF,EAAWF,EAAUG,SAC3B,GAA2B,YAAvBvD,EAAc5nG,KACd,IAAK,MAAMwmF,KAASohB,EAAcnnG,KAC9B,IAAK,MAAM0L,KAAUq6E,EAAMr6E,OACnBA,GACA++F,EAAS/+F,EAAQ8+F,QAM7B,IAAK,MAAMzkB,KAASohB,EAAcnnG,KAC1B+lF,EAAMr6E,QACN++F,EAAS1kB,EAAMr6E,OAAQ8+F,EAIvC,CACJ,CACA7C,sBAAsBR,GAClB,MAAM,mBAAEP,GAAuB5zG,KAC/B,GAAK4zG,EAEL,IAAK,MAAM,OAAE8D,EAAM,SAAEzc,KAAc2Y,EAC/B8D,IAASvD,EAAen0G,KAAKg1G,eAAe/Z,GAEpD,CACA2Z,WAAWT,GACP,IAAI76F,EACJ,MAAQu6F,SAAU8D,GAAgB33G,KAC5B6zG,EAAW8D,EAAYh+F,KAAKmG,GAAQA,EAAI83F,YACxCC,EAAYF,EAAYh+F,KAAKmG,GAAQA,EAAI2sC,eAC/C,IAAK,MAAMsmC,KAASohB,EAAcnnG,KAAM,CACpC,IAAI8qG,EAAe,EACnB,IAAK,MAAMF,KAAW/D,EAClBgE,EAAUC,GAAgBF,EAAQC,EAAUC,GAAe/kB,GAC3D+kB,GAER,CACA,IAAK,IAAIC,EAAS,EAAGA,EAASF,EAAUv2G,OAAQy2G,IACX,QAAhCz+F,EAAK66F,EAAc6D,eAA4B,IAAP1+F,IAAsB66F,EAAc6D,QAAU,CAAC,GACxF7D,EAAc6D,QAAQL,EAAYI,GAAQ9c,UAAY4c,EAAUE,EAExE,CACAlD,gBAAgBV,GACZ,IAAI76F,EACJ,MAAQw6F,WAAYmE,GAAkBj4G,KACtC,IAAK,MAAM8f,KAAOm4F,EACmB,QAAhC3+F,EAAK66F,EAAc6D,eAA4B,IAAP1+F,IAAsB66F,EAAc6D,QAAU,CAAC,GACxF7D,EAAc6D,QAAQl4F,EAAIm7E,UAAYn7E,EAAIo4F,UAAU/D,EAE5D,CACAkB,0BACI,MAAQ3xG,KAAMuxG,EAASv8F,OAAQw8F,GAAcl1G,KACvCm1G,EAAa,IAAIn9F,IACjBmgG,EAAe,IAAIngG,IACnBogG,EAAoBA,CAACr1G,EAAKwJ,EAAM8rG,KACrB,aAAT9rG,EACA8rG,EAAiB1sG,IAAI5I,EAAK,CAAEwJ,OAAMymG,OAAQ,IAAIj9F,MAG9CsiG,EAAiB1sG,IAAI5I,EAAK,CAAEwJ,OAAMymG,OAAQ,CAAC7+E,KAAWA,MAC1D,EAEEmkF,EAAiBA,CAACD,EAAmBlD,KACvCF,EAAQp8F,SAASiH,IAAU,IAAIxG,EAAI,OAAO8+F,EAAoC,QAAjB9+F,EAAKwG,EAAI9N,UAAuB,IAAPsH,EAAgBA,EAAKwG,EAAIm7E,SAAUn7E,EAAIirD,UAAWstC,EAAiB,IACzJnD,EAAUr8F,SAASiH,IAAU,IAAIxG,EAAI,OAAO8+F,EAAoC,QAAjB9+F,EAAKwG,EAAI9N,UAAuB,IAAPsH,EAAgBA,EAAKwG,EAAIm7E,SAAUn7E,EAAIirD,UAAWstC,EAAiB,IACpJA,GAEXC,IACA,MAAMlD,EAAeA,CAACt1F,EAAK2uE,EAAO8pB,KAC9B,IAAIj/F,EAAIqb,EAAI2C,EAAIH,EAAIi/E,EACpB,MAAMoC,EAAe14F,EAAIm7E,YAAYxM,EAC/BgqB,EAAkB,iBAAkB34F,EACrCA,EAAI2zF,SAAY+E,GAAiBC,IAClC34F,EAAI2zF,SAAU,GAEb0B,EAAWvpG,IAAsB,QAAjB0N,EAAKwG,EAAI9N,UAAuB,IAAPsH,EAAgBA,EAAKwG,EAAIm7E,WACnEqd,EAAenD,GAEnB,IAAI/zG,EAAQo3G,EAAe/pB,EAAM3uE,EAAIm7E,UAAYn7E,EAAI44F,aACrD,GAAIF,EAAc,CACd,MAAMG,EAAkG,QAAzFrhF,EAA+B,QAAzB3C,EAAK7U,EAAI84F,kBAA+B,IAAPjkF,OAAgB,EAASA,EAAGnrB,KAAKsW,EAAK1e,UAA2B,IAAPk2B,GAAgBA,EAChI,IAAKqhF,EAAO,CACR,KAAI,iBAAkB74F,GAIlB,OAAOwzF,GAHPlyG,EAAQ0e,EAAI+4F,YAKpB,CACJ,CACI/4F,EAAIy3F,YACCY,EAAavsG,IAAIkU,IAClBq4F,EAAaxsG,IAAImU,EAAKA,EAAIy3F,aAE9Bn2G,EAAyC,QAAhC+1B,EAAKghF,EAAavzG,IAAIkb,UAAyB,IAAPqX,OAAgB,EAASA,EAAG/1B,EAAOm3G,IAAkBjF,GAAgBiF,OAAgBx2G,IAE1I,MAAMwrB,EAAO4nF,EAAWvwG,IAAsB,QAAjBwxG,EAAKt2F,EAAI9N,UAAuB,IAAPokG,EAAgBA,EAAKt2F,EAAIm7E,UAY/E,MAXgE,cAAlD,OAAT1tE,QAA0B,IAATA,OAAkB,EAASA,EAAKhhB,MAClDghB,EAAKylF,OAAO36F,IAAIjX,GAEiD,WAAlD,OAATmsB,QAA0B,IAATA,OAAkB,EAASA,EAAKhhB,QACnDghB,EAAKylF,OAAO,GAAK5xG,IACjBmsB,EAAKylF,OAAO,GAAK5xG,GAEjBmsB,EAAKylF,OAAO,GAAK5xG,IACjBmsB,EAAKylF,OAAO,GAAK5xG,IAGlBA,CAAK,EAEhB,MAAO,CAAE+zG,aAAYC,eAAckD,iBACvC,EAGJ,SAASvD,GAAiBZ,GACtB,IAAI76F,EAAIqb,EACR,MAAM+8D,EAAMA,CAACptF,EAAM0I,KACXA,EAAK1L,OAAS,IAEdixB,QAAQm/D,IAAIptF,GAEZiuB,QAAQumF,MAAM9rG,GAClB,EAQJ,GALAulB,QAAQm/D,IAAI,CAAEyiB,kBACdziB,EAAI,cAAeyiB,EAAcnB,OAAOtvG,MACxCguF,EAAI,gBAAwD,QAAtCp4E,EAAK66F,EAAcnB,OAAOmD,cAA2B,IAAP78F,EAAgBA,EAAK,IACzFo4E,EAAI,gBAAiByiB,EAAcnB,OAAOt6F,QAC1Cg5E,EAAI,oBAA+D,QAAzC/8D,EAAKw/E,EAAcnB,OAAOgE,iBAA8B,IAAPriF,EAAgBA,EAAK,IACrE,YAAvBw/E,EAAc5nG,KAAoB,CAClC,MAAMwsG,EAAkB5E,EAAcnnG,KAAK2c,QAAO,CAACqvF,EAAKv7F,KACpD,IAAInE,EAAIqb,EACR,MAAMjxB,EAA4B,QAApB4V,EAAKmE,EAAK/Z,YAAyB,IAAP4V,EAAgBA,EAAK,GACzD09F,EAAsC,QAAzBriF,EAAKlX,EAAKu5F,iBAA8B,IAAPriF,EAAgBA,EAAK,GACnEskF,EAAWx7F,EAAK/Z,KAAKiW,KAAI,KAAe,IACxCu/F,EAA8B,OAAdlC,QAAoC,IAAdA,OAAuB,EAASA,EAAUr9F,KAAI,KAAe,IAMzG,OALAq/F,EAAIrpG,QAAQ8N,EAAK/E,OAAOiB,KAAI,CAACwC,EAAGvY,IAAM,IACxB,IAANA,EAAUF,EAAOu1G,KACX,OAAN98F,QAAoB,IAANA,EAAeA,EAAI,MAC5B,GAALvY,EAASozG,EAAYkC,MAEtBF,CAAG,GACX,IACHtnB,EAAI,SAAUqnB,EAClB,KACK,CACD,MAAMA,EAAkB5E,EAAcnnG,KAAK2c,QAAO,CAACqvF,EAAKv7F,KACpD,IAAInE,EACJ,MAAM09F,EAAsC,QAAzB19F,EAAKmE,EAAKu5F,iBAA8B,IAAP19F,EAAgBA,EAAK,GAEzE,OADA0/F,EAAIrpG,KAAK,IAAI8N,EAAK/Z,QAAS+Z,EAAK/E,UAAWs+F,IACpCgC,CAAG,GACX,IACHtnB,EAAI,SAAUqnB,EAClB,CACJ,CC1dA,SAASI,KACL,MAAO,CAACp2G,EAAK2Q,KACT,MAAM0d,EAAM,CAAE,aAAYruB,oBAAuB2Q,GAASgG,QAAQyC,GAAW,MAALA,IAAWpO,KAAK,KACxFyjF,GAAOG,SAASvgE,EAAI,CAE5B,CACO,SAASgoF,GAAW1lG,EAAS+rE,GAChC,MAAM3/D,EAAe,OAAT2/D,QAA0B,IAATA,OAAkB,EAASA,EAAKnhD,QACvDnN,EAAOgoF,KACb,OAAOhK,IAA+B,CAACpqF,EAAGhiB,EAAK3B,KACvCA,IAAU0e,GACVqR,EAAKpuB,EAAIX,WAAYsR,GAElBtS,IAEf,CACO,SAASi4G,GAAuBC,EAAaC,GAChD,MAAMC,EAAiBL,KACvB,OAAOhK,IAA+B,CAAC5rG,EAAQR,EAAK3B,KAC5CA,IAAUmC,EAAO+1G,KACjBE,EAAez2G,EAAIX,WAAa,QAAOk3G,eACvC/1G,EAAO+1G,GAAeC,EAAWA,EAASn4G,GAASA,GAEhDotG,MACR,CAACjrG,EAAQR,KACRy2G,EAAez2G,EAAIX,WAAa,QAAOk3G,eAChC/1G,EAAO+1G,KAEtB,CDoZA/F,GAAUuB,MAAQ,KAAQ,IAAIx7F,EAAI,OAA8E,QAAtEA,EAAK,EAAC,EAAM,cAAc9X,SAAS8yF,GAAY,yBAAsC,IAAPh7E,GAAgBA,CAAU,EElblJ,IAAI2V,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAIA,MAAMs5F,GAAwB,mBACxBC,GAAqB,MACxBD,sXAeAA,iFAKAA,8DAIAA,+CAIAA,6PAWAA,qKAQAA,gEAKAA,0XAqBAA,6cA0BI,SAASE,GAAcvpG,EAAO0+B,GACjC,IAAIx1B,EAAIqb,EAAI2C,EAAIH,EAChB,GAAqB,kBAAV/mB,EACP,OAAOA,EAEX0+B,EAAwB,OAAbA,QAAkC,IAAbA,EAAsBA,EAAW,CAAC,EAClE,MAAM,QAAEiX,GAAsC,QAA3BzsC,EAAKw1B,EAASiX,eAA4B,IAAPzsC,EAAgBA,EAAK,IAAE,MAAEsgG,GAAkC,QAAzBjlF,EAAKma,EAAS8qE,aAA0B,IAAPjlF,EAAgBA,OAAK5yB,GAAS,MAAEg4F,GAAkC,QAAzBziE,EAAKwX,EAASirD,aAA0B,IAAPziE,EAAgBA,EAAK,SAAO,gBAAEuiF,GAAsD,QAAnC1iF,EAAK2X,EAAS+qE,uBAAoC,IAAP1iF,EAAgBA,EAAK,SAAY/mB,EAC1T0pG,EAAYF,EACX,eAAcH,oCACD1f,wBAA4B8f,MAAoBD,UAC9D,GACN,MAAQ,GAAEE,gBAAwBL,eAAkC1zD,SACxE,CACA,MAAMg0D,GAAiB,CAAC,UAAW,QAC7BC,GAAgBxK,IAAsBrzF,GAAM49F,GAAev4G,SAAS2a,IAAK,iEACxE,MAAM89F,GACT1uG,cAEIvL,KAAKuM,KAAO,UAEZvM,KAAKm8F,QAAU,EAEfn8F,KAAKq8F,QAAU,CACnB,EAEJptE,GAAW,CACPmgF,GAAS4K,KACVC,GAAgBjxG,UAAW,YAAQ,GACtCimB,GAAW,CACPmgF,GAASwB,OACVqJ,GAAgBjxG,UAAW,eAAW,GACzCimB,GAAW,CACPmgF,GAASwB,OACVqJ,GAAgBjxG,UAAW,eAAW,GAClC,MAAMkxG,GACT3uG,YAAY4uG,EAAer1G,EAAU8rB,GACjC5wB,KAAKo6G,mBAAoB,EACzBp6G,KAAK40B,SAAU,EACf50B,KAAKq6G,eAAYt4G,EACjB/B,KAAK6nB,WAAQ9lB,EACb/B,KAAKs6G,eAAYv4G,EACjB/B,KAAKymC,MAAQ,EACbzmC,KAAKmmB,MAAQ,UACbnmB,KAAK4jF,SAAW,IAAIq2B,GACpBj6G,KAAKu6G,YAAc,EACnBv6G,KAAKw6G,YAAa,EAClBx6G,KAAKy6G,YAAc7pF,EACnB,MAAM+1C,EAAU7hE,EAASI,cAAc,OAKvC,GAJAlF,KAAK2mE,QAAU3mE,KAAKy6G,YAAYzwD,YAAY2c,GAC5C3mE,KAAK2mE,QAAQ7T,UAAUz6C,IAAIohG,IAC3Bz5G,KAAKm6G,cAAgBA,EAEjBvvG,OAAO8vG,qBAAsB,CAC7B,MAAMC,EAAW,IAAID,sBAAsBhxF,IACvC,IAAK,MAAMkxF,KAASlxF,EACZkxF,EAAMr3G,SAAWvD,KAAKm6G,eAA6C,IAA5BS,EAAMC,mBAC7C76G,KAAK86G,QAAO,EAEpB,GACD,CAAEr7G,KAAMO,KAAKy6G,cAChBE,EAAS/rD,QAAQ5uD,KAAKm6G,eACtBn6G,KAAK26G,SAAWA,CACpB,CACA,GAAIT,GAAQa,iBAAiBt5G,QAAQqD,GAAY,EAAG,CAChD,MAAMk2G,EAAel2G,EAASI,cAAc,SAC5C81G,EAAa//D,UAAYy+D,GAEzB50G,EAASm2G,KAAK3xD,aAAa0xD,EAAcl2G,EAASm2G,KAAK73D,cAAc,UACrE82D,GAAQa,iBAAiBprG,KAAK7K,EAClC,CACJ,CACAwrB,UACI,MAAM,WAAEgM,GAAet8B,KAAK2mE,QACxBrqC,GACAA,EAAWitB,YAAYvpD,KAAK2mE,SAE5B3mE,KAAK26G,UACL36G,KAAK26G,SAASO,UAAUl7G,KAAKm6G,cAErC,CACAgB,YACI,MAAM,QAAEx0C,GAAY3mE,KACpB,OAAQ2mE,EAAQ7T,UAAUsoD,SAAS3B,GAAwB,UAC/D,CACA4B,YAAY/sB,EAAS+rB,GACjB,MAAM,QAAE1zC,EAAS9+C,MAAOyzF,EAAQ,UAAEhB,EAAS,kBAAEF,GAAsBp6G,KAC7Du7G,EAAav7G,KAAKm7G,YAClBK,EAAcA,CAACl3G,EAAMwjC,KACvB,MAAMuiB,EAAa,GAAEovD,MAAyBn1G,IAC1CwjC,EACA6+B,EAAQ7T,UAAUz6C,IAAIgyC,GAGtBsc,EAAQ7T,UAAUnvC,OAAO0mC,EAC7B,EAEJmxD,EAAY,gBAAiBD,KAAgBjtB,GAC7CktB,EAAY,kBAAmBpB,GAC/BoB,EAAY,UAAWltB,GACvBktB,EAAY,UAAWnB,GACnBiB,IAAahB,IACTA,GACA3zC,EAAQ7T,UAAUnvC,OAAO22F,GAEzBgB,GACA30C,EAAQ7T,UAAUz6C,IAAIijG,GAE1Bt7G,KAAKs6G,UAAYgB,EAEzB,CAKAh8B,KAAK/xD,EAAM8xD,EAAMo8B,GAAY,GACzB,IAAIniG,EAAIqb,EAAI2C,EAAIH,EAAIi/E,EAAIC,EAAIC,EAC5B,MAAM,QAAE3vC,EAAO,cAAEwzC,GAAkBn6G,KACnC,QAAa+B,IAATs9E,EACA1Y,EAAQ1rB,UAAYokC,OAEnB,IAAK1Y,EAAQ1rB,UACd,OAEJ,MAAM4kD,EAAQA,CAAC6b,EAAKC,EAAQC,IACjBlxG,KAAK0G,IAAI1G,KAAK2G,IAAIsqG,EAAQC,GAAOF,GAEtCvf,EAA0F,QAA/ExnE,EAA8B,QAAxBrb,EAAKiU,EAAKq2D,gBAA6B,IAAPtqE,OAAgB,EAASA,EAAG6iF,eAA4B,IAAPxnE,EAAgBA,EAAK,EACvH0nE,EAA0F,QAA/EllE,EAA8B,QAAxBG,EAAK/J,EAAKq2D,gBAA6B,IAAPtsD,OAAgB,EAASA,EAAG+kE,eAA4B,IAAPllE,EAAgBA,EAAK,EACvH0kF,EAAa1B,EAAc5kD,wBAC3BumD,EAAYD,EAAWjmD,KAAOroC,EAAKwuF,QAAUp1C,EAAQq1C,YAAc,EAAI7f,EACvE8f,EAAWJ,EAAW/lD,IAAMvoC,EAAKwwE,QAAUp3B,EAAQu1C,aAAe,EAAI7f,EACtE8f,EAAen8G,KAAKo8G,uBACpBC,EAAUF,EAAa3tG,EAAI2tG,EAAal5B,MAAQtc,EAAQq1C,YAAc,EACtEM,EAASH,EAAav0B,EAAIu0B,EAAaxsF,OAASg3C,EAAQu1C,aACxDtmD,EAAOiqC,EAAMsc,EAAa3tG,EAAGstG,EAAWO,GACxCvmD,EAAM+pC,EAAMsc,EAAav0B,EAAGq0B,EAAUK,GACtCC,EAAc3mD,IAASkmD,GAAahmD,IAAQmmD,EAC5CO,GAAoBD,IAAgBpgB,IAAYE,EAChDge,EAA6F,QAAhFhE,EAA+B,QAAzBD,EAAK7oF,EAAK8sF,iBAA8B,IAAPjE,EAAgBA,EAAKp2G,KAAKq6G,iBAA8B,IAAPhE,EAAgBA,EAAKmG,EAIhI,GAHAx8G,KAAKy8G,gBAAgBpC,GACrB1zC,EAAQ5+C,MAAMktC,UAAa,aAAYvqD,KAAK86E,MAAM5vB,SAAYlrD,KAAK86E,MAAM1vB,QACzE91D,KAAKo6G,kBAAsD,QAAjC9D,EAAK/oF,EAAK6sF,yBAAsC,IAAP9D,GAAgBA,EAC/Et2G,KAAKymC,MAAQ,IAAMg1E,EAKnB,OAJAz7G,KAAK86G,QAAO,QACZ96G,KAAKu6G,YAAc3vG,OAAOsqB,YAAW,KACjCl1B,KAAK86G,QAAO,EAAK,GAClB96G,KAAKymC,QAGZzmC,KAAK86G,QAAO,EAChB,CACAsB,uBACI,OAAO,IAAIz0B,GAAK,EAAG,EAAG/8E,OAAO8xG,WAAY9xG,OAAO+xG,YACpD,CACA7B,OAAOxsB,GACEA,GACD1jF,OAAOgyG,aAAa58G,KAAKu6G,aAE7Bv6G,KAAKq7G,YAAY/sB,EAAStuF,KAAKw6G,WACnC,CACAqC,uBAAuBhoF,GACnB,IAAIvb,EACJ,IAAKtZ,KAAKo6G,kBACN,OAAO,EACX,MAAMtnD,EAAuD,QAA1Cx5C,EAAKub,EAAMioF,YAAYC,qBAAkC,IAAPzjG,OAAgB,EAASA,EAAGw5C,UAC3FkqD,EAAU,CAAC,GAAI,SAAU,YACzBC,EAAoB16E,QAAQy6E,EAAQtjG,QAAQpU,GAAoB,OAAdwtD,QAAoC,IAAdA,OAAuB,EAASA,EAAUsoD,SAAU,GAAE3B,KAAwBn0G,QAC5J,YAAqBvD,IAAd+wD,GAA2BmqD,CACtC,CACAR,gBAAgBn9B,GACZt/E,KAAKw6G,WAAal7B,CACtB,ECxRJ,SAAS49B,GAAUxkG,EAAQykG,EAAc,CAAC,EAAG,IACzC,IAAK,MAAM/7G,KAASsX,EACK,kBAAVtX,IAGPA,EAAQ,IACR+7G,EAAY,IAAM/7G,GAElBA,EAAQ,IACR+7G,EAAY,IAAM/7G,IAG1B,OAAO+7G,CACX,CACO,SAASlc,GAAIr5E,GAChB,MAAM3kB,EAAS,CACX67D,WAAYl3C,EACZrb,KAAM,YACNoqG,kBAAoBj+F,GAAWwkG,GAAUxkG,IAE7C,OAAOzV,CACX,CACO,SAASm6G,GAASx1F,GACrB,MAAO,CACHrb,KAAM,YACNuyD,WAAYl3C,EACZ+uF,kBAAoBj+F,GAAWwkG,GAAUxkG,GACzCm+F,uBAAwBA,CAACp5F,EAAMu7F,EAAM,CAAC,EAAG,MACrC,IAAI1/F,EAAIqb,EAGR,OAFAqkF,EAAI,IAAqE,QAA9D1/F,EAAc,OAATmE,QAA0B,IAATA,OAAkB,EAASA,EAAK,UAAuB,IAAPnE,EAAgBA,EAAK,EACtG0/F,EAAI,IAAqE,QAA9DrkF,EAAc,OAATlX,QAA0B,IAATA,OAAkB,EAASA,EAAK,UAAuB,IAAPkX,EAAgBA,EAAK,EAC/FqkF,CAAG,EAGtB,CAiBO,SAASqE,KACZ,MAAO,CACH9wG,KAAM,YACNuyD,WAAY,GACZ63C,kBAAmBA,IAAM,CAAC,EAAG,GAC7BE,uBAAwBA,CAACp5F,EAAMu7F,EAAM,CAAC,EAAG,MACrC,IAAI1/F,EAAIqb,EAGR,OAFAqkF,EAAI,IAAqE,QAA9D1/F,EAAc,OAATmE,QAA0B,IAATA,OAAkB,EAASA,EAAK,UAAuB,IAAPnE,EAAgBA,EAAK,EACtG0/F,EAAI,IAAqE,QAA9DrkF,EAAc,OAATlX,QAA0B,IAATA,OAAkB,EAASA,EAAK,UAAuB,IAAPkX,EAAgBA,EAAK,EAC/FqkF,CAAG,EAGtB,CASO,SAASsE,GAAa11F,GACzB,MAAM3kB,EAAS,CACX67D,WAAYl3C,EACZrb,KAAM,YACNoqG,kBAAoBj+F,GAAWwkG,GAAUxkG,GACzCm+F,uBAAwBA,CAACp5F,EAAMu7F,EAAM,CAAC,EAAG,GAAI,MACzC,IAAI1/F,EAAIqb,EAIR,OAHAqkF,EAAI,IAAqE,QAA9D1/F,EAAc,OAATmE,QAA0B,IAATA,OAAkB,EAASA,EAAK,UAAuB,IAAPnE,EAAgBA,EAAK,EACtG0/F,EAAI,IAAqE,QAA9DrkF,EAAc,OAATlX,QAA0B,IAATA,OAAkB,EAASA,EAAK,UAAuB,IAAPkX,EAAgBA,EAAK,EACtGqkF,EAAI,KACGA,CAAG,EAEdjC,cAAeA,CAACiC,EAAM,CAAC,EAAG,EAAG,MACzB,MAAM/1G,EAAS+1G,EAAI,GAAKA,EAAI,GAC5B,OAAI/1G,GAAU,EACH,CAAC,EAAGA,EAAS+1G,EAAI,IAErB,CAAC/1G,EAAS+1G,EAAI,GAAI,EAAE,GAGnC,OAAO/1G,CACX,CACO,SAASs6G,GAAK31F,EAAO41F,GACxB,MAAMv6G,EAAS,CACX67D,WAAYl3C,EACZrb,KAAM,YACNoqG,kBAAmBA,CAACj+F,EAAQ+kG,EAAW,MACnC,MAAMC,EAAWD,EAAS,GAAKA,EAAS,GACxC,OAAOD,EAAM7G,kBAAkBj+F,GAAQiB,KAAKwC,GAAMA,EAAIuhG,GAAS,GAMvE,OAHIF,EAAM3G,yBACN5zG,EAAO4zG,uBAAyB2G,EAAM3G,wBAEnC5zG,CACX,CACO,SAAS06G,KACZ,MAAO,KACH,IAAIv8G,EAAQ,EACZ,OAAQqtF,GACiB,kBAAVA,GAEP9oE,MAAM8oE,GADCA,GAGXrtF,GAASqtF,EACFrtF,EACV,CAET,CDkKA84G,GAAQa,iBAAmB,GAC3B9rF,GAAW,CACPmgF,GAASiB,KACV6J,GAAQlxG,UAAW,eAAW,GACjCimB,GAAW,CACPmgF,GAASkB,KACV4J,GAAQlxG,UAAW,iBAAa,GACnCimB,GAAW,CACPmgF,GAASoB,KACV0J,GAAQlxG,UAAW,aAAS,GAC/BimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBsJ,GAAQlxG,UAAW,aAAS,GAC/BimB,GAAW,CACPoqF,GAAuB,SAAUj4G,GAAWA,EAAQ,UAAY,WACjE84G,GAAQlxG,UAAW,gBAAY,GAClCimB,GAAW,CACPmgF,GAASsD,KACVwH,GAAQlxG,UAAW,aAAS,GE7S/B,IA4BW40G,GA5BP3uF,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EACI09F,GAAkC,SAAUx4G,EAAGgmB,GAC/C,IAAI4rB,EAAI,CAAC,EACT,IAAK,IAAIhsB,KAAK5lB,EAAOxD,OAAOmH,UAAUM,eAAeE,KAAKnE,EAAG4lB,IAAMI,EAAE5pB,QAAQwpB,GAAK,IAC9EgsB,EAAEhsB,GAAK5lB,EAAE4lB,IACb,GAAS,MAAL5lB,GAAqD,oBAAjCxD,OAAO6N,sBACtB,KAAI9L,EAAI,EAAb,IAAgBqnB,EAAIppB,OAAO6N,sBAAsBrK,GAAIzB,EAAIqnB,EAAE3pB,OAAQsC,IAC3DynB,EAAE5pB,QAAQwpB,EAAErnB,IAAM,GAAK/B,OAAOmH,UAAUiC,qBAAqBzB,KAAKnE,EAAG4lB,EAAErnB,MACvEqzC,EAAEhsB,EAAErnB,IAAMyB,EAAE4lB,EAAErnB,IAF4B,CAItD,OAAOqzC,CACX,EAuBO,SAAS26B,GAAYwJ,EAAU0iC,EAAYr+B,EAAO,CAAC,GACtD,MAAMx8E,EAASpB,OAAO6hB,OAAO,CAAEu3E,SAAU7f,EAAU7uE,KAAM,MAAOw+D,UAAW+yC,EAAa,QAAU,WAAYlF,WAAaz8F,GAAmC,MAA7BumF,GAAWvmF,EAAG2hG,IAAuBr+B,GACtK,OAAOx8E,CACX,CACO,SAAS86G,GAAc3iC,EAAU0iC,EAAYr+B,EAAO,CAAC,GACxD,MAAMx8E,EAASpB,OAAO6hB,OAAO,CAAEu3E,SAAU7f,EAAU7uE,KAAM,QAASw+D,UAAW+yC,EAAa,QAAU,WAAYlF,WAAaz8F,GAAmC,MAA7BumF,GAAWvmF,EAAG2hG,IAAuBr+B,GACxK,OAAOx8E,CACX,CACO,SAAS+6G,GAAoB5iC,EAAUqE,EAAO,CAAC,GAClD,MAAM,IAAEpuE,GAAO8iB,IAAQ,IAAE/iB,EAAM+iB,KAAasrD,EAAMw+B,EAAUJ,GAAOp+B,EAAM,CAAC,MAAO,QACjF,OAAO59E,OAAO6hB,OAAO,CAAEnX,KAAM,QAAS0uF,SAAU7f,EAAUrQ,UAAW,QAAS6tC,WAAaz8F,GAA6B,MAAvBumF,GAAWvmF,GAAG,GAAeo7F,UAAWA,IAAO9oB,GACnH,kBAAVA,GAEP9oE,MAAM8oE,GADCA,EAGJ/jF,KAAK2G,IAAI3G,KAAK0G,IAAIq9E,EAAOp9E,GAAMD,IACrC6sG,EACb,CACO,SAASC,GAA0B9iC,EAAU0iC,EAAYr+B,EAAO,CAAC,GACpE,MAAMx8E,EAASpB,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGq6F,GAAc3iC,EAAU0iC,EAAYr+B,IAAQ,CAAE83B,UAAWoG,OACxG,OAAO16G,CACX,EA/BA,SAAW26G,GAEPA,EAAmBA,EAAmB,qBAAuB,GAAK,oBAElEA,EAAmBA,EAAmB,8BAAgC,GAAK,6BAE3EA,EAAmBA,EAAmB,uCAAyC,GAAK,sCAEpFA,EAAmBA,EAAmB,gBAAkB,GAAK,cAChE,EATD,CASGA,KAAuBA,GAAqB,CAAC,IA2BzC,MAAMO,GACT5yG,YAAY6yG,EAAa3vB,EAAO4vB,GAC5Br+G,KAAKuM,KAAO,YACZvM,KAAK60B,MAAQupF,EACbp+G,KAAKyuF,MAAQA,EAAMA,MACnBzuF,KAAKs+G,SAAWD,EAAOrsG,EAC3B,EAEG,MAAMusG,WAA6BJ,IAEnC,MAAMK,WAAmCL,GAC5C5yG,cACI+jB,SAASzsB,WACT7C,KAAKuM,KAAO,iBAChB,EAEG,MAAMkyG,GACTlzG,cACIvL,KAAKwgC,KAAO,SACZxgC,KAAKm6F,iBAAcp4F,EACnB/B,KAAKs6F,YAASv4F,EACd/B,KAAKu6F,iBAAcx4F,CACvB,EAEJktB,GAAW,CACPmgF,GAAS8B,KACVuN,GAAyBz1G,UAAW,YAAQ,GAC/CimB,GAAW,CACPmgF,GAASiC,GAAW,EAAG,KACxBoN,GAAyBz1G,UAAW,mBAAe,GACtDimB,GAAW,CACPmgF,GAAS8B,KACVuN,GAAyBz1G,UAAW,cAAU,GACjDimB,GAAW,CACPmgF,GAASiC,GAAW,KACrBoN,GAAyBz1G,UAAW,mBAAe,GACtD,MAAM01G,GACFnzG,cACIvL,KAAKu6F,iBAAcx4F,EACnB/B,KAAK2+G,gBAAa58G,EAClB/B,KAAK40B,aAAU7yB,CACnB,EAEJktB,GAAW,CACPmgF,GAASiC,GAAW,KACrBqN,GAAqB11G,UAAW,mBAAe,GAClDimB,GAAW,CACPmgF,GAASiC,GAAW,EAAG,KACxBqN,GAAqB11G,UAAW,kBAAc,GACjDimB,GAAW,CACPmgF,GAASkB,KACVoO,GAAqB11G,UAAW,eAAW,GAC9C,MAAM41G,GACFrzG,cACIvL,KAAK+5F,MAAQ,OACjB,EAEJ9qE,GAAW,CACPmgF,GAAS8B,KACV0N,GAAmB51G,UAAW,aAAS,GACnC,MAAM61G,GACTtzG,cACIvL,KAAK6S,KAAO,IAAI4rG,GAChBz+G,KAAKq+G,OAAS,IAAIK,GAClB1+G,KAAK4lD,KAAO,IAAIg5D,EACpB,EAEG,MAAME,GACTvzG,cACIvL,KAAK40B,SAAU,EACf50B,KAAKq6G,eAAYt4G,EACjB/B,KAAK++G,YAAc,IAAIC,GACvBh/G,KAAK4jF,SAAW,IAAIq2B,EACxB,EAEJhrF,GAAW,CACPmgF,GAASiB,KACVyO,GAAc91G,UAAW,eAAW,GACvCimB,GAAW,CACPmgF,GAASkB,KACVwO,GAAc91G,UAAW,iBAAa,GAClC,MAAMg2G,GACTzzG,cACIvL,KAAK40B,SAAU,CACnB,EAEJ3F,GAAW,CACPmgF,GAASiB,KACV2O,GAAyBh2G,UAAW,eAAW,GAC3C,MAAMi2G,WAAepd,GACxBt2F,YAAYk0E,GACRnwD,QACAtvB,KAAKgS,GAAK+5E,GAAS/rF,MAEnBA,KAAKk/G,UAAY,IAAIrtB,GAAM,CAAEvtF,KAAM,eACnCtE,KAAKm/G,WAAa,CAACrM,GAAmBsM,EAAGtM,GAAmBuM,GAE5Dr/G,KAAKs/G,iBAAkB,EACvBt/G,KAAKu/G,WAAQx9G,EACb/B,KAAKw/G,UAAW,EAChBx/G,KAAKy/G,cAAe,EACpBz/G,KAAKqnE,OAAS,UACdrnE,KAAK0/G,eAAiB,QACtB1/G,KAAK2/G,mBAAqB,EAC1B3/G,KAAK4/G,eAAiB,IAAIf,GAC1B7+G,KAAK8sB,IAAM2yD,EAAKogC,UAChB,MAAM,oBAAEC,GAAsB,EAAI,cAAEC,GAAgB,EAAK,UAAEC,EAAY,CAACpC,GAAmBqC,4BAA2B,cAAEC,EAAgB,CAAC,EAAC,eAAEC,EAAiB,CAAC,GAAO1gC,GAC/J,UAAEy/B,GAAcl/G,KACtBA,KAAKkgH,cAAgBA,EACrBlgH,KAAKmgH,eAAiBA,EACtBngH,KAAKogH,aAAelB,EAAUl1D,YAAY,IAAI6nC,GAAM,CAChDvtF,KAAO,GAAEtE,KAAKgS,aACd+/E,MAAO+tB,EACP38B,OAAQ0vB,GAAOwN,oBACf9xB,eAAgB,CAAC,IAAMvuF,KAAK2/G,kBAAmB,MAEnD3/G,KAAKsgH,eAAiBpB,EAAUl1D,YAAY,IAAI6nC,GAAM,CAClDvtF,KAAO,GAAEtE,KAAKgS,eACd+/E,OAAO,EACP5O,OAAQ0vB,GAAOwN,oBACf9xB,eAAgB,CAAC,IAAMvuF,KAAK2/G,kBAAmB,SAEnD3/G,KAAKugH,cAAgBvgH,KAAKsgH,eAAet2D,YAAY,IAAI6nC,GAAM,CAAEvtF,KAAM,mBACvEtE,KAAKwgH,eAAiBxgH,KAAKsgH,eAAet2D,YAAY,IAAI6nC,GAAM,CAAEvtF,KAAM,oBACxEtE,KAAKugH,cAAcp9B,OAAS,EAC5BnjF,KAAKwgH,eAAer9B,OAAS,GAC7BnjF,KAAKggH,UAAYA,EACbD,IACA//G,KAAKygH,WAAavB,EAAUl1D,YAAY,IAAI6nC,GAAM,CAC9CvtF,KAAO,GAAEtE,KAAKgS,mBACd+/E,OAAO,EACP5O,OAAQ0vB,GAAO6N,uBAG3B,CACIn0G,WACA,IAAI+M,EACJ,OAAwC,QAAhCA,EAAKtZ,KAAKuL,YAAYgB,YAAyB,IAAP+M,EAAgBA,EAAK,EACzE,CACItM,SAAKoD,GACLpQ,KAAKu/G,MAAQnvG,EACbpQ,KAAKs/G,iBAAkB,CAC3B,CACItyG,WACA,OAAOhN,KAAKu/G,KAChB,CACAoB,UACI,MAAM,KAAE3zG,GAAShN,KACjB,OAAOgN,KAAUL,MAAMhL,QAAQqL,IAASA,EAAK1L,OAAS,EAC1D,CACIgtF,YAAQltF,GACRpB,KAAKw/G,SAAWp+G,EAChBpB,KAAK4gH,gBACT,CACItyB,cACA,OAAOtuF,KAAKw/G,QAChB,CACAqB,sBACI,MAAO,CAAEC,MAAO,EAAGC,MAAO,EAC9B,CACAC,yBAEA,CACA1wF,UACI,CAEJ2wF,mBAAmBC,EAAWpiD,GAC1B,MAAMqiD,EAAoBnhH,KAAKohH,oBAAoBF,GAC7Cx9G,EAAsB,OAAfo7D,QAAsC,IAAfA,OAAwB,EAASA,EAAWqiD,GAC1EzoG,EAAS,GACT2oG,EAAUA,IAAIC,KAChB,IAAK,MAAMlgH,KAASkgH,EAChBC,EAASngH,EACb,EAEEmgH,EAAYngH,IACVuL,MAAMhL,QAAQP,GACdigH,KAAWjgH,GAEW,kBAAVA,EACZigH,EAAQx/G,OAAO6W,OAAOtX,IAGtBsX,EAAO/I,KAAKvO,EAChB,EAEJ,OAAKsC,GAELA,EAAKmV,SAAS9V,IACV,MAAM3B,EAAQpB,KAAK+C,GACnBw+G,EAASngH,EAAM,IAEZsX,GALIA,CAMf,CACA8oG,QAAQN,GACJ,OAAOlhH,KAAKihH,mBAAmBC,EAAWlhH,KAAKkgH,cACnD,CACAuB,SAASP,GACL,OAAOlhH,KAAKihH,mBAAmBC,EAAWlhH,KAAKmgH,eACnD,CACAiB,oBAAoBF,GAChB,OAAOA,CACX,CAEAQ,oBACI1hH,KAAKs/G,iBAAkB,CAC3B,CACAsB,iBACI,CAEJe,WAAWlzB,GACP,MAAQmxB,gBAAkBvB,QAAQ,WAAEM,EAAa,EAAC,QAAE/pF,GAAU,KAAe50B,KACvE4hH,EAAiB,EACvB,IAAgB,IAAZhtF,GAAqB+pF,IAAeiD,EACpC,OAAOA,EAEX,OAAQ5hH,KAAK6hH,oBAAoBpzB,IAC7B,IAAK,eACL,IAAK,cACD,OAAOmzB,EACX,IAAK,mBACL,IAAK,oBACD,OAAOjD,EAEnB,CACAmD,eAAeC,EAAoBtzB,GAC/B,MAAQmxB,gBAAkBvB,QAAQ,YAAE9jB,EAAW,QAAE3lE,GAAU,KAAe50B,KAC1E,IAAgB,IAAZ40B,QAAqC7yB,IAAhBw4F,EAErB,OAAOwnB,EAEX,OAAQ/hH,KAAK6hH,oBAAoBpzB,IAC7B,IAAK,cACD,OAAO8L,EACX,IAAK,eACL,IAAK,oBACL,IAAK,mBACD,OAAOwnB,EAEnB,CACAF,oBAAoBpzB,GAChB,IAAIn1E,EACJ,MAAM0oG,EAAoD,QAAhC1oG,EAAKtZ,KAAKiiH,wBAAqC,IAAP3oG,OAAgB,EAASA,EAAG4oG,sBACxF,OAAE7D,EAAM,OAAE8D,GAAgC,OAArBH,QAAkD,IAArBA,EAA8BA,EAAmB,CAAC,EACpGI,EAAyB,MAAV/D,EACrB,OAAK+D,EAID/D,IAAWr+G,KAEJ,yBAEI+B,IAAXogH,EAEO,cAEP1zB,GAASuzB,IAAqBvzB,GAAS0zB,IAAW1zB,EAAM0zB,OAGjD,mBAEJ,cAfI,cAgBf,CACA1yB,SAASiO,EAAO2kB,GACZ,MAAM,UAAErC,EAAS,QAAE1xB,EAAO,UAAE4wB,GAAcl/G,KAC1C,GAAKsuF,GAAY4wB,EAAU5wB,QAG3B,IAAK,MAAMg0B,KAAYtC,EAAW,CAC9B,GAAIqC,IAAmBA,EAAe7gH,SAAS8gH,GAC3C,SAEJ,IAAIp7G,EACJ,OAAQo7G,GACJ,KAAK1E,GAAmB2E,kBACpBr7G,EAAQlH,KAAKwiH,mBAAmB9kB,GAChC,MACJ,KAAKkgB,GAAmBqC,2BACxB,KAAKrC,GAAmB6E,oCACpBv7G,EAAQlH,KAAK0iH,sBAAsBhlB,EAAO4kB,IAAa1E,GAAmB6E,qCAC1E,MACJ,KAAK7E,GAAmB+E,aACpBz7G,EAAQlH,KAAK4iH,qBAAqBllB,GAClC,MAER,GAAIx2F,EACA,MAAO,CAAEo7G,WAAUp7G,MAAOA,EAAMunF,MAAOo0B,SAAU37G,EAAM27G,SAE/D,CACJ,CACAL,mBAAmB9kB,GACf,MAAMx2F,EAAQlH,KAAKogH,aAAa3wB,SAASiO,EAAMlvF,EAAGkvF,EAAM9V,GACxD,GAAI1gF,EACA,MAAO,CACHunF,MAAOvnF,EAAMunF,MACbo0B,SAAU,EAGtB,CACAD,qBAAqBE,GAGjB,MAAM,IAAIp7G,MAAM,4DACpB,CACAg7G,sBAAsBI,EAAQC,GAG1B,MAAM,IAAIr7G,MAAM,6DACpB,CACAs7G,mBAAmBnuF,EAAO65D,GACtB,MAAMu0B,EAAcjjH,KAAKkjH,kBAAkBruF,EAAO65D,GAClD1uF,KAAKmiG,UAAU8gB,EACnB,CACAE,yBAAyBtuF,EAAO65D,GAC5B,MAAMu0B,EAAcjjH,KAAKojH,wBAAwBvuF,EAAO65D,GACxD1uF,KAAKmiG,UAAU8gB,EACnB,CACAC,kBAAkBruF,EAAO45D,GACrB,OAAO,IAAI8vB,GAAqB1pF,EAAO45D,EAAOzuF,KAClD,CACAojH,wBAAwBvuF,EAAO45D,GAC3B,OAAO,IAAI+vB,GAA2B3pF,EAAO45D,EAAOzuF,KACxD,CACAqjH,iBAAiBC,EAAS1uF,GACtB50B,KAAKsuF,QAAU15D,EACf50B,KAAKs/G,iBAAkB,CAC3B,CACAiE,YACI,OAAOvjH,KAAKsuF,OAChB,CACA8kB,iBAAiBC,EAAQmQ,GACrB,IAAIlqG,EACJ,MAAMmqG,EAAcrQ,GAAiBC,GACrC,GAA2B,IAAvBoQ,EAAYniH,OACZ,OAAOmiH,EAEX,IAAKpyG,EAAKD,GAAOqyG,EACjB,GAAIpyG,IAAQD,EAAK,CAEb,MAAMsyG,EAAiG,QAAtFpqG,EAAc,OAATkqG,QAA0B,IAATA,OAAkB,EAASA,EAAKG,iBAAiBtyG,EAAKD,UAAyB,IAAPkI,EAAgBA,EAAK,EACpIjI,GAAOqyG,EACPtyG,GAAOsyG,CACX,CACA,MAAO,CAACryG,EAAKD,EACjB,EAEJ6tG,GAAO2E,kBAAoB,KAC3B30F,GAAW,CACPmgF,GAASmB,KACV0O,GAAOj2G,UAAW,UAAM,GAC3BimB,GAAW,CACPmgF,GAASiB,KACV4O,GAAOj2G,UAAW,gBAAY,GACjCimB,GAAW,CACPmgF,GAASiB,KACV4O,GAAOj2G,UAAW,oBAAgB,GACrCimB,GAAW,CACPmgF,GAASmB,KACV0O,GAAOj2G,UAAW,cAAU,GAC/BimB,GAAW,CACPmgF,GAASsD,KACVuM,GAAOj2G,UAAW,sBAAkB,GC3avC,IAAIimB,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAEO,MAAM0jG,GACTt4G,YAAYuqD,EAAM,EAAGoD,EAAQpD,EAAK2yB,EAAS3yB,EAAKF,EAAOsD,GACnDl5D,KAAK81D,IAAMA,EACX91D,KAAKk5D,MAAQA,EACbl5D,KAAKyoF,OAASA,EACdzoF,KAAK41D,KAAOA,CAChB,CACA94C,QACI9c,KAAK81D,IAAM91D,KAAKk5D,MAAQl5D,KAAKyoF,OAASzoF,KAAK41D,KAAO,CACtD,EAEJ3mC,GAAW,CACPmgF,GAASwB,GAAO,KACjBiT,GAAQ76G,UAAW,WAAO,GAC7BimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBiT,GAAQ76G,UAAW,aAAS,GAC/BimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBiT,GAAQ76G,UAAW,cAAU,GAChCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBiT,GAAQ76G,UAAW,YAAQ,GC7BvB,MAAM86G,GACTt9B,cACI,MAAMu9B,EAAuBn5G,OAAOo5G,eACpC,GAAID,EACA/jH,KAAKikH,eAAiB,IAAIF,GAAsBr6F,IAC5C,IAAK,MAAMkxF,KAASlxF,EAAS,CACzB,MAAM,MAAEu5D,EAAK,OAAEtzD,GAAWirF,EAAMsJ,YAChClkH,KAAKmkH,UAAUnkH,KAAK4+D,SAASh6D,IAAIg2G,EAAMr3G,QAASq3G,EAAMr3G,OAAQ0/E,EAAOtzD,EACzE,SAGH,CAED,MAAM6wD,EAAOA,KACTxgF,KAAK4+D,SAAS/lD,SAAQ,CAAC+hG,EAAOj0C,KAC1B3mE,KAAKokH,gBAAgBz9C,EAASi0C,EAAM,GACtC,EAENhwG,OAAOy5G,YAAY7jC,EAAM,IAC7B,CACAxgF,KAAKskH,OAAQ,CACjB,CACA99B,iBAAiBo0B,EAAOj0C,EAASsc,EAAOtzD,GAChCirF,IACKA,EAAMj+F,MAAQsmE,IAAU23B,EAAMj+F,KAAKsmE,OAAStzD,IAAWirF,EAAMj+F,KAAKgT,SACnEirF,EAAMj+F,KAAO,CAAEsmE,QAAOtzD,UACtBirF,EAAMhnF,GAAGgnF,EAAMj+F,KAAMgqD,IAGjC,CAEA6f,eAAe7f,EAAS/yC,GACf5zB,KAAKskH,OACNtkH,KAAKukH,OAETvkH,KAAKk7G,UAAUv0C,GACX3mE,KAAKikH,gBACLjkH,KAAKikH,eAAer1D,QAAQ+X,GAEhC3mE,KAAK4+D,SAASjzD,IAAIg7D,EAAS,CAAE/yC,OAE7B5zB,KAAKokH,gBAAgBz9C,EAAS,CAAE/yC,MACpC,CACA4yD,iBAAiB7f,GACT3mE,KAAKikH,gBACLjkH,KAAKikH,eAAe/I,UAAUv0C,GAElC3mE,KAAK4+D,SAASpoD,OAAOmwD,EACzB,CACA6f,uBAAuB7f,EAASi0C,GAC5B,MAAM33B,EAAQtc,EAAQq1C,YAAcr1C,EAAQq1C,YAAc,EACpDrsF,EAASg3C,EAAQu1C,aAAev1C,EAAQu1C,aAAe,EAC7Dl8G,KAAKmkH,UAAUvJ,EAAOj0C,EAASsc,EAAOtzD,EAC1C,ECrDJ,SAAS60F,GAAkBl/G,EAAGkJ,EAAGo5E,EAAG5xE,EAAG0Z,GAEnC,IAAI+0F,EAAQn/G,EAAEkJ,EACVlJ,EAAEkJ,EAAIA,EACNi2G,EAAQj2G,EAEHlJ,EAAEkJ,EAAIA,EAAIwH,IACfyuG,EAAQj2G,EAAIwH,GAEhB,IAAI0uG,EAAQp/G,EAAEsiF,EACVtiF,EAAEsiF,EAAIA,EACN88B,EAAQ98B,EAEHtiF,EAAEsiF,EAAIA,EAAIl4D,IACfg1F,EAAQ98B,EAAIl4D,GAGhB,MAAMimC,EAAKrwD,EAAEkJ,EAAIi2G,EACX5uD,EAAKvwD,EAAEsiF,EAAI88B,EACXv1F,EAAIzkB,KAAK8uF,KAAK7jC,EAAKA,EAAKE,EAAKA,GACnC,OAAO1mC,GAAc,GAAT7pB,EAAEqX,IAClB,CACA,SAASgoG,GAAgBC,EAAIC,EAAIC,EAAIC,EAAIpzD,GACrC,MAAMqzD,EAAWJ,EAAGp2G,EAAIo2G,EAAG3hC,MAAQ4hC,GAAMD,EAAGp2G,EAAIq2G,EAAKE,EAC/CE,EAAWL,EAAGh9B,EAAIg9B,EAAGj1F,OAASm1F,GAAMF,EAAGh9B,EAAIk9B,EAAKnzD,EACtD,OAAOqzD,GAAYC,CACvB,CACA,SAASC,GAAiBN,EAAIO,EAAKC,EAAKC,EAAKC,GACzC,OAAOH,EAAME,EAAMT,EAAGp2G,EAAIo2G,EAAG3hC,OAASkiC,EAAMP,EAAGp2G,GAAK42G,EAAMR,EAAGh9B,GAAKw9B,EAAME,EAAMV,EAAGh9B,EAAIg9B,EAAGj1F,MAC5F,CACO,SAAS41F,GAAkB/2G,GAC9B,OAAY,MAALA,GAAgC,kBAAZA,EAAEkvF,OAAyC,kBAAZlvF,EAAEg3G,KAChE,CAMO,SAASC,GAAYz4G,EAAM04G,EAAQhC,EAAU,GAChD,MAAMzgH,EAAS,GACf+J,EAAOA,EAAK2M,KAAKwV,GAAMA,EAAE7sB,QAAQ4xB,MAAK,CAACnpB,EAAG2d,IAAMA,EAAEg1E,MAAM/gF,KAAO5R,EAAE2yF,MAAM/gF,SACvE,IAAK,IAAIgK,EAAI,EAAGA,EAAI3Z,EAAK1L,OAAQqlB,IAAK,CAClC,MAAMg/F,EAAU1iH,EAAO0jB,GAAK,GACtB8nE,EAAQzhF,EAAK2Z,GACnB,IAAiB,OAAV8nE,QAA4B,IAAVA,OAAmB,EAASA,EAAMntF,SAAWmtF,EAAM,GAAG+2B,MAG/E,IAAK,IAAI5hH,EAAI,EAAGy7F,EAAK5Q,EAAMntF,OAAQsC,EAAIy7F,EAAIz7F,IAAK,CAC5C,MAAMurB,EAAIs/D,EAAM7qF,GACVwR,EAAI+Z,EAAEq2F,MACNrlG,EAAmB,GAAfgP,EAAEuuE,MAAM/gF,KACZnO,EAAI2gB,EAAEuuE,MAAMlvF,EAAc,GAAV4G,EAAE6tE,MAClB2E,EAAIz4D,EAAEuuE,MAAM9V,EAAIznE,EAAI/K,EAAEua,OAAS+zF,GAC/B,MAAEzgC,EAAK,OAAEtzD,GAAWva,EACpBwwG,GAAgBF,GAAUR,GAAiBQ,EAAQl3G,EAAGo5E,EAAG3E,EAAOtzD,GACtE,IAAKi2F,EACD,SAEJ,MAAMC,EAAgB74G,EAAKorB,MAAMq2D,GAAUA,EAAMr2D,MAAMjJ,GAAMq1F,GAAkBr1F,EAAEuuE,MAAOlvF,EAAGo5E,EAAG3E,EAAOtzD,OACrG,GAAIk2F,EACA,SAEJ,MAAMC,EAAgB7iH,EAAOm1B,MAAMutF,GAAWA,EAAOvtF,MAAMhjB,GAAMuvG,GAAgBvvG,EAAG5G,EAAGo5E,EAAG3E,EAAOtzD,OAC7Fm2F,GAGJH,EAAOh2G,KAAK,CACRpO,MAAOqC,EACPgiD,KAAMxwC,EAAEwwC,KACRp3C,IACAo5E,IACA3E,QACAtzD,SACA8+D,MAAOt/D,GAEf,CACJ,CACA,OAAOlsB,CACX,CACO,SAAS8iH,GAAkB/4G,EAAM02G,GACpC,MAAMzgH,EAAS,GACf,IAAK,IAAIW,EAAI,EAAGA,EAAIoJ,EAAK1L,OAAQsC,IAAK,CAClC,MAAM6qF,EAAQzhF,EAAKpJ,IACX85F,OAAO,EAAElvF,EAAC,EAAEo5E,GAAK49B,OAAO,KAAE5/D,IAAY6oC,EAC9C,IAAM+2B,OAAO,MAAEviC,EAAK,OAAEtzD,IAAc8+D,EACpCxL,GAAqB,OAAZygC,QAAgC,IAAZA,EAAqBA,EAAU,EAC5D/zF,GAAsB,OAAZ+zF,QAAgC,IAAZA,EAAqBA,EAAU,EAC7D,MAAMoC,EAAgB7iH,EAAOm1B,MAAMhjB,IAC/B,MAAM4wG,EAAUrB,GAAgBvvG,EAAG5G,EAAGo5E,EAAG3E,EAAOtzD,GAChD,OAAOq2F,CAAO,IAElB,GAAIF,EACA,OAAO,EAEX7iH,EAAO0M,KAAK,CACRpO,MAAOqC,EACPgiD,OACAp3C,IACAo5E,IACA3E,QACAtzD,SACA8+D,SAER,CACA,OAAO,CACX,CDlDAq1B,GAAYllD,SAAW,IAAI5mD,IAC3B8rG,GAAYQ,OAAQ,EExDpB,ICCI2B,GDDAzxB,GAAwC,SAAUt3E,EAASu3E,EAAYlqF,EAAGmqF,GAC1E,SAASC,EAAMvzF,GAAS,OAAOA,aAAiBmJ,EAAInJ,EAAQ,IAAImJ,GAAE,SAAUokB,GAAWA,EAAQvtB,EAAQ,GAAI,CAC3G,OAAO,IAAKmJ,IAAMA,EAAImkB,WAAU,SAAUC,EAASuY,GAC/C,SAAS0tD,EAAUxzF,GAAS,IAAMo/E,EAAKkU,EAAUj3E,KAAKrc,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC1F,SAASwpE,EAASzzF,GAAS,IAAMo/E,EAAKkU,EAAU,SAAStzF,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC7F,SAASm1D,EAAKv9E,GAAUA,EAAOya,KAAOiR,EAAQ1rB,EAAO7B,OAASuzF,EAAM1xF,EAAO7B,OAAO+iB,KAAKywE,EAAWC,EAAW,CAC7GrU,GAAMkU,EAAYA,EAAUhrF,MAAMwT,EAASu3E,GAAc,KAAKh3E,OAClE,GACJ,EAMO,SAASyoG,GAAwBtyF,GACpC,OAAOuyF,IAAgBvyF,GAAOm/B,sBAAsBn/B,IAAKA,EAC7D,CACO,SAASwyF,GAAkBxyF,GAC9B,OAAOuyF,IAAgBvyF,GAAOsB,WAAWtB,EAAI,IAAIA,EACrD,CACA,SAASuyF,GAAeE,EAAYzyF,GAChC,IAEI0yF,EACAC,EAHAC,EAAgB,EAChBC,GAAiB,EAGrB,MAAMC,EAAOA,IACFD,EAEL/oG,EAAOA,KACT+oG,GAAiB,EACA,OAAjBF,QAA0C,IAAjBA,GAAmCA,IAC5DA,OAAexkH,EACfukH,OAAkBvkH,EACdykH,EAAgB,GAChBH,EAAWM,EACf,EAEEA,EAAaA,KACf,MAAMjgG,EAAQ8/F,EACdA,EAAgB,EAChBC,GAAiB,EACjB,MAAMG,EAAehzF,EAAG,CAAElN,UACrBkgG,EAILA,EAAaziG,KAAKzG,GAAM0G,MAAM1G,GAH1BA,GAG+B,EAEvC,MAAO,CACHmpG,WAC0B,IAAlBL,GAAwBE,KACxBL,EAAWM,GAEfH,GACJ,EACAM,QACI,OAAOtyB,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,GAAK0mH,IAAL,CAGKJ,IACDA,EAAkB,IAAI53F,SAASC,IAC3B43F,EAAe53F,CAAO,KAG9B,MAAO+3F,UACGJ,CAPV,CASJ,GACJ,EAER,CEnEA,SAASS,GAAWh8G,EAAG2d,GACnB,MAAMuuB,GAAKvuB,EAAI3d,EACf,OAAa,IAANA,GAAWksC,GAAK,GAAKA,GAAK,EAAI,CAACA,GAAK,EAC/C,CAKA,SAAS+vE,GAAej8G,EAAG2d,EAAGpjB,GAC1B,GAAU,IAANyF,EACA,OAAOg8G,GAAWr+F,EAAGpjB,GAEzB,MAAM2hH,EAAIv+F,EAAIA,EAAI,EAAI3d,EAAIzF,EACpB4hH,EAAQ,GACd,GAAU,IAAND,EAAS,CAET,MAAMhwE,GAAKvuB,GAAK,EAAI3d,GAChBksC,GAAK,GAAKA,GAAK,GACfiwE,EAAMv3G,KAAKsnC,EAEnB,MACK,GAAIgwE,EAAI,EAAG,CAEZ,MAAM39B,EAAK5+E,KAAK8uF,KAAKytB,GACfE,IAAOz+F,EAAI4gE,IAAO,EAAIv+E,GACtBq8G,IAAO1+F,EAAI4gE,IAAO,EAAIv+E,GACxBo8G,GAAM,GAAKA,GAAM,GACjBD,EAAMv3G,KAAKw3G,GAEXC,GAAM,GAAKA,GAAM,GACjBF,EAAMv3G,KAAKy3G,EAEnB,CAEA,OAAOF,CACX,CASO,SAASG,GAAWt8G,EAAG2d,EAAGpjB,EAAG6pB,GAChC,GAAU,IAANpkB,EACA,OAAOi8G,GAAet+F,EAAGpjB,EAAG6pB,GAEhC,MAAM45D,EAAIrgE,EAAI3d,EACRi+E,EAAI1jF,EAAIyF,EACRk+E,EAAI95D,EAAIpkB,EACRu8G,GAAK,EAAIt+B,EAAID,EAAIA,GAAK,EACtBw+B,GAAK,EAAIx+B,EAAIC,EAAI,GAAKC,EAAI,EAAIF,EAAIA,EAAIA,GAAK,GAC3Ck+B,EAAIK,EAAIA,EAAIA,EAAIC,EAAIA,EACpBC,EAAQ,EAAI,EACZN,EAAQ,GACd,GAAID,GAAK,EAAG,CAER,MAAM39B,EAAK5+E,KAAK8uF,KAAKytB,GACf9iB,EAAIz5F,KAAK+8G,KAAKF,EAAIj+B,GAAM5+E,KAAKs5F,IAAIt5F,KAAKw9E,IAAIq/B,EAAIj+B,GAAKk+B,GACnDE,EAAIh9G,KAAK+8G,KAAKF,EAAIj+B,GAAM5+E,KAAKs5F,IAAIt5F,KAAKw9E,IAAIq/B,EAAIj+B,GAAKk+B,GACnDG,EAAKj9G,KAAKw9E,IAAKx9E,KAAK8uF,KAAK,IAAM2K,EAAIujB,GAAM,GACzCzwE,GAAKuwE,EAAQz+B,GAAKob,EAAIujB,GAI5B,GAHIzwE,GAAK,GAAKA,GAAK,GACfiwE,EAAMv3G,KAAKsnC,GAEJ,IAAP0wE,EAAU,CACV,MAAM1wE,GAAKuwE,EAAQz+B,GAAKob,EAAIujB,GAAK,EAC7BzwE,GAAK,GAAKA,GAAK,GACfiwE,EAAMv3G,KAAKsnC,EAEnB,CACJ,KACK,CAED,MAAM2wE,EAAQl9G,KAAKm9G,KAAKN,EAAI78G,KAAK8uF,MAAM8tB,EAAIA,EAAIA,IACzCQ,EAASN,EAAQz+B,EACjBg/B,EAAW,EAAIr9G,KAAK8uF,MAAM8tB,GAC1BH,EAAKY,EAAWr9G,KAAKygF,IAAIq8B,EAAQI,GAASE,EAC1CV,EAAKW,EAAWr9G,KAAKygF,IAAIq8B,GAASI,EAAQ,EAAIl9G,KAAKkuF,KAAOkvB,EAC1DE,EAAKD,EAAWr9G,KAAKygF,IAAIq8B,GAASI,EAAQ,EAAIl9G,KAAKkuF,KAAOkvB,EAC5DX,GAAM,GAAKA,GAAM,GACjBD,EAAMv3G,KAAKw3G,GAEXC,GAAM,GAAKA,GAAM,GACjBF,EAAMv3G,KAAKy3G,GAEXY,GAAM,GAAKA,GAAM,GACjBd,EAAMv3G,KAAKq4G,EAEnB,CACA,OAAOd,CACX,CCzFO,SAASe,GAAoBC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GACnE,MAAMt5F,GAAKi5F,EAAMF,IAAQO,EAAMF,IAAQF,EAAMF,IAAQK,EAAMF,GAC3D,GAAU,IAANn5F,EAEA,OAAO,KAEX,MAAMu5F,IAAOF,EAAMF,IAAQH,EAAMI,IAAQL,EAAMI,IAAQG,EAAMF,IAAQp5F,EAC/Dw5F,IAAOP,EAAMF,IAAQC,EAAMI,IAAQF,EAAMF,IAAQD,EAAMI,IAAQn5F,EACrE,OAAIu5F,GAAM,GAAKA,GAAM,GAAKC,GAAM,GAAKA,GAAM,EAChC,CACHn6G,EAAG05G,EAAMQ,GAAMN,EAAMF,GACrBtgC,EAAGugC,EAAMO,GAAML,EAAMF,IAGtB,IACX,CAMO,SAASS,GAA0BC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAIC,EAAIzE,EAAIC,GAC1F,MAAMyE,EAAgB,GAEhBxgC,EAAIugC,EAAKxE,EACT97B,EAAI67B,EAAKwE,EACTpgC,EAAIogC,GAAMvE,EAAKwE,GAAMA,GAAMzE,EAAKwE,GAEhCG,EAAKC,GAAmBZ,EAAKE,EAAKE,EAAKE,GACvCO,EAAKD,GAAmBX,EAAKE,EAAKE,EAAKE,GACvCr+G,EAAIg+E,EAAIygC,EAAG,GAAKxgC,EAAI0gC,EAAG,GACvBhhG,EAAIqgE,EAAIygC,EAAG,GAAKxgC,EAAI0gC,EAAG,GACvBpkH,EAAIyjF,EAAIygC,EAAG,GAAKxgC,EAAI0gC,EAAG,GACvBv6F,EAAI45D,EAAIygC,EAAG,GAAKxgC,EAAI0gC,EAAG,GAAKzgC,EAC5Bi+B,EAAQG,GAAWt8G,EAAG2d,EAAGpjB,EAAG6pB,GAElC,IAAK,MAAM8nB,KAAKiwE,EAAO,CACnB,MAAMyC,EAAK1yE,EAAIA,EACT2yE,EAAM3yE,EAAI0yE,EAEVn7G,EAAIg7G,EAAG,GAAKI,EAAMJ,EAAG,GAAKG,EAAKH,EAAG,GAAKvyE,EAAIuyE,EAAG,GAC9C5hC,EAAI8hC,EAAG,GAAKE,EAAMF,EAAG,GAAKC,EAAKD,EAAG,GAAKzyE,EAAIyyE,EAAG,GAIpD,IAAIrkH,EAEAA,EADAgkH,IAAOxE,GACFr2G,EAAI66G,IAAOxE,EAAKwE,IAIhBzhC,EAAI0hC,IAAOxE,EAAKwE,GAErBjkH,GAAK,GAAKA,GAAK,GACfkkH,EAAc55G,KAAK,CAAEnB,IAAGo5E,KAEhC,CACA,OAAO2hC,CACX,CAKA,SAASE,GAAmBI,EAAIC,EAAIC,EAAIC,GACpC,MAAO,CAEG,EAAIF,EAATD,EAAc,EAAIE,EAAKC,EACxB,EAAIH,EAAK,EAAIC,EAAK,EAAIC,GACrB,EAAIF,EAAK,EAAIC,EACdD,EAER,CAKO,SAASI,GAAiBhgC,EAAIC,EAAI/pE,EAAG+pG,EAAYC,EAAUC,EAAkBf,EAAIC,EAAIzE,EAAIC,GAI5F,MAAMrsE,GAAKqsE,EAAKwE,IAAOzE,EAAKwE,GACtBgB,EAAKf,EAAK7wE,EAAI4wE,EACdt+G,EAAIL,KAAKs5F,IAAIvrD,EAAG,GAAK,EACrB/vB,EAAI,GAAK+vB,GAAK4xE,EAAKngC,GAAMD,GACzB3kF,EAAIoF,KAAKs5F,IAAI/Z,EAAI,GAAKv/E,KAAKs5F,IAAIqmB,EAAKngC,EAAI,GAAKx/E,KAAKs5F,IAAI7jF,EAAG,GACzDgP,EAAIzkB,KAAKs5F,IAAIt7E,EAAG,GAAK,EAAI3d,EAAIzF,EACnC,GAAI6pB,EAAI,EACJ,MAAO,GAEX,MAAMm7F,IAAQ5hG,EAAIhe,KAAK8uF,KAAKrqE,IAAM,EAAIpkB,EAChCw/G,IAAQ7hG,EAAIhe,KAAK8uF,KAAKrqE,IAAM,EAAIpkB,EAChCw+G,EAAgB,GAsBtB,MArBA,CAACe,EAAKC,GAAK1xG,SAASrK,IAChB,MAAMg8G,EAAgBh8G,GAAK9D,KAAK2G,IAAIg4G,EAAIxE,IAAOr2G,GAAK9D,KAAK0G,IAAIi4G,EAAIxE,GACjE,IAAK2F,EACD,OAEJ,MAAM5iC,EAAInvC,EAAIjqC,EACRi8G,EAAK5xB,GAAkBuxB,EAAmBD,EAAWD,GAC3D,IAAIQ,EAAK7xB,GAAkBuxB,EAAmBF,EAAaC,GACvDQ,EAAoB9xB,GAAkBnuF,KAAKgvF,MAAM9R,EAAGp5E,IAGpDk8G,GAAMD,IACNC,GAAM,EAAIhgH,KAAKkuF,IAEf+xB,EAAoBF,IACpBE,GAAqB,EAAIjgH,KAAKkuF,IAE9B+xB,GAAqBF,GAAME,GAAqBD,GAChDnB,EAAc55G,KAAK,CAAEnB,IAAGo5E,KAC5B,IAEG2hC,CACX,EFvHA,SAAWtD,GACPA,EAAQA,EAAQ,QAAU,GAAK,OAC/BA,EAAQA,EAAQ,QAAU,GAAK,OAC/BA,EAAQA,EAAQ,OAAS,GAAK,MAC9BA,EAAQA,EAAQ,SAAW,GAAK,QAChCA,EAAQA,EAAQ,aAAe,GAAK,WACvC,EAND,CAMGA,KAAYA,GAAU,CAAC,IACnB,MAAM2E,GACTr/G,cAIIvL,KAAK6qH,iBAAmB,GACxB7qH,KAAK8qH,eAAiB,GACtB9qH,KAAK+qH,oBAAqB,EAC1B/qH,KAAKgrH,SAAW,GAChBhrH,KAAKs/D,OAAS,GACdt/D,KAAKirH,aAAc,CACvB,CACAx9B,UACI,GAAIztF,KAAKirH,cAAgBjrH,KAAK+qH,mBAC1B,OAAO,EAEX,GAAI/qH,KAAK6qH,iBAAiBvpH,SAAWtB,KAAKgrH,SAAS1pH,OAC/C,OAAO,EAEX,GAAItB,KAAK8qH,eAAexpH,SAAWtB,KAAKs/D,OAAOh+D,OAC3C,OAAO,EAEX,IAAK,IAAIsC,EAAI,EAAGA,EAAI5D,KAAKgrH,SAAS1pH,OAAQsC,IACtC,GAAI5D,KAAKgrH,SAASpnH,KAAO5D,KAAK6qH,iBAAiBjnH,GAC3C,OAAO,EAGf,IAAK,IAAIA,EAAI,EAAGA,EAAI5D,KAAKs/D,OAAOh+D,OAAQsC,IACpC,GAAI5D,KAAKs/D,OAAO17D,KAAO5D,KAAK8qH,eAAelnH,GACvC,OAAO,EAGf,OAAO,CACX,CACAsnH,KAAKp+F,GACD,MAAMk+F,EAAWhrH,KAAKgrH,SAChB1rD,EAASt/D,KAAKs/D,OACpB,IAAI34C,EAAI,EACRmG,EAAI+mE,YACJ,IAAK,MAAMs3B,KAAWH,EAClB,OAAQG,GACJ,KAAKlF,GAAQmF,KACTt+F,EAAIgnE,OAAOx0B,EAAO34C,KAAM24C,EAAO34C,MAC/B,MACJ,KAAKs/F,GAAQoF,KACTv+F,EAAIinE,OAAOz0B,EAAO34C,KAAM24C,EAAO34C,MAC/B,MACJ,KAAKs/F,GAAQqF,MACTx+F,EAAIy+F,cAAcjsD,EAAO34C,KAAM24C,EAAO34C,KAAM24C,EAAO34C,KAAM24C,EAAO34C,KAAM24C,EAAO34C,KAAM24C,EAAO34C,MAC1F,MACJ,KAAKs/F,GAAQuF,IACT1+F,EAAI2+F,IAAInsD,EAAO34C,KAAM24C,EAAO34C,KAAM24C,EAAO34C,KAAM24C,EAAO34C,KAAM24C,EAAO34C,KAAsB,IAAhB24C,EAAO34C,MAChF,MACJ,KAAKs/F,GAAQyF,UACT5+F,EAAIknE,YACJ,MAGY,IAApBg3B,EAAS1pH,QACTwrB,EAAIknE,WAEZ,CACAF,OAAOtlF,EAAGo5E,GACF5nF,KAAK4pF,IACL5pF,KAAK4pF,GAAG,GAAKp7E,EACbxO,KAAK4pF,GAAG,GAAKhC,GAGb5nF,KAAK4pF,GAAK,CAACp7E,EAAGo5E,GAElB5nF,KAAKgrH,SAASr7G,KAAKs2G,GAAQmF,MAC3BprH,KAAKs/D,OAAO3vD,KAAKnB,EAAGo5E,EACxB,CACAmM,OAAOvlF,EAAGo5E,GACF5nF,KAAK4pF,IACL5pF,KAAKgrH,SAASr7G,KAAKs2G,GAAQoF,MAC3BrrH,KAAKs/D,OAAO3vD,KAAKnB,EAAGo5E,GACpB5nF,KAAK4pF,GAAG,GAAKp7E,EACbxO,KAAK4pF,GAAG,GAAKhC,GAGb5nF,KAAK8zF,OAAOtlF,EAAGo5E,EAEvB,CACA+jC,KAAKn9G,EAAGo5E,EAAG3E,EAAOtzD,GACd3vB,KAAK8zF,OAAOtlF,EAAGo5E,GACf5nF,KAAK+zF,OAAOvlF,EAAIy0E,EAAO2E,GACvB5nF,KAAK+zF,OAAOvlF,EAAIy0E,EAAO2E,EAAIj4D,GAC3B3vB,KAAK+zF,OAAOvlF,EAAGo5E,EAAIj4D,GACnB3vB,KAAKg0F,WACT,CACAy3B,IAAIj9G,EAAGo5E,EAAGznE,EAAGyrG,EAAQC,EAAQC,GAAgB,GACzC,MAAMC,EAAOv9G,EAAI2R,EAAIzV,KAAKygF,IAAI0gC,GACxBG,EAAOpkC,EAAIznE,EAAIzV,KAAK0gF,IAAIygC,GAC1B7rH,KAAK4pF,IACL5pF,KAAK4pF,GAAG,GAAKmiC,EACb/rH,KAAK4pF,GAAG,GAAKoiC,GAGbhsH,KAAK4pF,GAAK,CAACmiC,EAAMC,GAErBhsH,KAAKgrH,SAASr7G,KAAKs2G,GAAQuF,KAC3BxrH,KAAKs/D,OAAO3vD,KAAKnB,EAAGo5E,EAAGznE,EAAGyrG,EAAQC,EAAQC,EAAgB,EAAI,EAClE,CACAG,aAAaC,EAAKC,EAAKC,EAAKC,EAAK79G,EAAGo5E,GAC3B5nF,KAAK4pF,IACN5pF,KAAK8zF,OAAOo4B,EAAKC,GAErBnsH,KAAKgrH,SAASr7G,KAAKs2G,GAAQqF,OAC3BtrH,KAAKs/D,OAAO3vD,KAAKu8G,EAAKC,EAAKC,EAAKC,EAAK79G,EAAGo5E,GACxC5nF,KAAK4pF,GAAG,GAAKp7E,EACbxO,KAAK4pF,GAAG,GAAKhC,CACjB,CACI0kC,iBACA,OAAOtsH,KAAKirH,WAChB,CACAj3B,YACQh0F,KAAK4pF,KACL5pF,KAAK4pF,QAAK7nF,EACV/B,KAAKgrH,SAASr7G,KAAKs2G,GAAQyF,WAC3B1rH,KAAKirH,aAAc,EAE3B,CACAnuG,OAAM,aAAEyvG,GAAiB,CAAEA,cAAc,IACjCA,GACAvsH,KAAK6qH,iBAAmB7qH,KAAKgrH,SAC7BhrH,KAAK8qH,eAAiB9qH,KAAKs/D,OAC3Bt/D,KAAK+qH,mBAAqB/qH,KAAKirH,YAC/BjrH,KAAKgrH,SAAW,GAChBhrH,KAAKs/D,OAAS,KAGdt/D,KAAKgrH,SAAS1pH,OAAS,EACvBtB,KAAKs/D,OAAOh+D,OAAS,GAEzBtB,KAAK4pF,QAAK7nF,EACV/B,KAAKirH,aAAc,CACvB,CACAxuB,cAAcjuF,EAAGo5E,GACb,MAAMojC,EAAWhrH,KAAKgrH,SAChB1rD,EAASt/D,KAAKs/D,OACdktD,EAAKxB,EAAS1pH,OAadmrH,GAAM,IACNC,GAAM,IAEZ,IAAI7hC,EAAKhlE,IACLilE,EAAKjlE,IAEL8mG,EAAK,EACLC,EAAK,EACLC,EAAoB,EACxB,IAAK,IAAIC,EAAK,EAAGC,EAAK,EAAGD,EAAKN,EAAIM,IAC9B,OAAQ9B,EAAS8B,IACb,KAAK7G,GAAQmF,KACJzlG,MAAMklE,IACHo9B,GAAoBp9B,EAAIC,EAAI6hC,EAAIC,EAAIH,EAAIC,EAAIl+G,EAAGo5E,IAC/CilC,IAGRF,EAAKrtD,EAAOytD,KACZliC,EAAK8hC,EACLC,EAAKttD,EAAOytD,KACZjiC,EAAK8hC,EACL,MACJ,KAAK3G,GAAQoF,KACLpD,GAAoB0E,EAAIC,EAAIttD,EAAOytD,KAAOztD,EAAOytD,KAAON,EAAIC,EAAIl+G,EAAGo5E,IACnEilC,IAEJF,EAAKrtD,EAAOytD,EAAK,GACjBH,EAAKttD,EAAOytD,EAAK,GACjB,MACJ,KAAK9G,GAAQqF,MACTuB,GAAqBjE,GAA0B+D,EAAIC,EAAIttD,EAAOytD,KAAOztD,EAAOytD,KAAOztD,EAAOytD,KAAOztD,EAAOytD,KAAOztD,EAAOytD,KAAOztD,EAAOytD,KAAON,EAAIC,EAAIl+G,EAAGo5E,GAAGtmF,OACzJqrH,EAAKrtD,EAAOytD,EAAK,GACjBH,EAAKttD,EAAOytD,EAAK,GACjB,MACJ,KAAK9G,GAAQuF,IACTqB,GAAqB5C,GAAiB3qD,EAAOytD,KAAOztD,EAAOytD,KAAOztD,EAAOytD,KAAOztD,EAAOytD,KAAOztD,EAAOytD,KAAOxqF,QAAQ+8B,EAAOytD,MAAQN,EAAIC,EAAIl+G,EAAGo5E,GAAGtmF,OACjJqrH,EAAKrtD,EAAOytD,EAAK,GACjBH,EAAKttD,EAAOytD,EAAK,GACjB,MACJ,KAAK9G,GAAQyF,UACJ/lG,MAAMklE,IACHo9B,GAAoBp9B,EAAIC,EAAI6hC,EAAIC,EAAIH,EAAIC,EAAIl+G,EAAGo5E,IAC/CilC,IAGR,MAGZ,OAAOA,EAAoB,IAAM,CACrC,EGpNJ,IAAI59F,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAIO,SAAS6sG,GAAyBvtC,GACrC,MAAM,OAAEiN,EAAST,GAAWoB,MAAK,SAAEhB,EAAQ,UAAEC,GAAuB,OAAT7M,QAA0B,IAATA,EAAkBA,EAAO,CAAC,EACtG,OAAO2M,GAAqB,CAAEM,SAAQngF,KAAM,OAAQ+/E,YAAWD,YACnE,CACO,MAAM4gC,WAAahzB,GACtB1uF,cACI+jB,SAASzsB,WAMT7C,KAAKghC,KAAO,IAAI4pF,GAOhB5qH,KAAKktF,YAAa,CACtB,CACIggC,cAAU9rH,GACNpB,KAAKktF,aAAe9rF,IACpBpB,KAAKktF,WAAa9rF,EACdA,GACApB,KAAKgtF,UAAUhtF,KAAMisF,GAAWoB,OAG5C,CACI6/B,gBACA,OAAOltH,KAAKktF,UAChB,CACAigC,iBACI,IAAI7zG,EAAIqb,EACJ30B,KAAKktF,aAGTltF,KAAKktH,UAAYltH,KAAKghC,KAAKysD,WAAkG,QAAnF94D,EAAgC,QAA1Brb,EAAKtZ,KAAK46F,kBAA+B,IAAPthF,OAAgB,EAASA,EAAGm0E,iBAA8B,IAAP94D,GAAgBA,EACzJ,CACA8nE,cAAcjuF,EAAGo5E,GACb,MAAM8V,EAAQ19F,KAAKypF,eAAej7E,EAAGo5E,GACrC,OAAO5nF,KAAKghC,KAAKsrF,YAActsH,KAAKghC,KAAKy7D,cAAciB,EAAMlvF,EAAGkvF,EAAM9V,EAC1E,CACAwlC,cAEI,OAAO,CACX,CACAC,aACI,CAEJ59F,OAAOwgE,GACH,IAAI32E,EAAIqb,EACR,MAAM,IAAE7H,EAAG,YAAE4lE,EAAW,MAAExC,GAAUD,EACpC,GAAIjwF,KAAKwwF,QAAUvE,GAAWa,MAAS4F,EAAvC,CAWA,GANA1yF,KAAKmvF,yBACLnvF,KAAKqqF,OAAOF,UAAUr9D,IAClB9sB,KAAKktH,WAAaltH,KAAKotH,iBACvBptH,KAAKqtH,aACLrtH,KAAKktH,WAAY,GAEjBltH,KAAKstH,SAAU,CASf,GARAxgG,EAAIs3D,OACkB,WAAlBpkF,KAAKutH,WAELvtH,KAAKstH,SAASpC,KAAKp+F,GACnBA,EAAImnE,QAERj0F,KAAKghC,KAAKkqF,KAAKp+F,GACf9sB,KAAK27F,WAAW7uE,GACM,cAAlB9sB,KAAKutH,SAA0B,CAE/BvtH,KAAKstH,SAASpC,KAAKp+F,GACnBA,EAAImnE,OAEJ,MAAM,EAAEzlF,GAAI,IAAM,EAAEo5E,GAAI,IAAM,MAAE3E,EAAQ,IAAK,OAAEtzD,EAAS,KAAwC,QAA7BrW,EAAKtZ,KAAK+vF,qBAAkC,IAAPz2E,EAAgBA,EAAK,CAAC,EAC9HwT,EAAIm3D,UAAUz1E,EAAGo5E,EAAG3E,EAAOtzD,EAC/B,CACA7C,EAAIw3D,SACR,MAEItkF,KAAKghC,KAAKkqF,KAAKp+F,GACf9sB,KAAK27F,WAAW7uE,GAEO,QAA1B6H,EAAK30B,KAAK46F,kBAA+B,IAAPjmE,GAAyBA,EAAG44D,YAC/Dj+D,MAAMG,OAAOwgE,EA/Bb,MAHQC,IACAA,EAAMiD,cAAgBnzF,KAAK4wF,UAAUlqE,MAkCjD,EAEJumG,GAAK5iE,UAAY,OACjBp7B,GAAW,CACP+9F,MACDC,GAAKjkH,UAAW,gBAAY,GAC/BimB,GAAW,CACP+9F,MACDC,GAAKjkH,UAAW,gBAAY,GC1G/B,IAAIimB,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAGO,MAAMqtG,WAAeP,GACxB1hH,cACI+jB,SAASzsB,WACT7C,KAAKwO,EAAI,EACTxO,KAAK4nF,EAAI,EACT5nF,KAAK2c,KAAO,EAChB,CACAozE,cACI,MAAM,EAAEvhF,EAAC,EAAEo5E,EAAC,KAAEjrE,GAAS3c,KACjBytH,EAAO9wG,EAAO,EACpB,OAAO,IAAIgrE,GAAKn5E,EAAIi/G,EAAM7lC,EAAI6lC,EAAM9wG,EAAMA,EAC9C,CACA+wG,UAAUroH,EAAGsoH,GACT,MAAM,KAAE3sF,GAAShhC,KACjB,IAAI,EAAEwO,EAAC,EAAEo5E,GAAM5nF,KACfghC,EAAKlkB,QACL,IAAK,MAAQtO,EAAGo/G,EAAIhmC,EAAGimC,EAAE,EAAE52E,KAAO02E,EAC9Bn/G,GAAKo/G,EAAKvoH,EACVuiF,GAAKimC,EAAKxoH,EACA,SAAN4xC,EACAjW,EAAK8yD,OAAOtlF,EAAGo5E,GAGf5mD,EAAK+yD,OAAOvlF,EAAGo5E,GAGvB5mD,EAAKgzD,WACT,EAEJ/kE,GAAW,CACP+9F,MACDQ,GAAOxkH,UAAW,SAAK,GAC1BimB,GAAW,CACP+9F,MACDQ,GAAOxkH,UAAW,SAAK,GAC1BimB,GAAW,CACP+9F,GAAyB,CAAE1gC,UAAW5hF,KAAKw9E,OAC5CslC,GAAOxkH,UAAW,YAAQ,GC5CtB,MAAM8kH,WAAeN,GACxBH,aACI,MAAM,EAAE7+G,EAAC,EAAEo5E,EAAC,KAAE5mD,EAAI,KAAErkB,GAAS3c,KACvBmgB,EAAIxD,EAAO,EACjBqkB,EAAKlkB,QACLkkB,EAAKyqF,IAAIj9G,EAAGo5E,EAAGznE,EAAG,EAAa,EAAVzV,KAAKkuF,IAC1B53D,EAAKgzD,WACT,EAEJ85B,GAAOzjE,UAAY,SCVnB,IAAIp7B,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAKA,MAAM4tG,GAAgB,CAAC,SAAU,QAAS,UAAW,QAAS,OAAQ,SAAU,YAC1EC,GAAexe,IAAsBrzF,GAAM4xG,GAAcvsH,SAAS2a,IAAMta,OAAOua,eAAeD,KAAOqxG,IAAS,oHAC7G,MAAMS,WAAqB7gC,GAC9B7hF,cACI+jB,SAASzsB,WACT7C,KAAK40B,SAAU,EAKf50B,KAAK66F,MAAQizB,GACb9tH,KAAK2c,KAAO,EAOZ3c,KAAKkuH,QAAU,GACfluH,KAAKgzG,YAASjxG,EACd/B,KAAKwgC,UAAOz+B,EACZ/B,KAAKs6F,YAASv4F,EACd/B,KAAKu6F,YAAc,EACnBv6F,KAAKm6F,iBAAcp4F,EACnB/B,KAAKo6F,mBAAgBr4F,CACzB,EAEJktB,GAAW,CACPmgF,GAASiB,IACTjkB,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3C4gC,GAAajlH,UAAW,eAAW,GACtCimB,GAAW,CACPmgF,GAAS4e,IACT5hC,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3C4gC,GAAajlH,UAAW,aAAS,GACpCimB,GAAW,CACPmgF,GAASwB,GAAO,IAChBxkB,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3C4gC,GAAajlH,UAAW,YAAQ,GACnCimB,GAAW,CACPmgF,GAASwB,GAAO,IAChBxkB,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3C4gC,GAAajlH,UAAW,eAAW,GACtCimB,GAAW,CACPmgF,GAASoC,IACTplB,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3C4gC,GAAajlH,UAAW,cAAU,GACrCimB,GAAW,CACPmgF,GAAS8B,IACT9kB,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3C4gC,GAAajlH,UAAW,YAAQ,GACnCimB,GAAW,CACPmgF,GAAS8B,IACT9kB,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3C4gC,GAAajlH,UAAW,cAAU,GACrCimB,GAAW,CACPmgF,GAASiC,GAAW,IACpBjlB,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3C4gC,GAAajlH,UAAW,mBAAe,GAC1CimB,GAAW,CACPmgF,GAASiC,GAAW,EAAG,IACvBjlB,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3C4gC,GAAajlH,UAAW,mBAAe,GAC1CimB,GAAW,CACPmgF,GAASiC,GAAW,EAAG,IACvBjlB,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3C4gC,GAAajlH,UAAW,qBAAiB,GC3ErC,MAAMmlH,GACT5iH,YAAYoJ,EAAQy5G,GAChBpuH,KAAKquH,OAAS,GACdruH,KAAKu/G,MAAQ,GACbv/G,KAAK2uF,QAAUh6E,EACf3U,KAAKsuH,SAAWzsH,OAAOmH,UAAUxI,cAAcgJ,KAAKskF,GAAMsgC,GACpD,IAAM,IAAIA,EACVA,CACV,CACA5nC,cAAc7xE,EAAQy5G,GAClB,OAAO,IAAID,GAAUx5G,EAAQy5G,EACjC,CACAG,KAAKC,GAED,OADAxuH,KAAKquH,OAAOx1G,SAAQ,CAACqlB,EAAMt6B,IAAM4qH,EAAQtwF,EAAMA,EAAKuwD,MAAO7qF,KACpD5D,IACX,CACA0wB,OAAO1jB,EAAMu3G,GACT,MAAMkK,EAAMzuH,KAAKu/G,MACX5qG,EAAS3U,KAAK2uF,QACdjvF,EAAUM,KAAKsuH,SACjBthH,EAAK1L,OAASmtH,EAAIntH,OAClB0L,EAAK1K,MAAMmsH,EAAIntH,QAAQuX,SAAS41E,IAC5B,MAAMvwD,EAAOx+B,EAAQ+uF,GACrBvwD,EAAKuwD,MAAQA,EACJ,OAAT81B,QAA0B,IAATA,GAA2BA,EAAKrmF,GACjDvpB,EAAOq1C,YAAY9rB,GACnBl+B,KAAKquH,OAAO1+G,KAAKuuB,EAAK,IAGrBlxB,EAAK1L,OAASmtH,EAAIntH,QACvBtB,KAAKquH,OAAOzqG,OAAO5W,EAAK1L,QAAQuX,SAASqlB,IACrCvpB,EAAO40C,YAAYrrB,EAAK,IAGhCl+B,KAAKu/G,MAAQvyG,EAAK1K,MAAM,GACxB,IAAK,IAAIsB,EAAI,EAAGA,EAAIoJ,EAAK1L,OAAQsC,IAC7B5D,KAAKquH,OAAOzqH,GAAG6qF,MAAQzuF,KAAKu/G,MAAM37G,GAEtC,OAAO5D,IACX,CACA8c,QAEI,OADA9c,KAAK0wB,OAAO,IACL1wB,IACX,CACAwmF,iBAAiB7xE,EAAQk7E,GACrB,MAAM6+B,EAAU,GACVzuF,EAAY/B,IACV2xD,EAAU3xD,IACVwwF,EAAQ/+G,KAAKuuB,GAEjBA,EAAKxF,SAAS7f,QAAQonB,EAAS,EAGnC,OADAA,EAAStrB,GACF+5G,CACX,CACAloC,qBAAqBtoD,EAAMywF,GACvB,OAAOR,GAAUS,UAAU1wF,GAAOA,GAASA,aAAgBywF,GAC/D,CACAnoC,mBAAmBtoD,EAAMl7B,GACrB,OAAOmrH,GAAUS,UAAU1wF,GAAOA,GAASA,EAAKl7B,MAAQA,GAC5D,CACAigD,OAAO4sC,GACH,OAAOs+B,GAAUS,UAAU5uH,KAAK2uF,QAASkB,EAC7C,CACAg/B,cAAcF,GACV,OAAO3uH,KAAKijD,QAAQ/kB,GAASA,aAAgBywF,GACjD,CACAG,YAAY9rH,GACR,OAAOhD,KAAKijD,QAAQ/kB,GAASA,EAAKl7B,MAAQA,GAC9C,CACAmiE,QACI,OAAOnlE,KAAKquH,MAChB,ECzEJ,SAASU,GAAMvgH,EAAG6C,EAAKD,GACnB,OAAO1G,KAAK0G,IAAIC,EAAK3G,KAAK2G,IAAID,EAAK5C,GACvC,CAIO,MAAMwgH,GACTzjH,cACIvL,KAAKuM,KAAO,OACZvM,KAAK2kB,MAAQ,KACb3kB,KAAKivH,WAAa,CAAC,UAAW,QAAS,gBAAiB,gBAAiB,QAAS,YAKlFjvH,KAAKuB,MAAQ,IAAIyW,IAIjBhY,KAAKkvH,aAAe,GAMpBlvH,KAAKmvH,QAAU,GACfnvH,KAAKmmB,MAAQ,CAAC,EAAG,GACjBnmB,KAAKovH,WAAa,EAClBpvH,KAAKqvH,cAAgB,EAIrBrvH,KAAKsvH,cAAgB,EAKrBtvH,KAAKuvH,cAAgB,EACrBvvH,KAAKwlF,OAAQ,CACjB,CACAgqC,YACI,MAAM,MAAE7qG,GAAU3kB,KACZwvH,GAAa7qG,GAAS3kB,KAAKivH,WAAW72F,MAAMnN,GAAMjrB,KAAKirB,KAAOtG,EAAMsG,KAC1E,QAAIukG,IACAxvH,KAAK2kB,MAAQ,CAAC,EACd3kB,KAAKivH,WAAWp2G,SAASoS,GAAOjrB,KAAK2kB,MAAMsG,GAAKjrB,KAAKirB,MAC9C,EAGf,CACAwkG,UACQzvH,KAAKwvH,aACLxvH,KAAK0wB,QAEb,CACIsiF,WAAOt6F,GACP,MAAMs6F,EAAS,GACfhzG,KAAKuB,MAAQ,IAAIyW,IACjB,MAAMzW,EAAQvB,KAAKuB,MAKnBmX,EAAOG,SAASzX,SACaW,IAArBR,EAAMqD,IAAIxD,IACVG,EAAMoK,IAAIvK,EAAO4xG,EAAOrjG,KAAKvO,GAAS,EAC1C,IAEJpB,KAAKmvH,QAAUnc,CACnB,CACIA,aACA,OAAOhzG,KAAKmvH,OAChB,CACAO,QACI1vH,KAAKyvH,UACL,MAAM,SAAE9uC,EAAW,GAAM3gF,KACnBwgF,EAAO91E,KAAKw9E,IAAIx9E,KAAK86E,MAAM7E,IACjC,OAAO3gF,KAAKmvH,QAAQz1G,QAAO,CAACqL,EAAGnhB,IAAMA,EAAI48E,IAAS,GACtD,CACAmvC,QAAQxgG,GACJnvB,KAAKyvH,UACL,MAAM7rH,EAAI5D,KAAKuB,MAAMqD,IAAIuqB,GACzB,QAAUptB,IAAN6B,EACA,OAAOiiB,IAEX,MAAM1F,EAAIngB,KAAKkvH,aAAatrH,GAC5B,YAAU7B,IAANoe,EACO0F,IAEJ1F,CACX,CACAyvG,OAAOhsC,GACH5jF,KAAKyvH,UACL,MAAMluH,EAAQvB,KAAKkvH,aAAa7lG,WAAW4B,GAAMA,IAAM24D,IACvD,OAAO5jF,KAAKgzG,OAAOzxG,EACvB,CACIsuH,gBAEA,OADA7vH,KAAKyvH,UACEzvH,KAAKovH,UAChB,CACIU,mBAEA,OADA9vH,KAAKyvH,UACEzvH,KAAKqvH,aAChB,CACI3L,YAAQtiH,GACRA,EAAQ2tH,GAAM3tH,EAAO,EAAG,GACxBpB,KAAKsvH,cAAgBluH,EACrBpB,KAAKuvH,cAAgBnuH,CACzB,CACIsiH,cACA,OAAO1jH,KAAKsvH,aAChB,CACIS,iBAAa3uH,GACbpB,KAAKsvH,cAAgBP,GAAM3tH,EAAO,EAAG,EACzC,CACI2uH,mBACA,OAAO/vH,KAAKsvH,aAChB,CACIU,iBAAa5uH,GACbpB,KAAKuvH,cAAgBR,GAAM3tH,EAAO,EAAG,EACzC,CACI4uH,mBACA,OAAOhwH,KAAKuvH,aAChB,CACA7+F,SACI,MAAMhK,EAAQ1mB,KAAKmvH,QAAQ7tH,OAC3B,GAAc,IAAVolB,EACA,OAEJ,MAAM8+D,EAAQxlF,KAAKwlF,MACbuqC,EAAe/vH,KAAKsvH,cACpBU,EAAehwH,KAAKuvH,eACnBU,EAAIrL,GAAM5kH,KAAKmmB,MAChB88D,EAAQ2hC,EAAKqL,EACbC,EAAUjtC,EAAQv4E,KAAK0G,IAAI,EAAGsV,EAAQ,EAAIspG,EAAeD,GACzDvvC,EAAOgF,EAAQ96E,KAAK4D,MAAM4hH,GAAWA,EACrCC,EAAgB3vC,GAAQ95D,EAAQqpG,GAChCK,EAAKH,GAAMhtC,EAAQktC,GAAiB,EACpC9pG,EAAQm/D,EAAQ96E,KAAK86E,MAAM4qC,GAAMA,EACjCC,EAAK7vC,GAAQ,EAAIuvC,GACjBF,EAAYrqC,EAAQ96E,KAAK86E,MAAM6qC,GAAMA,EACrCP,EAAeI,GAAW,EAAIH,GAC9Br3G,EAAS,GACf,IAAK,IAAI9U,EAAI,EAAGA,EAAI8iB,EAAO9iB,IACvB8U,EAAO/I,KAAK0W,EAAQm6D,EAAO58E,GAE/B5D,KAAKovH,WAAaS,EAClB7vH,KAAKqvH,cAAgBS,EACrB9vH,KAAKkvH,aAAex2G,CACxB,ECrJJ,IAAIuW,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAIO,MAAMkrG,WAAapxB,GACtB1uF,cACI+jB,QACAtvB,KAAKqpH,GAAK,EACVrpH,KAAKspH,GAAK,EACVtpH,KAAK6kH,GAAK,EACV7kH,KAAK8kH,GAAK,EACV9kH,KAAK+6F,kBACT,CACAhL,cACI,OAAO,IAAIpI,GAAK3nF,KAAKqpH,GAAIrpH,KAAKspH,GAAItpH,KAAK6kH,GAAK7kH,KAAKqpH,GAAIrpH,KAAK8kH,GAAK9kH,KAAKspH,GACxE,CACA7sB,cAAclN,EAAIC,GACd,OAAO,CACX,CACA//D,OAAOwgE,GACH,IAAI32E,EACJ,MAAM,IAAEwT,EAAG,YAAE4lE,EAAW,MAAExC,GAAUD,EACpC,GAAIjwF,KAAKwwF,QAAUvE,GAAWa,OAAS4F,EAGnC,YAFIxC,IACAA,EAAMiD,cAAgBnzF,KAAK4wF,UAAUlqE,QAG7C1mB,KAAKmvF,yBACLnvF,KAAKqqF,OAAOF,UAAUr9D,GACtB,IAAIu8F,EAAKrpH,KAAKqpH,GACVC,EAAKtpH,KAAKspH,GACVzE,EAAK7kH,KAAK6kH,GACVC,EAAK9kH,KAAK8kH,GAGd,GAAIuE,IAAOxE,EAAI,CACX,MAAMr2G,EAAI9D,KAAK86E,MAAM6jC,GAAO3+G,KAAK4D,MAAMtO,KAAKu6F,aAAe,EAAK,EAChE8uB,EAAK76G,EACLq2G,EAAKr2G,CACT,MACK,GAAI86G,IAAOxE,EAAI,CAChB,MAAMl9B,EAAIl9E,KAAK86E,MAAM8jC,GAAO5+G,KAAK4D,MAAMtO,KAAKu6F,aAAe,EAAK,EAChE+uB,EAAK1hC,EACLk9B,EAAKl9B,CACT,CACA96D,EAAI+mE,YACJ/mE,EAAIgnE,OAAOu1B,EAAIC,GACfx8F,EAAIinE,OAAO8wB,EAAIC,GACf9kH,KAAK27F,WAAW7uE,GACW,QAA1BxT,EAAKtZ,KAAK46F,kBAA+B,IAAPthF,GAAyBA,EAAGi0E,YAC/Dj+D,MAAMG,OAAOwgE,EACjB,ECxDG,SAASqgC,GAAQvlH,EAAG2d,EAAG6nG,EAAU,OACpC,OAAO7lH,KAAKw9E,IAAIn9E,EAAI2d,GAAK6nG,CAC7B,CAUO,SAASC,GAAQpvH,EAAOqvH,EAA8B,GACzD,MAAMC,EAAQhmH,KAAK4D,MAAM5D,KAAKgnF,IAAIhnF,KAAKw9E,IAAI9mF,IAAUsJ,KAAKimH,MAC1D,OAAID,GAAS,IAAM9tB,SAAS8tB,GACjBtvH,EAAMovH,QAAQC,GAElBrvH,EAAMovH,QAAQ9lH,KAAKw9E,IAAIwoC,GAAS,EAAID,EAC/C,CAKO,SAASzgE,GAAIvhD,EAAGlJ,GACnB,OAAIkJ,GAAK,EACE/D,KAAK4D,MAAMG,EAAIlJ,GAEnBmF,KAAK4D,MAAOG,EAAIlJ,EAAKA,EAChC,CD8BA8lH,GAAKhhE,UAAY,OACjBghE,GAAKhxB,cAAgBx4F,OAAO6hB,OAAO,CAAC,EAAGu2E,GAAMI,cAAe,CACxD75D,UAAMz+B,EACNw4F,YAAa,IAEjBtrE,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3Cg+B,GAAKriH,UAAW,UAAM,GACzBimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3Cg+B,GAAKriH,UAAW,UAAM,GACzBimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3Cg+B,GAAKriH,UAAW,UAAM,GACzBimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3Cg+B,GAAKriH,UAAW,UAAM,GE1EzB,IAWI4nH,GAXA3hG,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,GAOA,SAAWywG,GACPA,EAAQA,EAAQ,QAAU,GAAK,OAC/BA,EAAQA,EAAQ,SAAW,GAAK,QAChCA,EAAQA,EAAQ,SAAW,GAAK,OACnC,EAJD,CAIGA,KAAYA,GAAU,CAAC,IAInB,MAAMpF,WAAYyB,GACrB1hH,cACI+jB,QACAtvB,KAAK6wH,QAAU,EACf7wH,KAAK8wH,QAAU,EACf9wH,KAAK+wH,OAAS,GACd/wH,KAAKkqH,WAAa,EAClBlqH,KAAKmqH,SAAqB,EAAVz/G,KAAKkuF,GACrB54F,KAAKoqH,kBAAmB,EAaxBpqH,KAAKuM,KAAOqkH,GAAQI,KACpBhxH,KAAK+6F,kBACT,CACIk2B,cACA,OAAOX,GAAQz3B,GAAkB74F,KAAKkqH,YAAarxB,GAAkB74F,KAAKmqH,UAC9E,CACAkD,aACI,MAAMrsF,EAAOhhC,KAAKghC,KAClBA,EAAKlkB,QACLkkB,EAAKyqF,IAAIzrH,KAAK6wH,QAAS7wH,KAAK8wH,QAAS9wH,KAAK+wH,OAAQ/wH,KAAKkqH,WAAYlqH,KAAKmqH,SAAUnqH,KAAKoqH,kBACnFpqH,KAAKuM,OAASqkH,GAAQM,MACtBlwF,EAAKgzD,YAEAh0F,KAAKuM,OAASqkH,GAAQO,OAAUnxH,KAAKixH,UAC1CjwF,EAAK+yD,OAAO/zF,KAAK6wH,QAAS7wH,KAAK8wH,SAC/B9vF,EAAKgzD,YAEb,CACAjE,cAEI,OAAO,IAAIpI,GAAK3nF,KAAK6wH,QAAU7wH,KAAK+wH,OAAQ/wH,KAAK8wH,QAAU9wH,KAAK+wH,OAAsB,EAAd/wH,KAAK+wH,OAA0B,EAAd/wH,KAAK+wH,OAClG,CACAt0B,cAAcjuF,EAAGo5E,GACb,MAAM8V,EAAQ19F,KAAKypF,eAAej7E,EAAGo5E,GAC/BX,EAAOjnF,KAAK+vF,cAClB,OAAQ/vF,KAAKuM,OAASqkH,GAAQI,MAC1B/pC,EAAKc,cAAc2V,EAAMlvF,EAAGkvF,EAAM9V,IAClC5nF,KAAKghC,KAAKy7D,cAAciB,EAAMlvF,EAAGkvF,EAAM9V,EAC/C,EC9DG,SAASwpC,GAAqBC,EAAWC,GAC5C,OAAOniB,IAA+B,CAAC5rG,EAAQR,EAAK3B,KAChDmC,EAAO8tH,GAA6B,OAAlBC,QAA4C,IAAlBA,EAA2BA,EAAgBvuH,GAAO3B,EACvFA,IAEf,CASO,SAASmwH,GAAY9xC,GACxB,MAAQlnE,SAAUi5G,EAAYh5G,SAAUi5G,EAAYC,YAAaC,GAAkBlyC,EACnF,OAAO0vB,IAA+B,CAAC5rG,EAAQwhB,EAAGxM,EAAUC,KACpDD,IAAaC,SACIzW,IAAbyW,IACe,OAAfi5G,QAAsC,IAAfA,GAAiCA,EAAWjoH,KAAKjG,EAAQiV,SAEnEzW,IAAbwW,IACe,OAAfi5G,QAAsC,IAAfA,GAAiCA,EAAWhoH,KAAKjG,EAAQgV,IAElE,OAAlBo5G,QAA4C,IAAlBA,GAAoCA,EAAcnoH,KAAKjG,EAAQgV,EAAUC,IAEhGD,IAEf,CDoCAizG,GAAInhE,UAAY,MAChBmhE,GAAInxB,cAAgBx4F,OAAO6hB,OAAO,CAAC,EAAGu2E,GAAMI,cAAe,CACvDnC,UAAW,EACXP,UAAW,OAEf1oE,GAAW,CACP+9F,MACDxB,GAAIxiH,UAAW,eAAW,GAC7BimB,GAAW,CACP+9F,MACDxB,GAAIxiH,UAAW,eAAW,GAC7BimB,GAAW,CACP+9F,MACDxB,GAAIxiH,UAAW,cAAU,GAC5BimB,GAAW,CACP+9F,MACDxB,GAAIxiH,UAAW,kBAAc,GAChCimB,GAAW,CACP+9F,MACDxB,GAAIxiH,UAAW,gBAAY,GAC9BimB,GAAW,CACP+9F,MACDxB,GAAIxiH,UAAW,wBAAoB,GACtCimB,GAAW,CACP+9F,MACDxB,GAAIxiH,UAAW,YAAQ,GEhG1B,IAAIimB,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAKO,MAAMyxG,GACTrmH,cACIvL,KAAKk+B,KAAO,IAAI8b,GAChBh6C,KAAK40B,SAAU,EACf50B,KAAK4lD,UAAO7jD,EACZ/B,KAAK48F,SAAW,GAChB58F,KAAK68F,WAAa,aAClB78F,KAAK6xH,QAAUD,GAAQE,QACvB9xH,KAAK88F,gBAAa/6F,EAClB/B,KAAKi+F,cAAWl8F,EAChB/B,KAAKk+F,eAAYn8F,EACjB/B,KAAKo+F,SAAW,SAChB,MAAMlgE,EAAOl+B,KAAKk+B,KAClBA,EAAKyoD,UAAY,SACjBzoD,EAAK2lD,cAAgB6J,GAAcgC,IACvC,CACAqiC,gBAAgBC,EAAgBC,GAC5B,IAAI34G,EAAIqb,EACR,MAAM,KAAEixB,EAAI,SAAEw4C,GAAap+F,KACrBi+F,EAAWvzF,KAAK2G,IAA6B,QAAxBiI,EAAKtZ,KAAKi+F,gBAA6B,IAAP3kF,EAAgBA,EAAK6a,IAAU69F,GACpF9zB,EAAsC,QAAzBvpE,EAAK30B,KAAKk+F,iBAA8B,IAAPvpE,EAAgBA,EAAKs9F,EACzE,IAAKrvB,SAAS3E,KAAc2E,SAAS1E,GAEjC,YADAl+F,KAAKk+B,KAAK0nB,KAAOA,GAGrB,MAAMssE,EAAUl4E,GAAKx9B,KAAc,OAATopC,QAA0B,IAATA,EAAkBA,EAAO,GAAIq4C,EAAUC,EAAWl+F,KAAMo+F,GACnGp+F,KAAKk+B,KAAK0nB,KAAOssE,CACrB,ECrCG,SAASC,GAA2BC,EAAMC,GAC7C,OAAQD,EAAK9wH,SAAW+wH,EAAK/wH,QACzB8wH,EAAKrtF,OAAM,CAACh6B,EAAGnH,KACX,MAAM8kB,EAAI2pG,EAAKzuH,GACf,OAAI+I,MAAMhL,QAAQoJ,IAAM4B,MAAMhL,QAAQ+mB,GAC3BypG,GAA2BpnH,EAAG2d,GAElC3d,IAAM2d,CAAC,GAE1B,CACO,SAAS4pG,GAAqBF,EAAMC,GACvC,OAAOD,EAAK9wH,SAAW+wH,EAAK/wH,QAAU8wH,EAAKrtF,OAAM,CAAClyB,EAAMjP,IAAMgV,OAAO/F,KAAU+F,OAAOy5G,EAAKzuH,KAC/F,CD2BAguH,GAAQE,QAAU,GAClB7iG,GAAW,CACPmgF,GAASiB,KACVuhB,GAAQ5oH,UAAW,eAAW,GACjCimB,GAAW,CACPmgF,GAASoB,IACT4gB,GAAqB,SACtBQ,GAAQ5oH,UAAW,YAAQ,GAC9BimB,GAAW,CACPmgF,GAAS0C,IACTsf,GAAqB,SACtBQ,GAAQ5oH,UAAW,iBAAa,GACnCimB,GAAW,CACPmgF,GAAS4C,IACTof,GAAqB,SACtBQ,GAAQ5oH,UAAW,kBAAc,GACpCimB,GAAW,CACPmgF,GAASwB,GAAO,IAChBwgB,GAAqB,SACtBQ,GAAQ5oH,UAAW,gBAAY,GAClCimB,GAAW,CACPmgF,GAASmB,IACT6gB,GAAqB,SACtBQ,GAAQ5oH,UAAW,kBAAc,GACpCimB,GAAW,CACPmgF,GAAS8B,IACTkgB,GAAqB,OAAQ,SAC9BQ,GAAQ5oH,UAAW,aAAS,GAC/BimB,GAAW,CACPmgF,GAASiC,GAAW,KACrBugB,GAAQ5oH,UAAW,eAAW,GACjCimB,GAAW,CACPmgF,GAASiC,GAAW,KACrBugB,GAAQ5oH,UAAW,kBAAc,GACpCimB,GAAW,CACPmgF,GAASiC,GAAW,KACrBugB,GAAQ5oH,UAAW,gBAAY,GAClCimB,GAAW,CACPmgF,GAASiC,GAAW,KACrBugB,GAAQ5oH,UAAW,iBAAa,GACnCimB,GAAW,CACPmgF,GAASwD,KACVgf,GAAQ5oH,UAAW,gBAAY,GEhF3B,MAAMupH,GACThnH,YAAYynG,EAAQ7sF,GAChBnmB,KAAKgzG,OAASA,EACdhzG,KAAKmmB,MAAQA,EACbnmB,KAAKwyH,MAAO,EACZxyH,KAAKyyH,UAAYF,GAAgBG,iBACjC1yH,KAAK2yH,aAAe,EACpB3yH,KAAK4yH,aAAez+F,IACpBn0B,KAAK6yH,WAAa,KAClB7yH,KAAK8yH,sBAAuB,EAC5B9yH,KAAK2kB,MAAQ,KACb3kB,KAAKivH,WAAa,CAAC,SAAU,QAAS,OAAQ,YAAa,eAAgB,eAC/E,CACAh6D,UAAUzmD,GACN,OAAOA,CACX,CACAukH,gBAAgBvkH,GACZ,OAAOA,CACX,CACAwkH,WAAW7jG,GACP,MAAiB,kBAANA,EACAA,EAEFA,aAAa/D,KACX+D,EAAEpG,UAENlD,GACX,CACAquF,YACI,OAAIl0G,KAAKwyH,OACLxyH,KAAKyvH,UACDzvH,KAAK6yH,YACE7yH,KAAK6yH,WAGb7yH,KAAKgzG,MAChB,CACA2c,QAAQnhH,EAAG8wD,GACP,IAAIhmD,EACJ,IAAKtZ,KAAKgzG,QAAUhzG,KAAKgzG,OAAO1xG,OAAS,EACrC,OAAOukB,IAEX7lB,KAAKyvH,UACL,MAAMwD,EAAkF,QAAxE35G,EAAgB,OAAXgmD,QAA8B,IAAXA,OAAoB,EAASA,EAAO2zD,cAA2B,IAAP35G,EAAgBA,EAAKtZ,KAAK8yH,qBACpH9f,EAAShzG,KAAKk0G,YAAYv6F,KAAKwV,GAAMnvB,KAAKi1D,UAAU9lC,MACnD+jG,EAAIC,GAAMngB,GACX,MAAE7sF,GAAUnmB,MACXiwH,EAAIrL,GAAMz+F,EAEjB,OADA3X,EAAIxO,KAAKi1D,UAAUzmD,GACfA,EAAI0kH,EACGD,EAASptG,IAAMoqG,EAEjBzhH,EAAI2kH,EACFF,EAASptG,IAAM++F,EAEtBsO,IAAOC,GACClD,EAAKrL,GAAM,EAEdp2G,IAAM0kH,EACJjD,EAEFzhH,IAAM2kH,EACJvO,EAEHqL,GAAOjwH,KAAKgzH,WAAWxkH,GAAKxO,KAAKgzH,WAAWE,KAAQlzH,KAAKgzH,WAAWG,GAAMnzH,KAAKgzH,WAAWE,KAAStO,EAAKqL,EACpH,CACAL,OAAOphH,GACHxO,KAAKyvH,UACL,MAAMzc,EAAShzG,KAAKk0G,YAAYv6F,KAAKwV,GAAMnvB,KAAKi1D,UAAU9lC,MACnD+jG,EAAIC,GAAMngB,GACX,MAAE7sF,GAAUnmB,MACXiwH,EAAIrL,GAAMz+F,EACXitG,EAAanD,EAAKrL,EAClByO,EAAOD,EAAaxO,EAAKqL,EACzBqD,EAAOF,EAAanD,EAAKrL,EAC/B,IAAIz1F,EACJ,OAAI3gB,EAAI6kH,EACGD,EAAaD,EAAKD,EAEpB1kH,EAAI8kH,EACFF,EAAaF,EAAKC,GAGzBhkG,EADK8gG,IAAOrL,EACR5kH,KAAKuzH,UAAUvzH,KAAKgzH,WAAWE,GAAMlzH,KAAKgzH,WAAWG,IAAO,GAG5DnzH,KAAKuzH,SAASvzH,KAAKgzH,WAAWE,IAAQ1kH,EAAIyhH,IAAOrL,EAAKqL,IAAQjwH,KAAKgzH,WAAWG,GAAMnzH,KAAKgzH,WAAWE,KAErGlzH,KAAK+yH,gBAAgB5jG,GAChC,CACAqgG,YACI,MAAM,MAAE7qG,GAAU3kB,KACZwvH,GAAa7qG,GAAS3kB,KAAKivH,WAAW72F,MAAMnN,GAAMjrB,KAAKirB,KAAOtG,EAAMsG,KAC1E,QAAIukG,IACAxvH,KAAK2kB,MAAQ,CAAC,EACd3kB,KAAKivH,WAAWp2G,SAASoS,GAAOjrB,KAAK2kB,MAAMsG,GAAKjrB,KAAKirB,MAC9C,EAGf,CACAwkG,UACQzvH,KAAKwvH,aACLxvH,KAAK0wB,QAEb,CACA8iG,iBAAgB,MAAEntG,EAAK,KAAEnR,EAAI,SAAEyrE,EAAQ,MAAEj6D,IACrC,MAAM,MAAEP,GAAUnmB,KACZgzG,EAAS99F,EAAOmR,EAChBhV,EAAM3G,KAAK2G,IAAI8U,EAAM,GAAIA,EAAM,IAC/B/U,EAAM1G,KAAK0G,IAAI+U,EAAM,GAAIA,EAAM,IAC/BstG,EAAiBriH,EAAMC,EACvBmvE,EAA2B,kBAAbG,EAAwBA,EAAW,EAEvD,OADU,OAAVj6D,QAA4B,IAAVA,IAA4BA,EAAQssF,EAASxyB,GAC3D95D,GAAS+sG,IACTjiC,GAAOrgE,KAAM,4IACN,EAGf,ECvHW,SAAS,GAAC9K,EAAOnR,EAAMwR,EAAOgtG,EAAUC,GACnD,GAAIjtG,EAAQ,EACR,OAAOP,GAAME,EAAOnR,EAAMA,EAAOmR,GAErC,MAAMm6D,EAAOozC,GAASvtG,EAAOnR,EAAMwR,EAAOgtG,EAAUC,GACpD,OAAIhuG,MAAM66D,GACC,IAAIqzC,GAAa,IAE5BxtG,EAAQ3b,KAAK2D,KAAKgY,EAAQm6D,GAAQA,EAClCtrE,EAAOxK,KAAK4D,MAAM4G,EAAOsrE,GAAQA,EAC1Br6D,GAAME,EAAOnR,EAAMsrE,GAC9B,CD8GA+xC,GAAgBG,iBAAmB,EACnCH,GAAgBuB,oBAAsB,EC9GtC,MAAMC,GAAkB,CAAC,EAAG,EAAG,EAAG,IAC3B,SAASH,GAAS7oH,EAAG2d,EAAGhC,EAAOgtG,EAAW,EAAGC,EAAWx/F,KAC3D,MAAM+7F,GAAWxnG,EAAI3d,GAAK2b,EACpBgqG,EAAQhmH,KAAK4D,MAAM5D,KAAKspH,MAAM9D,IAC9B1vC,EAAO91E,KAAKs5F,IAAI,GAAI0sB,GACpBnrH,EAAIwuH,GACLp6G,KAAKs6G,IACN,MAAM5uH,EAAI4uH,EAAazzC,EACjBl7E,EAAIoF,KAAK2D,MAAMqa,EAAI3d,GAAK1F,GACxB6uH,EAAiB5uH,GAAKouH,GAAYpuH,GAAKquH,EACvCQ,EAAYzpH,KAAKw9E,IAAI5iF,EAAIohB,GAC/B,MAAO,CAAEutG,aAAYC,iBAAgBC,YAAW,IAE/CjgG,MAAK,CAACnpB,EAAG2d,IACN3d,EAAEmpH,iBAAmBxrG,EAAEwrG,eAChBnpH,EAAEmpH,gBAAkB,EAAI,EAE5BnpH,EAAEopH,UAAYzrG,EAAEyrG,YACxB,GAAGF,WACN,OAAK1uH,GAAKogB,MAAMpgB,GACLsgB,IAEJtgB,EAAIi7E,CACf,CACO,SAAS4zC,GAAiBrpH,EAAG2d,GAChC,MAAMgoG,EAAQhmH,KAAK4D,MAAM5D,KAAKspH,MAAMtrG,EAAI3d,IAClCy1E,EAAO91E,KAAKs5F,IAAI,GAAI0sB,GAC1B,OAAOqD,GACFp6G,KAAKs6G,IACN,MAAM5uH,EAAI4uH,EAAazzC,EACjBn6D,EAAQ3b,KAAK4D,MAAMvD,EAAI1F,GAAKA,EAC5BihB,EAAM5b,KAAK2D,KAAKqa,EAAIrjB,GAAKA,EACzBnD,EAAQ,GAAKwmB,EAAI3d,IAAMub,EAAMD,GAC7B2sF,EAAS,CAAC3sF,EAAOC,GACvB,MAAO,CAAEpkB,QAAO8wG,SAAQ,IAEvB9+E,MAAK,CAACnpB,EAAG2d,IAAM3d,EAAE7I,MAAQwmB,EAAExmB,QAAO,GAAG8wG,MAC9C,CACO,MAAM6gB,WAAqBlnH,MAC9BpB,YAAYw4F,EAAgBnlC,GAExB,GADAtvC,QACIsvC,EACA,IAAK,IAAIh7D,EAAI,EAAG6K,EAAImwD,EAASt9D,OAAQsC,EAAI6K,EAAG7K,IACxC5D,KAAK4D,GAAKg7D,EAASh7D,GAG3B5D,KAAK+jG,eAAiBA,CAC1B,EAEG,SAAS59E,GAAME,EAAOnR,EAAMsrE,GAC/B,MAAM6zC,EAAeC,IACjB,IAAIh7G,EAAIqb,EACR,MAAMmrE,EAAQw0B,EAAM9sH,MAAM,KAC1B,OAAOkD,KAAK0G,KAA6F,QAAvFujB,EAAuC,QAAjCrb,EAAKwmF,EAAM,GAAGt4F,MAAM,KAAK,UAAuB,IAAP8R,OAAgB,EAASA,EAAGhY,cAA2B,IAAPqzB,EAAgBA,EAAK,GAAK/b,OAAOknF,EAAM,IAAK,EAAE,EAE7Jy0B,EAAmBF,GAAa7zC,EAAO,GAAGg0C,iBAC1C7wH,EAAI+G,KAAKs5F,IAAI,GAAIuwB,GACjB9lH,EAAI/D,KAAK2D,MAAM6G,EAAOmR,GAASm6D,GAC/B9nE,EAAS,IAAIm7G,GAAaU,GAChC,IAAK,IAAI3wH,EAAI,EAAGA,GAAK6K,EAAG7K,IAAK,CACzB,MAAMxC,EAAQilB,EAAQm6D,EAAO58E,EAC7B8U,EAAO/I,KAAKjF,KAAK86E,MAAMpkF,EAAQuC,GAAKA,EACxC,CACA,OAAO+U,CACX,CC5EA,MAAM+7G,GAAY,CACdC,QAAS,CAAC,KAAM,MAChBC,KAAM,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YACzEC,UAAW,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACtDC,OAAQ,CACJ,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAEJC,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,QAE/F,SAASC,GAAU50C,EAAM60C,EAAc,IAAI5pG,KAAK+0D,EAAKU,cAAe,EAAG,IACnE,MAAM5Y,EAAckY,EAAKkB,oBAAsB2zC,EAAY3zC,oBACrD4zC,EAAW90C,EAAKp3D,UAAYisG,EAAYjsG,UAA0B,IAAdk/C,EACpDitD,EAAa,MACnB,OAAOxqH,KAAK4D,MAAM2mH,EAAWC,EACjC,CACA,SAASC,GAAWh1C,EAAMi1C,GACtB,MAAMJ,EAAc,IAAI5pG,KAAK+0D,EAAKU,cAAe,EAAG,GAC9Cw0C,EAAiBL,EAAYM,SAC7BC,GAAwBH,EAAWC,EAAiB,GAAK,EACzDptD,EAAc,IAAI78C,KAAK+0D,EAAKU,cAAe,EAAG00C,EAAuB,GAC3E,OAAIttD,GAAekY,EACRz1E,KAAK4D,MAAMymH,GAAU50C,EAAMlY,GAAe,GAAK,EAGnD,CACX,CACA,MAAMutD,GAAS,EACTC,GAAS,EACTC,GAAW,EACjB,SAASC,GAAcx1C,EAAMgC,EAAOhC,EAAKU,eACrC,MAAM+0C,EAAc,IAAIxqG,KAAK+2D,EAAM,EAAG,GAChC0zC,EAAiBD,EAAYN,SAC7BQ,GAAuBJ,GAAWG,EAAiB,GAAK,EACxD5tD,EAAc,IAAI78C,KAAK+2D,EAAM,EAAG2zC,GAAuBJ,GAAWD,IAAU,GAClF,OAAIxtD,GAAekY,EACRz1E,KAAK4D,MAAMymH,GAAU50C,EAAMlY,GAAe,GAAK,EAGnD0tD,GAAcx1C,EAAMgC,EAAO,EACtC,CACA,SAAS4zC,GAAS51C,GACd,MAAMriB,EAASqiB,EAAKkB,oBACd20C,EAAiBtrH,KAAKw9E,IAAIpqB,GAC1B2pD,EAAO3pD,EAAS,EAAI,IAAM,IAChC,MAAQ,GAAE2pD,IAAOzgG,GAAItc,KAAK4D,MAAM0nH,EAAiB,IAAK,EAAG,OAAOhvG,GAAItc,KAAK4D,MAAM0nH,EAAiB,IAAK,EAAG,MAC5G,CACA,MAAMC,GAAa,CACflrH,EAAIokB,GAAMslG,GAAUG,UAAUzlG,EAAEmmG,UAChCvsC,EAAI55D,GAAMslG,GAAUE,KAAKxlG,EAAEmmG,UAC3B5sG,EAAIyG,GAAMslG,GAAUK,YAAY3lG,EAAEwyD,YAClCqH,EAAI75D,GAAMslG,GAAUI,OAAO1lG,EAAEwyD,YAC7Br8E,EAAG,SACH6pB,EAAGA,CAACA,EAAGlE,IAAMjE,GAAImI,EAAEyyD,UAAW,EAAS,OAAN32D,QAAoB,IAANA,EAAeA,EAAI,KAClEI,EAAG,MACH1nB,EAAGA,CAACwrB,EAAGlE,IAAMjE,GAA0B,IAAtBmI,EAAE+mG,kBAA0B,EAAS,OAANjrG,QAAoB,IAANA,EAAeA,EAAI,KACjFm5E,EAAGA,CAACj1E,EAAGlE,IAAMjE,GAAImI,EAAEgnG,WAAY,EAAS,OAANlrG,QAAoB,IAANA,EAAeA,EAAI,KACnEmrG,EAAGA,CAACjnG,EAAGlE,KACH,MAAMorG,EAAQlnG,EAAEgnG,WAAa,GAC7B,OAAiB,IAAVE,EAAc,KAAOrvG,GAAIqvG,EAAO,EAAS,OAANprG,QAAoB,IAANA,EAAeA,EAAI,IAAI,EAEnFtE,EAAGA,CAACwI,EAAGlE,IAAMjE,GAAI+tG,GAAU5lG,GAAK,EAAG,EAAS,OAANlE,QAAoB,IAANA,EAAeA,EAAI,KACvE1lB,EAAGA,CAAC4pB,EAAGlE,IAAMjE,GAAImI,EAAEwyD,WAAa,EAAG,EAAS,OAAN12D,QAAoB,IAANA,EAAeA,EAAI,KACvEqrG,EAAGA,CAACnnG,EAAGlE,IAAMjE,GAAImI,EAAEonG,aAAc,EAAS,OAANtrG,QAAoB,IAANA,EAAeA,EAAI,KACrEurG,EAAGA,CAACrnG,EAAGlE,IAAMjE,GAAImI,EAAE+mG,kBAAmB,EAAS,OAANjrG,QAAoB,IAANA,EAAeA,EAAI,KAC1EA,EAAIkE,GAAOA,EAAEgnG,WAAa,GAAK,KAAO,KACtC7O,EAAIn4F,GAAM5uB,OAAO4uB,EAAEpG,WACnB1jB,EAAI8pB,GAAM5uB,OAAOmK,KAAK4D,MAAM6gB,EAAEpG,UAAY,MAC1Co7E,EAAGA,CAACh1E,EAAGlE,IAAMjE,GAAImI,EAAEsnG,aAAc,EAAS,OAANxrG,QAAoB,IAANA,EAAeA,EAAI,KACrEo0B,EAAIlwB,IACA,IAAI4yD,EAAM5yD,EAAEmmG,SAGZ,OAFIvzC,EAAM,IACNA,GAAO,GACJxhF,OAAOwhF,EAAM,EAAE,EAE1B20C,EAAGA,CAACvnG,EAAGlE,IAAMjE,GAAImuG,GAAWhmG,EAAGqmG,IAAS,EAAS,OAANvqG,QAAoB,IAANA,EAAeA,EAAI,KAC5E3gB,EAAGA,CAAC6kB,EAAGlE,IAAMjE,GAAI2uG,GAAcxmG,GAAI,EAAS,OAANlE,QAAoB,IAANA,EAAeA,EAAI,KACvEjV,EAAGA,CAACmZ,EAAGlE,IAAMjE,GAAImI,EAAEmmG,SAAU,EAAS,OAANrqG,QAAoB,IAANA,EAAeA,EAAI,KACjE0rG,EAAGA,CAACxnG,EAAGlE,IAAMjE,GAAImuG,GAAWhmG,EAAGsmG,IAAS,EAAS,OAANxqG,QAAoB,IAANA,EAAeA,EAAI,KAC5Ezc,EAAG,aACH4wG,EAAG,eACHx3B,EAAGA,CAACz4D,EAAGlE,IAAMjE,GAAImI,EAAE0xD,cAAgB,IAAK,EAAS,OAAN51D,QAAoB,IAANA,EAAeA,EAAI,KAC5Eo0F,EAAGA,CAAClwF,EAAGlE,IAAMjE,GAAImI,EAAE0xD,cAAe,EAAS,OAAN51D,QAAoB,IAANA,EAAeA,EAAI,KACtE2rG,EAAIznG,GAAM4mG,GAAS5mG,GACnB,IAAK0nG,IAAM,KAETC,GAAO,CACT/xG,EAAG,IACH,EAAK,IACL,IAAK,IAET,SAASiC,GAAI5lB,EAAOub,EAAMo6G,GACtB,MAAMC,EAASz2H,OAAOmK,KAAK4D,MAAMlN,IACjC,OAAI41H,EAAO11H,QAAUqb,EACVq6G,EAEH,GAAED,EAAQlwG,OAAOlK,EAAOq6G,EAAO11H,UAAU01H,GACrD,CACO,SAASC,GAAeC,GAC3B,MAAMC,EAAc,GACpB,MAAOD,EAAa51H,OAAS,EAAG,CAC5B,IAAI81H,EAAgBF,EAAaz1H,QAAQ,KACzC,GAAsB,IAAlB21H,EAAqB,CACrB,MAAMC,EAAcD,EAAgB,EAAIF,EAAal3B,UAAU,EAAGo3B,GAAiBF,EACnFC,EAAYxnH,KAAK0nH,EACrB,CACA,GAAID,EAAgB,EAChB,MACJ,MAAME,EAAoBJ,EAAaE,EAAgB,GACjDG,EAAWT,GAAKQ,GACN,MAAZC,GACAH,IAEJ,MAAMI,EAA0BN,EAAaE,EAAgB,GACvDK,EAAiBxB,GAAWuB,GAClC,GAA8B,oBAAnBC,EACPN,EAAYxnH,KAAK,CAAC8nH,EAAgBF,SAEjC,GAA8B,kBAAnBE,EAA6B,CACzC,MAAMC,EAAYT,GAAeQ,GACjCN,EAAYxnH,KAAK,CAAC+nH,EAAWH,GACjC,MAEIJ,EAAYxnH,KAAM,GAAe,OAAb4nH,QAAkC,IAAbA,EAAsBA,EAAW,KAAKC,KAEnFN,EAAeA,EAAal3B,UAAUo3B,EAAgB,EAC1D,CACA,OAAQO,IACJ,MAAMC,EAAqC,kBAAbD,EAAwB,IAAIvsG,KAAKusG,GAAYA,EAC3E,OAAOR,EAAYx9G,KAAKrU,GAAoB,kBAANA,EAAiBA,EAAIA,EAAE,GAAGsyH,EAAgBtyH,EAAE,MAAMyI,KAAK,GAAG,CAExG,CChIA,IAAI8pH,IACJ,SAAWA,GACPA,EAAmBA,EAAmB,eAAiB,GAAK,cAC5DA,EAAmBA,EAAmB,UAAY,GAAK,SACvDA,EAAmBA,EAAmB,UAAY,GAAK,SACvDA,EAAmBA,EAAmB,QAAU,GAAK,OACrDA,EAAmBA,EAAmB,YAAc,GAAK,WACzDA,EAAmBA,EAAmB,eAAiB,GAAK,cAC5DA,EAAmBA,EAAmB,SAAW,GAAK,QACtDA,EAAmBA,EAAmB,cAAgB,GAAK,aAC3DA,EAAmBA,EAAmB,QAAU,GAAK,MACxD,EAVD,CAUGA,KAAuBA,GAAqB,CAAC,IAChD,MAAMC,GAAgB,CAClB,CAACD,GAAmBE,aAAc,MAClC,CAACF,GAAmBG,QAAS,MAC7B,CAACH,GAAmBI,QAAS,QAC7B,CAACJ,GAAmBK,MAAO,QAC3B,CAACL,GAAmBM,UAAW,KAC/B,CAACN,GAAmBO,aAAc,QAClC,CAACP,GAAmBQ,OAAQ,KAC5B,CAACR,GAAmBS,YAAa,KACjC,CAACT,GAAmBU,MAAO,MAE/B,SAAS3yG,GAASpX,GACd,OAAOA,aAAa4c,KAAO5c,EAAEua,UAAYva,CAC7C,CACO,MAAMgqH,WAAkBjG,GAC3BhnH,cACI+jB,MAAM,CAAC,IAAIlE,KAAK,KAAM,GAAI,GAAI,IAAIA,KAAK,KAAM,GAAI,IAAK,CAAC,EAAG,IAC1DprB,KAAKuM,KAAO,OACZvM,KAAKivH,WAAa,CACd,SACA,QACA,OACA,YACA,WACA,eACA,gBAEJjvH,KAAKmiF,KAAOs2C,EACZz4H,KAAKoiF,MAAQs2C,EACb14H,KAAK24H,KAAOC,EACZ54H,KAAK+hF,IAAM82C,EACX74H,KAAKwhF,KAAOs3C,EACZ94H,KAAKuhF,OAASw3C,EACd/4H,KAAKshF,OAAS03C,EACdh5H,KAAK4gF,YAAcq4C,EAUnBj5H,KAAKk5H,cAAgB,CACjB,CAACl5H,KAAKshF,OAAQ,EAAGR,GACjB,CAAC9gF,KAAKshF,OAAQ,EAAG,EAAIR,GACrB,CAAC9gF,KAAKshF,OAAQ,GAAI,GAAKR,GACvB,CAAC9gF,KAAKshF,OAAQ,GAAI,GAAKR,GACvB,CAAC9gF,KAAKuhF,OAAQ,EAAGR,GACjB,CAAC/gF,KAAKuhF,OAAQ,EAAG,EAAIR,GACrB,CAAC/gF,KAAKuhF,OAAQ,GAAI,GAAKR,GACvB,CAAC/gF,KAAKuhF,OAAQ,GAAI,GAAKR,GACvB,CAAC/gF,KAAKwhF,KAAM,EAAGR,GACf,CAAChhF,KAAKwhF,KAAM,EAAG,EAAIR,GACnB,CAAChhF,KAAKwhF,KAAM,EAAG,EAAIR,GACnB,CAAChhF,KAAKwhF,KAAM,GAAI,GAAKR,GACrB,CAAChhF,KAAK+hF,IAAK,EAAGd,GACd,CAACjhF,KAAK+hF,IAAK,EAAG,EAAId,GAClB,CAACjhF,KAAK24H,KAAM,EAAGz3C,GACf,CAAClhF,KAAK24H,KAAM,EAAG,EAAIz3C,GACnB,CAAClhF,KAAK24H,KAAM,EAAG,EAAIz3C,GACnB,CAAClhF,KAAKoiF,MAAO,EAAGjB,GAChB,CAACnhF,KAAKoiF,MAAO,EAAG,EAAIjB,GACpB,CAACnhF,KAAKoiF,MAAO,EAAG,EAAIjB,GACpB,CAACnhF,KAAKoiF,MAAO,EAAG,EAAIjB,GACpB,CAACnhF,KAAKoiF,MAAO,EAAG,EAAIjB,GACpB,CAACnhF,KAAKmiF,KAAM,EAAGf,GAEvB,CACAmyC,SAASpkG,GACL,OAAO,IAAI/D,KAAK+D,EACpB,CACAgqG,2BAA2BzJ,EAAQ,IAC/B,IAAI0J,EAAoBvB,GAAmBU,KAC3C,MAAMc,EAAgBC,IACdA,EAASF,IACTA,EAAoBE,EACxB,EAEJ,IAAK,MAAMl4H,KAASsuH,EAAO,CACvB,MAAM4J,EAASt5H,KAAKu5H,2BAA2Bn4H,GAC/Ci4H,EAAaC,EACjB,CACA,MAAME,EAAY5zG,GAAS8pG,EAAM,IAC3B+J,EAAW7zG,GAAS8pG,EAAMA,EAAMpuH,OAAS,IACzCo4H,EAAY,IAAItuG,KAAKouG,GAAW34C,cAChC84C,EAAW,IAAIvuG,KAAKquG,GAAU54C,cAC9B+4C,EAAaD,EAAWD,EAAY,EAC1C,OAAO15H,KAAK65H,kBAAkBT,EAAmBQ,EACrD,CACAC,kBAAkBT,EAAmBQ,GACjC,IAAIE,EAAoB,CAAChC,GAAcsB,IACnCW,EAAe,EACnB,MAAM/mB,EAAShzG,KAAKk0G,YACd7tF,EAAQ3b,KAAK2G,OAAO2hG,EAAOr5F,IAAIiM,KAC/B1Q,EAAOxK,KAAK0G,OAAO4hG,EAAOr5F,IAAIiM,KAC9BytF,EAASn+F,EAAOmR,EACtB,OAAQ+yG,GACJ,KAAKvB,GAAmBG,OAChB3kB,EAAStyB,EAAiB,GAC1B+4C,EAAkBnqH,KAAKmoH,GAAcD,GAAmBI,SAGhE,KAAKJ,GAAmBI,OAChB5kB,EAASryB,EAAe,GACxB84C,EAAkBnqH,KAAKmoH,GAAcD,GAAmBK,OAGhE,KAAKL,GAAmBK,KACpB6B,EAAeD,EAAkBx4H,OAC7B+xG,EAASpyB,EAAc,GACvB64C,EAAkBnqH,KAAKmoH,GAAcD,GAAmBM,WAGhE,KAAKN,GAAmBM,SACpB,GAAI9kB,EAASnyB,EAAe,GAAK04C,EAAY,CAEzC,MAAMI,EAAeF,EAAkBr4H,QAAQq2H,GAAcD,GAAmBM,WAC5E6B,GAAgB,GAChBF,EAAkBl2G,OAAOo2G,EAAc,EAAGlC,GAAcD,GAAmBO,aAEnF,CAEJ,KAAKP,GAAmBO,YACxB,KAAKP,GAAmBQ,OAChBhlB,EAASjyB,EAAe,GAAKw4C,IAC7BE,EAAkBnqH,KAAKmoH,GAAcD,GAAmBU,OAGhE,QACI,MAqBR,OAnBIwB,EAAeD,EAAkBx4H,SAEjCw4H,EAAoB,IACbA,EAAkBx3H,MAAM,EAAGy3H,GAC9BD,EAAkBx3H,MAAMy3H,GAAchsH,KAAK,OAG/CgsH,EAAe,IAGfD,EAAoB,IACbA,EAAkBx3H,MAAM,EAAGy3H,GAAcE,aACzCH,EAAkBx3H,MAAMy3H,IAE3BA,EAAeD,EAAkBx4H,QAEjCw4H,EAAkBl2G,OAAOm2G,EAAc,EAAG,MAG3CD,EAAkB/rH,KAAK,GAClC,CACAwrH,2BAA2Bn4H,GACvB,OAAIpB,KAAKshF,OAAOhzE,MAAMlN,GAASA,EACpBy2H,GAAmBE,YAErB/3H,KAAKuhF,OAAOjzE,MAAMlN,GAASA,EACzBy2H,GAAmBG,OAErBh4H,KAAKwhF,KAAKlzE,MAAMlN,GAASA,EACvBy2H,GAAmBI,OAErBj4H,KAAK+hF,IAAIzzE,MAAMlN,GAASA,EACtBy2H,GAAmBK,KAErBl4H,KAAKoiF,MAAM9zE,MAAMlN,GAASA,EAC3BpB,KAAK24H,KAAKrqH,MAAMlN,GAASA,EAClBy2H,GAAmBM,SAEvBN,GAAmBO,YAErBp4H,KAAKmiF,KAAK7zE,MAAMlN,GAASA,EACvBy2H,GAAmBQ,MAEvBR,GAAmBU,IAC9B,CACA2B,kBAAkBxK,GACd,MAAMwH,EAAel3H,KAAKm5H,2BAA2BzJ,GACrD,OAAQvvC,GAAS82C,GAAeC,EAAfD,CAA6B92C,EAClD,CAOAg6C,iBAAgB,MAAE9zG,EAAK,KAAEnR,EAAI,MAAEwR,EAAK,SAAEgtG,EAAQ,SAAEC,IAC5C,MAAM,cAAEuF,GAAkBl5H,KAC1B,IAAIo6H,EACA55C,EACJ,MAAMiyC,EAAsB,OAAV/rG,QAA4B,IAAVA,EAAmBA,EAAQ6rG,GAAgBG,iBACzEnvH,EAASmH,KAAKw9E,IAAIhzE,EAAOmR,GAAS3b,KAAK0G,IAAIqhH,EAAW,GAC5D,IAAI7uH,EAAI,EACR,MAAOA,EAAIs1H,EAAc53H,QAAUiC,EAAS21H,EAAct1H,GAAG,GACzDA,IAEJ,GAAU,IAANA,EACA48E,EAAO91E,KAAK0G,IAAIwiH,GAASvtG,EAAOnR,EAAMu9G,EAAWiB,EAAUC,GAAW,GACtEyG,EAAwBp6H,KAAK4gF,iBAE5B,GAAIh9E,IAAMs1H,EAAc53H,OAAQ,CACjC,MAAM+oH,EAAKhkG,EAAQ+6D,EACbkoC,EAAKp0G,EAAOksE,EAClBZ,EAAOozC,GAASvJ,EAAIf,EAAImJ,EAAWiB,EAAUC,GAC7CyG,EAAwBp6H,KAAKmiF,IACjC,KACK,CACD,MAAMk4C,EAAQ92H,EAAS21H,EAAct1H,EAAI,GAAG,GACtC02H,EAAQpB,EAAct1H,GAAG,GAAKL,EAC9BhC,EAAQ84H,EAAQC,EAAQ12H,EAAI,EAAIA,GACrCw2H,EAAuB55C,GAAQ04C,EAAc33H,EAClD,CACA,OAAO64H,EAAsBr1F,MAAMy7C,EACvC,CACAovC,OAAOhoC,GACH,OAAO,IAAIx8D,KAAKkE,MAAMsgG,OAAOhoC,GACjC,CAIA8nC,QACI,IAAK1vH,KAAKgzG,QAAUhzG,KAAKgzG,OAAO1xG,OAAS,EACrC,MAAO,GAEXtB,KAAKyvH,UACL,MAAO8K,EAAIpT,GAAMnnH,KAAKk0G,YAAYv6F,IAAIiM,IACtC,QAAsB7jB,IAAlB/B,KAAK2gF,SACL,OAAO3gF,KAAKw6H,oBAAoB,CAAEn0G,MAAOk0G,EAAIrlH,KAAMiyG,IAEvD,GAAInnH,KAAKwyH,KAAM,CACX,MAAM,UAAEC,GAAczyH,KACtB,GAAkB,IAAdyyH,EACA,OAAOzyH,KAAK6yH,WAEhB,GAAkB,IAAdJ,EACA,OAAOzyH,KAAK6yH,WAAWvwH,MAAM,EAAG,EAExC,CACA,OAAOtC,KAAKy6H,gBAAgB,CAAEp0G,MAAOk0G,EAAIrlH,KAAMiyG,GACnD,CACAsT,iBAAgB,MAAEp0G,EAAK,KAAEnR,IACrB,MAAM+hC,EAAIj3C,KAAKm6H,gBAAgB,CAC3B9zG,QACAnR,OACAwR,MAAO1mB,KAAKyyH,UACZiB,SAAU1zH,KAAK2yH,aACfgB,SAAU3zH,KAAK4yH,eAEnB,OAAO37E,EAAIA,EAAE9wB,MAAM,IAAIiF,KAAK/E,GAAQ,IAAI+E,KAAKlW,IAAS,EAC1D,CACAslH,qBAAoB,MAAEn0G,EAAK,KAAEnR,IACzB,MAAM,SAAEyrE,EAAQ,cAAEu4C,GAAkBl5H,KACpC,IAAK2gF,EACD,MAAO,GAEX,GAAIA,aAAoBf,EAAc,CAClC,MAAM8vC,EAAQ/uC,EAASx6D,MAAM,IAAIiF,KAAK/E,GAAQ,IAAI+E,KAAKlW,IACvD,OAAIlV,KAAKwzH,gBAAgB,CAAEntG,QAAOnR,OAAMyrE,WAAUj6D,MAAOgpG,EAAMpuH,SACpDtB,KAAKy6H,gBAAgB,CAAEp0G,QAAOnR,SAElCw6G,CACX,CACA,MAAMgL,EAAchwH,KAAKw9E,IAAIvH,GAC7B,GAAI3gF,KAAKwzH,gBAAgB,CAAEntG,QAAOnR,OAAMyrE,SAAU+5C,IAC9C,OAAO16H,KAAKy6H,gBAAgB,CAAEp0G,QAAOnR,SAEzC,MAAMylH,EAAmB,IAAIzB,GAC7ByB,EAAiBV,UACjB,MAAMW,EAAeD,EAAiB1zD,MAAM4zD,GAAiBH,EAAcG,EAAa,KAAO,IAC/F,GAAID,EAAc,CACd,MAAMh3H,EAAIg3H,EAAa,GAAG71F,MAAM21F,GAAeE,EAAa,GAAKA,EAAa,KAC9E,OAAOh3H,EAAEuiB,MAAM,IAAIiF,KAAK/E,GAAQ,IAAI+E,KAAKlW,GAC7C,CACA,IAAIirE,EAAO,IAAI/0D,KAAK/E,GACpB,MAAMy0G,EAAW,IAAI1vG,KAAKlW,GACpBw6G,EAAQ,GACd,MAAOvvC,GAAQ26C,EACXpL,EAAM//G,KAAKwwE,GACXA,EAAO,IAAI/0D,KAAK+0D,GAChBA,EAAK46C,gBAAgB56C,EAAK+1C,kBAAoBwE,GAElD,OAAOhL,CACX,CAOAsL,YAAW,MAAEtL,EAAK,UAAEuL,IAChB,YAAoBl5H,GAAbk5H,EAAyBj7H,KAAKk6H,kBAAkBxK,GAASuH,GAAegE,EACnF,CACAvqG,UACS1wB,KAAKgzG,QAAUhzG,KAAKgzG,OAAO1xG,OAAS,GAGrCtB,KAAKwyH,MACLxyH,KAAKk7H,kBAEb,CAKAA,mBACI,MAAMC,EAAc,EACpB,IAAKjI,EAAIC,GAAMnzH,KAAKgzG,OACpB,IAAK,IAAIpvG,EAAI,EAAGA,EAAIu3H,EAAav3H,IAAK,CAClC5D,KAAKo7H,0BAA0BlI,EAAIC,GACnC,MAAOkI,EAAInhG,GAAMl6B,KAAK6yH,WACtB,GAAIjtG,GAASstG,KAAQttG,GAASy1G,IAAOz1G,GAASutG,KAAQvtG,GAASsU,GAC3D,MAEJg5F,EAAKmI,EACLlI,EAAKj5F,CACT,CACJ,CACAkhG,0BAA0BlI,EAAIC,GAC1B,MAAM9sG,EAAQT,GAASstG,GACjBh+G,EAAO0Q,GAASutG,IAChB,SAAExyC,GAAa3gF,KACrB,IAAI4D,EACJ,GAAI+8E,aAAoBf,EACpBh8E,EAAI+8E,MAEH,CACD,MAAM8xC,EAAgC,kBAAb9xC,GAAyBzrE,EAAOmR,GAAS3b,KAAK0G,IAAIuvE,EAAU,GAAK3gF,KAAKyyH,UAC/F7uH,EAAI5D,KAAKm6H,gBAAgB,CACrB9zG,QACAnR,OACAwR,MAAO+rG,EACPiB,SAAU1zH,KAAK2yH,aACfgB,SAAU3zH,KAAK4yH,cAEvB,CACA,GAAIhvH,EAAG,CACH,MAAM03H,EAAgB13H,EAAEuiB,MAAM+sG,EAAIC,GAAI,GAChCkI,EAAKC,EAAc,GACnBphG,EAAKohG,EAAcA,EAAch6H,OAAS,GAChDtB,KAAK6yH,WAAa,CAACwI,EAAInhG,EAC3B,CACJ,EChXJ,MAAM64D,GAAShtC,GAAa,IAAGA,KACzBw1E,GAAiBx1E,GAAa,GAAEgtC,GAAMhtC,MACtCy1E,GAAqBz1E,GAAYw1E,GAAe,KAAIx1E,KACpD01E,GAAc,MAChB,MAAMj7F,EAAO,IACPi7D,EAAQ,SACRgsB,EAAO,WACPx2G,EAAS,YACTyqH,EAAO,IACPz4C,EAAQ,OACRxT,EAAQ,IACRksD,EAAY,OACZC,EAAQ,IACRrvH,EAAO,SACb,OAAO,IAAIw7B,OAAO,CACd,IACAyzF,GAAmB,GAAED,GAAc/6F,KAAQuyD,GAAM0I,MACjD8/B,GAAc9T,GACd8T,GAActqH,GACdsqH,GAAcG,GACdH,GAAct4C,GACds4C,GAAc9rD,GACd+rD,GAAmB,MAAKzoC,GAAM4oC,MAC9BJ,GAAcK,GACdL,GAAchvH,GACd,KACFwB,KAAK,IAAK,IACf,EAxBmB,GAyBd8tH,GAAkB,MACpB,MAAMthD,EAAS,MACTx0B,EAAU,MACV+1E,EAAS,MACf,OAAO,IAAI/zF,OAAO,CAAC,IAAKgrD,GAAMxY,GAAU,OAAMwY,GAAMhtC,QAAegtC,GAAM+oC,GAAS,KAAK/tH,KAAK,IAC/F,EALuB,GAMxB,SAASguH,GAAerE,GACpB,IAAIn9C,EACAuhD,EACJ,MAAME,EAAaH,GAAgBzyH,KAAKsuH,GACpCsE,KACC,CAAEzhD,EAAQm9C,EAAWoE,GAAUE,GAEpC,MAAM90H,EAAQu0H,GAAYryH,KAAKsuH,GAC/B,IAAKxwH,EACD,MAAM,IAAIQ,MAAO,oCAAmCgwH,KAExD,MAAO,CAAEl3F,EAAMi7D,EAAOgsB,EAAMx2G,EAAQyqH,EAAMz4C,EAAOxT,EAAOksD,EAAWl0G,EAAMlb,GAAQrF,EACjF,MAAO,CACHs5B,OACAi7D,QACAgsB,OACAx2G,SACAyqH,OACAz4C,MAAO1+D,SAAS0+D,GAChBxT,QACAksD,UAAWp3G,SAASo3G,GACpBl0G,KAAM8a,QAAQ9a,GACdlb,OACAguE,SACAuhD,SAER,CACO,SAASxC,GAAO5B,GACnB,MAAMtzH,EAA+B,kBAAdszH,EAAyBqE,GAAerE,GAAaA,GACtE,KAAEl3F,EAAI,MAAEi7D,EAAK,KAAEgsB,EAAO,IAAG,OAAEx2G,EAAM,KAAEyqH,EAAI,MAAEz4C,EAAK,MAAExT,EAAK,KAAEljE,EAAI,OAAEguE,EAAS,GAAE,OAAEuhD,EAAS,IAAO13H,EAChG,IACI63H,GADA,UAAEN,EAAS,KAAEl0G,GAASrjB,EAE1B,GAAKmI,EAIA,GAAIA,KAAQ2vH,IAAgB3vH,KAAQ4vH,GACrCF,EAAat2G,MAAMg2G,GAAaQ,GAAa5vH,GAAQ2vH,GAAa3vH,QAEjE,GAAIA,KAAQ2vH,GACbD,EAAaC,GAAa3vH,OAEzB,MAAIA,KAAQ4vH,IAIb,MAAM,IAAIz0H,MAAO,yCAAwC6E,KAHzD0vH,EAAaE,GAAa5vH,EAI9B,MAdI0vH,EAAaC,GAAa,KAC1Bz0G,GAAO,EAiBX,OAHI9B,MAAMg2G,KACNA,EAAYpvH,EAAO,EAAI,IAEnBkC,IACJ,IAAIxL,EAASg5H,EAAWxtH,EAAGktH,GAwB3B,OAvBIl0G,IACAxkB,EAASm5H,GAAoBn5H,IAE7BwsE,IACAxsE,EAASo5H,GAAgBp5H,EAAQwsE,IAErCxsE,EAASq5H,GAAQ7tH,EAAGxL,EAAQwkH,GACxBx2G,GAAqB,MAAXA,IACVhO,EAAU,GAAEgO,IAAShO,KAEV,MAAXgO,GAA2B,MAAT1E,IAClBtJ,EAAU,KAAIA,KAEL,MAATsJ,IACAtJ,EAAU,GAAEA,IAASs5H,GAAY9tH,MAExB,MAATlC,GAAyB,MAATA,IAChBtJ,EAAU,GAAEA,MAEX0iB,MAAMs9D,KACPhgF,EAASu5H,GAAWv5H,EAAQggF,EAAgB,OAATziD,QAA0B,IAATA,EAAkBA,EAAOk7F,EAAMjgC,IAEvFx4F,EAAU,GAAEs3E,IAASt3E,IAAS64H,IACvB74H,CAAM,CAErB,CACA,MAAMw5H,GAAYhuH,GAAM/D,KAAK4D,MAAM5D,KAAKw9E,IAAIz5E,IACtC0tH,GAAe,CACjBzzG,EAAIja,GAAMguH,GAAShuH,GAAGrM,SAAS,GAC/BkD,EAAImJ,GAAMlO,OAAOm8H,aAAajuH,GAC9B0gB,EAAI1gB,GAAM/D,KAAK86E,MAAM96E,KAAKw9E,IAAIz5E,IAAI+hH,QAAQ,GAC1CxlG,EAAIvc,GAAMguH,GAAShuH,GAAGrM,SAAS,GAC/BoM,EAAIC,GAAMguH,GAAShuH,GAAGrM,SAAS,IAC/Bg9G,EAAI3wG,GAAM0tH,GAAa3tH,EAAEC,GAAGuW,cAC5BvW,EAAIA,GAAM0tH,GAAahtG,EAAE1gB,GACzB,IAAMA,GAAO,GAAEguH,GAAa,IAAJhuH,GAAS+hH,QAAQ,MAEvC0L,GAAe,CACjB7wG,EAAGA,CAAC5c,EAAG9K,IAAM+G,KAAKw9E,IAAIz5E,GAAG+lH,cAAc7wH,GACvCg5H,EAAGA,CAACluH,EAAG9K,IAAMu4H,GAAa7wG,EAAE5c,EAAG9K,GAAGqhB,cAClCrhB,EAAGA,CAAC8K,EAAG9K,IAAM+G,KAAKw9E,IAAIz5E,GAAG+hH,QAAQ7sH,GACjCi5H,EAAGA,CAACnuH,EAAG9K,IAAMu4H,GAAav4H,EAAE8K,EAAG9K,GAAGqhB,cAClCna,EAAGA,CAAC4D,EAAG9K,KACH,GAAU,IAAN8K,EACA,MAAO,IAEX,MAAM1D,EAAIL,KAAKw9E,IAAIz5E,GACbwc,EAAIvgB,KAAK4D,MAAM5D,KAAKspH,MAAMjpH,IAChC,OAAIkgB,IAAM,GAAKA,EAAItnB,EACRoH,EAAEylH,QAAQ7sH,EAAI,EAAIsnB,GAEtBlgB,EAAEypH,cAAc7wH,EAAI,EAAE,EAEjCk5H,EAAGA,CAACpuH,EAAG9K,IAAMu4H,GAAarxH,EAAE4D,EAAG9K,GAAGqhB,cAClCvW,EAAGA,CAACA,EAAG9K,IAAMu4H,GAAarxH,EAAE4D,EAAG9K,GAC/BsnB,EAAGA,CAACxc,EAAG9K,IAAMu4H,GAAa/7G,EAAM,IAAJ1R,EAAS9K,GACrCwc,EAAGA,CAAC1R,EAAG9K,KACH,GAAU,IAAN8K,EACA,MAAO,IAEX,MAAM1D,EAAIL,KAAKw9E,IAAIz5E,GACbwc,EAAIvgB,KAAK4D,MAAM5D,KAAKspH,MAAMjpH,IAC1By5F,EAAIv5E,GAAKtnB,EAAI,GACnB,GAAI6gG,GAAK,EACL,OAAOz5F,EAAEylH,SAAShsB,GAEtB,MAAMh2F,EAAI9D,KAAKs5F,IAAI,GAAIQ,GACvB,OAAQ95F,KAAK86E,MAAMz6E,EAAIyD,GAAKA,GAAGgiH,SAAS,EAE5CnrH,EAAGA,CAACoJ,EAAG9K,KACH,MAAMsnB,EAAI6xG,GAAiBruH,GAC3B,OAAOytH,GAAa/7G,EAAE1R,EAAI/D,KAAKs5F,IAAI,GAAI/4E,GAAItnB,EAAE,EAEjD,IAAKkzH,CAACpoH,EAAG9K,IAAMu4H,GAAav4H,EAAM,IAAJ8K,EAAS9K,IAE3C,SAASy4H,GAAoBW,GACzB,OAAOA,EAAUp1H,QAAQ,QAAS,IAAIA,QAAQ,eAAgB,KAClE,CACA,SAAS00H,GAAgBU,EAAWC,GAChC,IAAIC,EAAWF,EAAUt7H,QAAQ,KAC7Bw7H,EAAW,IACXA,EAAWF,EAAUz7H,QAEzB,MAAM47H,EAAeH,EAAU/8B,UAAU,EAAGi9B,GAAUz1H,MAAM,IACtD21H,EAAiBJ,EAAU/8B,UAAUi9B,GAC3C,IAAK,IAAIr5H,EAAIs5H,EAAa57H,OAAS,EAAGsC,EAAI,EAAGA,GAAK,EAC9Cs5H,EAAat5G,OAAOhgB,EAAG,EAAGo5H,GAE9B,MAAQ,GAAEE,EAAanvH,KAAK,MAAMovH,GACtC,CACA,SAASZ,GAAY9tH,GACjB,OAAO2uH,GAAWN,GAAiBruH,GACvC,CACA,SAASquH,GAAiBruH,GACtB,MAAMiiH,EAAQhmH,KAAKspH,MAAMtpH,KAAKw9E,IAAIz5E,IAC5Bwc,EAA4B,EAAxBvgB,KAAK4D,MAAMoiH,EAAQ,GAC7B,OAAOhmH,KAAK0G,IAAIisH,GAAa3yH,KAAK2G,IAAIisH,GAAaryG,GACvD,CACA,MAAMoyG,IAAe,GACfC,GAAc,GACdF,GAAa,CACf,CAACC,IAAc,IACf,EAAE,IAAK,IACP,EAAE,IAAK,IACP,EAAE,IAAK,IACP,EAAE,IAAK,IACP,EAAE,GAAI,IACN,EAAE,GAAI,IACN,EAAE,GAAI,IACN,CAAC,GAAI,GACL,CAAC,GAAI,IACL,CAAC,GAAI,IACL,CAAC,GAAI,IACL,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAAC,IAAK,IACN,CAACC,IAAc,KAEbC,GAAY,IAClB,SAASjB,GAAQkB,EAAKT,EAAWU,EAAW,IACxC,GAAiB,MAAbA,EACA,OAAOD,GAAO,EAAIT,EAAa,IAAGA,KAEtC,MAAMW,EAAwB,MAAbD,EAAmB,IAAM,GAC1C,MAAQ,GAAED,GAAO,EAAIE,EAAWH,KAAYR,GAChD,CACA,SAASP,GAAWO,EAAW95C,EAAOziD,EAAO,IAAKi7D,EAAQ,KACtD,IAAIx4F,EAAS85H,EACb,GAAc,MAAVthC,GAAkBA,GAGjB,GAAc,MAAVA,EACLx4F,EAASA,EAAO06H,OAAO16C,EAAOziD,QAE7B,GAAc,MAAVi7D,EAAe,CACpB,MAAMmiC,EAAWlzH,KAAK0G,IAAI,EAAG6xE,EAAQhgF,EAAO3B,QACtCu8H,EAAUnzH,KAAK2D,KAAKuvH,EAAW,GAC/BE,EAAWpzH,KAAK4D,MAAMsvH,EAAW,GACvC36H,EAASA,EAAO86H,SAASF,EAAU56H,EAAO3B,OAAQk/B,GAClDv9B,EAASA,EAAO06H,OAAOG,EAAW76H,EAAO3B,OAAQk/B,EACrD,OAXIv9B,EAASA,EAAO86H,SAAS96C,EAAOziD,GAYpC,OAAOv9B,CACX,CACO,SAAS+3H,GAAWtL,EAAOgI,GAC9B,MAAMtzH,EAAU23H,GAA6B,OAAdrE,QAAoC,IAAdA,EAAuBA,EAAY,MACpF/xG,MAAMvhB,EAAQu3H,aACO,MAAjBv3H,EAAQmI,MAAiC,MAAjBnI,EAAQmI,KAChCnI,EAAQu3H,UAAYjxH,KAAK0G,OAAOs+G,EAAM/1G,KAAKnL,IACvC,GAAiB,kBAANA,GAAwB,IAANA,EACzB,OAAO,EAEX,MAAM4G,EAAI1K,KAAK4D,MAAM5D,KAAKspH,MAAMtpH,KAAKw9E,IAAI15E,KACnCwvH,EAAS55H,EAAQmI,KAAO,EAAI,GAC5Bs1D,EAAMrzD,EAAEgmH,cAAcwJ,EAAS,GAAGr2H,QAAQ,SAAU,KACpDs1H,EAAWp7D,EAAIpgE,QAAQ,KAC7B,GAAIw7H,EAAW,EACX,OAAO7nH,GAAK,EAAI,GAAKA,EAEzB,MAAM/P,EAAIw8D,EAAIpgE,QAAQ,KAAOw7H,EAC7B,OAAOvyH,KAAK0G,IAAI,EAAG/L,EAAI+P,EAAI,EAAE,KAG3BhR,EAAQmI,QAAQnI,EAAQmI,QAAQ2vH,MACtC93H,EAAQu3H,UAAYjxH,KAAK0G,OAAOs+G,EAAM/1G,KAAKnL,IACvC,GAAiB,kBAANA,EACP,OAAO,EAEX,MAAMqzD,EAAMrzD,EAAEgmH,eAAepwH,EAAQmI,KAAO,EAAI,IAAM,GAAG5E,QAAQ,SAAU,KAC3E,OAAOk6D,EAAIm+B,UAAU,EAAGn+B,EAAIpgE,QAAQ,MAAMkG,QAAQ,IAAK,IAAIrG,MAAM,OAI7E,MAAMqC,EAAI21H,GAAOl1H,GACjB,OAAQqK,GAAM9K,EAAEiV,OAAOnK,GAC3B,CCtQA,IAAIwgB,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAKA,MAAM0oE,GAAYr6E,GAAMA,EACjB,MAAMyvH,WAAiB1L,GAC1BhnH,cACI+jB,MAAM,CAAC,EAAG,IAAK,CAAC,EAAG,IACnBtvB,KAAKuM,KAAO,MACZvM,KAAK+tB,KAAO,GACZ/tB,KAAKivH,WAAa,CAAC,SAAU,QAAS,OAAQ,YAAa,QAC3DjvH,KAAKk+H,QAAUr1C,GACf7oF,KAAKm+H,QAAUt1C,GACf7oF,KAAK0xF,IAAOljF,GACDxO,KAAKgzG,OAAO,IAAM,EAAIhzG,KAAKk+H,QAAQ1vH,IAAMxO,KAAKk+H,SAAS1vH,GAElExO,KAAKgkG,IAAOx1F,GACDxO,KAAKgzG,OAAO,IAAM,EAAIhzG,KAAKm+H,QAAQ3vH,IAAMxO,KAAKm+H,SAAS3vH,EAEtE,CACA+kH,SAASpkG,GACL,OAAOA,CACX,CACA8lC,UAAUzmD,GACN,OAAOxO,KAAKgzG,OAAO,IAAM,EAAItoG,KAAKgnF,IAAIljF,IAAM9D,KAAKgnF,KAAKljF,EAC1D,CACAukH,gBAAgBvkH,GACZ,OAAOxO,KAAKgzG,OAAO,IAAM,EAAItoG,KAAKm3D,IAAIrzD,IAAM9D,KAAKm3D,KAAKrzD,EAC1D,CACAkiB,UACS1wB,KAAKgzG,QAAUhzG,KAAKgzG,OAAO1xG,OAAS,IAGzCtB,KAAKo+H,cACLp+H,KAAKq+H,cACDr+H,KAAKwyH,MACLxyH,KAAKk7H,mBAEb,CACAkD,cACI,MAAM,KAAErwG,GAAS/tB,KACjB,IAAI0xF,EACJ,GAAa,KAAT3jE,EACA2jE,EAAMhnF,KAAKspH,WAEV,GAAIjmG,IAASrjB,KAAKiyH,EACnBjrC,EAAMhnF,KAAKgnF,SAEV,GAAa,IAAT3jE,EACL2jE,EAAMhnF,KAAK4zH,SAEV,CACD,MAAMC,EAAU7zH,KAAKgnF,IAAI3jE,GACzB2jE,EAAOljF,GAAM9D,KAAKgnF,IAAIljF,GAAK+vH,CAC/B,CACAv+H,KAAKk+H,QAAUxsC,CACnB,CACA2sC,cACI,MAAM,KAAEtwG,GAAS/tB,KACjB,IAAIgkG,EAEAA,EADS,KAATj2E,EACMkwG,GAASO,MAEVzwG,IAASrjB,KAAKiyH,EACbjyH,KAAKm3D,IAGJrzD,GAAM9D,KAAKs5F,IAAIj2E,EAAMvf,GAEhCxO,KAAKm+H,QAAUn6B,CACnB,CACAk3B,mBACI,MAAOhI,EAAIC,GAAMnzH,KAAKgzG,OAChBqoB,EAAKr7H,KAAKgkG,IAAIt5F,KAAK4D,MAAMtO,KAAK0xF,IAAIwhC,KAClCh5F,EAAKl6B,KAAKgkG,IAAIt5F,KAAK2D,KAAKrO,KAAK0xF,IAAIyhC,KACvCnzH,KAAK6yH,WAAa,CAACwI,EAAInhG,EAC3B,CACAssD,aAAah4E,GACT,OAAOA,GAAK,EAAI9D,KAAKs5F,IAAI,GAAIx1F,GAAK,EAAI9D,KAAKs5F,IAAI,IAAKx1F,EACxD,CACAkhH,QACI,IAAIp2G,EACJ,MAAMoN,EAAkC,QAAzBpN,EAAKtZ,KAAKyyH,iBAA8B,IAAPn5G,EAAgBA,EAAK,GACrE,IAAKtZ,KAAKgzG,QAAUhzG,KAAKgzG,OAAO1xG,OAAS,GAAKolB,EAAQ,EAClD,MAAO,GAEX1mB,KAAKyvH,UACL,MAAM1hG,EAAO/tB,KAAK+tB,MACXmlG,EAAIC,GAAMnzH,KAAKk0G,YACtB,IAAIuqB,EAAKz+H,KAAK0xF,IAAIwhC,GACd7uD,EAAKrkE,KAAK0xF,IAAIyhC,GAClB,GAAInzH,KAAK2gF,SAAU,CACf,MAAMH,EAAO91E,KAAKw9E,IAAIloF,KAAK2gF,UACrB+9C,EAAUh0H,KAAKw9E,IAAI7jB,EAAKo6D,GACxB/O,EAAQvpG,GAAMs4G,EAAIp6D,EAAI35D,KAAK2G,IAAIqtH,EAASl+C,IACzC7mE,KAAKnL,GAAMxO,KAAKgkG,IAAIx1F,KACpBkL,QAAQu9B,GAAMA,GAAKi8E,GAAMj8E,GAAKk8E,IACnC,IAAKnzH,KAAKwzH,gBAAgB,CAAEntG,MAAO6sG,EAAIh+G,KAAMi+G,EAAIxyC,SAAUH,EAAM95D,MAAOgpG,EAAMpuH,SAC1E,OAAOouH,CAEf,CACA,MAAMiP,EAAgB5wG,EAAO,IAAM,EAC7B6wG,EAAcv6D,EAAKo6D,GAAM/3G,EAC/B,IAAKi4G,GAAiBC,EAElB,OAAOC,GAAcJ,EAAIp6D,EAAI35D,KAAK2G,IAAIgzD,EAAKo6D,EAAI/3G,IAAQ/M,KAAKnL,GAAMxO,KAAKgkG,IAAIx1F,KAE/E,MAAMkhH,EAAQ,GACRoP,EAAa5L,EAAK,EACxBuL,EAAK/zH,KAAK4D,MAAMmwH,GAAM,EACtBp6D,EAAK35D,KAAK86E,MAAMnhB,GAAM,EACtB,MAAMhzD,EAAM3G,KAAK2G,OAAOrR,KAAKmmB,OACvB/U,EAAM1G,KAAK0G,OAAOpR,KAAKmmB,OACvB44G,GAAoB3tH,EAAMC,GAAOqV,EACvC,IAAIs4G,EAAmB7qG,IACvB,IAAK,IAAIlJ,EAAIwzG,EAAIxzG,GAAKo5C,EAAIp5C,IAAK,CAC3B,MAAMg0G,EAA4Bj/H,KAAK2vH,QAAQ3vH,KAAKgkG,IAAI/4E,EAAI,IAC5D,IAAK,IAAIwtB,EAAI,EAAGA,EAAI1qB,EAAM0qB,IAAK,CAC3B,MAAM+rD,EAAIs6B,EAAarmF,EAAI1qB,EAAO0qB,EAAI,EAChCxB,EAAIj3C,KAAKgkG,IAAI/4E,GAAKu5E,EAClB06B,EAAel/H,KAAK2vH,QAAQ14E,GAC5BkoF,EAAcz0H,KAAKw9E,IAAI82C,EAAmBE,GAC1CE,EAAc10H,KAAKw9E,IAAIg3C,EAAeD,GACtCI,EAAOF,GAAeJ,GAAoBK,GAAeL,EAC3D9nF,GAAKi8E,GAAMj8E,GAAKk8E,IAAa,IAAN16E,GAAW4mF,KAClC3P,EAAM//G,KAAKsnC,GACX+nF,EAAmBE,EAE3B,CACJ,CACA,OAAOxP,CACX,CACAsL,YAAW,MAAEt0G,EAAK,MAAEgpG,EAAK,UAAEuL,IACvB,MAAM,KAAEltG,GAAS/tB,KAOjB,OANiB,MAAbi7H,IACAA,EAAsB,KAATltG,EAAc,MAAQ,KAEd,oBAAdktG,IACPA,EAAY3B,GAAO2B,IAEnBv0G,IAAUyN,IACH8mG,GAEE,MAATvL,GACA1vH,KAAK0vH,QAEDvgG,GACG8rG,EAAU9rG,GAEzB,EC1JG,SAASmwG,GAAQl9G,EAAcm9G,EAAW,MAACx9H,IAC9C,OAAOotG,IAA+B,CAACpqF,EAAGy6G,EAAIrjH,IACtCojH,EAAS/9H,SAAS2a,GACXiG,EAEJjG,GAEf,CCRO,SAASk3F,GAAO36F,GACnB,MAAM,OAAEpX,GAAWoX,EACnB,GAAe,IAAXpX,EACA,OAEJ,IAAI+P,EAAM8iB,IACN/iB,GAAO+iB,IACX,IAAK,IAAIvwB,EAAI,EAAGA,EAAItC,EAAQsC,IAAK,CAC7B,IAAIuY,EAAIzD,EAAO9U,GACXuY,aAAaiP,OACbjP,EAAIA,EAAE4M,WAEO,kBAAN5M,IAGPA,EAAI9K,IACJA,EAAM8K,GAENA,EAAI/K,IACJA,EAAM+K,GAEd,CACA,MAAMk3F,EAAS,CAAChiG,EAAKD,GACrB,OAAIiiG,EAAOj7E,MAAMjc,IAAOymF,SAASzmF,UAAjC,EAGOk3F,CACX,CFkIApkF,GAAW,CACPmgF,GAASwB,GAAO,KACjBqtB,GAASj1H,UAAW,YAAQ,GG/J/B,IAAIimB,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAKO,MAAMs/G,GACTl0H,cACIvL,KAAK40B,SAAU,EACf50B,KAAK48F,SAAW,GAChB58F,KAAK68F,WAAa,sBAClB78F,KAAKuhG,eAAYx/F,EACjB/B,KAAKwhG,gBAAaz/F,EAClB/B,KAAK+5F,MAAQ,qBACjB,CACAmD,UACI,OAAOA,GAAQl9F,KACnB,EAoBG,SAAS0/H,GAAuBjgD,GACnC,MAAM,qBAAEkgD,EAAuB,EAAC,oBAAEC,EAAsB,GAAMngD,EACxDogD,EAAqBpgD,EAAK+K,SAAWqO,GAAkBI,GAAUxZ,EAAK+K,WAAa,EACnFs1C,GAAoBD,GAAsBF,GAAwB,GAAKA,GAAwBj1H,KAAKkuF,IAAM,EAAI,EAE9GmnC,GAAmBF,GAAsBD,GAAuB,GAAKA,GAAuBl1H,KAAKkuF,IAAM,EAAI,EACjH,IAAIonC,EAAkB,EAOtB,OANIvgD,EAAKwgD,SACLD,EAAmBF,EAAmBp1H,KAAKkuF,GAAM,GAEvB,IAArBmnC,IACLC,EAAkBt1H,KAAKkuF,IAEpB,CAAEinC,qBAAoBG,kBAAiBF,mBAAkBC,kBACpE,CACO,SAASG,GAAgBC,EAAYC,GACxC,OAAKz6G,MAAMw6G,GAGJC,EAAU,EAAI,GAFVD,CAGf,CACO,SAASE,GAAgBJ,EAAUK,EAAeC,EAAUT,GAC/D,OAAIG,IAAaK,EACTC,EAAWT,KAAsB,EAC1B,UAGA,SAGR,QACX,CACO,SAASU,GAAaP,EAAUK,EAAeG,EAAmBF,EAAUR,GAC/E,MAAMW,EAAeJ,EAAgB,GAAKA,GAAiB51H,KAAKkuF,GAC1D+nC,EAAmBF,EAAoB,GAAKA,GAAqB/1H,KAAKkuF,GACtEgoC,EAAYF,GAAgBC,GAAoB,EAAI,EAC1D,GAAIV,EAAU,CACV,IAAIK,IAAiBG,EAMjB,MAAO,SALP,GAAIF,EAAWK,KAAe,EAC1B,MAAO,KAMnB,MACK,GAAIL,EAAWR,KAAqB,EACrC,MAAO,MAEX,MAAO,OACX,CACO,SAASc,GAAmBj7E,EAAMqhC,EAAM65C,EAAQC,EAAQC,GAK3D,MAAM,MAAE/9C,EAAK,OAAEtzD,GAAWs3D,EACpBg6C,EAAiB,IAAIt5C,GAAKm5C,EAAQC,EAAQ,EAAG,GACnDC,EAAYt3C,cAAcu3C,EAAgBh6C,GAC1C,MAAM,EAAEz4E,EAAI,EAAC,EAAEo5E,EAAI,GAAMX,EAGzB,OAFAA,EAAKhE,MAAQA,EACbgE,EAAKt3D,OAASA,EACP,CACH+tE,MAAO,CACHlvF,IACAo5E,IACAjrE,KAAM,GAEV6oG,MAAO,CACHviC,QACAtzD,SACAi2B,QAGZ,CA5FA32B,GAAW,CACPmgF,GAASiB,KACVovB,GAAMz2H,UAAW,eAAW,GAC/BimB,GAAW,CACPmgF,GAASwB,GAAO,KACjB6uB,GAAMz2H,UAAW,gBAAY,GAChCimB,GAAW,CACPmgF,GAASmB,KACVkvB,GAAMz2H,UAAW,kBAAc,GAClCimB,GAAW,CACPmgF,GAAS0C,KACV2tB,GAAMz2H,UAAW,iBAAa,GACjCimB,GAAW,CACPmgF,GAAS4C,KACVytB,GAAMz2H,UAAW,kBAAc,GAClCimB,GAAW,CACPmgF,GAAS4B,KACVyuB,GAAMz2H,UAAW,aAAS,GCxC7B,IAAIimB,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EACI09F,GAAkC,SAAUx4G,EAAGgmB,GAC/C,IAAI4rB,EAAI,CAAC,EACT,IAAK,IAAIhsB,KAAK5lB,EAAOxD,OAAOmH,UAAUM,eAAeE,KAAKnE,EAAG4lB,IAAMI,EAAE5pB,QAAQwpB,GAAK,IAC9EgsB,EAAEhsB,GAAK5lB,EAAE4lB,IACb,GAAS,MAAL5lB,GAAqD,oBAAjCxD,OAAO6N,sBACtB,KAAI9L,EAAI,EAAb,IAAgBqnB,EAAIppB,OAAO6N,sBAAsBrK,GAAIzB,EAAIqnB,EAAE3pB,OAAQsC,IAC3DynB,EAAE5pB,QAAQwpB,EAAErnB,IAAM,GAAK/B,OAAOmH,UAAUiC,qBAAqBzB,KAAKnE,EAAG4lB,EAAErnB,MACvEqzC,EAAEhsB,EAAErnB,IAAMyB,EAAE4lB,EAAErnB,IAF4B,CAItD,OAAOqzC,CACX,EAyBA,MAAMiqF,GAAa1xB,IAAqB,CAACrzF,EAAG2Q,IAAQ8jF,GAAO,EAAPA,CAAUz0F,EAAG2Q,IAAQ3Q,aAAayjE,GAAe,0GAC/FuhD,GAAiB3xB,IAAqB,CAACrzF,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,EAAKo0G,KAAc,oHACjFE,GAAoB5xB,IAAqB,CAACrzF,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,GAAK,CAAC3Q,EAAG2Q,IAAe,IAAN3Q,GAAWy0F,GAAO,EAAPA,CAAUz0F,EAAG2Q,IAAS3Q,aAAayjE,KAAgB,2HACjJyhD,GAAkB,CAAC,SAAU,YAC7BC,GAAa9xB,GAAqBE,QAAM3tG,GAAYipB,IACtD,IAAK,MAAMjoB,KAAOioB,EACd,IAAKq2G,GAAgB7/H,SAASuB,GAC1B,OAAO,EAGf,OAAO,CAAI,IACV,gGACE,IAAIw+H,GAQPC,IAPJ,SAAWD,GACPA,EAAKA,EAAK,YAAc,GAAK,WAC7BA,EAAKA,EAAK,aAAe,GAAK,YAC9BA,EAAKA,EAAK,YAAc,GAAK,WAC7BA,EAAKA,EAAK,WAAa,GAAK,UAC5BA,EAAKA,EAAK,YAAc,GAAK,UAChC,EAND,CAMGA,KAASA,GAAO,CAAC,IAEpB,SAAWC,GACPA,EAAmBA,EAAmB,UAAY,GAAK,SACvDA,EAAmBA,EAAmB,oBAAsB,GAAK,mBACjEA,EAAmBA,EAAmB,UAAY,GAAK,SACvDA,EAAmBA,EAAmB,UAAY,GAAK,QAC1D,CALD,CAKGA,KAAuBA,GAAqB,CAAC,IACzC,MAAMC,GACTl2H,cACIvL,KAAKijF,MAAQ,EACbjjF,KAAK+5F,MAAQ,wBACjB,EAEJ9qE,GAAW,CACPmgF,GAASwB,GAAO,KACjB6wB,GAASz4H,UAAW,aAAS,GAChCimB,GAAW,CACPmgF,GAAS8B,KACVuwB,GAASz4H,UAAW,aAAS,GACzB,MAAM04H,GACTn2H,cACIvL,KAAK40B,SAAU,EAIf50B,KAAKijF,MAAQ,EAIbjjF,KAAK2c,KAAO,EAKZ3c,KAAK+5F,MAAQ,yBAUb/5F,KAAK0mB,WAAQ3kB,EACb/B,KAAK2gF,cAAW5+E,EAChB/B,KAAK0Y,YAAS3W,EACd/B,KAAKmgI,WAAat6G,GACtB,EAEJoJ,GAAW,CACPmgF,GAASiB,KACVqxB,GAAa14H,UAAW,eAAW,GACtCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjB8wB,GAAa14H,UAAW,aAAS,GACpCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjB8wB,GAAa14H,UAAW,YAAQ,GACnCimB,GAAW,CACPmgF,GAAS8B,KACVwwB,GAAa14H,UAAW,aAAS,GACpCimB,GAAW,CACPmgF,GAAS+xB,IACT/nB,GAAW,qEACZsoB,GAAa14H,UAAW,aAAS,GACpCimB,GAAW,CACPmgF,GAASgyB,KACVM,GAAa14H,UAAW,gBAAY,GACvCimB,GAAW,CACPmgF,GAASO,OACV+xB,GAAa14H,UAAW,cAAU,GACrCimB,GAAW,CACPmgF,GAASQ,GAAI0B,GAAc,GAAItB,GAAU,gBACzCsvB,GAAQz5G,MACT67G,GAAa14H,UAAW,kBAAc,GAClC,MAAM24H,GACTp2H,cACIvL,KAAK40B,SAAU,EAEf50B,KAAK4hI,UAAW,EAEhB5hI,KAAKi+F,cAAWl8F,EAEhB/B,KAAKk+F,eAAYn8F,EACjB/B,KAAKuhG,eAAYx/F,EACjB/B,KAAKwhG,gBAAaz/F,EAClB/B,KAAK48F,SAAW,GAChB58F,KAAK68F,WAAa,sBAIlB78F,KAAK0jH,QAAU,EAIf1jH,KAAKmgI,WAAat6G,IAKlB7lB,KAAK+5F,MAAQ,sBAQb/5F,KAAKwqF,cAAWzoF,EAKhB/B,KAAK6hI,gBAAa9/H,EAIlB/B,KAAK8hI,gBAAkB,IAIvB9hI,KAAK+hI,iBAAkB,EAcvB/hI,KAAKgiI,UAAW,EAMhBhiI,KAAKigI,UAAW,EAOhBjgI,KAAK03H,eAAY31H,EACjB/B,KAAKs5H,YAASv3H,CAClB,CAMAkgI,cACI,OAAOjiI,KAAKgiI,SAAW,GAAK,CAChC,CACA9kC,UACI,OAAOA,GAAQl9F,KACnB,EAEJivB,GAAW,CACPmgF,GAASiB,KACVsxB,GAAU34H,UAAW,eAAW,GACnCimB,GAAW,CACPmgF,GAASkB,KACVqxB,GAAU34H,UAAW,gBAAY,GACpCimB,GAAW,CACPmgF,GAASiC,GAAW,KACrBswB,GAAU34H,UAAW,gBAAY,GACpCimB,GAAW,CACPmgF,GAASiC,GAAW,KACrBswB,GAAU34H,UAAW,iBAAa,GACrCimB,GAAW,CACPmgF,GAAS0C,KACV6vB,GAAU34H,UAAW,iBAAa,GACrCimB,GAAW,CACPmgF,GAAS4C,KACV2vB,GAAU34H,UAAW,kBAAc,GACtCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjB+wB,GAAU34H,UAAW,gBAAY,GACpCimB,GAAW,CACPmgF,GAASmB,KACVoxB,GAAU34H,UAAW,kBAAc,GACtCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjB+wB,GAAU34H,UAAW,eAAW,GACnCimB,GAAW,CACPmgF,GAASkC,MACTguB,GAAQz5G,MACT87G,GAAU34H,UAAW,kBAAc,GACtCimB,GAAW,CACPmgF,GAAS8B,KACVywB,GAAU34H,UAAW,aAAS,GACjCimB,GAAW,CACPmgF,GAASiC,IAAY,IAAK,OAC3BswB,GAAU34H,UAAW,gBAAY,GACpCimB,GAAW,CACPmgF,GAASkB,KACVqxB,GAAU34H,UAAW,kBAAc,GACtCimB,GAAW,CACPmgF,GAASwB,IAAQ,IAAK,OACvB+wB,GAAU34H,UAAW,uBAAmB,GAC3CimB,GAAW,CACPmgF,GAASiB,KACVsxB,GAAU34H,UAAW,uBAAmB,GAC3CimB,GAAW,CACPmgF,GAASiB,KACVsxB,GAAU34H,UAAW,gBAAY,GACpCimB,GAAW,CACPmgF,GAASiB,KACVsxB,GAAU34H,UAAW,gBAAY,GACpCimB,GAAW,CACPmgF,GAASoB,KACVmxB,GAAU34H,UAAW,cAAU,GAC3B,MAAMk5H,GACT32H,cACIvL,KAAK40B,SAAU,EACf50B,KAAK4lD,UAAO7jD,EACZ/B,KAAKuhG,eAAYx/F,EACjB/B,KAAKwhG,gBAAaz/F,EAClB/B,KAAK48F,SAAW,GAChB58F,KAAK68F,WAAa,aAClB78F,KAAK+5F,WAAQh4F,EACb/B,KAAKo+F,SAAW,SAChBp+F,KAAK03H,eAAY31H,CACrB,EAEJktB,GAAW,CACPmgF,GAASiB,KACV6xB,GAAUl5H,UAAW,eAAW,GACnCimB,GAAW,CACPmgF,GAASoB,KACV0xB,GAAUl5H,UAAW,YAAQ,GAChCimB,GAAW,CACPmgF,GAAS0C,KACVowB,GAAUl5H,UAAW,iBAAa,GACrCimB,GAAW,CACPmgF,GAAS4C,KACVkwB,GAAUl5H,UAAW,kBAAc,GACtCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBsxB,GAAUl5H,UAAW,gBAAY,GACpCimB,GAAW,CACPmgF,GAASmB,KACV2xB,GAAUl5H,UAAW,kBAAc,GACtCimB,GAAW,CACPmgF,GAAS8B,KACVgxB,GAAUl5H,UAAW,aAAS,GACjCimB,GAAW,CACPmgF,GAASwD,KACVsvB,GAAUl5H,UAAW,gBAAY,GACpCimB,GAAW,CACPmgF,GAASgB,KACV8xB,GAAUl5H,UAAW,iBAAa,GAU9B,MAAMm5H,GACT52H,YAAYs0G,EAAW14B,GACnBnnF,KAAK6/G,UAAYA,EACjB7/G,KAAKgS,GAAK+5E,GAAS/rF,MACnBA,KAAKwyH,MAAO,EACZxyH,KAAKm1G,WAAa,GAClBn1G,KAAKoiI,UAAY,IAAIvwC,GAAM,CAAEvtF,KAAO,GAAEtE,KAAKgS,UAAWmxE,OAAQ0vB,GAAOwvB,cACrEriI,KAAKsiI,SAAWtiI,KAAKoiI,UAAUp4E,YAAY,IAAIqhE,IAC/CrrH,KAAKuiI,cAAgBviI,KAAKoiI,UAAUp4E,YAAY,IAAI6nC,GAAM,CAAEvtF,KAAO,GAAEtE,KAAKgS,qBAAsBmxE,OAAQ0vB,GAAOwvB,eAC/GriI,KAAKwiI,eAAiBxiI,KAAKoiI,UAAUp4E,YAAY,IAAI6nC,GAAM,CAAEvtF,KAAO,GAAEtE,KAAKgS,sBAAuBmxE,OAAQ0vB,GAAOwvB,eACjHriI,KAAKyiI,eAAiB,IAAI5wC,GAAM,CAAEvtF,KAAO,GAAEtE,KAAKgS,kBAChDhS,KAAK0iI,UAAY,IAAI7wC,GAAM,CAAEvtF,KAAO,GAAEtE,KAAKgS,iBAC3ChS,KAAK2iI,cAAgB3iI,KAAK0iI,UAAU14E,YAAY,IAAI6nC,GAAM,CACtDvtF,KAAO,GAAEtE,KAAKgS,eACdmxE,OAAQ0vB,GAAO+vB,oBAEnB5iI,KAAK6iI,aAAe7iI,KAAK0iI,UAAU14E,YAAY,IAAI6nC,GAAM,CACrDvtF,KAAO,GAAEtE,KAAKgS,cACdmxE,OAAQ0vB,GAAO+vB,oBAEnB5iI,KAAK8iI,uBAAyB3U,GAAUlrE,OAAOjjD,KAAKuiI,cAAelX,IACnErrH,KAAK+iI,wBAA0B5U,GAAUlrE,OAAOjjD,KAAKwiI,eAAgBxoF,IACrEh6C,KAAKgjI,uBAAyB7U,GAAUlrE,OAAOjjD,KAAK2iI,cAAetX,IACnErrH,KAAKijI,sBAAwB9U,GAAUlrE,OAAOjjD,KAAK6iI,aAAcrX,IACjExrH,KAAKkjI,YAAc,GACnBljI,KAAK4mB,KAAO,IAAI66G,GAChBzhI,KAAKmjI,KAAOnjI,KAAKojI,aACjBpjI,KAAKwlH,MAAQ,IAAImc,GACjB3hI,KAAKqjI,YAAc,CAAE70H,EAAG,EAAGo5E,EAAG,GAC9B5nF,KAAKwqF,SAAW,EAChBxqF,KAAKsjI,OAAS,CACV9d,MAAO,CACHzhB,eAAgB,EAChB2f,QAAS1jH,KAAKwlH,MAAM9B,QACpB4V,OAAQt5H,KAAKwlH,MAAM8T,SAG3Bt5H,KAAKmmB,MAAQ,CAAC,EAAG,GACjBnmB,KAAKujI,aAAe,CAAC,EAAG,GACxBvjI,KAAK45G,WAAQ73G,EACb/B,KAAKwjI,cAAgB,IAAI5R,GAMzB5xH,KAAKyjI,YAAc,EAOnBzjI,KAAK0jI,UAAY,CACb,CACIppC,OAAQ,yBACRE,SAAU,CAAC,EAAG,KAQtBx6F,KAAK2jI,aAAc,EACnB3jI,KAAK+jG,eAAiB,EAItB/jG,KAAK4jI,YAAc,EAInB5jI,KAAK6jI,kBAAoB,EACzB7jI,KAAK8jI,UAAY,EACjB9jI,KAAK+jI,aAAe5vG,IACpBn0B,KAAKgkI,OAAS78C,EACdnnF,KAAKikI,eACLjkI,KAAKwjI,cAActlG,KAAKssD,UAAY9/E,KAAKkuF,GAAK,EAC9C54F,KAAKoiI,UAAUp4E,YAAYhqD,KAAKwjI,cAActlG,KAClD,CACIipD,YACA,OAAOnnF,KAAKgkI,MAChB,CACIE,eAAW9iI,GACX,IAAIkY,EAAIqb,EACoB,QAA3Brb,EAAKtZ,KAAKkjI,mBAAgC,IAAP5pH,GAAyBA,EAAGT,SAASsrH,GAAcnkI,KAAKokI,gBAAgBD,KAC5GnkI,KAAKkjI,YAAc9hI,EACS,QAA3BuzB,EAAK30B,KAAKkjI,mBAAgC,IAAPvuG,GAAyBA,EAAG9b,SAASsrH,IACrEnkI,KAAKqkI,gBAAgBF,GACrBnkI,KAAKskI,cAAcH,EAAU,GAErC,CACID,iBACA,OAAOlkI,KAAKkjI,WAChB,CACAmB,gBAAgBF,GACZnkI,KAAKyiI,eAAez4E,YAAYm6E,EAAUpxC,MAC9C,CACAqxC,gBAAgBD,GACZnkI,KAAKyiI,eAAel5E,YAAY46E,EAAUpxC,MAC9C,CACAziE,UACI,CAEJ2zG,eACI,IAAI3qH,EACJtZ,KAAKmmB,MAAQnmB,KAAKmnF,MAAMhhE,MAAM7jB,QACH,QAA1BgX,EAAKtZ,KAAKkkI,kBAA+B,IAAP5qH,GAAyBA,EAAGT,SAASsrH,IACpEnkI,KAAKskI,cAAcH,EAAU,GAErC,CACAI,cACI,IAAIjrH,EACJ,MAAQ6M,MAAOq+G,EAAIjB,aAAckB,EAAE,MAAEt9C,GAAUnnF,KACzC0kI,GAAQF,EAAG,GAAKA,EAAG,KAAOC,EAAG,GAAKA,EAAG,IACrC7rE,EAAQ8rE,EAAOD,EAAG,GAClBp+G,EAAQm+G,EAAG,GAAK5rE,EACtBuuB,EAAMhhE,MAAQ,CAACE,EAAOA,EAAQq+G,GACH,QAA1BprH,EAAKtZ,KAAKkkI,kBAA+B,IAAP5qH,GAAyBA,EAAGT,SAASsrH,IACpEA,EAAUQ,aAAe,CAACH,EAAG,GAAIA,EAAG,GAAG,GAE/C,CACAI,qBAAqBt2C,GACjBtuF,KAAKyiI,eAAen0C,QAAUA,CAClC,CACAu2C,WAAW3mG,EAAM6b,GACb7b,EAAKorB,aAAatpD,KAAK0iI,UAAW3oF,GAClC7b,EAAKorB,aAAatpD,KAAKoiI,UAAWroF,GAClC7b,EAAKorB,aAAatpD,KAAKyiI,eAAgB1oF,EAC3C,CACA+qF,WAAW5mG,GACPA,EAAKqrB,YAAYvpD,KAAK0iI,WACtBxkG,EAAKqrB,YAAYvpD,KAAKoiI,WACtBlkG,EAAKqrB,YAAYvpD,KAAKyiI,eAC1B,CAOAsC,QAAQv2H,EAAGy0E,EAAQ,EAAG+hD,EAAY,GAC9B,OAA+C,IAAxChlI,KAAKilI,UAAUz2H,EAAGy0E,EAAO+hD,EACpC,CACAC,UAAUz2H,EAAGy0E,EAAQ,EAAG+hD,EAAY,GAChC,MAAM,MAAE7+G,GAAUnmB,KAEZqR,EAAM3G,KAAK2G,IAAI8U,EAAM,GAAIA,EAAM,IAC/B/U,EAAM1G,KAAK0G,IAAI+U,EAAM,GAAIA,EAAM,IACrC,OAAI3X,EAAIy0E,EAAQ5xE,EAAM2zH,GACV,EAERx2H,EAAI4C,EAAM4zH,EACH,EAEJ,CACX,CACAE,oBAAoBxV,EAAO4J,GACvB,MAAM,MAAEnyC,EAAK,eAAE4c,GAAmB/jG,KAC5BmlI,EAAWh+C,aAAiB82C,GAC5BmH,GAAyBD,GAAYphC,EAAiB,EACrDv1F,GAAoB,kBAANA,EAAiBA,EAAEgiH,QAAQzsB,GAAkBxjG,OAAOiO,GAClEA,GAAMjO,OAAOiO,GACpB,GAAI8qH,GAAUnyC,GAASA,EAAM6zC,WACzB,IACIh7H,KAAKqlI,eAAiBl+C,EAAM6zC,WAAW,CACnCtL,QACAuL,UAAW3B,GAEnB,CACA,MAAOjuG,GACHrrB,KAAKqlI,eAAiBD,EACtB5zC,GAAOG,SAAU,gCAA+B2nC,8CACpD,MAGAt5H,KAAKqlI,eAAiBD,CAE9B,CACAE,YACI,IAAIhsH,EACJ,MAAM,MAAE6tE,EAAK,WAAEguB,EAAYguB,MAAQzqH,OAAQ6sH,IAAkBvlI,KAC7D,GAAIulI,GAAcp+C,aAAiBorC,GAAiB,CAChD,MAAOiT,EAASC,GAAyC,QAA7BnsH,EAAK+5F,GAAOkyB,UAAgC,IAAPjsH,EAAgBA,EAAK,CAAC6a,KAAWA,KAC5F9iB,EAAM3G,KAAK2G,IAAI81E,EAAM6rC,WAAW7d,EAAW,IAAKqwB,GAChDp0H,EAAM1G,KAAK0G,IAAI+1E,EAAM6rC,WAAW7d,EAAW,IAAKswB,GACtDt+C,EAAM6rB,OAAS,CAAC7rB,EAAMosC,SAASliH,GAAM81E,EAAMosC,SAASniH,GACxD,MAEI+1E,EAAM6rB,OAASmC,CAEvB,CACAuwB,gBAAgB/kD,GACZ,IAAIrnE,EACJtZ,KAAKmnF,MAAMxG,SAAyC,QAA7BrnE,EAAKtZ,KAAKmjI,KAAKxiD,gBAA6B,IAAPrnE,EAAgBA,EAAKqnE,CACrF,CACAglD,aAAaj/G,EAAOisG,EAAcC,GAC9B,MAAM,MAAEzrC,GAAUnnF,KAClB,GAAM0mB,GAASygE,aAAiBorC,GAGhC,MAAqB,kBAAV7rG,GACPygE,EAAMsrC,UAAY/rG,EAClBygE,EAAMwrC,aAAgC,OAAjBA,QAA0C,IAAjBA,EAA0BA,EAAe,OACvFxrC,EAAMyrC,aAAgC,OAAjBA,QAA0C,IAAjBA,EAA0BA,EAAez+F,WAGvFgzD,aAAiBqxC,IACjBx4H,KAAK0lI,gBAAgBh/G,GAE7B,CACIk/G,eAAWxkI,GACX,IAAIkY,GAECtZ,KAAKyjI,cAAgBriI,IAAYpB,KAAKyjI,aAAeriI,KACtDpB,KAAKgjI,uBAAyBhjI,KAAKgjI,uBAAuBlmH,QAC1D9c,KAAKijI,sBAAwBjjI,KAAKijI,sBAAsBnmH,SAE5D9c,KAAKyjI,YAAcriI,EACQ,QAA1BkY,EAAKtZ,KAAKkkI,kBAA+B,IAAP5qH,GAAyBA,EAAGT,SAASsrH,IACpEnkI,KAAKskI,cAAcH,EAAU,GAErC,CACIyB,iBACA,OAAO5lI,KAAKyjI,WAChB,CACIoC,eAAWzkI,GACPpB,KAAK2jI,cAAgBviI,IACrBpB,KAAK2jI,YAAcviI,EACnBpB,KAAKgjI,uBAAyBhjI,KAAKgjI,uBAAuBlmH,QAC1D9c,KAAKijI,sBAAwBjjI,KAAKijI,sBAAsBnmH,QAEhE,CACI+oH,iBACA,OAAO7lI,KAAK2jI,WAChB,CACAP,aACI,OAAO,IAAI1B,EACf,CAIAhxG,OAAOo1G,GACH,MAAM,SAAEt7C,EAAQ,qBAAEm1C,EAAoB,oBAAEC,GAAwB5/H,KAAK+lI,qBAC/DxF,EAAWvgI,KAAKwlH,MAAMyc,cACtBnB,EAASP,GAAYvgI,KAAKmjI,KAAKxmH,KAAO3c,KAAKwlH,MAAM9B,QAAU1jH,KAAK6jI,mBACtE7jI,KAAKgmI,cACLhmI,KAAKimI,eAAe,CAAEz7C,WAAU+1C,aAChCvgI,KAAKkmI,aACL,MAAM5sH,EAAKtZ,KAAK6+H,cAAc,CAC1BiH,mBACAnG,uBACAC,sBACAkB,SACAP,cACA,SAAE4F,EAAQ,iBAAEC,EAAgB,aAAE1/C,EAAY,UAAEC,GAAcrtE,EAAI+sH,EAAcxoB,GAAOvkG,EAAI,CAAC,WAAY,mBAAoB,eAAgB,cAgB5I,OAfAtZ,KAAKsmI,iBAAiBH,EAASzW,OAC/B1vH,KAAKumI,aAAa,CACdxD,wBAAyB/iI,KAAK+iI,wBAC9BqD,mBACA1/C,eACAC,YACAm6C,WAEJ9gI,KAAKwmI,mBACLxmI,KAAKymI,gBAAgBlG,GACrBvgI,KAAK0mI,gBAAgBnG,GACrBvgI,KAAK2mI,YAAY,CAAEC,eAAgBT,EAASzW,MAAMpuH,OAAS,EAAGi/H,aAC9DvgI,KAAK6mI,iBAAiB,CAAEr8C,WAAUm1C,uBAAsBC,sBAAqBW,aAC7EvgI,KAAK8mI,oBACLhB,EAAmBO,EAAYP,iBACxBA,CACX,CACAgB,oBACI9mI,KAAKsjI,OAAO9d,MAAQ,CAChBzhB,eAAgB/jG,KAAK+jG,eACrB2f,QAAS1jH,KAAKwlH,MAAM9B,QACpB4V,OAAQt5H,KAAKwlH,MAAM8T,OAE3B,CACA0M,cACIhmI,KAAKukI,cACLvkI,KAAK+mI,kBACL/mI,KAAKslI,YACLtlI,KAAK0lI,gBAAgB1lI,KAAKmjI,KAAKxiD,UAC/B,MAAM,MAAEwG,EAAK,KAAEqrC,GAASxyH,KAClBmnF,aAAiBorC,KAGvBvyH,KAAK2lI,aAAa3lI,KAAKmjI,KAAKz8G,OAC5BygE,EAAMqrC,KAAOA,EACbrrC,EAAMz2D,SACV,CACAq1G,qBACI,MAAMv7C,EAAWyO,GAAUj5F,KAAKwqF,UAU1Bm1C,EAAuB9mC,GAAkBrO,GACzCo1C,EAAsB/mC,GAAkBrO,EAAW9/E,KAAKkuF,GAAK,GACnE,MAAO,CAAEpO,WAAUm1C,uBAAsBC,sBAC7C,CACAf,eAAc,iBAAEiH,EAAgB,qBAAEnG,EAAoB,oBAAEC,EAAmB,OAAEkB,EAAM,SAAEP,IACjF,IAAIjnH,EACJ,MAAM,MAAE6tE,EAAK,KAAEg8C,EAAM3d,OAAO,SAAEya,EAAQ,SAAEz1C,EAAQ,WAAEqS,EAAU,SAAED,EAAQ,UAAE2E,EAAS,WAAEC,IAAkBxhG,KAC/FgnI,OAAqCjlI,IAArB+jI,GAChB,gBAAE9F,EAAe,mBAAEH,EAAkB,iBAAEC,EAAgB,gBAAEC,GAAoBL,GAAuB,CACtGl1C,WACAy1C,WACAL,sBACAD,yBAEEsH,EAAkBpH,EAAqBG,EACvCgB,EAAc,IAAIr4C,IAClB,aAAEiqC,GAAiB5yH,KAAKknI,kBAAkB,CAC5C/G,WAAYgD,EAAKhD,WACjBgH,WAAuC,QAA1B7tH,EAAK6pH,EAAKgE,kBAA+B,IAAP7tH,EAAgBA,EAAKuM,MAElEi4F,EAAa32B,aAAiBorC,GAC9B6U,EAAgBjE,EAAKz8G,QAAUo3F,GAAcn4F,MAAMitG,GAAgB,GAAKA,EAC9E,IAAIjsC,EAAY65C,GAAaP,EAAUJ,EAAoB,EAAGU,EAAUR,GACxE,MAAMr5C,EAAe25C,GAAgBJ,EAAUJ,EAAoBU,EAAUT,GACvE3hC,EAAY,CACdtB,aACAD,WACA2E,YACAC,aACA9a,eACAC,aAEJ,IAAIw/C,EAAW,CACXkB,SAAU,GACV3X,MAAO,GACP4X,WAAY,GAEZ/lI,EAAQ,EACRgmI,EAAe,EACfC,GAAe,EACfC,GAAY,EAChB,MAAOD,GAAgBjmI,GAAS6lI,EAAe,CAC3C,GAAIK,EACA,MAEJF,EAAe,EACf5gD,EAAY65C,GAAaP,EAAUJ,EAAoB,EAAGU,EAAUR,GACpE,MAAM2H,EAAiB1nI,KAAK2nI,kBAAkB,CAAEX,gBAAezlI,UAC/D,IAAK,MAAMqmI,KAAYF,EAAgB,GAChCvB,WAAU5kI,QAAOgmI,eAAcE,aAAcG,EAAS,CACrDrmI,QACA4kI,WACAhoC,YACAqpC,eACAC,YACA3B,sBAEJ,MAAMO,EAAcF,EAASzW,MAC7B/oC,EAAY65C,GAAaP,EAAUJ,EAAoB0H,EAAchH,EAAUR,GAC/E,MAAMK,EAAiC,IAAvBP,GAA6C,IAAjB0H,EACtC/8C,EAAWy8C,EAAkBM,EACnCC,EAAexnI,KAAK6nI,kBAAkBr9C,EAAU41C,EAASY,EAAaqF,EAAavF,EAAQj/H,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGy6E,GAAY,CAAExX,cAC7I,CACJ,CACA,MAAMy/C,EAAmBpG,EAAkBH,EAAqB0H,EAIhE,OAHKP,GAAiBb,EAASkB,SAAS/lI,OAAS,IAC7CwkI,EAAmBK,EAASkB,SAAS/lI,QAElC,CAAE6kI,WAAUL,mBAAkBM,mBAAkB1/C,eAAcC,YACzE,CACAghD,mBAAkB,MAAEpmI,EAAK,cAAEylI,IACvB,MAAM,MAAE7/C,EAAK,MAAEq+B,EAAK,KAAE2d,GAASnjI,KACzB89G,EAAa32B,aAAiBorC,GAC9BuV,EAAuBtiB,EAAM5wF,SAAW4wF,EAAMuc,gBAC9CgG,IAAgBjqB,QAAkC/7G,IAApB/B,KAAKmjI,KAAKz8G,QAAkC,IAAVnlB,GAAeumI,EAC/EjG,GAAkC,IAArBrc,EAAMqc,iBAA0C9/H,IAAnByjH,EAAMh7B,SAChDw9C,EAAa,GACnB,IAAIC,EAEAA,EADAjoI,KAAKmjI,KAAKzqH,OACW8oH,GAAmB0G,OAEnClB,EACgBxF,GAAmB2G,iBAEnCJ,EACgBvG,GAAmB4G,OAGnB5G,GAAmB6G,OAE5C,MAAMC,EAAyBA,EAAG/mI,QAAO4kI,WAAUL,mBAAkB2B,eAAgBznI,KAAKuoI,eAAeN,EAAoB1mI,EAAO4kI,EAAUsB,EAAW3B,GAEzJ,GADAkC,EAAWr4H,KAAK24H,IACXxqB,IAAen4F,MAAMw9G,EAAKhD,YAAa,CACxC,MAAMqI,EAAqBA,EAAGjnI,QAAO4kI,WAAUL,mBAAkB2B,eAAgBznI,KAAKuoI,eAAe/G,GAAmB4G,OAAQ7mI,EAAO4kI,EAAUsB,EAAW3B,GAC5JkC,EAAWr4H,KAAK64H,EACpB,CACA,IAAKV,EACD,OAAOE,EAEX,GAAIxiB,EAAMoc,SAAU,CAChB,MAAM6G,EAAmBA,EAAGlnI,QAAO4kI,WAAUhoC,eAAgBn+F,KAAK0oI,WAAWvC,EAAU5kI,EAAO48F,GAC9F6pC,EAAWr4H,KAAK84H,EACpB,MACK,GAAI5G,EAAY,CACjB,MAAM8G,EAAqBA,EAAGpnI,QAAO4kI,WAAUqB,eAAcC,gBAAgB,CACzElmI,QACA4kI,WACAoB,aAAcvnI,KAAK4oI,gBAAgBpB,GACnCC,cAEJO,EAAWr4H,KAAKg5H,EACpB,CACA,OAAOX,CACX,CACAO,eAAeN,EAAoB1mI,EAAO4kI,EAAUsB,EAAW3B,GAC3D,IAAIxsH,EAAIqb,EAAI2C,EACZ,MAAM,MAAE6vD,EAAK,KAAEg8C,GAASnjI,MAClB,aAAE4yH,EAAY,aAAED,EAAY,iBAAED,GAAqB1yH,KAAKknI,kBAAkB,CAC5E/G,WAAYgD,EAAKhD,WACjBgH,WAAuC,QAA1B7tH,EAAK6pH,EAAKgE,kBAA+B,IAAP7tH,EAAgBA,EAAKuM,MAElEi4F,EAAa32B,aAAiBorC,GAC9B6U,EAAgBjE,EAAKz8G,QAAUo3F,GAAcn4F,MAAMitG,GAAgB,GAAKA,EAC9E,IAAIH,EAAkC,QAArB99F,EAAKwuG,EAAKz8G,aAA0B,IAAPiO,EAAgBA,EAAMmpF,EAAapzG,KAAK0G,IAAIshH,EAAmBnxH,EAAOoxH,GAAgBC,EACpI,MAAMiW,OAAoC9mI,IAAlBohI,EAAKxiD,eACT5+E,IAAhBohI,EAAKzqH,aACU3W,IAAfohI,EAAKz8G,OACL+rG,EAAYE,IACX7U,GAAcmqB,IAAuBzG,GAAmB4G,QAC7D,IAAI1yC,GAAY,EAChB,MAAOA,GAAan0F,GAAS6lI,EAAe,CACxC,MAAM0B,EAAY3C,EAASkB,SAC3B5U,EAAkC,QAArBn7F,EAAK6rG,EAAKz8G,aAA0B,IAAP4Q,EAAgBA,EAAMwmF,EAAapzG,KAAK0G,IAAIshH,EAAmBnxH,EAAOoxH,GAAgBC,EAChI,MAAM,SAAEyU,EAAQ,MAAE3X,EAAK,WAAE4X,GAAetnI,KAAK+oI,SAAS,CAClDd,qBACAe,cAAeF,EACfrW,YACAE,eACAC,eACAkT,qBAEJK,EAASkB,SAAWA,EACpBlB,EAASzW,MAAQA,EACjByW,EAASmB,WAAaA,EACtB5xC,IAAYmzC,GAAkBvW,GAAqB+U,EAAUyB,GAC7DvnI,GACJ,CACA,MAAM0nI,OAAoClnI,IAAlBohI,EAAKxiD,eAA0C5+E,IAAhBohI,EAAKzqH,OAE5D,OADA+uH,IAAcA,EAAYwB,GACnB,CAAE9C,WAAU5kI,QAAOgmI,aAAc,EAAGE,YAC/C,CACAI,kBAAkBr9C,EAAU41C,EAASY,EAAamF,EAAUrF,EAAQ3iC,GAChExV,GAAOqH,sBAAsBgxC,EAAa,EAAG,EAAGx2C,EAAU,EAAG,GAC7D,MAAM0+C,EAAYlpI,KAAKmpI,gBAAgBhD,EAAUrF,EAAQ3iC,EAAW6iC,GAC9DoI,EAAelJ,GAAgBlgI,KAAKwlH,MAAM2a,WAAYC,GAC5D,OAAOra,GAAkBmjB,EAAWE,EACxC,CACAD,gBAAgBhD,EAAUrF,EAAQ3iC,EAAW6iC,GACzC,MAAMkI,EAAY,GAClB,IAAK,MAAMG,KAAalD,EAAU,CAC9B,MAAM,UAAEmD,EAAS,aAAE5+C,GAAiB2+C,EACpC,GAAkB,KAAdC,QAAiCvnI,GAAbunI,EAEpB,SAEJ,MAAM/iH,EAAQy2E,GAAUssC,IAClB,MAAErmD,EAAK,OAAEtzD,GAAW02D,GAAY9/D,EAAOu6G,EAAQp2C,EAAcyT,GAC7DlX,EAAO,IAAIU,GAAKm5C,EAAQp2C,EAAczH,EAAOtzD,GAC7C45G,EAAa1I,GAAmByI,EAAWriD,EAAM65C,EAAQp2C,EAAcs2C,GAC7EkI,EAAUv5H,KAAK45H,EACnB,CACA,OAAOL,CACX,CACAN,gBAAgBY,GACZ,OAAOA,EAAgB3wC,GAAkBI,GAAUj5F,KAAKwlH,MAAMsc,kBAAoB,CACtF,CACAiH,UAAS,mBAAEd,EAAkB,cAAEe,EAAa,UAAEvW,EAAS,aAAEE,EAAY,aAAEC,EAAY,iBAAEkT,IACjF,IAAIxsH,EACJ,MAAM,MAAE6tE,GAAUnnF,KAClB,IAAIqnI,EAAW,GACf,OAAQY,GACJ,KAAKzG,GAAmB0G,OACpBb,EAAWrnI,KAAKmjI,KAAKzqH,OACrB,MACJ,KAAK8oH,GAAmB2G,iBAEpBd,EAAWrnI,KAAKypI,yBAAyB3D,GACzC,MACJ,KAAKtE,GAAmB4G,OACpBf,EAAWrnI,KAAK+nI,YAAYiB,EAAevW,GAC3C,MACJ,QACI4U,EAAWrnI,KAAK0pI,YAAYjX,EAAWE,EAAcC,GACrD,MAGR5yH,KAAKklI,oBAAoBmC,EAAUrnI,KAAKwlH,MAAM8T,QAE9Ct5H,KAAK+jG,eAAiBsjC,EAAStjC,gBAAkB,EAAIsjC,EAAStjC,eAAiB,EAC/E,MAAM4lC,GAAiD,QAA/BrwH,EAAKtZ,KAAKmnF,MAAM0oC,iBAA8B,IAAPv2G,EAAgBA,EAAK,GAAK,EACnFo2G,EAAQ,GACd,IAAI4X,EAAa,EACjB,IAAK,IAAI1jI,EAAI,EAAGA,EAAIyjI,EAAS/lI,OAAQsC,IAAK,CACtC,MAAMgmI,EAAUvC,EAASzjI,GACnB8mF,EAAevD,EAAMwoC,QAAQia,GAAWD,EACxCL,EAAYtpI,KAAK6pI,WAAWD,EAAShmI,GAC3C8rH,EAAM//G,KAAK,CAAEwzH,KAAMyG,EAASN,YAAW5+C,iBACrB,KAAd4+C,QAAiCvnI,GAAbunI,GAGxBhC,GACJ,CACA,MAAO,CAAED,WAAU3X,QAAO4X,aAC9B,CACAS,YAAYrY,EAAO+C,GACf,IAAIn5G,EACJ,MAAMwwH,GAAenkH,MAAM3lB,KAAKmjI,KAAKhD,cAAgBx6G,MAAsC,QAA/BrM,EAAKtZ,KAAKmjI,KAAKgE,kBAA+B,IAAP7tH,EAAgBA,EAAKuM,KAClHkkH,EAAYD,EAAcp/H,KAAK2D,KAAKqhH,EAAMpuH,OAASmxH,GAAa,EACtE,OAAO/C,EAAMh2G,QAAO,CAACqL,EAAGnhB,IAAMA,EAAImmI,IAAc,GACpD,CACAL,YAAYjX,EAAWE,EAAcC,GAEjC,OADA5yH,KAAK2lI,aAAalT,EAAWE,EAAcC,GACpC5yH,KAAKmnF,MAAMuoC,OACtB,CACAwX,mBAAkB,WAAE/G,EAAU,WAAEgH,IAC5B,MAAM1T,EAAiBzzH,KAAKgqI,0BACtBC,EAAoBv/H,KAAK0G,IAAI+wH,GAAK+H,sBAAuBzW,EAAiBlB,GAAgBuB,qBAC5FnuG,MAAMw6G,IAAex6G,MAAMwhH,IAC3BhH,EAAa8J,EACb9C,EAAa1T,EACT0M,EAAagH,IAEbA,EAAahH,IAGZx6G,MAAMw6G,IACXA,EAAa8J,EACT9J,EAAagH,IAEbhH,EAAagH,IAGZxhH,MAAMwhH,KACXA,EAAa1T,EACT0M,EAAagH,IAEbA,EAAahH,IAGrB,MAAMvN,EAAeloH,KAAK0G,IAAI,EAAG1G,KAAK4D,MAAMmlH,EAAiB0M,IACvDxN,EAAejoH,KAAK2G,IAAIuhH,EAAcloH,KAAK2D,KAAKolH,EAAiB0T,IACvE,IAAIzU,EAAmBH,GAAgBG,iBAOvC,OANIA,EAAmBE,EACnBF,EAAmBE,EAEdF,EAAmBC,IACxBD,EAAmBC,GAEhB,CAAEA,eAAcC,eAAcF,mBACzC,CACA8T,mBACI,MAAQrgH,MAAOgkH,GAAmBnqI,KAC5BoqI,EAAoB1/H,KAAK2G,OAAO84H,GAChCE,EAAoB3/H,KAAK0G,OAAO+4H,GAChCG,EAAapsG,IACf,MAAM7sB,EAAM3G,KAAK4D,MAAM87H,GACjBh5H,EAAM1G,KAAK2D,KAAKg8H,GACtB,GAAIh5H,IAAQD,EAER,YADA8sB,EAAKowD,SAAU,GAIfpwD,EAAKwsD,cAAgBr5E,EAAM,GAAK6sB,EAAKwsD,aAAer5E,IACpD6sB,EAAKwsD,aAAer5E,GAEpB6sB,EAAKwsD,aAAet5E,GAAO8sB,EAAKwsD,cAAgBt5E,EAAM,IACtD8sB,EAAKwsD,aAAet5E,GAExB,MAAMk9E,EAAUpwD,EAAKwsD,cAAgBr5E,GAAO6sB,EAAKwsD,cAAgBt5E,EACjE8sB,EAAKowD,QAAUA,CAAO,GAEpB,uBAAE00C,EAAsB,sBAAEC,EAAqB,uBAAEH,EAAsB,wBAAEC,GAA4B/iI,KAC3GgjI,EAAuBzU,KAAK+b,GAC5BrH,EAAsB1U,KAAK+b,GAC3BxH,EAAuBvU,KAAK+b,GAC5BvH,EAAwBxU,KAAK+b,GAC7BtqI,KAAKuiI,cAAcj0C,QAAUtuF,KAAKmjI,KAAKvuG,QACvC50B,KAAKwiI,eAAel0C,QAAUtuF,KAAKwlH,MAAM5wF,OAC7C,CACAiyG,kBAAiB,SAAEr8C,EAAQ,qBAAEm1C,EAAoB,oBAAEC,EAAmB,SAAEW,IACpE,IAAIjnH,EACJ,MAAMixH,EAAkBvqI,KAAKwqI,oBACF,QAA1BlxH,EAAKtZ,KAAKkkI,kBAA+B,IAAP5qH,GAAyBA,EAAGT,SAASsrH,IACpE,IAAI7qH,EACJ6qH,EAAU5D,UAAYA,EACtB4D,EAAUjjB,UAAY12B,KAAc9/E,KAAKkuF,GAAK,EAAIka,GAAmBsM,EAAItM,GAAmBuM,EAC5F8kB,EAAU3e,MAAMya,SAA+C,QAAnC3mH,EAAK6qH,EAAU3e,MAAMya,gBAA6B,IAAP3mH,EAAgBA,EAAKtZ,KAAKwlH,MAAMya,SACvGkE,EAAUxE,qBAAuBA,EACjCwE,EAAUvE,oBAAsBA,EAChCuE,EAAUzzG,OAAO65G,EAAgB,GAEzC,CACA7D,gBAAgBnG,GACZ,MAAM,KAAE4C,GAASnjI,KACjBA,KAAK8iI,uBAAuBvU,MAAM3nG,IAC9BA,EAAK2zE,YAAc4oC,EAAKlgD,MACxBr8D,EAAK0zE,OAAS6oC,EAAKppC,MACnBnzE,EAAKyiG,GAAKkX,EAAW4C,EAAKxmH,KAC1BiK,EAAKi+F,GAAK,EACVj+F,EAAK0iG,GAAK,EACV1iG,EAAKk+F,GAAK,CAAC,GAEnB,CACAklB,0BACI,MAAQ7jH,MAAOgkH,GAAmBnqI,KAC5BqR,EAAM3G,KAAK2G,OAAO84H,GAClB/4H,EAAM1G,KAAK0G,OAAO+4H,GACxB,OAAO/4H,EAAMC,CACjB,CACA01H,kBACI,CAEJd,gBAAe,SAAEz7C,EAAQ,SAAE+1C,IACvB,MAAM,eAAEkC,EAAc,UAAEL,EAAS,UAAEM,EAAS,YAAEW,EAAW,uBAAEL,EAAsB,YAAEY,EAAW,WAAEgC,GAAe5lI,KACzGyqF,EAAe//E,KAAK4D,MAAM+0H,EAAY70H,GACtCk8E,EAAehgF,KAAK4D,MAAM+0H,EAAYz7C,GAC5C66C,EAAeh4C,aAAeA,EAC9Bg4C,EAAe/3C,aAAeA,EAC9B+3C,EAAej4C,SAAWA,EAC1B43C,EAAU33C,aAAeA,EACzB23C,EAAU13C,aAAeA,EACzB03C,EAAU53C,SAAWA,EACrBk4C,EAAUj4C,aAAeA,EACzBi4C,EAAUh4C,aAAeA,EACzBg4C,EAAUl4C,SAAWA,EACrBw4C,EAAuBzU,MAAM3nG,IACzBA,EAAKyiG,GAAKua,EACVh9G,EAAKi+F,IAAM0b,EAAWqF,EAAahC,EACnCh9G,EAAK0iG,GAAK,EACV1iG,EAAKk+F,GAAK,CAAC,GAEnB,CACA2kB,yBAAyBgB,GACrB,MAAM,IAAI/iI,MAAM,wFACpB,CACA4+H,iBAAiBt5H,GACb,MAAM09H,EAAW1qI,KAAK4lI,WAAa54H,EAAO,GACpCg2H,EAAyBhjI,KAAK6lI,WAC9B7lI,KAAKgjI,uBACLhjI,KAAKgjI,uBAAuBtyG,OAAOg6G,GAAW33C,IAC5C,MAAM70D,EAAO,IAAImtF,GACjBntF,EAAKl7B,IAAMu+H,GAAKoJ,SAChB53C,EAAM9D,OAAO/wD,EAAK,IAEpB+kG,EAAwBjjI,KAAK6lI,WAC7B7lI,KAAKijI,sBAAsBvyG,OAAOg6G,GAAW33C,IAC3C,MAAM70D,EAAO,IAAIstF,GACjBttF,EAAKl7B,IAAMu+H,GAAKqJ,QAChB73C,EAAM9D,OAAO/wD,EAAK,IAEpBl+B,KAAKijI,sBACLH,EAAyB9iI,KAAK8iI,uBAAuBpyG,OAAO1jB,GAAO+lF,IACrE,MAAMnsE,EAAO,IAAIykG,GACjBzkG,EAAK5jB,IAAMu+H,GAAKsJ,SAChB93C,EAAM/oC,YAAYpjC,EAAK,IAErBm8G,EAA0B/iI,KAAK+iI,wBAAwBryG,OAAO1jB,GAAO+lF,IACvE,MAAMntC,EAAO,IAAI5L,GACjB4L,EAAK5iD,IAAMu+H,GAAKuJ,UAChB/3C,EAAM/oC,YAAYpE,EAAK,IAIrBmlF,EAAiB7sG,GAAUA,EAAKwsD,aAAehgF,KAAK86E,MAAMtnD,EAAKuwD,MAAM/D,cAC3Es4C,EAAuBzU,KAAKwc,GAC5B9H,EAAsB1U,KAAKwc,GAC3BjI,EAAuBvU,KAAKwc,GAC5BhI,EAAwBxU,KAAKwc,GAC7B/qI,KAAK8iI,uBAAyBA,EAC9B9iI,KAAK+iI,wBAA0BA,EAC/B/iI,KAAKgjI,uBAAyBA,EAC9BhjI,KAAKijI,sBAAwBA,CACjC,CACAwD,gBAAgBlG,GACZ,IAAIjnH,EACJ,MAAM,UAAEoqH,EAAS,MAAEv8C,EAAK,KAAEg8C,EAAI,YAAES,EAAW,WAAEgC,GAAe5lI,KAC5D,GAAI4lI,GAAclC,EAAUpiI,OAAQ,CAChC,MAAM0pI,EAAatH,EAAUpiI,OAC7B,IAAI2pI,EACJ,GAAIjrI,KAAK6lI,WAAY,CACjB,MAAMqF,EAAoBnyC,GAA2BE,GAAU2sC,IACzD+D,GAAiD,QAA/BrwH,EAAKtZ,KAAKmnF,MAAM0oC,iBAA8B,IAAPv2G,EAAgBA,EAAK,GAAK,EACzF2xH,EAAOjrI,KAAKijI,sBAAsB1U,MAAK,CAAC9C,EAAKh9B,KACzC,MAAMsiC,EAASrmH,KAAK86E,MAAM2B,EAAMwoC,QAAQlhC,GAASk7C,GACjDle,EAAIoF,QAAU,EACdpF,EAAIqF,QAAU3pC,EAAMhhE,MAAM,GAAK4qG,EAC/BtF,EAAItB,SAAW+gB,EACfzf,EAAIsF,OAASA,CAAM,GAE3B,MAEIka,EAAOjrI,KAAKgjI,uBAAuBzU,MAAM3nG,IACrCA,EAAKyiG,GAAKua,EACVh9G,EAAKi+F,IAAM0b,EAAWqF,EAAahC,EACnCh9G,EAAK0iG,GAAK,EACV1iG,EAAKk+F,GAAK,CAAC,IAGnBmmB,EAAK1c,MAAK,CAACrwF,EAAMnZ,EAAGxjB,KAChB,MAAMwmB,EAAQ27G,EAAUniI,EAAQypI,GAChC9sG,EAAKo8D,OAASvyE,EAAMuyE,OACpBp8D,EAAKq8D,YAAc4oC,EAAKlgD,MACxB/kD,EAAKs8D,SAAWzyE,EAAMyyE,SACtBt8D,EAAKsC,UAAOz+B,CAAS,GAE7B,CACJ,CACAwkI,cAAa,wBAAExD,EAAuB,iBAAEqD,EAAgB,aAAE1/C,EAAY,UAAEC,EAAS,OAAEm6C,IAC/E,MAAM,MAAEtb,EAAOA,OAAS5wF,QAASu2G,IAAqBnrI,KACtD,IAAKmrI,EACD,MAAO,CAAEjC,UAAW,GAAI9I,SAAS,GAGrC2C,EAAwBxU,MAAK,CAACrwF,EAAMuwD,KAChC,MAAM,UAAE66C,GAAc76C,EACtBvwD,EAAKqjE,UAAYikB,EAAMjkB,UACvBrjE,EAAKsjE,WAAagkB,EAAMhkB,WACxBtjE,EAAK0+D,SAAW4oB,EAAM5oB,SACtB1+D,EAAK2+D,WAAa2oB,EAAM3oB,WACxB3+D,EAAKsC,KAAOglF,EAAMzrB,MAClB77D,EAAK0nB,KAAO0jF,EACZ,MAAM8B,EAA2B,KAAdltG,EAAK0nB,WAA4B7jD,GAAbm8B,EAAK0nB,KACxCwlF,EACAltG,EAAKowD,SAAU,GAInBpwD,EAAKwoD,aAAeA,EACpBxoD,EAAKyoD,UAAYA,EACjBzoD,EAAK1vB,EAAIsyH,EACT5iG,EAAKqtD,gBAAkBu1C,EACvB5iG,EAAKssD,SAAW47C,EAChBloG,EAAKowD,SAAU,EAAI,GAE3B,CACAo6C,WAAWvC,EAAU5kI,EAAO8pI,GACxB,MAAQ7lB,OAAO,SAAEya,EAAQ,SAAEhiC,EAAQ,UAAEC,IAAiBl+F,KAChDsrI,EAAuBrL,EACvBv1H,KAAK86E,MAAMxlF,KAAKgqI,0BAA4B7D,EAASmB,YACrDtnI,KAAK+jI,aACLwH,EAA6B,OAAbttC,QAAkC,IAAbA,EAAsBA,EAAWqtC,EACtEE,EAAwBvL,EACxBjgI,KAAK+jI,aACLr5H,KAAK86E,MAAMxlF,KAAKgqI,0BAA4B7D,EAASmB,YACrDmE,EAA+B,OAAdvtC,QAAoC,IAAdA,EAAuBA,EAAYstC,EAOhF,OANArF,EAASzW,MAAM72G,SAASwwH,IACpB,MAAM,UAAEC,GAAcD,EAChBjrC,EAAW,YACXstC,EAAmB1xF,GAAKx9B,KAAK8sH,EAAWiC,EAAeE,EAAgBJ,EAAYjtC,GACzFirC,EAAUC,UAAYoC,CAAgB,IAEnC,CAAEvF,WAAU5kI,QAAOgmI,aAAc,EAAGE,WAAW,EAC1D,CACAvB,aAEI,MAAM,SAAE5D,EAAUn8G,MAAOgkH,GAAmBnqI,KAC5CsiI,EAASjZ,GAAK,EACdiZ,EAASzd,GAAK,EACdyd,EAAShZ,GAAK6gB,EAAe,GAC7B7H,EAASxd,GAAKqlB,EAAe,GAC7B7H,EAAS/nC,YAAcv6F,KAAK4mB,KAAKq8D,MACjCq/C,EAAShoC,OAASt6F,KAAK4mB,KAAKmzE,MAC5BuoC,EAASh0C,SAAU,CACvB,CACAq4C,aAAY,eAAEC,EAAc,SAAErG,IAC1B,IAAIjnH,EACJ,MAAMqyH,EAAqBrsE,GAAWA,EAAOl9C,cACvC,SAAEooE,EAAQ,MAAEovB,EAAK,cAAE4pB,EAAa,SAAElB,EAAUn8G,MAAOgkH,EAAc,cAAE5H,EAAa,eAAEC,EAAgB3iB,WAAW,cAAE+rB,IAAqB5rI,MACpI,UAAE03H,EAAYiU,GAA4C,QAArBryH,EAAKtZ,KAAK45G,aAA0B,IAAPtgG,EAAgBA,EAAK,CAAC,EAC9F,IAAKsgG,EAED,YADA4pB,EAAc5uG,SAAU,GAG5B4uG,EAAc5uG,QAAUglF,EAAMhlF,QAC9B4uG,EAAc3mC,WAAa+c,EAAM/c,WACjC2mC,EAAc5mC,SAAWgd,EAAMhd,SAC/B4mC,EAAcjiC,UAAYqY,EAAMrY,UAChCiiC,EAAchiC,WAAaoY,EAAMpY,WACjCgiC,EAAczpC,MAAQ6f,EAAM7f,MAC5BypC,EAAcplC,SAAWwb,EAAMxb,SAC/B,IAAIytC,GAAe,EACnB,MAAMC,EAAYtI,EAActlG,KAChC,GAAI07E,EAAMhlF,SAAW0tG,EAASh0C,QAAS,CACnCu9C,GAAe,EACf,MAAMlM,EAAuB9mC,GAAkBrO,GACzCk5B,EAAUkO,GAAQE,QAClBia,GAAkC,IAAdxL,GAAmBZ,EAAuBj1H,KAAKkuF,IAAM+mC,EAAiC,EAAVj1H,KAAKkuF,IAAU,EAAI,EACzHkzC,EAAUthD,SAAYuhD,EAAoBxL,EAAW71H,KAAKkuF,GAAM,EAChEkzC,EAAUt9H,EAAI9D,KAAK4D,MAAOy9H,EAAoBxL,GAAY4J,EAAe,GAAKA,EAAe,IAAO,GACpG,IAAI6B,EAAiB,EACrB,GAAIpF,EAAgB,CAChB,MAAMqF,EAAWp6C,GAAM9B,YAAY,CAACwyC,EAAeC,IAC7C0J,EAAyB,IAAb1hD,EAAiByhD,EAAShpD,MAAQgpD,EAASt8G,OACzDjlB,KAAKw9E,IAAIgkD,GAAa/3G,MACtB63G,GAAkBE,EAE1B,CAEIJ,EAAUlkD,GADI,IAAd24C,EACc71H,KAAK4D,MAAMy9H,IAAsBroB,EAAUsoB,IAG3CthI,KAAK4D,OAAOo1G,EAAUsoB,GAExCF,EAAUplD,aAAqC,IAAtBqlD,EAA0B,SAAW,MAC9DD,EAAUlmF,KAAOgmF,EAAcpiI,KAAKkuH,EAAW13H,KAAKmsI,0BACxD,CACAL,EAAUx9C,QAAUu9C,CACxB,CAEAhC,WAAWp7C,EAAOltF,GACd,IAAI+X,EAAIqb,EACR,MAAM,MAAE6wF,EAAK,eAAE6f,EAAc,eAAEthC,EAAgB8b,WAAW,cAAE+rB,IAAqB5rI,KACjF,GAAIwlH,EAAMkS,UAAW,CACjB,MAAMt1G,EAAe2hF,EAAiB,EAAItV,EAAQluF,OAAOkuF,GACzD,OAKQ,QALCn1E,EAAKsyH,EAAcpiI,KAAKg8G,EAAMkS,UAAW,CAC9Ct2H,MAAOghB,EACP7gB,QACAwiG,iBACA2zB,UAAW2N,WACQ,IAAP/rH,EAAgBA,EAAK8I,CACzC,CACK,OAAIijH,GACuD,QAApD1wG,EAAKi3G,EAAcpiI,KAAK67H,EAAgB52C,UAA2B,IAAP95D,EAAgBA,EAGjFp0B,OAAOkuF,EAClB,CAEA29C,YAAY39C,GACR,OAAOluF,OAAOkuF,EAClB,CACAsB,cACI,OAAO/vF,KAAKoiI,UAAUryC,aAC1B,CACAu0C,cAAcH,GACVA,EAAUh9C,MAAQnnF,KAAKmnF,MACvBg9C,EAAUyB,WAAa5lI,KAAK4lI,UAChC,CACA4E,oBACI,OAAO,CACX,CACA6B,cAAc79H,EAAGo5E,EAAG3E,EAAOtzD,GACvB3vB,KAAKuiI,cAAcruC,kCAAkC,IAAIvM,GAAKn5E,EAAGo5E,EAAG3E,EAAOtzD,GAC/E,CACA28G,SAAS99H,EAAGo5E,EAAG3E,EAAOtzD,GAClB3vB,KAAK0iI,UAAUxuC,kCAAkC,IAAIvM,GAAKn5E,EAAGo5E,EAAG3E,EAAOtzD,GAC3E,CACAg0F,iBAAiBtyG,EAAKk7H,GAClB,OAAO7hI,KAAKw9E,IAAU,IAAN72E,EACpB,EAEJ8wH,GAAK+H,sBAAwB,GAC7Bj7G,GAAW,CACPmgF,GAASiB,KACV8xB,GAAKn5H,UAAW,YAAQ,GAC3BimB,GAAW,CACPmgF,GAASkyB,KACVa,GAAKn5H,UAAW,iBAAa,GAChCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBuxB,GAAKn5H,UAAW,iBAAa,GC9qCzB,MAAMwjI,WAAoBja,GAC7BhnH,cACI+jB,MAAM,CAAC,EAAG,GAAI,CAAC,EAAG,IAClBtvB,KAAKuM,KAAO,QAChB,CACAgnH,SAASpkG,GACL,OAAOA,CACX,CACAugG,QACI,IAAIp2G,EACJ,MAAMoN,EAAkC,QAAzBpN,EAAKtZ,KAAKyyH,iBAA8B,IAAPn5G,EAAgBA,EAAKi5G,GAAgBG,iBACrF,IAAK1yH,KAAKgzG,QAAUhzG,KAAKgzG,OAAO1xG,OAAS,GAAKolB,EAAQ,GAAK1mB,KAAKgzG,OAAO56E,MAAMjJ,IAAOyzE,SAASzzE,KACzF,MAAO,GAEXnvB,KAAKyvH,UACL,MAAOyD,EAAIC,GAAMnzH,KAAKk0G,aAChB,SAAEvzB,GAAa3gF,KACrB,GAAI2gF,EAAU,CACV,MAAMH,EAAO91E,KAAKw9E,IAAIvH,GACtB,IAAK3gF,KAAKwzH,gBAAgB,CAAEntG,MAAO6sG,EAAIh+G,KAAMi+G,EAAIxyC,SAAUH,IACvD,OAAOr6D,GAAM+sG,EAAIC,EAAI3yC,EAE7B,CACA,OAAOkvC,GAAMwD,EAAIC,EAAIzsG,EAAO1mB,KAAK2yH,aAAc3yH,KAAK4yH,aACxD,CACAliG,UACS1wB,KAAKgzG,QAAUhzG,KAAKgzG,OAAO1xG,OAAS,GAGrCtB,KAAKwyH,MACLxyH,KAAKk7H,kBAEb,CAKAA,mBACI,IAAI5hH,EAAIqb,EACR,MAAMjO,EAAkC,QAAzBpN,EAAKtZ,KAAKyyH,iBAA8B,IAAPn5G,EAAgBA,EAAKi5G,GAAgBG,iBACrF,IAAKrsG,EAAOnR,GAAQlV,KAAKgzG,OACzB,GAAItsF,EAAQ,EAER,YADA1mB,KAAK6yH,WAAa,CAACxsG,EAAOnR,IAG9B,GAAc,IAAVwR,EAEA,YADA1mB,KAAK6yH,WAAauB,GAAiB/tG,EAAOnR,IAG9C,MAAMimH,EAAc,EACpB,IAAIsR,EAAQpmH,EACRqmH,EAAQx3H,EACZ,IAAK,IAAItR,EAAI,EAAGA,EAAIu3H,EAAav3H,IAAK,CAClC,MAAM48E,EAAgC,QAAxB7rD,EAAK30B,KAAK2gF,gBAA6B,IAAPhsD,EAAgBA,EAAKi/F,GAASvtG,EAAOnR,EAAMwR,EAAO1mB,KAAK2yH,aAAc3yH,KAAK4yH,eACjHM,EAAIC,GAAMnzH,KAAKgzG,OACtB,GAAIxyB,GAAQ,EACRn6D,EAAQ3b,KAAK4D,MAAM4kH,EAAK1yC,GAAQA,EAChCtrE,EAAOxK,KAAK2D,KAAK8kH,EAAK3yC,GAAQA,MAE7B,CAED,MAAMn7E,EAAI,EAAIm7E,EACdn6D,EAAQ3b,KAAK4D,MAAM4kH,EAAK7tH,GAAKA,EAC7B6P,EAAOxK,KAAK2D,KAAK8kH,EAAK9tH,GAAKA,CAC/B,CACA,GAAIghB,IAAUomH,GAASv3H,IAASw3H,EAC5B,MAEJD,EAAQpmH,EACRqmH,EAAQx3H,CACZ,CACAlV,KAAK6yH,WAAa,CAACxsG,EAAOnR,EAC9B,CACA8lH,YAAW,MAAEtL,EAAK,UAAEuL,IAChB,OAAOD,GAAqB,OAAVtL,QAA4B,IAAVA,EAAmBA,EAAQ1vH,KAAK0vH,QAASuL,EACjF,ECjFJ,IAAIhsG,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAMO,MAAMwsH,WAAkBxK,GAC3B52H,YAAYs0G,EAAW14B,GACnB73D,MAAMuwF,EAAW14B,GACjBnnF,KAAK0D,KAAO,GACZ1D,KAAK4sI,YAAc,GACnB5sI,KAAK6sI,yBAA0B,EAC/B7sI,KAAK+vD,QAAU,CAAC,EAChB/vD,KAAK4jF,SAAW,MACpB,CACIr3E,WACA,IAAI+M,EACJ,OAAwC,QAAhCA,EAAKtZ,KAAKuL,YAAYgB,YAAyB,IAAP+M,EAAgBA,EAAK,EACzE,CACI4nG,gBACA,MAAO,CAAC,MAAO,UAAU1/G,SAASxB,KAAK4jF,UAAYkvB,GAAmBsM,EAAItM,GAAmBuM,CACjG,CACAytB,yBAII,OAAO9sI,KAAKmnF,iBAAiBqlD,EACjC,CACA97G,OAAOo1G,GAEH,OADA9lI,KAAK+sI,kBACEz9G,MAAMoB,OAAOo1G,EACxB,CACAiH,kBACI,OAAQ/sI,KAAK4jF,UACT,IAAK,MACD5jF,KAAKwqF,UAAY,GACjBxqF,KAAKwlH,MAAMwc,UAAW,EACtBhiI,KAAKwlH,MAAMya,UAAW,EACtB,MACJ,IAAK,QACDjgI,KAAKwqF,SAAW,EAChBxqF,KAAKwlH,MAAMwc,UAAW,EACtBhiI,KAAKwlH,MAAMya,UAAW,EACtB,MACJ,IAAK,SACDjgI,KAAKwqF,UAAY,GACjBxqF,KAAKwlH,MAAMwc,UAAW,EACtBhiI,KAAKwlH,MAAMya,UAAW,EACtB,MACJ,IAAK,OACDjgI,KAAKwqF,SAAW,EAChBxqF,KAAKwlH,MAAMwc,UAAW,EACtBhiI,KAAKwlH,MAAMya,UAAW,EACtB,MAEJjgI,KAAKgtI,cACLhtI,KAAKgtI,YAAYppD,SAAW5jF,KAAK4jF,SACjC5jF,KAAKgtI,YAAY9rB,UAAYlhH,KAAKkhH,UAE1C,CACA6lB,kBACI,MAAM,UAAE7lB,EAAS,YAAE0rB,EAAW,wBAAEC,GAA4B7sI,KAC5D,GAAIA,KAAKitI,SACLjtI,KAAKm1G,WAAan1G,KAAKitI,SAAS93B,eAE/B,CACD,MAAM+3B,EAAU,GACVC,EAAgBP,EAAYlzH,QAAQrU,GAAMwnI,GAA2BxnI,EAAEk+G,cAC7E,IAAK,MAAMlF,KAAU8uB,EACjBD,EAAQv9H,KAAK0uG,EAAOnK,UAAUgN,IAElC,MAAMlO,GAAS,IAAIrmG,OAAQ6C,UAAU09H,GACrCltI,KAAKm1G,WAAan1G,KAAKotI,oBAAoBp6B,EAC/C,CACJ,CACAo6B,oBAAoBj+G,GAChB,OAAOA,CACX,CACAq7G,oBACI,OAAOxqI,KAAK4sI,YAAYx0G,MAAM/yB,GAAMrF,KAAK6sI,yBAA2BxnI,EAAEk+G,aAC1E,CACA8pB,iBACI,OAAOxrI,OAAO6hB,OAAO,CAAEioG,KAAM3rH,KAAK+vF,cAAe6zC,YAAa5jI,KAAK4jI,YAAaC,kBAAmB7jI,KAAK6jI,kBAAmByJ,SAAUttI,KAAKmjI,KAAKxmH,MAAQ3c,KAAKsjI,OAChK,CACAiK,UAAU3tI,GACN,GAAuC,MAAnCI,KAAK+vD,QAAQnwD,EAAO4tI,YACpB,MAAM,IAAI9lI,MAAM,2CAA6C9H,EAAO4tI,YAExE,GAAwB,MAApBxtI,KAAKgtI,YAAqB,CAC1B,MAAMtpI,EAAOA,IACF1D,KAAK4sI,YACPjzH,KAAKtU,GAAMA,EAAEm8G,QAAQxhH,KAAKkhH,aAC1Bv3F,QAAO,CAACjmB,EAAM+pI,KACf/pI,EAAKiM,QAAQ89H,GACN/pI,IACR,IAEP1D,KAAKgtI,YAAc,CACfU,OAAQ1tI,KAAKgS,GACb4xE,SAAU5jF,KAAK4jF,SACfs9B,UAAWlhH,KAAKkhH,UAChBpD,WAAY99G,KAAKmnF,iBAAiBorC,GAClC7uH,OACAiqI,oBAAsB1S,IAAgB,IAAI3hH,EAAIqb,EAAI2C,EAAI,OAAsH,QAA9GA,EAA6C,QAAvC3C,GAAMrb,EAAKtZ,KAAKmnF,OAAO6zC,kBAA+B,IAAPrmG,OAAgB,EAASA,EAAGnrB,KAAK8P,EAAI,CAAE2hH,qBAAiC,IAAP3jG,EAAgBA,OAAKv1B,CAAS,EAClN6rI,eAAgBA,KAAQ,IAAIt0H,EAAI,OAAuC,QAA/BA,EAAKtZ,KAAKmnF,MAAM0oC,iBAA8B,IAAPv2G,EAAgBA,EAAK,CAAC,EACrGu0H,aAAev9H,GAAQtQ,KAAKmnF,MAAMwoC,QAAQr/G,GAC1Cw9H,YAAcx9H,IAAU,IAAIgJ,EAAIqb,EAAI2C,EAAI,OAAwG,QAAhGA,EAAyC,QAAnC3C,GAAMrb,EAAKtZ,KAAKmnF,OAAOyoC,cAA2B,IAAPj7F,OAAgB,EAASA,EAAGnrB,KAAK8P,EAAIhJ,UAAyB,IAAPgnB,EAAgBA,OAAKv1B,CAAS,EAE9L,CACA,MAAMgsI,EAAiB,IAAInuI,EAAOouI,oBAAoBnsI,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG1jB,KAAK6/G,WAAY,CAAElrG,OAAQ3U,KAAKgtI,eACtHhtI,KAAK+vD,QAAQnwD,EAAO4tI,YAAc,CAAE1jH,SAAUikH,GAC9C/tI,KAAKJ,EAAO4tI,YAAcO,CAC9B,CACAE,aAAaruI,GACT,IAAI0Z,EAAIqb,EAC2F,QAAlGA,EAAgD,QAA1Crb,EAAKtZ,KAAK+vD,QAAQnwD,EAAO4tI,mBAAgC,IAAPl0H,OAAgB,EAASA,EAAGwQ,gBAA6B,IAAP6K,GAAyBA,EAAGrE,iBAChItwB,KAAK+vD,QAAQnwD,EAAO4tI,mBACpBxtI,KAAKJ,EAAO4tI,WACvB,CACAU,gBAAgBtuI,GACZ,OAA0C,MAAnCI,KAAK+vD,QAAQnwD,EAAO4tI,WAC/B,CACAl9G,UACIhB,MAAMgB,UACN,IAAK,MAAOvtB,EAAKnD,KAAWiC,OAAO6nB,QAAQ1pB,KAAK+vD,SAC5CnwD,EAAOkqB,SAASwG,iBACTtwB,KAAK+vD,QAAQhtD,UACb/C,KAAK+C,EAEpB,CACAopI,0BACI,IAAI7yH,EACJ,MAAMszH,EAAc5sI,KAAK4sI,YAAYjjH,QAAO,CAACqvF,EAAKv7F,KAC9C,MAAM/Z,EAAO+Z,EAAK+jG,QAAQxhH,KAAKkhH,WACzBtxG,EAAQ6N,EAAKgkG,SAASzhH,KAAKkhH,WACjC,IAAK,IAAIz6F,EAAM,EAAGA,EAAM/iB,EAAKpC,OAAQmlB,IACjCuyF,EAAIrpG,KAAK,CACL5M,IAAKW,EAAK+iB,GACVniB,KAAMsL,EAAM6W,KAGpB,OAAOuyF,CAAG,GACX,IACH,MAAO,CACHkI,UAAWlhH,KAAKkhH,UAChB0rB,cACAxqH,aAAoC,QAArB9I,EAAKtZ,KAAK45G,aAA0B,IAAPtgG,OAAgB,EAASA,EAAGssC,KAEhF,EAEJ32B,GAAW,CACPmgF,GAASqC,KACVk7B,GAAU3jI,UAAW,YAAQ,GAChCimB,GAAW,CACPmgF,GAASoD,KACVm6B,GAAU3jI,UAAW,gBAAY,GChKpC,IAAIimB,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAIO,MAAMguH,WAAqBxB,GAC9BphI,YAAYs0G,GACRvwF,MAAMuwF,EAAW,IAAImP,IACrBhvH,KAAKouI,yBAA0B,EAC/BpuI,KAAKquI,kBAAoB,GACzBruI,KAAK6sI,yBAA0B,CACnC,CACI9c,iBAAa3uH,GACbpB,KAAKouI,yBAA0B,EAC/BpuI,KAAKmnF,MAAM4oC,aAAe3uH,CAC9B,CACI2uH,mBAEA,OADA/vH,KAAKouI,yBAA0B,EACxBpuI,KAAKmnF,MAAM4oC,YACtB,CACIC,iBAAa5uH,GACbpB,KAAKmnF,MAAM6oC,aAAe5uH,CAC9B,CACI4uH,mBACA,OAAOhwH,KAAKmnF,MAAM6oC,YACtB,CACAod,oBAAoBj+G,GAEhB,MAAMm/G,EAAY,IAAIv4H,IAAIoZ,GAC1B,OAAO,IAAIxiB,SAAS2hI,EAAU51H,SAClC,CACAquH,kBACI,IAAK/mI,KAAKouI,wBAAyB,CAC/B,MAAM,YAAExB,GAAgB5sI,KAClBuuI,EAAW3B,EAAYjzH,KAAKtU,IAAQ,IAAIiU,EAAI,OAAwC,QAAhCA,EAAKjU,EAAEw7G,2BAAwC,IAAPvnG,OAAgB,EAASA,EAAG9P,KAAKnE,EAAE,IAAKqU,QAAQuR,GAAW,MAALA,IACpJsjH,EAASjtI,OAAS,IAClBtB,KAAKmnF,MAAM4oC,aAAerlH,KAAK2G,OAAOk9H,EAAS50H,KAAKsR,GAAMA,EAAE61F,SAC5D9gH,KAAKmnF,MAAM6oC,aAAetlH,KAAK0G,OAAOm9H,EAAS50H,KAAKsR,GAAMA,EAAE81F,SAEpE,CACA,OAAOzxF,MAAMy3G,iBACjB,EC7BG,SAASyH,GAAShrI,EAAQD,GAC7B,MAAMkrI,EAAaC,GAASlrI,GACtB+b,EAAamvH,GAASnrI,GAC5B,GAAmB,UAAfgc,EAAwB,CACxB,MAAMovH,EAAcprI,EACpB,MAAmB,UAAfkrI,GAA0BjrI,EAAOlC,SAAWqtI,EAAYrtI,QAGxDqtI,EAAYv2G,MAAK,CAACw2G,EAAehrI,KAAQ,IAAI0V,EAAI,OAA4F,MAArFk1H,GAA2B,QAAjBl1H,EAAK9V,SAA2B,IAAP8V,OAAgB,EAASA,EAAG1V,GAAIgrI,EAAsB,IAF1I,IAAID,GAKR,IACX,CACA,GAAmB,cAAfpvH,EACA,MAAmB,cAAfkvH,EACO5sI,OAAO6hB,OAAO,CAAC,EAAGngB,GAEzBC,IAAWD,EACJA,EAEJ,KAEX,MAAMsrI,EAAMrrI,GAAU,CAAC,EACjBsrI,EAAMvrI,GAAU,CAAC,EACjBwrI,EAAW,IAAIh5H,IAAI,IAAIlU,OAAO6B,KAAKmrI,MAAShtI,OAAO6B,KAAKorI,KAC9D,IAAIE,EAAoB,EACxB,MAAM/rI,EAAS,CAAC,EAChB,IAAK,MAAMwzC,KAAQs4F,EAAU,CAEzB,GAAIF,EAAIp4F,KAAUq4F,EAAIr4F,GAClB,SAEJ,MAAMw4F,EAAQ9yH,IACVlZ,EAAOwzC,GAAQt6B,EACf6yH,GAAmB,EAEjBE,EAAUR,GAASG,EAAIp4F,IACvB04F,EAAUT,GAASI,EAAIr4F,IAC7B,GAAIy4F,IAAYC,EAAS,CAErBF,EAAKH,EAAIr4F,IACT,QACJ,CACA,GAAgB,cAAZ04F,GAAuC,OAAZA,EAAkB,CAC7CF,EAAKH,EAAIr4F,IACT,QACJ,CACA,GAAgB,UAAZ04F,GAAuBN,EAAIp4F,GAAMn1C,SAAWwtI,EAAIr4F,GAAMn1C,OAAQ,CAE9D2tI,EAAKH,EAAIr4F,IACT,QACJ,CACA,GAAgB,mBAAZ04F,EAA8B,CAE9BF,EAAKH,EAAIr4F,IACT,QACJ,CACA,GAAgB,aAAZ04F,GAA0BN,EAAIp4F,KAAUq4F,EAAIr4F,GAAO,CACnDw4F,EAAKH,EAAIr4F,IACT,QACJ,CACA,MAAMpiB,EAAOm6G,GAASK,EAAIp4F,GAAOq4F,EAAIr4F,IACxB,OAATpiB,GACA46G,EAAK56G,EAEb,CACA,OAA6B,IAAtB26G,EAA0B,KAAO/rI,CAC5C,CDpCAkrI,GAAa9jF,UAAY,eACzB8jF,GAAa5hI,KAAO,WACpB0iB,GAAW,CACPmgF,GAASwB,GAAO,EAAG,KACpBu9B,GAAanlI,UAAW,yBAAqB,GCqCzC,MAAMomI,GAASl+H,OAAO,qBACvBm+H,GAAgBn+H,OAAO,0BActB,SAASo+H,GAAUC,EAAM9vD,GAC5B,IAAInmE,EACJ,MAAMk2H,EAA4F,QAA1El2H,EAAc,OAATmmE,QAA0B,IAATA,OAAkB,EAASA,EAAK+vD,sBAAmC,IAAPl2H,EAAgBA,EAAK,GACzHm2H,EAAYF,EAAK51H,KAAKwC,GAAMuyH,GAASvyH,KAC3C,GAAIszH,EAAUr3G,MAAMjc,GAAY,UAANA,IAAgB,CAEtC,MAAMuzH,EAAaH,EAAKA,EAAKjuI,OAAS,GACtC,OAAIouI,aAAsB/iI,MACf+iI,EAAW/1H,KAAKwC,IACnB,MAAM5P,EAAOmiI,GAASvyH,GACtB,MAAa,UAAT5P,EACO+iI,GAAU,CAAC,GAAInzH,GAAIsjE,GACjB,WAATlzE,EACO+iI,GAAU,CAAC,CAAC,EAAGnzH,GAAIsjE,GACvBtjE,CAAC,IAGTuzH,CACX,CACA,MAAMzsI,EAAS,CAAC,EACV2kB,EAAQ,IAAI7R,IAAIw5H,EAAK51H,KAAKwC,GAAY,MAALA,EAAYta,OAAO6B,KAAKyY,GAAK,KAAKwN,QAAO,CAACxJ,EAAG1R,IAAM0R,EAAE3Q,OAAOf,IAAI,KACvG,IAAK,MAAMkhI,KAAY/nH,EAAO,CAC1B,MAAMlP,EAAS62H,EACV51H,KAAKgN,GAAY,MAALA,GAAagpH,KAAYhpH,EAAIA,EAAEgpH,GAAYN,KACvD31H,QAAQyC,GAAMA,IAAMkzH,KACzB,GAAsB,IAAlB32H,EAAOpX,OACP,SAEJ,MAAMsuI,EAAYl3H,EAAOA,EAAOpX,OAAS,GACzC,GAAIsuI,IAAcR,GACd,SAEJ,MAAMS,EAAQn3H,EAAOiB,KAAKwC,GAAMuyH,GAASvyH,KACnC5P,EAAOsjI,EAAM,GACfA,EAAMz3G,MAAM6e,GAAMA,IAAM1qC,IAExBtJ,EAAO0sI,GAAYC,EAGT,UAATrjI,GAA6B,WAATA,GAAuBijI,EAAehuI,SAASmuI,GAMpE1sI,EAAO0sI,GAHO,UAATpjI,EAGc,IAAIqjI,GAIJA,EATnB3sI,EAAO0sI,GAAYL,GAAU52H,EAAQ+mE,EAW7C,CACA,OAAOx8E,CACX,CAcO,SAAS6sI,GAAUvsI,EAAQC,EAAQ87D,EAAS,CAAC,GAChD,IAAIhmD,EAAIqb,EACR,MAAM,KAAEqM,EAAgB,YAAE+uG,GAAc/uG,EAAOA,EAAKr5B,QAAQ,iBAAkB,WAAQ5F,GAAS,KAAEiuI,EAAO,GAAE,aAAEC,EAAe,CAAC,EAAC,aAAEC,EAAe,CAAC,EAAC,IAAEzpH,GAAS64C,EAC3J,GAAc,MAAV/7D,EACA,MAAM,IAAImE,MAAO,wCAAgD,OAATs5B,QAA0B,IAATA,EAAkBA,EAAO,YAEtG,GAAc,MAAVx9B,EACA,OAAOD,EAEX,MAAM4sI,EAAY5sI,EACP,MAAPkjB,GAAe,sBAAuB0pH,IACtCA,EAAU,qBAAuB1pH,GAErC,MAAMlH,EAAamvH,GAASnrI,GAC5B,IAAK,MAAM03F,KAAYz3F,EAAQ,CAC3B,MAAM4sI,EAAuB,GAAEL,EAAcA,EAAc,IAAM,KAAK90C,IACtE,GAAI+0C,EAAKvuI,QAAQ2uI,IAAwB,EACrC,SAEJ,MAAM73H,EAAW/U,EAAOy3F,GAClBo1C,EAAgB,GAAErvG,EAAOA,EAAO,IAAM,KAAKi6D,IAC3CqU,EAAc6gC,EAAU5kI,YACxBilB,EAAe2/G,EAAUl1C,GAC/B,IAAIq1C,EAAmD,QAA5Ch3H,EAAK22H,EAAaG,UAAyC,IAAP92H,EAAgBA,EAAK22H,EAAah1C,GACjG,IACI,MAAMs1C,EAAmB7B,GAASl+G,GAC5BggH,EAAe9B,GAASn2H,GAC9B,GAAmB,mBAAfgH,KACE07E,KAAY13F,KAAU1B,OAAOmH,UAAUM,eAAeE,KAAK2mI,EAAWl1C,GAAY,CACpFzJ,GAAOrgE,KAAM,kBAAiBk/G,SAAoC,OAAhB/gC,QAAwC,IAAhBA,OAAyB,EAASA,EAAYhrG,8BACxH,QACJ,CACA,MAAMmsI,EAA8D,QAA5C97G,EAAKu7G,EAAaE,UAAyC,IAAPz7G,EAAgBA,EAAK,CAAC47G,GAClG,GAAyB,mBAArBA,GAA0D,WAAjBC,QAGxC,GAAwB,MAApBD,GAA4C,MAAhBC,IAAyBC,EAAejvI,SAASgvI,GAAe,CACjGh/C,GAAOrgE,KAAM,kBAAiBk/G,SAAoC,OAAhB/gC,QAAwC,IAAhBA,OAAyB,EAASA,EAAYhrG,+BAA+BksI,2BAAsCC,MAC7L,QACJ,CACA,GAAqB,UAAjBD,EAEA,GADAF,EAAc,OAARA,QAAwB,IAARA,EAAiBA,EAAML,EAAc,GAAEG,OAClD,MAAPE,EAAa,CACb,MAAMI,EAAgBn4H,EACtB43H,EAAUl1C,GAAYy1C,EAAc/2H,KAAI,CAACwC,EAAGsK,IAAQqpH,GAAU,IAAIQ,EAAOn0H,EAAGta,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG47C,GAAS,CAAEt+B,KAAMqvG,EAAcN,YAAaK,EAAsB,KAAM3pH,UACxL,MAEI0pH,EAAUl1C,GAAY1iF,MAGJ,mBAAjBi4H,EACLL,EAAUl1C,GAAY1iF,EAEA,WAAjBi4H,EACe,MAAhBhgH,EACAs/G,GAAUt/G,EAAcjY,EAAU1W,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG47C,GAAS,CAAEt+B,KAAMqvG,EAAcN,YAAaK,EAAqB3pH,SAAK1kB,KAGxIouI,EAAUl1C,GADE,MAAPq1C,EACiBR,GAAU,IAAIQ,EAAO/3H,EAAU1W,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG47C,GAAS,CAAEt+B,KAAMqvG,EAAcN,YAAaK,EAAqB3pH,SAAK1kB,KAGrIwW,EAI1B43H,EAAUl1C,GAAY1iF,CAE9B,CACA,MAAOrW,GACH,MAAMqvB,EAAMrvB,EACZsvF,GAAOrgE,KAAM,kBAAiBk/G,UAAqC,OAAhB/gC,QAAwC,IAAhBA,OAAyB,EAASA,EAAYhrG,2BAA2BitB,EAAI7d,WACxJ,QACJ,CACJ,CACA,OAAOnQ,CACX,CAWO,SAASotI,GAASpB,EAAMqB,EAAOnxD,KAASoxD,GAC3C,IAAIv3H,EACJ,MAAMw3H,EAAWpC,GAASa,GACpBS,EAA4B,QAApB12H,EAAKmmE,EAAKuwD,YAAyB,IAAP12H,EAAgBA,EAAK,GAC/D,GAAiB,UAAbw3H,GAMC,GAAiB,WAAbA,EAAJ,CAGLF,EAAME,EAAUvB,KAASsB,GACzB,IAAK,MAAM51C,KAAYs0C,EAAM,CACzB,GAAIS,EAAKvuI,QAAQw5F,IAAa,EAC1B,SAEJ,MAAM75F,EAAQmuI,EAAKt0C,GACb81C,EAAwB,OAAVF,QAA4B,IAAVA,OAAmB,EAASA,EAAMl3H,KAAKqR,GAAY,OAANA,QAAoB,IAANA,OAAe,EAASA,EAAEiwE,KACrHlwB,EAAY2jE,GAASttI,GACT,WAAd2pE,GAAwC,UAAdA,GAC1B4lE,GAASvvI,EAAOwvI,EAAOnxD,KAASsxD,EAExC,CAZA,OAPIxB,EAAK12H,SAAQ,CAAC8tD,EAASplE,KACnBovI,GAAShqE,EAASiqE,EAAOnxD,MAAoB,OAAVoxD,QAA4B,IAAVA,EAAmBA,EAAQ,IAAIl3H,KAAKqR,GAAY,OAANA,QAAoB,IAANA,OAAe,EAASA,EAAEzpB,KAAQ,GAmB3J,CACA,MAAMyvI,GAA8B,qBAAXpmI,OAIzB,SAAS8jI,GAASttI,GACd,OAAa,MAATA,EACO,KAEF4vI,IAAa5vI,aAAiB0zB,YAC5B,YAEF1zB,aAAiBuL,MACf,QAEFvL,aAAiBgqB,KACf,YAEe,kBAAVhqB,GAAsBA,EAAMmK,cAAgB1J,OACjD,SAEe,oBAAVT,EACL,WAEe,kBAAVA,GAA2C,MAArBA,EAAMmK,YACjC,iBAEJ,WACX,CCpTO,MAAM0lI,WAAezjB,GACxBH,aACI,MAAM,KAAErsF,EAAI,EAAExyB,EAAC,EAAEo5E,GAAM5nF,KACjBkxI,EAAKlxI,KAAK2c,KAAO,EACvBqkB,EAAKlkB,QACLkkB,EAAK8yD,OAAO9zF,KAAKy7F,MAAMjtF,EAAI0iI,GAAKlxI,KAAKy7F,MAAM7T,EAAIspD,IAC/ClwG,EAAK+yD,OAAO/zF,KAAKy7F,MAAMjtF,EAAI0iI,GAAKlxI,KAAKy7F,MAAM7T,EAAIspD,IAC/ClwG,EAAK+yD,OAAO/zF,KAAKy7F,MAAMjtF,EAAI0iI,GAAKlxI,KAAKy7F,MAAM7T,EAAIspD,IAC/ClwG,EAAK+yD,OAAO/zF,KAAKy7F,MAAMjtF,EAAI0iI,GAAKlxI,KAAKy7F,MAAM7T,EAAIspD,IAC/ClwG,EAAKgzD,WACT,EAEJi9C,GAAO5mF,UAAY,SCZZ,MAAM8mF,WAAc3jB,GACvBH,aACI,MAAMhoH,EAAIrF,KAAK2c,KAAO,IACtB2S,MAAMo+F,UAAUroH,EAAG8rI,GAAMxjB,MAC7B,EAEJwjB,GAAM9mF,UAAY,QAClB8mF,GAAMxjB,MAAQ,CACV,CAAEn/G,GAAI,EAAGo5E,EAAG,EAAG3wC,EAAG,QAClB,CAAEzoC,GAAI,EAAGo5E,GAAI,GACb,CAAEp5E,EAAG,EAAIo5E,GAAI,GACb,CAAEp5E,EAAG,EAAIo5E,EAAG,GACZ,CAAEp5E,EAAG,EAAIo5E,GAAI,GACb,CAAEp5E,EAAG,EAAIo5E,EAAG,GACZ,CAAEp5E,GAAI,EAAGo5E,EAAG,GACZ,CAAEp5E,EAAG,EAAIo5E,EAAG,GACZ,CAAEp5E,GAAI,EAAGo5E,EAAG,GACZ,CAAEp5E,GAAI,EAAGo5E,GAAI,GACb,CAAEp5E,GAAI,EAAGo5E,EAAG,GACZ,CAAEp5E,GAAI,EAAGo5E,GAAI,ICnBV,MAAMwpD,WAAgB5jB,GACzBH,aACI,MAAMhoH,EAAIrF,KAAK2c,KAAO,EACtB2S,MAAMo+F,UAAUroH,EAAG+rI,GAAQzjB,MAC/B,EAEJyjB,GAAQ/mF,UAAY,UACpB+mF,GAAQzjB,MAAQ,CACZ,CAAEn/G,EAAG,EAAGo5E,GAAI,EAAG3wC,EAAG,QAClB,CAAEzoC,EAAG,EAAIo5E,EAAG,GACZ,CAAEp5E,GAAI,EAAGo5E,EAAG,GACZ,CAAEp5E,GAAI,EAAGo5E,GAAI,GACb,CAAEp5E,EAAG,EAAIo5E,GAAI,ICZV,MAAMypD,WAAc7jB,GACvB8jB,IAAIC,GACA,OAAQA,EAAS,IAAO7mI,KAAKkuF,EACjC,CACAy0B,aACI,MAAM,EAAE7+G,EAAC,KAAEwyB,EAAI,KAAErkB,EAAI,IAAE20H,GAAQtxI,KACzBmgB,EAAIxD,EAAO,EACXirE,EAAI5nF,KAAK4nF,EAAIznE,EAAI,EACvB6gB,EAAKlkB,QACLkkB,EAAKyqF,IAAIj9G,EAAI2R,EAAGynE,EAAIznE,EAAGA,EAAGmxH,EAAI,KAAMA,EAAI,MACxCtwG,EAAKyqF,IAAIj9G,EAAI2R,EAAGynE,EAAIznE,EAAGA,EAAGmxH,EAAI,KAAMA,EAAI,KACxCtwG,EAAK+yD,OAAOvlF,EAAGo5E,EAAIznE,GACnB6gB,EAAKgzD,WACT,EAEJq9C,GAAMhnF,UAAY,QCfX,MAAMmnF,WAAahkB,GACtBH,aACI,MAAMhoH,EAAIrF,KAAK2c,KAAO,EACtB2S,MAAMo+F,UAAUroH,EAAGmsI,GAAK7jB,MAC5B,EAEJ6jB,GAAKnnF,UAAY,OACjBmnF,GAAK7jB,MAAQ,CACT,CAAEn/G,GAAI,GAAKo5E,GAAI,GAAK3wC,EAAG,QACvB,CAAEzoC,EAAG,EAAGo5E,GAAI,GACZ,CAAEp5E,EAAG,EAAIo5E,EAAG,GACZ,CAAEp5E,EAAG,EAAGo5E,EAAG,GACX,CAAEp5E,EAAG,EAAIo5E,EAAG,GACZ,CAAEp5E,EAAG,EAAGo5E,EAAG,GACX,CAAEp5E,GAAI,EAAGo5E,EAAG,GACZ,CAAEp5E,EAAG,EAAGo5E,EAAG,GACX,CAAEp5E,GAAI,EAAGo5E,EAAG,GACZ,CAAEp5E,EAAG,EAAGo5E,GAAI,GACZ,CAAEp5E,GAAI,EAAGo5E,EAAG,GACZ,CAAEp5E,EAAG,EAAGo5E,GAAI,ICnBT,MAAM6pD,WAAiBjkB,GAC1BH,aACI,MAAMhoH,EAAgB,IAAZrF,KAAK2c,KACf2S,MAAMo+F,UAAUroH,EAAGosI,GAAS9jB,MAChC,ECKG,SAAS+jB,GAAU72C,EAAQo2C,IAC9B,GAAqB,kBAAVp2C,EACP,OAAQA,GACJ,IAAK,SACD,OAAOizB,GACX,IAAK,QACD,OAAOqjB,GACX,IAAK,UACD,OAAOC,GACX,IAAK,QACD,OAAOC,GACX,IAAK,OACD,OAAOG,GACX,IAAK,WACD,OAAOC,GACX,QACI,OAAOR,GAGnB,MAAqB,oBAAVp2C,EACAA,EAEJo2C,EACX,CD1BAQ,GAASpnF,UAAY,WACrBonF,GAAS9jB,MAAQ,CACb,CAAEn/G,EAAG,EAAGo5E,GAAI,IAAM3wC,EAAG,QACrB,CAAEzoC,EAAG,GAAKo5E,EAAG,KACb,CAAEp5E,GAAI,EAAGo5E,EAAG,IEVT,MAAM+pD,GACTpmI,YAAYqmI,EAAcC,GACtB7xI,KAAK+uF,OAAQ,EACb/uF,KAAKsM,MAAQslI,EACb5xI,KAAK6xI,OAASA,EACV7xI,KAAK+uF,OACLyC,GAAOzC,MAAO,KAAI/uF,KAAKuL,YAAYjH,kBAAkBstI,IAAgB,eAC7E,CACAp5G,WAAW3D,EAAO7nB,GACd,IAAIsM,EAAIqb,EAAI2C,EAAIH,EAAIi/E,EACpB,MAAM07B,EAAqB9xI,KAAK6xI,OAAO7xI,KAAKsM,OACtCylI,EAAiI,QAAxGz4H,EAA4B,OAAvBw4H,QAAsD,IAAvBA,OAAgC,EAASA,EAAmB98H,UAAuB,IAAPsE,OAAgB,EAASA,EAAGub,GAC3K,IAAKk9G,EAID,YAHI/xI,KAAK+uF,OACLyC,GAAOzC,MAAO,KAAI/uF,KAAKuL,YAAYjH,UAAUtE,KAAKsM,YAAYuoB,QAAY70B,KAAKsM,QAAS,gBAIhG,MAAM0lI,EAAmBD,EAAsBxuI,OACzC0uI,EAAyBjyI,KAAK6xI,OAAOG,GAQ3C,OAPIhyI,KAAK+uF,OACLyC,GAAOzC,MAAO,KAAI/uF,KAAKuL,YAAYjH,UAAUtE,KAAKsM,YAAYuoB,QAAYm9G,IAAoB,gBAElGD,EAAsBG,OAAOllI,GACuI,QAAnKsqB,EAAmH,QAA7G3C,EAA4B,OAAvBm9G,QAAsD,IAAvBA,OAAgC,EAASA,EAAmBK,eAA4B,IAAPx9G,OAAgB,EAASA,EAAGy4C,cAA2B,IAAP91C,GAAyBA,EAAG9tB,KAAKmrB,GAC5B,QAAhLyhF,EAA+H,QAAzHj/E,EAAgC,OAA3B86G,QAA8D,IAA3BA,OAAoC,EAASA,EAAuBE,eAA4B,IAAPh7G,OAAgB,EAASA,EAAGuL,eAA4B,IAAP0zE,GAAyBA,EAAG5sG,KAAK2tB,GAC1Nn3B,KAAKsM,MAAQ0lI,EACNhyI,KAAKsM,KAChB,EC7BJ,IAAI2iB,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EACIq0E,GAAwC,SAAUt3E,EAASu3E,EAAYlqF,EAAGmqF,GAC1E,SAASC,EAAMvzF,GAAS,OAAOA,aAAiBmJ,EAAInJ,EAAQ,IAAImJ,GAAE,SAAUokB,GAAWA,EAAQvtB,EAAQ,GAAI,CAC3G,OAAO,IAAKmJ,IAAMA,EAAImkB,WAAU,SAAUC,EAASuY,GAC/C,SAAS0tD,EAAUxzF,GAAS,IAAMo/E,EAAKkU,EAAUj3E,KAAKrc,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC1F,SAASwpE,EAASzzF,GAAS,IAAMo/E,EAAKkU,EAAU,SAAStzF,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC7F,SAASm1D,EAAKv9E,GAAUA,EAAOya,KAAOiR,EAAQ1rB,EAAO7B,OAASuzF,EAAM1xF,EAAO7B,OAAO+iB,KAAKywE,EAAWC,EAAW,CAC7GrU,GAAMkU,EAAYA,EAAUhrF,MAAMwT,EAASu3E,GAAc,KAAKh3E,OAClE,GACJ,EAgBA,MAAM20H,GAAyB,CAC3B,CAACt/B,GAAmBsM,GAAI,CAAC,QACzB,CAACtM,GAAmBuM,GAAI,CAAC,SAEvBgzB,GAA0B,CAC5B,CAACv/B,GAAmBsM,GAAI,CAAC,SACzB,CAACtM,GAAmBuM,GAAI,CAAC,UAEtB,MAAMizB,WAA0Cn0B,GACnD5yG,YAAYgnI,EAAMC,EAAMp0B,EAAa3vB,EAAO4vB,GACxC/uF,MAAM8uF,EAAa3vB,EAAO4vB,GAC1Br+G,KAAKuyI,KAAOA,EACZvyI,KAAKwyI,KAAOA,CAChB,EAEG,MAAMC,WAAsCH,GAC/C/mI,cACI+jB,SAASzsB,WACT7C,KAAKuM,KAAO,WAChB,EAEG,MAAMmmI,WAA4CJ,GACrD/mI,cACI+jB,SAASzsB,WACT7C,KAAKuM,KAAO,iBAChB,EAEJ,MAAMomI,WAA8BhB,IAE7B,MAAMiB,WAAwB3zB,GACjC1zG,YAAYk0E,GACR,IAAInmE,EAAIqb,EACRrF,MAAMztB,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG+7D,GAAO,CAAEqgC,qBAAqB,EAAMI,cAA6C,QAA7B5mG,EAAKmmE,EAAKygC,qBAAkC,IAAP5mG,EAAgBA,EAAK84H,GAAwBjyB,eAA+C,QAA9BxrF,EAAK8qD,EAAK0gC,sBAAmC,IAAPxrF,EAAgBA,EAAK09G,MACxPryI,KAAK6yI,iBAAmB,GACxB7yI,KAAK8yI,qBAAuB,CAAC,EAC7B9yI,KAAK+yI,mBAAqB5kB,GAAUlrE,OAAOjjD,KAAKugH,eAAe,IAAMvgH,KAAKy/E,KAAKuzD,WAAahzI,KAAKizI,gBAAkBjzI,KAAKkzI,gBACxHlzI,KAAKmzI,wBAA0BhlB,GAAUlrE,OAAOjjD,KAAKwgH,eAAgBxmE,IACrEh6C,KAAKozI,UAAY,GACjBpzI,KAAKqzI,WAAa,EAKlBrzI,KAAKszI,kBAAoB,IAAIt7H,IAC7B,MAAM,eAAEu7H,EAAiB,EAAC,WAAEP,GAAa,EAAK,0BAAEQ,EAA4B,IAAO/zD,EACnFz/E,KAAKy/E,KAAO,CAAE8zD,iBAAgBP,aAAYQ,6BAC1CxzI,KAAKyzI,eAAiB,IAAId,GAAsB,QAAS,CACrDe,MAAO,CACH1+H,GAAI,CACA0b,OAAQ,CACJntB,OAAQ,QACR2uI,OAASllI,GAAShN,KAAK2zI,wBAAwB3mI,MAI3Ds3G,MAAO,CACHtvG,GAAI,CACA0b,OAAQ,CACJntB,OAAQ,QACR2uI,OAASllI,GAAShN,KAAK4zI,mBAAmB5mI,IAE9C6mI,UAAW,CACPtwI,OAAQ,QACR2uI,OAASllI,GAAShN,KAAK8zI,sBAAsB9mI,IAEjD+mI,iBAAkB,CACdxwI,OAAQ,QACR2uI,OAASllI,GAAShN,KAAKg0I,6BAA6BhnI,IAExDg3E,OAAQ,CACJzgF,OAAQ,QACR2uI,OAASllI,GAAShN,KAAKi0I,mBAAmBjnI,OAK9D,CACIknI,sBACA,IAAI56H,EACJ,OAAwC,QAAhCA,EAAKtZ,KAAK6yI,wBAAqC,IAAPv5H,OAAgB,EAASA,EAAGhX,OAChF,CACA0+G,yBACI,IAAI1nG,EAAIqb,EAC0B,QAAjCrb,EAAKtZ,KAAKm0I,yBAAsC,IAAP76H,GAAyBA,EAAG86H,YAAY,qBAAsBv/G,GAAU70B,KAAKq0I,kBAAkBx/G,KACvG,QAAjCF,EAAK30B,KAAKm0I,yBAAsC,IAAPx/G,GAAyBA,EAAGy/G,YAAY,4BAA6Bv/G,GAAU70B,KAAKs0I,wBAAwBz/G,IAC1J,CACAvE,UACIhB,MAAMgB,UACNtwB,KAAK6yI,iBAAiBjvH,OAAO,EAAG5jB,KAAK6yI,iBAAiBvxI,QACtDtB,KAAKozI,UAAUxvH,OAAO,EAAG5jB,KAAKozI,UAAU9xI,OAC5C,CAUAizI,cAAc/lI,EAAGo5E,EAAG4sD,EAAeC,GAC/B,MAAMC,GAAiBF,GAAiBjyC,GAAa/zF,KAASgmI,GAAiBlyC,GAAW9zF,MACpFimI,GAAiBlyC,GAAa3a,KAAS6sD,GAAiBnyC,GAAW1a,IACzE,OAAO8sD,EAAe,CAAClmI,EAAGo5E,QAAK7lF,CACnC,CAWA4yI,aAAanmI,EAAGo5E,EAAGgtD,EAAOC,GACtB,OAAQlvH,MAAMnX,KAAOmX,MAAMiiE,IAAMgtD,EAAM7P,QAAQv2H,IAAMqmI,EAAM9P,QAAQn9C,EACvE,CACAl3D,QAAO,WAAEokH,IACL,IAAIx7H,EAAIqb,EACR,OAAO6/D,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,kBAAEszI,EAAiB,QAAEhlD,GAAYtuF,MACjC,OAAEq+G,GAAgH,QAApG1pF,EAAsC,QAAhCrb,EAAKtZ,KAAKiiH,wBAAqC,IAAP3oG,OAAgB,EAASA,EAAG4oG,4BAAyC,IAAPvtF,EAAgBA,EAAK,CAAC,EAChJogH,EAAoB12B,EAASA,IAAWr+G,UAAO+B,EAC/CizI,EAAwB1mD,GAAsC,IAA3BglD,EAAkB32H,MAAe,IAAI22H,EAAkB56H,UAAU0f,MAAMjc,IAAY,IAANA,IAChH84H,EAA0B,CAC5BC,gBAAgC,OAAfJ,QAAsC,IAAfA,OAAwB,EAASA,EAAW7xD,MACpFkyD,iBAAiC,OAAfL,QAAsC,IAAfA,OAAwB,EAASA,EAAWnlH,QAErB,MAAhE6+G,GAASxuI,KAAK8yI,qBAAsBmC,KACpCj1I,KAAK8yI,qBAAuBmC,EAC5Bj1I,KAAK0hH,oBACL1hH,KAAKyzI,eAAej7G,WAAW,SAAU,CACrC48G,gBAAiBp1I,KAAKozI,UAAUz5H,KAAI,EAAG07H,oBAAqBA,IAC5DC,iBAAkBt1I,KAAKozI,UAAUz5H,KAAI,EAAG47H,qBAAsBA,IAC9DC,YAAax1I,KAAK6yI,iBAClB97C,MAAO/2F,KAAKozI,UAAUz5H,KAAI,EAAGo9E,WAAYA,aAG3C/2F,KAAKsmI,iBAAiByO,EAAmBC,SACzCh1I,KAAKy1I,YAAYV,EAAmBC,GAC1Ch1I,KAAKyzI,eAAej7G,WAAW,SAAU,CACrC48G,gBAAiBp1I,KAAKozI,UAAUz5H,KAAI,EAAG07H,oBAAqBA,IAC5DC,iBAAkBt1I,KAAKozI,UAAUz5H,KAAI,EAAG47H,qBAAsBA,IAC9DG,gBAAiB11I,KAAKozI,UAAUz5H,KAAI,EAAGg8H,oBAAqBA,IAC5DH,YAAax1I,KAAK6yI,iBAClB97C,MAAO/2F,KAAKozI,UAAUz5H,KAAI,EAAGo9E,WAAYA,IACzC+9C,cAER,GACJ,CACAxO,iBAAiByO,EAAmBC,GAChC,OAAOxgD,GAAUx0F,UAAM,OAAQ,GAAQ,kBAC7BA,KAAK41I,yBAAyBb,GAC/BC,IAGAh1I,KAAKs/G,iBAAoBt/G,KAAK61I,4BAG/B71I,KAAKs/G,kBACLt/G,KAAKs/G,iBAAkB,EACvBt/G,KAAK6yI,uBAAyB7yI,KAAK81I,uBAC7B91I,KAAK+1I,4BAETrnH,QAAQ3pB,IAAI/E,KAAKozI,UAAUz5H,KAAI,CAAC9O,EAAGjH,IAAM5D,KAAKg2I,4BAA4BnrI,EAAGjH,MACvF,GACJ,CACAoyI,4BAA4BC,EAAUC,GAClC,OAAO1hD,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,eAAEq1I,EAAc,eAAEM,EAAc,gBAAEJ,GAAoBU,EACtDT,EAAcx1I,KAAK6yI,iBAAiBqD,IACpC,SAAEC,EAAQ,UAAEjN,GAAcsM,EAChCS,EAASZ,qBAAuBr1I,KAAKo2I,qBAAqB,CAAED,WAAUd,iBAAgBa,cACtFD,EAASN,qBAAuB31I,KAAKq2I,qBAAqB,CAAEnN,YAAWyM,iBAAgBO,cACnFX,IACAU,EAASV,sBAAwBv1I,KAAKs2I,sBAAsB,CACxDH,WACAZ,kBACAW,cAGZ,GACJ,CACAhD,cACI,OAAO,IAAIrhD,EACf,CACAohD,gBACI,MAAMsD,EAAc7E,KACpB,OAAO,IAAI6E,CACf,CACAR,qBACI,IAAIz8H,EACJ,OAAOk7E,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAQ6yI,iBAAkBqB,EAAe,aAAE9zB,EAAY,UAAEgzB,EAAW3zD,MAAM,eAAE8zD,EAAc,WAAEP,EAAU,0BAAEQ,IAAiCxzI,KACzI,GAAIk0I,EAAgB5yI,SAAW8xI,EAAU9xI,OACrC,OAEA4yI,EAAgB5yI,OAAS8xI,EAAU9xI,QACnC8xI,EAAUxvH,OAAOswH,EAAgB5yI,QAAQuX,SAAQ,EAAG29H,gBAAeC,cAAah2B,aAAY1pB,YACxFqpB,EAAa72D,YAAYitF,GACrBC,GACAr2B,EAAa72D,YAAYktF,GAEzBh2B,GACAL,EAAa72D,YAAYk3D,GAE7B,IAAK,MAAMz/E,KAAQ+1D,EACfqpB,EAAa72D,YAAYvoB,EAC7B,IAGR,MAAM01G,EAAcxC,EAAgB5yI,OACpC,MAAOo1I,EAActD,EAAU9xI,OAAQ,CACnC,MAAMywF,GAAQ,EACRshD,EAAarzI,KAAKqzI,aAClBsD,EAAkBtD,EAClBmD,EAAgB,IAAI3kD,GAAM,CAC5BvtF,KAAO,GAAEtE,KAAKgS,gBAAgBqhI,cAC9BthD,QACA5O,OAAQ0vB,GAAOwN,oBACf9xB,eAAgB,CAAC,IAAMvuF,KAAK2/G,kBAAmBg3B,KAE7CF,EAAczD,EACd,IAAInhD,GAAM,CACRvtF,KAAO,GAAEtE,KAAKgS,gBAAgBhS,KAAKqzI,uBACnCthD,QACA5O,OAAQ0vB,GAAOwN,oBACf9xB,eAAgB,CAAC,IAAMvuF,KAAK2/G,kBAAmB,IAAQ0zB,UAEzDtxI,EACA0+G,EAAa,IAAI5uB,GAAM,CACzBvtF,KAAO,GAAEtE,KAAKgS,gBAAgBhS,KAAKqzI,sBACnCthD,QACA5O,OAAQ0vB,GAAO6N,oBACfnyB,eAAgB,CAAC,IAAMvuF,KAAK2/G,kBAAmB0zB,KAEnDjzB,EAAap2D,YAAYwsF,GACzBp2B,EAAap2D,YAAYy2D,GACrBg2B,GACAr2B,EAAap2D,YAAYysF,GAE7B,MAAM1/C,EAAQ,GACd,IAAK,IAAIx1F,EAAQ,EAAGA,EAAQgyI,EAAgBhyI,IACxCw1F,EAAMx1F,GAAS,IAAI0rH,GACnBl2B,EAAMx1F,GAAO4hF,OAAS0vB,GAAOwN,oBAC7BtpB,EAAMx1F,GAAOgtF,eAAiB,CAC1B,IAAMvuF,KAAK2/G,mBACkC,QAA3CrmG,EAAKk6H,EAA0BjyI,UAA2B,IAAP+X,EAAgBA,EAAK,GAAKq9H,GAEnFv2B,EAAap2D,YAAY+sC,EAAMx1F,IAEnC6xI,EAAUzjI,KAAK,CACXonF,QACAy/C,gBACAC,cACAh2B,aACAk1B,eAAgBxnB,GAAUlrE,OAAOw9D,EAAYzmE,IAC7Cq7F,eAAgBlnB,GAAUlrE,OAAOuzF,GAAe,IAAMx2I,KAAKkzI,gBAC3DqC,gBAAiBkB,EAActoB,GAAUlrE,OAAOwzF,GAAa,IAAMz2I,KAAKizI,uBAAmBlxI,GAEnG,CACJ,GACJ,CACA0zI,YAAYV,EAAmBC,GAC3B,IAAI17H,EACJ,OAAOk7E,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,mBAAE+yI,EAAkB,wBAAEI,EAAyBN,iBAAkBqB,EAAe,kBAAEZ,EAAmB7zD,MAAM,WAAEuzD,IAAkBhzI,KAC/HsuF,EAAUtuF,KAAKsuF,UAA6C,QAAhCh1E,EAAKtZ,KAAK6yI,wBAAqC,IAAPv5H,OAAgB,EAASA,EAAGhY,QAAU,GAAK0zI,EACrHh1I,KAAKk/G,UAAU5wB,QAAUA,EACzBtuF,KAAKogH,aAAa9xB,QAAUA,EAC5BtuF,KAAKsgH,eAAehyB,QAAUA,KAAaymD,EAC3C,MAAM6B,EAAgB52I,KAAK2hH,aACrBk1B,EAAoB72I,KAAKozI,UAAUz5H,KAAI,CAACoL,EAAGxjB,KAC7C,MAAM,OAAE4gH,GAAW+xB,EAAgB3yI,GACnC,OAAOvB,KAAK2hH,WAAW,CAAEQ,UAAS,IAEhC20B,EAA6BD,EAAkBz+G,MAAM2+G,GAAUA,IAAUH,IAC/E52I,KAAKogH,aAAat8B,QAAUgzD,EAA6B,EAAIF,EACzD5D,SACMhzI,KAAKg3I,kBAAkB,CACzBzB,gBAAiBxC,EACjBkE,aAAa,EACbf,WAAY,IAEhBl2I,KAAKyzI,eAAej7G,WAAW,mBAAoBu6G,WAG7C/yI,KAAKk3I,iBAAiB,CAAE7B,eAAgBtC,EAAoBkE,aAAa,EAAMf,WAAY,IACjGl2I,KAAKyzI,eAAej7G,WAAW,YAAau6G,UAE1C/yI,KAAKm3I,iBAAiB,CAAExB,eAAgBxC,EAAyB+C,WAAY,UAC7ExnH,QAAQ3pB,IAAI/E,KAAKozI,UAAUz5H,KAAI,CAACs8H,EAAUC,IAAc1hD,GAAUx0F,UAAM,OAAQ,GAAQ,YAC1F,IAAI20B,EACJ,MAAM,cAAE6hH,EAAa,YAAEC,EAAW,eAAEpB,EAAc,eAAEM,EAAc,gBAAEJ,EAAe,MAAEx+C,EAAK,WAAE0pB,GAAgBw1B,GACtG,OAAE9zB,GAAW+xB,EAAgBgC,GAC7BkB,EAAkB9oD,IAAqD,QAAxC35D,EAAK2+G,EAAkB1uI,IAAIu9G,UAA4B,IAAPxtF,GAAgBA,GAC/F0iH,EAAkBP,EAA6BD,EAAkBX,GAAa,EACpFM,EAAc1yD,QAAUuzD,EACxBb,EAAcloD,QAAU8oD,EACxB32B,EAAWnyB,QAAU8oD,EACjBX,IACAA,EAAY3yD,QAAUuzD,EACtBZ,EAAYtzD,OACRqzD,EAAcrzD,QAAU0vB,GAAOwN,oBACzBm2B,EAAcrzD,OACdqzD,EAAcrzD,OAAS,EACjCszD,EAAYnoD,QAAU8oD,GAEtB32B,IACAA,EAAW38B,QAAUuzD,GAEzB,IAAK,MAAMr2G,KAAQ+1D,EACf/1D,EAAK8iD,QAAUuzD,EACfr2G,EAAKstD,QAAU8oD,EAEdZ,EAAcloD,gBAGbtuF,KAAKk3I,iBAAiB,CAAE7B,iBAAgB4B,aAAa,EAAOf,oBAC5Dl2I,KAAKm3I,iBAAiB,CAAExB,iBAAgBO,cAC1ClD,GAAcuC,UACRv1I,KAAKg3I,kBAAkB,CAAEzB,kBAAiB0B,aAAa,EAAOf,eAE5E,MACJ,GACJ,CACAN,yBAAyBb,GACrB,IAAIz7H,EACJ,OAAOk7E,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,mBAAE+yI,EAAkB,wBAAEI,EAAyBN,iBAAkBqB,GAAoBl0I,KACrFgiH,EAAoD,QAAhC1oG,EAAKtZ,KAAKiiH,wBAAqC,IAAP3oG,OAAgB,EAASA,EAAG4oG,qBACxFrvG,EAAOkiI,IAA2C,OAArB/yB,QAAkD,IAArBA,OAA8B,EAASA,EAAiBvzB,OAASuzB,OAAmBjgH,EAEpJ,IAAIu1I,EACJ,GAFAt3I,KAAK+yI,yBAA2B/yI,KAAKu3I,6BAA6B,CAAE1kI,OAAMkgI,uBAEtE/yI,KAAKw3I,kBAA4B,MAAR3kI,EAAc,CACvC,MAAM,OAAEsvG,GAAuBtvG,EAC/B,IAAK,MAAM,UAAEq2H,KAAegL,EAExB,GADAoD,EAAYpO,EAAUjiE,MAAMwwE,GAAOA,EAAGhpD,QAAU57E,EAAK47E,OAASgpD,EAAGt1B,SAAWA,IAC3D,MAAbm1B,EACA,KAGZ,CACAt3I,KAAKmzI,8BAAgCnzI,KAAK03I,8BAA8B,CACpE7kI,KAAMykI,EACNnE,2BAER,GACJ,CACA3wB,mBAAmB9kB,GACf,MAAMz6F,EAASqsB,MAAMkzF,mBAAmB9kB,GACxC,GAAIz6F,EACA,OAAOA,EAEX,MAAM,EAAEuL,EAAC,EAAEo5E,GAAM8V,GACTje,MAAM,WAAEuzD,IAAkBhzI,KAClC,IAAK,MAAM,cAAEw2I,EAAa,YAAEC,KAAiBz2I,KAAKozI,UAAW,CACzD,IAAIlsI,EAAQsvI,EAAc/mD,SAASjhF,EAAGo5E,GAItC,IAHK1gF,GAAS8rI,IACV9rI,EAAwB,OAAhBuvI,QAAwC,IAAhBA,OAAyB,EAASA,EAAYhnD,SAASjhF,EAAGo5E,IAE1F1gF,EACA,MAAO,CAAEunF,MAAOvnF,EAAMunF,MAAOo0B,SAAU,EAE/C,CACJ,CACAD,qBAAqBllB,GACjB,IAAIpkF,EAAIqb,EACR,MAAM,EAAEnmB,EAAC,EAAEo5E,GAAM8V,GACX,MAAEk3C,EAAK,MAAEC,EAAK,UAAE31B,EAAW2zB,iBAAkBqB,GAAoBl0I,KACjE23I,EAAWz4B,EAAUz1B,eAAej7E,EAAGo5E,GAC7C,IACIgwD,EADAC,EAAc1jH,IAElB,IAAK,MAAMyf,KAAWsgG,EAClB,IAAK,MAAMzlD,KAAS76C,EAAQuiG,SAAU,CAClC,MAAQz4C,OAASlvF,EAAGspI,EAASjyH,IAAK+hE,EAAGmwD,EAASlyH,KAAQ,CAAC,GAAM4oE,EAC7D,GAAI9oE,MAAMmyH,IAAWnyH,MAAMoyH,GACvB,SAEJ,MAAMC,GAAuB,OAAVpD,QAA4B,IAAVA,OAAmB,EAASA,EAAM7P,QAAQ+S,MAAuB,OAAVjD,QAA4B,IAAVA,OAAmB,EAASA,EAAM9P,QAAQgT,IACxJ,IAAKC,EACD,SAIJ,MAAMn1B,EAAWn4G,KAAK0G,IAAI1G,KAAKs5F,IAAK2zC,EAASnpI,EAAIspI,EAAS,GAAKptI,KAAKs5F,IAAK2zC,EAAS/vD,EAAImwD,EAAS,GAAI,GAC/Fl1B,EAAWg1B,IACXA,EAAch1B,EACd+0B,EAAenpD,EAEvB,CAEJ,GAAImpD,EAAc,CACd,MAAM/0B,EAAWn4G,KAAK0G,IAAI1G,KAAK8uF,KAAKq+C,IAAkG,QAAjFljH,EAAmC,QAA7Brb,EAAKs+H,EAAal6C,aAA0B,IAAPpkF,OAAgB,EAASA,EAAGqD,YAAyB,IAAPgY,EAAgBA,EAAK,GAAI,GACvK,MAAO,CAAE85D,MAAOmpD,EAAc/0B,WAClC,CACJ,CACAH,sBAAsBhlB,EAAOu6C,GACzB,IAAI3+H,EAAIqb,EACR,MAAM,EAAEnmB,EAAC,EAAEo5E,GAAM8V,GACX,MAAEk3C,EAAK,MAAEC,EAAK,UAAE31B,EAAW2zB,iBAAkBqB,GAAoBl0I,KAEjEm/G,EAAa,CAACy1B,EAAOC,GACtBn7H,QAAQ3O,GAAMA,aAAaojI,KAC3Bx0H,KAAK5O,GAAMA,EAAEm2G,YAClB,GAAI+2B,GAA6C,IAAtB94B,EAAW79G,OAClC,OAGJ,MAAO42I,EAAmBplC,GAAmBsM,GAAKD,EAC5Cw4B,EAAWz4B,EAAUz1B,eAAej7E,EAAGo5E,GACvCuwD,EAAiBD,IAAqBplC,GAAmBsM,EAAI,CAACu4B,EAASnpI,EAAGmpI,EAAS/vD,GAAK,CAAC+vD,EAAS/vD,EAAG+vD,EAASnpI,GAC9GqpI,EAAc,CAAC1jH,IAAUA,KAC/B,IAAIyjH,EACJ,IAAK,MAAMhkG,KAAWsgG,EAClB,IAAK,MAAMzlD,KAAS76C,EAAQuiG,SAAU,CAClC,MAAQz4C,OAASlvF,EAAGspI,EAASjyH,IAAK+hE,EAAGmwD,EAASlyH,KAAQ,CAAC,GAAM4oE,EAC7D,GAAI9oE,MAAMmyH,IAAWnyH,MAAMoyH,GACvB,SAEJ,MAAMC,GAAuB,OAAVpD,QAA4B,IAAVA,OAAmB,EAASA,EAAM7P,QAAQ+S,MAAuB,OAAVjD,QAA4B,IAAVA,OAAmB,EAASA,EAAM9P,QAAQgT,IACxJ,IAAKC,EACD,SAEJ,MAAMt6C,EAAQw6C,IAAqBplC,GAAmBsM,EAAI,CAAC04B,EAAQC,GAAU,CAACA,EAAQD,GAEtF,IAAIM,GAAiB,EACrB,IAAK,IAAIx0I,EAAI,EAAGA,EAAI85F,EAAMp8F,OAAQsC,IAAK,CACnC,MAAMy0I,EAAO3tI,KAAKw9E,IAAIwV,EAAM95F,GAAKu0I,EAAev0I,IAChD,GAAIy0I,EAAOR,EAAYj0I,GAAI,CACvBw0I,GAAiB,EACjB,KACJ,CACIC,EAAOR,EAAYj0I,KACnBi0I,EAAYj0I,GAAKy0I,EACjBR,EAAYr3G,KAAKrM,IAAUvwB,EAAI,EAAGi0I,EAAYv2I,QAEtD,CACI82I,IACAR,EAAenpD,EAEvB,CAEJ,GAAImpD,EAAc,CACd,MAAM/0B,EAAWn4G,KAAK0G,IAAI1G,KAAK8uF,KAAK9uF,KAAKs5F,IAAI6zC,EAAY,GAAI,GAAKntI,KAAKs5F,IAAI6zC,EAAY,GAAI,KAAyF,QAAjFljH,EAAmC,QAA7Brb,EAAKs+H,EAAal6C,aAA0B,IAAPpkF,OAAgB,EAASA,EAAGqD,YAAyB,IAAPgY,EAAgBA,EAAK,GAAI,GACrN,MAAO,CAAE85D,MAAOmpD,EAAc/0B,WAClC,CACJ,CACAwxB,kBAAkBx/G,GACd,MAAM,QAAED,EAAO,OAAEutF,EAAM,OAAE9D,GAAWxpF,EAChCwpF,EAAOrsG,KAAOhS,KAAKgS,IAEvBhS,KAAKqjH,iBAAiBlB,EAAQvtF,EAClC,CACA0/G,wBAAwBz/G,GACpB,MAAM,QAAED,EAAO,OAAEutF,EAAM,OAAE9D,EAAM,gBAAEi6B,GAAoBzjH,EAC/C0jH,EAAoB12I,OAAO6W,OAAO4/H,GAAiB3uH,QAAO,CAACsB,EAAG9O,IAAM8O,EAAI9O,GAAG,GAC3Eq8H,EAAan6B,EAAOrsG,KAAOhS,KAAKgS,GAChCymI,EAAaD,GAAe5jH,GAAiC,IAAtB2jH,EAC7Cv4I,KAAKqjH,iBAAiBlB,EAAQs2B,EAClC,CACAp1B,iBAAiBlB,EAAQvtF,GACjB50B,KAAKszI,kBAAkB32H,KAAO,GAC9B3c,KAAKszI,kBAAkB3nI,IAAIw2G,EAAQvtF,GACnC50B,KAAKs/G,iBAAkB,GAGvBhwF,MAAM+zF,iBAAiBlB,EAAQvtF,EAEvC,CACA2uF,YACI,GAAIvjH,KAAKszI,kBAAkB32H,KAAO,EAAG,CACjC,IAAK,MAAO,CAAEiY,KAAY50B,KAAKszI,kBAC3B,GAAI1+G,EACA,OAAO,EAGf,OAAO,CACX,CACA,OAAOtF,MAAMi0F,WACjB,CACAsyB,yBAEI,OAAO,CACX,CACA6C,eACI,MAAO,EACX,CACAC,qBACI,IAAK,MAAMrqD,KAAWtuF,KAAKszI,kBAAkB56H,SACzC,GAAI41E,EACA,OAAO,EAGf,OAAO,CACX,CACAipD,6BAA6B93D,GACzB,OAAO+U,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAQy/E,MAAM,WAAEuzD,IAAkBhzI,MAC5B,KAAE6S,EAAI,mBAAEkgI,GAAuBtzD,EAC/B02D,EAAWtjI,EAAO,CAACA,GAAQ,GACjC,GAAImgI,EAAY,CACZ,MAAMuC,EAAkBxC,EACxB,OAAO/yI,KAAKs2I,sBAAsB,CAAEH,WAAUZ,kBAAiBW,WAAY,GAC/E,CAEI,OAAOl2I,KAAKo2I,qBAAqB,CAAED,WAAUd,eAAgBtC,EAAoBmD,WAAY,GAErG,GACJ,CACAwB,8BAA8Bj4D,GAC1B,OAAO+U,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,KAAE6S,EAAI,wBAAEsgI,GAA4B1zD,EACpCypD,EAAYr2H,EAAO,CAACA,GAAQ,GAClC,OAAO7S,KAAKq2I,qBAAqB,CAAEnN,YAAWyM,eAAgBxC,EAAyB+C,WAAY,GACvG,GACJ,CACAE,qBAAqB32D,GACjB,OAAO+U,GAAUx0F,UAAM,OAAQ,GAAQ,YAEnC,OAAOy/E,EAAK41D,cAChB,GACJ,CACA6B,iBAAiB1pD,GACb,OAAOgH,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,GAER,CACAs2I,sBAAsB72D,GAClB,OAAO+U,GAAUx0F,UAAM,OAAQ,GAAQ,YAEnC,OAAOy/E,EAAK81D,eAChB,GACJ,CACAyB,kBAAkBxpD,GACd,OAAOgH,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,GAER,CACA2zI,wBAAwBp0B,GACpB,CAEJq0B,mBAAmBr0B,GACf,CAEJu0B,sBAAsBv0B,GAClB,CAEJy0B,6BAA6Bz0B,GACzB,CAEJ00B,mBAAmB10B,GACf,EAGD,MAAMq5B,WAA8B3qB,GACvC1iH,cACI+jB,SAASzsB,WACT7C,KAAK03H,eAAY31H,CACrB,EC9kBG,SAAS82I,GAAMC,GAClB,OAAO,IAAIpqH,SAASC,IAChBuG,YAAW,IAAMvG,OAAQ5sB,IAAY+2I,EAAe,GAE5D,CD4kBA7pH,GAAW,CACPmgF,GAASgB,IACThkB,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3CurD,GAAsB5vI,UAAW,iBAAa,GEnlBjD,IAAIimB,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAEO,MAAM44H,GACTxtI,YAAY8+C,EAAW11C,GACnB3U,KAAKkoC,cAAWnmC,EAChB/B,KAAK4lD,UAAO7jD,EACZ/B,KAAKqqD,UAAYA,EACjBrqD,KAAKg5I,cAAgBrkI,CACzB,CACA2qE,KAAKqsC,GACD,IAAIryG,EAAIqb,EACR,IAAIgyC,EAAU3mE,KAAK2mE,QAWnB,GAVK3mE,KAAK2mE,UACNA,EAAU7hE,SAASI,cAAc,OACjCyhE,EAAQtc,UAAYrqD,KAAKqqD,UACzBrqD,KAAK2mE,QAAUA,GAEnBA,EAAQ5+C,MAAM67D,SAAW,WACzBjd,EAAQ5+C,MAAM6tC,KAAQ,GAAE+1D,EAAKn9G,MAC7Bm4D,EAAQ5+C,MAAM+tC,IAAO,GAAE61D,EAAK/jC,MAC5BjhB,EAAQ5+C,MAAMk7D,MAAS,GAAE0oC,EAAK1oC,UAC9Btc,EAAQ5+C,MAAM4H,OAAU,GAAEg8F,EAAKh8F,WAC3B3vB,KAAKkoC,SACLloC,KAAK2mE,QAAQ1rB,UAAYj7C,KAAKkoC,eAE7B,CACD,MAAM6d,EAAUjhD,SAASI,cAAc,OACvC6gD,EAAQh+B,MAAMkxH,WAAa,SAC3BlzF,EAAQh+B,MAAMmxH,UAAY,aAC1BnzF,EAAQh+B,MAAM2iC,QAAU,OACxB3E,EAAQh+B,MAAMoxH,eAAiB,SAC/BpzF,EAAQh+B,MAAMqxH,OAAS,MACvBrzF,EAAQh+B,MAAM4H,OAAS,OACvBo2B,EAAQh+B,MAAM0+D,KAAO,2BACrB1gC,EAAQszF,UAAiC,QAApB//H,EAAKtZ,KAAK4lD,YAAyB,IAAPtsC,EAAgBA,EAAK,qBACtEqtD,EAAQsoB,OAAOlpC,EACnB,CAC8B,QAA7BpxB,EAAK30B,KAAKg5I,qBAAkC,IAAPrkH,GAAyBA,EAAGs6D,OAAOtoB,EAC7E,CACA2yE,OACI,IAAIhgI,EACoB,QAAvBA,EAAKtZ,KAAK2mE,eAA4B,IAAPrtD,GAAyBA,EAAGqK,SAC5D3jB,KAAK2mE,aAAU5kE,CACnB,EAEJktB,GAAW,CACPmgF,GAASgB,KACV2oC,GAAQ/vI,UAAW,gBAAY,GAClCimB,GAAW,CACPmgF,GAASoB,KACVuoC,GAAQ/vI,UAAW,YAAQ,GCtDvB,MAAMuwI,GACThuI,YAAYoJ,GACR3U,KAAKw5I,OAAS,IAAIT,GAAQ,2BAA4BpkI,EAC1D,E,QCHG,MAAM8kI,GACTluI,cACIvL,KAAK05I,oBAAsB,CAAC,CAChC,CACAtF,YAAY7nI,EAAMqnB,GACd,IAAIta,EACJ,MAAMrI,EAASC,OAAO3E,GAKtB,OAJKvM,KAAK05I,oBAAoBntI,KAC1BvM,KAAK05I,oBAAoBntI,GAAQ,IAEK,QAAzC+M,EAAKtZ,KAAK05I,oBAAoBntI,UAA0B,IAAP+M,GAAyBA,EAAG3J,KAAK,CAAEsB,SAAQukB,QAAS5B,IAC/F3iB,CACX,CACAu+C,SAASjjD,KAAS+yD,GACd,IAAIhmD,EACJ,MAAM8oF,EAAsD,QAAzC9oF,EAAKtZ,KAAK05I,oBAAoBntI,UAA0B,IAAP+M,EAAgBA,EAAK,GACnFo1G,EAAU,GAChB,IAAK,MAAM3sB,KAAYK,EACnB,IACIssB,EAAQ/+G,KAAKoyF,EAASvsE,WAAW8pC,GACrC,CACA,MAAOj0C,GACHmmE,GAAOI,UAAUvmE,GACjBqjG,EAAQ/+G,UAAK5N,EACjB,CAEJ,OAAO2sH,CACX,CACAirB,oBAAoBptI,EAAMk5B,KAAc65B,GACpC,IAAIhmD,EACJ,MAAM8oF,EAAsD,QAAzC9oF,EAAKtZ,KAAK05I,oBAAoBntI,UAA0B,IAAP+M,EAAgBA,EAAK,GACnFo1G,EAAU,GAChB,IAAK,MAAM3sB,KAAYK,EAAW,CAC9B,GAAI38D,IACA,MACJipF,EAAQ/+G,KAAKoyF,EAASvsE,WAAW8pC,GACrC,CACA,OAAOovD,CACX,CACAkrB,eAAertI,EAAMstI,KAAav6E,GAC9B,IAAIhmD,EACJ,MAAM8oF,EAAsD,QAAzC9oF,EAAKtZ,KAAK05I,oBAAoBntI,UAA0B,IAAP+M,EAAgBA,EAAK,GACzF,IAAIwgI,EACJ,IAAK,MAAM/3C,KAAYK,EACnB03C,EAAiB/3C,EAASvsE,WAAW8pC,GACrCA,EAASu6E,EAASC,KAAmBx6E,GAEzC,OAAOw6E,CACX,CACAC,eAAeC,GACX,IAAK,MAAMztI,KAAQvM,KAAK05I,oBAAqB,CACzC,MAAMt3C,EAAYpiG,KAAK05I,oBAAoBntI,GACrCrF,EAAsB,OAAdk7F,QAAoC,IAAdA,OAAuB,EAASA,EAAU/4E,WAAWuxF,GAAUA,EAAM3pG,SAAW+oI,IACvG,MAAT9yI,GAAiBA,GAAS,IACZ,OAAdk7F,QAAoC,IAAdA,GAAgCA,EAAUx+E,OAAO1c,EAAO,IAErE,MAATA,GAA8F,KAA9D,OAAdk7F,QAAoC,IAAdA,OAAuB,EAASA,EAAU9gG,gBAC3EtB,KAAK05I,oBAAoBntI,EAExC,CACJ,EC5DG,MAAM0tI,GACT1uI,cACIvL,KAAKoiG,UAAY,IAAIq3C,EACzB,CACArF,YAAY7nI,EAAMqnB,GACd,OAAO5zB,KAAKoiG,UAAUgyC,YAAY7nI,EAAMqnB,EAC5C,CACAmmH,eAAeC,GACXh6I,KAAKoiG,UAAU23C,eAAeC,EAClC,ECVW,SAAS,GAACjvI,EAAG2d,GAGxB,OAFA3d,GAAKA,EACL2d,GAAKA,EACGuuB,GAAMlsC,GAAK,EAAIksC,GAAKvuB,EAAIuuB,CACpC,CCFe,SAAS,GAAClsC,EAAG2d,GACxB,GAAiB,kBAAN3d,EACP,IACIA,EAAI83F,GAAMO,WAAWr4F,EACzB,CACA,MAAOsgB,GACHtgB,EAAI83F,GAAMQ,UAAU,CAAC,EAAG,EAAG,GAC/B,CAEJ,GAAiB,kBAAN36E,EACP,IACIA,EAAIm6E,GAAMO,WAAW16E,EACzB,CACA,MAAO2C,GACH3C,EAAIm6E,GAAMQ,UAAU,CAAC,EAAG,EAAG,GAC/B,CAEJ,MAAMsJ,EAAMl7F,GAAO1G,EAAEoV,EAAGuI,EAAEvI,GACpBsoF,EAAQh3F,GAAO1G,EAAEF,EAAG6d,EAAE7d,GACtB+6F,EAAOn0F,GAAO1G,EAAE2d,EAAGA,EAAEA,GACrB+6E,EAAQhyF,GAAO1G,EAAEA,EAAG2d,EAAE3d,GAC5B,OAAO,SAAUksC,GACb,OAAO4rD,GAAMQ,UAAU,CAACsJ,EAAI11D,GAAIwxD,EAAMxxD,GAAI2uD,EAAK3uD,GAAIwsD,EAAMxsD,KAAK6sD,cAClE,CACJ,CCvBe,SAAS,GAAC/4F,EAAG2d,GACxB,MAAMuuB,SAAWvuB,EACjB,IAAIpjB,EACJ,GAAU,WAAN2xC,EACA,OAAOxlC,GAAO1G,EAAG2d,GAErB,GAAU,WAANuuB,EACA,IAGI,OAFA3xC,EAAIu9F,GAAMO,WAAW16E,GACrBA,EAAIpjB,EACGy0F,GAAMhvF,EAAG2d,EACpB,CACA,MAAO2C,GACH,CAGR,MAAM,IAAI3jB,MAAM,+BACpB,CCnBA,SAASwyI,GAAWhwI,GAChB,MAAO,EAAGkiB,OAAMkmB,SACZ,MAAM6nG,EAASC,GAAYhuH,EAAMkmB,GACjC,OAAQglD,GAAS6iD,EAAOjwI,EAAGotF,GAAM,CAEzC,CACO,SAAS+iD,IAAO,KAAEjuH,EAAI,GAAEkmB,IAC3B,OAAO8nG,GAAYhuH,EAAMkmB,EAC7B,CAEsB4nG,IAAY1rI,GAAM,EAAI9D,KAAKygF,IAAK38E,EAAI9D,KAAKkuF,GAAM,KAA9D,MACM0hD,GAAUJ,IAAY1rI,GAAM9D,KAAK0gF,IAAK58E,EAAI9D,KAAKkuF,GAAM,KACzCshD,IAAY1rI,KAAQ9D,KAAKygF,IAAI38E,EAAI9D,KAAKkuF,IAAM,GAAK,IAC5CshD,IAAY1rI,IACtC,GAAU,IAANA,GAAiB,IAANA,EACX,OAAOA,EACX,MAAM24E,EAAQz8E,KAAKs5F,IAAI,GAAI,GAAKx1F,GAC1Bo1E,EAAe,GAAJp1E,EAAS,IACpBi9G,EAAO,EAAI/gH,KAAKkuF,GAAM,EAC5B,OAAOzR,EAAQz8E,KAAK0gF,IAAIxH,EAAW6nC,GAAO,CAAC,ICnBxC,IAAI8uB,GAKJ,SAASC,IAAQ,OAAEC,EAAM,SAAEzpF,EAAQ,KAAE5kC,EAAI,GAAEkmB,EAAE,SAAEooG,GAAW,EAAI,MAAEj0G,EAAQ,EAAC,KAAEk0G,EAAON,GAAQxzH,OAAQ+zH,EAAYzmH,IAAQ,WAAE0mH,EAAaN,GAAWO,KAAI,WAAEC,EAAU,OAAEC,EAAM,SAAEC,EAAQ,OAAE5jI,EAAM,SAAE6jI,IAC/L,IAAI5uI,EACA6uI,EAAe,EACfC,EAAU,EACVC,EAAY,EACZC,GAAY,EACZC,GAAa,EACjB,MAAMC,EAASb,EAAK,CAAEvuH,OAAMkmB,OACtBmpG,EAAW,CAAEC,WAAW,EAAOC,OAAMC,QAAO1mI,OAAM2mI,SAClDC,EAAiBrB,EAAO/pH,GAC9B,SAASirH,IAIL,OAHAF,EAASC,WAAY,EACrBI,EAAez1H,QACJ,OAAX20H,QAA8B,IAAXA,GAA6BA,IACzCS,CACX,CACA,SAASG,IAEL,OADAH,EAASC,WAAY,EACdD,CACX,CACA,SAASvmI,IAIL,OAHAumI,EAASC,WAAY,EACrBI,EAAe5mI,OACJ,OAAXmC,QAA8B,IAAXA,GAA6BA,IACzCokI,CACX,CACA,SAASI,IAKL,OAJAN,GAAa,EACbH,EAAU,EACVC,EAAY,EACZS,EAAeD,QACRJ,CACX,CACA,SAAS50H,IACLw0H,IACIR,IAAeN,GAAWwB,SAC1BT,EAAYD,EAAY,IAAM,EAC9BD,EAAUE,EAAYF,EAAUpqF,EAAWA,EAAYoqF,EAAUpqF,GAGjEoqF,GAAoBpqF,EAExBuqF,GAAa,EACA,OAAbN,QAAkC,IAAbA,GAA+BA,GACxD,CACA,SAASe,IACL9mI,IACe,OAAf6lI,QAAsC,IAAfA,GAAiCA,GAC5D,CACA,SAASrqH,EAAO2zE,GACPi3C,IACDj3C,GAASA,GACT82C,GAAgB10G,GAChB20G,GAAW/2C,EAMVk3C,IACDjvI,EAAQkvI,EAAO9wI,KAAK2G,IAAI,EAAG3G,KAAK0G,IAAI,EAAGgqI,EAAUpqF,KACjDuqF,EAAaD,EAAYF,GAAWpqF,EAAWoqF,GAAW,GAEjD,OAAbF,QAAkC,IAAbA,GAA+BA,EAAS5uI,GACzDivI,IACIF,EAAYT,EACZ/zH,IAGAm1H,MAbJb,GAAgB92C,CAgBxB,CAGA,OAFIq2C,GACAiB,IACGF,CACX,CACO,SAASQ,GAAMx8D,GAClB,IAAIy8D,EACJ,MAAMC,EAAct6I,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG+7D,GAAO,CAAE54D,OAAQ,EAAG6zH,UAAU,EAAOQ,SAAW95I,IAC3E,OAAjB86I,QAA0C,IAAjBA,GAAmCA,EAAa96I,EAAM,IAEjFg7I,EAAoB5B,GAAQ2B,GAC5BV,EAAW,CACbp1H,MAAQ60H,IACJkB,EAAkBlnI,OAClBknI,EAAkBP,QAClBO,EAAkBT,OAClBO,EAAehB,EACRO,GAEXvmI,KAAMA,KACFknI,EAAkBlnI,OACXumI,IAGf,OAAOA,CACX,EArGA,SAAWlB,GACPA,EAAW,QAAU,OACrBA,EAAW,WAAa,SAC3B,EAHD,CAGGA,KAAeA,GAAa,CAAC,ICHhC,MAAM8B,GAAiB,IAChB,MAAMC,WAAyBrC,GAClC1uI,YAAYgxI,GACRjtH,QACAtvB,KAAKw8I,YAAc,CAAC,EACpBx8I,KAAKy8I,WAAa,CAAC,EACnBz8I,KAAK08I,SAAW,GAChB18I,KAAK07I,WAAY,EACjB17I,KAAK28I,aAAc,EACnB38I,KAAK48I,gBAAiB,EACtB58I,KAAKu8I,mBAAqBA,EAC1B3xI,OAAO8gD,iBAAiB,oBAAoB,KACxC1rD,KAAK28I,aAAc,CAAI,IAG3BznH,YAAW,KACPl1B,KAAK28I,aAAc,CAAI,GACxB,GACP,CACAhB,OACI,IAAI37I,KAAK07I,UAAT,CAEA17I,KAAK07I,WAAY,EACjB,IAAK,MAAM1pI,KAAMhS,KAAKw8I,YAClBx8I,KAAKw8I,YAAYxqI,GAAI2pI,OAEzB37I,KAAK68I,qBALK,CAMd,CACAjB,QACI,GAAK57I,KAAK07I,UAAV,CAEA17I,KAAK07I,WAAY,EACjB17I,KAAK88I,uBACL,IAAK,MAAM9qI,KAAMhS,KAAKw8I,YAClBx8I,KAAKw8I,YAAYxqI,GAAI4pI,OAJf,CAMd,CACA1mI,OACIlV,KAAK07I,WAAY,EACjB17I,KAAK88I,uBACL,IAAK,MAAM9qI,KAAMhS,KAAKw8I,YAClBx8I,KAAKw8I,YAAYxqI,GAAIkD,MAE7B,CACAslI,QAAQxoI,EAAIytE,GACR,IAAInmE,EAAIqb,EACR,MAAMooH,EAAYl7I,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG+7D,GAAO,CAAEi7D,WAAU16I,KAAK07I,WAAYj8D,EAAKi7D,SAAkBD,OAAQz6I,KAAKg9I,aAAahrI,EAAIytE,EAAKw9D,uBAC1IC,EAAaC,GAAYJ,GAe/B,OAdI/8I,KAAKw8I,YAAYxqI,KACjBhS,KAAKw8I,YAAYxqI,GAAIkD,cACdlV,KAAKw8I,YAAYxqI,IAE5BhS,KAAKw8I,YAAYxqI,GAAMkrI,EACnBl9I,KAAK48I,gBAEoB,QAAxBtjI,EAAKmmE,EAAKy7D,gBAA6B,IAAP5hI,GAAyBA,EAAG9P,KAAKi2E,EAAMA,EAAKntC,IAC7E4qG,EAAWhoI,QAIc,QAAxByf,EAAK8qD,EAAKy7D,gBAA6B,IAAPvmH,GAAyBA,EAAGnrB,KAAKi2E,EAAMA,EAAKrzD,MAE1E8wH,CACX,CACAE,YAAYprI,EAAI4V,EAAO63D,GACnB,MAAMnzE,EAAQsb,EAAMjO,KAAK88B,GAASA,EAAKrqB,OACvC,IAAIixH,EAAc,EACdC,EAAgB,EACpB,MAAMpC,EAAY35I,GAAW4a,IACzB,IAAI7C,EACJhN,EAAM/K,GAAS4a,IACTkhI,GAAez1H,EAAMtmB,SACE,QAAxBgY,EAAKmmE,EAAKy7D,gBAA6B,IAAP5hI,GAAyBA,EAAG9P,KAAKi2E,EAAMnzE,GACxE+wI,EAAc,EAClB,EAEEtC,EAAaA,KACf,IAAIzhI,IACEgkI,GAAiB11H,EAAMtmB,SACE,QAA1BgY,EAAKmmE,EAAKs7D,kBAA+B,IAAPzhI,GAAyBA,EAAG9P,KAAKi2E,GACxE,EAEE89D,EAAU31H,EAAMjO,KAAI,CAAC88B,EAAMl1C,KAC7B,MAAMi8I,EAAY,GAAExrI,KAAMzQ,IAC1B,OAAOvB,KAAKw6I,QAAQgD,EAAU37I,OAAO6hB,OAAO7hB,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG+7D,GAAOhpC,GAAO,CAAEykG,SAAUA,EAAS35I,GAAQw5I,WAAYA,IAAc,IAE/IU,EAAW,CACTC,gBACA,OAAO6B,EAAQnlH,MAAMqiH,GAAWA,EAAOiB,WAC3C,EACAC,OAEI,OADA4B,EAAQ1kI,SAAS4hI,GAAWA,EAAOkB,SAC5BF,CACX,EACAG,QAEI,OADA2B,EAAQ1kI,SAAS4hI,GAAWA,EAAOmB,UAC5BH,CACX,EACAvmI,OAEI,OADAqoI,EAAQ1kI,SAAS4hI,GAAWA,EAAOvlI,SAC5BumI,CACX,EACAI,QAEI,OADA0B,EAAQ1kI,SAAS4hI,GAAWA,EAAOoB,UAC5BJ,CACX,GAEJ,OAAOA,CACX,CACAgC,iBAAiBzrI,EAAIytE,GACjB,IAAInmE,EACJ,OAAItZ,KAAKy8I,WAAWzqI,IAAOoZ,KAAKohC,MAAQxsD,KAAKy8I,WAAWzqI,IAAgC,QAAxBsH,EAAKmmE,EAAKzuB,gBAA6B,IAAP13C,EAAgBA,EAAK+iI,IAC1Gr8I,KAAKw8I,YAAYxqI,IAE5BhS,KAAKy8I,WAAWzqI,GAAMoZ,KAAKohC,MACpBxsD,KAAKw6I,QAAQxoI,EAAIytE,GAC5B,CACAw8D,MAAMx8D,GACF,MAAMztE,EAAM,SAAQ0rI,KAAKn0H,KAAKC,UAAUi2D,MAClCs9D,EAAYl7I,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG+7D,GAAO,CAAEg7D,OAAQz6I,KAAKg9I,aAAahrI,KACrF,OAAOiqI,GAAMc,EACjB,CACAC,aAAahrI,EAAIirI,GACb,OAAQvsH,IACG,CACHrK,MAAOA,KACHrmB,KAAK08I,SAAS/sI,KAAK,CAACqC,EAAI0e,IACF,MAAlB1wB,KAAK29I,WACL39I,KAAK68I,sBAELI,GACAj9I,KAAKu8I,mBAAmBX,MAAO,aAAY5pI,IAC/C,EAEJkD,KAAMA,KACFlV,KAAK08I,SAAW18I,KAAK08I,SAAShjI,QAAO,EAAEhJ,KAASA,IAAQsB,IACpDhS,KAAK08I,SAASp7I,QAAU,GACxBtB,KAAK88I,uBAELG,GACAj9I,KAAKu8I,mBAAmB7/G,OAAQ,aAAY1qB,IAChD,EAEJ6pI,MAAOA,QAGnB,CACAgB,sBACI,MAAMe,EAAStmD,IAEX,GADAt3F,KAAK29I,UAAY5qF,sBAAsB6qF,IAClC59I,KAAK28I,YACN,YAEkB56I,IAAlB/B,KAAK69I,WACL79I,KAAK69I,SAAWvmD,GACpB,MAAMwmD,EAAUxmD,EAAOt3F,KAAK69I,SAC5B79I,KAAK69I,SAAWvmD,EAChBt3F,KAAK08I,SAAS7jI,SAAQ,EAAEkM,EAAG2L,MACvBA,EAAOotH,EAAQ,IAEnB99I,KAAKoiG,UAAU5yC,SAAS,kBAAmB,CAAEjjD,KAAM,kBAAmBuxI,WAAU,EAEpF99I,KAAK29I,UAAY5qF,sBAAsB6qF,EAC3C,CACAd,uBACS98I,KAAK29I,YAEVb,qBAAqB98I,KAAK29I,WAC1B39I,KAAK29I,eAAY57I,EACrB,ECvKG,MAAMg8I,GACTxyI,YAAYo7D,GACR3mE,KAAK6xI,OAAS,CAAC,EACf7xI,KAAK2mE,QAAUA,CACnB,CACAq3E,aAAaC,EAAUl2H,UACZ/nB,KAAK6xI,OAAOoM,GACN,MAATl2H,IACA/nB,KAAK6xI,OAAOoM,GAAY,CAAEl2H,UAE9B/nB,KAAKk+I,aACT,CACAA,cACI,IAAIC,EAAe,UAEnBt8I,OAAO6nB,QAAQ1pB,KAAK6xI,QACf5X,UACA33H,MAAM,EAAG,GACTuW,SAAQ,EAAEkM,GAAKgD,YAAco2H,EAAep2H,IACjD/nB,KAAK2mE,QAAQ5+C,MAAMs/C,OAAS82E,CAChC,ECvBG,MAAMC,WAA0BnE,GACnCoE,gBAAgBhgC,EAAQ8D,EAAQvtF,GAC5B,MAAMC,EAAQ,CACVtoB,KAAM,oBACN8xG,SACA8D,SACAvtF,WAEJ50B,KAAKoiG,UAAU5yC,SAAS,oBAAqB36B,EACjD,CACAypH,sBAAsBjgC,EAAQ8D,EAAQvtF,EAAS0jH,GAC3C,MAAMzjH,EAAQ,CACVtoB,KAAM,2BACN8xG,SACA8D,SACAvtF,UACA0jH,mBAEJt4I,KAAKoiG,UAAU5yC,SAAS,2BAA4B36B,EACxD,ECnBJ,SAASy7F,GAAQvlH,EAAG2d,GAChB,OAAI3d,IAAM2d,IAEC,OAAN3d,QAAoB,IAANA,OAAe,EAASA,EAAEszG,WAAmB,OAAN31F,QAAoB,IAANA,OAAe,EAASA,EAAE21F,WAEvF,OAANtzG,QAAoB,IAANA,OAAe,EAASA,EAAEo3G,WAAmB,OAANz5F,QAAoB,IAANA,OAAe,EAASA,EAAEy5F,UAEvF,OAANp3G,QAAoB,IAANA,OAAe,EAASA,EAAE0jF,UAAkB,OAAN/lE,QAAoB,IAANA,OAAe,EAASA,EAAE+lE,OAGrG,CAKO,MAAM8vD,WAAyBtE,GAClC1uI,cACI+jB,QACAtvB,KAAK6xI,OAAS,CAAC,EACf7xI,KAAKw+I,qBAAkBz8I,CAC3B,CACA08I,gBAAgBR,EAAUj8B,UACfhiH,KAAK6xI,OAAOoM,GACK,MAApBj8B,IACAhiH,KAAK6xI,OAAOoM,GAAY,CAAEj8B,qBAE9BhiH,KAAKk+I,aACT,CACAh8B,qBACI,OAAOliH,KAAKw+I,eAChB,CACAN,cACI,MAAMQ,EAAoB1+I,KAAKw+I,gBAC/B,IAAIG,EAEJ98I,OAAO6nB,QAAQ1pB,KAAK6xI,QACf5X,UACA33H,MAAM,EAAG,GACTuW,SAAQ,EAAEkM,GAAKi9F,uBAAyB28B,EAAmB38B,IAChEhiH,KAAKw+I,gBAAkBG,EACvB,MAAMC,GAAWtuB,GAAQouB,EAAmB1+I,KAAKw+I,iBACjD,GAAII,EAAS,CACT,MAAM/pH,EAAQ,CACVtoB,KAAM,mBACNmyI,oBACAG,iBAAkB7+I,KAAKw+I,iBAE3Bx+I,KAAKoiG,UAAU5yC,SAAS,mBAAoB36B,EAChD,CACJ,EClDJ,IAAI2/D,GAAwC,SAAUt3E,EAASu3E,EAAYlqF,EAAGmqF,GAC1E,SAASC,EAAMvzF,GAAS,OAAOA,aAAiBmJ,EAAInJ,EAAQ,IAAImJ,GAAE,SAAUokB,GAAWA,EAAQvtB,EAAQ,GAAI,CAC3G,OAAO,IAAKmJ,IAAMA,EAAImkB,WAAU,SAAUC,EAASuY,GAC/C,SAAS0tD,EAAUxzF,GAAS,IAAMo/E,EAAKkU,EAAUj3E,KAAKrc,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC1F,SAASwpE,EAASzzF,GAAS,IAAMo/E,EAAKkU,EAAU,SAAStzF,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC7F,SAASm1D,EAAKv9E,GAAUA,EAAOya,KAAOiR,EAAQ1rB,EAAO7B,OAASuzF,EAAM1xF,EAAO7B,OAAO+iB,KAAKywE,EAAWC,EAAW,CAC7GrU,GAAMkU,EAAYA,EAAUhrF,MAAMwT,EAASu3E,GAAc,KAAKh3E,OAClE,GACJ,EAIA,MAAMqhI,GAAwB,CAAC,WAAY,YAAa,UAAW,SAC7DC,GAAiB,CACnB,QACA,WACA,cACA,YACA,WACA,aACA,aACA,YACA,WACA,eAEEC,GAAO,sDASN,MAAMC,WAA2BhF,GACpC1uI,YAAYo7D,EAASxd,EAAMrkD,UACvBwqB,QACAtvB,KAAKk/I,aAAgBrqH,GAAU70B,KAAKm/I,aAAatqH,GACjD70B,KAAKo/I,WAAY,EACjBp/I,KAAKq/I,WAAY,EACjBr/I,KAAK40B,SAAU,EACf50B,KAAKs/I,QAAU,GACft/I,KAAKu/I,YAAcp2F,EAAImL,KACvBt0D,KAAK2mE,QAAUA,EACf,IAAK,MAAMp6D,KAAQwyI,GACXxyI,EAAKkX,WAAW,SAChBkjD,EAAQjb,iBAAiBn/C,EAAMvM,KAAKk/I,aAAc,CAAEM,SAAS,IAG7D74E,EAAQjb,iBAAiBn/C,EAAMvM,KAAKk/I,cAG5C,IAAK,MAAM3yI,KAAQuyI,GACF,UAATvyI,EACA3B,OAAO8gD,iBAAiBn/C,EAAMvM,KAAKk/I,aAAc,CAAEM,SAAS,IAG5D50I,OAAO8gD,iBAAiBn/C,EAAMvM,KAAKk/I,cAG3C,GAAID,GAAmBQ,qBAAqBh+I,QAAQ0nD,GAAO,EAAG,CAC1D,MAAM6xD,EAAel2G,SAASI,cAAc,SAC5C81G,EAAa//D,UAAY+jG,GACzBl6I,SAASm2G,KAAK3xD,aAAa0xD,EAAcl2G,SAASm2G,KAAK73D,cAAc,UACrE67F,GAAmBQ,qBAAqB9vI,KAAKw5C,EACjD,CACJ,CACA74B,UACI,IAAK,MAAM/jB,KAAQuyI,GACfl0I,OAAO+gD,oBAAoBp/C,EAAMvM,KAAKk/I,cAE1C,IAAK,MAAM3yI,KAAQwyI,GACf/+I,KAAK2mE,QAAQhb,oBAAoBp/C,EAAMvM,KAAKk/I,aAEpD,CACAxiH,OAAOuhH,GAGH,OAFAj+I,KAAKs/I,QAAUt/I,KAAKs/I,QAAQ5lI,QAAQ1H,GAAOA,IAAOisI,IAClDj+I,KAAK40B,QAAU50B,KAAKs/I,QAAQh+I,QAAU,EAC/BtB,KAAK40B,OAChB,CACAgnH,MAAMqC,GACFj+I,KAAK40B,SAAU,EACf50B,KAAKs/I,QAAQ3vI,KAAKsuI,EACtB,CACAkB,aAAatqH,GACT,MAAMg7G,EAAQ7vI,KAAK0/I,4BAA4B7qH,GAC3Cg7G,EAAMvuI,OAAS,GAAKtB,KAAK40B,SAEzB50B,KAAKyvD,cAAc56B,EAAOg7G,GAAOzrH,OAAOiH,GAAMmmE,GAAOI,UAAUvmE,IAEvE,CACAokC,cAAc56B,EAAOg7G,GACjB,OAAOr7C,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM2/I,EAAS3/I,KAAK4/I,qBAAqB/qH,GACzC,GAAc,MAAV8qH,EAGJ,IAAK,MAAMpzI,KAAQsjI,EAAO,CACtB,MAAMgQ,EAAmB7/I,KAAK8/I,WAAWj+I,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAEmR,SAAS8qH,GAAS,CAAEpzI,UAC3FvM,KAAKoiG,UAAUu3C,oBAAoBptI,GAAM,IAAMszI,EAAiBE,UAAUF,EAC9E,CACJ,GACJ,CACAH,4BAA4B7qH,GACxB,OAAQA,EAAMtoB,MACV,IAAK,QACD,MAAO,CAAC,SACZ,IAAK,WACD,MAAO,CAAC,YACZ,IAAK,cACD,MAAO,CAAC,eACZ,IAAK,YAGD,OAFAvM,KAAKo/I,WAAY,EACjBp/I,KAAKggJ,iBAAmBnrH,EAAMtxB,OACvB,CAAC,cACZ,IAAK,aAGD,OAFAvD,KAAKq/I,WAAY,EACjBr/I,KAAKggJ,iBAAmBnrH,EAAMtxB,OACvB,CAAC,cACZ,IAAK,YACL,IAAK,YACD,OAAKvD,KAAKo/I,WAAcp/I,KAAKq/I,WAAcr/I,KAAKigJ,mBAAmBprH,GAK5D70B,KAAKo/I,WAAap/I,KAAKq/I,UAAY,CAAC,QAAU,CAAC,SAF3C,GAGf,IAAK,UACD,OAAKr/I,KAAKo/I,WAAcp/I,KAAKigJ,mBAAmBprH,IAKhD70B,KAAKo/I,WAAY,EACjBp/I,KAAKggJ,sBAAmBj+I,EACjB,CAAC,aAJG,GAKf,IAAK,WACD,OAAK/B,KAAKq/I,WAAcr/I,KAAKigJ,mBAAmBprH,IAKhD70B,KAAKq/I,WAAY,EACjBr/I,KAAKggJ,sBAAmBj+I,EACjB,CAAC,aAJG,GAKf,IAAK,WACL,IAAK,cACD,MAAO,CAAC,SACZ,IAAK,aACD,MAAMm+I,EAAkBrrH,aAAiBsrH,YAAsC,KAAP,EAAhBtrH,EAAMurH,SAC9D,OAAIpgJ,KAAKo/I,YAAcc,GACnBlgJ,KAAKo/I,UAAYc,EACV,CAACA,EAAkB,aAAe,aAEtC,GACX,IAAK,WACD,MAAO,CAAC,aACZ,IAAK,QACD,MAAO,CAAC,SAEhB,MAAO,EACX,CACAD,mBAAmBprH,GACf,IAAIvb,EACJ,OAAOub,EAAMtxB,SAAWvD,KAAK2mE,UAAoC,QAAvBrtD,EAAKub,EAAMtxB,cAA2B,IAAP+V,OAAgB,EAASA,EAAG0/H,iBAAmBh5I,KAAK2mE,OACjI,CACAi5E,qBAAqB/qH,GACjB,IAAIvb,EACJ,GAAIub,aAAiBsrH,WAAY,CAC7B,MAAM,QAAEE,EAAO,QAAEC,EAAO,MAAEC,EAAK,MAAEC,EAAK,QAAEzkC,EAAO,QAAEhe,GAAYlpE,EAC7D,OAAO70B,KAAKygJ,WAAW5rH,EAAO,CAAEwrH,UAASC,UAASC,QAAOC,QAAOzkC,UAAShe,WAC7E,CACK,GAA0B,qBAAf2iD,YAA8B7rH,aAAiB6rH,WAAY,CACvE,MAAMC,EAAwC,QAA3BrnI,EAAKub,EAAM+rH,QAAQ,UAAuB,IAAPtnI,EAAgBA,EAAKub,EAAMgsH,eAAe,IAC1F,QAAER,EAAO,QAAEC,EAAO,MAAEC,EAAK,MAAEC,GAAUG,EAC3C,OAAO9+I,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGu7H,GAAmB6B,aAAc,CAAET,UAASC,UAASC,QAAOC,SACvG,CACK,GAAI3rH,aAAiBksH,oBAAqB,CAC3C,GAAIlsH,EAAM2N,UAEN,OAEJ,OAAOy8G,GAAmB6B,WAC9B,CAEJ,CACAL,WAAW5rH,EAAO8qH,GACd,MAAMqB,EAAW9/I,IACb,IAAIsN,EAAI,EACJo5E,EAAI,EACR,MAAO1mF,EACHsN,GAAKtN,EAAG+/I,WACRr5D,GAAK1mF,EAAGggJ,UACRhgJ,EAAKA,EAAGigJ,aAEZ,MAAO,CAAE3yI,IAAGo5E,IAAG,EAEnB,GAA6B,MAAzB5nF,KAAKggJ,kBAA4BnrH,EAAMtxB,SAAWvD,KAAKggJ,iBAAkB,CAGzE,MAAMoB,EAAkBJ,EAAQhhJ,KAAKggJ,kBAC/BqB,EAAcL,EAAQnsH,EAAMtxB,QAClCo8I,EAAO5jC,SAAWqlC,EAAgB5yI,EAAI6yI,EAAY7yI,EAClDmxI,EAAO5hD,SAAWqjD,EAAgBx5D,EAAIy5D,EAAYz5D,CACtD,CACA,OAAO+3D,CACX,CACAG,WAAWrgE,GACP,MAAM,KAAElzE,EAAI,MAAEsoB,EAAK,QAAEwrH,EAAO,QAAEC,GAAY7gE,EAC1C,IAAI,QAAEs8B,EAAO,QAAEhe,EAAO,MAAEwiD,EAAK,MAAEC,GAAU/gE,EACzC,IAAKgjB,GAASsZ,KAAatZ,GAAS1E,GAAU,CAC1C,MAAM4tB,EAAO3rH,KAAK2mE,QAAQpR,wBAC1BwmD,EAAUskC,EAAU10B,EAAK/1D,KACzBmoC,EAAUuiD,EAAU30B,EAAK71D,GAC7B,CACA,IAAK2sC,GAAS89C,KAAW99C,GAAS+9C,GAAQ,CACtC,MAAMc,EAAWthJ,KAAKu/I,YAAYhqF,wBAClCgrF,EAAQF,EAAUiB,EAAS1rF,KAC3B4qF,EAAQF,EAAUgB,EAASxrF,GAC/B,CACA,MAAMyrF,EAAa,CACfh1I,OACAwvG,QAASA,EACThe,QAASA,EACTwiD,MAAOA,EACPC,MAAOA,EACP1jC,YAAajoF,EACbkrH,UAAU,EACVyB,QAASA,IAAOD,EAAWxB,UAAW,GAE1C,OAAOwB,CACX,EAEJtC,GAAmBQ,qBAAuB,GAC1CR,GAAmB6B,YAAc,CAC7BT,SAAUlsH,IACVmsH,SAAUnsH,IACVosH,OAAQpsH,IACRqsH,OAAQrsH,IACR4nF,SAAU5nF,IACV4pE,SAAU5pE,KC5OP,MAAMstH,GACTl2I,YAAYm2I,EAASnF,GACjBv8I,KAAK6xI,OAAS,CAAC,EACf7xI,KAAK2hJ,eAAiB,CAAC,EACvB3hJ,KAAK4hJ,WAAa,GAClB5hJ,KAAK0hJ,QAAUA,EACf,MAAMG,EAAWtF,EAAmBnI,YAAY,SAAU/oH,GAAMrrB,KAAK8hJ,oBAAoBz2H,KACzFrrB,KAAK4hJ,WAAWjyI,MAAK,IAAM4sI,EAAmBxC,eAAe8H,IACjE,CACAE,cAAc9D,EAAU1wH,EAAMw4B,GAC1B,IAAIzsC,EACW,MAAXysC,IACAA,EAA2C,QAAhCzsC,EAAKtZ,KAAK6xI,OAAOoM,UAA8B,IAAP3kI,OAAgB,EAASA,EAAGysC,SAE9EA,EAID/lD,KAAK6xI,OAAOoM,GAAY,CAAEl4F,UAASx4B,eAH5BvtB,KAAK6xI,OAAOoM,GAKvBj+I,KAAKk+I,aACT,CACA8D,oBAAoB/D,EAAU1gC,GACtBA,EACAv9G,KAAK2hJ,eAAe1D,GAAY1gC,SAGzBv9G,KAAK2hJ,eAAe1D,EAEnC,CACAgE,cAAchE,UACHj+I,KAAK6xI,OAAOoM,GACnBj+I,KAAKk+I,aACT,CACAgE,eAAejE,GACX,IAAI3kI,EACJ,OAAwC,QAAhCA,EAAKtZ,KAAK6xI,OAAOoM,UAA8B,IAAP3kI,OAAgB,EAASA,EAAGiU,IAChF,CACA+C,UACI,IAAK,MAAM6xH,KAAaniJ,KAAK4hJ,WACzBO,GAER,CACAL,oBAAoBz2H,GAChB,IAAI+2H,EACJ,IAAK,MAAOC,EAAS9kC,KAAS17G,OAAO6nB,QAAQ1pB,KAAK2hJ,gBAC9C,GAAKpkC,EAAKx1B,cAAc18D,EAAE0wF,QAAS1wF,EAAE0yE,SAArC,CAGAqkD,EAA0BC,EAC1B,KAFA,CAIAD,IAA4BpiJ,KAAKsiJ,uBAGrCtiJ,KAAKsiJ,qBAAuBF,EAC5BpiJ,KAAKk+I,cACT,CACAA,cACI,IAAI5kI,EACJ,MAAMipI,EAAMviJ,KAAKsiJ,qBAAuB,CAACtiJ,KAAKsiJ,sBAAwBzgJ,OAAO6B,KAAK1D,KAAK6xI,QACvF,IAAI2Q,EACAC,EASJ,GAPAF,EAAItoB,UACJsoB,EAAIjgJ,MAAM,EAAG,GAAGuW,SAAS7G,IACrB,IAAIsH,EACJ,MAAM,QAAEysC,EAAO,KAAEx4B,GAAoC,QAA1BjU,EAAKtZ,KAAK6xI,OAAO7/H,UAAwB,IAAPsH,EAAgBA,EAAK,CAAC,EACnFkpI,EAAiBz8F,EACjB08F,EAAcl1H,CAAI,SAEFxrB,IAAhB0gJ,QAAgD1gJ,IAAnBygJ,EAG7B,OAFAxiJ,KAAK0iJ,kBAAe3gJ,OACpB/B,KAAK0hJ,QAAQ5mC,QAAO,GAGxB,IAAkC,QAA5BxhG,EAAKtZ,KAAK0iJ,oBAAiC,IAAPppI,OAAgB,EAASA,EAAGysC,WAAay8F,EAAgB,CAC/F,MAAMG,EAAkB3iJ,KAAK0hJ,QAAQvmC,YACrCn7G,KAAK0hJ,QAAQpiE,KAAKmjE,OAAa1gJ,EAAW4gJ,EAC9C,MAEI3iJ,KAAK0hJ,QAAQpiE,KAAKmjE,EAAaD,GAEnCxiJ,KAAK0iJ,aAAe,CAAE38F,QAASy8F,EAAgBj1H,KAAMk1H,EACzD,ECvFJ,SAASnyB,GAAQvlH,EAAG2d,GAChB,IAAIpP,EAAIqb,EAAI2C,EAAIH,EAAIi/E,EAAIC,EAAIC,EAAIssC,EAChC,OAAI73I,IAAM2d,IAEgD,QAApDpP,EAAW,OAANvO,QAAoB,IAANA,OAAe,EAASA,EAAEyD,SAAsB,IAAP8K,OAAgB,EAASA,EAAGjI,QAA+D,QAApDsjB,EAAW,OAANjM,QAAoB,IAANA,OAAe,EAASA,EAAEla,SAAsB,IAAPmmB,OAAgB,EAASA,EAAGtjB,QAEvI,QAApDimB,EAAW,OAANvsB,QAAoB,IAANA,OAAe,EAASA,EAAEyD,SAAsB,IAAP8oB,OAAgB,EAASA,EAAGlmB,QAA+D,QAApD+lB,EAAW,OAANzO,QAAoB,IAANA,OAAe,EAASA,EAAEla,SAAsB,IAAP2oB,OAAgB,EAASA,EAAG/lB,QAEvI,QAApDglG,EAAW,OAANrrG,QAAoB,IAANA,OAAe,EAASA,EAAE68E,SAAsB,IAAPwuB,OAAgB,EAASA,EAAGhlG,QAA+D,QAApDilG,EAAW,OAAN3tF,QAAoB,IAANA,OAAe,EAASA,EAAEk/D,SAAsB,IAAPyuB,OAAgB,EAASA,EAAGjlG,OAEvI,QAApDklG,EAAW,OAANvrG,QAAoB,IAANA,OAAe,EAASA,EAAE68E,SAAsB,IAAP0uB,OAAgB,EAASA,EAAGjlG,QAA+D,QAApDuxI,EAAW,OAANl6H,QAAoB,IAANA,OAAe,EAASA,EAAEk/D,SAAsB,IAAPg7D,OAAgB,EAASA,EAAGvxI,MAGrM,CAKO,MAAMwxI,WAAoB5I,GAC7B1uI,cACI+jB,QACAtvB,KAAK6xI,OAAS,CAAC,EACf7xI,KAAK8iJ,iBAAc/gJ,CACvB,CACAghJ,WAAW9E,EAAU+E,UACVhjJ,KAAK6xI,OAAOoM,GACJ,MAAX+E,IACAhjJ,KAAK6xI,OAAOoM,GAAYp8I,OAAO6hB,OAAO,CAAC,EAAGs/H,IAE9ChjJ,KAAKk+I,aACT,CACA+E,UACI,OAAOjjJ,KAAK8iJ,WAChB,CACA5E,cACI,MAAM4E,EAAc9iJ,KAAK8iJ,YACnBI,EAAc,CAAC,EAErB,IAAK,MAAOn+H,GAAG,EAAEvW,EAAC,EAAEo5E,MAAQ/lF,OAAO6nB,QAAQ1pB,KAAK6xI,QAC5CqR,EAAY10I,EAAU,OAANA,QAAoB,IAANA,EAAeA,EAAI00I,EAAY10I,EAC7D00I,EAAYt7D,EAAU,OAANA,QAAoB,IAANA,EAAeA,EAAIs7D,EAAYt7D,EAEjE5nF,KAAK8iJ,YAA+B,MAAjBI,EAAY10I,GAA8B,MAAjB00I,EAAYt7D,EAAYs7D,OAAcnhJ,EAClF,MAAM68I,GAAWtuB,GAAQwyB,EAAa9iJ,KAAK8iJ,aAC3C,IAAKlE,EACD,OAEJ,MAAM/pH,EAAQhzB,OAAO6hB,OAAO,CAAEnX,KAAM,eAAkC,OAAhBu2I,QAAwC,IAAhBA,EAAyBA,EAAc,CAAC,GACtH9iJ,KAAKoiG,UAAU5yC,SAAS,cAAe36B,EAC3C,ECjDJ,SAASsuH,GAAclsG,GACnB,MAAa,oBAANA,CACX,CACA,SAASmsG,GAAiBnsG,GACtB,MAAa,oBAANA,CACX,CACO,MAAMosG,GACT93I,cACIvL,KAAKsjJ,iBAAmB,IAAI7J,GAC5Bz5I,KAAKoiG,UAAY,IAAIq3C,EACzB,CACArF,YAAY7nI,EAAMqnB,GACd,GAAIuvH,GAAc52I,GACd,OAAOvM,KAAKsjJ,iBAAiBlP,YAAY7nI,EAAMqnB,GAE9C,GAAIwvH,GAAiB72I,GACtB,OAAOvM,KAAKoiG,UAAUgyC,YAAY7nI,EAAMqnB,GAE5C,MAAM,IAAIlsB,MAAM,0CAA4C6E,EAChE,CACAwtI,eAAeC,GACXh6I,KAAKoiG,UAAU23C,eAAeC,GAC9Bh6I,KAAKsjJ,iBAAiBvJ,eAAeC,EACzC,CACAuJ,sBAAsBC,EAAO12H,GACzB,MAAM7pB,EAASjD,KAAKsjJ,iBAAiB1J,eAAe4J,GAAO,EAAGC,cAAc32H,IAAQ,CAACjrB,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGoJ,GAAM,CAAE22H,iBAAgB32H,GAC7I,OAAkB,OAAX7pB,QAA8B,IAAXA,EAAoBA,EAAS6pB,CAC3D,CACA42H,uBAAuB7uH,GACnB70B,KAAKoiG,UAAU5yC,SAAS,kBAAmB36B,EAC/C,EC/BG,MAAM8uH,GACTp4I,YAAYq4I,GACR5jJ,KAAK4jJ,UAAYA,CACrB,ECFG,IAAIC,IACX,SAAWA,GACPA,EAAgBA,EAAgB,QAAU,GAAK,OAC/CA,EAAgBA,EAAgB,gBAAkB,GAAK,eACvDA,EAAgBA,EAAgB,kBAAoB,GAAK,iBACzDA,EAAgBA,EAAgB,iBAAmB,GAAK,gBACxDA,EAAgBA,EAAgB,yBAA2B,GAAK,wBAChEA,EAAgBA,EAAgB,gBAAkB,GAAK,eACvDA,EAAgBA,EAAgB,QAAU,GAAK,MAClD,EARD,CAQGA,KAAoBA,GAAkB,CAAC,ICTnC,MAAMC,GACTv4I,YAAYw4I,GACR/jJ,KAAK+jJ,eAAiBA,CAC1B,CACArzH,OAAOnkB,EAAOs3I,GAAgBG,MAAM,qBAAEC,GAAuB,GAAU,CAAC,GACpEjkJ,KAAK+jJ,eAAex3I,EAAM,CAAE03I,wBAChC,ECPJ,IAAIh1H,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAEO,MAAM+jI,GACT34I,cACIvL,KAAKmmB,MAAQ,SACjB,EAEJ8I,GAAW,CACPmgF,GAASsC,GAAa,UAAW,UAClCwyC,GAAel7I,UAAW,aAAS,GCdtC,IAAIimB,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAMO,MAAMgkI,WAAoBtyD,GAC7BtmF,cACI+jB,MAAM,CAAEhrB,KAAM,qBACdtE,KAAKwlH,MAAQ,IAAIxrE,GACjBh6C,KAAKokJ,QAAU,IAAInT,GACnBjxI,KAAKqkJ,YAAc,GACnBrkJ,KAAKskJ,SAAW,EAChB,MAAM9+B,EAAQxlH,KAAKwlH,MACnBA,EAAM9+B,aAAe,SACrB8+B,EAAM5oB,SAAW,GACjB4oB,EAAM3oB,WAAa,sBACnB2oB,EAAMhlF,KAAO,QAEbglF,EAAM59B,EAAI5E,GAAWp3E,IAAIw6E,YAAc,EAAI,EAC3CpmF,KAAKivF,OAAO,CAACjvF,KAAKukJ,OAAQ/+B,IAC1BxlH,KAAK0wB,QACT,CACI6zH,WAAOnjJ,GACHpB,KAAKokJ,UAAYhjJ,IACjBpB,KAAKupD,YAAYvpD,KAAKokJ,SACtBpkJ,KAAKokJ,QAAUhjJ,EACfpB,KAAKgqD,YAAY5oD,GACjBpB,KAAK0wB,SAEb,CACI6zH,aACA,OAAOvkJ,KAAKokJ,OAChB,CACII,eAAWpjJ,GACPpB,KAAKqkJ,cAAgBjjJ,IACrBpB,KAAKqkJ,YAAcjjJ,EACnBpB,KAAK0wB,SAEb,CACI8zH,iBACA,OAAOxkJ,KAAKqkJ,WAChB,CACIxyB,YAAQzwH,GACJpB,KAAKskJ,WAAaljJ,IAClBpB,KAAKskJ,SAAWljJ,EAChBpB,KAAK0wB,SAEb,CACImhG,cACA,OAAO7xH,KAAKskJ,QAChB,CACA5zH,SACI,MAAM6zH,EAASvkJ,KAAKukJ,OACdC,EAAaxkJ,KAAKwkJ,WACxBD,EAAO5nI,KAAO6nI,EACdxkJ,KAAKwlH,MAAMh3G,EAAIg2I,EAAa,EAAIxkJ,KAAK6xH,OACzC,CACApiG,OAAOwgE,GAGHjwF,KAAKukJ,OAAOzgE,QAAU9jF,KAAK8jF,QAC3B9jF,KAAKwlH,MAAM1hC,QAAU9jF,KAAK8jF,QAC1Bx0D,MAAMG,OAAOwgE,EACjB,ECrEG,SAASw0D,IAAW,YAAEC,EAAW,OAAEC,EAAM,UAAEzmD,EAAS,SAAED,EAAQ,aAAE2mD,EAAe,EAAC,aAAEC,EAAe,EAAC,YAAEC,GAAc,IACrH,MAAMC,EAA6B,eAAhBL,EACbM,EAAU,CACZ5zI,IAAK2zI,EAAa9mD,EAAWC,EAC7Bh0F,GAAI66I,EAAcr8H,GAAMA,EAAEu6D,MAASv6D,GAAMA,EAAEiH,OAC3C+zF,QAASqhC,EAAaF,EAAeD,GAEnCK,EAAY,CACd7zI,IAAM2zI,EAAwB7mD,EAAXD,EACnB/zF,GAAK66I,EAA+Br8H,GAAMA,EAAEiH,OAAzBjH,GAAMA,EAAEu6D,MAC3BygC,QAAUqhC,EAA4BH,EAAfC,GAE3B,IAAIK,EAAqB,EACzB,MAAMC,EAAW,GACjB,MAAOD,EAAqBP,EAAOrjJ,OAAQ,CACvC,MAAM8jJ,EAAoBT,EAAOriJ,MAAM4iJ,GACjCjiJ,EAASoiJ,GAAcD,EAAmBF,EAAoBF,EAASC,EAAWH,GACxF,IAAK7hJ,EACD,OAEJiiJ,GAAsBjiJ,EAAOiiJ,mBAC7BC,EAASx1I,KAAK1M,EAAOqiJ,YACzB,CACA,OAAOC,GAAWJ,EAAUT,EAAaC,EAAQC,EAAcC,EACnE,CACA,SAASQ,GAAcV,EAAQa,EAAaR,EAASC,EAAWH,GAG5D,MAAMW,EAAW,EACjB,IAAIC,EAAgBC,GAAsBhB,EAAQK,GAClD,GAAIU,EAAgBD,EAAU,CAC1B,IAAKX,EACD,OAGJY,EAAgBD,CACpB,CACA,IAAK,IAAIG,EAAQF,EAAeE,GAASH,EAAUG,IAAS,CACxD,MAAMN,EAAcO,GAAclB,EAAQa,EAAaI,EAAOZ,EAASC,EAAWH,GAClF,GAAmB,MAAfQ,GAAuBM,GAASH,EAEhC,OAEJ,GAAmB,MAAfH,EAEA,SAEJ,GAA2B,kBAAhBA,EAA0B,CAEjC,GAAIA,GAAeG,EAEf,OAEJG,EAAQN,EAAcM,GAASN,EAAcG,EAAWH,EAAcM,EACtE,QACJ,CACA,MAAMV,EAAqBI,EAAYhkJ,OAASgkJ,EAAY,GAAGhkJ,OAC/D,MAAO,CAAE4jJ,qBAAoBI,cACjC,CACJ,CACA,SAASO,GAAclB,EAAQa,EAAaM,EAAcd,EAASC,EAAWH,GAC1E,IAAIxrI,EACJ,MAAMrW,EAAS,GACf,IAAI8iJ,EAAe,EACfC,EAAsB,EACtBC,EAAwB,GAC5B,MAAMC,EAAmB,GACzB,IAAK,IAAIC,EAAY,EAAGA,EAAYxB,EAAOrjJ,OAAQ6kJ,IAAa,CAC5D,MAAMC,GAAmBD,EAAYL,GAAgBA,EAC7B,IAApBM,IACAL,GAAgBC,EAChBA,EAAsB,EAClBC,EAAsB3kJ,OAAS,GAC/B2B,EAAO0M,KAAKs2I,GAEhBA,EAAwB,IAE5B,MAAMI,EAAerB,EAAQ96I,GAAGy6I,EAAOwB,IAAcnB,EAAQthC,QAC7DwiC,EAAiBE,GAAmB17I,KAAK0G,IAAiD,QAA5CkI,EAAK4sI,EAAiBE,UAAqC,IAAP9sI,EAAgBA,EAAK,EAAG+sI,GAC1HL,EAAsBt7I,KAAK0G,IAAI40I,EAAqBf,EAAU/6I,GAAGy6I,EAAOwB,IAAclB,EAAUvhC,SAChG,MAAM4iC,EAA4BP,EAAeC,EAC3CO,GAAgBzB,GAAe7hJ,EAAO3B,OAAS,EACrD,GAAIglJ,EAA4BrB,EAAU7zI,KAAOm1I,EAAc,CAE3DN,EAAwB,GACxB,KACJ,CACA,MAAMO,EAAaN,EAAiBv8H,QAAO,CAACs3E,EAAKxjF,IAASwjF,EAAMxjF,GAAM,GACtE,GAAI+oI,EAAaxB,EAAQ5zI,MAAQ0zI,EAE7B,OAAIoB,EAAiB5kJ,OAASwkJ,EAEnBI,EAAiB5kJ,YAE5B,EAEJ2kJ,EAAsBt2I,KAAKw2I,EAAYX,EAC3C,CAIA,OAHIS,EAAsB3kJ,OAAS,GAC/B2B,EAAO0M,KAAKs2I,GAEThjJ,EAAO3B,OAAS,EAAI2B,OAASlB,CACxC,CACA,SAASwjJ,GAAWJ,EAAUT,EAAaC,EAAQC,EAAcC,GAC7D,IAAI4B,EAAe,EACfC,EAAgB,EACpB,MAAMC,EAAQxB,EAASxrI,KAAKg8F,IACJ,eAAhB+uC,IACA/uC,EAAUixC,GAAUjxC,IAExB,IAAIntC,EAAW,EACf,MAAMq+E,EAAUlxC,EAAQh8F,KAAKmtI,IACzB,MAAMC,EAAYD,EAAWntI,KAAKwsI,IAC9B39E,EAAW99D,KAAK0G,IAAI+0I,EAAW39E,GACxBm8E,EAAOwB,MAElB,IAAIa,EAAe,EACfC,EAAc,EAKlB,OAJAF,EAAUluI,SAASouE,IACf+/D,GAAgB//D,EAAKt3D,OAASi1H,EAC9BqC,EAAcv8I,KAAK0G,IAAI61I,EAAahgE,EAAKhE,MAAQ4hE,EAAa,IAE3D,CACHlvC,QAASmxC,EACTnC,OAAQoC,EACRC,eACAC,cACH,IAEL,IAAIC,EAAY,EACZC,EAAa,EAOjB,OANAN,EAAQhuI,SAASglD,IACbqpF,GAAarpF,EAAOopF,YACpBE,EAAaz8I,KAAK0G,IAAI+1I,EAAYtpF,EAAOmpF,aAAa,IAE1DP,EAAe/7I,KAAK0G,IAAI81I,EAAWT,GACnCC,EAAgBh8I,KAAK0G,IAAI+1I,EAAYT,GAC9B,CACHG,UACAO,WAAYzxC,EAAQ,GAAG,GACvBntC,WACA0+E,YACAC,aACH,IAEL,MAAO,CAAER,QAAOF,eAAcC,gBAClC,CACA,SAASE,GAAU55I,GACf,MAAM/J,EAAS,GACf,IAAK,MAAM8hB,KAAK/X,EAAK,GACjB/J,EAAO0M,KAAK,IAOhB,OALA3C,EAAK6L,SAAQ,CAACwuI,EAAWC,KACrBD,EAAUxuI,SAAQ,CAAChG,EAAM00I,KACrBtkJ,EAAOskJ,GAASD,GAAWz0I,CAAI,GACjC,IAEC5P,CACX,CACA,SAAS0iJ,GAAsBhB,EAAQK,GACnC,MAAMv2I,EAAIk2I,EAAOrjJ,OACjB,IAAIkmJ,EAAa,EACjB,IAAK,IAAIrB,EAAY,EAAGA,EAAY13I,EAAG03I,IAEnC,GADAqB,GAAcxC,EAAQ96I,GAAGy6I,EAAOwB,IAAcnB,EAAQthC,QAClD8jC,EAAaxC,EAAQ5zI,IAAK,CAC1B,MAAM+zE,EAAQ12E,EAAI03I,EAClB,OAAIhhE,EAAQ,EACDz6E,KAAK2D,KAAKI,EAAI,GAElB03I,CACX,CAEJ,OAAO13I,CACX,CDtGA01I,GAAY95F,UAAY,cACxBp7B,GAAW,CACPmiG,GAAqB,UACtB+yB,GAAYn7I,UAAW,YAAQ,GAClCimB,GAAW,CACPmiG,GAAqB,UACtB+yB,GAAYn7I,UAAW,iBAAa,GACvCimB,GAAW,CACPmiG,GAAqB,UACtB+yB,GAAYn7I,UAAW,kBAAc,GACxCimB,GAAW,CACPmiG,GAAqB,UACtB+yB,GAAYn7I,UAAW,gBAAY,GACtCimB,GAAW,CACPmiG,GAAqB,UACtB+yB,GAAYn7I,UAAW,kBAAc,GACxCimB,GAAW,CACPmiG,GAAqB,QAAS,SAC/B+yB,GAAYn7I,UAAW,aAAS,GACnCimB,GAAW,CACPmiG,GAAqB,SAAU,SAChC+yB,GAAYn7I,UAAW,kBAAc,GACxCimB,GAAW,CACPmiG,GAAqB,SAAU,WAChC+yB,GAAYn7I,UAAW,oBAAgB,GAC1CimB,GAAW,CACPmiG,GAAqB,SAAU,gBAChC+yB,GAAYn7I,UAAW,yBAAqB,GAC/CimB,GAAW,CACPmiG,GAAqB,SAAU,gBAChC+yB,GAAYn7I,UAAW,yBAAqB,GAC/CimB,GAAW,CACPmiG,GAAqB,SAAU,kBAChC+yB,GAAYn7I,UAAW,2BAAuB,GExGjD,IAAIimB,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EASA,MAAMsnI,GACFl8I,cACIvL,KAAK+5F,MAAQ,QACb/5F,KAAKuhG,eAAYx/F,EACjB/B,KAAKwhG,gBAAaz/F,EAClB/B,KAAK48F,SAAW,GAChB58F,KAAK68F,WAAa,qBACtB,EAEJ5tE,GAAW,CACPmgF,GAAS4B,KACVy2C,GAAgBz+I,UAAW,aAAS,GACvCimB,GAAW,CACPmgF,GAAS0C,KACV21C,GAAgBz+I,UAAW,iBAAa,GAC3CimB,GAAW,CACPmgF,GAAS4C,KACVy1C,GAAgBz+I,UAAW,kBAAc,GAC5CimB,GAAW,CACPmgF,GAASwB,GAAO,KACjB62C,GAAgBz+I,UAAW,gBAAY,GAC1CimB,GAAW,CACPmgF,GAASmB,KACVk3C,GAAgBz+I,UAAW,kBAAc,GAC5C,MAAM0+I,GACFn8I,cACIvL,KAAK2c,KAAO,GACZ3c,KAAKwgC,UAAOz+B,EACZ/B,KAAKm6F,iBAAcp4F,EACnB/B,KAAKs6F,YAASv4F,EACd/B,KAAKu6F,YAAc,EACnBv6F,KAAKo6F,cAAgB,CACzB,EAEJnrE,GAAW,CACPmgF,GAASwB,GAAO,KACjB82C,GAAsB1+I,UAAW,YAAQ,GAC5CimB,GAAW,CACPmgF,GAAS8B,KACVw2C,GAAsB1+I,UAAW,YAAQ,GAC5CimB,GAAW,CACPmgF,GAASiC,GAAW,EAAG,KACxBq2C,GAAsB1+I,UAAW,mBAAe,GACnDimB,GAAW,CACPmgF,GAAS8B,KACVw2C,GAAsB1+I,UAAW,cAAU,GAC9CimB,GAAW,CACPmgF,GAASwB,GAAO,KACjB82C,GAAsB1+I,UAAW,mBAAe,GACnDimB,GAAW,CACPmgF,GAASwB,GAAO,EAAG,KACpB82C,GAAsB1+I,UAAW,qBAAiB,GACrD,MAAM2+I,GACFp8I,cACIvL,KAAK2c,KAAO,GACZ3c,KAAK4nJ,OAASnW,GAIdzxI,KAAK0jH,QAAU,CACnB,CACI7oB,UAAMz5F,GACN,IAAIkY,EACJtZ,KAAK4nJ,OAASxmJ,EACS,QAAtBkY,EAAKtZ,KAAK2U,cAA2B,IAAP2E,GAAyBA,EAAGuuI,qBAC/D,CACIhtD,YACA,OAAO76F,KAAK4nJ,MAChB,EAEJ34H,GAAW,CACPmgF,GAASwB,GAAO,KACjB+2C,GAAiB3+I,UAAW,YAAQ,GACvCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjB+2C,GAAiB3+I,UAAW,eAAW,GACnC,MAAM8+I,GACTv8I,YAAYw8I,EAAqBC,EAAoBzL,EAAoB0L,GACrEjoJ,KAAK+nJ,oBAAsBA,EAC3B/nJ,KAAKgoJ,mBAAqBA,EAC1BhoJ,KAAKu8I,mBAAqBA,EAC1Bv8I,KAAKioJ,cAAgBA,EACrBjoJ,KAAKgS,GAAK+5E,GAAS/rF,MACnBA,KAAK+yF,MAAQ,IAAIlB,GAAM,CAAEvtF,KAAM,eAC/BtE,KAAKkoJ,UAAY,IAAIluG,GACrBh6C,KAAKukJ,OAAS,IAAIoD,GAClB3nJ,KAAKmoJ,YAAc,IAAIT,GACvB1nJ,KAAKooJ,cAAgB,IAAIV,GACzB1nJ,KAAK4/G,eAAiB,IAAI8nC,GAC1B1nJ,KAAKwlH,MAAQ,IAAIiiC,GACjBznJ,KAAKqoJ,WAAa,EAClBroJ,KAAKsoJ,YAAc,EACnBtoJ,KAAKyqF,aAAe,EACpBzqF,KAAK0qF,aAAe,EACpB1qF,KAAKuoJ,oBAAqB,EAC1BvoJ,KAAKwoJ,wBAAyB,EAC9BxoJ,KAAKw/G,UAAW,EAChBx/G,KAAKqjF,UAAW,EAChBrjF,KAAKyoJ,aAAe,WACpBzoJ,KAAK0oJ,YAAc,IAAIjX,GACvBzxI,KAAK2oJ,gBAAkB,IAAIlX,GAC3B,MAAM,UAAEyW,GAAcloJ,KACtBkoJ,EAAUxhE,aAAe,SACzBwhE,EAAUtrD,SAAW,GACrBsrD,EAAUrrD,WAAa,sBACvBqrD,EAAU1nH,KAAO,QACjB0nH,EAAUtgE,EAAI5E,GAAWp3E,IAAIw6E,YAAc,EAAI,EAC/CpmF,KAAK+yF,MAAM9D,OAAO,CAACjvF,KAAK4oJ,WAAY5oJ,KAAK6oJ,eAAgBX,IACzDloJ,KAAKu8I,mBAAmBnI,YAAY,SAAUv/G,GAAU70B,KAAK8oJ,kBAAkBj0H,KAC/E70B,KAAKu8I,mBAAmBnI,YAAY,SAAUv/G,GAAU70B,KAAK+oJ,sBAAsBl0H,KACnF70B,KAAKukJ,OAAO5vI,OAAS3U,KACrBA,KAAK0wB,SACL1wB,KAAKgpJ,eACT,CACI16D,YAAQltF,GACRpB,KAAKw/G,SAAWp+G,EAChBpB,KAAKipJ,uBACT,CACI36D,cACA,OAAOtuF,KAAKw/G,QAChB,CACI5qF,YAAQxzB,GACRpB,KAAKqjF,SAAWjiF,EAChBpB,KAAKipJ,uBACT,CACIr0H,cACA,OAAO50B,KAAKqjF,QAChB,CACA4lE,wBACIjpJ,KAAK+yF,MAAMzE,QAAUtuF,KAAK40B,SAAW50B,KAAKsuF,OAC9C,CACIo2D,gBAAYtjJ,GAEZ,OADApB,KAAKyoJ,aAAernJ,EACZA,GACJ,IAAK,aACDpB,KAAK6oJ,eAAer+D,UAAY9/E,KAAKkuF,GAAK,EAC1C54F,KAAK4oJ,WAAWp+D,SAAW9/E,KAAKkuF,GAAK,EACrC,MAEJ,IAAK,WACL,QACI54F,KAAK6oJ,eAAer+D,SAAW,EAC/BxqF,KAAK4oJ,WAAWp+D,SAAW9/E,KAAKkuF,GAG5C,CACI8rD,kBACA,OAAO1kJ,KAAKyoJ,YAChB,CACIG,eAAWxnJ,GACPpB,KAAK0oJ,cAAgBtnJ,IACrBpB,KAAK+yF,MAAMxpC,YAAYvpD,KAAK0oJ,aAC5B1oJ,KAAK0oJ,YAActnJ,EACnBpB,KAAK+yF,MAAM/oC,YAAY5oD,GAE/B,CACIwnJ,iBACA,OAAO5oJ,KAAK0oJ,WAChB,CACIG,mBAAeznJ,GACXpB,KAAK2oJ,kBAAoBvnJ,IACzBpB,KAAK+yF,MAAMxpC,YAAYvpD,KAAK2oJ,iBAC5B3oJ,KAAK2oJ,gBAAkBvnJ,EACvBpB,KAAK+yF,MAAM/oC,YAAY5oD,GAE/B,CACIynJ,qBACA,OAAO7oJ,KAAK2oJ,eAChB,CACAj4H,SACI1wB,KAAKkpJ,cACLlpJ,KAAKmpJ,kBACLnpJ,KAAKopJ,wBACT,CACAD,kBACInpJ,KAAK+yF,MAAMtI,aAAezqF,KAAKyqF,aAC/BzqF,KAAK+yF,MAAMrI,aAAe1qF,KAAK0qF,aAC/B1qF,KAAKqpJ,sBACLrpJ,KAAKspJ,0BACT,CACAD,sBACI,MAAQ1sI,KAAM6nI,EAAY9gC,QAAS6lC,GAAkBvpJ,KAAKukJ,OAC1DvkJ,KAAK4oJ,WAAWjsI,KAAO6nI,EACvBxkJ,KAAK6oJ,eAAelsI,KAAO6nI,EAC3BxkJ,KAAKkoJ,UAAU15I,EAAIg2I,EAAa,EAAI+E,CACxC,CACAD,2BACI,MAAME,EAAYxpJ,KAAKkoJ,UAAUn4D,cACjC/vF,KAAK4oJ,WAAWn+D,aAAe++D,EAAUh7I,EAAIg7I,EAAUvmE,MAAQjjF,KAAKukJ,OAAO5nI,KAAO,EAAI3c,KAAKukJ,OAAO7gC,OACtG,CACAwlC,cACI,MAAM,YAAEZ,EAAaD,WAAY1B,EAAK,UAAEuB,EAAW1iC,OAAO,MAAEzrB,EAAK,UAAEwH,EAAS,WAAEC,EAAU,SAAE5E,EAAQ,WAAEC,IAAkB78F,KACtHkoJ,EAAUtiG,KAAQ,GAAE0iG,EAAc,OAAO3B,IACzCuB,EAAU1nH,KAAOu5D,EACjBmuD,EAAU3mD,UAAYA,EACtB2mD,EAAU1mD,WAAaA,EACvB0mD,EAAUtrD,SAAWA,EACrBsrD,EAAUrrD,WAAaA,CAC3B,CACAmsD,gBACI,MAAM,WAAEJ,EAAU,eAAEC,EAAc,mBAAEN,EAAkB,uBAAEC,EAAsB,YAAEL,EAAW,cAAEC,EAAa,eAAExoC,EAAc,gBAAE6pC,GAAqBzpJ,KAC3I0pJ,EAAcA,CAACzwF,EAAQpW,IACrBA,EACOulG,EAEFnvF,IAAWwwF,EACT7pC,EAEJuoC,EAEXnoJ,KAAK2pJ,aAAaf,EAAYc,EAAY,OAAQnB,IAClDvoJ,KAAK2pJ,aAAad,EAAgBa,EAAY,WAAYlB,GAC9D,CACAmB,aAAapF,EAAQx8H,GACjB,IAAIzO,EACJ,MAAM,KAAEqD,GAAS3c,KAAKukJ,OACtBA,EAAO5nI,KAAOA,EACd4nI,EAAO/jH,KAAOzY,EAAMyY,KACpB+jH,EAAOpqD,YAA2C,QAA5B7gF,EAAKyO,EAAMoyE,mBAAgC,IAAP7gF,EAAgBA,EAAK,EAC/EirI,EAAOjqD,OAASvyE,EAAMuyE,OACtBiqD,EAAOhqD,YAAcxyE,EAAMwyE,YAC3BgqD,EAAOnqD,cAAgBryE,EAAMqyE,aACjC,CACAgvD,yBACI,MAAM,YAAEd,EAAW,WAAED,GAAeroJ,KAC9B4pJ,EAAoC,IAAfvB,EACrBwB,EAAavB,IAAgBD,EAAa,EAC1CyB,EAA8B,IAAhBxB,EACpBtoJ,KAAKuoJ,mBAAqBsB,GAAcD,EACxC5pJ,KAAKwoJ,uBAAyBsB,GAAeF,CACjD,CACAG,wBAAwBhuC,EAAShe,GAC7B,OAAQ/9F,KAAKuoJ,oBAAsBvoJ,KAAK4oJ,WAAW7gE,cAAcg0B,EAAShe,EAC9E,CACAisD,4BAA4BjuC,EAAShe,GACjC,OAAQ/9F,KAAKwoJ,wBAA0BxoJ,KAAK6oJ,eAAe9gE,cAAcg0B,EAAShe,EACtF,CACA+qD,kBAAkBj0H,GACd,MAAM,QAAEknF,EAAO,QAAEhe,GAAYlpE,EACzB70B,KAAK+pJ,wBAAwBhuC,EAAShe,IACtC/9F,KAAKiqJ,gBACLjqJ,KAAKkqJ,sBACLr1H,EAAM2sH,WAEDxhJ,KAAKgqJ,4BAA4BjuC,EAAShe,KAC/C/9F,KAAKmqJ,gBACLnqJ,KAAKkqJ,sBACLr1H,EAAM2sH,UAEd,CACAuH,sBAAsBl0H,GAClB,MAAM,QAAEknF,EAAO,QAAEhe,GAAYlpE,EACzB70B,KAAK+pJ,wBAAwBhuC,EAAShe,IACtC/9F,KAAKioJ,cAAcjK,aAAah+I,KAAKgS,GAAI,WACzChS,KAAKypJ,gBAAkB,QAElBzpJ,KAAKgqJ,4BAA4BjuC,EAAShe,IAC/C/9F,KAAKioJ,cAAcjK,aAAah+I,KAAKgS,GAAI,WACzChS,KAAKypJ,gBAAkB,aAGvBzpJ,KAAKioJ,cAAcjK,aAAah+I,KAAKgS,IACrChS,KAAKypJ,qBAAkB1nJ,GAE3B/B,KAAKgpJ,gBACLhpJ,KAAK+nJ,oBAAoBlE,GAAgBuG,aAC7C,CACAF,sBACIlqJ,KAAKgoJ,mBAAmBhoJ,KAAKsoJ,YACjC,CACA2B,gBACIjqJ,KAAKsoJ,YAAc59I,KAAK2G,IAAIrR,KAAKsoJ,YAAc,EAAGtoJ,KAAKqoJ,WAAa,EACxE,CACA8B,gBACInqJ,KAAKsoJ,YAAc59I,KAAK0G,IAAIpR,KAAKsoJ,YAAc,EAAG,EACtD,CACAT,sBACI,MAAMr6B,EAASkkB,GAAU1xI,KAAKukJ,OAAO1pD,OAAS42C,IAC9CzxI,KAAK6oJ,eAAiB,IAAIr7B,EAC1BxtH,KAAK4oJ,WAAa,IAAIp7B,EACtBxtH,KAAKmpJ,kBACLnpJ,KAAKgpJ,gBACLhpJ,KAAK+nJ,oBAAoBlE,GAAgBuG,aAC7C,CACAC,iBAAiBnsH,GACbA,EAAK+wD,OAAOjvF,KAAK+yF,MACrB,CACAhD,cACI,OAAO/vF,KAAK+yF,MAAMhD,aACtB,EAEJ+3D,GAAWz9F,UAAY,aCjTvB,IAAIp7B,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAiBA,MAAMmqI,GAAe,CAAC,aAAc,YAC9BC,GAAkB/6C,IAAqB,CAACrzF,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,GAAM3Q,GAAMmuI,GAAa9oJ,SAAS2a,MAAM,uEAC7G,MAAMquI,GACFj/I,cACIvL,KAAKyqJ,eAAY1oJ,EACjB/B,KAAK+5F,MAAQ,QACb/5F,KAAKuhG,eAAYx/F,EACjB/B,KAAKwhG,gBAAaz/F,EAClB/B,KAAK48F,SAAW,GAChB58F,KAAK68F,WAAa,sBAClB78F,KAAK03H,eAAY31H,CACrB,EAEJktB,GAAW,CACPmgF,GAASiC,GAAW,KACrBm5C,GAAYxhJ,UAAW,iBAAa,GACvCimB,GAAW,CACPmgF,GAAS4B,KACVw5C,GAAYxhJ,UAAW,aAAS,GACnCimB,GAAW,CACPmgF,GAAS0C,KACV04C,GAAYxhJ,UAAW,iBAAa,GACvCimB,GAAW,CACPmgF,GAAS4C,KACVw4C,GAAYxhJ,UAAW,kBAAc,GACxCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjB45C,GAAYxhJ,UAAW,gBAAY,GACtCimB,GAAW,CACPmgF,GAASmB,KACVi6C,GAAYxhJ,UAAW,kBAAc,GACxCimB,GAAW,CACPmgF,GAASgB,KACVo6C,GAAYxhJ,UAAW,iBAAa,GACvC,MAAM0hJ,GACFn/I,cACIvL,KAAK2c,KAAO,GAKZ3c,KAAK4nJ,YAAS7lJ,EAId/B,KAAK0jH,QAAU,EACf1jH,KAAKu6F,YAAc,CACvB,CACIM,UAAMz5F,GACN,IAAIkY,EACJtZ,KAAK4nJ,OAASxmJ,EACS,QAAtBkY,EAAKtZ,KAAK2U,cAA2B,IAAP2E,GAAyBA,EAAGuuI,qBAC/D,CACIhtD,YACA,OAAO76F,KAAK4nJ,MAChB,EAEJ34H,GAAW,CACPmgF,GAASwB,GAAO,KACjB85C,GAAa1hJ,UAAW,YAAQ,GACnCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjB85C,GAAa1hJ,UAAW,eAAW,GACtCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjB85C,GAAa1hJ,UAAW,mBAAe,GAC1C,MAAM2hJ,GACFp/I,cACIvL,KAAKukJ,OAAS,IAAImG,GAClB1qJ,KAAKwlH,MAAQ,IAAIglC,GAEjBxqJ,KAAKi+F,cAAWl8F,EAMhB/B,KAAK4qJ,SAAW,GAMhB5qJ,KAAK6qJ,SAAW,EAChB7qJ,KAAK8qJ,qBAAsB,CAC/B,EAEJ77H,GAAW,CACPmgF,GAASiC,GAAW,KACrBs5C,GAAW3hJ,UAAW,gBAAY,GACrCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjB+5C,GAAW3hJ,UAAW,gBAAY,GACrCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjB+5C,GAAW3hJ,UAAW,gBAAY,GACrCimB,GAAW,CACPmgF,GAASiB,KACVs6C,GAAW3hJ,UAAW,2BAAuB,GAChD,MAAM+hJ,GACFx/I,cACIvL,KAAKq+I,qBAAkBt8I,EACvB/B,KAAKs+I,2BAAwBv8I,CACjC,EAEJktB,GAAW,CACPmgF,GAASgB,KACV26C,GAAgB/hJ,UAAW,uBAAmB,GAC1C,MAAMgiJ,GACTz/I,YAAYuhB,GACR9sB,KAAK8sB,IAAMA,EACX9sB,KAAKgS,GAAK+5E,GAAS/rF,MACnBA,KAAK+yF,MAAQ,IAAIlB,GAAM,CAAEvtF,KAAM,SAAUytF,OAAO,EAAM5O,OAAQ0vB,GAAOo4C,gBACrEjrJ,KAAKkrJ,cAAgB/8B,GAAUlrE,OAAOjjD,KAAK+yF,MAAOoxD,IAClDnkJ,KAAKmrJ,QAAU,CAAC,EAAG,GACnBnrJ,KAAK2mJ,MAAQ,GACb3mJ,KAAKorJ,YAAc,CAAC,EAAG,GAEvBprJ,KAAKqrJ,wBAA0B,EAC/BrrJ,KAAK6S,KAAO,IAAI83I,GAChB3qJ,KAAKoiG,UAAY,IAAI2oD,GACrB/qJ,KAAKsrJ,eAAiB,IAAIv1I,IAC1B/V,KAAKu/G,MAAQ,GACbv/G,KAAKqjF,UAAW,EAChBrjF,KAAK4jF,SAAW,SAEhB5jF,KAAKi+F,cAAWl8F,EAEhB/B,KAAKk+F,eAAYn8F,EAEjB/B,KAAKurJ,kBAAexpJ,EACpB/B,KAAK4hJ,WAAa,GAIlB5hJ,KAAK6xH,QAAU,GACf7xH,KAAKwrJ,gBAAkB,IAAIxzI,IAC3BhY,KAAK2c,KAAO,CAAC,EAAG,GAChB3c,KAAKw/G,UAAW,EAChBx/G,KAAK6S,KAAK0xI,OAAO5vI,OAAS3U,KAC1BA,KAAKyrJ,WAAa,IAAI3D,IAAYv7I,GAASugB,EAAI4+H,cAAch7H,OAAOnkB,KAAQo/I,GAAS3rJ,KAAK4rJ,iBAAiBD,IAAO7+H,EAAIyvH,mBAAoBzvH,EAAIm7H,eAC9IjoJ,KAAKyrJ,WAAWpB,iBAAiBrqJ,KAAK+yF,OACtC/yF,KAAK6S,KAAK0xI,OAAO5vI,OAAS3U,KAC1B,MAAM6rJ,EAAuB,CACzB/+H,EAAIyvH,mBAAmBnI,YAAY,SAAU/oH,GAAMrrB,KAAK8rJ,iBAAiBzgI,KACzEyB,EAAIyvH,mBAAmBnI,YAAY,YAAa/oH,GAAMrrB,KAAK+rJ,uBAAuB1gI,KAClFyB,EAAIyvH,mBAAmBnI,YAAY,SAAU/oH,GAAMrrB,KAAKgsJ,sBAAsB3gI,MAE5E4gI,EAAkB,CACpBn/H,EAAIo/H,cAAc9X,YAAY,gBAAiB/oH,GAAMrrB,KAAKmsJ,eAAe9gI,EAAEo4H,eAE/EzjJ,KAAK4hJ,WAAWjyI,QAAQk8I,EAAqBlyI,KAAKtU,GAAM,IAAMynB,EAAIyvH,mBAAmBxC,eAAe10I,QAAQ4mJ,EAAgBtyI,KAAKtU,GAAM,IAAMynB,EAAIo/H,cAAcnS,eAAe10I,MAAK,IAAMrF,KAAKosJ,gBAClM,CACIp/I,SAAK5L,GACLpB,KAAKu/G,MAAQn+G,EACbpB,KAAKipJ,uBACT,CACIj8I,WACA,OAAOhN,KAAKu/G,KAChB,CACI3qF,YAAQxzB,GACRpB,KAAKqjF,SAAWjiF,EAChBpB,KAAKipJ,uBACT,CACIr0H,cACA,OAAO50B,KAAKqjF,QAChB,CACAgpE,iBACI,QAAyBtqJ,IAArB/B,KAAK0kJ,YACL,OAAO1kJ,KAAK0kJ,YAEhB,OAAQ1kJ,KAAK4jF,UACT,IAAK,QACL,IAAK,OACD,MAAO,WACX,IAAK,SACL,IAAK,MACD,MAAO,aAEnB,CACAtzD,UACItwB,KAAK4hJ,WAAW/oI,SAASlV,GAAMA,KACnC,CACAkkJ,sBACI7nJ,KAAKkrJ,cAAcpuI,QACnB9c,KAAK+yF,MAAM/F,UAAUhtF,KAAK+yF,MAAO9G,GAAWsG,MAChD,CACA+5D,mBAAmB7lE,GACf,MAAM,gBAAE+kE,GAAoBxrJ,KAC5B,GAAIwrJ,EAAgB5/I,IAAI66E,GACpB,OAAO+kE,EAAgB5mJ,IAAI6hF,GAE/B,MAAM8lE,EAAK,CACP,MAAOvpE,GAAW0U,YAAY,MAAOjR,GAAMxD,OAG/C,OADAuoE,EAAgB7/I,IAAI86E,EAAM8lE,GACnBA,CACX,CACIj+D,YAAQltF,GACRpB,KAAKw/G,SAAWp+G,EAChBpB,KAAKipJ,uBACT,CACI36D,cACA,OAAOtuF,KAAKw/G,QAChB,CACAypC,wBACIjpJ,KAAK+yF,MAAMzE,QAAUtuF,KAAK40B,SAAW50B,KAAKsuF,SAAWtuF,KAAKgN,KAAK1L,OAAS,CAC5E,CACAkrJ,aAAatuH,GACTA,EAAK+wD,OAAOjvF,KAAK+yF,MACrB,CACAq5D,eACI,IAAI9yI,EACyB,QAA5BA,EAAKtZ,KAAK+yF,MAAMp+E,cAA2B,IAAP2E,GAAyBA,EAAGiwC,YAAYvpD,KAAK+yF,MACtF,CACA05D,aAAah+D,GACT,MAAQ3hE,KAAK,cAAE8+G,IAAqB5rI,MAC9B,UAAE03H,GAAc13H,KAAK6S,KAAK2yG,MAChC,OAAIkS,EACOkU,EAAcpiI,KAAKkuH,EAAW,CACjCvV,OAAQ1zB,EAAM0zB,OACd/gH,MAAOqtF,EAAM+2B,MAAM5/D,KACnB04D,SAAU7vB,EAAM6vB,WAGjB7vB,EAAM+2B,MAAM5/D,IACvB,CAaA8mG,cAAczpE,EAAOtzD,GACjB,MAAM,SAAEi7H,EAAQ,SAAEC,EAAQ,MAAErlC,EAAK,SAAEvnB,EAAUsmD,QAAU5nI,KAAM6nI,EAAY9gC,QAAS6lC,EAAe1uD,MAAO8xD,GAAennC,OAAO,UAAEilC,EAAYt2H,IAAQ,UAAEotE,EAAS,WAAEC,EAAU,SAAE5E,EAAQ,WAAEC,IAAkB78F,KAAK6S,KACxM7F,EAAO,IAAIhN,KAAKgN,MAClBhN,KAAKurJ,cACLv+I,EAAKitH,UAETj6H,KAAKkrJ,cAAcx6H,OAAO1jB,GAE1B,MAAM23I,EAAS,GACTl+D,EAAOyW,GAAQsoB,GACfonC,EAAyB,GACzBC,EAA4B,OAAb5uD,QAAkC,IAAbA,EAAsBA,EAAWhb,EAAQ2pE,EAC7EE,EAAoBtI,EAAa+E,EAAgBqB,EAqBvD,GApBA5qJ,KAAKkrJ,cAAc38B,MAAK,CAACw+B,EAAat+D,KAClC,IAAIn1E,EACJ,MAAMk0G,EAASkkB,GAA0B,OAAhBib,QAAwC,IAAhBA,EAAyBA,EAAcl+D,EAAM81D,OAAO1pD,OAC/FkyD,EAAYxI,QAAUwI,EAAYxI,kBAAkB/2B,IACtDu/B,EAAYxI,OAAS,IAAI/2B,GAE7Bu/B,EAAYvI,WAAaA,EACzBuI,EAAYl7B,QAAU03B,EACtBwD,EAAYxrD,UAAYA,EACxBwrD,EAAYvrD,WAAaA,EACzBurD,EAAYnwD,SAAWA,EACvBmwD,EAAYlwD,WAAaA,EACzB,MAAM7qF,EAA6B,QAAvBsH,EAAKm1E,EAAM0zB,cAA2B,IAAP7oG,EAAgBA,EAAKm1E,EAAMz8E,GAChEg7I,EAAYhtJ,KAAKysJ,aAAah+D,GAC9B7oC,GAAsB,OAAdonG,QAAoC,IAAdA,EAAuBA,EAAY,aAAarlJ,QAAQ,SAAU,KACtGolJ,EAAYnnG,KAAO5lD,KAAKitJ,SAASrnG,EAAM6kG,EAAWoC,EAAcC,EAAmBrmE,EAAMz0E,GACzF2yI,EAAOh1I,KAAKo9I,EAAYh9D,cAAc,IAE1C9M,EAAQv4E,KAAK0G,IAAI,EAAG6xE,GACpBtzD,EAASjlB,KAAK0G,IAAI,EAAGue,IAChBizE,SAAS3f,GACV,OAAO,EAEX,MAAMtmE,EAAO3c,KAAK2c,KACZwuI,EAAUnrJ,KAAKmrJ,QACrBxuI,EAAK,GAAKsmE,EACVtmE,EAAK,GAAKgT,EACNhT,EAAK,KAAOwuI,EAAQ,IAAMxuI,EAAK,KAAOwuI,EAAQ,KAC9CA,EAAQ,GAAKxuI,EAAK,GAClBwuI,EAAQ,GAAKxuI,EAAK,IAEtB,MAAM,MAAEgqI,EAAK,cAAED,EAAa,aAAED,GAAiBzmJ,KAAKktJ,iBAAiBvI,EAAQ1hE,EAAOtzD,GACpF3vB,KAAK2mJ,MAAQA,EACb3mJ,KAAKorJ,YAAc,CAAC3E,EAAemE,EAAUlE,EAAgBmE,GAC7D,MAAMsC,EAAantJ,KAAKyrJ,WAAWnD,YAC7BqD,EAAO3rJ,KAAK2mJ,MAAMwG,GACpBntJ,KAAK2mJ,MAAMrlJ,OAAS,IAAMqqJ,EAC1B3rJ,KAAKsuF,SAAU,GAGnBtuF,KAAKsuF,SAAU,EAEftuF,KAAKmpJ,gBAAgBgE,GAErBntJ,KAAK0wB,SACT,CACAu8H,SAASrnG,EAAMwnG,EAAeP,EAAcC,EAAmBrmE,EAAMz0E,GACjE,MAAM0qF,EAAY,MACZ2wD,EAAYznG,EAAKp+C,MAAM,IAC7B,IAAI8lJ,GAAc,EACd1nG,EAAKtkD,OAAS8rJ,IACdxnG,EAAQ,GAAEA,EAAKo6C,UAAU,EAAGotD,KAC5BE,GAAc,GAElB,MAAMC,EAAa7iJ,KAAK4D,MAAMw+I,EAAoB9pE,GAAW0U,YAAY9xC,EAAM6gC,GAAMxD,OACrF,GAAIsqE,EAAaV,EAAc,CAC3B,IAAIW,EAAgB,GACpB,MAAMhC,EAAkBxrJ,KAAKssJ,mBAAmB7lE,GAChD,IAAIgnE,EAAkBX,EAAoBtB,EAAgB9uD,GAC1D,IAAK,MAAM17B,KAAQqsF,EAAW,CAK1B,GAJK7B,EAAgBxqF,KACjBwqF,EAAgBxqF,GAAQgiB,GAAW0U,YAAY12B,EAAMylB,GAAMxD,OAE/DwqE,GAAmBjC,EAAgBxqF,GAC/BysF,EAAkBZ,EAClB,MAEJW,GAAiBxsF,CACrB,CACApb,EAAO4nG,EACPF,GAAc,CAClB,CAQA,OAPIA,GACA1nG,GAAQ82C,EACR18F,KAAKsrJ,eAAejzI,IAAIrG,IAGxBhS,KAAKsrJ,eAAe90I,OAAOxE,GAExB4zC,CACX,CACAsnG,iBAAiBvI,EAAQ1hE,EAAOtzD,GAC5B,MAAM+0H,EAAc1kJ,KAAKqsJ,iBACnBqB,EAAgBhjJ,KAAK2G,IAAIrR,KAAKqrJ,wBAAyB1G,EAAOrjJ,QACpEtB,KAAKyrJ,WAAW/G,YAAcA,EAC9B1kJ,KAAKyrJ,WAAWhhE,aAAe,EAC/BzqF,KAAKyrJ,WAAW/gE,aAAe,EAC/B,MAAM,MAAEi8D,EAAK,cAAED,EAAa,aAAED,EAAY,eAAEkH,EAAc,mBAAEC,GAAuB5tJ,KAAK6tJ,oBAAoBlJ,EAAQ1hE,EAAOtzD,GACrHm+H,EAAiBnH,EAAMt9H,WAAW4B,GAAMA,EAAEu9C,UAAYklF,IAC5D1tJ,KAAKyrJ,WAAWnD,YAAc59I,KAAK2G,IAAI3G,KAAK0G,IAAI08I,EAAgB,GAAInH,EAAMrlJ,OAAS,GACnF,MAAQspJ,SAAU/F,EAAcgG,SAAUjG,GAAiB5kJ,KAAK6S,KAC1Dk7I,EAA6B,EAC7BC,EAAmBvH,EAAe5B,EAClCoJ,EAAoBvH,EAAgB9B,EAC1C,IAAIsJ,EAAc,EACdC,GAAeR,EAAe/lE,EAAI5nF,KAAK6S,KAAK0xI,OAAO5nI,KAAO,EAY9D,OAXIixI,EACAO,GAAeF,EAAoBF,GAGnCG,IAAgBP,EAAen/I,EAAIw/I,EAAmBD,EACtDI,IAAgBF,EAAoBN,EAAeh+H,QAAU,GAEjE3vB,KAAKyrJ,WAAWhhE,aAAeyjE,EAC/BluJ,KAAKyrJ,WAAW/gE,aAAeyjE,EAC/BnuJ,KAAKyrJ,WAAW/6H,SAChB1wB,KAAKyrJ,WAAWzC,gBACT,CACHtC,gBACAD,eACAE,QAER,CACAkH,oBAAoBlJ,EAAQ1hE,EAAOtzD,GAC/B,IAAIrW,EAAIqb,EAAI2C,EACZ,MAAQszH,SAAU/F,EAAcgG,SAAUjG,GAAiB5kJ,KAAK6S,KAC1D6xI,EAAc1kJ,KAAKqsJ,iBACnBuB,EAAqB,CAAC,OAAQ,SAASpsJ,SAASxB,KAAK4jF,UAC3D,IAAI+pE,EAAiB3tJ,KAAKyrJ,WAAW17D,cACjCq+D,EAAyB,IAAIzmE,GAAK,EAAG,EAAG,EAAG,GAC3Cg/D,EAAQ,GACRF,EAAe,EACfC,EAAgB,EAChBhgI,EAAQ,EACZ,MAAM2nI,EAAgBD,IAClB,MAAM,MAAEnrE,EAAK,OAAEtzD,GAAWy+H,EAC1B,OAAOnrE,IAAU0qE,EAAe1qE,OAAStzD,IAAWg+H,EAAeh+H,MAAM,EAEvEm1H,OAAgC/iJ,IAAlB/B,KAAKi+F,eAA6Cl8F,IAAnB/B,KAAKk+F,UACxD,EAAG,CACC,GAAIx3E,IAAU,GAAI,CACd8qE,GAAOrgE,KAAK,wCACZ,KACJ,CACAw8H,EAAiBS,EACjB,MAAMnwD,EAAWhb,GAAS2qE,EAAqB,EAAID,EAAe1qE,OAC5Dib,EAAYvuE,GAAUi+H,EAAqBD,EAAeh+H,OAAS,GACnE2zG,EAASmhB,GAAW,CACtBC,cACAC,SACAzmD,YACAD,WACA2mD,eACAC,eACAC,gBAEJ6B,EAAgF,QAAvErtI,EAAgB,OAAXgqH,QAA8B,IAAXA,OAAoB,EAASA,EAAOqjB,aAA0B,IAAPrtI,EAAgBA,EAAK,GAC7GmtI,EAA8F,QAA9E9xH,EAAgB,OAAX2uG,QAA8B,IAAXA,OAAoB,EAASA,EAAOmjB,oBAAiC,IAAP9xH,EAAgBA,EAAK,EAC3H+xH,EAAgG,QAA/EpvH,EAAgB,OAAXgsG,QAA8B,IAAXA,OAAoB,EAASA,EAAOojB,qBAAkC,IAAPpvH,EAAgBA,EAAK,EAC7H,MAAM+wH,EAAa1B,EAAMrlJ,OAKzB,GAJAtB,KAAKyrJ,WAAWn9D,QAAU+5D,EAAa,EACvCroJ,KAAKyrJ,WAAWpD,WAAaA,EAC7BroJ,KAAKyrJ,WAAW/6H,SAChB09H,EAAyBpuJ,KAAKyrJ,WAAW17D,eACpC/vF,KAAKyrJ,WAAWn9D,QACjB,KAER,QAAU+/D,EAAaD,IACvB,MAAO,CAAE3H,eAAcC,gBAAeC,QAAOgH,iBAAgBC,qBACjE,CACAzE,gBAAgBgE,EAAa,GACzB,MAAQt6I,MAAM,SAAEg4I,GAAU,cAAEK,EAAa,MAAEvE,GAAW3mJ,KACtD,GAAI2mJ,EAAMrlJ,OAAS,IAAMqlJ,EAAMwG,GAC3B,OAEJ,MAAM,QAAEtG,EAASO,WAAYkH,EAAc9lF,SAAU+lF,GAAe5H,EAAMwG,GAE1E,IAAI3+I,EAAI,EACJo5E,EAAI,EACR,MAAM4mE,EAAc3H,EAAQvlJ,OACtBmtJ,EAAW5H,EAAQ,GAAGlxC,QAAQr0G,OAC9ByjJ,EAAuC,eAA1B/kJ,KAAKqsJ,iBAClBqC,EAAa7H,EAAQ,GAAGlC,OAAO,GAAGh1H,OAASk7H,EAC3C8D,EAAqB,GAC3BzD,EAAc38B,MAAK,CAACw+B,EAAahoI,EAAGnhB,KAChC,IAAI0V,EAAIqb,EACR,GAAI/wB,EAAI0qJ,GAAgB1qJ,EAAI2qJ,EAExB,YADAxB,EAAYz+D,SAAU,GAG1B,MAAMsgE,EAAYhrJ,EAAI0qJ,EACtB,IAAIO,EAAc,EACdC,EAAW,EACX/J,GACA8J,EAAcD,EAAYJ,EAC1BM,EAAWpkJ,KAAK4D,MAAMsgJ,EAAYJ,KAGlCK,EAAcnkJ,KAAK4D,MAAMsgJ,EAAYH,GACrCK,EAAWF,EAAYH,GAE3B1B,EAAYz+D,SAAU,EACtB,MAAMzwB,EAASgpF,EAAQgI,GAClBhxF,IAGL+pB,EAAI8mE,EAAaI,EACjBtgJ,EAA4C,QAAvC8K,EAAKq1I,EAAmBG,UAA8B,IAAPx1I,EAAgBA,EAAK,EACzEq1I,EAAmBG,IAAqD,QAAvCn6H,EAAKg6H,EAAmBG,UAA8B,IAAPn6H,EAAgBA,EAAK,GAAKkpC,EAAOopF,YAEjH8F,EAAYtiE,aAAe//E,KAAK4D,MAAME,GACtCu+I,EAAYriE,aAAehgF,KAAK4D,MAAMs5E,GAAE,GAEhD,CACAgkE,iBAAiBuB,GACb,MAAM,MAAExG,GAAU3mJ,MAEZ,WAAEonJ,EAAU,SAAE5+E,GAAam+E,EAAMwG,GACpB,IAAf/F,EAEApnJ,KAAKqrJ,wBAA0B,EAE1B8B,IAAexG,EAAMrlJ,OAAS,EAEnCtB,KAAKqrJ,wBAA0B7iF,EAI/BxoE,KAAKqrJ,wBAA0B3gJ,KAAK4D,OAAO84I,EAAa5+E,GAAY,GAExExoE,KAAKyrJ,WAAW/6H,SAChB1wB,KAAKyrJ,WAAWzC,gBAChBhpJ,KAAKmpJ,gBAAgBgE,GACrBntJ,KAAK8sB,IAAI4+H,cAAch7H,OAAOmzH,GAAgBuG,aAClD,CACA15H,SACI,MAAQ6zH,QAAQ,YAAEhqD,GAAeirB,OAAO,MAAEzrB,IAAa/5F,KAAK6S,KAC5D7S,KAAKkrJ,cAAc38B,MAAK,CAACw+B,EAAat+D,KAClC,MAAM81D,EAAS91D,EAAM81D,OACrBwI,EAAYgC,WAAaxK,EAAO/jH,KAChCusH,EAAYiC,aAAezK,EAAOjqD,OAClCyyD,EAAYkC,kBAAoB10D,EAChCwyD,EAAYmC,kBAAoB3K,EAAOpqD,YACvC4yD,EAAYoC,oBAAsB5K,EAAOnqD,cACzC2yD,EAAYjpE,QAAU2K,EAAM75D,QAAU,EAAI,GAC1Cm4H,EAAYhzD,MAAQA,CAAK,GAEjC,CACAq1D,iBAAiB5gJ,EAAGo5E,GAChB,MAAMynE,EAAqB,GACrBC,EAAiB,CAAEjX,KAAMlkH,IAAUs6D,WAAO1sF,GAChD,IAAK,MAAM62B,KAAS54B,KAAK+yF,MAAMr6D,SAAU,CACrC,IAAKE,EAAM01D,QACP,SACJ,KAAM11D,aAAiBurH,IACnB,SACJ,MAAMoL,EAAY32H,EAAMm3D,cAGxB,GAFAw/D,EAAUjnE,KAAKtoF,KAAK6S,KAAK+3I,SAAW,EAAG,cACvC2E,EAAUjnE,KAAKtoF,KAAK6S,KAAKg4I,SAAW,EAAG,YACnC0E,EAAUxnE,cAAcv5E,EAAGo5E,GAC3B,OAAOhvD,EAAM61D,MAEjB,MAAM+gE,EAAQhhJ,EAAI+gJ,EAAU/gJ,EAAIxO,KAAK6S,KAAK+3I,SAAW,EAC/C6E,EAAQ7nE,EAAI2nE,EAAU3nE,EAAI5nF,KAAK6S,KAAKg4I,SAAW,EAC/CxS,EAAO3tI,KAAKs5F,IAAIwrD,EAAO,GAAK9kJ,KAAKs5F,IAAIyrD,EAAO,GAC5CC,EAAeF,GAAS,GAAKC,GAAS,EACxCC,GAAgBrX,EAAOiX,EAAejX,OACtCiX,EAAejX,KAAOA,EACtBiX,EAAe7gE,MAAQ71D,EAAM61D,OAEjC4gE,EAAmB1/I,KAAK4/I,EAC5B,CACA,MAAMI,EAAWhoE,GAAKioE,MAAMP,GAC5B,GAAKM,EAAS5nE,cAAcv5E,EAAGo5E,GAK/B,OAAO0nE,EAAe7gE,KAC1B,CACAsB,cACI,OAAO/vF,KAAK+yF,MAAMhD,aACtB,CACA8/D,mBACI,MAAMC,EAAa9vJ,KAAK+yF,MAAMhD,cAC9B,GAAI/vF,KAAK2mJ,MAAMrlJ,QAAU,EACrB,OAAOwuJ,EAEX,MAAOrJ,EAAcC,GAAiB1mJ,KAAKorJ,YAG3C,OAFA0E,EAAWngI,OAASjlB,KAAK0G,IAAIs1I,EAAeoJ,EAAWngI,QACvDmgI,EAAW7sE,MAAQv4E,KAAK0G,IAAIq1I,EAAcqJ,EAAW7sE,OAC9C6sE,CACX,CACAhE,iBAAiBj3H,GACb,MAAQutE,WAAW,gBAAEi8C,GAAmBvxH,KAAK,YAAEijI,EAAW,iBAAE9tC,GAAoBpvG,MAAM,oBAAEi4I,IAA2B9qJ,MAC7G,QAAE+7G,EAAO,QAAEhe,GAAYlpE,EACvBm7H,EAAahwJ,KAAK+vF,cAClBkgE,EAAsBjwJ,KAAK+yF,MAAMzE,SAAW0hE,EAAWjoE,cAAcg0B,EAAShe,GAC9EtP,EAAQzuF,KAAKovJ,iBAAiBrzC,EAAShe,GAC7C,IAAKkyD,IAAwBxhE,EACzB,OAEJ,MAAM,GAAEz8E,EAAE,OAAEmwG,EAAM,QAAEvtF,GAAY65D,EAC1ByhE,EAAcH,EAAYnM,YAC1BvlC,EAAS6xC,EAAYjpF,MAAM5hE,GAAMA,EAAE2M,KAAOA,IAChD,IAAKqsG,EACD,OAEJxpF,EAAM2sH,UACN,IAAI/I,EAAa7jH,EACbk2H,IACArS,GAAc7jH,EACd50B,KAAK8sB,IAAIqnH,kBAAkBkK,gBAAgBhgC,EAAQ8D,EAAQs2B,IAE1DA,EAIDx2B,EAAiBw8B,gBAAgBz+I,KAAKgS,GAAI,CACtCqsG,SACA8D,SACA1zB,WAAO1sF,IANXkgH,EAAiBw8B,gBAAgBz+I,KAAKgS,IAS1ChS,KAAK8sB,IAAI4+H,cAAch7H,OAAOmzH,GAAgBsM,aAAc,CAAElM,sBAAsB,IAChE,OAApB5F,QAAgD,IAApBA,GAAsCA,EAAgB,CAAE9xI,KAAM,QAASqoB,QAAS6jH,EAAYt2B,SAAQ7D,SAAUD,EAAOrsG,IACrJ,CACA+5I,uBAAuBl3H,GACnB,IAAIvb,EACJ,MAAQ8oF,WAAW,sBAAEk8C,GAAyBxxH,KAAK,YAAEijI,GAAel9I,MAAM,oBAAEi4I,IAA2B9qJ,MACjG,QAAE+7G,EAAO,QAAEhe,GAAYlpE,EAG7B,GAAsB,eAAlB70B,KAAK8sB,IAAIjc,KACT,OAEJ,MAAMm/I,EAAahwJ,KAAK+vF,cAClBkgE,EAAsBjwJ,KAAK+yF,MAAMzE,SAAW0hE,EAAWjoE,cAAcg0B,EAAShe,GAC9EtP,EAAQzuF,KAAKovJ,iBAAiBrzC,EAAShe,GAC7C,IAAKkyD,IAAwBxhE,EACzB,OAEJ,MAAM,GAAEz8E,EAAE,OAAEmwG,EAAM,SAAE7D,GAAa7vB,EAC3ByhE,EAAcH,EAAYnM,YAC1BvlC,EAAS6xC,EAAYjpF,MAAM5hE,GAAMA,EAAE2M,KAAOA,IAChD,GAAKqsG,EAAL,CAIA,GADAxpF,EAAM2sH,UACFsJ,EAAqB,CACrB,MAAMsF,EAAaF,EAAYvmI,QAAO,CAAC0mI,EAAIhrJ,IAAM,IAC1CgrJ,KACAhrJ,EAAEirJ,gBAAgB52I,QAAQyV,GAAuB,aAAjBA,EAAEohI,eACtC,IACGjY,EAAkB,CAAC,EACzB8X,EAAWv3I,SAASsW,IAChB,IAAI7V,EACAqb,EACwC,QAA3Crb,EAAKg/H,EAAgB3jH,EAAKxF,EAAEmvF,iBAA8B,IAAPhlG,IAAsBg/H,EAAgB3jH,GAAM,GAC5FxF,EAAEyF,SACF0jH,EAAgBnpH,EAAEmvF,WAAW,IAErC,MAAMkyC,EAAcJ,EAAWnpF,MAAM93C,GAAMA,EAAEgzF,SAAWA,GAAUhzF,EAAEmvF,WAAaA,IACjFt+G,KAAK8sB,IAAIqnH,kBAAkBmK,sBAAsBjgC,EAAQ8D,EAAiG,QAAxF7oG,EAAqB,OAAhBk3I,QAAwC,IAAhBA,OAAyB,EAASA,EAAY57H,eAA4B,IAAPtb,GAAgBA,EAAYg/H,EAClM,CACAt4I,KAAK8sB,IAAI4+H,cAAch7H,OAAOmzH,GAAgBsM,aAAc,CAAElM,sBAAsB,IAC1D,OAA1B3F,QAA4D,IAA1BA,GAA4CA,EAAsB,CAAE/xI,KAAM,WAAYqoB,SAAS,EAAMutF,SAAQ7D,SAAUD,EAAOrsG,IAnBhK,CAoBJ,CACAg6I,sBAAsBn3H,GAClB,IAAIvb,EACJ,MAAM,QAAEsb,EAAS/hB,MAAM,oBAAEi4I,GAAqB,UAAE1oD,GAAepiG,KAC/D,IAAK40B,EACD,OAEJ,MAAMo7H,EAAahwJ,KAAK+vF,eAClB,MAAEwwD,EAAK,MAAEC,EAAK,QAAEzkC,EAAO,QAAEhe,GAAYlpE,EACrCo7H,EAAsBjwJ,KAAK+yF,MAAMzE,SAAW0hE,EAAWjoE,cAAcg0B,EAAShe,GACpF,IAAKkyD,EAID,OAHAjwJ,KAAK8sB,IAAIm7H,cAAcjK,aAAah+I,KAAKgS,IACzChS,KAAK8sB,IAAIm1F,iBAAiBw8B,gBAAgBz+I,KAAKgS,SAC/ChS,KAAK8sB,IAAI2jI,eAAexO,cAAcjiJ,KAAKgS,IAK/C6iB,EAAM2sH,UACN,MAAM/yD,EAAQzuF,KAAKovJ,iBAAiBrzC,EAAShe,GACvC2yD,EAAyBT,QAAiCluJ,IAAV0sF,EACtD,IAAKiiE,EAGD,OAFA1wJ,KAAK8sB,IAAIm7H,cAAcjK,aAAah+I,KAAKgS,SACzChS,KAAK8sB,IAAIm1F,iBAAiBw8B,gBAAgBz+I,KAAKgS,IAGnD,MAAMqsG,EAAS5vB,EAAQzuF,KAAK8sB,IAAIijI,YAAYnM,YAAY38E,MAAMo3C,GAAWA,EAAOrsG,MAAkB,OAAVy8E,QAA4B,IAAVA,OAAmB,EAASA,EAAMz8E,WAAOjQ,EACnJ,GAAI0sF,GAASzuF,KAAKsrJ,eAAe1/I,IAA4B,QAAvB0N,EAAKm1E,EAAM0zB,cAA2B,IAAP7oG,EAAgBA,EAAKm1E,EAAMz8E,IAAK,CACjG,MAAMg7I,EAAYhtJ,KAAKysJ,aAAah+D,GACpCzuF,KAAK8sB,IAAI2jI,eAAe1O,cAAc/hJ,KAAKgS,GAAI,CAAEuuI,QAAOC,QAAOzkC,UAAShe,UAASlpE,QAAOwlF,WAAW,GAASV,GAAc,CAAE5zD,QAASinG,IACzI,MAEIhtJ,KAAK8sB,IAAI2jI,eAAexO,cAAcjiJ,KAAKgS,KAE3C84I,GAAoD,MAA7B1oD,EAAUi8C,iBAA8D,MAAnCj8C,EAAUk8C,wBACtEt+I,KAAK8sB,IAAIm7H,cAAcjK,aAAah+I,KAAKgS,GAAI,YAElC,OAAVy8E,QAA4B,IAAVA,OAAmB,EAASA,EAAM75D,UAAYypF,EACjEr+G,KAAK8sB,IAAIm1F,iBAAiBw8B,gBAAgBz+I,KAAKgS,GAAI,CAC/CqsG,SACA8D,OAAkB,OAAV1zB,QAA4B,IAAVA,OAAmB,EAASA,EAAM0zB,OAC5D1zB,WAAO1sF,IAIX/B,KAAK8sB,IAAIm1F,iBAAiBw8B,gBAAgBz+I,KAAKgS,GAEvD,CACAm6I,eAAe1I,GACX,MAAMkN,EAAgBlN,EAAW99G,QACjC,IAAK3lC,KAAK40B,UAAY50B,KAAKgN,KAAK1L,OAC5B,MAAO,CAAEmiJ,WAAYkN,GAEzB,MAAOC,EAAaC,GAAgB7wJ,KAAK8wJ,0BAA0BrN,GACnEzjJ,KAAK+yF,MAAMtI,aAAe,EAC1BzqF,KAAK+yF,MAAMrI,aAAe,EAC1B1qF,KAAK0sJ,cAAckE,EAAaC,GAChC,MAAMb,EAAahwJ,KAAK6vJ,mBAClBkB,EAA6CA,KAC/C,OAAQ/wJ,KAAK4jF,UACT,IAAK,MACD,OAAO,EACX,IAAK,SACD,OAAO6/D,EAAW9zH,OAASqgI,EAAWrgI,OAC1C,IAAK,OACD,OAAO,EACX,IAAK,QACL,QACI,OAAO8zH,EAAWxgE,MAAQ+sE,EAAW/sE,MAC7C,EAEJ,GAAIjjF,KAAKsuF,QAAS,CACd,IAAI7D,EACAC,EACJ,OAAQ1qF,KAAK4jF,UACT,IAAK,MACL,IAAK,SACD6G,GAAgBg5D,EAAWxgE,MAAQ+sE,EAAW/sE,OAAS,EACvDyH,EAAeqmE,IACfJ,EAAcxoE,OAAO6nE,EAAWrgI,OAAQ3vB,KAAK4jF,UAC7C,MACJ,IAAK,OACL,IAAK,QACL,QACI6G,EAAesmE,IACfrmE,GAAgB+4D,EAAW9zH,OAASqgI,EAAWrgI,QAAU,EACzDghI,EAAcxoE,OAAO6nE,EAAW/sE,MAAOjjF,KAAK4jF,UAGpD5jF,KAAK+yF,MAAMtI,aAAe//E,KAAK4D,OAAO0hJ,EAAWxhJ,EAAIi1I,EAAWj1I,EAAIi8E,GACpEzqF,KAAK+yF,MAAMrI,aAAehgF,KAAK4D,OAAO0hJ,EAAWpoE,EAAI67D,EAAW77D,EAAI8C,EACxE,CACA,GAAI1qF,KAAKsuF,SAAWtuF,KAAK40B,SAAW50B,KAAKgN,KAAK1L,OAAQ,CAClD,MAAM0vJ,EAAgBhxJ,KAAK6xH,QAC3B8+B,EAAcxoE,OAAO6oE,EAAehxJ,KAAK4jF,UACzC,MAAMqtE,EAAuBjB,EAAWrqH,QACxCsrH,EAAqBziJ,GAAKxO,KAAK+yF,MAAMtI,aACrCwmE,EAAqBrpE,GAAK5nF,KAAK+yF,MAAMrI,aACrC1qF,KAAK8sB,IAAI2jI,eAAezO,oBAAoBhiJ,KAAKgS,GAAIi/I,EACzD,MAEIjxJ,KAAK8sB,IAAI2jI,eAAezO,oBAAoBhiJ,KAAKgS,IAErD,MAAO,CAAEyxI,WAAYkN,EACzB,CACAG,0BAA0BrN,GACtB,MAAM,MAAExgE,EAAK,OAAEtzD,GAAW8zH,EACpByN,EAAcjuE,EAAQtzD,EACtBwhI,EAAiB,GACjBC,EAAuB,GACvBC,EAAsB,IAC5B,IAAIT,EAAc,EACdC,EAAe,EACnB,OAAQ7wJ,KAAK4jF,UACT,IAAK,MACL,IAAK,SAGD,MAAM0tE,EAAoBJ,EAAc,EAClCxmJ,KAAK2G,IAAI8/I,EAAgBC,GAAwB,EAAIF,IACrDE,EACNR,EAAc5wJ,KAAKi+F,SAAWvzF,KAAK2G,IAAIrR,KAAKi+F,SAAUhb,GAASA,EAC/D4tE,EAAe7wJ,KAAKk+F,UACdxzF,KAAK2G,IAAIrR,KAAKk+F,UAAWvuE,GACzBjlB,KAAK86E,MAAM71D,EAAS2hI,GAC1B,MACJ,IAAK,OACL,IAAK,QACL,QAGI,MAAMC,EAAmBL,EAAc,EAAIxmJ,KAAK2G,IAAI8/I,EAAgBE,EAAsBH,GAAeG,EACzGT,EAAc5wJ,KAAKi+F,SAAWvzF,KAAK2G,IAAIrR,KAAKi+F,SAAUhb,GAASv4E,KAAK86E,MAAMvC,EAAQsuE,GAClFV,EAAe7wJ,KAAKk+F,UAAYxzF,KAAK2G,IAAIrR,KAAKk+F,UAAWvuE,GAAUA,EAE3E,MAAO,CAACihI,EAAaC,EACzB,EAEJ7F,GAAO3gG,UAAY,SACnBp7B,GAAW,CACPmgF,GAASiB,KACV26C,GAAOhiJ,UAAW,gBAAY,GACjCimB,GAAW,CACPmgF,GAASoD,KACVw4C,GAAOhiJ,UAAW,gBAAY,GACjCimB,GAAW,CACPmgF,GAASiC,GAAW,KACrB25C,GAAOhiJ,UAAW,gBAAY,GACjCimB,GAAW,CACPmgF,GAASiC,GAAW,KACrB25C,GAAOhiJ,UAAW,iBAAa,GAClCimB,GAAW,CACPmgF,GAASkB,KACV06C,GAAOhiJ,UAAW,oBAAgB,GACrCimB,GAAW,CACPmgF,GAASm7C,KACVS,GAAOhiJ,UAAW,mBAAe,GACpCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBo6C,GAAOhiJ,UAAW,eAAW,GCrxBhC,MAAMwoJ,GAAmB,CACrBC,SAAUzG,IAEP,SAAS0G,GAAenlJ,EAAM+jI,GACjC,GAAIkhB,GAAiBjlJ,GACjB,MAAM,IAAI7E,MAAO,+CAA8C6E,KAEnEilJ,GAAiBjlJ,GAAQ+jI,CAC7B,CACO,SAASqhB,GAAUplJ,EAAMugB,GAC5B,GAAI0kI,GAAiBjlJ,GACjB,OAAO,IAAIilJ,GAAiBjlJ,GAAMugB,GAEtC,MAAM,IAAIplB,MAAO,oCAAmC6E,IACxD,CCdO,MAAMqlJ,GACTrmJ,cACIvL,KAAK2kB,MAAQ,IAAI3M,GACrB,CACAxO,KAAK7F,KAAM27D,GACP,IAAIuyF,EACAC,EAAa9xJ,KAAK2kB,MAAM/f,IAAIjB,GAChC,MAAMouJ,EAASA,KACX,IACI,MAAM9uJ,EAASU,KAAK27D,GAIpB,OAHIwyF,GAAkC,MAApBD,GACdC,EAAWnmJ,IAAIkmJ,EAAkB5uJ,GAE9BA,CACX,CACA,MAAOooB,GAEH,YADAmmE,GAAOG,SAAU,kCAAkCtmE,EAEvD,GAEJ,IACIwmI,EAAmBtoI,KAAKC,UAAU81C,EACtC,CACA,MAAOj0C,GAGH,OAAO0mI,GACX,CAKA,OAJkB,MAAdD,IACAA,EAAa,IAAI95I,IACjBhY,KAAK2kB,MAAMhZ,IAAIhI,EAAGmuJ,IAEjBA,EAAWlmJ,IAAIimJ,GAGbC,EAAWltJ,IAAIitJ,GAFXE,GAGf,CACAC,kBACIhyJ,KAAK2kB,MAAQ,IAAI3M,GACrB,ECxCJ,IAAIiX,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EACIq0E,GAAwC,SAAUt3E,EAASu3E,EAAYlqF,EAAGmqF,GAC1E,SAASC,EAAMvzF,GAAS,OAAOA,aAAiBmJ,EAAInJ,EAAQ,IAAImJ,GAAE,SAAUokB,GAAWA,EAAQvtB,EAAQ,GAAI,CAC3G,OAAO,IAAKmJ,IAAMA,EAAImkB,WAAU,SAAUC,EAASuY,GAC/C,SAAS0tD,EAAUxzF,GAAS,IAAMo/E,EAAKkU,EAAUj3E,KAAKrc,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC1F,SAASwpE,EAASzzF,GAAS,IAAMo/E,EAAKkU,EAAU,SAAStzF,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC7F,SAASm1D,EAAKv9E,GAAUA,EAAOya,KAAOiR,EAAQ1rB,EAAO7B,OAASuzF,EAAM1xF,EAAO7B,OAAO+iB,KAAKywE,EAAWC,EAAW,CAC7GrU,GAAMkU,EAAYA,EAAUhrF,MAAMwT,EAASu3E,GAAc,KAAKh3E,OAClE,GACJ,EAoCO,MAAMw0I,WAAcpwD,GACvBt2F,YAAYzG,EAAW8F,OAAO9F,SAAUs+E,EAA0B8uE,GAC9D,IAAI54I,EACJgW,QACAtvB,KAAKgS,GAAK+5E,GAAS/rF,MACnBA,KAAKmyJ,iBAAmB,CAAC,EACzBnyJ,KAAKoyJ,YAAc,CAAC,EACpBpyJ,KAAKqyJ,kBAAoB,GACzBryJ,KAAKsyJ,WAAa,IAAIzgE,GAAM,CAAEvtF,KAAO,GAAEtE,KAAKgS,mBAC5ChS,KAAKw2F,gBAAkB,CAAC,EACxBx2F,KAAKi0C,gBAAalyC,EAClB/B,KAAKgN,KAAO,GACZhN,KAAK0jH,QAAU,IAAIG,GAAQ,IAC3B7jH,KAAK6jI,kBAAoB,IAAIhgB,GAAQ,GACrC7jH,KAAK45G,WAAQ73G,EACb/B,KAAKuyJ,cAAWxwJ,EAChB/B,KAAKwyJ,cAAWzwJ,EAChB/B,KAAK6Q,KAAO,aACZ7Q,KAAKyyJ,YAAa,EAClBzyJ,KAAK+vD,QAAU,CAAC,EAChB/vD,KAAK0yJ,cAAgB,CAAC,EACtB1yJ,KAAK2yJ,uBAAyB,GAC9B3yJ,KAAK4yJ,4BAA8B,EACnC5yJ,KAAK6yJ,mBAAqBhP,GAAgB/2D,KAC1C9sF,KAAK8yJ,eAAiB,IAAI/8I,IAC1B/V,KAAK+yJ,qBAAuB3sC,IAAkB,EAAG1/F,WAAY8tE,GAAUx0F,UAAM,OAAQ,GAAQ,YACzF,IAAIA,KAAKyyJ,WAET,UACUzyJ,KAAKgzJ,cAActsI,EAC7B,CACA,MAAOxkB,GACHlC,KAAKizJ,wBAA0B/wJ,EAC/BsvF,GAAOtvF,MAAM,eAAgBA,EACjC,CACJ,MACAlC,KAAKkzJ,MAAQ,GACblzJ,KAAKmzJ,QAAU,GACfnzJ,KAAKozJ,wBAAqBrxJ,EAC1B/B,KAAKqzJ,0BAAuBtxJ,EAC5B/B,KAAKszJ,iBAAmBptC,IAAwB,KACxClmH,KAAKqzJ,sBACLrzJ,KAAKuzJ,cAAcvzJ,KAAKqzJ,sBAE5BrzJ,KAAKqzJ,0BAAuBtxJ,CAAS,IAEzC/B,KAAKwzJ,kBAAqB3+H,IACtB,MAAM4+H,EAAuB5xJ,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGmR,GAAQ,CAAEtoB,KAAM,oBAC7E1K,OAAOG,eAAeyxJ,EAAsB,SAAU,CAClDzvJ,YAAY,EAEZY,IAAKA,IAAMiwB,EAAMwpF,SAErBr+G,KAAKmiG,UAAUsxD,EAAqB,EAExCzzJ,KAAK0zJ,wBAA2B7+H,IAC5B,MAAM8+H,EAAwB9xJ,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGmR,GAAQ,CAAEtoB,KAAM,0BAC9EvM,KAAKmiG,UAAUwxD,EAAsB,EAEzC,MAAMzhE,EAAsB,OAAdggE,QAAoC,IAAdA,OAAuB,EAASA,EAAUhgE,MACxEvrB,EAA6F,QAAlFrtD,EAAmB,OAAd44I,QAAoC,IAAdA,OAAuB,EAASA,EAAUvrF,eAA4B,IAAPrtD,EAAgBA,EAAKxU,EAASI,cAAc,OACjJ0rB,EAA0B,OAAdshI,QAAoC,IAAdA,OAAuB,EAASA,EAAUthI,UAC5EnxB,EAAO,IAAIoyF,GAAM,CAAEvtF,KAAM,SAG/B7E,EAAK6uF,SAAU,EACf7uF,EAAKwvF,OAAOjvF,KAAKsyJ,YACjBtyJ,KAAKoiI,UAAY,IAAIvwC,GAAM,CAAEvtF,KAAM,OAAQytF,OAAO,EAAM5O,OAAQ0vB,GAAOwvB,cACvE5iI,EAAKuqD,YAAYhqD,KAAKoiI,WACtBpiI,KAAK2mE,QAAUA,EACfA,EAAQ7T,UAAUz6C,IAAI,oBACtBsuD,EAAQ5+C,MAAM67D,SAAW,WACzB5jF,KAAKkyF,MAAkB,OAAVA,QAA4B,IAAVA,EAAmBA,EAAQ,IAAI6C,GAAM,CAAEjwF,WAAUs+E,6BAChFpjF,KAAK+uF,OAAQ,EACb/uF,KAAKkyF,MAAMnD,MAAMyD,YAAa,EAC9BxyF,KAAKkyF,MAAMzyF,KAAOA,EAClBO,KAAKkyF,MAAMthE,UAAY+1C,EACvB3mE,KAAK4zJ,UAAW,EAChB5zJ,KAAKm0I,kBAAoB,IAAIiK,GAC7Bp+I,KAAKioJ,cAAgB,IAAIlK,GAAcp3E,GACvC3mE,KAAKiiH,iBAAmB,IAAIs8B,GAC5Bv+I,KAAKu8I,mBAAqB,IAAI0C,GAAmBt4E,GACjD3mE,KAAK6zJ,YAAc,IAAIhR,GACvB7iJ,KAAK+vJ,YAAc,IAAIpM,IAAY,IAAM3jJ,KAAKq+G,SAC9Cr+G,KAAKksJ,cAAgB,IAAI7I,GACzBrjJ,KAAK0rJ,cAAgB,IAAI5H,IAAc,CAACv3I,EAAOs3I,GAAgBG,MAAQC,0BAA2BjkJ,KAAK0wB,OAAOnkB,EAAM,CAAE03I,2BACtHjkJ,KAAK4rI,cAAgB,IAAIgmB,GACzB5xJ,KAAK8zJ,iBAAmB,IAAIxX,GAAiBt8I,KAAKu8I,oBAClDv8I,KAAK8zJ,iBAAiBlX,gBAAiB,EACvC58I,KAAK8zJ,iBAAiBnY,OACtB37I,KAAK0hJ,QAAU,IAAIxnC,GAAQl6G,KAAKkyF,MAAMxO,OAAO/c,QAAS7hE,EAAUA,EAASwvD,MACzEt0D,KAAKywJ,eAAiB,IAAIhP,GAAezhJ,KAAK0hJ,QAAS1hJ,KAAKu8I,oBAC5Dv8I,KAAK+zJ,SAAW,IAAIxa,GAAcv5I,KAAK2mE,SACvC3mE,KAAK6zI,UAAY,IAAIqQ,GACrBlkJ,KAAK4wB,UAAYA,EACjBkzF,GAAYl1D,QAAQ5uD,KAAK2mE,SAAUhqD,IAC/B,IAAIrD,EACJ,MAAM,MAAE2pE,EAAK,OAAEtzD,GAAWhT,EAC1B,IAAK3c,KAAK4zJ,SACN,OAEJ,GAAc,IAAV3wE,GAA0B,IAAXtzD,EACf,OAEJ,MAAOqkI,EAAY,EAAGC,EAAa,GAAmC,QAA7B36I,EAAKtZ,KAAKk0J,qBAAkC,IAAP56I,EAAgBA,EAAK,GAC/F06I,IAAc/wE,GAASgxE,IAAetkI,IAG1C3vB,KAAKk0J,cAAgB,CAACjxE,EAAOtzD,GAC7B3vB,KAAKgkF,SAAQ,IAEjBhkF,KAAKksJ,cAAc9X,YAAY,gBAAiB/oH,GAAMrrB,KAAKm0J,gBAAgB9oI,EAAEo4H,cAC7EzjJ,KAAKksJ,cAAc9X,YAAY,gBAAiB/oH,GAAMrrB,KAAKo0J,iBAAiB/oI,EAAEo4H,cAE9EzjJ,KAAKu8I,mBAAmBnI,YAAY,SAAUv/G,GAAU70B,KAAK86C,QAAQjmB,KACrE70B,KAAKu8I,mBAAmBnI,YAAY,YAAav/G,GAAU70B,KAAKq0J,cAAcx/H,KAC9E70B,KAAKu8I,mBAAmBnI,YAAY,SAAUv/G,GAAU70B,KAAKs0J,YAAYz/H,KACzE70B,KAAKu8I,mBAAmBnI,YAAY,SAAUv/G,GAAU70B,KAAK8iC,QAAQjO,KACrE70B,KAAKu8I,mBAAmBnI,YAAY,aAAa,IAAMp0I,KAAKswB,YAC5DtwB,KAAKu8I,mBAAmBnI,YAAY,SAAS,IAAMp0I,KAAKu0J,mBACxDv0J,KAAK8zJ,iBAAiB1f,YAAY,mBAAoBrvH,IAClD/kB,KAAK0wB,OAAOmzH,GAAgBuG,aAAa,IAE7CpqJ,KAAKiiH,iBAAiBmyB,YAAY,oBAAqBv/G,GAAU70B,KAAKw0J,qBAAqB3/H,KAC3F70B,KAAK6zJ,YAAYzf,YAAY,eAAgBrvH,GAAM/kB,KAAK0wB,OAAOmzH,GAAgBsM,aAAc,CAAElM,sBAAsB,MACrHjkJ,KAAKwsJ,aAAa,WACtB,CACAiI,aACI,IAAIn7I,EACJ,MAAM,kBAAE+4I,GAAsBryJ,KACxB00J,EAA+E,QAA1Dp7I,EAAK+4I,EAAkBA,EAAkB/wJ,OAAS,UAAuB,IAAPgY,EAAgBA,EAAKtZ,KAAKoyJ,YACvH,OAAO9iB,GAAU,CAAColB,GACtB,CACI9jI,cAAUxvB,GACV,GAAIpB,KAAKi0C,aAAe7yC,EAAO,CAC3B,MAAM,WAAEk7B,GAAet8B,KAAK2mE,QACV,MAAdrqC,GACAA,EAAWitB,YAAYvpD,KAAK2mE,SAE5BvlE,IAAUpB,KAAKqwB,WACfjvB,EAAM4oD,YAAYhqD,KAAK2mE,SAE3B3mE,KAAKi0C,WAAa7yC,CACtB,CACJ,CACIwvB,gBACA,OAAO5wB,KAAKi0C,UAChB,CACA0gH,gBAAgBvzJ,GACZ,MAAM,MAAE2mB,GAAU/nB,KAAK2mE,QACvB,GAAIvlE,EAAO,CAIP,GAHA2mB,EAAM2iC,QAAU,QAChB3iC,EAAMk7D,MAAQ,OACdl7D,EAAM4H,OAAS,QACV3vB,KAAKk0J,cACN,OAEJl0J,KAAKgkF,QACT,MAEIj8D,EAAM2iC,QAAU,eAChB3iC,EAAMk7D,MAAQ,OACdl7D,EAAM4H,OAAS,MAEvB,CACAi1D,SAASC,EAAUC,GACf9kF,KAAKkyF,MAAMtN,SAASC,EAAUC,EAClC,CACIz0D,gBACA,OAAOrwB,KAAKyyJ,UAChB,CACAllB,UAAU3tI,GACN,GAAuC,MAAnCI,KAAK+vD,QAAQnwD,EAAO4tI,YACpB,MAAM,IAAI9lI,MAAM,2CAA6C9H,EAAO4tI,YAExE,MAAMO,EAAiB,IAAInuI,EAAOouI,oBAAoBhuI,KAAK40J,oBAC3D50J,KAAK+vD,QAAQnwD,EAAO4tI,YAAc,CAAE1jH,SAAUikH,GAC9C/tI,KAAKJ,EAAO4tI,YAAcO,CAC9B,CACAE,aAAaruI,GACT,IAAI0Z,EAAIqb,EAC2F,QAAlGA,EAAgD,QAA1Crb,EAAKtZ,KAAK+vD,QAAQnwD,EAAO4tI,mBAAgC,IAAPl0H,OAAgB,EAASA,EAAGwQ,gBAA6B,IAAP6K,GAAyBA,EAAGrE,iBAChItwB,KAAK+vD,QAAQnwD,EAAO4tI,mBACpBxtI,KAAKJ,EAAO4tI,WACvB,CACAU,gBAAgBtuI,GACZ,OAA0C,MAAnCI,KAAK+vD,QAAQnwD,EAAO4tI,WAC/B,CACAonB,mBACI,MAAM,MAAE1iE,EAAK,iBAAE4hE,EAAgB,kBAAE3f,EAAiB,cAAE8T,EAAa,iBAAEhmC,EAAgB,mBAAEs6B,EAAkB,eAAEkU,EAAc,YAAEoD,EAAW,YAAE9D,EAAW,cAAE7D,EAAa,cAAER,EAAa,KAAE76I,EAAI,cAAE+6H,GAAmB5rI,KAC1M,MAAO,CACHkyF,QACA4hE,mBACA3f,oBACA8T,gBACAhmC,mBACAs6B,qBACAkU,iBACAoD,cACA9D,cACA7D,gBACAR,gBACA76I,OACA+6H,gBAER,CACAt7G,QAAQmvD,GACJ,IAAInmE,EACJ,GAAItZ,KAAKyyJ,WACL,OAEJ,MAAMoC,EAAqC,OAATp1E,QAA0B,IAATA,OAAkB,EAASA,EAAKo1E,0BACnF,IAAI5xJ,EACJjD,KAAK6yJ,mBAAqBhP,GAAgB/2D,KAC1C9sF,KAAK2yJ,uBAAuB/uI,OAAO,GACnC5jB,KAAKywJ,eAAengI,UACpBtwB,KAAK0hJ,QAAQpxH,UACU,QAAtBhX,EAAKtZ,KAAK80J,cAA2B,IAAPx7I,GAAyBA,EAAGgX,UAC3DtwB,KAAK+zJ,SAASva,OAAOF,OACrBx1B,GAAY5I,UAAUl7G,KAAK2mE,SAC3B,IAAK,MAAO5jE,EAAKnD,KAAWiC,OAAO6nB,QAAQ1pB,KAAK+vD,SAC5CnwD,EAAOkqB,SAASwG,iBACTtwB,KAAK+vD,QAAQhtD,UACb/C,KAAK+C,GAiBhB,OAfA/C,KAAKu8I,mBAAmBjsH,UACpBukI,GACA70J,KAAKkyF,MAAMoE,QACXrzF,EAAS,CAAE2tB,UAAW5wB,KAAK4wB,UAAWshE,MAAOlyF,KAAKkyF,MAAOvrB,QAAS3mE,KAAK2mE,WAGvE3mE,KAAKkyF,MAAM5hE,UACXtwB,KAAK4wB,eAAY7uB,GAErB/B,KAAKq+G,OAAOxlG,SAASxT,GAAMA,EAAEirB,YAC7BtwB,KAAKq+G,OAAS,GACdr+G,KAAK+0J,KAAKl8I,SAAS9N,GAAMA,EAAEulB,YAC3BtwB,KAAK+0J,KAAO,GACZ/0J,KAAK4rI,cAAcomB,kBACnBhyJ,KAAKyyJ,YAAa,EACXxvJ,CACX,CACAyuF,IAAIjS,GACIz/E,KAAK+uF,OACLyC,GAAOzC,MAAMtP,EAErB,CACA80E,eAAeS,GAAgB,GACtBA,GACDh1J,KAAKywJ,eAAexO,cAAcjiJ,KAAKgS,IAE3ChS,KAAKiiH,iBAAiBw8B,gBAAgBz+I,KAAKgS,IACvChS,KAAKqzJ,uBACLrzJ,KAAKqzJ,0BAAuBtxJ,EAEpC,CACAkzJ,qBAAqBrhI,GACjB,MAAMshI,EAAYl1J,KAAK2yJ,uBACjBjsI,EAAQwuI,EAAU5zJ,OACV,IAAVolB,GACAwuI,EAAUvlJ,KAAKikB,GACf5zB,KAAKm1J,oBAAoB/wI,OAAOiH,GAAMmmE,GAAOI,UAAUvmE,MAKvD6pI,EAAUtxI,OAAO,EAAG8C,EAAQ,EAAGkN,EAEvC,CACAuhI,oBACI,OAAO3gE,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAMk1J,EAAYl1J,KAAK2yJ,uBACvB,MAAOuC,EAAU5zJ,OAAS,EACtB,GAAItB,KAAKo1J,oBACCvc,GAAM,OADhB,CAIA,UACUqc,EAAU,KAChBl1J,KAAK4rI,cAAcomB,iBACvB,CACA,MAAO3mI,GACHmmE,GAAOtvF,MAAM,eAAgBmpB,EACjC,CACA6pI,EAAUt8F,OARV,CAUR,GACJ,CACIy8F,wBACA,OAAOr1J,KAAK6yJ,kBAChB,CACIuC,oBACA,OAAOp1J,KAAK6yJ,qBAAuBhP,GAAgB/2D,MAAqC,MAA7B9sF,KAAKqzJ,oBACpE,CACIiC,6BACA,OAAOt1J,KAAKizJ,uBAChB,CACAsC,wBACI,OAAO/gE,GAAUx0F,UAAM,OAAQ,GAAQ,kBAC7BA,KAAK+yJ,qBAAqBjsC,OACpC,GACJ,CACAp2F,OAAOnkB,EAAOs3I,GAAgBG,KAAMvkE,GAChC,MAAM,qBAAEwkE,GAAuB,EAAK,eAAE6O,EAAiB9yJ,KAAKq+G,QAAoB,OAAT5+B,QAA0B,IAATA,EAAkBA,EAAO,CAAC,EAC9GwkE,GACAjkJ,KAAKq+G,OAAOxlG,SAASwlG,GAAWA,EAAOqD,sBAE3C,IAAK,MAAMrD,KAAUy0C,EACjB9yJ,KAAK8yJ,eAAez6I,IAAIgmG,GAExB9xG,EAAOvM,KAAK6yJ,qBACZ7yJ,KAAK6yJ,mBAAqBtmJ,EAC1BvM,KAAK+yJ,qBAAqBlsC,WAElC,CACAmsC,cAActsI,GACV,IAAIpN,EACJ,OAAOk7E,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAQ6yJ,mBAAoBwC,EAAiB,gBAAE7+D,GAAoBx2F,KAC7Du3F,EAAS,CAACnkD,YAAYoZ,OAC5B,OAAQ6oG,GACJ,KAAKxR,GAAgBG,KACrB,KAAKH,GAAgBsM,mBACXnwJ,KAAKo0G,cACXp0G,KAAKu0J,gBAAe,GACpBh9D,EAAO5nF,KAAKyjC,YAAYoZ,OAE5B,KAAKq3F,GAAgB2R,eACjB,GAAIx1J,KAAK4zJ,WAAa5zJ,KAAKk0J,cAAe,CACtC,MAAMxtI,EAAQ1mB,KAAK4yJ,8BACnB,GAAIlsI,EAAQ,EAAG,CAEX1mB,KAAK6yJ,mBAAqBhP,GAAgB2R,eAC1Cx1J,KAAK+yJ,qBAAqBlsC,WAC1B,KACJ,CAIJ,CACA7mH,KAAK4yJ,4BAA8B,QAC7B5yJ,KAAK0sJ,gBACX1sJ,KAAKy1J,iBACLl+D,EAAO5nF,KAAKyjC,YAAYoZ,OAE5B,KAAKq3F,GAAgB6R,cACjB,MAAM,WAAE5gB,GAAe90I,KACjB21J,EAAgB,IAAI31J,KAAK8yJ,gBAAgBn5I,KAAK0kG,GAAWA,EAAO3tF,OAAO,CAAEokH,iBAC/E90I,KAAK8yJ,eAAeh2I,cACd4R,QAAQ3pB,IAAI4wJ,GAClBp+D,EAAO5nF,KAAKyjC,YAAYoZ,OAE5B,KAAKq3F,GAAgB+R,sBACjB,MAAMC,EAAc71J,KAAKywJ,eAAevO,eAAeliJ,KAAKgS,IACxDqjJ,EAAoBxR,GAAgB6R,eAAuJ,WAA9C,QAAtFp8I,EAAqB,OAAhBu8I,QAAwC,IAAhBA,OAAyB,EAASA,EAAYhhI,aAA0B,IAAPvb,OAAgB,EAASA,EAAG/M,OACjLvM,KAAKuzJ,cAAcsC,EAAYhhI,OAGvC,KAAKgvH,GAAgBuG,mBACXpqJ,KAAKkyF,MAAMziE,OAAO,CAAE8mE,gBAAiBgB,EAAQf,oBACnDx2F,KAAKw2F,gBAAkB,CAAC,EAE5B,KAAKqtD,GAAgB/2D,KAEjB9sF,KAAK6yJ,mBAAqBhP,GAAgB/2D,KAElD,MAAMxmE,EAAM8sB,YAAYoZ,MACxBxsD,KAAK0xF,IAAI,CACL5hE,MAAO9vB,KACP81J,WAAYprJ,KAAK86E,MAA0B,KAAnBl/D,EAAMixE,EAAO,KAAa,IAClD7wE,QACA2uI,kBAAmBxR,GAAgBwR,IAE3C,GACJ,CACIN,SAAKr8I,GACL,MAAMq9I,EAAc,IAAIhgJ,IACxB/V,KAAKkzJ,MAAMr6I,SAAS2qG,IAChBA,EAAKshB,WAAW9kI,KAAKoiI,WACrB2zB,EAAY19I,IAAImrG,EAAK,IAGzBxjH,KAAKkzJ,MAAQx6I,EAAOgB,QAAQ3O,IAAOA,EAAEkiI,WAAUz9H,OAAOkJ,EAAOgB,QAAQ3O,GAAMA,EAAEkiI,YAC7EjtI,KAAKkzJ,MAAMr6I,SAAS2qG,IAChBA,EAAKqhB,WAAW7kI,KAAKoiI,WACrB2zB,EAAYv/I,OAAOgtG,EAAK,IAE5BuyC,EAAYl9I,SAAS2qG,GAASA,EAAKlzF,WACvC,CACIykI,WACA,OAAO/0J,KAAKkzJ,KAChB,CACI70C,WAAO3lG,GACP1Y,KAAKg2J,kBACLt9I,EAAOG,SAASwlG,GAAWr+G,KAAKi2J,UAAU53C,IAC9C,CACIA,aACA,OAAOr+G,KAAKmzJ,OAChB,CACA8C,UAAU53C,EAAQx0D,GACd,MAAQw0D,OAAQ63C,EAAS,WAAE5D,GAAetyJ,KACpCm2J,EAASD,EAAUz0J,QAAQ48G,GAAU,EAC3C,GAAI83C,EAAQ,CACR,MAAMC,EAAcvsG,EAASqsG,EAAUz0J,QAAQooD,IAAW,EAU1D,OATIusG,GAAe,GACfF,EAAUtyI,OAAOwyI,EAAa,EAAG/3C,GACjCi0C,EAAWhpG,aAAa+0D,EAAOa,UAAWr1D,EAAOq1D,aAGjDg3C,EAAUvmJ,KAAK0uG,GACfi0C,EAAWrjE,OAAOovB,EAAOa,YAE7Bl/G,KAAKq2J,WAAWh4C,IACT,CACX,CACA,OAAO,CACX,CACAg4C,WAAWh4C,GACPA,EAAOvuF,MAAQ9vB,KACfq+G,EAAO4D,iBAAmBjiH,KAAKiiH,iBAC/B5D,EAAOy1C,iBAAmB9zJ,KAAK8zJ,iBAC1Bz1C,EAAOrxG,OACRqxG,EAAOrxG,KAAOhN,KAAKgN,MAEvBhN,KAAKs2J,mBAAmBj4C,GACxBA,EAAO81B,kBAAoBn0I,KAAKm0I,kBAChC91B,EAAO2C,wBACX,CACAu1C,WAAWl4C,GACPA,EAAOvuF,WAAQ/tB,EACfs8G,EAAO1yD,oBAAoB,YAAa3rD,KAAKwzJ,mBAC7Cn1C,EAAO1yD,oBAAoB,kBAAmB3rD,KAAK0zJ,wBACvD,CACAsC,kBACIh2J,KAAKq+G,OAAOxlG,SAASwlG,IACjBr+G,KAAKu2J,WAAWl4C,GAChBr+G,KAAKsyJ,WAAW/oG,YAAY80D,EAAOa,UAAU,IAEjDl/G,KAAKmzJ,QAAU,EACnB,CACAmD,mBAAmBj4C,GACXr+G,KAAKiiG,iBAAiB,oBACtBoc,EAAO3yD,iBAAiB,YAAa1rD,KAAKwzJ,mBAE1CxzJ,KAAKiiG,iBAAiB,0BACtBoc,EAAO3yD,iBAAiB,kBAAmB1rD,KAAK0zJ,wBAExD,CACA8C,2BACIx2J,KAAKq+G,OAAOxlG,SAASwlG,IACjBA,EAAO1yD,oBAAoB,YAAa3rD,KAAKwzJ,mBAC7Cn1C,EAAO1yD,oBAAoB,kBAAmB3rD,KAAK0zJ,yBACnD1zJ,KAAKs2J,mBAAmBj4C,EAAO,GAEvC,CACAo4C,qBACIz2J,KAAK+0J,KAAKl8I,SAAS2qG,IACfA,EAAKopB,YAAc5sI,KAAKq+G,OAAO3kG,QAAQrU,IACnC,MAAMqxJ,EAAalzC,EAAKtC,YAAcpO,GAAmBsM,EAAI/5G,EAAEuvI,MAAQvvI,EAAEwvI,MACzE,OAAO6hB,IAAelzC,CAAI,GAC5B,GAEV,CACAmzC,mBAAmBlmE,GAAQ,GAEvB,MAAMmmE,EAAqB,CAAC,EAC5B52J,KAAK+0J,KAAKl8I,SAAS2qG,IACf,IAAIlqG,EACJ,MAAM4nG,EAAYsC,EAAKtC,UACjB21C,EAA0D,QAAxCv9I,EAAKs9I,EAAmB11C,UAA+B,IAAP5nG,EAAgBA,EAAMs9I,EAAmB11C,GAAa,GAC9H21C,EAAclnJ,KAAK6zG,EAAK,IAE5BxjH,KAAKq+G,OAAOxlG,SAASwlG,IACjBA,EAAOc,WAAWtmG,SAASqoG,IACvB,MAAM41C,EAAc51C,IAAcpO,GAAmBsM,EAAIf,EAAOu2B,MAAQv2B,EAAOw2B,MAC/E,GAAIiiB,IAAgBrmE,EAChB,OAEJ,MAAMomE,EAAgBD,EAAmB11C,GACzC,IAAK21C,EAED,YADArlE,GAAOrgE,KAAM,oCAAmC+vF,4CAGpD,MAAMusB,EAAapvB,EAAOmD,QAAQN,GAC5B61C,EAAU/2J,KAAKg3J,iBAAiBH,EAAex4C,EAAOmD,QAAQN,IAC/D61C,EAID71C,IAAcpO,GAAmBsM,EACjCf,EAAOu2B,MAAQmiB,EAGf14C,EAAOw2B,MAAQkiB,EAPfvlE,GAAOrgE,KAAM,mCAAkC+vF,gBAAwBusB,2CAQ3E,GACF,GAEV,CACAupB,iBAAiBH,EAAe32C,GAC5B,IAAK,MAAMsD,KAAQqzC,EAAe,CAC9B,MAAMI,EAAWzzC,EAAK9/G,KACtB,IAAKuzJ,EAAS31J,OACV,OAAOkiH,EAEX,GAAKtD,EAGL,IAAK,MAAMg3C,KAAgBh3C,EACvB,GAAI+2C,EAASx1J,QAAQy1J,IAAiB,EAClC,OAAO1zC,CAGnB,CACJ,CACAx/B,OAAOf,EAAOtzD,GACV,IAAIrW,EAAIqb,EAAI2C,EAAIH,EACN,OAAV8rD,QAA4B,IAAVA,IAA4BA,EAA8B,QAArB3pE,EAAKtZ,KAAKijF,aAA0B,IAAP3pE,EAAgBA,EAAMtZ,KAAK4zJ,SAAyC,QAA7Bj/H,EAAK30B,KAAKk0J,qBAAkC,IAAPv/H,OAAgB,EAASA,EAAG,GAAK30B,KAAKkyF,MAAMxO,OAAOT,OACxM,OAAXtzD,QAA8B,IAAXA,IAA8BA,EAAgC,QAAtB2H,EAAKt3B,KAAK2vB,cAA2B,IAAP2H,EAAgBA,EAAMt3B,KAAK4zJ,SAAyC,QAA7Bz8H,EAAKn3B,KAAKk0J,qBAAkC,IAAP/8H,OAAgB,EAASA,EAAG,GAAKn3B,KAAKkyF,MAAMxO,OAAO/zD,QACnNszD,GAAUtzD,GAAW/W,OAAOgqF,SAAS3f,IAAWrqE,OAAOgqF,SAASjzE,IAEjE3vB,KAAKkyF,MAAMlO,OAAOf,EAAOtzD,KACzB3vB,KAAKu0J,iBACLv0J,KAAK0wB,OAAOmzH,GAAgB2R,eAAgB,CAAEvR,sBAAsB,IAE5E,CACA7vC,cACI,OAAO5f,GAAUx0F,UAAM,OAAQ,GAAQ,aAC/BA,KAAK+0J,KAAKzzJ,OAAS,GAAKtB,KAAKq+G,OAAOjmF,MAAM/yB,GAAMA,aAAautI,QAC7D5yI,KAAK22J,oBAAmB,GACxB32J,KAAKy2J,4BAEH/nI,QAAQ3pB,IAAI/E,KAAKq+G,OAAO1kG,KAAKtU,GAAMA,EAAE+uG,uBACrCp0G,KAAKm3J,cACf,GACJ,CACA1xC,cACI,MAAM0nB,EAAgB,GAChBngI,EAAO,GACb,IAAK,MAAMqxG,KAAUr+G,KAAKq+G,OAAQ,CAC9B,IAAKA,EAAO/vB,QACR,SAEJ,MAAM46C,EAAY7qB,EAAOq6B,eACnBxP,GAAa3jB,GAAkB2jB,EAAU,MAG/Cl8H,EAAK2C,KAAKu5H,GACViE,EAAcx9H,KAAK0uG,GACvB,CACA,MAAM,WAAEy2B,GAAe90I,KACjB2lH,EAASmvB,GAAc9nI,EAAK1L,OAAS,EACrCmkH,GAAYz4G,EAAM,CAAEwB,EAAG,EAAGo5E,EAAG,EAAG3E,MAAO6xD,EAAW7xD,MAAOtzD,OAAQmlH,EAAWnlH,SAC5E,GACN,OAAO,IAAI3X,IAAI2tG,EAAOhsG,KAAI,CAACvE,EAAGxR,IAAM,CAACupI,EAAcvpI,GAAIwR,KAC3D,CACAo3I,aAAa+D,GACT,IAAIj3I,EACJ,GAAItZ,KAAKuwJ,aAAeA,EACpB,OAEmB,QAAtBj3I,EAAKtZ,KAAK80J,cAA2B,IAAPx7I,GAAyBA,EAAGgX,UAC3DtwB,KAAK80J,YAAS/yJ,EACd,MAAM+qB,EAAM9sB,KAAK40J,mBACjB50J,KAAK80J,OAASnD,GAAUpB,EAAYzjI,GACpC9sB,KAAK80J,OAAOtI,aAAaxsJ,KAAKkyF,MAAMzyF,MACpCO,KAAKuwJ,WAAaA,CACtB,CACA6G,cAAcC,GACVr3J,KAAKozJ,mBAAqBiE,CAC9B,CACAF,eACI,IAAI79I,EACJ,OAAOk7E,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAMowJ,EAAa,GACnBpwJ,KAAKq+G,OACA3kG,QAAQrU,GAAMA,EAAEo6G,eAChB5mG,SAASwlG,IACV,MAAMrxG,EAAOqxG,EAAOiyC,gBACpBF,EAAWzgJ,QAAQ3C,EAAK,IAE5B,MAAMujJ,EAAaH,EAAW9uJ,OAAS,EAAI8uJ,EAAW,GAAGG,WAAa,WACtEvwJ,KAAKwsJ,aAAa+D,GACiB,QAAlCj3I,EAAKtZ,KAAKozJ,0BAAuC,IAAP95I,GAAyBA,EAAG9P,KAAKxJ,KAAMA,KAAK80J,QACpE,aAAfvE,GACAvwJ,KAAKs3J,mBAAmBlH,GAE5BpwJ,KAAK80J,OAAO9nJ,KAAOojJ,CACvB,GACJ,CACAkH,mBAAmBlH,GAEf,MAAMmH,EAAmB,CAAC,EAC1BnH,EAAWv3I,SAASsW,IAChB,IAAI7V,EAAIqb,EAAI2C,EACRH,EAAIi/E,EACR,MAAMohD,EAAqE,QAAvDl+I,EAAKtZ,KAAKq+G,OAAOp3C,MAAM5hE,GAAMA,EAAE2M,KAAOmd,EAAEmvF,kBAA8B,IAAPhlG,OAAgB,EAASA,EAAG/M,KAC/G,IAAKirJ,EACD,OACJ,MAAMC,EAAKtoI,EAC6B,QAAvCwF,EAAK4iI,EAAiBC,UAAgC,IAAP7iI,IAAsB4iI,EAAiBC,GAAc,CAAE,CAACC,EAAGjyC,MAAM5/D,MAAO,IAAI7vC,MACzD,QAAlEuhB,GAAMH,EAAKogI,EAAiBC,IAAaphD,EAAKqhD,EAAGjyC,MAAM5/D,aAA0B,IAAPtuB,IAAsBH,EAAGi/E,GAAM,IAAIrgG,KACxF,MAAlB0hJ,EAAGlT,OAAO/jH,MACV+2H,EAAiBC,GAAYC,EAAGjyC,MAAM5/D,MAAMvtC,IAAIo/I,EAAGlT,OAAO/jH,KAC9D,IAEJ3+B,OAAO6B,KAAK6zJ,GAAkB1+I,SAAS2+I,IACnC31J,OAAO6B,KAAK6zJ,EAAiBC,IAAa3+I,SAASvU,IAC/C,MAAMozJ,EAAQH,EAAiBC,GAAYlzJ,GACvCozJ,EAAM/6I,KAAO,GACb60E,GAAOG,SAAU,gBAAertF,oEACpC,GACF,GAEV,CACAooJ,gBACI,OAAOl4D,GAAUx0F,UAAM,OAAQ,GAAQ,YACnCA,KAAKkyF,MAAMzyF,KAAK6uF,SAAU,EAC1B,MAAQ4D,OAAO,MAAEjP,EAAK,OAAEtzD,IAAc3vB,KACtC,IAAIyjJ,EAAa,IAAI97D,GAAK,EAAG,EAAG1E,EAAOtzD,GAGvC,QAFG8zH,cAAezjJ,KAAKksJ,cAAc3I,sBAAsB,eAAgB,CAAEE,kBAC1EA,cAAezjJ,KAAKksJ,cAAc3I,sBAAsB,gBAAiB,CAAEE,gBACvEA,CACX,GACJ,CACA0Q,gBAAgB1Q,GACZ,MAAM,QAAE//B,GAAY1jH,KAKpB,OAJAyjJ,EAAWt7D,OAAOu7B,EAAQ9tD,KAAM,QAChC6tF,EAAWt7D,OAAOu7B,EAAQ5tD,IAAK,OAC/B2tF,EAAWt7D,OAAOu7B,EAAQxqD,MAAO,SACjCuqF,EAAWt7D,OAAOu7B,EAAQj7B,OAAQ,UAC3B,CAAEg7D,aACb,CACA2Q,iBAAiB3Q,GACb,IAAInqI,EACJ,MAAM,MAAEsgG,EAAK,SAAE24C,EAAQ,SAAEC,GAAaxyJ,KAChC2wJ,EAAgBlN,EAAW99G,QAC3BgyH,EAAiBC,IACnB,IAAIt+I,EACJ,MAAMu+I,EAAuBpU,EAAW9zH,OAAS,GAC3CmoI,EAAkD,QAA7Bx+I,EAAKs+I,EAAQ96D,kBAA+B,IAAPxjF,EAAgBA,EAAKs+I,EAAQh7D,SAAW5iD,GAAKomD,uBACvGnC,EAAWwlD,EAAWxgE,MACtBib,EAAYxzF,KAAK0G,IAAI0mJ,EAAmBD,GAC9CD,EAAQ7lC,gBAAgB9zB,EAAUC,EAAU,EAE1C65D,EAA4BH,IAC9B,IAAIt+I,EACJ,MAAM0+I,EAAQrH,EAAc/oE,EAC5BgwE,EAAQ15H,KAAK1vB,EAAImiJ,EAAcniJ,EAAImiJ,EAAc1tE,MAAQ,EACzD20E,EAAQ15H,KAAK0pD,EAAIowE,EACjBJ,EAAQ15H,KAAKwoD,aAAe,MAC5BixE,EAAcC,GACd,MAAM3wE,EAAO2wE,EAAQ15H,KAAK6xD,cAIpBkoE,EAAavtJ,KAAK2D,KAAK44E,EAAKW,EAAIowE,EAAQ/wE,EAAKt3D,QAAqC,QAA1BrW,EAAKs+I,EAAQ/lC,eAA4B,IAAPv4G,EAAgBA,EAAK,IACrHq3I,EAAcxoE,OAAO8vE,EAAY,MAAM,EAErCC,EAA+BN,IACjC,IAAIt+I,EACJ,MAAM0+I,EAAQrH,EAAc/oE,EAAI+oE,EAAchhI,OAC9CioI,EAAQ15H,KAAK1vB,EAAImiJ,EAAcniJ,EAAImiJ,EAAc1tE,MAAQ,EACzD20E,EAAQ15H,KAAK0pD,EAAIowE,EACjBJ,EAAQ15H,KAAKwoD,aAAe,SAC5BixE,EAAcC,GACd,MAAM3wE,EAAO2wE,EAAQ15H,KAAK6xD,cACpBkoE,EAAavtJ,KAAK2D,KAAK2pJ,EAAQ/wE,EAAKW,GAAgC,QAA1BtuE,EAAKs+I,EAAQ/lC,eAA4B,IAAPv4G,EAAgBA,EAAK,IACvGq3I,EAAcxoE,OAAO8vE,EAAY,SAAS,EAoB9C,OAlBIr+C,IACAA,EAAM17E,KAAKowD,QAAUsrB,EAAMhlF,QACvBglF,EAAM17E,KAAKowD,SACXypE,EAAyBn+C,IAG7B24C,IACAA,EAASr0H,KAAKowD,QAAyG,QAA9Fh1E,GAAiB,OAAVsgG,QAA4B,IAAVA,OAAmB,EAASA,EAAMhlF,UAAY29H,EAAS39H,eAA6B,IAAPtb,GAAgBA,EAC3Ii5I,EAASr0H,KAAKowD,SACdypE,EAAyBxF,IAG7BC,IACAA,EAASt0H,KAAKowD,QAAUkkE,EAAS59H,QAC7B49H,EAASt0H,KAAKowD,SACd4pE,EAA4B1F,IAG7B,CAAE/O,WAAYkN,EACzB,CACAwH,gBACI,OAAOn4J,KAAK80I,UAChB,CAEAsjB,eAAe16D,EAAO26D,EAAgBC,GAClC,IAAIh/I,EAAIqb,EACR,MAAMtO,EAAQ+sB,YAAYoZ,MAEpBwzD,EAAYq4C,EAAiB,CAACz6C,GAAmB2E,wBAAqBxgH,EAGtEw2J,EAAgB,IAAIv4J,KAAKq+G,QAAQ4b,UACvC,IAAIh3H,EACJ,IAAK,MAAMo7G,KAAUk6C,EAAe,CAChC,IAAKl6C,EAAO/vB,UAAY+vB,EAAOa,UAAU5wB,QACrC,SAEJ,MAAM,MAAEpnF,EAAK,SAAE27G,GAA0D,QAA5CvpG,EAAK+kG,EAAO5uB,SAASiO,EAAOsiB,UAA+B,IAAP1mG,EAAgBA,EAAK,CAAC,EACvG,GAAKpS,GAAqB,MAAZ27G,MAGR5/G,GAAUA,EAAO4/G,SAAWA,IAAaA,IAA6B,OAAhBy1C,QAAwC,IAAhBA,EAAyBA,EAAcnkI,OACvHlxB,EAAS,CAAEo7G,SAAQwE,WAAUp0B,MAAOvnF,IAEvB,IAAb27G,GACA,KAER,CAEA,OADA7iH,KAAKw2F,gBAAgB,kBAAoB9rF,KAAK86E,OAAyD,QAAjD7wD,EAAK30B,KAAKw2F,gBAAgB,yBAAsC,IAAP7hE,EAAgBA,EAAK,IAAMye,YAAYoZ,MAAQnmC,IACvJpjB,CACX,CACAqxJ,YAAYz/H,GACR70B,KAAKqzJ,qBAAuBx+H,EAC5B70B,KAAKszJ,iBAAiBzsC,WACtB7mH,KAAKw2F,gBAAgB,UAAY3hE,EAAMknF,QACvC/7G,KAAKw2F,gBAAgB,UAAY3hE,EAAMkpE,QACvC/9F,KAAK0wB,OAAOmzH,GAAgBuG,aAChC,CACAtnH,QAAQjO,GACA70B,KAAK0hJ,QAAQ7kC,uBAAuBhoF,IAGxC70B,KAAKu0J,gBACT,CACAhB,cAAc1+H,GACV,MAAM,SAAE2jI,EAAQ,UAAEC,GAAcz4J,MAC1B,QAAE+7G,EAAO,QAAEhe,GAAYlpE,EACvB0/H,EAAiBA,CAACS,GAAgB,KAChCwD,GAEAx4J,KAAKu0J,eAAeS,EACxB,GAEgB,OAAdyD,QAAoC,IAAdA,OAAuB,EAASA,EAAU1wE,cAAcg0B,EAAShe,KAK7F/9F,KAAK04J,qBAAqB7jI,EAAO0/H,GAEjCv0J,KAAK24J,kBAAkB9jI,IANnB0/H,GAOR,CACAmE,qBAAqB7jI,EAAO0/H,GACxB,IAAIj7I,EAAIqb,EACR,MAAM,SAAE6jI,EAAQ,QAAE9W,GAAY1hJ,MACxB,MAAEmmB,GAAUu7H,GACZ,MAAEnB,EAAK,MAAEC,EAAK,QAAEzkC,EAAO,QAAEhe,GAAYlpE,EAC3C,IAAI+jI,EACiB,kBAAVzyI,GAAsBvN,OAAOgqF,SAASz8E,KAC7CyyI,EAAazyI,GAEjB,MAAM0yI,EAAO74J,KAAKo4J,eAAe,CAAE5pJ,EAAGutG,EAASn0B,EAAGmW,GAAqB,UAAV53E,EAAmByyI,GAChF,IAAKC,EAID,OAHA74J,KAAKywJ,eAAe1O,cAAc/hJ,KAAKgS,SACV,YAAzBhS,KAAK6zI,UAAU1tH,OACfouI,GAAe,IAGvB,MAAMuE,EAAsC,SAAzB94J,KAAK6zI,UAAU1tH,QAAqBqyI,GAAYA,EAAS/pE,QAAUoqE,EAAKpqE,MAC3F,IAAIpP,EACAy5E,GACAz5E,EAAOw5E,EAAKx6C,OAAO06C,eAAeF,EAAKpqE,OACV,YAAzBzuF,KAAK6zI,UAAU1tH,OACfnmB,KAAKiiH,iBAAiBw8B,gBAAgBz+I,KAAKgS,GAAI6mJ,EAAKpqE,QAGnD+pE,IACLA,EAAS3jI,MAAQA,EAAMioF,aAE3B,MAAMk8C,EAA6B,MAAdJ,EACfK,EAAiBj5J,KAAK0hJ,QAAQ9sH,SAAWikI,EAAKx6C,OAAOqjC,QAAQ9sH,QAC7DskI,EAA2B,UAAV/yI,GAAuC,IAAlB0yI,EAAKh2C,SAC3Cs2C,EAAyB,YAAVhzI,GAAuB6yI,GAAgBE,EACtDE,EAAsBH,GAAkBE,KAAkBL,QAAuB/2J,IAATs9E,GACxEuE,EAAW,CACbuY,QAAS08D,EAAKpqE,MAAM4vB,OAAOqjC,QAAQ99D,SAASuY,QAC5CE,QAASw8D,EAAKpqE,MAAM4vB,OAAOqjC,QAAQ99D,SAASyY,SAE1C9uE,EAAOvtB,KAAKq5J,kBAAkB,CAAE9Y,QAAOC,QAAOzkC,UAAShe,UAASlpE,MAAOA,EAAOwlF,UAAWw+C,EAAKx6C,OAAOqjC,QAAQrnC,UAAWz2B,YAAYi1E,EAAKpqE,OAC/IlhE,EAAK6sF,kBAAsH,QAAjGzlF,EAAgD,QAA1Crb,EAAKu/I,EAAKx6C,OAAOqjC,QAAQ3iC,mBAAgC,IAAPzlG,OAAgB,EAASA,EAAGsb,eAA4B,IAAPD,GAAgBA,EAC/IykI,GACAp5J,KAAKywJ,eAAe1O,cAAc/hJ,KAAKgS,GAAIub,EAAM8xD,EAEzD,CACAs5E,kBAAkB9jI,GACd,MAAMkiC,EAAQ/2D,KAAKs5J,qBAAqBzkI,GAAO,CAACwpF,EAAQ5vB,MAChD4vB,EAAOpc,iBAAiB,cAAgBoc,EAAOpc,iBAAiB,qBAChEjiG,KAAKioJ,cAAcjK,aAAa,QAAS,WAEhB,SAAzBh+I,KAAK6zI,UAAU1tH,OACfnmB,KAAKiiH,iBAAiBw8B,gBAAgBz+I,KAAKgS,GAAIy8E,EACnD,IAEC13B,IACD/2D,KAAKioJ,cAAcjK,aAAa,SACH,SAAzBh+I,KAAK6zI,UAAU1tH,OACfnmB,KAAKiiH,iBAAiBw8B,gBAAgBz+I,KAAKgS,IAGvD,CACA8oC,QAAQjmB,GACA70B,KAAKu5J,qBAAqB1kI,GAC1B70B,KAAK0wB,OAAOmzH,GAAgB6R,eAGhC11J,KAAKmiG,UAAU,CACX51F,KAAM,QACNsoB,MAAOA,EAAMioF,aAErB,CACAu3C,cAAcx/H,GACN70B,KAAKw5J,2BAA2B3kI,GAChC70B,KAAK0wB,OAAOmzH,GAAgB6R,eAGhC11J,KAAKmiG,UAAU,CACX51F,KAAM,cACNsoB,MAAOA,EAAMioF,aAErB,CACAy8C,qBAAqB1kI,GACjB,OAAO70B,KAAKs5J,qBAAqBzkI,GAAO,CAACwpF,EAAQ5vB,IAAU4vB,EAAO2E,mBAAmBnuF,EAAMioF,YAAaruB,IAC5G,CACA+qE,2BAA2B3kI,GACvB,OAAO70B,KAAKs5J,qBAAqBzkI,GAAO,CAACwpF,EAAQ5vB,IAAU4vB,EAAO8E,yBAAyBtuF,EAAMioF,YAAaruB,IAClH,CACA6qE,qBAAqBzkI,EAAO5X,GACxB,MAAMw8I,EAAcz5J,KAAKo4J,eAAe,CAAE5pJ,EAAGqmB,EAAMknF,QAASn0B,EAAG/yD,EAAMkpE,UAAW,GAC1EtP,EAAwB,OAAhBgrE,QAAwC,IAAhBA,OAAyB,EAASA,EAAYhrE,MAC9EixB,EAA2B,OAAVjxB,QAA4B,IAAVA,OAAmB,EAASA,EAAM4vB,OAAOqB,eAElF,GAAIjxB,GAA4B,YAAnBixB,EAET,OADAziG,EAASwxE,EAAM4vB,OAAQ5vB,IAChB,EAGX,IAAImqE,EAC0B,kBAAnBl5C,GAA+B9mG,OAAOgqF,SAAS8c,KACtDk5C,EAAal5C,GAEjB,MAAMm5C,EAAO74J,KAAKo4J,eAAe,CAAE5pJ,EAAGqmB,EAAMknF,QAASn0B,EAAG/yD,EAAMkpE,SAA8B,UAAnB2hB,EAA4Bk5C,GACrG,IAAKC,EACD,OAAO,EAEX,MAAMG,EAA6B,MAAdJ,EACfM,EAAoC,UAAnBx5C,GAAgD,IAAlBm5C,EAAKh2C,SAC1D,SAAIm2C,IAAgBE,KAChBj8I,EAAS47I,EAAKx6C,OAAQw6C,EAAKpqE,QACpB,EAGf,CACA4qE,kBAAkB9rI,EAAMkhE,GACpB,MAAM,KAAEliF,GAASkiF,EAAM4vB,OAAOqjC,QAAQ99D,SACtC,GAAa,SAATr3E,GAAmBkiF,EAAMirE,aAAc,CACvC,MAAM,EAAElrJ,EAAC,EAAEo5E,GAAM6G,EAAMirE,cACjB,OAAEh2E,GAAW1jF,KAAKkyF,MAClBwL,EAAQjP,EAAM4vB,OAAOa,UAAU7vB,sBAAsB7gF,EAAGo5E,GACxDi0B,EAAan4B,EAAO/c,QAAQpR,wBAClC,OAAO1zD,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG6J,GAAO,CAAEgzH,MAAO71I,KAAK86E,MAAMq2B,EAAWjmD,KAAOhrD,OAAO+uJ,QAAUj8D,EAAMlvF,GAAIgyI,MAAO91I,KAAK86E,MAAMq2B,EAAW/lD,IAAMlrD,OAAOgvJ,QAAUl8D,EAAM9V,GAAIm0B,QAASrxG,KAAK86E,MAAMkY,EAAMlvF,GAAIuvF,QAASrzF,KAAK86E,MAAMkY,EAAM9V,IACzO,CACA,OAAOr6D,CACX,CACAinI,qBAAqB3/H,GACjB,IAAIvb,EAAIqb,EACR,MAAMm+H,EAAiB,IAAI/8I,KACnBsoG,OAAQw7C,EAAuBprE,MAAOqrE,GAA+C,QAAjCxgJ,EAAKub,EAAMgqH,wBAAqC,IAAPvlI,EAAgBA,EAAK,CAAC,GACnH+kG,OAAQ07C,EAAwBtrE,MAAOurE,GAAiD,QAAlCrlI,EAAKE,EAAM6pH,yBAAsC,IAAP/pH,EAAgBA,EAAK,CAAC,EAC1HolI,GACAjH,EAAez6I,IAAI0hJ,GAEnBF,GACA/G,EAAez6I,IAAIwhJ,IAGH,OAAfE,QAAsC,IAAfA,OAAwB,EAASA,EAAW1yF,SAAW2yF,GAC/Eh6J,KAAKioJ,cAAcjK,aAAa+b,EAAW/nJ,KAE5B,OAAd6nJ,QAAoC,IAAdA,OAAuB,EAASA,EAAUxyF,SAAWyyF,GAC5E95J,KAAKioJ,cAAcjK,aAAa6b,EAAU7nJ,GAAI6nJ,EAAUxyF,QAE5DrnE,KAAKw4J,SAAW3jI,EAAMgqH,iBAAmB,CAAEpwD,MAAO55D,EAAMgqH,uBAAqB98I,EAC7E,MAAMk4J,EAAyB,MAAbJ,GAAmC,MAAdE,EACnCE,EACAj6J,KAAK0wB,OAAOmzH,GAAgB6R,eAG5B11J,KAAK0wB,OAAOmzH,GAAgB6R,cAAe,CAAE5C,kBAErD,CACA3iI,cAAc+pI,EAAY,KACtB,OAAO1lE,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAMqmB,EAAQ+sB,YAAYoZ,MAC1B,MAAOxsD,KAAK2yJ,uBAAuBrxJ,OAAS,GAAKtB,KAAKo1J,cAAe,CACjE,GAAIhiH,YAAYoZ,MAAQnmC,EAAQ6zI,EAC5B,MAAM,IAAIxyJ,MAAM,0CAEdmxI,GAAM,EAChB,OACM74I,KAAKu1J,uBACf,GACJ,CACAE,iBACIz1J,KAAKm6J,qBACT,CACAA,sBACI,MAAMC,GAA8Bp6J,KAAKq+G,OAAOjmF,MAAM/yB,GAAMA,EAAEs7G,YACxDgL,EAAO3rH,KAAKm4J,gBACdiC,GAA8BzuC,EAC9B3rH,KAAK+zJ,SAASva,OAAOl6D,KAAKqsC,GAG1B3rH,KAAK+zJ,SAASva,OAAOF,MAE7B,EAEJrqH,GAAW,CACPsiG,GAAY,CACRh5G,SAASnX,GACLpB,KAAKkyF,MAAMnD,MAAMyD,WAAapxF,CAClC,KAEL6wJ,GAAMjpJ,UAAW,aAAS,GAC7BimB,GAAW,CACPsiG,GAAY,CACRh5G,SAASnX,GACL,IAAIkY,EACmB,QAAtBA,EAAKtZ,KAAKq+G,cAA2B,IAAP/kG,GAAyBA,EAAGT,SAASwlG,GAAYA,EAAOrxG,KAAO5L,GAClG,KAEL6wJ,GAAMjpJ,UAAW,YAAQ,GAC5BimB,GAAW,CACPsiG,GAAY,CACRh5G,SAASnX,GACLpB,KAAKgkF,OAAO5iF,EAChB,KAEL6wJ,GAAMjpJ,UAAW,aAAS,GAC7BimB,GAAW,CACPsiG,GAAY,CACRh5G,SAASnX,GACLpB,KAAKgkF,YAAOjiF,EAAWX,EAC3B,KAEL6wJ,GAAMjpJ,UAAW,cAAU,GAC9BimB,GAAW,CACPsiG,GAAY,CACRG,YAAYtwH,GACRpB,KAAK20J,gBAAgBvzJ,EACzB,IAEJguG,GAASiB,KACV4hD,GAAMjpJ,UAAW,gBAAY,GAChCimB,GAAW,CACPsiG,GAAY,CACRh5G,SAASnX,GACL,IAAIkY,EACuB,QAA1BA,EAAKtZ,KAAKkyF,MAAMzyF,YAAyB,IAAP6Z,GAAyBA,EAAG0wC,YAAY5oD,EAAM88B,KACrF,EACA1lB,SAASA,GACL,IAAIc,EACuB,QAA1BA,EAAKtZ,KAAKkyF,MAAMzyF,YAAyB,IAAP6Z,GAAyBA,EAAGiwC,YAAY/wC,EAAS0lB,KACxF,KAEL+zH,GAAMjpJ,UAAW,aAAS,GAC7BimB,GAAW,CACPsiG,GAAY,CACRh5G,SAASnX,GACL,IAAIkY,EACuB,QAA1BA,EAAKtZ,KAAKkyF,MAAMzyF,YAAyB,IAAP6Z,GAAyBA,EAAG0wC,YAAY5oD,EAAM88B,KACrF,EACA1lB,SAASA,GACL,IAAIc,EACuB,QAA1BA,EAAKtZ,KAAKkyF,MAAMzyF,YAAyB,IAAP6Z,GAAyBA,EAAGiwC,YAAY/wC,EAAS0lB,KACxF,KAEL+zH,GAAMjpJ,UAAW,gBAAY,GAChCimB,GAAW,CACPsiG,GAAY,CACRh5G,SAASnX,GACL,IAAIkY,EACuB,QAA1BA,EAAKtZ,KAAKkyF,MAAMzyF,YAAyB,IAAP6Z,GAAyBA,EAAG0wC,YAAY5oD,EAAM88B,KACrF,EACA1lB,SAASA,GACL,IAAIc,EACuB,QAA1BA,EAAKtZ,KAAKkyF,MAAMzyF,YAAyB,IAAP6Z,GAAyBA,EAAGiwC,YAAY/wC,EAAS0lB,KACxF,KAEL+zH,GAAMjpJ,UAAW,gBAAY,GAChCimB,GAAW,CACPmgF,GAASsC,GAAa,aAAc,gBACrCugD,GAAMjpJ,UAAW,YAAQ,GCthC5B,MAAMqxJ,GACF9uJ,YAAYi6G,EAAQ,GAAI7wG,EAAQlD,EAAS,GACrCzR,KAAKwO,EAAI,EACTxO,KAAK4nF,EAAI,EACT5nF,KAAKs6J,YAAcz0I,IACnB7lB,KAAKu6J,aAAe10I,IACpB7lB,KAAKw6J,QAAU,EACfx6J,KAAKy6J,QAAU,EACfz6J,KAAK04B,SAAW,GAChB14B,KAAK06J,UAAY,EACjB16J,KAAK26J,OAAS,EACd36J,KAAKgwD,IAAM,EACXhwD,KAAK46J,SAAW56J,KAChBA,KAAK66J,OAAS,EACd76J,KAAK44D,MAAQ,EACb54D,KAAKwlH,MAAQA,EAGbxlH,KAAK2U,OAASA,EACd3U,KAAKonF,MAAQzyE,EAASA,EAAOyyE,MAAQ,EAAI,EACzCpnF,KAAKyR,OAASA,CAClB,CACAqpJ,iBACI,OAAO96J,KAAKyR,OAAS,GAAKzR,KAAK2U,OAAS3U,KAAK2U,OAAO+jB,SAAS14B,KAAKyR,OAAS,QAAK1P,CACpF,CACAg5J,qBACI,OAAO/6J,KAAKyR,OAAS,GAAKzR,KAAK2U,OAAS3U,KAAK2U,OAAO+jB,SAAS,QAAK32B,CACtE,CAEAi5J,WACI,OAAOh7J,KAAK04B,SAAW14B,KAAK04B,SAAS,GAAK14B,KAAKi7J,MACnD,CAEAC,YACI,OAAOl7J,KAAK04B,SAAW14B,KAAK04B,SAAS14B,KAAK04B,SAASp3B,OAAS,GAAKtB,KAAKi7J,MAC1E,CACAE,cACI,OAAOn7J,KAAK2U,OAAS3U,KAAK2U,OAAO+jB,SAAShf,QAAO,CAACqL,EAAGnhB,IAAMA,IAAM5D,KAAKyR,SAAU,EACpF,EAOG,SAAS2pJ,GAAY1rC,EAAO1oG,GAAM,GACrC,MAAMvnB,EAAO,IAAI46J,GACjB,IAAIjzE,EAAQ,EAYZ,OAXIpgE,GACA0oG,EAAM72G,SAASsqH,GAAU/7C,EAAQ18E,KAAK0G,IAAIg2E,EAAO+7C,EAAKxd,OAAOrkH,UAEjEouH,EAAM72G,SAASsqH,IACX,GAAIn8G,EACA,MAAOm8G,EAAKxd,OAAOrkH,OAAS8lF,EACxB+7C,EAAKxd,OAAO13F,QAAQ,IAG5BotI,GAAW57J,EAAM0jI,EAAK,IAEnB1jI,CACX,CACA,SAAS47J,GAAW57J,EAAM0jI,GACtB,MAAMm4B,EAAYn4B,EAAKxd,OAAOrjH,QAAQ23H,UAChCshC,EAAgBD,EAAUh6J,OAAS,EACzCg6J,EAAUziJ,SAAQ,CAAC2iJ,EAAUC,KACzB,MAAM/iI,EAAWj5B,EAAKi5B,SAChBgjI,EAAehjI,EAASuuC,MAAMruC,GAAUA,EAAM4sF,QAAUg2C,IACxDG,EAAYF,IAAcF,EAChC,GAAIG,GAAgBC,EAEhBl8J,EAAOi8J,MAEN,CACD,MAAMx9H,EAAO,IAAIm8H,GAASmB,EAAU/7J,GACpCy+B,EAAKzsB,OAASinB,EAASp3B,OACvBo3B,EAAS/oB,KAAKuuB,GACVy9H,IACAl8J,EAAOy+B,EAEf,IAER,CAEA,SAAS09H,GAAYC,EAAIC,EAAIljG,GACzB,MAAMmjG,EAAWD,EAAGrqJ,OAASoqJ,EAAGpqJ,OAC1B0zE,EAAQvsB,EAAQmjG,EACtBD,EAAGjB,QAAU11E,EACb22E,EAAGljG,OAASA,EACZijG,EAAGhB,QAAU11E,EACb22E,EAAGnB,QAAU/hG,EACbkjG,EAAG9rG,KAAO4I,CACd,CACA,SAASgiG,GAASoB,EAAK7/I,EAAG8/I,GACtB,OAAO9/I,EAAEg/I,cAAc15J,QAAQu6J,EAAIpB,WAAa,EAAIoB,EAAIpB,SAAWqB,CACvE,CAEA,SAASC,GAAc//I,GACnB,MAAMuc,EAAWvc,EAAEuc,SACnB,GAAIA,EAAU,CACV,IAAIkgC,EAAQ,EACRiiG,EAAS,EACb,IAAK,IAAIj3J,EAAI80B,EAASp3B,OAAS,EAAGsC,GAAK,EAAGA,IAAK,CAC3C,MAAMoS,EAAI0iB,EAAS90B,GACnBoS,EAAE2kJ,QAAU/hG,EACZ5iD,EAAEg6C,KAAO4I,EACTiiG,GAAU7kJ,EAAE6kJ,OACZjiG,GAAS5iD,EAAE4iD,MAAQiiG,CACvB,CACJ,CACJ,CAEA,SAASsB,GAAUhgJ,EAAG8/I,EAAiBp5C,GACnC,MAAM7sG,EAAImG,EAAE2+I,iBACZ,GAAI9kJ,EAAG,CACH,IAAIomJ,EAAMjgJ,EACNkgJ,EAAMlgJ,EACN6/I,EAAMhmJ,EACNsmJ,EAAMD,EAAItB,qBACVwB,EAAMF,EAAIrsG,IACVwsG,EAAMJ,EAAIpsG,IACVysG,EAAMT,EAAIhsG,IACV0sG,EAAMJ,EAAItsG,IACd,MAAOgsG,EAAId,aAAemB,EAAIrB,WAAY,CACtCgB,EAAMA,EAAId,YACVmB,EAAMA,EAAIrB,WACVsB,EAAMA,EAAItB,WACVoB,EAAMA,EAAIlB,YACVkB,EAAIxB,SAAWz+I,EACf,MAAMy8C,EAAQojG,EAAIrB,OAAS8B,GAAOJ,EAAI1B,OAAS4B,GAAO15C,EAClDjqD,EAAQ,IACRgjG,GAAYhB,GAASoB,EAAK7/I,EAAG8/I,GAAkB9/I,EAAGy8C,GAClD2jG,GAAO3jG,EACP4jG,GAAO5jG,GAEX6jG,GAAOT,EAAIhsG,IACXusG,GAAOF,EAAIrsG,IACX0sG,GAAOJ,EAAItsG,IACXwsG,GAAOJ,EAAIpsG,GACf,CACIgsG,EAAId,cAAgBkB,EAAIlB,aACxBkB,EAAInB,OAASe,EAAId,YACjBkB,EAAIpsG,KAAOysG,EAAMD,IAGbH,EAAIrB,aAAesB,EAAItB,aACvBsB,EAAIrB,OAASoB,EAAIrB,WACjBsB,EAAItsG,KAAOusG,EAAMG,GAErBT,EAAkB9/I,EAE1B,CACA,OAAO8/I,CACX,CAEA,SAASU,GAAUz+H,EAAM2kF,GACrB,MAAMnqF,EAAWwF,EAAKxF,SACtB,GAAIA,EAASp3B,OAAQ,CACjB,IAAI26J,EAAkBvjI,EAAS,GAC/BA,EAAS7f,SAAS+f,IACd+jI,GAAU/jI,EAAOiqF,GACjBo5C,EAAkBE,GAAUvjI,EAAOqjI,EAAiBp5C,EAAS,IAEjEq5C,GAAch+H,GACd,MAAM0+H,GAAYlkI,EAAS,GAAGiiI,OAASjiI,EAASA,EAASp3B,OAAS,GAAGq5J,QAAU,EACzEkC,EAAc3+H,EAAK48H,iBACrB+B,GACA3+H,EAAKy8H,OAASkC,EAAYlC,OAAS93C,EACnC3kF,EAAK8xB,IAAM9xB,EAAKy8H,OAASiC,GAGzB1+H,EAAKy8H,OAASiC,CAEtB,KACK,CACD,MAAMC,EAAc3+H,EAAK48H,iBACzB58H,EAAKy8H,OAASkC,EAAcA,EAAYlC,OAAS93C,EAAW,CAChE,CACJ,CACA,MAAMi6C,GACFvxJ,cACIvL,KAAK81D,IAAM3hC,IACXn0B,KAAKk5D,OAAS/kC,IACdn0B,KAAKyoF,QAAUt0D,IACfn0B,KAAK41D,KAAOzhC,GAChB,CACAzD,OAAOwN,EAAM0rD,GACT,MAAM,EAAEp7E,EAAC,EAAEo5E,GAAMgC,EAAG1rD,GAChB1vB,EAAIxO,KAAKk5D,QACTl5D,KAAKk5D,MAAQ1qD,GAEbA,EAAIxO,KAAK41D,OACT51D,KAAK41D,KAAOpnD,GAEZo5E,EAAI5nF,KAAKyoF,SACTzoF,KAAKyoF,OAASb,GAEdA,EAAI5nF,KAAK81D,MACT91D,KAAK81D,IAAM8xB,EAEnB,EAEJ,SAASm1E,GAAW5gJ,EAAG5W,EAAG+9H,GACtBnnH,EAAE3N,EAAI2N,EAAEw+I,OAASp1J,EACjB4W,EAAEyrE,EAAIzrE,EAAEirE,MACRk8C,EAAO5yG,OAAOvU,GACdA,EAAEuc,SAAS7f,SAAS7C,GAAM+mJ,GAAW/mJ,EAAGzQ,EAAI4W,EAAE6zC,IAAKszE,IACvD,CAIA,SAAS05B,GAAU7gJ,GACf,MAAMuc,EAAWvc,EAAEuc,SACnB,IAAIgiI,EAAY,EAChBhiI,EAAS7f,SAAS7C,IACdgnJ,GAAUhnJ,GACNA,EAAE0iB,SAASp3B,OACXo5J,GAAa1kJ,EAAE0kJ,UAGfA,GACJ,IAEJv+I,EAAEu+I,UAAYA,EACVhiI,EAASp3B,QACT6a,EAAEm+I,YAAc5hI,EAAS,GAAG4hI,YAC5Bn+I,EAAEo+I,aAAe7hI,EAASvc,EAAEuc,SAASp3B,OAAS,GAAGi5J,aACjDp+I,EAAE3N,GAAK2N,EAAEm+I,YAAcn+I,EAAEo+I,cAAgB,IAGzCp+I,EAAEm+I,YAAcn+I,EAAE3N,EAClB2N,EAAEo+I,aAAep+I,EAAE3N,EAE3B,CACO,SAASyuJ,GAAWx9J,GACvB,MAAM6jI,EAAS,IAAI45B,GAInB,OAHAP,GAAUl9J,EAAM,GAChBs9J,GAAWt9J,GAAOA,EAAKk7J,OAAQr3B,GAC/B05B,GAAUv9J,GACH6jI,CACX,CACO,MAAM45B,GACT3xJ,cACIvL,KAAKm9J,WAAa,IAAIL,GACtB98J,KAAK06J,UAAY,EACjB16J,KAAKmlE,MAAQ,GAGbnlE,KAAKo9J,UAAY,GACjBp9J,KAAKq9J,aAAe,GACpBr9J,KAAKonF,MAAQ,CACjB,CACA12D,OAAOwN,GACHl+B,KAAKm9J,WAAWzsI,OAAOwN,GAAOA,IAAI,CAAQ1vB,EAAG0vB,EAAK1vB,EAAGo5E,EAAG1pD,EAAK0pD,MACxD1pD,EAAKxF,SAASp3B,OAKftB,KAAKq9J,aAAa1tJ,KAAKuuB,IAJvBl+B,KAAK06J,YACL16J,KAAKo9J,UAAUztJ,KAAKuuB,IAKpBA,EAAKkpD,MAAQpnF,KAAKonF,QAClBpnF,KAAKonF,MAAQlpD,EAAKkpD,OAEtBpnF,KAAKmlE,MAAMx1D,KAAKuuB,EACpB,CACA8lD,OAAOf,EAAOtzD,EAAQ2tI,EAAS,EAAGC,EAAS,EAAGC,GAAQ,GAClD,MAAMC,EAASz9J,KAAK06J,UAAY,EAC1BgD,EAAS19J,KAAKonF,MACd+1E,EAAan9J,KAAKm9J,WACxB,IAAI7yE,EAAW,EACXC,EAAW,EACf,GAAItH,EAAQ,GAAKw6E,EAAQ,CACrB,MAAME,GAAoBR,EAAWjkG,MAAQikG,EAAWvnG,MAAQ6nG,EAC1DG,EAAkB36E,EAAQw6E,EAChCnzE,EAAWszE,EAAkBD,EACzBH,IACAlzE,GAAYA,EAEpB,CACA,GAAI36D,EAAS,GAAK+tI,EAAQ,CACtB,MAAMG,GAAoBV,EAAW10E,OAAS00E,EAAWrnG,KAAO4nG,EAC1DI,EAAkBnuI,EAAS+tI,EACjCnzE,EAAWuzE,EAAkBD,CACjC,CACA,MAAME,EAAmB,IAAIjB,GAC7B98J,KAAKmlE,MAAMtsD,SAASqlB,IAChBA,EAAKs8H,QAAUt8H,EAAK1vB,EAAI87E,EACxBpsD,EAAKu8H,QAAUv8H,EAAK0pD,EAAI2C,EACxBwzE,EAAiBrtI,OAAOwN,GAAOA,IAAI,CAAQ1vB,EAAG0vB,EAAKs8H,QAAS5yE,EAAG1pD,EAAKu8H,WAAW,IAGnF,MAAM1+C,GAAWgiD,EAAiBnoG,KAC5BmoC,GAAWggE,EAAiBjoG,IAClC91D,KAAKmlE,MAAMtsD,SAASqlB,IAChBA,EAAKs8H,SAAWz+C,EAAUuhD,EAC1Bp/H,EAAKu8H,SAAW18D,EAAUw/D,CAAM,GAExC,EC7SJ,IAAItuI,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAaA,MAAM69I,WAAiCr8B,GACnCp2H,cACI+jB,SAASzsB,WACT7C,KAAKirI,MAAO,CAChB,EAEJh8G,GAAW,CACPmgF,GAASiB,KACV2tD,GAAyBh1J,UAAW,YAAQ,GACxC,MAAMi1J,WAA4BtxB,GACrCphI,YAAYs0G,GACRvwF,MAAMuwF,EAAW,IAAImP,IAGrBhvH,KAAKk+J,UAAY,IAAIlvC,GACrBhvH,KAAKqjI,YAAc,CACf70H,EAAG,EACHo5E,EAAG,GAEP5nF,KAAK4mB,KAAO,IAAI66G,GAChBzhI,KAAKwlH,MAAQ,IAAIw4C,GAKjBh+J,KAAKm+J,WAAa,sBAClBn+J,KAAK6sI,yBAA0B,EAC/B,MAAM,cAAEtK,EAAa,eAAEC,EAAc,cAAEG,EAAa,UAAEu7B,EAAS,MAAE/2E,GAAUnnF,KAC3EmnF,EAAM6oC,aAAe,GACrB7oC,EAAM4oC,aAAoC,EAArB5oC,EAAM6oC,aAC3BhwH,KAAKmmB,MAAQghE,EAAMhhE,MAAM7jB,QACzBtC,KAAKikI,eACLi6B,EAAUnuC,aAAe,EACzBmuC,EAAUluC,aAAe,EACzBhwH,KAAKo+J,kBAAoBjwC,GAAUlrE,OAAO0/E,EAAetX,IACzDrrH,KAAKq+J,kBAAoBlwC,GAAUlrE,OAAOs/E,EAAelX,IACzDrrH,KAAKs+J,mBAAqBnwC,GAAUlrE,OAAOs/E,EAAelX,IAC1DrrH,KAAK21I,eAAiBxnB,GAAUlrE,OAAOu/E,EAAgBxoF,GAC3D,CACAuqF,cACI,MAAQp+G,MAAOq+G,EAAIjB,aAAckB,EAAE,MAAEt9C,GAAUnnF,KACzC0kI,GAAQF,EAAG,GAAKA,EAAG,KAAOC,EAAG,GAAKA,EAAG,IACrC7rE,EAAQ8rE,EAAOD,EAAG,GAClBp+G,EAAQm+G,EAAG,GAAK5rE,EACtB54D,KAAKk+J,UAAU/3I,MAAQghE,EAAMhhE,MAAQ,CAACE,EAAOA,EAAQq+G,GACrD1kI,KAAKu+J,gBACT,CACAA,iBACI,IAAIjlJ,EACJ,MAAMjU,EAAIrF,KAAKmnF,MACThhE,EAAQ9gB,EAAE2tG,OAAO1xG,OAAS,CAAC+D,EAAEsqH,QAAQtqH,EAAE2tG,OAAO,IAAK3tG,EAAEsqH,QAAQtqH,EAAE2tG,OAAO3tG,EAAE2tG,OAAO1xG,OAAS,KAAO+D,EAAE8gB,MACjGm9G,EAAStjI,KAAKw+J,eACd1hE,EAAa98F,KAAK88F,WACpBwmC,GACAA,EAAOt/C,OAAOt5E,KAAKw9E,IAAI/hE,EAAM,GAAKA,EAAM,IAAKm9G,EAAOl8C,MAAQ0V,GAAapyF,KAAK2G,IAAI8U,EAAM,GAAIA,EAAM,KAAO,IAA6B,QAAtB7M,EAAKjU,EAAEwqH,iBAA8B,IAAPv2G,EAAgBA,EAAK,GAAK,GAAIgqH,EAAOl8C,MAAQ0V,EAAY32E,EAAM,GAAKA,EAAM,GAAK,EAErO,CACI22E,iBACA,OAA6B,IAAtB98F,KAAKwlH,MAAM5oB,QACtB,CAIIgpC,eAAWxkI,IAENpB,KAAKyjI,cAAgBriI,IAAYpB,KAAKyjI,aAAeriI,KACtDpB,KAAKo+J,kBAAkBthJ,QACvB9c,KAAK21I,eAAe74H,SAExB9c,KAAKyjI,YAAcriI,CACvB,CACIwkI,iBACA,OAAO5lI,KAAKyjI,WAChB,CACAsD,kBACI,IAAIztH,EACJ,MAAM,UAAE4nG,EAAS,YAAE0rB,GAAgB5sI,KAC7BktI,EAAU,GAChB,IAAIuxB,EACJ7xB,EACKlzH,QAAQrU,GAAMA,EAAEipF,UAChBz1E,SAASwlG,IACV,GAAI6C,IAAcpO,GAAmBsM,EACjC,QAAmBr9G,IAAf08J,EAA0B,CAE1B,MAAMzrD,EAASqL,EAAOnK,UAAUgN,GAChCgsB,EAAQv9H,KAAKqjG,GACbyrD,EAAkC,kBAAdzrD,EAAO,EAC/B,MACSyrD,GAELvxB,EAAQv9H,KAAK0uG,EAAOnK,UAAUgN,SAIlCgsB,EAAQv9H,KAAK0uG,EAAOnK,UAAUgN,GAClC,IAEJ,MAAMlO,GAAS,IAAIrmG,OAAQ6C,UAAU09H,GAC/Bx0H,EAAmC,QAAzBY,EAAK+5F,GAAOL,UAA4B,IAAP15F,EAAgBA,EAAK05F,EACtEhzG,KAAKm1G,WAAan1G,KAAKotI,oBAAoB10H,GAC3C1Y,KAAKmnF,MAAM6rB,OAAShzG,KAAKm1G,UAC7B,CACAi4B,oBAAoBj+G,GAEhB,MAAMzW,EAASyW,EAAEzV,QAAO,CAACrU,EAAGzB,EAAGyW,IAAQA,EAAI5Y,QAAQ4D,KAAOzB,IACpD86J,EAAWtD,GAAY1iJ,GAC7B1Y,KAAKw+J,eAAiBvB,GAAWyB,GACjC,MAAMC,EAAkBjmJ,EAAOpW,QAI/B,OAHAq8J,EAAgBhvJ,KAAK,IACrB3P,KAAKk+J,UAAUlrD,OAAS2rD,EACxB3+J,KAAKu+J,iBACE7lJ,CACX,CAcAgY,OAAOo1G,GACH9lI,KAAK+sI,kBACL/sI,KAAK+mI,kBACL/mI,KAAKukI,cACL,MAAM,MAAEp9C,EAAK,MAAEq+B,EAAOA,OAAO,SAAEya,GAAYpgB,WAAW,cAAE+rB,GAAe,UAAEsyB,EAAW/3I,MAAOgkH,EAAc,MAAEvwB,EAAOA,OAAO,UAAE8d,EAAazsG,IAAMA,EAAE7I,eAAiB,CAAC,EAAC,cAAEohH,GAAmBxjI,KAClL4+J,EAAaz3E,EAAMhhE,MAAM,GACzB04I,EAAW13E,EAAMhhE,MAAM,GACvB24I,EAAcp0J,KAAKw9E,IAAI22E,EAAWD,GAClC/uC,EAAYivC,EAAc33E,EAAM6rB,OAAO1xG,QAAU,EACjDkpF,EAAWyO,GAAUj5F,KAAKwqF,UAC1Bu0E,EAAer0J,KAAKw9E,IAAIx9E,KAAKygF,IAAIX,IAAa,KAC9C+1C,EAAW/a,EAAMyc,cACvBjiI,KAAKimI,eAAe,CAAEz7C,WAAU+1C,aAGhCiD,EAActlG,KAAKowD,SAAU,EAC7B,MAAMwO,EAAa98F,KAAK88F,WAElB0hE,EAAiBx+J,KAAKw+J,eACtB74C,EAASx+B,EAAMuoC,QACfsvC,EAAaR,EAAiBA,EAAer5F,MAAQ,GACrD85F,IAAcT,GAAiBA,EAAep3E,MAAQ,EACtDsoC,EAAQwuC,EAAUxuC,SAUlB,gBAAEsQ,EAAe,mBAAEH,EAAkB,iBAAEC,GAAqBJ,GAAuB,CACrFl1C,SAAUg7B,EAAMh7B,SAChBy1C,WACAL,oBAAqB/mC,GAAkBrO,EAAW9/E,KAAKkuF,GAAK,GAC5D+mC,qBAAsB9mC,GAAkBrO,KAEtC4zE,EAAoBp+J,KAAKo+J,kBAAkB1tI,OAAO1wB,KAAK4lI,WAAalW,EAAQ,IAC5EimB,EAAiB31I,KAAK21I,eAAejlH,OAAOsuI,GAC5C35B,EAAiB7f,EAAMkS,UACvBwnC,EAAc,IAAIlnJ,IACxB,IAAImnJ,EAAoB,EACxBxpB,EAAepnB,MAAK,CAACrwF,EAAMuwD,EAAOltF,KAC9B,IAAI+X,EACJ4kB,EAAKqjE,UAAYikB,EAAMjkB,UACvBrjE,EAAKsjE,WAAagkB,EAAMhkB,WACxBtjE,EAAK0+D,SAAW4oB,EAAM5oB,SACtB1+D,EAAK2+D,WAAa2oB,EAAM3oB,WACxB3+D,EAAKsC,KAAOglF,EAAMzrB,MAClB77D,EAAKwoD,cAAqC,IAAtBo5C,EAA0B,SAAW,UACzD5hG,EAAKyoD,UAAY,SACjBzoD,EAAKusD,aAAegE,EAAMgsE,QAA2B,IAAjBj1C,EAAM5oB,SAC1C1+D,EAAKwsD,aAAe+D,EAAM+rE,QACZ,IAAVj5J,GAEe,OAAVq4G,QAA4B,IAAVA,OAAmB,EAASA,EAAMhlF,UAAY+wF,EAAOrkH,OAAS,GACjF48B,EAAKowD,SAAU,EACfpwD,EAAK0nB,KAAOgmF,EAAcpiI,KAAKkuH,EAAW13H,KAAKmsI,2BAC/CjuG,EAAK0+D,SAAWgd,EAAMhd,SACtB1+D,EAAKqjE,UAAYqY,EAAMrY,UACvBrjE,EAAKsjE,WAAaoY,EAAMpY,WACxBtjE,EAAK2+D,WAAa+c,EAAM/c,WACxB3+D,EAAKwoD,aAAe,WAGpBxoD,EAAKowD,SAAU,EAGd+2C,GACLnnG,EAAK0nB,KAIO,QAHPtsC,EAAKsyH,EAAcpiI,KAAK67H,EAAgB,CACrCjkI,MAAOb,OAAOkuF,EAAM+2B,OACpBjkH,iBACmB,IAAP+X,EAAgBA,EAAK/Y,OAAOkuF,EAAM+2B,OACtDtnF,EAAKowD,QAAUG,EAAM+rE,SAAWrwB,EAAe,IAAM17C,EAAM+rE,SAAWrwB,EAAe,KAGrFjsG,EAAK0nB,KAAOrlD,OAAOkuF,EAAM+2B,OACzBtnF,EAAKowD,QAAUG,EAAM+rE,SAAWrwB,EAAe,IAAM17C,EAAM+rE,SAAWrwB,EAAe,IAEzF,MAAMljD,EAAO/oD,EAAK6xD,cAClBmvE,EAAYvzJ,IAAIuyB,EAAKlsB,GAAIi1E,GACrBA,EAAKhE,MAAQk8E,IACbA,EAAoBl4E,EAAKhE,MAC7B,IAEJ,MAAM69C,EAASP,EAAW/a,EAAM9B,QAC1B07C,EAAYp/J,KAAKwlH,MAAMylB,KACvBo0B,EAAgB,GACtB1pB,EAAepnB,MAAK,CAAC/I,EAAO/2B,EAAOltF,KAG/B,GAFAikH,EAAMh3G,EAAIsyH,EACVtb,EAAMj6B,gBAAkBu1C,EACnBryC,EAAM/1D,SAASp3B,OASf,CACDkkH,EAAM/6B,cAAgB00E,EAAoBriE,EAAa98F,KAAKwlH,MAAM9B,QAClE,MAAM+P,EAAiBhlC,EAAMisE,UAAY7qC,EACnC5oC,EAAOi4E,EAAYt6J,IAAI4gH,EAAMxzG,IAC/Bi1E,GAAQA,EAAKhE,MAAQwwC,EACrBjO,EAAMl3B,SAAU,EAGhBk3B,EAAMh7B,SADDu0E,EACY/+B,GAGCt1H,KAAKkuF,GAAK,CAEpC,KAtB4B,CACxB4sB,EAAMh7B,SAAWq1C,EACjBra,EAAM7+B,UAAY,MAClB6+B,EAAM9+B,aAAe,SACrB,MAAMO,EAAOi4E,EAAYt6J,IAAI4gH,EAAMxzG,IAC/Bi1E,GAAQA,EAAKt3D,OAASkgG,IACtBrK,EAAMl3B,SAAU,EAExB,CAiBA,GAAIG,EAAM95E,QAAUsqJ,EAAa,CAC7B,MAAMr3E,EAAK6G,EAAM/1D,SAASp3B,OAEpBmtF,EAAM+rE,QAAW/rE,EAAMisE,UAAY7qC,EAAa,EADhDphC,EAAM+rE,QAAU3qC,EAAY,EAElC,GAAKphC,EAAM/1D,SAASp3B,OAUf,CACD,MAAMkN,GAAK2wJ,EAAyC,EAArBn/J,KAAKwlH,MAAM9B,QAAcj1B,EAAMgsE,QAC9D4E,EAAc1vJ,KAAK,CACfi4E,IACAyhC,GAAI76G,EAAIsuF,EACR+nB,GAAIr2G,EACJpM,SAAUA,IAAM7B,OAAOgB,IAE/B,MAjBQktF,EAAMh9E,SAAWg9E,EAAM/1D,SAASp3B,OAAS,GAAK89J,IAC9CC,EAAc1vJ,KAAK,CACfi4E,IACAyhC,GAAI,EACJxE,IAAKs6C,EAAyC,EAArBn/J,KAAKwlH,MAAM9B,QACpCthH,SAAUA,IAAM7B,OAAOgB,IAavC,KAGJ,IAAI+9J,EAAO,EACXD,EAAcxmJ,SAASsW,GAAOmwI,EAAO50J,KAAK2G,IAAIiuJ,EAAMnwI,EAAE01F,MACtDw6C,EAAc1vJ,KAAK,CACfi4E,EAAGl9E,KAAK0G,IAAIwtJ,EAAYC,GACxBx1C,GAAI,EACJxE,GAAIy6C,EACJl9J,SAAUA,IAAM7B,OAAO8+J,EAAc/9J,UAEzC,MAAMg9J,EAAqBt+J,KAAKs+J,mBAAmB5tI,OAAO2uI,GACpD9uC,EAAU,KAChB+tC,EAAmB/vC,MAAK,CAAC3nG,EAAM6nE,KAC3B7nE,EAAKyiG,GAAK56B,EAAM46B,GAChBziG,EAAKi+F,GAAKp2B,EAAMo2B,GAChBj+F,EAAK0iG,GAAK76B,EAAM7G,EAChBhhE,EAAKk+F,GAAKr2B,EAAM7G,EAChBhhE,EAAK0nE,QAAUG,EAAM7G,GAAKuiD,EAAe,GAAK5Z,GAAW9hC,EAAM7G,GAAKuiD,EAAe,GAAK5Z,EACxF3pG,EAAK0zE,OAASt6F,KAAKmjI,KAAKppC,MACxBnzE,EAAK4Z,UAAOz+B,EACZ6kB,EAAK2zE,YAAc,CAAC,IAExBv6F,KAAKo+J,kBAAoBA,EACzBp+J,KAAK21I,eAAiBA,EAEtB,MAAM4pB,EAAYf,EAAiBA,EAAep3E,MAAQ,EAAI,EACxD7gE,EAAQ,GACd,IAAK,IAAI3iB,EAAI,EAAGA,EAAI27J,EAAW37J,IAC3B2iB,EAAM5W,KAAK/L,GAEf,MAAMy6J,EAAoBr+J,KAAKq+J,kBAAkB3tI,OAAOnK,GAWxD,GAVA83I,EAAkB9vC,MAAK,CAAC3nG,EAAM7B,EAAGxjB,KAC7B,MAAMiN,EAAIjN,EAAQ,GAAK49J,EAAyC,EAArBn/J,KAAKwlH,MAAM9B,SAAeniH,EAAQ,GAAKu7F,EAAa,EAC/Fl2E,EAAKyiG,GAAK76G,EACVoY,EAAKi+F,GAAKr2G,EACVoY,EAAK0iG,GAAK6gB,EAAe,GACzBvjH,EAAKk+F,GAAKqlB,EAAe,GACzBvjH,EAAK2zE,YAAcv6F,KAAK4mB,KAAKq8D,MAC7Br8D,EAAK0zE,OAASt6F,KAAK4mB,KAAKmzE,MACxBnzE,EAAK0nE,QAAUq3B,EAAOrkH,OAAS,IAAgB,IAAVC,GAAgB69J,GAAaH,EAAa,IAE/Ej/J,KAAK4lI,WAAY,CACjB,MAAM92E,EAAS9uD,KAAK0jI,UACdsH,EAAal8E,EAAOxtD,OAC1B88J,EAAkB7vC,MAAK,CAAC3nG,EAAM6nE,EAAOltF,KACjC,MAAMqmF,EAAIl9E,KAAK86E,MAAM04E,EAAUvuC,QAAQlhC,IACvC7nE,EAAKyiG,GAAK,EACVziG,EAAKi+F,IAAM0b,EAAWvgI,KAAK4lI,WAC3Bh/G,EAAK0iG,GAAK1hC,EACVhhE,EAAKk+F,GAAKl9B,EACVhhE,EAAK0nE,QAAU1G,GAAKuiD,EAAe,IAAMviD,GAAKuiD,EAAe,GAC7D,MAAMpiH,EAAQ+mC,EAAOvtD,EAAQypI,GAC7BpkH,EAAK0zE,OAASvyE,EAAMuyE,OACpB1zE,EAAK2zE,YAAcv6F,KAAKmjI,KAAKlgD,MAC7Br8D,EAAK4zE,SAAWzyE,EAAMyyE,SACtB5zE,EAAK4Z,UAAOz+B,CAAS,GAE7B,CACA,OAAO+jI,CACX,EAEJm4B,GAAoB5zG,UAAY,sBAChC4zG,GAAoB1xJ,KAAO,kBAC3B0iB,GAAW,CACPmgF,GAAS8B,KACV+sD,GAAoBj1J,UAAW,kBAAc,GChWhD,IAAIwrF,GAAwC,SAAUt3E,EAASu3E,EAAYlqF,EAAGmqF,GAC1E,SAASC,EAAMvzF,GAAS,OAAOA,aAAiBmJ,EAAInJ,EAAQ,IAAImJ,GAAE,SAAUokB,GAAWA,EAAQvtB,EAAQ,GAAI,CAC3G,OAAO,IAAKmJ,IAAMA,EAAImkB,WAAU,SAAUC,EAASuY,GAC/C,SAAS0tD,EAAUxzF,GAAS,IAAMo/E,EAAKkU,EAAUj3E,KAAKrc,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC1F,SAASwpE,EAASzzF,GAAS,IAAMo/E,EAAKkU,EAAU,SAAStzF,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC7F,SAASm1D,EAAKv9E,GAAUA,EAAOya,KAAOiR,EAAQ1rB,EAAO7B,OAASuzF,EAAM1xF,EAAO7B,OAAO+iB,KAAKywE,EAAWC,EAAW,CAC7GrU,GAAMkU,EAAYA,EAAUhrF,MAAMwT,EAASu3E,GAAc,KAAKh3E,OAClE,GACJ,EAOA,MAAM0hG,GAAa,CAAC,MAAO,QAAS,SAAU,QACvC,MAAMqgD,WAAuBvN,GAChC1mJ,YAAYzG,EAAW8F,OAAO9F,SAAUs+E,EAA0B8uE,GAC9D5iI,MAAMxqB,EAAUs+E,EAA0B8uE,GAE1ClyJ,KAAKy/J,QAAS,EACdz/J,KAAK0/J,gBAAkB,CACnB5pG,IAAK,EACL2yB,OAAQ,EACR7yB,KAAM,EACNsD,MAAO,GAEXl5D,KAAK2/J,gBAAkB,CACnBz7B,YAAY,EACZ7lB,QAAQ,EAEhB,CACAquC,gBACI,MAAMh/H,EAAS7rB,OAAOohB,OAAO,KAAM,CAC/BypI,cAAe,CAAE9nJ,IAAKA,IAAM0qB,MAAMo9H,iBAEtC,OAAOl4D,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAMyjJ,QAAmB/1H,EAAOg/H,cAAcljJ,KAAKxJ,OAC7C,WAAE80I,EAAU,WAAE/uD,EAAU,WAAE65E,GAAe5/J,KAAK6/J,WAAWpc,GAC/DzjJ,KAAKsyJ,WAAWhkE,QAAUvI,EAAWs4B,OACrCr+G,KAAK80I,WAAaA,EAClB90I,KAAKq+G,OAAOxlG,SAASwlG,IACjBA,EAAOa,UAAUz0B,aAAe//E,KAAK4D,MAAMwmI,EAAWtmI,GACtD6vG,EAAOa,UAAUx0B,aAAehgF,KAAK4D,MAAMwmI,EAAWltD,EAAE,IAE5D,MAAM,WAAE0qE,EAAU,kBAAEzuB,GAAsB7jI,KACpC8/J,EAAmBhrB,EAAWnvG,QAAQ2iD,KAAKu7C,GAC3Ck8B,EAAmB,GACnBtH,EAAYqH,EAAiBn6H,QAAQ2iD,KAAKy3E,GAchD,OAbA//J,KAAKy4J,UAAYA,EACjBz4J,KAAKksJ,cAAcxI,uBAAuB,CACtCn3I,KAAM,kBACNujB,MAAO,CAAEmzD,MAAOjjF,KAAKkyF,MAAMjP,MAAOtzD,OAAQ3vB,KAAKkyF,MAAMviE,QACrD0uF,OAAQ,CAAEsN,KAAMmpB,EAAYkrB,WAAYF,EAAkBrH,YAAWnqE,QAASvI,EAAWs4B,QACzF02C,KAAM/0J,KAAK+0J,KAAKp7I,KAAK6pG,GAAU3hH,OAAO6hB,OAAO,CAAE1R,GAAIwxG,EAAKxxG,IAAMwxG,EAAK6pB,sBAEnEuyB,EACAtN,EAAWp+D,kCAAkC4rE,GAG7CxN,EAAWp+D,oCAERuvD,CACX,GACJ,CACAoc,WAAWI,GACP,IAAI3mJ,EAGJ,MAAM4mJ,EAAar+J,OAAO6hB,OAAO,CAAC,EAAG1jB,KAAK0/J,iBACpC35E,EAAalkF,OAAO6hB,OAAO,CAAC,EAAG1jB,KAAK2/J,iBAGpCQ,EAAiB,IAAIpqJ,IAAI/V,KAAKkzJ,MAAMv5I,KAAK5O,GAAMA,EAAE64E,YACvD,IAAK,MAAMA,KAAY/hF,OAAO6B,KAAKw8J,GAC1BC,EAAev0J,IAAIg4E,WACbs8E,EAAWt8E,GAG1B,MAAMw8E,EAAgBA,CAACC,EAAiBC,KAEhCz+J,OAAO6B,KAAK28J,GAAiBjoI,MAAMqgB,GAAuB,MAAjBynH,EAAWznH,OAGhDstC,EAAWm+C,aAAeo8B,EAAgBp8B,YAC9Cn+C,EAAWs4B,SAAWiiD,EAAgBjiD,QAEtCx8G,OAAO6nB,QAAQw2I,GAAYn7H,OAAM,EAAE9Z,EAAGjV,MAClC,MAAMuqJ,EAASF,EAAgBp1I,GAC/B,OAAS,MAALjV,GAAuB,MAAVuqJ,GACNvqJ,IAAMuqJ,CAEN,KAGjBC,EAAcC,GACT5+J,OAAO6nB,QAAQ+2I,GAAS92I,QAAO,CAAC+2I,GAAM39J,EAAK3B,MAC1CA,GAASsJ,KAAKw9E,IAAI9mF,KAAW+yB,MAC7B/yB,EAAQ,GAEZs/J,EAAI39J,GAAgB,MAAT3B,EAAgBsJ,KAAK2D,KAAKjN,GAASA,EACvCs/J,IACR,CAAC,GAKR,IAAIC,EAAqB,CAAC,EACtBC,EAAqB,CAAC,EACtBhB,GAAa,EACb9qB,EAAwC,QAA1Bx7H,EAAKtZ,KAAK80I,kBAA+B,IAAPx7H,OAAgB,EAASA,EAAGqsB,QAC5Ejf,EAAQ,EACZ,EAAG,CACC7kB,OAAO6hB,OAAOw8I,EAAYS,GAC1B9+J,OAAO6hB,OAAOqiE,EAAY66E,GAC1B,MAAM39J,EAASjD,KAAK6gK,eAAeX,EAAYD,EAAgBt6H,QAASmvG,GAKxE,GAJA6rB,EAAqBH,EAAWv9J,EAAOi9J,YACvCU,EAAqB39J,EAAO8iF,WAC5B65E,EAAa38J,EAAO28J,WACpB9qB,EAAa7xI,EAAO6xI,WAChBpuH,IAAU,GAAI,CACd8qE,GAAOrgE,KAAK,sCACZ,KACJ,CACJ,QAAUivI,EAAcO,EAAoBC,IAC5C,MAAME,EAAkB,EAqBxB,OApBA9gK,KAAK+0J,KAAKl8I,SAAS2qG,IAGf,GADAA,EAAKohB,qBAAqB7+C,EAAWm+C,YAChC4Q,EAIL,OADAtxB,EAAK8oB,SAASwI,EAAWtmI,EAAGsmI,EAAWltD,EAAGktD,EAAW7xD,MAAQ69E,EAAiBhsB,EAAWnlH,OAASmxI,GAC1Ft9C,EAAK5/B,UACT,IAAK,OACL,IAAK,QACD4/B,EAAK6oB,cAAc4zB,EAAgBzxJ,EAAGsmI,EAAWltD,EAAGq4E,EAAgBh9E,MAAQ69E,EAAiBhsB,EAAWnlH,OAASmxI,GACjH,MACJ,IAAK,MACL,IAAK,SACDt9C,EAAK6oB,cAAcyI,EAAWtmI,EAAGyxJ,EAAgBr4E,EAAGktD,EAAW7xD,MAAQ69E,EAAiBb,EAAgBtwI,OAASmxI,GACjH,MACR,IAEJ9gK,KAAK0/J,gBAAkBQ,EACvBlgK,KAAK2/J,gBAAkB55E,EAChB,CAAE+uD,aAAY/uD,aAAY65E,aACrC,CACAiB,eAAeX,EAAYx6C,EAAQq7C,GAC/B,MAAM,KAAEhM,GAAS/0J,KACXghK,EAAU,CAAC,EACXC,EAAgB,CAAC,EACjBl7E,EAAa,CACfs4B,QAAQ,EACR6lB,YAAY,GAEhB,IAAI07B,GAAa,EACjB,MAAMsB,EAAoB,CAAC,EACrBC,EAAenhK,KAAKohK,mBAAmB17C,GACvC27C,EAAmBN,EAAqB/gK,KAAKshK,sBAAsBpB,GAAc,CAAC,EAClFqB,EAAYvhK,KAAKwhK,eAAeL,EAAcjB,EAAYmB,EAAkBt7E,GAC5E+uD,EAAa90I,KAAKyhK,gBAAgBF,EAAWrB,GA4BnD,OAzBAnL,EAAKl8I,SAAS2qG,IACV,IAAIlqG,EAAIqb,EACR,MAAM,SAAEivD,GAAa4/B,GACbo8C,WAAY8B,EAAa,cAAEC,EAAa,WAAEC,GAAgB5hK,KAAK6hK,wBAAwB,CAC3Fr+C,OACAsxB,aACAqsB,eACAjB,aACAe,gBACAC,oBACAtB,aACAkC,qBAAmD,QAA5BxoJ,EAAK0nJ,EAAQp9E,UAA8B,IAAPtqE,EAAgBA,EAAK,GAAK,IAEzF0nJ,EAAQp9E,IAA0C,QAA5BjvD,EAAKqsI,EAAQp9E,UAA8B,IAAPjvD,EAAgBA,EAAK,GAAK,EACpFirI,EAAaA,GAAc8B,EAC3B1hK,KAAK+hK,aAAa,CACdv+C,OACA+9C,YACAK,aACAD,gBACAzB,aACAgB,oBACApsB,cACF,IAEC,CAAE8qB,aAAY9qB,aAAYorB,WAAYe,EAAel7E,aAChE,CACAu7E,sBAAsBpB,GAClB,IAAI5mJ,EACJ,MAAM+nJ,EAAmB,CAAC,EAC1BrhK,KAAK+0J,KAAKl8I,SAAS2qG,IACXA,EAAK0gB,YACL1gB,EAAK0gB,WAAWrrH,SAASsrH,IACrBA,EAAUxgB,iBAAiB09C,EAAiB,GAEpD,IAGJ,IAAK,MAAOW,EAAMt+C,EAAU,KAAM7hH,OAAO6nB,QAAQ23I,GAC7CA,EAAiBW,GAAQt3J,KAAK0G,IAAIsyG,GAAuC,QAA3BpqG,EAAK4mJ,EAAW8B,UAA0B,IAAP1oJ,EAAgBA,EAAK,GAAI,GAE9G,OAAO+nJ,CACX,CACAD,mBAAmB17C,GACf,MAAMs6C,EAAat6C,EAAO//E,QACpBs8H,EAAejiK,KAAK+0J,KAAKzyJ,QAAQ23H,UAWvC,OAVA9a,GAAWtmG,SAAS0oB,IAChB,MAAMmiF,EAAU1jH,KAAK6jI,kBAAkBtiG,GACjCiiF,EAAOy+C,EAAah7F,MAAMu8C,GAASA,EAAK5/B,WAAariD,IACvDiiF,EACAA,EAAKqgB,kBAAoBngB,EAGzBs8C,EAAW73E,OAAOu7B,EAASniF,EAC/B,IAEGy+H,CACX,CACAwB,eAAe97C,EAAQw6C,EAAYmB,EAAkBt7E,GACjD,IAAIzsE,EAAIqb,EAAI2C,EAAIH,EAChB,MAAMl0B,EAASyiH,EAAO//E,SAChB,IAAEmwB,EAAM,EAAC,MAAEoD,EAAQ,EAAC,OAAEuvB,EAAS,EAAC,KAAE7yB,EAAO,GAAMyrG,EAC/Ca,EAAoBtsG,EAAOsD,EAC3BipG,EAAkBrsG,EAAM2yB,EACxB25E,GAAyC,QAA1B9oJ,EAAK4mJ,EAAWtqG,YAAyB,IAAPt8C,EAAgBA,EAAK,IAAkC,QAA3Bqb,EAAKurI,EAAWhnG,aAA0B,IAAPvkC,EAAgBA,EAAK,GAAKutI,EAC1IpkE,GAAyC,QAAzBxmE,EAAK4oI,EAAWpqG,WAAwB,IAAPx+B,EAAgBA,EAAK,IAAmC,QAA5BH,EAAK+oI,EAAWz3E,cAA2B,IAAPtxD,EAAgBA,EAAK,GAAKgrI,EACjJ,OAAIl/J,EAAOggF,OAASm/E,GAAcn/J,EAAO0sB,QAAUmuE,GAE/C/X,EAAWm+C,YAAa,EACxBn+C,EAAWs4B,QAAS,EACbp7G,IAEXA,EAAOuL,GAAKonD,EACZ3yD,EAAO2kF,GAAK9xB,EACZ7yD,EAAOggF,OAASi/E,EAChBj/J,EAAO0sB,QAAUwyI,EACVl/J,EACX,CACAw+J,gBAAgBF,EAAWrB,GACvB,MAAMj9J,EAASs+J,EAAU57H,SACnB,IAAEmwB,EAAG,OAAE2yB,EAAM,KAAE7yB,EAAI,MAAEsD,GAAUgnG,EAQrC,OAPAj9J,EAAOuL,GAAc,OAATonD,QAA0B,IAATA,EAAkBA,EAAO,EACtD3yD,EAAO2kF,GAAa,OAAR9xB,QAAwB,IAARA,EAAiBA,EAAM,EACnD7yD,EAAOggF,QAAmB,OAATrtB,QAA0B,IAATA,EAAkBA,EAAO,IAAgB,OAAVsD,QAA4B,IAAVA,EAAmBA,EAAQ,GAC9Gj2D,EAAO0sB,SAAmB,OAARmmC,QAAwB,IAARA,EAAiBA,EAAM,IAAiB,OAAX2yB,QAA8B,IAAXA,EAAoBA,EAAS,GAE/GxlF,EAAOggF,MAAQv4E,KAAK0G,IAAI,EAAGnO,EAAOggF,OAClChgF,EAAO0sB,OAASjlB,KAAK0G,IAAI,EAAGnO,EAAO0sB,QAC5B1sB,CACX,CACAo/J,yBAAyBvtB,EAAY1zI,EAAOkhK,EAAWphD,GACnD,MAAM,EAAE1yG,EAAC,EAAEo5E,EAAC,MAAE3E,EAAK,OAAEtzD,GAAWmlH,EAC1BytB,EAAc,CAAC/zJ,EAAGo5E,EAAGp5E,EAAIy0E,EAAO2E,EAAIj4D,GACpCzlB,EAAmB,IAAdg3G,EAAkBx2G,KAAK2G,IAAM3G,KAAK0G,IACvCoxJ,EAAYD,GAA2B,MAAdD,EAAoB,EAAI,IAAoB,IAAdphD,EAAkB,EAAI,IACnF,OAAOh3G,EAAG9I,EAAOohK,EACrB,CACAX,wBAAwBpiF,GACpB,IAAInmE,EAAIqb,EAAI2C,EAAIH,EAAIi/E,EAAIC,EACxB,MAAM,KAAEmN,EAAI,WAAEsxB,EAAU,aAAEqsB,EAAY,WAAEjB,EAAU,cAAEe,EAAa,kBAAEC,EAAiB,oBAAEY,GAAwBriF,EAC9G,IAAI,WAAEmgF,GAAengF,EACrB,MAAM,SAAEmE,EAAQ,UAAEs9B,GAAcsC,EAC1Bi/C,EAAsBj/C,GACpBA,aAAgB2qB,IAAgB3qB,aAAgBy6C,GACzC,CAAC,EAAGnpB,EAAWnlH,QAEnB,CAACmlH,EAAWnlH,OAAQ,GAEzBiyI,EAAgD,QAAlCtoJ,EAAK2nJ,EAAcr9E,UAA8B,IAAPtqE,EAAgBA,EAAK,EACnF,OAAQsqE,GACJ,IAAK,MACL,IAAK,SACD4/B,EAAKr9F,MAAQ,CAAC,EAAG2uH,EAAW7xD,OAC5BugC,EAAKoiB,WAAakP,EAAWnlH,OAC7B,MACJ,IAAK,QACL,IAAK,OACD6zF,EAAKr9F,MAAQs8I,EAAmBj/C,GAChCA,EAAKoiB,WAAakP,EAAW7xD,MAC7B,MAER,MAAMy/E,EAA6C,QAArC/tI,EAAK30B,KAAK6zJ,YAAY5Q,iBAA8B,IAAPtuH,OAAgB,EAASA,EAAG6uF,EAAKtC,YACtF,IAAE7vG,EAAM,EAAC,IAAED,EAAM,GAAe,OAATsxJ,QAA0B,IAATA,EAAkBA,EAAO,CAAC,EACxEl/C,EAAK+f,aAAe,CAAClyH,EAAKD,IACrBwuJ,IAAep8C,EAAK+f,aAAa,GAAK,GAAK/f,EAAK+f,aAAa,GAAK,KACnEq8B,GAAa,GAEjB,IAAI95B,EAAmBtiB,EAAKgP,KAAO0uC,EAAkBhgD,QAAan/G,EAClE,MAAM4gK,EAA0B,GAC5Bn/C,EAAKsgB,UAAY,EACjBtgB,EAAKugB,aAAevgB,EAAKsgB,UAEpB5iB,IAAcpO,GAAmBuM,EACtCmE,EAAKugB,aAAeo9B,EAAal+E,MAAQ0/E,EAGzCn/C,EAAKugB,aAAeo9B,EAAaxxI,OAASgzI,EAE9C78B,EAAmBtiB,EAAK9yF,OAAOo1G,GAC/Bo7B,EAAkBhgD,GAAqD,QAAvC5pF,EAAK4pI,EAAkBhgD,UAA+B,IAAP5pF,EAAgBA,EAAKwuG,EACpG,IAAI67B,EAAgB,EACpB,GAAIn+C,EAAKsgB,UACL69B,EAAgBn+C,EAAKsgB,cAEpB,CACD,MAAM78C,EAAOu8B,EAAKzzB,cAClB4xE,EAAgBzgD,IAAcpO,GAAmBsM,EAAIn4B,EAAKt3D,OAASs3D,EAAKhE,KAC5E,CAEA,MAAM2/E,EAAc,GAOpB,OANId,IACAH,GAAiBiB,GAErBjB,EAAgBj3J,KAAK2D,KAAKszJ,GAC1BV,EAAcr9E,IAAgD,QAAlCzsD,EAAK8pI,EAAcr9E,UAA8B,IAAPzsD,EAAgBA,EAAK,GAAKwqI,EAChGn+C,EAAKogB,aAA+C,QAA/BxtB,EAAK8pD,EAAWt8E,UAA8B,IAAPwyB,EAAgBA,EAAK,IAAyC,QAAlCC,EAAK4qD,EAAcr9E,UAA8B,IAAPyyB,EAAgBA,EAAK,GAChJ,CAAEupD,aAAY+B,gBAAeC,aACxC,CACAG,aAAatiF,GACT,IAAInmE,EAAIqb,EAAI2C,EAAIH,EAChB,MAAM,KAAEqsF,EAAI,UAAE+9C,EAAS,WAAErB,EAAU,WAAEprB,EAAU,WAAE8sB,EAAU,cAAED,GAAkBliF,GACzE,SAAEmE,GAAa4/B,EACrB,OAAQ5/B,GACJ,IAAK,MACD4/B,EAAK6f,YAAY70H,EAAI+yJ,EAAU/yJ,GAAgC,QAA1B8K,EAAK4mJ,EAAWtqG,YAAyB,IAAPt8C,EAAgBA,EAAK,GAC5FkqG,EAAK6f,YAAYz7C,EAAI5nF,KAAKqiK,yBAAyBvtB,EAAYysB,EAAU35E,EAAI,EAAIg6E,EAAaD,EAAe,IAAK,GAClH,MACJ,IAAK,SACDn+C,EAAK6f,YAAY70H,EAAI+yJ,EAAU/yJ,GAAgC,QAA1BmmB,EAAKurI,EAAWtqG,YAAyB,IAAPjhC,EAAgBA,EAAK,GAC5F6uF,EAAK6f,YAAYz7C,EAAI5nF,KAAKqiK,yBAAyBvtB,EAAYysB,EAAU35E,EAAI25E,EAAU5xI,OAAS,EAAIgyI,EAAgBC,EAAY,KAAM,GACtI,MACJ,IAAK,OACDp+C,EAAK6f,YAAYz7C,EAAI25E,EAAU35E,GAA+B,QAAzBtwD,EAAK4oI,EAAWpqG,WAAwB,IAAPx+B,EAAgBA,EAAK,GAC3FksF,EAAK6f,YAAY70H,EAAIxO,KAAKqiK,yBAAyBvtB,EAAYysB,EAAU/yJ,EAAIozJ,EAAaD,EAAe,IAAK,GAC9G,MACJ,IAAK,QACDn+C,EAAK6f,YAAYz7C,EAAI25E,EAAU35E,GAA+B,QAAzBzwD,EAAK+oI,EAAWpqG,WAAwB,IAAP3+B,EAAgBA,EAAK,GAC3FqsF,EAAK6f,YAAY70H,EAAIxO,KAAKqiK,yBAAyBvtB,EAAYysB,EAAU/yJ,EAAI+yJ,EAAUt+E,MAAQ0+E,EAAgBC,EAAY,KAAM,GACjI,MAERp+C,EAAKyiB,eAAe,CAAEz7C,SAAUyO,GAAUuqB,EAAKh5B,UAAW+1C,SAAU/c,EAAKgC,MAAMyc,eACnF,EAEJu9B,GAAen1G,UAAY,iBAC3Bm1G,GAAejzJ,KAAO,YC1Vf,MAAMs2J,WAAoB5jD,GAC7B1zG,aAAY,UAAEs0G,EAAS,cAAEE,GAAgB,EAAK,UAAEC,EAAY,CAACpC,GAAmB2E,qBAC5EjzF,MAAM,CACFuwF,YACAE,gBACAC,YACAE,cAAe,CACX,CAACpN,GAAmBsM,GAAI,CAAC,YACzB,CAACtM,GAAmBuM,GAAI,CAAC,cAE7Bc,eAAgB,CACZ,CAACrN,GAAmBsM,GAAI,CAAC,aACzB,CAACtM,GAAmBuM,GAAI,CAAC,iBASjCr/G,KAAK6wH,QAAU,EACf7wH,KAAK8wH,QAAU,EAMf9wH,KAAK+wH,OAAS,CAClB,CACA2nB,eACI,MAAO,EACX,CACAoqB,kBAAkBC,EAAUC,GACxB,OAAO,IACX,ECpCG,SAASC,GAAgBz0J,EAAGo5E,EAAGs7E,GAClC,MAAMnyC,EAASrmH,KAAK8uF,KAAK9uF,KAAKs5F,IAAIx1F,EAAG,GAAK9D,KAAKs5F,IAAIpc,EAAG,KAChD,YAAEu7E,EAAW,YAAEC,GAAgBF,EACrC,GAAInyC,EAASrmH,KAAK2G,IAAI8xJ,EAAaC,IAAgBryC,EAASrmH,KAAK0G,IAAI+xJ,EAAaC,GAC9E,OAAO,EAIX,IAAIhqE,EAAQ1uF,KAAKgvF,MAAM9R,EAAGp5E,GACtB4qF,GAAS1uF,KAAKkuF,GAAK,IACnBQ,GAAS,EAAI1uF,KAAKkuF,IAGtB,MAAM,WAAEsxB,EAAU,SAAEC,GAAa+4C,EACjC,OAAI/4C,KAAcz/G,KAAKkuF,GAAK,EACjBQ,EAAQ8wB,EAEfA,IAAgB,EAAIx/G,KAAKkuF,GAAM,EACxBQ,EAAQ+wB,EAEZ/wB,GAAS+wB,GAAY/wB,GAAS8wB,CACzC,CACA,SAASm5C,GAAmBz8I,EAAMs8I,GAC9B,MAAM,WAAEh5C,EAAU,SAAEC,EAAQ,YAAEg5C,EAAW,YAAEC,GAAgBF,EACrDI,EAAa,CAAE90J,EAAG40J,EAAc14J,KAAKygF,IAAI++B,GAAatiC,EAAGw7E,EAAc14J,KAAK0gF,IAAI8+B,IAChFq5C,EAAW,CAAE/0J,EAAG40J,EAAc14J,KAAKygF,IAAIg/B,GAAWviC,EAAGw7E,EAAc14J,KAAK0gF,IAAI++B,IAC5EthD,EAA6B,IAAhBs6F,EACb,CAAE30J,EAAG,EAAGo5E,EAAG,GACX,CAAEp5E,EAAG20J,EAAcz4J,KAAKygF,IAAI++B,GAAatiC,EAAGu7E,EAAcz4J,KAAK0gF,IAAI8+B,IACnEphD,EAA2B,IAAhBq6F,EACX,CAAE30J,EAAG,EAAGo5E,EAAG,GACX,CAAEp5E,EAAG20J,EAAcz4J,KAAKygF,IAAIg/B,GAAWviC,EAAGu7E,EAAcz4J,KAAK0gF,IAAI++B,IACvE,OAA2I,MAAnIlC,GAAoBrhG,EAAKP,MAAM7X,EAAGoY,EAAKP,MAAMuhE,EAAGhhE,EAAKN,IAAI9X,EAAGoY,EAAKN,IAAIshE,EAAG07E,EAAW90J,EAAG80J,EAAW17E,EAAG/e,EAAWr6D,EAAGq6D,EAAW+e,IACN,MAA3HqgC,GAAoBrhG,EAAKP,MAAM7X,EAAGoY,EAAKP,MAAMuhE,EAAGhhE,EAAKN,IAAI9X,EAAGoY,EAAKN,IAAIshE,EAAG27E,EAAS/0J,EAAG+0J,EAAS37E,EAAG9e,EAASt6D,EAAGs6D,EAAS8e,IACrHqiC,GAAiB,EAAG,EAAGm5C,EAAal5C,EAAYC,GAAU,EAAMvjG,EAAKP,MAAM7X,EAAGoY,EAAKP,MAAMuhE,EAAGhhE,EAAKN,IAAI9X,EAAGoY,EAAKN,IAAIshE,GAAGtmF,OAAS,CACrI,CACO,SAASkiK,GAAkB96E,EAAKw6E,GACnC,MAAM7yE,EAAU,CAAE7hF,EAAGk6E,EAAIl6E,EAAGo5E,EAAGc,EAAId,GAC7B67E,EAAW,CAAEj1J,EAAGk6E,EAAIl6E,EAAIk6E,EAAIzF,MAAO2E,EAAGc,EAAId,GAC1C87E,EAAa,CAAEl1J,EAAGk6E,EAAIl6E,EAAGo5E,EAAGc,EAAId,EAAIc,EAAI/4D,QACxC2gE,EAAc,CAAE9hF,EAAGk6E,EAAIl6E,EAAIk6E,EAAIzF,MAAO2E,EAAGc,EAAId,EAAIc,EAAI/4D,QAC3D,OAAQ0zI,GAAmB,CAAEh9I,MAAOgqE,EAAS/pE,IAAKm9I,GAAYP,IAC1DG,GAAmB,CAAEh9I,MAAOq9I,EAAYp9I,IAAKgqE,GAAe4yE,EACpE,CC5CA,IAAIj0I,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAMO,MAAMwjJ,WAAe12C,GACxB1hH,cACI+jB,SAASzsB,WACT7C,KAAK6wH,QAAU,EACf7wH,KAAK8wH,QAAU,EACf9wH,KAAKmjK,YAAc,GACnBnjK,KAAKojK,YAAc,GACnBpjK,KAAKkqH,WAAa,EAClBlqH,KAAKmqH,SAAqB,EAAVz/G,KAAKkuF,GACrB54F,KAAKs5F,YAAc,CACvB,CACAvJ,cACI,MAAMghC,EAAS/wH,KAAKojK,YACpB,OAAO,IAAIz7E,GAAK3nF,KAAK6wH,QAAUE,EAAQ/wH,KAAK8wH,QAAUC,EAAiB,EAATA,EAAqB,EAATA,EAC9E,CACA1D,aACI,MAAMrsF,EAAOhhC,KAAKghC,KACZs4D,EAAct5F,KAAKs5F,YACnB4wB,EAAax/G,KAAK2G,IAAIrR,KAAKkqH,WAAYlqH,KAAKmqH,UAAY7wB,EACxD6wB,EAAWz/G,KAAK0G,IAAIpR,KAAKkqH,WAAYlqH,KAAKmqH,UAAY7wB,EACtD6pE,EAAcz4J,KAAK2G,IAAIrR,KAAKmjK,YAAanjK,KAAKojK,aAC9CA,EAAc14J,KAAK0G,IAAIpR,KAAKmjK,YAAanjK,KAAKojK,aAC9CnyC,EAAUX,GAAQz3B,GAAkB74F,KAAKkqH,YAAarxB,GAAkB74F,KAAKmqH,WAC7E0G,EAAU7wH,KAAK6wH,QACfC,EAAU9wH,KAAK8wH,QACrB9vF,EAAKlkB,QACDm0G,GACAjwF,EAAKyqF,IAAIoF,EAASC,EAASsyC,EAAal5C,EAAYC,GAChDg5C,EAAc,IACdniI,EAAK8yD,OAAO+8B,EAAUsyC,EAAcz4J,KAAKygF,IAAIg/B,GAAW2G,EAAUqyC,EAAcz4J,KAAK0gF,IAAI++B,IACzFnpF,EAAKyqF,IAAIoF,EAASC,EAASqyC,EAAah5C,EAAUD,GAAY,MAIlElpF,EAAK8yD,OAAO+8B,EAAUsyC,EAAcz4J,KAAKygF,IAAI++B,GAAa4G,EAAUqyC,EAAcz4J,KAAK0gF,IAAI8+B,IAC3FlpF,EAAKyqF,IAAIoF,EAASC,EAASsyC,EAAal5C,EAAYC,GAChDg5C,EAAc,EACdniI,EAAKyqF,IAAIoF,EAASC,EAASqyC,EAAah5C,EAAUD,GAAY,GAG9DlpF,EAAK+yD,OAAO88B,EAASC,IAG7B9vF,EAAKgzD,YACLh0F,KAAKktH,WAAY,CACrB,CACAzwB,cAAcjuF,EAAGo5E,GACb,MAAM,YAAE0R,GAAgBt5F,KAClBkqH,EAAalqH,KAAKkqH,WAAa5wB,EAC/B6wB,EAAWnqH,KAAKmqH,SAAW7wB,EAC3B6pE,EAAcz4J,KAAK2G,IAAIrR,KAAKmjK,YAAanjK,KAAKojK,aAC9CA,EAAc14J,KAAK0G,IAAIpR,KAAKmjK,YAAanjK,KAAKojK,aAC9C1lE,EAAQ19F,KAAKypF,eAAej7E,EAAGo5E,GACrC,OAAOq7E,GAAgBvlE,EAAMlvF,EAAGkvF,EAAM9V,EAAG,CAAEsiC,aAAYC,WAAUg5C,cAAaC,eAClF,EAEJO,GAAOt5G,UAAY,SACnBp7B,GAAW,CACP+9F,MACD22C,GAAO36J,UAAW,eAAW,GAChCimB,GAAW,CACP+9F,MACD22C,GAAO36J,UAAW,eAAW,GAChCimB,GAAW,CACP+9F,MACD22C,GAAO36J,UAAW,mBAAe,GACpCimB,GAAW,CACP+9F,MACD22C,GAAO36J,UAAW,mBAAe,GACpCimB,GAAW,CACP+9F,MACD22C,GAAO36J,UAAW,kBAAc,GACnCimB,GAAW,CACP+9F,MACD22C,GAAO36J,UAAW,gBAAY,GACjCimB,GAAW,CACP+9F,MACD22C,GAAO36J,UAAW,mBAAe,GCxF7B,MAAM46J,GAAwB,CACjCr3J,KAAM,UACN0uF,SAAU,sBACVxuC,aAAct4B,IACdyjF,QAASA,KACL,IAAIisD,EAAQh+I,IACZ,MAAO,CAACi+I,EAAermJ,KACnB,MAAMsmJ,EAAQtmJ,EAAK/Z,KAAK,GAClBi9E,EAAWj2E,KAAKw9E,IAAI67E,EAAQF,GAElC,OADAA,EAAQE,GACHp+I,MAAMg7D,IAAaA,EAAW,GAAKA,EAAWmjF,EACxCnjF,EAEJmjF,CAAa,CACvB,GAGIE,GAAoB,CAC7Bz3J,KAAM,YACN0uF,SAAU,kBACVid,UAAY/D,IACR,IAAI76F,EAAIqb,EAAI2C,EAAIH,EAChB,MAAMl0B,EAAS,IAAiG,QAA3F0xB,EAA+C,QAAzCrb,EAAK66F,EAAcnB,OAAOgE,iBAA8B,IAAP19F,OAAgB,EAASA,EAAG,UAAuB,IAAPqb,EAAgBA,EAAK,CAAC,EAAG,IACjJ,IAAK,MAAOtjB,EAAKD,KAA0G,QAAjG+lB,EAA+C,QAAzCG,EAAK68E,EAAcnB,OAAOgE,iBAA8B,IAAP1/E,OAAgB,EAASA,EAAGh1B,MAAM,UAAuB,IAAP60B,EAAgBA,EAAK,GAChJ9lB,EAAMpO,EAAO,KACbA,EAAO,GAAKoO,GAEZD,EAAMnO,EAAO,KACbA,EAAO,GAAKmO,GAGpB,OAAOnO,CAAM,GAGRghK,GAAqB,CAC9B13J,KAAM,YACN0uF,SAAU,oBACVid,UAAWA,EAAGlF,QAAUmD,cACpB,GAAc,MAAVA,EAEJ,MAAO,IAAIA,GAAQjiF,MAAK,CAACnpB,EAAG2d,KACxB,IAAK,IAAI9kB,EAAI,EAAGA,EAAImH,EAAEzJ,OAAQsC,IAAK,CAC/B,MAAMX,EAAS8H,EAAEnH,GAAK8kB,EAAE9kB,GACxB,GAAe,IAAXX,EACA,OAAOA,CAEf,CACA,OAAO,CAAC,GACV,GAGH,SAASihK,GAAiBplG,EAAYqlG,EAAatzJ,EAAO,OAC7D,MAAMuzJ,EAAYA,CAAC9zJ,EAAK+iG,KACpB,MAAMpwG,EAAUqN,EAAM6zJ,EAAe9wD,EACrC,OAAIpwG,GAAU,EACHyH,KAAK2G,IAAI8yJ,EAAalhK,GAE1ByH,KAAK0G,KAAK+yJ,EAAalhK,EAAO,EAEzC,MAAO,CACHsJ,KAAM,wBACNuyD,aACA44C,OAAQA,IAAM,CAACh/F,EAAQ8+F,KACnB,MAAM6sD,EAAe,CAAC,EAAG,GACzB,IAAK,MAAM5uD,KAAY+B,EAAc,CACjC,MAAMp2G,EAAQsX,EAAO+8F,GACf6uD,EAASljK,EAAQ,EAAI,EAAI,EAClB,QAATyP,EACAwzJ,EAAaC,IAAWljK,EAGxBijK,EAAaC,GADG,IAAXA,EACkB55J,KAAK2G,IAAIgzJ,EAAaC,GAASljK,GAG/BsJ,KAAK0G,IAAIizJ,EAAaC,GAASljK,EAE9D,CACA,MAAMiyG,EAAS3oG,KAAK0G,IAAI1G,KAAKw9E,IAAIm8E,EAAa,IAAKA,EAAa,IAChE,IAAK,MAAM5uD,KAAY+B,EACnB9+F,EAAO+8F,GAAY2uD,EAAU1rJ,EAAO+8F,GAAWpC,EACnD,EAGZ,CACO,SAASkxD,GAAoBtpE,EAAUkpE,EAAaK,EAAUC,GACjE,MAAMC,EAAgBP,EAAY,GAAKA,EAAY,GAC7CC,EAAYA,CAAC9zJ,EAAK+V,EAAOq+G,KAC3B,MAAMzhI,EAASkhK,EAAY,IAAO7zJ,EAAM+V,GAASq+G,EAAQggC,EACzD,OAAa,IAAThgC,GAEAzhI,GAAUkhK,EAAY,GADfA,EAAY,GAGnBlhK,EAASkhK,EAAY,GACdA,EAAY,GAChBlhK,CAAM,EAEjB,MAAO,CACHsJ,KAAM,2BACN0uF,WACAyc,OAAQA,IAAM,CAACitD,EAAOC,KAClB,IAAKv+I,EAAOC,GAAOq+I,EAAM3xD,OAAOt6F,OAAOksJ,GACvB,MAAZJ,IACAn+I,EAAQm+I,GACI,MAAZC,IACAn+I,EAAMm+I,GACV,MAAM//B,EAAOp+G,EAAMD,EACnBs+I,EAAM3xD,OAAOt6F,OAAOksJ,GAAQ,CAACT,EAAY,GAAIA,EAAY,IACzD,IAAK,MAAMpxE,KAAS4xE,EAAM33J,KAAM,CAC5B,IAAI63J,EAAc9xE,EAAMr6E,OACL,cAAfisJ,EAAMp4J,OACNs4J,EAAc,CAACA,IAEnB,IAAK,MAAMnsJ,KAAUmsJ,EACjBnsJ,EAAOksJ,GAAQR,EAAU1rJ,EAAOksJ,GAAOv+I,EAAOq+G,EAEtD,GAGZ,CCtHA,IA4DIogC,GA5DA71I,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EACIq0E,GAAwC,SAAUt3E,EAASu3E,EAAYlqF,EAAGmqF,GAC1E,SAASC,EAAMvzF,GAAS,OAAOA,aAAiBmJ,EAAInJ,EAAQ,IAAImJ,GAAE,SAAUokB,GAAWA,EAAQvtB,EAAQ,GAAI,CAC3G,OAAO,IAAKmJ,IAAMA,EAAImkB,WAAU,SAAUC,EAASuY,GAC/C,SAAS0tD,EAAUxzF,GAAS,IAAMo/E,EAAKkU,EAAUj3E,KAAKrc,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC1F,SAASwpE,EAASzzF,GAAS,IAAMo/E,EAAKkU,EAAU,SAAStzF,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC7F,SAASm1D,EAAKv9E,GAAUA,EAAOya,KAAOiR,EAAQ1rB,EAAO7B,OAASuzF,EAAM1xF,EAAO7B,OAAO+iB,KAAKywE,EAAWC,EAAW,CAC7GrU,GAAMkU,EAAYA,EAAUhrF,MAAMwT,EAASu3E,GAAc,KAAKh3E,OAClE,GACJ,EAyBA,MAAMsnJ,WAAoC5mD,GACtC5yG,YAAYy5J,EAAUC,EAAiBC,EAAgBC,EAAW/mD,EAAa3vB,EAAO4vB,GAClF/uF,MAAM8uF,EAAa3vB,EAAO4vB,GAC1Br+G,KAAKglK,SAAWA,EAChBhlK,KAAKilK,gBAAkBA,EACvBjlK,KAAKklK,eAAiBA,EACtBllK,KAAKmlK,UAAYA,CACrB,EAEJ,MAAMC,WAAgCL,GAClCx5J,cACI+jB,SAASzsB,WACT7C,KAAKuM,KAAO,WAChB,EAEJ,MAAM84J,WAAsCN,GACxCx5J,cACI+jB,SAASzsB,WACT7C,KAAKuM,KAAO,iBAChB,GAGJ,SAAWu4J,GACPA,EAAWA,EAAW,UAAY,GAAK,SACvCA,EAAWA,EAAW,WAAa,GAAK,UACxCA,EAAWA,EAAW,SAAW,GAAK,OACzC,EAJD,CAIGA,KAAeA,GAAa,CAAC,IAChC,MAAMQ,WAA8B7lC,GAChCl0H,cACI+jB,SAASzsB,WACT7C,KAAK89D,OAAS,EACd99D,KAAKulK,SAAW,EAChBvlK,KAAK03H,eAAY31H,EACjB/B,KAAKmgI,WAAa,EAClBngI,KAAKwlK,mBAAqB,EAC9B,EAEJv2I,GAAW,CACPmgF,GAASwB,GAAO,KACjB00D,GAAsBt8J,UAAW,cAAU,GAC9CimB,GAAW,CACPmgF,GAASwB,GAAO,KACjB00D,GAAsBt8J,UAAW,gBAAY,GAChDimB,GAAW,CACPmgF,GAASgB,KACVk1D,GAAsBt8J,UAAW,iBAAa,GACjDimB,GAAW,CACPmgF,GAASwB,GAAO,KACjB00D,GAAsBt8J,UAAW,kBAAc,GAClDimB,GAAW,CACPmgF,GAASwB,GAAO,KACjB00D,GAAsBt8J,UAAW,0BAAsB,GAC1D,MAAMy8J,WAA6BhmC,GAC/Bl0H,cACI+jB,SAASzsB,WACT7C,KAAK0lK,eAAiB,EACtB1lK,KAAK2lK,cAAgB,GACrB3lK,KAAK03H,eAAY31H,CACrB,EAEJktB,GAAW,CACPmgF,GAASwB,OACV60D,GAAqBz8J,UAAW,sBAAkB,GACrDimB,GAAW,CACPmgF,GAASwB,GAAO,EAAG,KACpB60D,GAAqBz8J,UAAW,qBAAiB,GACpDimB,GAAW,CACPmgF,GAASgB,KACVq1D,GAAqBz8J,UAAW,iBAAa,GAChD,MAAM48J,GACFr6J,cACIvL,KAAKs7F,YAASv5F,EACd/B,KAAKsB,OAAS,GACdtB,KAAKu6F,YAAc,CACvB,EAEJtrE,GAAW,CACPmgF,GAASgC,KACVw0D,GAAqB58J,UAAW,cAAU,GAC7CimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBg1D,GAAqB58J,UAAW,cAAU,GAC7CimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBg1D,GAAqB58J,UAAW,mBAAe,GAClD,MAAM68J,WAAyB/mD,GAC3BvzG,cACI+jB,SAASzsB,WACT7C,KAAKkoC,cAAWnmC,CACpB,EAEJktB,GAAW,CACPmgF,GAASgB,KACVy1D,GAAiB78J,UAAW,gBAAY,GACpC,MAAM88J,WAAiBl0C,GAC1BrmH,cACI+jB,SAASzsB,WACT7C,KAAKy/G,cAAe,CACxB,EAEJxwF,GAAW,CACPmgF,GAASiB,KACVy1D,GAAS98J,UAAW,oBAAgB,GAChC,MAAM+8J,WAA2BtmC,GACpCl0H,cACI+jB,SAASzsB,WACT7C,KAAK4lD,KAAO,GACZ5lD,KAAKo5I,OAAS,CAClB,EAEJnqH,GAAW,CACPmgF,GAASmB,KACVw1D,GAAmB/8J,UAAW,YAAQ,GACzCimB,GAAW,CACPmgF,GAASwB,OACVm1D,GAAmB/8J,UAAW,cAAU,GACpC,MAAMg9J,GACTz6J,cACIvL,KAAKwgC,KAAO,cACZxgC,KAAKm6F,YAAc,CACvB,EAEJlrE,GAAW,CACPmgF,GAAS4B,KACVg1D,GAAoBh9J,UAAW,YAAQ,GAC1CimB,GAAW,CACPmgF,GAASiC,GAAW,EAAG,KACxB20D,GAAoBh9J,UAAW,mBAAe,GACjD,MAAMi9J,WAAwBt0B,IAEvB,MAAMu0B,WAAkBrD,GAC3Bt3J,YAAYs0G,GACRvwF,MAAM,CAAEuwF,YAAWE,eAAe,IAClC//G,KAAKmmK,YAAc,IAAI35B,GACvBxsI,KAAKomK,eAAiBj4C,GAAUlrE,OAAOjjD,KAAKogH,aAAcvuB,IAC1D7xF,KAAK+yI,mBAAqB5kB,GAAUlrE,OAAOjjD,KAAKsgH,eAAgBzuB,IAChE7xF,KAAKm2I,SAAW,GAEhBn2I,KAAKszI,kBAAoB,GACzBtzI,KAAK45G,WAAQ73G,EACb/B,KAAKqmK,aAAe,IAAIf,GACxBtlK,KAAKsmK,YAAc,IAAIb,GACvBzlK,KAAKumK,YAAc,IAAIX,GACvB5lK,KAAK0hJ,QAAU,IAAImkB,GAKnB7lK,KAAKglK,SAAW,GAChBhlK,KAAKwmK,UAAY,GACjBxmK,KAAKymK,YAAc,GACnBzmK,KAAK0mK,iBAAc3kK,EAMnB/B,KAAKmlK,eAAYpjK,EACjB/B,KAAK2mK,gBAAa5kK,EAClB/B,KAAK4mK,eAAY7kK,EACjB/B,KAAK6mK,eAAY9kK,EACjB/B,KAAKilK,qBAAkBljK,EACvB/B,KAAK8mK,sBAAmB/kK,EACxB/B,KAAKklK,oBAAiBnjK,EACtB/B,KAAK+mK,qBAAkBhlK,EACvB/B,KAAKgnK,mBAAgBjlK,EACrB/B,KAAK03J,MAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,WACrE13J,KAAKinK,QAAU,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,WACvEjnK,KAAKm6F,YAAc,EACnBn6F,KAAKo6F,cAAgB,EACrBp6F,KAAKw6F,SAAW,CAAC,GACjBx6F,KAAKy6F,eAAiB,EACtBz6F,KAAK03H,eAAY31H,EAIjB/B,KAAKwqF,SAAW,EAChBxqF,KAAKknK,kBAAoB,EACzBlnK,KAAKmnK,iBAAmB,EACxBnnK,KAAKonK,kBAAoB,EACzBpnK,KAAKqnK,iBAAmB,EACxBrnK,KAAKu6F,YAAc,EACnBv6F,KAAKsnK,YAASvlK,EACd/B,KAAK4/G,eAAiB,IAAIf,GAC1B7+G,KAAKunK,uBAAoBxlK,EACzB/B,KAAKwnK,WAAa,IAAIh7B,GAEtBxsI,KAAKwnK,WAAWx0D,OAAS,CAAC,EAAG,GAE7BhzG,KAAKwnK,WAAWrhJ,MAAQ,EAAEzb,KAAKkuF,GAAIluF,KAAKkuF,IAAIj/E,KAAKy/E,GAAUA,EAAQ1uF,KAAKkuF,GAAK,IAC7E54F,KAAKynK,gBAAkBznK,KAAKk/G,UAAUl1D,YAAY,IAAI6nC,GAAM,CACxDvtF,KAAO,GAAEtE,KAAKgS,gBACd+/E,OAAO,EACP5O,OAAQ0vB,GAAO60D,4BAEnB,MAAMC,EAAmB,IAAI91E,GAAM,CAAEvtF,KAAM,qBACrCsjK,EAAkB,IAAI/1E,GAAM,CAAEvtF,KAAM,oBACpCmiK,EAAc,IAAI50E,GAAM,CAAEvtF,KAAM,gBACtCtE,KAAKygH,WAAWxxB,OAAO04E,GACvB3nK,KAAKygH,WAAWxxB,OAAO24E,GACvB5nK,KAAKygH,WAAWxxB,OAAOw3E,GACvBzmK,KAAK6nK,sBAAwB15C,GAAUlrE,OAAO0kH,EAAkB91E,IAChE7xF,KAAK8nK,qBAAuB35C,GAAUlrE,OAAO2kH,EAAiB5tH,IAC9Dh6C,KAAK+nK,qBAAuB55C,GAAUlrE,OAAOwjH,EAAazsH,IAC1Dh6C,KAAKyzI,eAAiB,IAAIwyB,GAAgB,QAAS,CAC/CvyB,MAAO,CACH1+H,GAAI,CACA0b,OAAQ,CACJntB,OAAQ,QACR2uI,OAAQA,IAAMlyI,KAAK2zI,6BAI/BrvB,MAAO,CACHtvG,GAAI,CACA0b,OAAQ,CACJntB,OAAQ,QACR2uI,OAAQA,IAAMlyI,KAAKgoK,8BAKvC,CACIh7J,SAAKoD,GACLpQ,KAAKu/G,MAAQnvG,EACbpQ,KAAKioK,0BACT,CACIj7J,WACA,OAAOhN,KAAKu/G,KAChB,CACAyB,yBACI,IAAI1nG,EAC8B,QAAjCA,EAAKtZ,KAAKm0I,yBAAsC,IAAP76H,GAAyBA,EAAG86H,YAAY,qBAAsBv/G,GAAU70B,KAAKq0I,kBAAkBx/G,IAC7I,CACA+rF,iBACI5gH,KAAKioK,0BACT,CACAA,2BACI,IAAI3uJ,EACJ,MAAM,KAAEtM,EAAI,QAAEshF,GAAYtuF,KAC1BA,KAAKszI,kBAAmG,QAA9Eh6H,EAAc,OAATtM,QAA0B,IAATA,OAAkB,EAASA,EAAK2M,KAAI,IAAM20E,WAA6B,IAAPh1E,EAAgBA,EAAK,EACzI,CACA46F,UAAUgN,GACN,OAAIA,IAAcpO,GAAmBsM,EAC1Bp/G,KAAKwnK,WAAWx0D,OAGhBhzG,KAAKmmK,YAAYnzD,MAEhC,CACAoB,cACI,IAAI96F,EAAIqb,EACR,OAAO6/D,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,IAAI,KAAEgN,EAAO,IAAOhN,KACpB,MAAM,SAAEglK,EAAQ,UAAEG,EAAS,kBAAE7xB,GAAsBtzI,KACnD,IAAKglK,EACD,OACJ,MAAMx/G,EAAa,GACf2/G,IACA3/G,EAAW71C,KAAKquG,GAAoBmnD,EAAW,CAAEnzJ,GAAI,cAAeX,IAA+B,QAAzBiI,EAAKtZ,KAAK4mK,iBAA8B,IAAPttJ,EAAgBA,EAAK,EAAGlI,IAAKpR,KAAK6mK,YAAc9oD,GAAconD,GAAW,EAAM,CAAEnzJ,GAAK,cACjMuyJ,GAAoB,CAAEvyJ,GAAI,eAAiB,CAAC,EAAG,GAA8B,QAAzB2iB,EAAK30B,KAAK4mK,iBAA8B,IAAPjyI,EAAgBA,EAAK,EAAG30B,KAAK6mK,YAClHrhH,EAAW71C,QAEf3C,EAAOA,EAAK2M,KAAI,CAACwV,EAAG1I,IAAS6sH,EAAkB7sH,GAAO0I,EAAIttB,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGyL,GAAI,CAAE,CAAC61I,GAAW,MAC5GhlK,KAAKkoK,UAAY,IAAI30D,GAAU,CAC3B3rF,MAAO,CACHs2F,GAA0B8mD,GAAU,EAAM,CAAEhzJ,GAAK,eACjD+rG,GAAcinD,GAAU,EAAM,CAAEhzJ,GAAK,aACrCuyJ,GAAoB,CAAEvyJ,GAAI,cAAgB,CAAC,EAAG,GAAI,MAC/CwzC,KAGXxlD,KAAKm0G,cAAgBn0G,KAAKkoK,UAAU9zD,YAAYpnG,EACpD,GACJ,CACAm7J,uBACI,IAAKnoK,KAAKs/G,gBACN,OACJ,OAAO,SAAE62B,EAAW,IAAO,CAAC,GAAKn2I,KAAKooK,kBACtCpoK,KAAKm2I,SAAWA,EAChBn2I,KAAKs/G,iBAAkB,CAC3B,CACAw2B,iBACI,OAAOthD,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,OAAOA,KAAKooK,iBAChB,GACJ,CACAA,kBACI,IAAI9uJ,EAAIqb,EAAI2C,EAAIH,EAChB,MAAQnlB,GAAIssG,EAAQ,cAAEnK,EAAa,UAAE+zD,EAAS,SAAE19E,EAAQ,WAAEg9E,GAAexnK,KACzE,IAAKm0G,IAAkB+zD,GAAoC,cAAvB/zD,EAAc5nG,KAC9C,MAAO,GACX,MAAM87J,EAAiI,QAArH1zI,EAAsE,QAAhErb,EAAK4uJ,EAAUn0D,8BAA+B,qBAAiC,IAAPz6F,OAAgB,EAASA,EAAG/X,aAA0B,IAAPozB,EAAgBA,GAAM,EAC/J2zI,EAAmI,QAAtHnxI,EAAuE,QAAjEG,EAAK4wI,EAAUn0D,8BAA+B,sBAAkC,IAAPz8E,OAAgB,EAASA,EAAG/1B,aAA0B,IAAP41B,EAAgBA,GAAM,EACvK,GAAIkxI,EAAW,EACX,MAAO,GACX,IAAIE,EAAe,EACnB,MAAMpyB,EAAWhiC,EAAcnnG,KAAK2M,KAAI,CAACo5E,EAAOxxF,KAC5C,IAAI+X,EACJ,MAAM,MAAEm1E,EAAK,OAAE/1E,GAAWq6E,EACpBviE,EAAe9X,EAAO2vJ,GACtBn+C,EAAas9C,EAAW73C,QAAQ44C,GAAgBtvE,GAAUzO,GAChE+9E,EAAe/3I,EACf,MAAM25F,EAAWq9C,EAAW73C,QAAQ44C,GAAgBtvE,GAAUzO,GACxDk6C,EAAOh6H,KAAKw9E,IAAIiiC,EAAWD,GAC3Bs+C,EAAWt+C,EAAawa,EAAO,EAC/B+jC,EAAa/vJ,EAAO2vJ,EAAW,GAC/Bt3C,EAASu3C,GAAa,GAAiC,QAA5BhvJ,EAAKZ,EAAO4vJ,UAA+B,IAAPhvJ,EAAgBA,EAAS,EACxFovJ,EAAcJ,GAAa,EAAI5vJ,EAAO4vJ,EAAY,QAAKvmK,EACvD4jH,EAAS3lH,KAAK2oK,UAAUl6E,EAAO+5E,EAAU9jC,GAAM,GAC/CkkC,EAAe5oK,KAAK6oK,gBAAgBp6E,EAAOltF,EAAOA,GAAO,GAC/D,OAAOM,OAAO6hB,OAAO,CAAEy+F,OAAQ5gH,EAAO88G,OAAQr+G,KAAMyuF,QAChDltF,QACAknK,aACAD,WAAUM,OAAQp+J,KAAKygF,IAAIq9E,GAAWO,OAAQr+J,KAAK0gF,IAAIo9E,GAAWt+C,aAClEC,WACAy+C,eACA73C,SACA23C,eAAe/iD,EAAO,IAE9B,MAAO,CACH,CACIxD,OAAQ7D,EACR63B,WACAjN,UAAWiN,GAGvB,CACAwyB,UAAUl6E,EAAO+5E,EAAU9jC,EAAMskC,GAC7B,MAAM,aAAE3C,EAAY,YAAEC,EAAW,cAAEU,EAAel6I,KAAK,cAAE8+G,IAAqB5rI,KACxEilK,GAAmB+D,GAAgB3C,EAAazxI,QAAU50B,KAAKilK,qBAAkBljK,EACjFmjK,GAAkB8D,GAAgB1C,EAAY1xI,QAAU50B,KAAKklK,oBAAiBnjK,EACpF,IAAKkjK,IAAoBC,IAAmB8B,EACxC,MAAO,CAAC,EACZ,MAAMiC,EAAuBjpK,KAAKkpK,wBAAwBz6E,GAC1D,IAAI06E,EAcAC,EASAC,EAtBJ,GAAIpE,EAAiB,CACjB,MAAMqE,EAAuBrwE,GAAUotE,EAAad,UAC9CgE,EAAsB7kC,EAAO4kC,EAK/BH,EAJCI,EAGIlD,EAAa3uC,UACCkU,EAAcpiI,KAAK68J,EAAa3uC,UAAWuxC,GAG3C1oK,OAAOkuF,EAAMw2E,SANbljK,CAQ3B,CAcA,OAZImjK,IAEIkE,EADA9C,EAAY5uC,UACMkU,EAAcpiI,KAAK88J,EAAY5uC,UAAWuxC,GAG1C1oK,OAAOkuF,EAAMy2E,KAInC8B,IACAqC,EAAiB9oK,OAAOkuF,EAAMu4E,KAE3BnlK,OAAO6hB,OAAO7hB,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAwB,MAApBylJ,EAChD,CACE9C,aAAcxkK,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG1jB,KAAKwpK,iBAAiBhB,IAAY,CAAE5iH,KAAMujH,EAAkBM,QAAQ,EAAOC,wBAAoB3nK,EAAW4nK,iBAAkB,EAAGjhF,SAAK3mF,KAEpL,CAAC,GAAyB,MAAnBqnK,EAA0B,CAAE9C,YAAa,CAAE1gH,KAAMwjH,IAAsB,CAAC,GAAuB,MAAjBpC,GAA2C,MAAlBqC,EAC9G,CAAEO,WAAY,CAAE7mK,IAAKikK,EAAephH,KAAMyjH,IAC1C,CAAC,EACX,CACAH,wBAAwBz6E,GACpB,MAAQz8E,GAAIssG,EAAQ,UAAE6mD,EAAS,WAAEwB,EAAU,SAAE3B,EAAQ,UAAEwB,EAAS,gBAAEvB,EAAe,iBAAE6B,EAAgB,eAAE5B,EAAc,gBAAE6B,GAAqB/mK,KAC1I,MAAO,CACHyuF,QACAu2E,WACAyD,WAAYh6E,EAAMu2E,GAClBwB,YACArB,YACAuD,YAAavD,EAAY12E,EAAM02E,QAAapjK,EAC5C4kK,aACA1B,kBACA4E,kBAAmB5E,EAAkBx2E,EAAMw2E,QAAmBljK,EAC9D+kK,mBACA5B,iBACA4E,iBAAkB5E,EAAiBz2E,EAAMy2E,QAAkBnjK,EAC3DglK,kBACAzoD,WAER,CACAkrD,iBAAiBhB,GACb,MAAMuB,EAAmB,CACrB,CAAEpjF,UAAW,SAAUD,aAAc,UACrC,CAAEC,UAAW,OAAQD,aAAc,UACnC,CAAEC,UAAW,SAAUD,aAAc,WACrC,CAAEC,UAAW,QAASD,aAAc,WAElCsjF,EAAchxE,GAAkBwvE,GAEhCyB,GAAkB,EAAIv/J,KAAKkuF,GAAM,EACjCsxE,EAAiBF,EAAcC,EAC/BE,EAAWz/J,KAAK4D,MAAM47J,GAAkBx/J,KAAKkuF,GAAK,IAClDwxE,EAAgBp6G,GAAIm6G,EAAUJ,EAAiBzoK,QACrD,OAAOyoK,EAAiBK,EAC5B,CACAvB,gBAAgBp6E,EAAO0zB,EAAQ5gH,EAAOsyI,GAClC,IAAIv6H,EAAIqb,EAAI2C,EAAIH,EAAIi/E,EAAIC,EAAIC,EAAIssC,EAAIynB,EACpC,MAAM,SAAErF,EAAQ,UAAEG,EAAS,MAAEzN,EAAK,QAAEuP,EAAS9sE,YAAamwE,EAAiB,UAAE5yC,EAAW1lH,GAAIssG,EAAUxxF,KAAK,cAAE8+G,IAAqB5rI,KAC5HgiH,EAAoD,QAAhC1oG,EAAKtZ,KAAKiiH,wBAAqC,IAAP3oG,OAAgB,EAASA,EAAG4oG,qBACxFqoD,EAAqB12B,IAAmC,OAArB7xB,QAAkD,IAArBA,OAA8B,EAASA,EAAiB3D,UAAYr+G,MAAQmiH,IAAWH,EAAiBG,OACxKqoD,EAAmBD,EAAqBvqK,KAAK4/G,eAAe/sG,KAAO,KACnE2tB,EAA4G,QAApG7L,EAA0B,OAArB61I,QAAkD,IAArBA,OAA8B,EAASA,EAAiBhqI,YAAyB,IAAP7L,EAAgBA,EAAK+iI,EAAMn2J,EAAQm2J,EAAMp2J,QAC7J64F,EAA0H,QAA3G7iE,EAA0B,OAArBkzI,QAAkD,IAArBA,OAA8B,EAASA,EAAiBrwE,mBAAgC,IAAP7iE,EAAgBA,EAAKgzI,EACvJhwE,EAAgH,QAAtGnjE,EAA0B,OAArBqzI,QAAkD,IAArBA,OAA8B,EAASA,EAAiBlwE,cAA2B,IAAPnjE,EAAgBA,EAAK8vI,EAAQ1lK,EAAQ0lK,EAAQ3lK,QACrKi5F,EAA0H,QAA3G6b,EAA0B,OAArBo0D,QAAkD,IAArBA,OAA8B,EAASA,EAAiBjwE,mBAAgC,IAAP6b,EAAgBA,EAAKp2G,KAAK8hH,eAAe9hH,KAAKu6F,aACtL,IAAI++B,EAaJ,OAZI5B,IACA4B,EAASsS,EAAcpiI,KAAKkuH,EAAW,CACnCjpC,QACAu2E,WACAG,YACA3kI,OACA85D,SACAC,cACAkwE,YAAaF,EACbjsD,cAGD,CACH99E,KAA6E,QAAtE61E,EAAgB,OAAXijB,QAA8B,IAAXA,OAAoB,EAASA,EAAO94F,YAAyB,IAAP61E,EAAgBA,EAAK71E,EAC1G25D,YAA2F,QAA7Emc,EAAgB,OAAXgjB,QAA8B,IAAXA,OAAoB,EAASA,EAAOn/B,mBAAgC,IAAPmc,EAAgBA,EAAKnc,EACxHG,OAAiF,QAAxEsoD,EAAgB,OAAXtpB,QAA8B,IAAXA,OAAoB,EAASA,EAAOh/B,cAA2B,IAAPsoD,EAAgBA,EAAKtoD,EAC9GC,YAA2F,QAA7E8vE,EAAgB,OAAX/wC,QAA8B,IAAXA,OAAoB,EAASA,EAAO/+B,mBAAgC,IAAP8vE,EAAgBA,EAAK9vE,EAEhI,CACAmwE,iBACI,MAAM,OAAE35C,EAAM,iBAAEs2C,EAAgB,kBAAED,GAAsBpnK,KAClDmjK,EAAcpyC,GAA+B,OAArBs2C,QAAkD,IAArBA,EAA8BA,EAAmB,IAAMD,GAAwC,GAC1J,OAAIjE,IAAgBpyC,GAAUoyC,EAAc,EACjC,EAEJA,CACX,CACAwH,iBACI,MAAM,OAAE55C,EAAM,iBAAEo2C,EAAgB,kBAAED,GAAsBlnK,KAClDojK,EAAcryC,GAA+B,OAArBo2C,QAAkD,IAArBA,EAA8BA,EAAmB,IAAMD,GAAwC,GAC1J,OAAI9D,EAAc,EACP,EAEJA,CACX,CACAwH,oBACI,MAAMzH,EAAcnjK,KAAK0qK,iBACnBtH,EAAcpjK,KAAK2qK,iBACzB3qK,KAAKmmK,YAAYhgJ,MAAQ,CAACg9I,EAAaC,EAC3C,CACAyH,uBACI,IAAIvxJ,EAAIqb,EACR,MAAMyuI,EAAc14J,KAAK0G,IAAI,EAAGpR,KAAKmmK,YAAYhgJ,MAAM,IACvD,GAAoB,IAAhBi9I,EACA,OAAOv9I,IAEX,MAAMgsG,EAAuF,QAA5El9F,EAA2B,QAArBrb,EAAKtZ,KAAK45G,aAA0B,IAAPtgG,OAAgB,EAASA,EAAGu4G,eAA4B,IAAPl9F,EAAgBA,EAAK,EACpHm2I,EAAc,EAAIj5C,EAClBh8D,EAAKnrD,KAAK0G,IAAI,GAAIgyJ,GACxB,OAAQA,EAAc0H,EAAcj1G,CACxC,CACAnlC,QAAO,WAAEokH,IACL,OAAOtgD,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,MAAE45G,GAAU55G,KAOlB,GANAA,KAAKmoK,uBACLnoK,KAAK+qK,mBACL/qK,KAAK4qK,oBACL5qK,KAAKgrK,yBACLhrK,KAAKk/G,UAAUz0B,aAAezqF,KAAK6wH,QACnC7wH,KAAKk/G,UAAUx0B,aAAe1qF,KAAK8wH,QAC/BlX,EAAO,CACP,MAAM/jD,EAAK71D,KAAK6qK,uBACVI,EAAWrxD,EAAM17E,KAAK6xD,cAC5B6pB,EAAM17E,KAAKowD,QACPsrB,EAAMhlF,SAAWguE,SAAS/sC,KAAQ71D,KAAKkrK,gCAAgCD,EAAU,EAAGp1G,GACxF+jD,EAAM17E,KAAKwsD,aAAekY,SAAS/sC,GAAMA,EAAK,CAClD,CACA71D,KAAKmrK,2BACCnrK,KAAKsmI,yBACLtmI,KAAKy1I,YAAYX,EAC3B,GACJ,CACAi2B,mBACI,IAAIzxJ,EAAIqb,EACR,MAAM,MAAEilF,EAAK,SAAEwxD,GAAaprK,KACxBorK,IAAaxxD,IACTwxD,IAC2B,QAA1B9xJ,EAAKtZ,KAAKygH,kBAA+B,IAAPnnG,GAAyBA,EAAGiwC,YAAY6hH,EAASltI,OAEpF07E,IACAA,EAAM17E,KAAKwoD,aAAe,SACC,QAA1B/xD,EAAK30B,KAAKygH,kBAA+B,IAAP9rF,GAAyBA,EAAGq1B,YAAY4vD,EAAM17E,OAErFl+B,KAAKorK,SAAWxxD,EAExB,CACAoxD,yBACI,IAAI1xJ,EACJ,MAAM,YAAEotJ,EAAW,eAAE2E,EAAgBC,gBAAiBC,GAAYvrK,KAClE,GAAIqrK,IAAmB3E,EAAa,CAChC,IAAI8E,EACAD,GACAvrK,KAAKynK,gBAAgBl+G,YAAYgiH,GAEjC7E,IACA8E,EAAS,IAAI19C,GACb09C,EAAOhrI,KAAOkmI,EAAYlmI,KAC1BgrI,EAAOrxE,YAAiD,QAAlC7gF,EAAKotJ,EAAYvsE,mBAAgC,IAAP7gF,EAAgBA,EAAK,EACrFtZ,KAAKynK,gBAAgBz9G,YAAYwhH,IAErCxrK,KAAKqrK,eAAiB3E,EACtB1mK,KAAKsrK,gBAAkBE,CAC3B,CACJ,CACAL,qBACInrK,KAAKm2I,SAASt9H,SAASsW,IACnB,MAAM4hG,EAAS/wH,KAAKmmK,YAAYx2C,QAAQxgG,EAAE4hG,QAC1C5hG,EAAEuqI,aAAe,CACblrJ,EAAG2gB,EAAE25I,OAASp+J,KAAK0G,IAAI,EAAG2/G,EAAS,GACnCnpC,EAAGz4D,EAAE45I,OAASr+J,KAAK0G,IAAI,EAAG2/G,EAAS,GACtC,GAET,CACAuV,mBACI,OAAO9xC,GAAUx0F,UAAM,OAAQ,GAAQ,kBAC7BA,KAAKyrK,sBACf,GACJ,CACAA,uBACI,OAAOj3E,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,eAAEomK,EAAc,mBAAErzB,EAAkB,sBAAE80B,EAAqB,qBAAEC,EAAoB,qBAAEC,GAA0B/nK,KAC7G0wB,EAAUg7I,GACLA,EAAUh7I,OAAO1wB,KAAKm2I,UAAWpjD,IACpC,MAAMmwE,EAAS,IAAIS,GACnBT,EAAOlgK,IAAM8hK,GAAWnB,OACxB5wE,EAAM/oC,YAAYk5G,EAAO,IAGjCljK,KAAKomK,eAAiB11I,EAAO01I,GAC7BpmK,KAAK+yI,mBAAqBriH,EAAOqiH,GACjC80B,EAAsBn3I,OAAO1wB,KAAKm2I,UAAWpjD,IACzC,MAAMnsE,EAAO,IAAIykG,GACjBzkG,EAAK5jB,IAAM8hK,GAAW6G,QACtB/kJ,EAAKi9D,cAAgB6J,GAAcgC,KACnCqD,EAAM/oC,YAAYpjC,GAClB,MAAMg/B,EAAO,IAAI5L,GACjB4L,EAAK5iD,IAAM8hK,GAAWrlC,MACtB75E,EAAKi+B,cAAgB6J,GAAcgC,KACnCqD,EAAM/oC,YAAYpE,EAAK,IAE3BkiH,EAAqBp3I,OAAO1wB,KAAKm2I,UAAWj4G,IACxCA,EAAK2lD,cAAgB6J,GAAcgC,IAAI,IAE3Cq4E,EAAqBr3I,OAAO1wB,KAAKymK,aAAcvoI,IAC3CA,EAAK2lD,cAAgB6J,GAAcgC,IAAI,GAE/C,GACJ,CACA+lD,YAAYX,GACR,IAAIx7H,EACJ,OAAOk7E,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAMgiH,EAAoD,QAAhC1oG,EAAKtZ,KAAKiiH,wBAAqC,IAAP3oG,OAAgB,EAASA,EAAG4oG,qBACxF/G,EAAYn7G,KAAKszI,kBAAkB7xI,SAAQ,IAAS,EAC1DzB,KAAKk/G,UAAU5wB,QAAU6sB,EACzBn7G,KAAKynK,gBAAgBn5E,QAAU6sB,EAC/Bn7G,KAAKogH,aAAa9xB,QAAU6sB,EAC5Bn7G,KAAKsgH,eAAehyB,QAAU6sB,IAAmC,OAArB6G,QAAkD,IAArBA,OAA8B,EAASA,EAAiB3D,UAAYr+G,KAC7IA,KAAKygH,WAAWnyB,QAAU6sB,EAC1Bn7G,KAAKogH,aAAat8B,QAAU9jF,KAAK2hH,aACjC3hH,KAAK4rK,oBACL,MAAM,YAAEzF,GAAgBnmK,KAClBmjK,EAAcgD,EAAYx2C,QAAQ,GAClCk8C,EAAiBA,CAAC3I,EAAQz0E,EAAOltF,EAAOgpK,KAC1C,MAAMx5C,EAASo1C,EAAYx2C,QAAQlhC,EAAMsiC,QAEnC+6C,EAAe5I,EAAOvuJ,OACtBo3J,EAAqC,OAAjBD,QAA0C,IAAjBA,OAA0B,EAASA,EAAan3J,OAC/F41J,GAAsBuB,GAAgBC,IACtCA,EAAkBxiH,YAAYuiH,GAC9BC,EAAkB/hH,YAAY8hH,IAElC5I,EAAOC,YAAcz4J,KAAK0G,IAAI,EAAG+xJ,GACjCD,EAAOE,YAAc14J,KAAK0G,IAAI,EAAG2/G,GAC7Bw5C,IACArH,EAAOh5C,WAAaz7B,EAAMy7B,WAC1Bg5C,EAAO/4C,SAAW17B,EAAM07B,UAE5B,MAAMmP,EAASt5H,KAAK6oK,gBAAgBp6E,EAAMA,MAAOA,EAAM0zB,OAAQ5gH,EAAOgpK,GACtErH,EAAO1iI,KAAO84F,EAAO94F,KACrB0iI,EAAO5oE,OAASg/B,EAAOh/B,OACvB4oE,EAAO3oE,YAAc++B,EAAO/+B,YAC5B2oE,EAAO/oE,YAAcm/B,EAAOn/B,YAC5B+oE,EAAO9oE,cAAgBp6F,KAAKo6F,cAC5B8oE,EAAO1oE,SAAWx6F,KAAKw6F,SACvB0oE,EAAOzoE,eAAiBz6F,KAAKy6F,eAC7ByoE,EAAOtoE,WAAa56F,KAAKsnK,OACzBpE,EAAOvoE,SAAW,QAClBuoE,EAAO50E,QAAUtuF,KAAKszI,kBAAkB/xI,EAAM,EAElDvB,KAAKomK,eACAt3C,YAAYg2C,GAAWnB,QACvB9qJ,SAAQ,CAACqlB,EAAM38B,IAAUsqK,EAAe3tI,EAAMA,EAAKuwD,MAAOltF,GAAO,KACtEvB,KAAK+yI,mBAAmBjkB,YAAYg2C,GAAWnB,QAAQ9qJ,SAAQ,CAACqlB,EAAM38B,KAClE,MAAMgpK,GAA2C,OAArBvoD,QAAkD,IAArBA,OAA8B,EAASA,EAAiB3D,UAAYr+G,MAAQk+B,EAAKuwD,MAAM0zB,SAAWH,EAAiBG,OAC5KjkF,EAAKowD,QAAUi8E,EACXrsI,EAAKowD,SACLu9E,EAAe3tI,EAAMA,EAAKuwD,MAAOltF,EAAOgpK,EAC5C,IAEJvqK,KAAKyzI,eAAej7G,WAAW,UAC/Bx4B,KAAKgsK,yBACLhsK,KAAKisK,wBAAwBn3B,GAC7B90I,KAAKksK,yBACLlsK,KAAKmsK,uBACT,GACJ,CACAH,yBACI,IAAI1yJ,EACJ,MAAM,YAAE6sJ,EAAW,YAAEI,GAAgBvmK,KAC/BosK,EAAgB7F,EAAYjlK,OAC5B+qK,EAAqB9F,EAAYhsE,YACjC+xE,EAA8C,QAA7BhzJ,EAAKitJ,EAAYjrE,cAA2B,IAAPhiF,EAAgBA,EAAKtZ,KAAKinK,SAChF,OAAEnpG,GAAW99D,KAAKqmK,aACxBrmK,KAAK6nK,sBAAsB/4C,YAAYg2C,GAAW6G,SAAS9yJ,SAAQ,CAAC+N,EAAMrlB,KACtE,MAAMktF,EAAQ7nE,EAAK6nE,MACbsiC,EAASo1C,EAAYx2C,QAAQlhC,EAAMsiC,QACnCqyC,EAAc14J,KAAK0G,IAAI,EAAG2/G,GAC1BvL,EAAQ/2B,EAAM43E,aACpB,IAAe,OAAV7gD,QAA4B,IAAVA,OAAmB,EAASA,EAAM5/D,QAAU4/D,EAAMikD,QAA0B,IAAhBrG,EAAmB,CAClGx8I,EAAK0nE,SAAU,EACf1nE,EAAK2zE,YAAc8xE,EACnBzlJ,EAAK0zE,OAASgyE,EAAc/qK,EAAQ+qK,EAAchrK,QAClDslB,EAAK4Z,UAAOz+B,EACZ,MAAMsnH,EAAK56B,EAAMq6E,OAAS1F,EACpB95C,EAAK76B,EAAMs6E,OAAS3F,EAC1B,IAAIv+C,EAAKp2B,EAAMq6E,QAAU1F,EAAcgJ,GACnCtnD,EAAKr2B,EAAMs6E,QAAU3F,EAAcgJ,GACvC,GAAI5mD,EAAMkkD,oBAAiD,IAA3BlkD,EAAMmkD,iBAAwB,CAE1D,MAAMjhF,EAAM88B,EAAM98B,IAClB,IAAIuB,EAAK46B,EACL36B,EAAK46B,EACLD,EAAKn8B,EAAIl6E,EACTy7E,EAAKvB,EAAIl6E,EAEJq2G,EAAKn8B,EAAIl6E,EAAIk6E,EAAIzF,QACtBgH,EAAKvB,EAAIl6E,EAAIk6E,EAAIzF,OAEjB6hC,EAAKp8B,EAAId,EACTsC,EAAKxB,EAAId,EAEJk9B,EAAKp8B,EAAId,EAAIc,EAAI/4D,SACtBu6D,EAAKxB,EAAId,EAAIc,EAAI/4D,QAGrB,MAAMgmC,EAAKs0B,EAAK46B,EACVhvD,EAAKq0B,EAAK46B,EACVxjH,EAASoJ,KAAK8uF,KAAK9uF,KAAKs5F,IAAIruC,EAAI,GAAKjrD,KAAKs5F,IAAInuC,EAAI,IAClD02G,EAAejrK,EAASw8D,EAC1ByuG,EAAe,IACf1nD,GAAWlvD,EAAK42G,EAAgBjrK,EAChCwjH,GAAWjvD,EAAK02G,EAAgBjrK,EAExC,CACAslB,EAAKyiG,GAAKA,EACVziG,EAAK0iG,GAAKA,EACV1iG,EAAKi+F,GAAKA,EACVj+F,EAAKk+F,GAAKA,CACd,MAEIl+F,EAAK0nE,SAAU,CACnB,GAER,CACAk+E,iBAAiB5mH,EAAM8iC,EAAKosD,GACxB,MAAM23B,EAAa33B,EAAWtmI,EAAIxO,KAAK6wH,QACjC67C,EAAc53B,EAAWtmI,EAAIsmI,EAAW7xD,MAAQjjF,KAAK6wH,QACrD87C,EAAY73B,EAAWltD,EAAI5nF,KAAK8wH,QAChC87C,EAAe93B,EAAWltD,EAAIktD,EAAWnlH,OAAS3vB,KAAK8wH,QACvD+7C,EAAQ,EACd,IAAIC,EAAkB,EAClBpkF,EAAIl6E,EAAIq+J,EAAQJ,EAChBK,GAAmBpkF,EAAIl6E,EAAIk6E,EAAIzF,MAAQwpF,GAAc/jF,EAAIzF,MAEpDyF,EAAIl6E,EAAIk6E,EAAIzF,MAAQ4pF,EAAQH,IACjCI,GAAmBJ,EAAchkF,EAAIl6E,GAAKk6E,EAAIzF,OAElD,MAAM8pF,EAAsBrkF,EAAId,EAAIilF,EAAQF,GAAajkF,EAAId,EAAIc,EAAI/4D,OAASk9I,EAAQD,EAChFI,EAAatiK,KAAK4D,MAAMs3C,EAAKtkD,OAASwrK,GAAmB,EACzDG,EAA+BjtK,KAAKkrK,gCAAgCxiF,GAC1E,MAAO,CAAEokF,kBAAiBE,aAAYD,sBAAqBE,+BAC/D,CACA/B,gCAAgCxiF,EAAK/yB,EAAK,EAAGE,EAAK,GAC9C,MAAM,kBAAE0xG,GAAsBvnK,KAC9B,GAAyB,MAArBunK,EACA,OAAO,EAEX,MAAM2F,EAAU,CACZ,CAAE1+J,EAAGk6E,EAAIl6E,EAAImnD,EAAIiyB,EAAGc,EAAId,EAAI/xB,GAC5B,CAAErnD,EAAGk6E,EAAIl6E,EAAIk6E,EAAIzF,MAAQttB,EAAIiyB,EAAGc,EAAId,EAAI/xB,GACxC,CAAErnD,EAAGk6E,EAAIl6E,EAAIk6E,EAAIzF,MAAQttB,EAAIiyB,EAAGc,EAAId,EAAIc,EAAI/4D,OAASkmC,GACrD,CAAErnD,EAAGk6E,EAAIl6E,EAAImnD,EAAIiyB,EAAGc,EAAId,EAAIc,EAAI/4D,OAASkmC,IAEvCs3G,EAAOziK,KAAKs5F,IAAIujE,EAAmB,GACzC,OAAO2F,EAAQ90I,MAAMg1I,GAAW1iK,KAAKs5F,IAAIopE,EAAO5+J,EAAG,GAAK9D,KAAKs5F,IAAIopE,EAAOxlF,EAAG,GAAKulF,GACpF,CACAE,sCACI,MAAM,YAAElH,EAAW,aAAEE,EAAY,YAAEE,GAAgBvmK,MAC7C,OAAE89D,EAAM,WAAEqiE,GAAekmC,EACzBlD,EAAcgD,EAAYx2C,QAAQ,GAClC29C,EAAc7+E,IAChB,MAAM+2B,EAAQ/2B,EAAM43E,aACdt1C,EAASo1C,EAAYx2C,QAAQlhC,EAAMsiC,QACnCqyC,EAAc14J,KAAK0G,IAAI,EAAG2/G,GAChC,OAAQvL,GAAyB,IAAhB49C,CAAiB,EAEhCmK,EAAWvtK,KAAKm2I,SAChBnpI,EAAOhN,KAAKm2I,SAASz8H,QAAQksC,IAAU0nH,EAAW1nH,KAOxD,GANA54C,EAAK6L,SAAS41E,IACV,MAAM+2B,EAAQ/2B,EAAM43E,aACpB7gD,EAAMikD,QAAS,EACfjkD,EAAMkkD,wBAAqB3nK,EAC3ByjH,EAAMmkD,iBAAmB,CAAC,IAE1B38J,EAAK1L,QAAU,EACf,OAEJ,MAAMksK,EAAaxgK,EAAK0M,QAAQyV,GAAMA,EAAE25I,OAAS,IAAG50I,MAAK,CAACnpB,EAAG2d,IAAM3d,EAAEg+J,OAASrgJ,EAAEqgJ,SAC1E0E,EAAczgK,EAAK0M,QAAQyV,GAAMA,EAAE25I,QAAU,IAAG50I,MAAK,CAACnpB,EAAG2d,IAAM3d,EAAEg+J,OAASrgJ,EAAEqgJ,SAC5E2E,EAAY1gK,EACb0M,QAAQyV,GAAMA,EAAE45I,OAAS,GAAkC,WAA7B55I,EAAEk3I,aAAa1/E,YAC7CzyD,MAAK,CAACnpB,EAAG2d,IAAM3d,EAAE+9J,OAASpgJ,EAAEogJ,SAC3B6E,EAAe3gK,EAChB0M,QAAQyV,GAAMA,EAAE45I,QAAU,GAAkC,WAA7B55I,EAAEk3I,aAAa1/E,YAC9CzyD,MAAK,CAACnpB,EAAG2d,IAAM3d,EAAE+9J,OAASpgJ,EAAEogJ,SAC3B8E,EAAe,IAAI5zH,GACnB6zH,EAAep/E,IACjB,MAAM+2B,EAAQ/2B,EAAM43E,aACdt1C,EAASo1C,EAAYx2C,QAAQlhC,EAAMsiC,QACnCqyC,EAAc14J,KAAK0G,IAAI,EAAG2/G,GAC1B+8C,EAAc1K,EAAcmD,EAAYjlK,OAASw8D,EACjDtvD,EAAIigF,EAAMq6E,OAASgF,EACnBlmF,EAAI6G,EAAMs6E,OAAS+E,EAActoD,EAAMmkD,iBAE7C,OADA3pK,KAAK+tK,wBAAwBH,EAAcp/J,EAAGo5E,EAAG5nF,KAAKqmK,aAAc7gD,GAC7DooD,EAAa79E,aAAa,EAE/Bi+E,EAA2BA,CAACxoD,EAAO/nG,EAAMyjG,KAC3C,MAAMx4B,EAAMmlF,EAAYroD,GAAOl9B,KAAK63C,EAAa,GAC3Cr4C,EAAQ+lF,EAAYpwJ,GAAM6qE,KAAK63C,EAAa,GAG5C8tC,EAAmBvlF,EAAIl6E,EAAIs5E,EAAMt5E,EAAIs5E,EAAM7E,OAC7CyF,EAAIl6E,EAAIk6E,EAAIzF,MAAQ6E,EAAMt5E,IACX,WAAd0yG,EAAyBx4B,EAAId,EAAIE,EAAMF,EAAIE,EAAMn4D,OAAS+4D,EAAId,EAAIc,EAAI/4D,OAASm4D,EAAMF,GAC1F,GAAIqmF,EAAkB,CAClB,MAAMp4G,EAAmB,WAAdqrD,EAAyBx4B,EAAId,EAAIE,EAAMF,EAAIE,EAAMn4D,OAAS+4D,EAAId,EAAIc,EAAI/4D,OAASm4D,EAAMF,EAChGnqE,EAAK4oJ,aAAasD,iBAAmB9zG,CACzC,GAEEq4G,EAAoBvoD,IACtB,MAAMwoD,EAAWxoD,EAAOrjH,QAAQ4xB,MAAK,CAACnpB,EAAG2d,IAAMhe,KAAKw9E,IAAIn9E,EAAEg+J,QAAUr+J,KAAKw9E,IAAIx/D,EAAEqgJ,UAAS,GAClFqF,EAAWzoD,EAAOlkH,QAAQ0sK,GAChC,IAAK,IAAIvqK,EAAIwqK,EAAW,EAAGxqK,GAAK,EAAGA,IAAK,CACpC,MAAM6yB,EAAOkvF,EAAO/hH,EAAI,GAClB6Z,EAAOkoG,EAAO/hH,GACpBoqK,EAAyBv3I,EAAMhZ,EAAM,SACzC,CACA,IAAK,IAAI7Z,EAAIwqK,EAAW,EAAGxqK,EAAI+hH,EAAOrkH,OAAQsC,IAAK,CAC/C,MAAM6yB,EAAOkvF,EAAO/hH,EAAI,GAClB6Z,EAAOkoG,EAAO/hH,GACpBoqK,EAAyBv3I,EAAMhZ,EAAM,YACzC,GAEE4wJ,EAAoB1oD,IACtB,MAAM2oD,EAAyBthK,EAAKorB,MAAMq2D,GAAkD,IAAxCA,EAAM43E,aAAasD,mBACjEnhF,EAAQm9B,EAAOhsG,KAAK6rG,GAAUqoD,EAAYroD,KAC1C+oD,EAAc/lF,EAAM7uE,KAAK+uE,GAAQA,EAAI/iD,QAAQ2iD,KAAK63C,EAAa,KACrE,IAAIquC,GAAyB,EAC7B,IAAK,IAAI5qK,EAAI,EAAGA,EAAI2qK,EAAYjtK,SAAWktK,EAAwB5qK,IAAK,CACpE,MAAM8kF,EAAM6lF,EAAY3qK,GACxB,IAAK,IAAI+iB,EAAI/iB,EAAI,EAAG+iB,EAAIg/F,EAAOrkH,OAAQqlB,IAAK,CACxC,MAAMmhE,EAAQymF,EAAY5nJ,GAC1B,GAAI+hE,EAAIV,aAAaF,GAAQ,CACzB0mF,GAAyB,EACzB,KACJ,CACJ,CACJ,CACA,MAAMC,EAAUlB,EAAS5zJ,KAAK80E,IAC1B,MAAM,WAAEy7B,EAAU,SAAEC,GAAa17B,EAC3BsiC,EAASo1C,EAAYx2C,QAAQlhC,EAAMsiC,QACnCqyC,EAAc14J,KAAK0G,IAAI,EAAG2/G,GAChC,MAAO,CAAE7G,aAAYC,WAAUg5C,cAAaC,cAAa,IAEvDsL,EAAuBlmF,EAAMpwD,MAAMswD,GAC9B+lF,EAAQr2I,MAAM8qI,GAAWM,GAAkB96E,EAAKw6E,QAEtDsL,GAA2BF,GAA2BI,IAG3D/oD,EACKjsG,QAAQ+0E,GAA2C,WAAjCA,EAAM43E,aAAa1/E,YACrC9tE,SAAS41E,IACV,MAAM+2B,EAAQ/2B,EAAM43E,aAChB53E,EAAMq6E,OAAS,EACftjD,EAAMkkD,mBAAqB,QAEtBj7E,EAAMq6E,OAAS,EACpBtjD,EAAMkkD,mBAAqB,OAG3BlkD,EAAMkkD,mBAAqB,QAC/B,GACF,EAENwE,EAAiBV,GACjBU,EAAiBT,GACjBY,EAAiBX,GACjBW,EAAiBV,EACrB,CACA1B,wBAAwBn3B,GACpB,MAAM,YAAEqxB,EAAW,aAAEE,EAAY,YAAEE,GAAgBvmK,KAC7CosK,EAAgB7F,EAAYjlK,QAC5B,OAAEw8D,EAAM,MAAEi8B,GAAUssE,EACpBuH,EAAe,IAAI5zH,GACzBh6C,KAAK6nK,sBAAsB/4C,YAAYg2C,GAAWrlC,OAAO5mH,SAAS+sC,IAC9D,MAAM,MAAE6oC,GAAU7oC,EACZ4/D,EAAQ/2B,EAAM43E,aACdt1C,EAASo1C,EAAYx2C,QAAQlhC,EAAMsiC,QACnCqyC,EAAc14J,KAAK0G,IAAI,EAAG2/G,GAChC,KAAgB,OAAVvL,QAA4B,IAAVA,OAAmB,EAASA,EAAM5/D,OAAyB,IAAhBw9G,GAAqB59C,EAAMikD,OAE1F,YADA7jH,EAAK0oC,SAAU,GAGnB,MAAMw/E,EAAc1K,EAAcgJ,EAAgBtuG,EAC5CtvD,EAAIigF,EAAMq6E,OAASgF,EACnBlmF,EAAI6G,EAAMs6E,OAAS+E,EAActoD,EAAMmkD,iBAE7C3pK,KAAK+tK,wBAAwBH,EAAcp/J,EAAGo5E,EAAG5nF,KAAKqmK,aAAc7gD,GACpE,MAAM98B,EAAMklF,EAAa79E,eACnB,gBAAE+8E,EAAe,WAAEE,EAAU,oBAAED,GAAwB/sK,KAAKwsK,iBAAiBhnD,EAAM5/D,KAAM8iC,EAAKosD,GAC9F65B,EAAkC,IAApB7B,EAAwBtnD,EAAM5/D,KAAQ,GAAE4/D,EAAM5/D,KAAKo6C,UAAU,EAAGgtE,MACpFhtK,KAAK+tK,wBAAwBnoH,EAAMp3C,EAAGo5E,EAAG5nF,KAAKqmK,aAAcxkK,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG8hG,GAAQ,CAAE5/D,KAAM+oH,KAC5G/oH,EAAKplB,KAAOu5D,EACZn0C,EAAK0oC,SAAWy+E,CAAmB,GAE3C,CACAjK,kBAAkB1+J,EAAS0wI,GACvB,IAAIx7H,EACJ,MAAM,YAAE6sJ,EAAW,aAAEE,EAAY,YAAEE,GAAgBvmK,KAC7CosK,EAAgB7F,EAAYjlK,QAC5B,OAAEw8D,EAAM,mBAAE0nG,EAAkB,WAAErlC,GAAekmC,EACnDrmK,KAAKmoK,uBACLnoK,KAAK4qK,oBACL5qK,KAAKqtK,sCACL,MAAMuB,EAAY,GACZhpH,EAAO,IAAI5L,GACjB,IAAIixH,EACJ,IAA2B,QAArB3xJ,EAAKtZ,KAAK45G,aAA0B,IAAPtgG,OAAgB,EAASA,EAAGssC,OAAS5lD,KAAK45G,MAAMhlF,QAAS,CACxF,MAAMihC,EAAK71D,KAAK6qK,uBACZjoE,SAAS/sC,KACT71D,KAAK+tK,wBAAwBnoH,EAAM,EAAGiQ,EAAI71D,KAAK45G,MAAO,CAClDh0D,KAAM5lD,KAAK45G,MAAMh0D,KACjB8gC,aAAc,SACdC,UAAW,SACX8iF,QAAQ,EACRC,wBAAoB3nK,EACpB4nK,iBAAkB,IAEtBsB,EAAWrlH,EAAKmqC,cAChB6+E,EAAUj/J,KAAKs7J,GAEvB,CAuCA,OAtCAjrK,KAAKm2I,SAASt9H,SAAS41E,IACnB,MAAM+2B,EAAQ/2B,EAAM43E,aACdt1C,EAASo1C,EAAYx2C,QAAQlhC,EAAMsiC,QACnCqyC,EAAc14J,KAAK0G,IAAI,EAAG2/G,GAChC,IAAKvL,GAAyB,IAAhB49C,EACV,OAAO,KAEX,MAAM0K,EAAc1K,EAAcgJ,EAAgBtuG,EAC5CtvD,EAAIigF,EAAMq6E,OAASgF,EACnBlmF,EAAI6G,EAAMs6E,OAAS+E,EAActoD,EAAMmkD,iBAC7C3pK,KAAK+tK,wBAAwBnoH,EAAMp3C,EAAGo5E,EAAG5nF,KAAKqmK,aAAc7gD,GAC5D,MAAM98B,EAAM9iC,EAAKmqC,cAGjB,GAFAy1B,EAAM98B,IAAMA,EAERh+E,KAAKw9E,IAAIs9B,EAAMmkD,kBAAoBnE,EACnChgD,EAAMikD,QAAS,MADnB,CAKA,GAAIwB,EAAU,CACV,MAAM0B,EAAY73B,EAAWltD,EAAI5nF,KAAK8wH,QAChC+9C,EAAiB,IAAIlnF,GAAKsjF,EAASz8J,EAAI2xH,EAAYwsC,EAAW1B,EAAShoF,MAAQ,EAAIk9C,EAAY8qC,EAASrjF,EAAIqjF,EAASt7I,OAASwwG,EAAawsC,GACjJ,GAAIjkF,EAAIV,aAAa6mF,GAEjB,YADArpD,EAAMikD,QAAS,EAGvB,CACA,GAAIrlK,EAAQ0qK,kBAAmB,CAC3B,MAAM,WAAE9B,EAAU,oBAAED,EAAmB,6BAAEE,GAAiCjtK,KAAKwsK,iBAAiBhnD,EAAM5/D,KAAM8iC,EAAKosD,GAC3Gi6B,EAAavpD,EAAM5/D,KAAKtkD,OAAS,GAAK0rK,EAAa,EACzD,GAAID,GAAuBgC,GAAc9B,EAErC,YADAznD,EAAMikD,QAAS,EAGvB,CACAjkD,EAAMikD,QAAS,EACfmF,EAAUj/J,KAAK+4E,EAnBf,CAmBmB,IAEE,IAArBkmF,EAAUttK,OACH,KAEJqmF,GAAKioE,MAAMgf,EACtB,CACAb,wBAAwBiB,EAAUxgK,EAAGo5E,EAAG7/D,EAAOy9F,GAC3C,IAAIlsG,EAAIqb,EACR,MAAM,UAAE4sE,EAAS,WAAEC,EAAU,SAAE5E,EAAQ,WAAEC,GAAe90E,EACxDinJ,EAASztE,UAAYA,EACrBytE,EAASxtE,WAAaA,EACtBwtE,EAASpyE,SAAWA,EACpBoyE,EAASnyE,WAAaA,EACtBmyE,EAASppH,KAAO4/D,EAAM5/D,KACtBopH,EAASxgK,EAAIA,EACbwgK,EAASpnF,EAAIA,EACbonF,EAASroF,UAAoM,QAAvLhyD,EAAuF,QAAjFrb,EAAe,OAAVksG,QAA4B,IAAVA,OAAmB,EAASA,EAAMkkD,0BAAuC,IAAPpwJ,EAAgBA,EAAe,OAAVksG,QAA4B,IAAVA,OAAmB,EAASA,EAAM7+B,iBAA8B,IAAPhyD,EAAgBA,EAAK,SAC1Oq6I,EAAStoF,aAAe8+B,EAAM9+B,YAClC,CACAwlF,yBACI,MAAM,YAAE/F,GAAgBnmK,KAClBmjK,EAAcgD,EAAYx2C,QAAQ,IAClC,SAAE/yB,EAAQ,UAAE2E,EAAS,WAAEC,EAAU,WAAE3E,EAAU,eAAE6oE,EAAc,cAAEC,EAAa,MAAE5rE,GAAU/5F,KAAKsmK,YAC7F2I,EAAa9L,EAAc,EAC3B+L,EAAwE,IAAlDlvK,KAAKszI,kBAAkB55H,OAAO6oB,SAASjhC,OACnEtB,KAAK8nK,qBAAqBv5C,MAAK,CAAC3oE,EAAM6oC,KAClC,MAAM63E,EAAc73E,EAAM63E,YACpBv1C,EAASo1C,EAAYx2C,QAAQlhC,EAAMsiC,QACnCqyC,EAAc14J,KAAK0G,IAAI,EAAG2/G,GAChC,IAAIo+C,GAAgB,EACpB,GAAI7I,GAA+B,IAAhBlD,EAAmB,CAClC,MAAM0K,EAAc3K,GAAe,EAAIwC,GAAiB50C,EAAS40C,EAAgBD,EACjF9/G,EAAKplB,KAAOu5D,EACZn0C,EAAK27C,UAAYA,EACjB37C,EAAK47C,WAAaA,EAClB57C,EAAKg3C,SAAWA,EAChBh3C,EAAKi3C,WAAaA,EAClBj3C,EAAKA,KAAO0gH,EAAY1gH,KACxB,MAAMwpH,GAAyBH,GAAcC,EACzCE,GACAxpH,EAAKp3C,EAAI,EACTo3C,EAAKgiC,EAAI,IAGThiC,EAAKp3C,EAAIigF,EAAMq6E,OAASgF,EACxBloH,EAAKgiC,EAAI6G,EAAMs6E,OAAS+E,GAE5BloH,EAAK+gC,UAAY,SACjB/gC,EAAK8gC,aAAe,SACpB,MAAMO,EAAOrhC,EAAKmqC,cACZm9E,EAAU,CACZ,CAACjmF,EAAKz4E,EAAGy4E,EAAKW,GACd,CAACX,EAAKz4E,EAAIy4E,EAAKhE,MAAOgE,EAAKW,GAC3B,CAACX,EAAKz4E,EAAIy4E,EAAKhE,MAAOgE,EAAKW,EAAIX,EAAKt3D,QACpC,CAACs3D,EAAKz4E,EAAGy4E,EAAKW,EAAIX,EAAKt3D,UAErB,WAAEu6F,EAAU,SAAEC,GAAa17B,EAC3B4gF,EAAe,CAAEnlD,aAAYC,WAAUg5C,cAAaC,eACtD8J,EAAQnoI,OAAM,EAAEv2B,EAAGo5E,KAAOq7E,GAAgBz0J,EAAGo5E,EAAGynF,OAChDF,GAAgB,EAExB,CACAvpH,EAAK0oC,QAAU6gF,CAAa,GAEpC,CACAvD,oBACI,MAAMJ,EAASxrK,KAAKsrK,gBACpB,IAAKE,EACD,OAEJ,MAAMrI,EAAcnjK,KAAK0qK,iBACzB,GAAoB,IAAhBvH,EACAqI,EAAO7uJ,KAAO,MAEb,CACD,MAAM2yJ,EAAe5kK,KAAK2G,IAAI8xJ,EAAanjK,KAAK2qK,kBAC1C4E,EAAsB,EAC5B/D,EAAO7uJ,KAAOjS,KAAK2D,KAAoB,EAAfihK,EAAmBC,EAC/C,CACJ,CACApD,wBACI,MAAMqD,EAAa,GACbC,EAAU,GAChBzvK,KAAK+nK,qBAAqBx5C,MAAK,CAAC3oE,EAAM6oC,KAClC,MAAM,UAAE8S,EAAS,WAAEC,EAAU,SAAE5E,EAAQ,WAAEC,EAAU,MAAE9C,GAAUtL,EAC/D7oC,EAAK27C,UAAYA,EACjB37C,EAAK47C,WAAaA,EAClB57C,EAAKg3C,SAAWA,EAChBh3C,EAAKi3C,WAAaA,EAClBj3C,EAAKA,KAAO6oC,EAAM7oC,KAClBA,EAAKp3C,EAAI,EACTo3C,EAAKgiC,EAAI,EACThiC,EAAKplB,KAAOu5D,EACZn0C,EAAK+gC,UAAY,SACjB/gC,EAAK8gC,aAAe,aACpB8oF,EAAW7/J,KAAKi2C,EAAKmqC,eACrB0/E,EAAQ9/J,KAAK8+E,EAAM2qD,OAAO,IAE9B,MAAMs2B,EAAgBnuK,GAAqB,IAAVA,EAAc,EAAIkuK,EAAQluK,GACrDouK,EAAmBpuK,GAAWA,IAAUkuK,EAAQnuK,OAAS,EAAI,EAAImuK,EAAQluK,GACzEu8F,EAAc0xE,EAAW7lJ,QAAO,CAACs3E,EAAKha,EAAMrjF,IACvCq9F,EAAMha,EAAKt3D,OAAS+/I,EAAa9rK,GAAK+rK,EAAgB/rK,IAC9D,GACGw+J,EAAa13J,KAAK0G,OAAOo+J,EAAW71J,KAAKstE,GAASA,EAAKhE,SACvDkgF,EAAcnjK,KAAK0qK,iBACnBoD,EAAcpjK,KAAK8uF,KAAK9uF,KAAKs5F,IAAIo+D,EAAa,EAAG,GAAK13J,KAAKs5F,IAAIlG,EAAc,EAAG,IAChF8xE,EAAgB9B,IAAgB3K,EAAc,EAAIA,EAAcnjK,KAAK2qK,kBACrEkF,EAAc,GACpB,IAAK,IAAIjsK,EAAI,EAAG6yB,GAAQqnE,EAAc,EAAGl6F,EAAI4rK,EAAWluK,OAAQsC,IAAK,CACjE,MAAMqjF,EAAOuoF,EAAW5rK,GAClB6kF,EAASxB,EAAKt3D,OAAS8G,EAAOi5I,EAAa9rK,GACjDisK,EAAYlgK,KAAK84E,GACjBhyD,EAAOgyD,EAASknF,EAAgB/rK,EACpC,CACA5D,KAAK+nK,qBAAqBx5C,MAAK,CAAC3oE,EAAM8oC,EAAQntF,KAC1CqkD,EAAKgiC,EAAIioF,EAAYtuK,GACrBqkD,EAAK0oC,QAAUshF,CAAa,GAEpC,CACA1sD,kBAAkBruF,EAAO45D,GACrB,OAAO,IAAI22E,GAAwBplK,KAAKglK,SAAUhlK,KAAKilK,gBAAiBjlK,KAAKklK,eAAgBllK,KAAKmlK,UAAWtwI,EAAO45D,EAAOzuF,KAC/H,CACAojH,wBAAwBvuF,EAAO45D,GAC3B,OAAO,IAAI42E,GAA8BrlK,KAAKglK,SAAUhlK,KAAKilK,gBAAiBjlK,KAAKklK,eAAgBllK,KAAKmlK,UAAWtwI,EAAO45D,EAAOzuF,KACrI,CACA+4J,eAAe+W,GACX,IAAIx2J,EACJ,MAAM,SAAE0rJ,GAAahlK,KACrB,IAAKglK,EACD,MAAO,GAEX,MAAM,QAAEtjB,EAAO,UAAE8kB,EAAS,UAAErB,EAAS,WAAEwB,EAAU,gBAAE1B,EAAe,eAAEC,EAAc,iBAAE4B,EAAgB,gBAAEC,EAAiB/0J,GAAIssG,GAAct+G,MACjIkoC,SAAU6nI,GAAoBruB,GAChC,MAAEjzD,EAAK,WAAEg6E,EAAU,YAAEC,EAAaE,cAAgBpoI,KAAMu5D,GAASssE,cAAgBzgH,KAAM4/D,EAAQ,IAAO,CAAC,GAAOsqD,EAC9GE,EAA4C,kBAAfvH,EAA0Bj4C,GAAQi4C,GAAcloK,OAAOkoK,GACpF7uD,EAA8B,QAArBtgG,EAAKtZ,KAAK45G,aAA0B,IAAPtgG,OAAgB,EAASA,EAAGssC,KAClEG,EAAW,GAAEy/D,EAAS,GAAEA,MAAY,KAAKwqD,IACzClhI,EAAW,CACb8qE,QACAC,gBAAiB9f,EACjBh0C,WAEJ,OAAIgqH,EACOp2D,GAAco2D,EAAgB,CACjCthF,QACAu2E,WACAyD,aACAjC,YACArB,YACAuD,cACA/B,aACA1B,kBACA6B,mBACA5B,iBACA6B,kBACAntD,QACA7f,QACAukB,aACAxvE,GAED6qE,GAAc7qE,EACzB,CACAwhH,gBACI,IAAIh3I,EAAIqb,EAAI2C,EACZ,MAAM,gBAAE2tI,EAAe,cAAE+B,EAAa,GAAEh1J,EAAE,KAAEhF,GAAShN,KACrD,IAAKgN,GAAwB,IAAhBA,EAAK1L,OACd,MAAO,GACX,IAAK0lK,IAAkB/B,EACnB,MAAO,GACX,MAAMgL,GAAmC,QAArB32J,EAAKtZ,KAAK45G,aAA0B,IAAPtgG,OAAgB,EAASA,EAAGmmG,eAAiBz/G,KAAK45G,MAAMh0D,KACnGwqG,EAAa,GACnB,IAAK,IAAI7uJ,EAAQ,EAAGA,EAAQyL,EAAK1L,OAAQC,IAAS,CAC9C,MAAMktF,EAAQzhF,EAAKzL,GACb2uK,EAAa,GACfD,GACAC,EAAWvgK,KAAKsgK,GAEpB,MAAMtqD,EAAS3lH,KAAK2oK,UAAUl6E,EAAO,EAAI/jF,KAAKkuF,GAAI,EAAIluF,KAAKkuF,IAAI,GAO/D,GANIouE,QAAuCjlK,IAAtB4jH,EAAOikD,WACxBsG,EAAWvgK,KAAKg2G,EAAOikD,WAAWhkH,MAE7Bq/G,QAAiGljK,KAA9C,QAA9B4yB,EAAKgxF,EAAO0gD,oBAAiC,IAAP1xI,OAAgB,EAASA,EAAGixB,OAC5FsqH,EAAWvgK,KAAoC,QAA9B2nB,EAAKquF,EAAO0gD,oBAAiC,IAAP/uI,OAAgB,EAASA,EAAGsuB,MAE7D,IAAtBsqH,EAAW5uK,OACX,SACJ,MAAMsnK,EAAe5oK,KAAK6oK,gBAAgBp6E,EAAOltF,EAAOA,GAAO,GAC/D6uJ,EAAWzgJ,KAAK,CACZ4gJ,WAAY,WACZv+I,KACAmwG,OAAQ5gH,EACR+8G,SAAUtsG,EACV4iB,QAAS50B,KAAKszI,kBAAkB/xI,GAChCikH,MAAO,CACH5/D,KAAMsqH,EAAWniK,KAAK,QAE1Bw2I,OAAQ,CACJ/jH,KAAMooI,EAAapoI,KACnB85D,OAAQsuE,EAAatuE,OACrBH,YAAan6F,KAAKm6F,YAClBC,cAAep6F,KAAKo6F,gBAGhC,CACA,OAAOg2D,CACX,CACA/b,kBAAkBx/G,GACd,MAAM,QAAED,EAAO,OAAEutF,EAAM,OAAE9D,GAAWxpF,EAChCwpF,EAAOrsG,KAAOhS,KAAKgS,GACnBhS,KAAKqjH,iBAAiBlB,EAAQvtF,GAET,QAAhBypF,EAAO9xG,MACZvM,KAAKmwK,uBAAuB9xD,EAAQ8D,EAAQvtF,EAEpD,CACAyuF,iBAAiBlB,EAAQvtF,GACrB50B,KAAKszI,kBAAkBnxB,GAAUvtF,EACjC50B,KAAKs/G,iBAAkB,CAC3B,CACA6wD,uBAAuB9xD,EAAQ8D,EAAQvtF,GACnC,IAAItb,EAAIqb,EACR,MAAM,cAAEqyI,GAAkBhnK,KAC1B,IAAKgnK,EACD,OACJ,MAAMoJ,EAA8B/xD,EAAO2oD,gBAAyC,QAAtB1tJ,EAAK+kG,EAAOrxG,YAAyB,IAAPsM,OAAgB,EAASA,EAAG2tD,MAAK,CAACliD,EAAGxjB,IAAUA,IAAU4gH,IAAQ9D,EAAO2oD,gBAC/JoJ,IAEgB,QAApBz7I,EAAK30B,KAAKgN,YAAyB,IAAP2nB,GAAyBA,EAAG9b,SAAQ,CAAC41E,EAAO4hF,KACjE5hF,EAAMu4E,KAAmBoJ,GACzBpwK,KAAKqjH,iBAAiBgtD,EAAaz7I,EACvC,IAER,CACA++G,0BACI,MAAM3iF,EAAW,IACXs/G,EAAgB,IAChB9lF,EAAW9/E,KAAKkuF,IAAM,EAAIK,GAAUj5F,KAAKwqF,UAC/CxqF,KAAKomK,eAAet3C,YAAYg2C,GAAWnB,QAAQ9qJ,SAASqlB,IACxD,IAAI5kB,EACJ,MAAMm1E,EAAQvwD,EAAKuwD,MACc,QAAhCn1E,EAAKtZ,KAAK8zJ,wBAAqC,IAAPx6I,GAAyBA,EAAG8jI,YAAa,GAAEp9I,KAAKgS,yBAAyBksB,EAAKlsB,KAAM,CACzH,CAAEoa,KAAMo+D,EAAUl4C,GAAIm8C,EAAMy7B,YAC5B,CAAE99F,KAAMo+D,EAAUl4C,GAAIm8C,EAAM07B,WAC7B,CACC8yB,qBAAqB,EACrBjsF,WACA2pF,KAAMa,GACN30H,OAAQ,EACRq0H,UAAUhxB,EAAYC,IAClBjsF,EAAKgsF,WAAaA,EAClBhsF,EAAKisF,SAAWA,CACpB,GACF,IAEN,MAAMomD,EAAwB,CAC1BnkJ,KAAM,EACNkmB,GAAI,EACJ7L,MAAOuqB,EACPA,SAAUs/G,EACV31B,KAAMa,GACN30H,OAAQ,GAEZ7mB,KAAK6nK,sBAAsBt5C,MAAM/I,IAC7B,IAAIlsG,EAC6B,QAAhCA,EAAKtZ,KAAK8zJ,wBAAqC,IAAPx6I,GAAyBA,EAAGkhI,QAAS,GAAEx6I,KAAKgS,yBAAyBwzG,EAAMxzG,KAAMnQ,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG6sJ,GAAwB,CAAEr1B,SAASp3D,GACrL0hC,EAAM1hC,QAAUA,CACpB,IAAK,IAEb9jF,KAAK8nK,qBAAqBv5C,MAAM/I,IAC5B,IAAIlsG,EAC6B,QAAhCA,EAAKtZ,KAAK8zJ,wBAAqC,IAAPx6I,GAAyBA,EAAGkhI,QAAS,GAAEx6I,KAAKgS,yBAAyBwzG,EAAMxzG,KAAMnQ,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG6sJ,GAAwB,CAAEr1B,SAASp3D,GACrL0hC,EAAM1hC,QAAUA,CACpB,IAAK,IAEb9jF,KAAK+nK,qBAAqBx5C,MAAM/I,IAC5B,IAAIlsG,EAC6B,QAAhCA,EAAKtZ,KAAK8zJ,wBAAqC,IAAPx6I,GAAyBA,EAAGkhI,QAAS,GAAEx6I,KAAKgS,yBAAyBwzG,EAAMxzG,KAAMnQ,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG6sJ,GAAwB,CAAEr1B,SAASp3D,GACrL0hC,EAAM1hC,QAAUA,CACpB,IAAK,GAEjB,CACAkkF,0BACIhoK,KAAKomK,eAAet3C,YAAYg2C,GAAWnB,QAAQ9qJ,SAASqlB,IACxD,MAAM,MAAEuwD,GAAUvwD,EAClBA,EAAKgsF,WAAaz7B,EAAMy7B,WACxBhsF,EAAKisF,SAAW17B,EAAM07B,QAAQ,GAEtC,EAEJ+7C,GAAU77G,UAAY,YACtB67G,GAAU35J,KAAO,MACjB0iB,GAAW,CACPmgF,GAASmB,KACV21D,GAAUl9J,UAAW,gBAAY,GACpCimB,GAAW,CACPmgF,GAASmB,KACV21D,GAAUl9J,UAAW,iBAAa,GACrCimB,GAAW,CACPmgF,GAASoB,KACV01D,GAAUl9J,UAAW,iBAAa,GACrCimB,GAAW,CACPmgF,GAASoB,KACV01D,GAAUl9J,UAAW,kBAAc,GACtCimB,GAAW,CACPmgF,GAASiC,GAAW,KACrB60D,GAAUl9J,UAAW,iBAAa,GACrCimB,GAAW,CACPmgF,GAASiC,GAAW,KACrB60D,GAAUl9J,UAAW,iBAAa,GACrCimB,GAAW,CACPmgF,GAASoB,KACV01D,GAAUl9J,UAAW,uBAAmB,GAC3CimB,GAAW,CACPmgF,GAASoB,KACV01D,GAAUl9J,UAAW,wBAAoB,GAC5CimB,GAAW,CACPmgF,GAASoB,KACV01D,GAAUl9J,UAAW,sBAAkB,GAC1CimB,GAAW,CACPmgF,GAASoB,KACV01D,GAAUl9J,UAAW,uBAAmB,GAC3CimB,GAAW,CACPmgF,GAASoB,KACV01D,GAAUl9J,UAAW,qBAAiB,GACzCimB,GAAW,CACPmgF,GAAS+B,KACV+0D,GAAUl9J,UAAW,aAAS,GACjCimB,GAAW,CACPmgF,GAAS+B,KACV+0D,GAAUl9J,UAAW,eAAW,GACnCimB,GAAW,CACPmgF,GAASwB,GAAO,EAAG,KACpBs1D,GAAUl9J,UAAW,mBAAe,GACvCimB,GAAW,CACPmgF,GAASwB,GAAO,EAAG,KACpBs1D,GAAUl9J,UAAW,qBAAiB,GACzCimB,GAAW,CACPmgF,GAAS8C,KACVg0D,GAAUl9J,UAAW,gBAAY,GACpCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBs1D,GAAUl9J,UAAW,sBAAkB,GAC1CimB,GAAW,CACPmgF,GAASgB,KACV81D,GAAUl9J,UAAW,iBAAa,GACrCimB,GAAW,CACPmgF,GAASwB,IAAQ,IAAK,OACvBs1D,GAAUl9J,UAAW,gBAAY,GACpCimB,GAAW,CACPmgF,GAASwB,OACVs1D,GAAUl9J,UAAW,yBAAqB,GAC7CimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBs1D,GAAUl9J,UAAW,wBAAoB,GAC5CimB,GAAW,CACPmgF,GAASwB,OACVs1D,GAAUl9J,UAAW,yBAAqB,GAC7CimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBs1D,GAAUl9J,UAAW,wBAAoB,GAC5CimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBs1D,GAAUl9J,UAAW,mBAAe,GCpyCvC,IAAIwrF,GAAwC,SAAUt3E,EAASu3E,EAAYlqF,EAAGmqF,GAC1E,SAASC,EAAMvzF,GAAS,OAAOA,aAAiBmJ,EAAInJ,EAAQ,IAAImJ,GAAE,SAAUokB,GAAWA,EAAQvtB,EAAQ,GAAI,CAC3G,OAAO,IAAKmJ,IAAMA,EAAImkB,WAAU,SAAUC,EAASuY,GAC/C,SAAS0tD,EAAUxzF,GAAS,IAAMo/E,EAAKkU,EAAUj3E,KAAKrc,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC1F,SAASwpE,EAASzzF,GAAS,IAAMo/E,EAAKkU,EAAU,SAAStzF,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC7F,SAASm1D,EAAKv9E,GAAUA,EAAOya,KAAOiR,EAAQ1rB,EAAO7B,OAASuzF,EAAM1xF,EAAO7B,OAAO+iB,KAAKywE,EAAWC,EAAW,CAC7GrU,GAAMkU,EAAYA,EAAUhrF,MAAMwT,EAASu3E,GAAc,KAAKh3E,OAClE,GACJ,EAMO,MAAM+yJ,WAAmBve,GAC5B1mJ,YAAYzG,EAAW8F,OAAO9F,SAAUs+E,EAA0B8uE,GAC9D5iI,MAAMxqB,EAAUs+E,EAA0B8uE,GAC1ClyJ,KAAK0jH,QAAU,IAAIG,GAAQ,GAC/B,CACA6oC,gBACI,MAAMh/H,EAAS7rB,OAAOohB,OAAO,KAAM,CAC/BypI,cAAe,CAAE9nJ,IAAKA,IAAM0qB,MAAMo9H,iBAEtC,OAAOl4D,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAMyjJ,QAAmB/1H,EAAOg/H,cAAcljJ,KAAKxJ,MAC7CywK,EAAiBhtB,EAAW99G,QAClC3lC,KAAK0wK,kBAAkBjtB,GACvBzjJ,KAAK2wK,gBACL,MAAM5Q,EAAmB,GACnBtH,EAAYhV,EAAW99G,QAAQ2iD,KAAKy3E,GAQ1C,OAPA//J,KAAKy4J,UAAYA,EACjBz4J,KAAKksJ,cAAcxI,uBAAuB,CACtCn3I,KAAM,kBACNujB,MAAO,CAAEmzD,MAAOjjF,KAAKkyF,MAAMjP,MAAOtzD,OAAQ3vB,KAAKkyF,MAAMviE,QACrD0uF,OAAQ,CAAEsN,KAAM8kD,EAAgBzQ,WAAYvc,EAAYgV,YAAWnqE,SAAS,GAC5EymE,KAAM,KAEHtR,CACX,GACJ,CACAitB,kBAAkBjtB,GACd,MAAM,kBAAE5f,GAAsB7jI,KAC9ByjJ,EAAWt7D,OAAO07C,EAAkBjuE,KAAM,QAC1C6tF,EAAWt7D,OAAO07C,EAAkB/tE,IAAK,OACzC2tF,EAAWt7D,OAAO07C,EAAkB3qE,MAAO,SAC3CuqF,EAAWt7D,OAAO07C,EAAkBp7C,OAAQ,UAC5CzoF,KAAK80I,WAAa2O,CACtB,CACAktB,gBACI,MAAMC,EAAY5wK,KAAK80I,WACjB+7B,EAAc7wK,KAAKq+G,OAAO3kG,QAAQ2kG,GAC7BA,aAAkBwkD,KAEvBiO,EAAkBA,CAAC7mF,EAAIC,EAAI/pE,KAC7B0wJ,EAAYh4J,SAASwlG,IACjBA,EAAOwS,QAAU5mC,EACjBo0B,EAAOyS,QAAU5mC,EACjBm0B,EAAO0S,OAAS5wG,CAAC,IAErB,MAAM4wJ,EAAYF,EAAYn3J,QAAQ2kG,GAAWA,aAAkB6nD,KACnE,GAAI6K,EAAUzvK,OAAS,EAAG,CACtB,MAAM0vK,EAAaD,EACdp3J,KAAK0kG,IACN,MAAM8kD,EAAc9kD,EAAOqsD,iBAC3B,MAAO,CAAErsD,SAAQ8kD,cAAa,IAE7BjvI,MAAK,CAACnpB,EAAG2d,IAAM3d,EAAEo4J,YAAcz6I,EAAEy6I,cACtC6N,EAAWA,EAAW1vK,OAAS,GAAG+8G,OAAOkpD,uBAAoBxlK,EAC7D,IAAK,IAAI6B,EAAI,EAAGA,EAAIotK,EAAW1vK,OAAS,EAAGsC,IACvCotK,EAAWptK,GAAGy6G,OAAOkpD,kBAAoByJ,EAAWptK,EAAI,GAAGu/J,WAEnE,GAEEtyC,EAAU+/C,EAAUpiK,EAAIoiK,EAAU3tF,MAAQ,EAC1C6tC,EAAU8/C,EAAUhpF,EAAIgpF,EAAUjhJ,OAAS,EAC3CshJ,EAAgBvmK,KAAK0G,IAAI,EAAG1G,KAAK2G,IAAIu/J,EAAU3tF,MAAO2tF,EAAUjhJ,QAAU,GAChF,IAAIohG,EAASkgD,EACbH,EAAgBjgD,EAASC,EAASC,GAClC,MAAMmgD,EAAQA,EAAGpC,qBAAoB,GAAU,CAAC,KAC5C,MAAMqC,EAAa,GACnB,IAAK,MAAM9yD,KAAUwyD,EAAa,CAC9B,MAAMnoF,EAAM21B,EAAOykD,kBAAkB,CAAEgM,qBAAqB8B,GACjD,MAAPloF,GAEJyoF,EAAWxhK,KAAK+4E,EACpB,CACA,GAA0B,IAAtByoF,EAAW7vK,OAEX,YADAwvK,EAAgBjgD,EAASC,EAASmgD,GAGtC,MAAMG,EAAWzpF,GAAKioE,MAAMuhB,GACtBE,EAAUrxK,KAAKsxK,aAAaF,EAAUrgD,GAC5C+/C,EAAgBO,EAAQxgD,QAASwgD,EAAQvgD,QAASugD,EAAQtgD,QACtDsgD,EAAQtgD,SAAWA,IAGvBA,EAASsgD,EAAQtgD,OAAM,EAE3BmgD,IACAA,IACAA,IACAA,EAAM,CAAEpC,mBAAmB,IAC3BoC,EAAM,CAAEpC,mBAAmB,GAC/B,CACAwC,aAAaC,EAAWxgD,GACpB,MAAMygD,EAAiB,GACjBZ,EAAY5wK,KAAK80I,WACjB28B,GAAc1gD,EACd2gD,GAAa3gD,EACb4gD,EAAc5gD,EACd6gD,EAAe7gD,EAErB,IAAI8M,EAAUnzH,KAAK0G,IAAI,EAAGqgK,EAAaF,EAAU/iK,GAC7CqjK,EAASnnK,KAAK0G,IAAI,EAAGsgK,EAAYH,EAAU3pF,GAC3Ck2C,EAAWpzH,KAAK0G,IAAI,EAAGmgK,EAAU/iK,EAAI+iK,EAAUtuF,MAAQ0uF,GACvDG,EAAYpnK,KAAK0G,IAAI,EAAGmgK,EAAU3pF,EAAI2pF,EAAU5hJ,OAASiiJ,GAE7D,MAAMG,EAAmBnB,EAAU3tF,MAAQ46C,EAAUC,EAC/Ck0C,EAAoBpB,EAAUjhJ,OAASkiJ,EAASC,EACtD,IAAIG,EAAYvnK,KAAK2G,IAAI0gK,EAAkBC,GAAqB,EAChE,MAAME,EAAuBV,EAAiBZ,EAAU3tF,MAAS,EAC3DkvF,EAAqBX,EAAiBZ,EAAUjhJ,OAAU,EAC1DyiJ,EAAY1nK,KAAK2G,IAAI6gK,EAAqBC,GAChD,GAAIF,EAAYG,EAAW,CAEvBH,EAAYG,EACZ,MAAMlQ,EAAoBrkC,EAAUC,EAC9BqkC,EAAkB0P,EAASC,EACjC,GAAI,EAAIG,EAAY9P,EAAkByO,EAAUjhJ,OAAQ,CACpD,MAAM0iJ,EAAYzB,EAAUjhJ,OAAS,EAAIsiJ,EACP,EAA9BvnK,KAAK2G,IAAIwgK,EAAQC,GAAiBO,GAClCR,EAASQ,EAAY,EACrBP,EAAYO,EAAY,GAEnBR,EAASC,EACdD,EAASQ,EAAYP,EAGrBA,EAAYO,EAAYR,CAEhC,CACA,GAAI,EAAII,EAAY/P,EAAoB0O,EAAU3tF,MAAO,CACrD,MAAM26C,EAAWgzC,EAAU3tF,MAAQ,EAAIgvF,EACL,EAA9BvnK,KAAK2G,IAAIwsH,EAASC,GAAgBF,GAClCC,EAAUD,EAAW,EACrBE,EAAWF,EAAW,GAEjBC,EAAUC,EACfD,EAAUD,EAAWE,EAGrBA,EAAWF,EAAWC,CAE9B,CACJ,CACA,MAAMy0C,EAAWz0C,EAAU,EAAIo0C,EAAYn0C,EACrCy0C,EAAYV,EAAS,EAAII,EAAYH,EAC3C,MAAO,CACHjhD,QAAS+/C,EAAUpiK,GAAKoiK,EAAU3tF,MAAQqvF,GAAY,EAAIz0C,EAAUo0C,EACpEnhD,QAAS8/C,EAAUhpF,GAAKgpF,EAAUjhJ,OAAS4iJ,GAAa,EAAIV,EAASI,EACrElhD,OAAQkhD,EAEhB,EAEJzB,GAAWnmH,UAAY,aACvBmmH,GAAWjkK,KAAO,QCrKlB,IAAIioF,GAAwC,SAAUt3E,EAASu3E,EAAYlqF,EAAGmqF,GAC1E,SAASC,EAAMvzF,GAAS,OAAOA,aAAiBmJ,EAAInJ,EAAQ,IAAImJ,GAAE,SAAUokB,GAAWA,EAAQvtB,EAAQ,GAAI,CAC3G,OAAO,IAAKmJ,IAAMA,EAAImkB,WAAU,SAAUC,EAASuY,GAC/C,SAAS0tD,EAAUxzF,GAAS,IAAMo/E,EAAKkU,EAAUj3E,KAAKrc,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC1F,SAASwpE,EAASzzF,GAAS,IAAMo/E,EAAKkU,EAAU,SAAStzF,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC7F,SAASm1D,EAAKv9E,GAAUA,EAAOya,KAAOiR,EAAQ1rB,EAAO7B,OAASuzF,EAAM1xF,EAAO7B,OAAO+iB,KAAKywE,EAAWC,EAAW,CAC7GrU,GAAMkU,EAAYA,EAAUhrF,MAAMwT,EAASu3E,GAAc,KAAKh3E,OAClE,GACJ,EAGO,MAAM+0J,WAAuBvgB,GAChC1mJ,YAAYzG,EAAW8F,OAAO9F,SAAUs+E,EAA0B8uE,GAC9D5iI,MAAMxqB,EAAUs+E,EAA0B8uE,GAC1ClyJ,KAAKu/G,MAAQ,CAAC,CAClB,CACAmtC,gBACI,MAAMh/H,EAAS7rB,OAAOohB,OAAO,KAAM,CAC/BypI,cAAe,CAAE9nJ,IAAKA,IAAM0qB,MAAMo9H,iBAEtC,OAAOl4D,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAMyjJ,QAAmB/1H,EAAOg/H,cAAcljJ,KAAKxJ,OAC7C,kBAAE6jI,GAAsB7jI,KACxBywK,EAAiBhtB,EAAW99G,QAClC89G,EAAWt7D,OAAO07C,EAAkBjuE,KAAM,QAC1C6tF,EAAWt7D,OAAO07C,EAAkB/tE,IAAK,OACzC2tF,EAAWt7D,OAAO07C,EAAkB3qE,MAAO,SAC3CuqF,EAAWt7D,OAAO07C,EAAkBp7C,OAAQ,UAC5CzoF,KAAK80I,WAAa2O,EAClB,MAAMsc,EAAmB,GACnBtH,EAAYhV,EAAW99G,QAAQ2iD,KAAKy3E,GAC1C//J,KAAKy4J,UAAYA,QACX/pI,QAAQ3pB,IAAI/E,KAAKq+G,OAAO1kG,KAAK0kG,GAAW7pB,GAAUx0F,UAAM,OAAQ,GAAQ,YAC1Eq+G,EAAOa,UAAUz0B,aAAe//E,KAAK4D,MAAMm1I,EAAWj1I,GACtD6vG,EAAOa,UAAUx0B,aAAehgF,KAAK4D,MAAMm1I,EAAW77D,SAChDy2B,EAAO3tF,OAAO,CAAEokH,WAAY2O,GACtC,OACA,MAAM,WAAE6O,GAAetyJ,KAQvB,OAPAsyJ,EAAWp+D,kCAAkC,IAAIvM,GAAK87D,EAAWj1I,EAAGi1I,EAAW77D,EAAG67D,EAAWxgE,MAAOwgE,EAAW9zH,SAC/G3vB,KAAKksJ,cAAcxI,uBAAuB,CACtCn3I,KAAM,kBACNujB,MAAO,CAAEmzD,MAAOjjF,KAAKkyF,MAAMjP,MAAOtzD,OAAQ3vB,KAAKkyF,MAAMviE,QACrD0uF,OAAQ,CAAEsN,KAAM8kD,EAAgBzQ,WAAYvc,EAAYgV,YAAWnqE,SAAS,GAC5EymE,KAAM,KAEHtR,CACX,GACJ,EAEJ+uB,GAAenoH,UAAY,iBAC3BmoH,GAAejmK,KAAO,YCjDtB,MAAMkmK,GAAqB,gBACpB,SAASr4B,GAAYhqI,EAAOsI,EAAQg6J,GACvC,OAAOtiK,EAAMzI,QAAQ8qK,IAAoB,YAAar4J,GAClD,MAAM9V,EAAO8V,EAAK,IACXu4J,EAAWC,GAActuK,EAAKkD,MAAM,KACrCpG,EAAQsX,EAAOi6J,GACrB,GAAqB,kBAAVvxK,EAAoB,CAC3B,MAAMk4H,EAASs5C,GAAcF,GAAWA,EAAQE,GAChD,GAAIt5C,EAAQ,CACR,MAAM,QAAEu5C,EAAO,QAAEzuK,GAAYk1H,EAC7B,OAAOl4H,EAAM0xK,eAAeD,EAASzuK,EACzC,CACA,OAAO7D,OAAOa,EAClB,CACA,GAAIA,aAAiBgqB,KAAM,CACvB,MAAMkuG,EAASs5C,GAAcF,GAAWA,EAAQE,GAChD,GAAsB,kBAAXt5C,EAAqB,CAC5B,MAAM5B,EAAYT,GAAeqC,GACjC,OAAO5B,EAAUt2H,EACrB,CACA,OAAOA,EAAM2xK,cACjB,CACA,MAAqB,kBAAV3xK,IAAiC,OAAVA,QAA4B,IAAVA,OAAmB,EAASA,EAAMgB,UAC3E7B,OAAOa,GAEX,EACX,GACJ,CC5BA,IAAIulE,GAAU,KACP,SAASqsG,GAAaptH,GAEzB,OADA+gB,GAAsB,OAAZA,SAAgC,IAAZA,GAAqBA,GAAU7hE,SAASI,cAAc,OAC/E0gD,GAGL+gB,GAAQzrB,YAAc0K,EACf+gB,GAAQ1rB,WAHJ,EAIf,CCPO,SAASg4H,GAA2BjgE,EAAQ8yB,GAG/C,IAAIz/G,EAAQ3b,KAAK4D,MAAM0kG,EAAO,IAC1B99F,EAAO89F,EAAO,GAClB3sF,EAAQ6sJ,GAAmB7sJ,EAAOnR,EAAM4wH,GACxC,MAAMtlD,EAAO2yF,GAAY9sJ,EAAOnR,EAAM4wH,GAChC7kG,EAAW6kG,EAAmB,EACpC5wH,EAAOmR,EAAQ4a,EAAWu/C,EAC1B,MAAMrxD,EAAI,CAAC9I,EAAOnR,GACZw6G,EAAQqZ,GAAS1iH,EAAOm6D,EAAMslD,GACpC,MAAO,CAAC32G,EAAGugG,EACf,CACA,SAASwjD,GAAmBnoK,EAAG2d,EAAGhC,GAC9B,MAAMwpG,EAAUxlH,KAAKw9E,IAAIx/D,EAAI3d,IAAM2b,EAAQ,GACrC0sJ,EAAQ1oK,KAAK4D,MAAM5D,KAAKspH,MAAM9D,IAC9BmjD,EAAY3oK,KAAKs5F,IAAI,GAAIovE,GAC/B,OAAO1oK,KAAK4D,MAAMvD,EAAIsoK,GAAaA,CACvC,CACA,SAAStqC,GAAS1iH,EAAOm6D,EAAM95D,GAE3B,MAAM4sJ,EAAY5oK,KAAK4D,MAAM5D,KAAKspH,MAAMxzC,IAClCujB,EAAiBvjB,EAAO,GAAKA,EAAO,EAAI91E,KAAKw9E,IAAIorF,GAAa,EAC9D3vK,EAAI+G,KAAKs5F,IAAI,GAAID,GACjB2rB,EAAQ,IAAImE,GAAa9vB,GAC/B,IAAK,IAAIngG,EAAI,EAAGA,EAAI8iB,EAAO9iB,IAAK,CAC5B,MAAMu/H,EAAO98G,EAAQm6D,EAAO58E,EAC5B8rH,EAAM9rH,GAAK8G,KAAK86E,MAAM29C,EAAOx/H,GAAKA,CACtC,CACA,OAAO+rH,CACX,CACA,SAASyjD,GAAY9sJ,EAAOnR,EAAMwR,GAC9B,MAAMua,EAAWva,EAAQ,EACnBwpG,GAAWh7G,EAAOmR,GAAS4a,EACjC,OAAOsyI,GAAsBrjD,EACjC,CACA,SAASqjD,GAAsBrjD,GAC3B,MAAMkjD,EAAQ1oK,KAAK4D,MAAM5D,KAAKspH,MAAM9D,IAC9BmjD,EAAY3oK,KAAKs5F,IAAI,GAAIovE,GAEzB5yF,EAAQ0vC,EAAUmjD,EAAa,GACrC,OAAI7yF,EAAO,GAAKA,GAAQ,EACb6yF,EAAY,GAEnB7yF,EAAO,GAAKA,GAAQ,EACZ,EAAI6yF,EAAa,GAEzB7yF,EAAO,GAAKA,GAAQ,EACZ,EAAI6yF,EAAa,GAEzB7yF,EAAO,GAAKA,GAAQ,GACZ,GAAK6yF,EAAa,GAE1B7yF,EAAO,IAAMA,GAAQ,GACb,GAAK6yF,EAAa,GAE1B7yF,EAAO,IAAMA,GAAQ,GACb,GAAK6yF,EAAa,GAE1B7yF,EAAO,IAAMA,GAAQ,GACb,GAAK6yF,EAAa,GAE1B7yF,EAAO,IAAMA,GAAQ,IACb,IAAM6yF,EAAa,GAExB7yF,CACX,CCnEA,IAAIvxD,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EASA,MAAMqzJ,WAAuB9xC,GACzBn2H,cACI+jB,SAASzsB,WACT7C,KAAKmnI,WAAathH,GACtB,EAEJoJ,GAAW,CACPmgF,GAASQ,GAAI0B,GAAc,GAAIpB,GAAa,gBAC5CovB,GAAQz5G,MACT2tJ,GAAexqK,UAAW,kBAAc,GACpC,MAAMyqK,WAAmB9mC,GAC5BphI,YAAYs0G,EAAW14B,EAAQ,IAAIqlD,IAC/Bl9G,MAAMuwF,EAAW14B,GACjBnnF,KAAKqR,IAAMwU,IACX7lB,KAAKoR,IAAMyU,IACXshE,EAAM2rC,sBAAuB,CACjC,CACAsa,oBAAoBj+G,GAChB,IAAI7V,EACJ,MAAM,IAAEjI,EAAG,IAAED,GAAQpR,KAarB,OAZImvB,EAAE7tB,OAAS,IACX6tB,EAAyB,QAApB7V,EAAK+5F,GAAOlkF,UAAuB,IAAP7V,EAAgBA,EAAK,CAACuM,IAAKA,MAE3DF,MAAMtU,KACP8d,EAAI,CAAC9d,EAAK8d,EAAE,KAEXxJ,MAAMvU,KACP+d,EAAI,CAACA,EAAE,GAAI/d,IAEX+d,EAAE,GAAKA,EAAE,KACTA,EAAI,IAEDA,CACX,CACAi9G,YAAY39C,GACR,MAAqB,kBAAVA,EACAA,EAAM+hC,QAAQ,IAGrBh/B,GAAOG,SAAS,wHACTpxF,OAAOkuF,GAEtB,CACA20C,aACI,OAAO,IAAIowC,EACf,CACA/pC,yBAAyB3D,GACrB,GAAuB,MAAnB9lI,KAAKm1G,WACL,MAAM,IAAIztG,MAAM,2EAEpB,MAAOynB,EAAGugG,GAASujD,GAA2BjzK,KAAKm1G,WAAiC,OAArB2wB,QAAkD,IAArBA,EAA8BA,EAAmB,GAI7I,OAHA9lI,KAAKmnF,MAAMqrC,MAAO,EAClBxyH,KAAKmnF,MAAM6rB,OAAS7jF,EACpBnvB,KAAKmnF,MAAMz2D,SACJg/F,CACX,EAEJ+jD,GAAWppH,UAAY,aACvBopH,GAAWlnK,KAAO,SAClB0iB,GAAW,CACPmgF,GAASQ,GAAI0B,KAAiBtB,GAAU,SACxCsvB,GAAQz5G,MACT4tJ,GAAWzqK,UAAW,WAAO,GAChCimB,GAAW,CACPmgF,GAASQ,GAAI0B,KAAiBpB,GAAa,SAC3CovB,GAAQz5G,MACT4tJ,GAAWzqK,UAAW,WAAO,GChFhC,IAAIimB,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAOA,SAASuzJ,KAEL,MAAMhgK,EAAW,8BACjB,OAAO87F,IAAsBrzF,GAAmB,kBAANA,GAAwB,IAANA,GAASzI,EACzE,CACO,MAAMigK,WAAgBF,GACzBloK,YAAYs0G,GACRvwF,MAAMuwF,EAAW,IAAIoe,IACrBj+H,KAAKqR,IAAMwU,IACX7lB,KAAKoR,IAAMyU,IACX7lB,KAAKmnF,MAAM2rC,sBAAuB,CACtC,CACAsa,oBAAoBj+G,GAChB,IAAI7V,EACJ,MAAM,IAAEjI,EAAG,IAAED,GAAQpR,KACjBmvB,EAAE7tB,OAAS,IACX6tB,EAAyB,QAApB7V,EAAK+5F,GAAOlkF,UAAuB,IAAP7V,EAAgBA,EAAK,CAACuM,IAAKA,MAE3DF,MAAMtU,KACP8d,EAAI,CAAC9d,EAAK8d,EAAE,KAEXxJ,MAAMvU,KACP+d,EAAI,CAACA,EAAE,GAAI/d,IAEf,MAAMwiK,EAAazkJ,EAAE,GAAKA,EAAE,GACtB0kJ,EAAc1kJ,EAAE,GAAK,GAAKA,EAAE,GAAK,EACjC2kJ,EAAyB,IAAT3kJ,EAAE,IAAqB,IAATA,EAAE,GAChC4kJ,EAAgBH,GAAcC,GAAeC,EAgBnD,OAfIC,IACA5kJ,EAAI,GACA0kJ,EACAriF,GAAOrgE,KAAM,qHAER2iJ,GACLtiF,GAAOrgE,KAAM,uDAGR,IAAThC,EAAE,KACFA,EAAE,GAAK,GAEE,IAATA,EAAE,KACFA,EAAE,IAAM,GAELA,CACX,CACIpB,SAAK3sB,GACLpB,KAAKmnF,MAAMp5D,KAAO3sB,CACtB,CACI2sB,WACA,OAAO/tB,KAAKmnF,MAAMp5D,IACtB,EAEJ4lJ,GAAQtpH,UAAY,UACpBspH,GAAQpnK,KAAO,MACf0iB,GAAW,CACPmgF,GAASQ,GAAI0B,KAAiBtB,GAAU,OAAQ0jE,OAChDp0C,GAAQz5G,MACT8tJ,GAAQ3qK,UAAW,WAAO,GAC7BimB,GAAW,CACPmgF,GAASQ,GAAI0B,KAAiBpB,GAAa,OAAQwjE,OACnDp0C,GAAQz5G,MACT8tJ,GAAQ3qK,UAAW,WAAO,GCzE7B,IAAIimB,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAOA,MAAM6zJ,WAAqBtyC,GACvBn2H,cACI+jB,SAASzsB,WACT7C,KAAKmnI,WAAathH,GACtB,EAEJoJ,GAAW,CACPmgF,GAASQ,GAAI0B,GAAc,GAAIpB,GAAa,gBAC5CovB,GAAQz5G,MACTmuJ,GAAahrK,UAAW,kBAAc,GAClC,MAAMirK,WAAiBtnC,GAC1BphI,YAAYs0G,GACRvwF,MAAMuwF,EAAW,IAAI2Y,IACrBx4H,KAAKk0K,YAAc,qBACnBl0K,KAAKqR,SAAMtP,EACX/B,KAAKoR,SAAMrP,EACX,MAAM,MAAEolF,GAAUnnF,KAClBmnF,EAAM2rC,sBAAuB,EAC7B9yH,KAAKikI,eACLjkI,KAAKm0K,eAAiBhtF,EAAM6zC,WAAW,CACnCC,UAAWj7H,KAAKk0K,aAExB,CACA9mC,oBAAoBj+G,GAChB,IAAI7V,EACJ,IAAI,IAAEjI,EAAG,IAAED,GAAQpR,KAmBnB,MAlBmB,kBAARqR,IACPA,EAAM,IAAI+Z,KAAK/Z,IAEA,kBAARD,IACPA,EAAM,IAAIga,KAAKha,IAEf+d,EAAE7tB,OAAS,IACX6tB,GAA0B,QAApB7V,EAAK+5F,GAAOlkF,UAAuB,IAAP7V,EAAgBA,EAAK,CAAC,EAAG,MAAOK,KAAKnL,GAAM,IAAI4c,KAAK5c,MAEtF6C,aAAe+Z,OACf+D,EAAI,CAAC9d,EAAK8d,EAAE,KAEZ/d,aAAega,OACf+D,EAAI,CAACA,EAAE,GAAI/d,IAEX+d,EAAE,GAAKA,EAAE,KACTA,EAAI,IAEDA,CACX,CACAi0G,aACI,OAAO,IAAI4wC,EACf,CACA9uC,oBAAoBxV,EAAO4J,GACnBA,EACAhqG,MAAM41G,oBAAoBxV,EAAO4J,GAIjCt5H,KAAKqlI,eAAiBrlI,KAAKmnF,MAAM6zC,WAAW,CAAEtL,SAEtD,CACA0c,YAAY39C,GACR,IAAIn1E,EACJ,OAAgF,QAAxEA,EAAKtZ,KAAK6/G,UAAU+rB,cAAcpiI,KAAKxJ,KAAKm0K,eAAgB1lF,UAA2B,IAAPn1E,EAAgBA,EAAK/Y,OAAOkuF,EACxH,CACAk1B,iBAAiBywD,EAAM7nC,GAGnB,OAAO,CACX,EAEJ0nC,GAAS5pH,UAAY,WACrB4pH,GAAS1nK,KAAO,OAChB0iB,GAAW,CACPmgF,GAASQ,GAAIkB,GAAyBd,GAAU,UACjDikE,GAASjrK,UAAW,WAAO,GAC9BimB,GAAW,CACPmgF,GAASQ,GAAIkB,GAAyBZ,GAAa,UACpD+jE,GAASjrK,UAAW,WAAO,GCvF9B,IAyDIqrK,GAzDAplJ,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EACIq0E,GAAwC,SAAUt3E,EAASu3E,EAAYlqF,EAAGmqF,GAC1E,SAASC,EAAMvzF,GAAS,OAAOA,aAAiBmJ,EAAInJ,EAAQ,IAAImJ,GAAE,SAAUokB,GAAWA,EAAQvtB,EAAQ,GAAI,CAC3G,OAAO,IAAKmJ,IAAMA,EAAImkB,WAAU,SAAUC,EAASuY,GAC/C,SAAS0tD,EAAUxzF,GAAS,IAAMo/E,EAAKkU,EAAUj3E,KAAKrc,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC1F,SAASwpE,EAASzzF,GAAS,IAAMo/E,EAAKkU,EAAU,SAAStzF,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC7F,SAASm1D,EAAKv9E,GAAUA,EAAOya,KAAOiR,EAAQ1rB,EAAO7B,OAASuzF,EAAM1xF,EAAO7B,OAAO+iB,KAAKywE,EAAWC,EAAW,CAC7GrU,GAAMkU,EAAYA,EAAUhrF,MAAMwT,EAASu3E,GAAc,KAAKh3E,OAClE,GACJ,EAqBA,MAAM62J,WAAwB70C,GAC1Bl0H,cACI+jB,SAASzsB,WACT7C,KAAK03H,eAAY31H,CACrB,EAEJktB,GAAW,CACPmgF,GAASgB,KACVkkE,GAAgBtrK,UAAW,iBAAa,GAC3C,MAAMurK,WAA0Bz1D,GAC5BvzG,cACI+jB,SAASzsB,WACT7C,KAAKkoC,cAAWnmC,EAChB/B,KAAKs5H,YAASv3H,CAClB,EAEJktB,GAAW,CACPmgF,GAASgB,KACVmkE,GAAkBvrK,UAAW,gBAAY,GAC5CimB,GAAW,CACPmgF,GAASoB,KACV+jE,GAAkBvrK,UAAW,cAAU,GAE1C,SAAWqrK,GACPA,EAAcA,EAAc,QAAU,GAAK,OAC3CA,EAAcA,EAAc,UAAY,GAAK,SAC7CA,EAAcA,EAAc,UAAY,GAAK,SAC7CA,EAAcA,EAAc,SAAW,GAAK,OAC/C,CALD,CAKGA,KAAkBA,GAAgB,CAAC,IAC/B,MAAMG,WAAmB5hC,GAC5BrnI,YAAYs0G,GACRvwF,MAAM,CACFuwF,YACA0zB,eAAgB,EAChBC,0BAA2B,CAAC,EAAG,KAC/BR,YAAY,EACZ9yB,cAAe,CACX,CAACpN,GAAmBsM,GAAI,CAAC,QACzB,CAACtM,GAAmBuM,GAAI,CAAC,UAE7Bc,eAAgB,CACZ,CAACrN,GAAmBsM,GAAI,CAAC,SACzB,CAACtM,GAAmBuM,GAAI,CAAC,aAGjCr/G,KAAK0hJ,QAAU,IAAI6yB,GACnBv0K,KAAKukJ,OAAS,IAAI3L,GAClB54I,KAAKwlH,MAAQ,IAAI8uD,GACjBt0K,KAAK03J,MAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,WACrE13J,KAAKinK,QAAU,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,WACvEjnK,KAAKm6F,YAAc,EACnBn6F,KAAKo6F,cAAgB,EACrBp6F,KAAKw6F,SAAW,CAAC,GACjBx6F,KAAKy6F,eAAiB,EACtBz6F,KAAKuyI,UAAOxwI,EACZ/B,KAAKy0K,WAAQ1yK,EACb/B,KAAK00K,OAAS,GACd10K,KAAK20K,UAAY,GACjB30K,KAAK40K,OAAS,GACd50K,KAAKu6F,YAAc,EACnBv6F,KAAKsnK,YAASvlK,EACd,MAAM,OAAEwiJ,EAAM,MAAE/+B,GAAUxlH,KAC1BukJ,EAAO3vH,SAAU,EACjB4wF,EAAM5wF,SAAU,CACpB,CACIigJ,UAAMn8J,GACDy5G,GAA2BnyH,KAAK00K,OAAQh8J,KACzC1Y,KAAK00K,OAASh8J,EACd1Y,KAAKm0G,mBAAgBpyG,EACrB/B,KAAKioK,2BAEb,CACI4M,YACA,OAAO70K,KAAK00K,MAChB,CACII,aAASA,GACT90K,KAAK20K,UAAYG,EACjB90K,KAAKioK,0BACT,CACI6M,eACA,OAAO90K,KAAK20K,SAChB,CACA1M,2BACI,MAAM,kBAAE30B,EAAmBqhC,UAAWG,EAAW,IAAO90K,KACxDszI,EAAkBx2H,QAClB9c,KAAK00K,OAAO77J,SAAQ,CAAC9V,EAAK0jB,KAAU,IAAInN,EAAI,OAAOg6H,EAAkB3nI,IAAI5I,EAA8B,QAAxBuW,EAAKw7J,EAASruJ,UAAyB,IAAPnN,GAAgBA,EAAU,GAC7I,CACIy7J,iBAAa3zK,GACb,MAAM4zK,EAAW5zK,EAAQsJ,KAAKw9E,IAAI9mF,QAASW,EACvC/B,KAAKi1K,gBAAkBD,IACvBh1K,KAAKi1K,cAAgBD,EAE7B,CACID,mBACA,OAAO/0K,KAAKi1K,aAChB,CACA7gE,cACI,OAAO5f,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,KAAEuyI,EAAI,MAAEsiC,EAAK,kBAAEvhC,EAAiB,MAAEsB,EAAK,MAAEC,EAAK,aAAEkgC,GAAiB/0K,KACjEgN,EAAOulI,GAAQsiC,EAAMvzK,QAAUtB,KAAKgN,KAAOhN,KAAKgN,KAAO,GACvDwnI,GAA2B,OAAVI,QAA4B,IAAVA,OAAmB,EAASA,EAAMztD,iBAAkBorC,GACvFkiB,GAA2B,OAAVI,QAA4B,IAAVA,OAAmB,EAASA,EAAM1tD,iBAAkBorC,GACvF2iD,EAAe,IAAI5hC,EAAkB5pH,WAAWhQ,QAAO,EAAE,CAAEkb,KAAaA,IAASjb,KAAI,EAAE64H,KAAUA,IACjG2xB,EAAc4Q,GAAgBnyE,SAASmyE,GAAgBA,OAAehzK,EACtEyjD,EAAa,GACf2+G,GACA3+G,EAAW71C,KAAKu0J,GAAiBgR,EAAc/Q,EAAa,QAEhEnkK,KAAKkoK,UAAY,IAAI30D,GAAU,CAC3B3rF,MAAO,CACHgqD,GAAY2gE,EAAMiC,EAAe,CAAExiI,GAAI,cACpCkjK,EAAav7J,KAAK64H,GAASz0B,GAAcy0B,EAAMiC,EAAe,CAC7DziI,GAAK,UAASwgI,IACd95B,aAAc7yF,IACdgzF,kBAAc92G,MAElBk/F,GAAIi0E,MACD1vH,GAEP6uD,aAAa,EACbb,YAAaxzG,KAAKsuF,SAAW4mF,EAAa5zK,OAAS,IAEvDtB,KAAKm0G,cAAgBn0G,KAAKkoK,UAAU9zD,YAAYpnG,EACpD,GACJ,CACAknG,UAAUgN,GACN,MAAM,cAAE/M,EAAa,MAAEygC,EAAK,MAAEC,GAAU70I,KACxC,IAAKm0G,EACD,MAAO,GACX,MAAQyB,MAAQlyG,MAAOyxK,IAAYniE,QAAUtvG,MAAOA,GAAOgV,QAAS08J,GAAUp+D,WAAYq+D,GAAc,KAAWlhE,EACnH,OAAI+M,IAAcpO,GAAmBsM,EACR,aAArB+1D,EAAOpqG,UACArnE,EAEJ1D,KAAKozG,iBAAiBC,GAAO3vG,GAAOkxI,GAEtCC,aAAiB8+B,IAAW9+B,aAAiBo/B,GAC3Cj0K,KAAKozG,iBAAiBgiE,EAASvgC,GAG/B70I,KAAKozG,iBAAiBiiE,EAAYxgC,EAEjD,CACAiB,iBACI,IAAIx8H,EACJ,OAAOk7E,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,MAAE40I,EAAK,MAAEC,EAAK,KAAE7nI,EAAMmnG,eAAiBnnG,KAAMsoK,GAAgB,CAAC,EAAGxoJ,KAAK,cAAE8+G,IAAqB5rI,KACnG,IAAK40I,IAAUC,IAAU7nI,EACrB,MAAO,GAEX,MAAMuoK,EAAW,IACX,MAAEV,EAAK,KAAEtiC,EAAO,GAAE,OAAEgS,EAAM,MAAE/+B,EAAK,MAAEkyC,EAAK,QAAEuP,EAASj1J,GAAIssG,GAAat+G,MAClEmnF,MAAOquF,GAAW5gC,GAClBztD,MAAOsuF,GAAW5gC,EACpB6gC,EAAcD,aAAkBljD,GAChCp2B,GAAuC,QAA3B7iF,EAAKk8J,EAAO3lD,iBAA8B,IAAPv2G,EAAgBA,EAAK,GAAK,EACzEq8J,EAAa3oK,EAAK1L,OAClBs0K,EAAuB,IAAIjpK,MAAMgpK,GAClCn1I,KAAK,MACL7mB,KAAI,KAAM,CAAGi8C,KAAM,EAAGsD,MAAO,MAC5B28G,EAAyB,IAAIlpK,MAAMgpK,GAAYn1I,KAAK,GACpDs1I,EAAwBA,CAACC,EAAQC,EAAQvvJ,EAAKu7I,KAChD,MAAMxzJ,EAAIgnK,EAAO7lD,QAAQomD,GAAU55E,EAC7B85E,EAAQL,EAAqBnvJ,GAAKu7I,GAClCkU,EAAQN,EAAqBnvJ,GAAKu7I,GAAQgU,EAC1CG,EAAkBV,EAAO9lD,QAAQsmD,EAAO,CAAEhjD,QAAQ,IAClDmjD,EAAkBX,EAAO9lD,QAAQumD,EAAO,CAAEjjD,QAAQ,IAExD,OADA2iD,EAAqBnvJ,GAAKu7I,GAAQkU,EAC3B,CACH,CAAE1nK,IAAGo5E,EAAGwuF,EAAiBz5J,KAAM4nI,EAAO5nI,MACtC,CAAEnO,IAAGo5E,EAAGuuF,EAAiBx5J,KAAM4nI,EAAO5nI,MACzC,EAEC05J,EAAyBA,CAACN,EAAQC,EAAQvvJ,EAAK6vJ,KACjD,IAAIJ,EAIJ,MAAMhvJ,EAAalnB,KAAK+0K,cAAgBnyE,SAAS5iG,KAAK+0K,cAChDwB,EAAqBrvJ,GAAcwuJ,GAAenzE,GAAa+zE,GAC/D39D,GAAUzxF,IAAevB,MAAM2wJ,IAAeC,EAChD59D,IACAu9D,EAAQL,EAAuBpvJ,IAAQuvJ,GAE3C,MAAMxnK,EAAIgnK,EAAO7lD,QAAQomD,GAAU55E,EAC7BvU,EAAI6tF,EAAO9lD,QAAQumD,EAAO,CAAEjjD,QAAQ,IAC1C,MAAO,CAAEzkH,IAAGo5E,IAAGjrE,KAAM4nI,EAAO5nI,KAAM,EAmHtC,OAjHAk4J,EAAMh8J,SAAQ,CAAC25H,EAAM0D,KACjB,IAAI58H,EACJ,MAAMk9J,EAA0C,QAAzBl9J,EAAKtZ,KAAKkoK,iBAA8B,IAAP5uJ,OAAgB,EAASA,EAAGy6F,8BAA+B,UAASy+B,KACtHikC,EAAqB,GACrBC,EAAsB,GACtBC,EAAsB,CAAEx0D,OAAQqwB,EAAMokC,OAAQ,GAAIC,QAAS,IAC3DC,EAAoB,CAAE30D,OAAQqwB,EAAMokC,OAAQ,IAQlD,GAPArB,EAASr/B,GAAa,CAClB/zB,OAAQqwB,EACRskC,oBACA5tC,UAAWutC,EACXtgC,SAAUugC,EACVC,wBAECH,EACD,OAEJ,MAAMO,EAAaD,EAAkBF,OAC/BI,EAAoB,GACpBC,EAAeN,EAAoBC,OACnCC,EAAUF,EAAoBE,QACpC,IAAIK,GAAY,EACA,OAAhB5B,QAAwC,IAAhBA,GAAkCA,EAAYz8J,SAAQ,CAACs+J,EAAY7vB,KACvF,MAAQ5jJ,MAAOqyK,GAAStnF,MAAO2oF,EAAY1+J,OAAQ2+J,GAAiBF,EACpEE,EAAYx+J,SAAQ,CAACH,EAAQ+8F,KACzB,IAAIn8F,EACJ49J,IACA,MAAMI,EAAcF,EAAW3hE,GACzB6gE,EAAY59J,EAAO89J,EAAcj1K,OACjCy0K,EAASrwJ,MAAM2wJ,QAAav0K,EAAYu0K,EACxCiB,EAAsB9hE,EAAW4hE,EAAY/1K,OAAS,EACtDk2K,EAAiBD,EAAsBJ,EAAa7B,EAAYhuB,EAAU,GAC1EmwB,EAAgC,OAAnBD,QAA8C,IAAnBA,OAA4B,EAASA,EAAe9zK,KAAK,GACjGg0K,EAAcH,EAAsB9hE,EAAW,EAAI,EACnDkiE,EAAmC,OAAnBH,QAA8C,IAAnBA,OAA4B,EAASA,EAAe9+J,OAAOg/J,GAAalB,EAAcj1K,OACjIq2K,EAAajyJ,MAAMgyJ,QAAiB51K,EAAY41K,EAEhDj6E,EAAQ24E,EAAuBN,GAASC,EAAQkB,EAAUI,EAAY9kC,IAkB5E,IAAIwa,EAjBAzI,GACAmyB,EAAoB/mK,KAAK,CACrBpO,MAAO21K,EACP74D,OAAQr+G,KACRmiH,OAAQqwB,EACR/jD,MAAO6oF,EACP5d,aAAc,CAAElrJ,EAAGkvF,EAAMlvF,EAAGo5E,EAAG8V,EAAM9V,GACrCiwF,gBAAiBhC,EAAuBqB,GACxCY,OAAQ9B,EACRxjC,OACAD,OACA70C,QACAl9D,KAAMk3H,EAAMxhB,EAAYwhB,EAAMp2J,QAC9Bg5F,OAAQ2sE,EAAQ/wB,EAAY+wB,EAAQ3lK,UAMxC0rJ,EADAxnC,EAAMkS,UACkF,QAA3Ep+G,EAAKsyH,EAAcpiI,KAAKg8G,EAAMkS,UAAW,CAAEt2H,MAAO40K,EAAQ13D,oBAAgC,IAAPhlG,EAAgBA,EAAK,GAGzGmpF,GAASuzE,GAAUp9J,OAAOo9J,GAAQxlD,QAAQ,GAAKjwH,OAAOy1K,GAElExwD,GACAixD,EAAmB9mK,KAAK,CACpBpO,MAAO21K,EACP/0D,OAAQqwB,EACR90C,QACA8nB,MAAOwnC,EACD,CACEpnG,KAAMonG,EACNzrD,UAAWikB,EAAMjkB,UACjBC,WAAYgkB,EAAMhkB,WAClB5E,SAAU4oB,EAAM5oB,SAChBC,WAAY2oB,EAAM3oB,WAClBlW,UAAW,SACXD,aAAc,SACdlmD,KAAMglF,EAAMzrB,YAEdh4F,IAKd,MAAMg2K,EAAU,CAAChC,EAAQ0B,GACnBO,EAAU,CAAChC,EAAQ4B,GACzB,GAAIG,EAAQ3/I,MAAMjc,QAAWpa,GAALoa,IACpB,OAEA67J,EAAQ5/I,MAAMjc,QAAWpa,GAALoa,MACpB67J,EAAQ,GAAK,EACbA,EAAQ,GAAK,GAEjB,MAAMC,EAAkBnC,EAAsBiC,EAAQ,IAAKC,EAAQ,GAAId,EAAU,SACjFH,EAAWpnK,KAAKsoK,EAAgB,IAChCjB,EAAkBrnK,KAAKsoK,EAAgB,IACvC,MAAMC,EAAkBpC,EAAsBiC,EAAQ,IAAKC,EAAQ,GAAId,EAAU,QACjFH,EAAWpnK,KAAKuoK,EAAgB,IAChClB,EAAkBrnK,KAAKuoK,EAAgB,IAEvCjB,EAAatnK,KAAK,CAAEnB,EAAGqX,IAAK+hE,EAAG/hE,MAC/BgxJ,EAAQlnK,UAAK5N,GACbk1K,EAAatnK,KAAKsoK,EAAgB,IAClCpB,EAAQlnK,KAAKqmK,QACMj0K,IAAf61K,IACAX,EAAatnK,KAAKuoK,EAAgB,IAClCrB,EAAQlnK,KAAKqmK,GACjB,GACF,IAEN,IAAK,IAAIpyK,EAAIozK,EAAkB11K,OAAS,EAAGsC,GAAK,EAAGA,IAC/CmzK,EAAWpnK,KAAKqnK,EAAkBpzK,GACtC,IAEG2xK,CACX,GACJ,CACA1/B,yBACI,OAAO71I,KAAKukJ,OAAO92D,SACvB,CACAwlD,gBACI,MAAM,MAAEp4C,GAAU76F,KAAKukJ,OACjBhO,EAAc7E,GAAU72C,GAC9B,OAAO,IAAI07C,CACf,CACAD,sBAAsB72D,GAClB,OAAO+U,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,SAAEm2I,EAAQ,gBAAEZ,GAAoB91D,GAC9B8kE,QAAQ,QAAE3vH,IAAe50B,KAC3BgN,EAAO4nB,GAAWuhH,EAAWA,EAAW,GAI9C,OAHIn2I,KAAKukJ,OAAO92D,WACZ8nD,EAAgBz4H,QAEby4H,EAAgB7kH,OAAO1jB,GAAOu3I,IACjCA,EAAOvhJ,IAAMqxK,GAAc7mD,MAAM,GAEzC,GACJ,CACAwpB,kBAAkBv3D,GACd,IAAInmE,EACJ,OAAOk7E,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,gBAAEu1I,EAAiB0B,YAAaszB,GAAuB9qF,GACrDztE,GAAIssG,EAAQ,KAAEi0B,EAAO,GAAE,OAAEgS,EAAM,kBAAEjR,EAAiB,MAAEuhC,EAAK,MAAEnd,EAAK,QAAEuP,EAAS9sE,YAAamwE,EAAmB/lB,QAAUpqD,YAAa+0D,EAAoBob,GAAmB,cAAElwE,EAAewlB,gBAAkB/sG,MAAQ2tB,KAAM23I,EAAiBh+E,YAAai+E,EAAuBlpB,EAAmB50D,OAAQ+9E,EAAmB99E,YAAa+9E,IAAmCxrJ,KAAK,cAAE8+G,IAAqB5rI,MAC3Y,KAAE2c,EAAI,UAAE+6G,GAAc6sB,EACtB0K,EAAkD,QAA7B31I,EAAKirI,EAAOhqD,mBAAgC,IAAPjhF,EAAgBA,EAAKtZ,KAAKu6F,YACpFg+E,EAAuC,oBAAjBh0B,EAAO1pD,MACnC06C,EAAgBhnB,MAAK,CAACrwF,EAAMuwD,KACxB,IAAIn1E,EAAIqb,EAAI2C,EAAIH,EAAIi/E,EAAIC,EAAIC,EAAIssC,EAChC,MAAM41B,EAAY3D,EAAMpzK,QAAQgtF,EAAM+jD,MAChChyG,EAAO+pI,QAA0CxoK,IAApBo2K,EAC7BA,EACuB,QAAtB7+J,EAAKirI,EAAO/jH,YAAyB,IAAPlnB,EAAgBA,EAAKo+I,EAAM8gB,EAAY9gB,EAAMp2J,QAC5E64F,EAAcowE,EAAqB6N,EAAuBlpB,EAC1D50D,EAASiwE,QAA4CxoK,IAAtBs2K,EAC/BA,EACyB,QAAxB1jJ,EAAK4vH,EAAOjqD,cAA2B,IAAP3lE,EAAgBA,EAAKsyI,EAAQuR,EAAY9gB,EAAMp2J,QAChFi5F,EAAcgwE,QAAsDxoK,IAAhCu2K,EACpCA,EACArpB,EACN,IAAI31B,EACA5B,IACA4B,EAASsS,EAAcpiI,KAAKkuH,EAAW,CACnCjpC,MAAOA,EAAMA,MACb8jD,OACAC,KAAM/jD,EAAM+jD,KACZhyG,OACA85D,SACAC,cACA59E,OACA8tJ,YAAaF,EACbjsD,cAGRpgF,EAAKsC,KAA8E,QAAtElJ,EAAgB,OAAXgiG,QAA8B,IAAXA,OAAoB,EAASA,EAAO94F,YAAyB,IAAPlJ,EAAgBA,EAAKkJ,EAChHtC,EAAKo8D,OAAkF,QAAxEnjE,EAAgB,OAAXmiG,QAA8B,IAAXA,OAAoB,EAASA,EAAOh/B,cAA2B,IAAPnjE,EAAgBA,EAAKmjE,EACpHp8D,EAAKq8D,YAA4F,QAA7E6b,EAAgB,OAAXkjB,QAA8B,IAAXA,OAAoB,EAASA,EAAO/+B,mBAAgC,IAAP6b,EAAgBA,EAAK7b,EAC9Hr8D,EAAKi8D,YAA8B,OAAhBA,QAAwC,IAAhBA,EAAyBA,EAAc,EAClFj8D,EAAKk8D,cAAsG,QAArFkc,EAAqC,QAA/BD,EAAKkuC,EAAOnqD,qBAAkC,IAAPic,EAAgBA,EAAKjc,SAAkC,IAAPkc,EAAgBA,EAAK,EACxIp4E,EAAKvhB,KAA8E,QAAtEimI,EAAgB,OAAXtpB,QAA8B,IAAXA,OAAoB,EAASA,EAAO38G,YAAyB,IAAPimI,EAAgBA,EAAKjmI,EAChHuhB,EAAKusD,aAAegE,EAAMiP,MAAMlvF,EAChC0vB,EAAKwsD,aAAe+D,EAAMiP,MAAM9V,EAChC1pD,EAAKowD,QACDpwD,EAAKvhB,KAAO,KAAO22H,EAAkB1uI,IAAI6pF,EAAM+jD,QAAU7sH,MAAM8oE,EAAMiP,MAAMlvF,KAAOmX,MAAM8oE,EAAMiP,MAAM9V,GACnG2wF,IAAgBr6I,EAAKgvF,YAI1BhvF,EAAK8C,KAAKlkB,MAAM,CAAEyvG,cAAc,IAChCruF,EAAKmvF,aACLnvF,EAAKivF,iBAAgB,IAEpBo9C,GACDvqK,KAAKukJ,OAAOh3D,WAEpB,GACJ,CACA8oD,qBAAqB52D,GACjB,OAAO+U,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,UAAEkpI,EAAS,eAAEyM,GAAmBl2D,EACtC,OAAOk2D,EAAejlH,OAAOw4G,GAAYtjF,IACrCA,EAAK5iD,IAAMqxK,GAAc50C,KAAK,GAEtC,GACJ,CACA0X,iBAAiB13D,GACb,OAAO+U,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,eAAE21I,GAAmBl2D,GACnB7qD,QAAS6jJ,EAAY,UAAEl3E,EAAS,WAAEC,EAAU,SAAE5E,EAAQ,WAAEC,EAAU,MAAE9C,GAAU/5F,KAAKwlH,MAC3FmwB,EAAepnB,MAAK,CAAC3oE,EAAM6oC,KACvB,MAAM,MAAEiP,EAAK,MAAE8nB,GAAU/2B,EACrB+2B,GAASizD,GACT7yH,EAAK27C,UAAYA,EACjB37C,EAAK47C,WAAaA,EAClB57C,EAAKg3C,SAAWA,EAChBh3C,EAAKi3C,WAAaA,EAClBj3C,EAAK+gC,UAAY6+B,EAAM7+B,UACvB/gC,EAAK8gC,aAAe8+B,EAAM9+B,aAC1B9gC,EAAKA,KAAO4/D,EAAM5/D,KAClBA,EAAKp3C,EAAIkvF,EAAMlvF,EACfo3C,EAAKgiC,EAAI8V,EAAM9V,EAAI,GACnBhiC,EAAKplB,KAAOu5D,EACZn0C,EAAK0oC,SAAU,GAGf1oC,EAAK0oC,SAAU,CACnB,GAER,GACJ,CACA40B,kBAAkBruF,EAAO45D,GACrB,IAAIn1E,EACJ,OAAO,IAAIm5H,GAAmD,QAApBn5H,EAAKtZ,KAAKuyI,YAAyB,IAAPj5H,EAAgBA,EAAK,GAAIm1E,EAAM+jD,KAAM39G,EAAO45D,EAAOzuF,KAC7H,CACAojH,wBAAwBvuF,EAAO45D,GAC3B,IAAIn1E,EACJ,OAAO,IAAIo5H,GAAyD,QAApBp5H,EAAKtZ,KAAKuyI,YAAyB,IAAPj5H,EAAgBA,EAAK,GAAIm1E,EAAM+jD,KAAM39G,EAAO45D,EAAOzuF,KACnI,CACA+4J,eAAe+W,GACX,IAAIx2J,EAAIqb,EAAI2C,EAAIH,EAChB,MAAM,KAAEo7G,EAAMvgI,GAAIssG,GAAat+G,MACzB,KAAEwyI,GAASs9B,EACX0G,EAA0C,QAAzBl9J,EAAKtZ,KAAKkoK,iBAA8B,IAAP5uJ,OAAgB,EAASA,EAAGy6F,8BAA+B,UAASy+B,KAC5H,IAAMD,IAAQC,IAAUgkC,EACpB,MAAO,GAEX,MAAM/nF,EAAQqhF,EAAUrhF,MAClBiqF,EAASjqF,EAAM8jD,GACfulC,EAASrpF,EAAM+jD,IACf,MAAEoC,EAAK,MAAEC,EAAK,MAAEggC,GAAU70K,KAChC,KAAM40I,GAASC,GAASpyC,GAASq1E,MAAatB,EAC1C,MAAO,GAEX,MAAM,MAAE/B,EAAK,OAAEG,EAAM,MAAEld,EAAK,QAAEuP,EAAO,QAAEvlB,EAAO,OAAE6C,GAAWvkJ,MACrD,KAAE2c,EAAM+6G,UAAWihD,EAAiBp+E,YAAa00D,EAAmBzuH,KAAMuuH,EAAYz0D,OAAQ00D,GAAkBzK,EAChHq0B,EAAUhkC,EAAMxI,YAAYssC,GAC5BG,EAAUhkC,EAAMzI,YAAY0rC,GAC5BU,EAAY3D,EAAMpzK,QAAQ+wI,GAC1BsmC,EAAqH,QAAlGxhJ,EAAmC,QAA7B3C,EAAK30B,KAAKm0G,qBAAkC,IAAPx/E,OAAgB,EAASA,EAAG3nB,KAAK8iK,EAAUvuK,cAA2B,IAAP+1B,OAAgB,EAASA,EAAG5e,OAAO,GAAqB,OAAlB89J,QAA4C,IAAlBA,OAA2B,EAASA,EAAcj1K,OAC/Ow3K,EAAQnE,EAAO4D,GACf5+D,EAAQo5D,GAAa+F,GACrBhzH,EAAUitH,GAAa4F,EAAU,KAAOC,GACxCt+E,EAAoC,OAAtB00D,QAAoD,IAAtBA,EAA+BA,EAAoBjvJ,KAAKu6F,YACpG/5D,EAAsB,OAAfuuH,QAAsC,IAAfA,EAAwBA,EAAa2I,EAAM8gB,EAAY9gB,EAAMp2J,QAC3Fg5F,EAA0B,OAAjB00D,QAA0C,IAAjBA,EAA0BA,EAAeiY,EAAQuR,EAAY9gB,EAAMp2J,QAC3G,IAAIg4H,EACAq/C,IACAr/C,EAASq/C,EAAgB,CACrBlqF,QACA8jD,OACAC,OACAhyG,OACA85D,SACAC,cACA59E,OACA8tJ,aAAa,EACbnsD,cAGR,MAAMvkB,EAA+E,QAAtE5iE,EAAgB,OAAXmiG,QAA8B,IAAXA,OAAoB,EAASA,EAAO94F,YAAyB,IAAPrJ,EAAgBA,EAAKqJ,EAC5GsO,EAAW,CACb8qE,QACAC,gBAAiB9f,EACjBh0C,YAEI7d,SAAU6nI,EAAiBz2C,OAAQ0/C,GAAkBt3B,EAC7D,GAAIs3B,GAAiBjJ,EAAiB,CAClC,MAAMzwG,EAAS,CACXmvB,QACA8jD,OACAkiC,QACAiE,SACAlmC,OACAslC,SACAgB,kBACAC,QACAh/E,QACA6f,QACA0E,YAEJ,GAAI06D,EACA,OAAOr/D,GAAc,CACjB5zD,QAASq0F,GAAY4+B,EAAe15G,IACrCxwB,GAEP,GAAIihI,EACA,OAAOp2D,GAAco2D,EAAgBzwG,GAASxwB,EAEtD,CACA,OAAO6qE,GAAc7qE,EACzB,CACAwhH,gBACI,IAAIh3I,EAAIqb,EAAI2C,EAAIH,EAAIi/E,EACpB,MAAM,KAAEppG,EAAI,GAAEgF,EAAE,KAAEugI,EAAI,MAAEsiC,EAAK,OAAED,EAAM,kBAAEthC,EAAiB,OAAEiR,EAAM,MAAEmT,EAAK,QAAEuP,EAAO,YAAE9sE,EAAW,cAAEC,GAAkBp6F,KACjH,KAAe,OAATgN,QAA0B,IAATA,OAAkB,EAASA,EAAK1L,UAAYixI,IAASsiC,EAAMvzK,OAC9E,MAAO,GAEX,MAAM8uJ,EAAa,GAGnB,IAAK,IAAI7uJ,EAAQszK,EAAMvzK,OAAS,EAAGC,GAAS,EAAGA,IAAS,CACpD,MAAMixI,EAAOqiC,EAAMtzK,GACnB6uJ,EAAWzgJ,KAAK,CACZ4gJ,WAAY,WACZv+I,KACAmwG,OAAQqwB,EACRl0B,SAAUtsG,EACV4iB,QAAgD,QAAtCtb,EAAKg6H,EAAkB1uI,IAAI4tI,UAA0B,IAAPl5H,GAAgBA,EACxEksG,MAAO,CACH5/D,KAAMgvH,EAAOrzK,IAAUszK,EAAMtzK,IAEjCgjJ,OAAQ,CACJ1pD,MAAO0pD,EAAO1pD,MACdr6D,KAA6B,QAAtB7L,EAAK4vH,EAAO/jH,YAAyB,IAAP7L,EAAgBA,EAAK+iI,EAAMn2J,EAAQm2J,EAAMp2J,QAC9Eg5F,OAAiC,QAAxBhjE,EAAKitH,EAAOjqD,cAA2B,IAAPhjE,EAAgBA,EAAK2vI,EAAQ1lK,EAAQ0lK,EAAQ3lK,QACtF64F,YAA2C,QAA7BhjE,EAAKotH,EAAOpqD,mBAAgC,IAAPhjE,EAAgBA,EAAKgjE,EACxEC,cAA+C,QAA/Bgc,EAAKmuC,EAAOnqD,qBAAkC,IAAPgc,EAAgBA,EAAKhc,IAGxF,CACA,OAAOg2D,CACX,CACA9b,wBAAwBz/G,GACpB,MAAM,QAAED,EAAO,OAAEutF,EAAM,OAAE9D,EAAM,gBAAEi6B,GAAoBzjH,EAC/CokJ,EAAc,CAAC,EACf1gC,EAAoB12I,OAAO6W,OAAO4/H,GAAiB3uH,QAAO,CAACsB,EAAG9O,IAAM8O,EAAI9O,GAAG,GAC3E+8J,EAAgD,IAAtB3gC,GAA2B3jH,EAC3D,GAAIypF,EAAOrsG,KAAOhS,KAAKgS,GAAI,CACvB,MAAMmnK,EAA4Bt3K,OAAO6W,OAAO4/H,GAAiB5+H,QAAQyC,GAAY,IAANA,IAAS7a,SAAWO,OAAO6B,KAAK40I,GAAiBh3I,OAChItB,KAAK60K,MAAMh8J,SAAS25H,IAChB,IAAIl5H,EACJ,MAAM4vB,EAAUspG,IAASrwB,EACnBs2B,EAAavvG,GAAWgwI,GAA4BC,GAA6BvkJ,EACvFqkJ,EAAYzmC,GAAqC,QAA5Bl5H,EAAK2/J,EAAYzmC,UAA0B,IAAPl5H,EAAgBA,EAAKm/H,CAAU,GAEhG,MAEIz4I,KAAK60K,MAAMh8J,SAAS25H,IAChBymC,EAAYzmC,GAAQ0mC,CAAuB,IAGnDr3K,OAAO6B,KAAKu1K,GAAapgK,SAAS25H,IAC9BljH,MAAM+zF,iBAAiBmvB,EAAMymC,EAAYzmC,GAAM,GAEvD,CACAmB,yBAAwB,iBAAE2B,EAAgB,gBAAEI,EAAe,YAAEF,EAAW,MAAEz+C,EAAK,WAAE+9C,IAC7E,MAAM,QAAEmyB,EAAO,MAAEvP,EAAK,YAAEv9D,EAAW,SAAEK,EAAQ,eAAEC,EAAc,cAAEL,EAAa,YAAEG,EAAW,OAAE+sE,GAAWtnK,KACtGw1I,EAAY38H,SAAQ,EAAGi+J,oBAAmBH,sBAAqBx0D,UAAU+zB,KACrE,IAAI58H,EAAIqb,EAAI2C,EACZ,MAAOkJ,EAAM85D,GAAUvD,EAAMm/C,GACvBllF,EAAW,IACXooH,EAAiB,IACjBC,EAAmB,CACrBjtJ,KAAM,EACNkmB,GAAwF,QAAnFh5B,EAAoB,OAAfw7H,QAAsC,IAAfA,OAAwB,EAASA,EAAW7xD,aAA0B,IAAP3pE,EAAgBA,EAAK,EACrH2jI,qBAAqB,EACrBjsF,WACA2pF,KAAMa,GACN30H,OAAQ,GAGZ,CACI,MAAM,OAAE+vJ,EAAM,QAAEC,GAAYF,EAC5Br8E,EAAOt3F,IAAMqxK,GAAciF,OAC3Bh/E,EAAO95D,UAAOz+B,EACdu4F,EAAOK,SAAWL,EAAOI,QAAU,QACnCJ,EAAOzW,cAAgB6J,GAAcgC,KACrC4K,EAAOA,OAAS2sE,EAAQ/wB,EAAY+wB,EAAQ3lK,QAC5Cg5F,EAAOC,YAAcv6F,KAAK8hH,eAAe9hH,KAAKu6F,YAAa,CAAE4nB,WAC7D7nB,EAAOF,cAAgBA,EACvBE,EAAOE,SAAWA,EAClBF,EAAOG,eAAiBA,EACS,QAAhC9lE,EAAK30B,KAAK8zJ,wBAAqC,IAAPn/H,GAAyBA,EAAG6lH,QAAS,GAAEx6I,KAAKgS,gCAAgCkkI,IAAar0I,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG21J,GAAmB,CAAEn+B,SAASw9B,GACxLp+E,EAAOt5D,KAAKlkB,MAAM,CAAEyvG,cAAc,IAClC,IAAIz4B,GAAS,EACb8iF,EAAO/9J,SAAQ,CAAC6kF,EAAOn8F,KAEnB,QAAuBQ,IAAnB80K,EAAQt1K,IAAwBokB,MAAM+3E,EAAMlvF,IAAMmX,MAAM+3E,EAAM9V,GAC9DkM,GAAS,OAER,GAAI4J,EAAMlvF,GAAKkqK,EACZ5kF,GACAwG,EAAOt5D,KAAK8yD,OAAO4J,EAAMlvF,EAAGkvF,EAAM9V,GAClCkM,GAAS,GAGTwG,EAAOt5D,KAAK+yD,OAAO2J,EAAMlvF,EAAGkvF,EAAM9V,QAGrC,GAAIrmF,EAAQ,QACMQ,IAAnB80K,EAAQt1K,SACeQ,IAAvB80K,EAAQt1K,EAAQ,IAChBq1K,EAAOr1K,EAAQ,GAAGiN,GAAKkqK,EAAQ,CAE/B,MAAMryJ,EAAQuwJ,EAAOr1K,EAAQ,GACvB+kB,EAAMo3E,EACNlvF,EAAIkqK,EACJ9wF,EAAIvhE,EAAMuhE,GAAMp5E,EAAI6X,EAAM7X,IAAM8X,EAAIshE,EAAIvhE,EAAMuhE,IAAOthE,EAAI9X,EAAI6X,EAAM7X,GACzE8rF,EAAOt5D,KAAK+yD,OAAOvlF,EAAGo5E,EAC1B,KAEJ0S,EAAO6yB,gBACX,IACR,CAEA,CACI,MAAQypD,OAAQ2C,GAAczC,EACxBF,EAAS2C,EAAUj3K,MAAM,EAAGi3K,EAAUj4K,OAAS,GAC/Ck4K,EAAeD,EAAUj3K,MAAMi3K,EAAUj4K,OAAS,GACxDk/B,EAAKx9B,IAAMqxK,GAAcoF,KACzBj5I,EAAK85D,YAASv4F,EACdy+B,EAAKm6D,SAAW,QAChBn6D,EAAKqjD,cAAgB6J,GAAcgC,KACnClvD,EAAKA,KAAOk3H,EAAMxhB,EAAYwhB,EAAMp2J,QACpCk/B,EAAK25D,YAAcA,EACnB35D,EAAK45D,cAAgBA,EACrB55D,EAAK+5D,YAAcA,EACnB/5D,EAAKg6D,SAAWA,EAChBh6D,EAAKi6D,eAAiBA,EACtBj6D,EAAKo6D,WAAa0sE,EACe,QAAhChwI,EAAKt3B,KAAK8zJ,wBAAqC,IAAPx8H,GAAyBA,EAAGkjH,QAAS,GAAEx6I,KAAKgS,8BAA8BkkI,IAAar0I,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG21J,GAAmB,CAAEn+B,SAASw9B,GACtLl4I,EAAKQ,KAAKlkB,MAAM,CAAEyvG,cAAc,IAChC,IAAI/9G,EAAI,EACJo5E,EAAI,EACRgvF,EAAO/9J,SAAQ,CAAC6kF,EAAOn8F,KACnB,GAAIm8F,EAAMlvF,GAAKkqK,EAEXlqK,EAAIkvF,EAAMlvF,EACVo5E,EAAI8V,EAAM9V,EACVpnD,EAAKQ,KAAK+yD,OAAO2J,EAAMlvF,EAAGkvF,EAAM9V,QAE/B,GAAIrmF,EAAQ,GAAKq1K,EAAOr1K,EAAQ,GAAGiN,EAAIkqK,EAAQ,CAEhD,MAAMryJ,EAAQuwJ,EAAOr1K,EAAQ,GACvB+kB,EAAMo3E,EACZlvF,EAAIkqK,EACJ9wF,EAAIvhE,EAAMuhE,GAAMp5E,EAAI6X,EAAM7X,IAAM8X,EAAIshE,EAAIvhE,EAAMuhE,IAAOthE,EAAI9X,EAAI6X,EAAM7X,GACnEgyB,EAAKQ,KAAK+yD,OAAOvlF,EAAGo5E,EACxB,KAEJ4xF,EAAa3gK,SAAQ,CAAC6kF,EAAOn8F,KACzB,MAAMm4K,EAAeF,EAAal4K,OAASC,EAAQ,EACnD,GAAIm8F,EAAMlvF,GAAKkqK,EACXl4I,EAAKQ,KAAK+yD,OAAO2J,EAAMlvF,EAAGkvF,EAAM9V,QAE/B,GAAI8xF,EAAe,GAAK9C,EAAO8C,EAAe,GAAGlrK,EAAIkqK,EAAQ,CAC9D,MAAMryJ,EAAQq3E,EACRp3E,EAAMkzJ,EAAaj4K,EAAQ,GAC3Bo4K,EAAUtzJ,EAAMuhE,GAAMp5E,EAAI6X,EAAM7X,IAAM8X,EAAIshE,EAAIvhE,EAAMuhE,IAAOthE,EAAI9X,EAAI6X,EAAM7X,GAC/EgyB,EAAKQ,KAAK+yD,OAAOvlF,EAAGmrK,EACxB,KAEAH,EAAal4K,OAAS,GACtBk/B,EAAKQ,KAAK+yD,OAAOylF,EAAaA,EAAal4K,OAAS,GAAGkN,EAAGgrK,EAAaA,EAAal4K,OAAS,GAAGsmF,GAEpGpnD,EAAKQ,KAAKgzD,YACVxzD,EAAK2sF,gBACT,IACR,CACAmoB,EAAiBY,GAAW3nB,MAAK,CAACg2B,EAAQ91D,KACtC,IAAIn1E,EAAIqb,EAAI2C,EAAIH,EAChB,MAAMsP,GAAwB,OAAfquG,QAAsC,IAAfA,OAAwB,EAASA,EAAW7xD,OAAUwL,EAAMiP,MAAMlvF,EAAIsmI,EAAW7xD,MAASjyB,EAAW,EACrIsoE,EAASt5H,KAAK45K,iBAAiBnrF,GAC/B9xE,EAAkF,QAA1EgY,EAA4B,QAAtBrb,EAAKm1E,EAAMiP,aAA0B,IAAPpkF,OAAgB,EAASA,EAAGqD,YAAyB,IAAPgY,EAAgBA,EAAK,EACpF,QAAhC2C,EAAKt3B,KAAK8zJ,wBAAqC,IAAPx8H,GAAyBA,EAAGkjH,QAAS,GAAEx6I,KAAKgS,yBAAyBuyI,EAAOvyI,KAAMnQ,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG21J,GAAmB,CAAE/mI,GAA2E,QAAtEnb,EAAgB,OAAXmiG,QAA8B,IAAXA,OAAoB,EAASA,EAAO38G,YAAyB,IAAPwa,EAAgBA,EAAKxa,EAAM8pB,QAAOuqB,SAAUooH,EAAgBl+B,SAASv+H,GAChU4nI,EAAO5nI,KAAOA,CAClB,IAAK,IAEb+4H,EAAgBQ,GAAW3nB,MAAK,CAAC/I,EAAO/2B,KACpC,IAAIn1E,EACJ,MAAMmtB,GAAwB,OAAfquG,QAAsC,IAAfA,OAAwB,EAASA,EAAW7xD,OAAUwL,EAAMiP,MAAMlvF,EAAIsmI,EAAW7xD,MAASjyB,EAAW,EAC1G,QAAhC13C,EAAKtZ,KAAK8zJ,wBAAqC,IAAPx6I,GAAyBA,EAAGkhI,QAAS,GAAEx6I,KAAKgS,yBAAyBwzG,EAAMxzG,KAAM,CACtHoa,KAAM,EACNkmB,GAAI,EACJ7L,QACAuqB,SAAUooH,EACVz+B,KAAMa,GACN30H,OAAQ,EACRq0H,SAAWp3D,IACP0hC,EAAM1hC,QAAUA,CAAO,GAE7B,GACJ,GAEV,CACA8vD,oBAAmB,YAAE4B,EAAW,MAAEz+C,IAC9B,MAAM,QAAEkwE,EAAO,MAAEvP,EAAK,YAAEv9D,EAAW,SAAEK,EAAQ,eAAEC,EAAc,cAAEL,EAAa,YAAEG,EAAW,OAAE+sE,GAAWtnK,KACtGw1I,EAAY38H,SAAQ,EAAG89J,sBAAqBG,oBAAmB30D,UAAU+zB,KACrE,MAAO11G,EAAM85D,GAAUvD,EAAMm/C,GAE7B57C,EAAOA,OAAS2sE,EAAQ/wB,EAAY+wB,EAAQ3lK,QAC5Cg5F,EAAOC,YAAcv6F,KAAK8hH,eAAe9hH,KAAKu6F,YAAa,CAAE4nB,WAC7D7nB,EAAOF,cAAgBA,EACvBE,EAAOE,SAAWA,EAClBF,EAAOG,eAAiBA,EACxBH,EAAOt5D,KAAKlkB,MAAM,CAAEyvG,cAAc,IAClC,IAAIz4B,GAAS,EACb6iF,EAAoBC,OAAO/9J,SAAQ,CAAC6kF,EAAOn8F,UACIQ,IAAvC40K,EAAoBE,QAAQt1K,IAAwBokB,MAAM+3E,EAAMlvF,IAAMmX,MAAM+3E,EAAM9V,GAClFkM,GAAS,EAEJA,GACLwG,EAAOt5D,KAAK8yD,OAAO4J,EAAMlvF,EAAGkvF,EAAM9V,GAClCkM,GAAS,GAGTwG,EAAOt5D,KAAK+yD,OAAO2J,EAAMlvF,EAAGkvF,EAAM9V,EACtC,IAEJ0S,EAAO6yB,iBAEP3sF,EAAKA,KAAOk3H,EAAMxhB,EAAYwhB,EAAMp2J,QACpCk/B,EAAK25D,YAAcA,EACnB35D,EAAK45D,cAAgBA,EACrB55D,EAAK+5D,YAAcA,EACnB/5D,EAAKg6D,SAAWA,EAChBh6D,EAAKi6D,eAAiBA,EACtBj6D,EAAKo6D,WAAa0sE,EAClB9mI,EAAKQ,KAAKlkB,MAAM,CAAEyvG,cAAc,IAChCuqD,EAAkBF,OAAO/9J,SAAS6kF,IAC9Bl9D,EAAKQ,KAAK+yD,OAAO2J,EAAMlvF,EAAGkvF,EAAM9V,EAAE,IAEtCpnD,EAAKQ,KAAKgzD,YACVxzD,EAAK2sF,gBAAgB,GAE7B,CACAysD,iBAAiBnrF,GACb,IAAIn1E,EAAIqb,EAAI2C,EACZ,MAAM,OAAEitH,EAAM,MAAEmT,EAAK,QAAEuP,EAAO,KAAE10B,EAAO,GAAE,MAAEsiC,EAAO7iK,GAAIssG,EAAUxxF,KAAK,cAAE8+G,IAAqB5rI,MACtF,KAAE2c,EAAI,UAAE+6G,GAAc6sB,EACtBi0B,EAAY3D,EAAMpzK,QAAQgtF,EAAM+jD,MAChChyG,EAA8B,QAAtBlnB,EAAKirI,EAAO/jH,YAAyB,IAAPlnB,EAAgBA,EAAKo+I,EAAM8gB,EAAY9gB,EAAMp2J,QACnFg5F,EAAkC,QAAxB3lE,EAAK4vH,EAAOjqD,cAA2B,IAAP3lE,EAAgBA,EAAKsyI,EAAQuR,EAAY9gB,EAAMp2J,QACzFi5F,EAA4C,QAA7BjjE,EAAKitH,EAAOhqD,mBAAgC,IAAPjjE,EAAgBA,EAAKt3B,KAAKu6F,YACpF,IAAI++B,EAcJ,OAbI5B,IACA4B,EAASsS,EAAcpiI,KAAKkuH,EAAW,CACnCjpC,MAAOA,EAAMA,MACb8jD,OACAC,KAAM/jD,EAAM+jD,KACZhyG,OACA85D,SACAC,cACA59E,OACA8tJ,aAAa,EACbnsD,cAGDgb,CACX,CACAke,iBACI,OAAOx3I,KAAKwlH,MAAM5wF,OACtB,EAEJ4/I,GAAWnqH,UAAY,aACvBmqH,GAAWjoK,KAAO,OAClB0iB,GAAW,CACPmgF,GAAS+B,KACVqjE,GAAWxrK,UAAW,aAAS,GAClCimB,GAAW,CACPmgF,GAAS+B,KACVqjE,GAAWxrK,UAAW,eAAW,GACpCimB,GAAW,CACPmgF,GAASwB,GAAO,EAAG,KACpB4jE,GAAWxrK,UAAW,mBAAe,GACxCimB,GAAW,CACPmgF,GAASwB,GAAO,EAAG,KACpB4jE,GAAWxrK,UAAW,qBAAiB,GAC1CimB,GAAW,CACPmgF,GAAS8C,KACVsiE,GAAWxrK,UAAW,gBAAY,GACrCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjB4jE,GAAWxrK,UAAW,sBAAkB,GAC3CimB,GAAW,CACPmgF,GAASoB,KACVgkE,GAAWxrK,UAAW,YAAQ,GACjCimB,GAAW,CACPmgF,GAASoB,KACVgkE,GAAWxrK,UAAW,aAAS,GAClCimB,GAAW,CACPmgF,GAASqC,KACV+iE,GAAWxrK,UAAW,cAAU,GACnCimB,GAAW,CACPmgF,GAASuC,KACV6iE,GAAWxrK,UAAW,iBAAa,GACtCimB,GAAW,CACPmgF,GAASqC,KACV+iE,GAAWxrK,UAAW,cAAU,GACnCimB,GAAW,CACPmgF,GAASiC,OACVmjE,GAAWxrK,UAAW,qBAAiB,GAC1CimB,GAAW,CACPmgF,GAASwB,GAAO,KACjB4jE,GAAWxrK,UAAW,mBAAe,GCn0BxC,IAAIimB,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAKO,MAAM05J,WAAa5sD,GACtB1hH,cACI+jB,SAASzsB,WACT7C,KAAK85K,WAAa,IAAIlvD,GACtB5qH,KAAKwO,EAAI,EACTxO,KAAK4nF,EAAI,EACT5nF,KAAKijF,MAAQ,GACbjjF,KAAK2vB,OAAS,GACd3vB,KAAK+wH,OAAS,EAMd/wH,KAAK+5K,OAAQ,EACb/5K,KAAKg6K,0BAA4B//E,GAAMI,cAAcE,YACrDv6F,KAAKi6K,qBAAuBhgF,GAAMI,cAAcE,YAMhDv6F,KAAKk6K,wBAA0B,CACnC,CACA9sD,cACI,IAAI9zG,EACJ,OAAItZ,KAAKg6K,4BAA8Bh6K,KAAKu6F,gBAGxCv6F,KAAKghC,KAAKysD,WAAaztF,KAAK85K,WAAWrsF,YAAuC,QAAxBn0E,EAAKtZ,KAAKstH,gBAA6B,IAAPh0G,OAAgB,EAASA,EAAGm0E,WAI1H,CACA4/B,aACI,IAAI/zG,EAAIqb,EAAI2C,EACZ,MAAM,KAAE0J,EAAI,WAAE84I,EAAU,MAAEC,GAAU/5K,KACpC,IAAI,EAAEwO,EAAC,EAAEo5E,EAAG3E,MAAOjtE,EAAG2Z,OAAQD,EAAC,YAAE6qE,GAAgBv6F,KACjD,MAAMklF,EAA2G,QAA7FvwD,EAAkC,QAA5Brb,EAAKtZ,KAAKgvF,oBAAiC,IAAP11E,OAAgB,EAASA,EAAGoqE,OAAOwB,kBAA+B,IAAPvwD,EAAgBA,EAAK,EACxIwlJ,EAAY,EAAIj1F,EACtB,IAAIg1F,EAA0B,EAe9B,GAdAl5I,EAAKlkB,MAAM,CAAEyvG,cAAc,IAC3ButD,EAAWh9J,MAAM,CAAEyvG,cAAc,IAC7BwtD,IACI/jK,GAAKmkK,IACLD,GAA2BlkK,EAAImkK,GAE/BzqJ,GAAKyqJ,IACLD,GAA2BxqJ,EAAIyqJ,GAEnCnkK,EAAIhW,KAAKy7F,MAAMjtF,EAAGwH,GAClB0Z,EAAI1vB,KAAKy7F,MAAM7T,EAAGl4D,GAClBlhB,EAAIxO,KAAKy7F,MAAMjtF,GACfo5E,EAAI5nF,KAAKy7F,MAAM7T,IAEf2S,EACA,GAAIvkF,EAAImkK,EAAW,CAEf,MAAMC,EAAK5rK,EAAI2rK,EAAY,EAC3BL,EAAWhmF,OAAOsmF,EAAIxyF,GACtBkyF,EAAW/lF,OAAOqmF,EAAIxyF,EAAIl4D,GAC1B6qE,EAAc4/E,EACdn6K,KAAKq6K,oBAAiBt4K,CAC1B,MACK,GAAI2tB,EAAIyqJ,EAAW,CAEpB,MAAMG,EAAK1yF,EAAIuyF,EAAY,EAC3BL,EAAWhmF,OAAOtlF,EAAG8rK,GACrBR,EAAW/lF,OAAOvlF,EAAIwH,EAAGskK,GACzB//E,EAAc4/E,EACdn6K,KAAKq6K,oBAAiBt4K,CAC1B,MACK,GAAIw4F,EAAcvkF,GAAKukF,EAAc7qE,EAAG,CACzC,MAAM6qJ,EAAkBhgF,EAAc,EACtC/rF,GAAK+rK,EACL3yF,GAAK2yF,EACLvkK,GAAKukF,EACL7qE,GAAK6qE,EAELv6F,KAAKq6K,oBAAiBt4K,EACtBi/B,EAAK2qF,KAAKn9G,EAAGo5E,EAAG5xE,EAAG0Z,GACnBoqJ,EAAWnuD,KAAKn9G,EAAGo5E,EAAG5xE,EAAG0Z,EAC7B,MAGI1vB,KAAKq6K,eAAgD,QAA9B/iJ,EAAKt3B,KAAKq6K,sBAAmC,IAAP/iJ,EAAgBA,EAAK,IAAIszF,GACtF5qH,KAAKq6K,eAAev9J,MAAM,CAAEyvG,cAAc,IAC1CvsH,KAAKq6K,eAAe1uD,KAAKn9G,EAAGo5E,EAAG5xE,EAAG0Z,GAClCoqJ,EAAWnuD,KAAKn9G,EAAGo5E,EAAG5xE,EAAG0Z,QAM7B1vB,KAAKq6K,oBAAiBt4K,EACtBi/B,EAAK2qF,KAAKn9G,EAAGo5E,EAAG5xE,EAAG0Z,GAEvB1vB,KAAKi6K,qBAAuB1/E,EAC5Bv6F,KAAKg6K,0BAA4Bz/E,EACjCv6F,KAAKk6K,wBAA0BA,CACnC,CACAnqF,cACI,MAAM,EAAEvhF,EAAC,EAAEo5E,EAAC,MAAE3E,EAAK,OAAEtzD,GAAW3vB,KAChC,OAAO,IAAI2nF,GAAKn5E,EAAGo5E,EAAG3E,EAAOtzD,EACjC,CACA8sE,cAAcjuF,EAAGo5E,GACb,MAAM8V,EAAQ19F,KAAKypF,eAAej7E,EAAGo5E,GAC/BX,EAAOjnF,KAAK+vF,cAClB,OAAO9I,EAAKc,cAAc2V,EAAMlvF,EAAGkvF,EAAM9V,EAC7C,CACAmU,eAAejvE,GACX,MAAM,YAAEqtE,EAAW,wBAAE+/E,EAAuB,QAAEp2F,GAAY9jF,MACpD,YAAEuzF,GAAgBzmE,EACxBA,EAAIymE,YAAcA,EAAczP,EAAUqW,EAAc+/E,CAC5D,CACAr+E,aAAa/uE,GACT,MAAM,OAAEwtE,EAAM,qBAAE2/E,EAAoB,WAAEH,EAAU,eAAEO,EAAc,QAAEv2F,EAAO,wBAAEo2F,GAA4Bl6K,KACjGw6K,IAAiBlgF,KAAY2/E,EACnC,GAAIO,EAAc,CACd,MAAM,cAAEpgF,EAAa,SAAEI,EAAQ,eAAEC,EAAc,QAAEC,EAAO,SAAEC,GAAa36F,KACnEq6K,IAIAA,EAAenvD,KAAKp+F,GACpBA,EAAImnE,QAER6lF,EAAW5uD,KAAKp+F,GAChB,MAAM,YAAEymE,GAAgBzmE,EACxBA,EAAImrE,YAAcqC,EAClBxtE,EAAIymE,YAAcA,EAAczP,EAAUsW,EAAgB8/E,EAC1DptJ,EAAIorE,UAAY+hF,EACZz/E,GACA1tE,EAAI0vE,YAAYhC,GAEhBC,IACA3tE,EAAI2tE,eAAiBA,GAErBC,IACA5tE,EAAI4tE,QAAUA,GAEdC,IACA7tE,EAAI6tE,SAAWA,GAEnB7tE,EAAIwtE,SACJxtE,EAAIymE,YAAcA,CACtB,CACJ,EAEJsmF,GAAKxvH,UAAY,OACjBp7B,GAAW,CACP+9F,MACD6sD,GAAK7wK,UAAW,SAAK,GACxBimB,GAAW,CACP+9F,MACD6sD,GAAK7wK,UAAW,SAAK,GACxBimB,GAAW,CACP+9F,MACD6sD,GAAK7wK,UAAW,aAAS,GAC5BimB,GAAW,CACP+9F,MACD6sD,GAAK7wK,UAAW,cAAU,GAC7BimB,GAAW,CACP+9F,MACD6sD,GAAK7wK,UAAW,cAAU,GAC7BimB,GAAW,CACP+9F,MACD6sD,GAAK7wK,UAAW,aAAS,GCjL5B,IAAI60G,GAAkC,SAAUx4G,EAAGgmB,GAC/C,IAAI4rB,EAAI,CAAC,EACT,IAAK,IAAIhsB,KAAK5lB,EAAOxD,OAAOmH,UAAUM,eAAeE,KAAKnE,EAAG4lB,IAAMI,EAAE5pB,QAAQwpB,GAAK,IAC9EgsB,EAAEhsB,GAAK5lB,EAAE4lB,IACb,GAAS,MAAL5lB,GAAqD,oBAAjCxD,OAAO6N,sBACtB,KAAI9L,EAAI,EAAb,IAAgBqnB,EAAIppB,OAAO6N,sBAAsBrK,GAAIzB,EAAIqnB,EAAE3pB,OAAQsC,IAC3DynB,EAAE5pB,QAAQwpB,EAAErnB,IAAM,GAAK/B,OAAOmH,UAAUiC,qBAAqBzB,KAAKnE,EAAG4lB,EAAErnB,MACvEqzC,EAAEhsB,EAAErnB,IAAMyB,EAAE4lB,EAAErnB,IAF4B,CAItD,OAAOqzC,CACX,EAEO,SAASkyF,IAAgB,MAAE/nI,EAAK,KAAEuqH,EAAI,UAAE8uD,EAAS,SAAEn8D,EAAQ,QAAEoF,EAAU,EAAC,UAAEgU,EAAS,UAAEgjD,EAAW5tJ,KAAK,cAAE8+G,KAC1G,IAAIohB,EACAt1B,IACAs1B,EAAYphB,EAAcpiI,KAAKkuH,EAAW,CACtCt2H,MAAOqhG,GAASrhG,GAASA,OAAQW,EACjCu8G,mBAGUv8G,IAAdirJ,IACAA,EAAYvqD,GAASrhG,GAASA,EAAMovH,QAAQ,GAAK,IAErD,IAAIsQ,EAASnV,EAAKn9G,EAAIm9G,EAAK1oC,MAAQ,EAC/B89C,EAASpV,EAAK/jC,EAAI+jC,EAAKh8F,OAAS,EAChCgrJ,EAAiB,SACjBC,EAAoB,SACxB,MAAM97C,EAAa19H,GAAS,EAC5B,OAAQq5K,GACJ,IAAK,QACGC,GACA55C,EAAShC,EAAanT,EAAKn9G,EAAIk1G,EAAUiI,EAAKn9G,EAAIm9G,EAAK1oC,MAAQygC,EAC/Di3D,EAAiB77C,EAAa,QAAU,QAGxCiC,EAASjC,EAAanT,EAAK/jC,EAAI+jC,EAAKh8F,OAAS+zF,EAAUiI,EAAK/jC,EAAI87B,EAChEk3D,EAAoB97C,EAAa,MAAQ,UAE7C,MAEJ,IAAK,UACL,IAAK,MACG47C,GACA55C,EAAShC,EAAanT,EAAKn9G,EAAIm9G,EAAK1oC,MAAQygC,EAAUiI,EAAKn9G,EAAIk1G,EAC/Di3D,EAAiB77C,EAAa,QAAU,QAGxCiC,EAASjC,EAAanT,EAAK/jC,EAAI87B,EAAUiI,EAAK/jC,EAAI+jC,EAAKh8F,OAAS+zF,EAChEk3D,EAAoB97C,EAAa,SAAW,OAEhD,MAEJ,IAAK,SACL,QACI87C,EAAoB,SACpB,MAGR,MAAO,CACHh1H,KAAMonG,EACNrmE,UAAWg0F,EACXj0F,aAAck0F,EACdpsK,EAAGsyH,EACHl5C,EAAGm5C,EAEX,CACO,SAAS85C,IAAW,KAAElvD,EAAI,OAAEv5F,IAC/B,MAAM,MAAE2nJ,GAAQ,EAAI,KAAEv5I,EAAI,OAAE85D,EAAM,YAAEC,EAAW,YAAEJ,EAAW,cAAEC,EAAa,SAAEI,EAAQ,eAAEC,EAAc,WAAEG,EAAU,QAAEtM,GAAU,GAAUl8D,EACvIu5F,EAAKouD,MAAQA,EACbpuD,EAAKnrF,KAAOA,EACZmrF,EAAKrxB,OAASA,EACdqxB,EAAKpxB,YAAcA,EACnBoxB,EAAKxxB,YAAcA,EACnBwxB,EAAKvxB,cAAgBA,EACrBuxB,EAAKnxB,SAAWA,EAChBmxB,EAAKlxB,eAAiBA,EACtBkxB,EAAK/wB,WAAaA,EAClB+wB,EAAKr9B,QAAUA,CACnB,CACO,SAASwsF,GAAcxhK,GAC1B,IAAIqb,EAAI2C,EAAIH,EAAIi/E,EAAIC,EAAIC,EAAIssC,GACxB,MAAEn0D,EAAK,cAAEssF,EAAa,MAAEhzJ,EAAK,eAAE63F,EAAc,UAAE8X,EAAS,SAAEpZ,EAAQ,WAAE08D,EAAYluJ,KAAK,cAAE8+G,IAAoBtyH,EAAImmE,EAAOo+B,GAAOvkG,EAAI,CAAC,QAAS,gBAAiB,QAAS,iBAAkB,YAAa,WAAY,aAAc,QAClO,MAAM2hK,EAAWF,GAA+C,QAA9BpmJ,EAAKirF,EAAep/E,YAAyB,IAAP7L,EAAgBA,EAAkB5M,EAAMyY,KAC1G06I,EAAaH,GAAiD,QAAhCzjJ,EAAKsoF,EAAetlB,cAA2B,IAAPhjE,EAAgBA,EAAoBvP,EAAMuyE,OAChH6gF,EAAkBJ,GAAsD,QAArC5jJ,EAAKyoF,EAAerlB,mBAAgC,IAAPpjE,EAAgBA,EAAyBpP,EAAMwyE,YAC/HJ,EAAc4gF,GAAsD,QAArC3kE,EAAKwJ,EAAezlB,mBAAgC,IAAPic,EAAgBA,EAAyBruF,EAAMoyE,aAC3H,cAAEC,EAAa,WAAEQ,EAAU,SAAEJ,EAAQ,eAAEC,GAAmB1yE,EAChE,IAAIuxG,EAKJ,OAJI5B,IACA4B,EAASsS,EAAcpiI,KAAKkuH,EAAW71H,OAAO6hB,OAAO,CAAE+qE,MAAOA,EAAMA,MAAO8jD,KAAM9jD,EAAM8jD,KAAMC,KAAM/jD,EAAM+jD,KAAMhyG,KAAMy6I,EAAU3gF,OAAQ4gF,EAAY3gF,YAAa4gF,EAAiB1Q,YAAasQ,EAAez8D,WACzM08D,cAAcv7F,KAEf,CACHj/C,KAA6E,QAAtE61E,EAAgB,OAAXijB,QAA8B,IAAXA,OAAoB,EAASA,EAAO94F,YAAyB,IAAP61E,EAAgBA,EAAK4kE,EAC1G3gF,OAAiF,QAAxEgc,EAAgB,OAAXgjB,QAA8B,IAAXA,OAAoB,EAASA,EAAOh/B,cAA2B,IAAPgc,EAAgBA,EAAK4kE,EAC9G3gF,YAA2F,QAA7EqoD,EAAgB,OAAXtpB,QAA8B,IAAXA,OAAoB,EAASA,EAAO/+B,mBAAgC,IAAPqoD,EAAgBA,EAAKu4B,EACxHhhF,cACAC,gBACAI,WACAC,iBACAG,aAER,CACO,SAASwgF,GAAW73C,EAAe,IACtC,MAAO83C,EAAYC,GAAc/3C,EAC3Bg4C,EAA0B,IAAfF,GAAmC,IAAfC,EAC/BvB,GAASwB,EACf,OAAOxB,CACX,CACO,SAAS7wB,IAAY,UAAEhB,EAAS,WAAE3e,EAAU,OAAEn3G,EAAM,QAAEk8D,IACzD,GAAIi7C,GAAcn3G,GAAUA,EAAOwC,QAAS,CACxC,MAAM,EAAEpmB,EAAC,EAAEo5E,EAAC,KAAEhiC,EAAI,UAAE+gC,EAAS,aAAED,GAAiB6iD,GAC1C,UAAEhoC,EAAS,WAAEC,EAAU,SAAE5E,EAAQ,WAAEC,EAAU,MAAE9C,GAAU3nE,EAC/D81H,EAAU3mD,UAAYA,EACtB2mD,EAAU1mD,WAAaA,EACvB0mD,EAAUtrD,SAAWA,EACrBsrD,EAAUrrD,WAAaA,EACvBqrD,EAAUvhE,UAAYA,EACtBuhE,EAAUxhE,aAAeA,EACzBwhE,EAAUtiG,KAAOA,EACjBsiG,EAAU15I,EAAIA,EACd05I,EAAUtgE,EAAIA,EACdsgE,EAAU1nH,KAAOu5D,EACjBmuD,EAAU55D,QAAUA,CACxB,MAEI45D,EAAU55D,SAAU,CAE5B,CChIA,IAAIr/D,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EACIq0E,GAAwC,SAAUt3E,EAASu3E,EAAYlqF,EAAGmqF,GAC1E,SAASC,EAAMvzF,GAAS,OAAOA,aAAiBmJ,EAAInJ,EAAQ,IAAImJ,GAAE,SAAUokB,GAAWA,EAAQvtB,EAAQ,GAAI,CAC3G,OAAO,IAAKmJ,IAAMA,EAAImkB,WAAU,SAAUC,EAASuY,GAC/C,SAAS0tD,EAAUxzF,GAAS,IAAMo/E,EAAKkU,EAAUj3E,KAAKrc,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC1F,SAASwpE,EAASzzF,GAAS,IAAMo/E,EAAKkU,EAAU,SAAStzF,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC7F,SAASm1D,EAAKv9E,GAAUA,EAAOya,KAAOiR,EAAQ1rB,EAAO7B,OAASuzF,EAAM1xF,EAAO7B,OAAO+iB,KAAKywE,EAAWC,EAAW,CAC7GrU,GAAMkU,EAAYA,EAAUhrF,MAAMwT,EAASu3E,GAAc,KAAKh3E,OAClE,GACJ,EAuBA,MAAM+9J,GAAuB,CAAC,SAAU,WAClCC,GAA0BA,CAACt/J,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,GAAM3Q,GAAMq/J,GAAqBh6K,SAAS2a,KAClG,IAAIu/J,IACJ,SAAWA,GACPA,EAAiBA,EAAiB,OAAS,GAAK,MAChDA,EAAiBA,EAAiB,SAAW,GAAK,OACrD,EAHD,CAGGA,KAAqBA,GAAmB,CAAC,IAC5C,MAAMC,WAAuBl8C,GACzBl0H,cACI+jB,SAASzsB,WACT7C,KAAK03H,eAAY31H,EACjB/B,KAAKy6K,UAAY,QACrB,EAEJxrJ,GAAW,CACPmgF,GAASgB,KACVurE,GAAe3yK,UAAW,iBAAa,GAC1CimB,GAAW,CACPmgF,GAASqsE,KACVE,GAAe3yK,UAAW,iBAAa,GAC1C,MAAM4yK,WAAyB98D,GAC3BvzG,cACI+jB,SAASzsB,WACT7C,KAAKkoC,cAAWnmC,CACpB,EAKJ,SAAS85K,GAAUv6D,GACf,OAAOA,EAAMhgH,OAAS,GAAKqL,MAAMhL,QAAQ2/G,EAAM,GACnD,CALAryF,GAAW,CACPmgF,GAASgB,KACVwrE,GAAiB5yK,UAAW,gBAAY,GAIpC,MAAM8yK,WAAkBlpC,GAC3BrnI,YAAYs0G,GACRvwF,MAAM,CACFuwF,YACAG,UAAW,CAACpC,GAAmB2E,mBAC/BgxB,eAAgB,EAChBrzB,cAAe,CACX,CAACpN,GAAmBsM,GAAI,CAAC,QACzB,CAACtM,GAAmBuM,GAAI,CAAC,UAE7Bc,eAAgB,CACZ,CAACrN,GAAmBsM,GAAI,CAAC,SACzB,CAACtM,GAAmBuM,GAAI,CAAC,aAGjCr/G,KAAKwlH,MAAQ,IAAIm2D,GACjB37K,KAAK0hJ,QAAU,IAAIk6B,GACnB57K,KAAK03J,MAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,WACrE13J,KAAKinK,QAAU,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,WACvEjnK,KAAKm6F,YAAc,EACnBn6F,KAAKo6F,cAAgB,EACrBp6F,KAAKw6F,SAAW,CAAC,GACjBx6F,KAAKy6F,eAAiB,EACtBz6F,KAAK03H,eAAY31H,EAIjB/B,KAAK+7K,WAAa,IAAI/sD,GACtBhvH,KAAKuyI,UAAOxwI,EACZ/B,KAAKy0K,WAAQ1yK,EACb/B,KAAKg8K,aAAe,GACpBh8K,KAAKi8K,eAAYl6K,EACjB/B,KAAKk8K,aAAe,GACpBl8K,KAAK60K,MAAQ,GACb70K,KAAKm8K,WAAa,GAClBn8K,KAAK80K,SAAW,GAChB90K,KAAKo8K,SAAU,EACfp8K,KAAKq8K,YAAc,CAAC,EAKpBr8K,KAAK40K,OAAS,CAAC,EACf50K,KAAKs8K,gBAAkB,CAAC,EACxBt8K,KAAKu6F,YAAc,EACnBv6F,KAAKsnK,YAASvlK,EACd/B,KAAKu8K,0BAAuBx6K,EAC5B/B,KAAKwlH,MAAM5wF,SAAU,CACzB,CACAwsF,oBAAoBF,GAChB,OAAIlhH,KAAKw8K,oBAAsB1pE,GAAmBsM,EAC1C8B,IAAcpO,GAAmBsM,EAC1BtM,GAAmBuM,EAEvBvM,GAAmBsM,EAEvB8B,CACX,CACAu7D,eACI,IACIR,GADA,MAAEpH,GAAU70K,KAGX67K,GAAUhH,KACXoH,EAAYpH,EACZA,EAAQ70K,KAAKo8K,QAAUH,EAAUtiK,KAAK8+B,GAAM,CAACA,KAAM,CAACwjI,IAExD,MAAMI,EAAcx6K,OAAO6W,OAAO1Y,KAAKq8K,aACvC,GAAIA,EAAY/6K,OAAS,EAAG,CACxB,MAAMo7K,EAAeh5K,GAASA,EAAKimB,QAAO,CAACpP,EAAKk+B,IAAMl+B,EAAI/K,OAAOipC,IAAI,IAE/DkkI,EAAWD,EAAY7H,GACvB+H,EAAe,IAAI7mK,IAAI2mK,EAAYL,IACnCQ,EAAgBF,EAASjjK,QAAQ++B,IAAOmkI,EAAahxK,IAAI6sC,KAC/Do8H,EAAQwH,EAAY1iK,KAAKjW,GAASA,IAC9Bm5K,EAAcv7K,OAAS,GACvBuzK,EAAMllK,KAAKktK,GAGf,MAAMC,EAAYC,GAAUA,EAAMpzJ,QAAO,CAAChQ,EAAK5W,EAAKxB,IAAUoY,EAAIhO,IAAI5I,EAAKxB,IAAQ,IAAIyW,KACjFglK,EAAUN,EAAY7H,GACtBoI,EAAiBH,EAASE,GAC1B9oJ,EAAQ6oJ,IACV,MAAM95K,EAAS0J,MAAMyf,KAAK,CAAE9qB,OAAQy7K,EAAMz7K,SAM1C,OALAy7K,EAAMlkK,SAAQ,CAAChG,EAAMtR,KACjB,MAAMwB,EAAM45K,EAASp7K,GACf4/C,EAAW87H,EAAer4K,IAAI7B,GACpCE,EAAOk+C,GAAYtuC,CAAI,IAEpB5P,CAAM,EAEjBjD,KAAK03J,MAAQxjI,EAAKl0B,KAAK03J,OACvB13J,KAAKinK,QAAU/yI,EAAKl0B,KAAKinK,SACzBjnK,KAAK80K,SAAW5gJ,EAAKl0B,KAAK80K,SAC9B,CACA,IAAK3iD,GAA2BnyH,KAAKm8K,WAAYtH,GAAQ,CACrD70K,KAAKi8K,UAAYA,QAAwBl6K,EACzC/B,KAAK60K,MAAQA,EACb,IAAIqI,EAAgB,EACpBl9K,KAAKg8K,aAAe,GACpB,MAAMmB,EAAgB,GACtBtI,EAAMh8J,SAAQ,CAAC/Q,EAAOvG,KACduG,EAAMxG,OAAS,GACf67K,EAAcxtK,KAAKpP,OAAOgB,IAE9BvB,KAAKg8K,aAAarsK,KAAKutK,GACvBA,GAAiBp1K,EAAMxG,MAAM,IAEjCtB,KAAKioK,2BACL,MAAM,WAAE8T,GAAe/7K,KACvB+7K,EAAW/oE,OAASmqE,CACxB,CACAn9K,KAAKm8K,WAAatH,CACtB,CACA5M,2BACI,MAAM,kBAAE30B,GAAsBtzI,KACxBo9K,EAAYA,CAACj9J,EAAG1R,IAAM0R,EAAE3Q,UAAW7C,MAAMhL,QAAQ8M,GAAKA,EAAI,CAACA,IAC3DqmK,EAAW90K,KAAK80K,SAASnrJ,OAAOyzJ,EAAW,IACjD9pC,EAAkBx2H,QAClB,IAAIugK,EAAc,EAClBr9K,KAAK60K,MAAMh8J,SAAS/Q,IAChBA,EAAM+Q,SAAS25H,IAAW,IAAIl5H,EAAI,OAAOg6H,EAAkB3nI,IAAI6mI,EAAyC,QAAlCl5H,EAAKw7J,EAASuI,YAAmC,IAAP/jK,GAAgBA,EAAU,GAAI,GAEtJ,CACAgkK,cAAc9qC,GACV,IAAIl5H,EACJ,MAAM,YAAE+iK,GAAgBr8K,KACxB,OAAuF,QAA/EsZ,EAAKzX,OAAO6nB,QAAQ2yJ,GAAap1G,MAAK,EAAEliD,EAAGrhB,KAAUA,EAAKlC,SAASgxI,YAA2B,IAAPl5H,OAAgB,EAASA,EAAG,EAC/H,CACAikK,gBACI,MAAM7kK,EAAS1Y,KAAK40K,OACpB,GAAIjoK,MAAMhL,QAAQ+W,IAAW1Y,KAAKi8K,UAAW,CACzC,MAAMtiK,EAAM,CAAC,EACb3Z,KAAKi8K,UAAUpjK,SAAQ,CAAC4/B,EAAG70C,KACvB+V,EAAI8+B,GAAK//B,EAAO9U,EAAE,IAEtB5D,KAAK40K,OAASj7J,CAClB,CACJ,CACAy6F,cACI,IAAI96F,EAAIqb,EAAI2C,EAAIH,EAAIi/E,EACpB,OAAO5hB,GAAUx0F,UAAM,OAAQ,GAAQ,YACnCA,KAAKy8K,eACLz8K,KAAKu9K,gBACL,MAAM,KAAEhrC,EAAI,kBAAEe,EAAiB,aAAEyhC,EAAY,KAAE/nK,EAAO,IAAOhN,KACvDw9K,EAAkB9yK,KAAKw9E,IAAqB,OAAjB6sF,QAA0C,IAAjBA,EAA0BA,EAAelvJ,KAC7F2uH,GAAmD,QAAjCl7H,EAAKtZ,KAAKy9K,yBAAsC,IAAPnkK,OAAgB,EAASA,EAAG6tE,iBAAkBorC,GACzGkiB,GAAgD,QAA9B9/G,EAAK30B,KAAK09K,sBAAmC,IAAP/oJ,OAAgB,EAASA,EAAGwyD,iBAAkBorC,GACtGorD,EAAoB,IAAIrqC,EAAkB5pH,WAC3ChQ,QAAO,EAAE,CAAEkb,KAAaA,IACxBjb,KAAI,EAAE64H,KAAUA,IACforC,EAAe59K,KAAK60K,MACrBl7J,KAAK7R,GAAUA,EAAM4R,QAAQ3W,GAAQuwI,EAAkB1uI,IAAI7B,OAC3D2W,QAAQ5R,GAAUA,EAAMxG,OAAS,IAChC6iK,EAAcqZ,GAAmB56E,SAAS46E,GAAmBA,OAAkBz7K,EAC/EyjD,EAAa,GACf2+G,GACA3+G,EAAW71C,KAAKu0J,GAAiByZ,EAAmBxZ,EAAa,QAErEnkK,KAAKkoK,UAAY,IAAI30D,GAAU,CAC3B3rF,MAAO,CACHgqD,GAAY2gE,EAAMiC,MACfmpC,EAAkBhkK,KAAK64H,GAASz0B,GAAcy0B,EAAMiC,EAAe,CAAE57B,aAAc,YACnF+kE,EAAajkK,KAAK7R,GAAUm5F,GAAIn5F,QAC/B0sI,EAAgB,CAACovB,IAAyB,GAC9CI,MACGx+G,GAEP6uD,aAAa,EACbb,YAAaxzG,KAAKsuF,SAAWqvF,EAAkBr8K,OAAS,IAE5DtB,KAAKm0G,cAAgBn0G,KAAKkoK,UAAU9zD,YAAYpnG,GAChDhN,KAAKu8K,qBAAuB,CACxB/tK,EAAuK,QAAnK4nG,EAA0F,QAApFj/E,EAAmC,QAA7BG,EAAKt3B,KAAKm0G,qBAAkC,IAAP78E,OAAgB,EAASA,EAAG0gF,eAA4B,IAAP7gF,OAAgB,EAASA,EAAGysI,GAAsB3oE,iBAA8B,IAAPmb,EAAgBA,EAAKjiF,IACpMyzD,EAAGzzD,IAEX,GACJ,CACA+/E,UAAUgN,GACN,IAAI5nG,EACJ,MAAM,cAAE66F,GAAkBn0G,KAC1B,IAAKm0G,EACD,MAAO,GACX,MAAQyB,MAAQlyG,MAAOyxK,IAAYniE,QAAUtvG,MAAOA,GAAOgV,QAAS08J,IAAap9D,SAAW,CAAC4rD,GAAsB3oE,UAAW4iF,EAAW,CAAC7Z,GAAkB/oE,UAAWo6E,GAAe,CAAC,GAAOlhE,EAC9L,GAAI+M,IAAclhH,KAAK89K,uBAAwB,CAC3C,GAAyB,aAArB3I,EAAOpqG,UACP,OAAOrnE,EAEX,MAAMq6K,EAAqC,QAAvBzkK,EAAK+5F,GAAO3vG,UAA0B,IAAP4V,EAAgBA,EAAK,CAACuM,IAAKA,KAC9E,OAAIq7F,IAAcpO,GAAmBuM,EAC1B,CAAC0+D,EAAW,IAAMF,EAAWE,EAAW,IAE5C,CAACA,EAAW,GAAIA,EAAW,GAAKF,EAC3C,CACK,OAAI79K,KAAK09K,yBAA0B/J,GAC7B3zK,KAAKozG,iBAAiBgiE,GAGtBp1K,KAAKozG,iBAAiBiiE,EAErC,CACAnyD,kBAAkBruF,EAAO45D,GACrB,IAAIn1E,EACJ,OAAO,IAAIm5H,GAAmD,QAApBn5H,EAAKtZ,KAAKuyI,YAAyB,IAAPj5H,EAAgBA,EAAK,GAAIm1E,EAAM+jD,KAAM39G,EAAO45D,EAAOzuF,KAC7H,CACAojH,wBAAwBvuF,EAAO45D,GAC3B,IAAIn1E,EACJ,OAAO,IAAIo5H,GAAyD,QAApBp5H,EAAKtZ,KAAKuyI,YAAyB,IAAPj5H,EAAgBA,EAAK,GAAIm1E,EAAM+jD,KAAM39G,EAAO45D,EAAOzuF,KACnI,CACAy9K,kBACI,OAAOz9K,KAAK89K,yBAA2BhrE,GAAmBuM,EAAIr/G,KAAK60I,MAAQ70I,KAAK40I,KACpF,CACA8oC,eACI,OAAO19K,KAAKw8K,oBAAsB1pE,GAAmBuM,EAAIr/G,KAAK60I,MAAQ70I,KAAK40I,KAC/E,CACAopC,cAAc73J,GACV,IAAI7M,EACJ,MAAQijK,qBAAsB0B,GAAqBj+K,KAC7C40I,EAAQ50I,KAAKy9K,kBACnB,IAAK7oC,EACD,OAGJ,MAAMspC,EAAetpC,EAAMz/B,WAAW,GAAKy/B,EAAMz/B,WAAW,GACtDgpE,EAAYD,GAAkH,QAAjG5kK,EAA0B,OAArB2kK,QAAkD,IAArBA,OAA8B,EAASA,EAAiBzvK,SAAsB,IAAP8K,EAAgBA,EAAK,GAAK,EAIhK8kK,EAAW1zK,KAAK4D,MAAM6X,GACtBk4J,EAAQ3zK,KAAK2G,IAAI8sK,EAAWC,GAC5B59F,EAAOr6D,EAAQzb,KAAK0G,IAAI,EAAGitK,GACjC,OAAO79F,CACX,CACAs1D,iBACI,OAAOthD,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,KAAEgN,EAAI,QAAEshF,GAAYtuF,KACpB40I,EAAQ50I,KAAKy9K,kBACb5oC,EAAQ70I,KAAK09K,eACnB,KAAM1wK,GAAQshF,GAAWsmD,GAASC,GAC9B,MAAO,GAEX,MAAM2gC,EAAS5gC,EAAMztD,MACfsuF,EAAS5gC,EAAM1tD,OACf,WAAE40F,EAAU,MAAElH,EAAK,KAAEtiC,EAAO,GAAE,aAAEypC,EAAY,MAAEtkB,EAAK,QAAEuP,EAAO,YAAE1sE,EAAW,kBAAE+4C,EAAiB,MAAE9tB,EAAOxzG,GAAIssG,EAAQ,cAAEnK,EAAa,IAAErnF,GAAS9sB,KACjJ,IAAIs+K,EAAa9I,EAAO3lD,UACxB,GAAI2lD,aAAkBjjD,GAAiB,CACnC,MAAMkB,EAAiB/oH,KAAK0G,IAAIwjI,EAAMzuH,MAAM,GAAIyuH,EAAMzuH,MAAM,IACtDq6D,EAAOxgF,KAAKg+K,cAAcvqD,GAChC6qD,EAAa99F,CACjB,CACAu7F,EAAW51J,MAAQ,CAAC,EAAGm4J,GAEnBvC,EAAWr4D,QADXkxB,aAAiBzG,GACIyG,EAAMvG,kBAEtBuG,aAAiBqpB,GACD,GAIA,EAGE,IAAvB8d,EAAWr4D,QACXq4D,EAAWv2F,OAAQ,EAGnBu2F,EAAWv2F,OAAQ,EAEvB,MAAM+4F,EAAWxC,EAAWlsD,WAAa,EAEjCksD,EAAWlsD,UAEXksD,EAAWjsD,aACbylD,EAAW,GA4FjB,OA3FkB,OAAlBphE,QAA4C,IAAlBA,GAAoCA,EAAcnnG,KAAK6L,SAAQ,EAAGnV,OAAM+qF,MAAO6oF,EAAa5+J,UAAUw9F,KAC5H,IAAI58F,EAAIqb,EAAI2C,EAAIH,EAAIi/E,EAChBC,EACJ,MAAM7nG,EAAIgnK,EAAO7lD,QAAQjsH,EAAK,IAC9B,IAAK,IAAI86K,EAAa,EAAGA,GAAoF,QAArEllK,EAAe,OAAVu7J,QAA4B,IAAVA,OAAmB,EAASA,EAAMvzK,cAA2B,IAAPgY,EAAgBA,EAAK,GAAIklK,IAAc,CACxJ,MAAMC,EAAwF,QAA1E9pJ,EAAe,OAAVkgJ,QAA4B,IAAVA,OAAmB,EAASA,EAAM2J,UAAgC,IAAP7pJ,EAAgBA,EAAK,GAC3F,QAA/B2C,EAAKi+I,EAASiJ,UAAgC,IAAPlnJ,IAAsBi+I,EAASiJ,GAAc,IACrF,IAAIE,EAAW,EACXC,EAAW,EACf,IAAK,IAAIC,EAAa,EAAGA,EAAaH,EAAWn9K,OAAQs9K,IAAc,CACnE,MAAMpsC,EAAOisC,EAAWG,GAClBC,EAAqH,QAA3G1nJ,EAAuB,OAAlBg9E,QAA4C,IAAlBA,OAA2B,EAASA,EAAcwB,QAAQj9F,OAAO85H,UAA0B,IAAPr7G,EAAgBA,GAAM,EAMzJ,GALmD,QAAlDi/E,GAAMC,EAAKk/D,EAASiJ,IAAaI,UAAgC,IAAPxoE,IAAsBC,EAAGuoE,GAAc,CAC9Fz8D,OAAQqwB,EACR2D,SAAU,GACVjN,UAAW,UAEAnnI,IAAX88K,EACA,SACJ,MAAM/G,EAASp/J,EAAO,GAAGmmK,GACnB3I,GAAS4B,EACTgH,EAAOtwK,EAAIutK,EAAWpsD,QAAQpvH,OAAOi+K,IAG3C,IAAK5pC,EAAM7P,QAAQ+5C,EAAMP,GACrB,SAEJ,GAAI54J,MAAMuwJ,GACN,SAEJ,MAAMD,EAAQC,EAAQ,EAAIwI,EAAWC,EAC/B/2F,EAAI6tF,EAAO9lD,QAAQsmD,EAAQC,EAAO,CAAEjjD,QAAQ,IAC5C0mD,EAAUlE,EAAO9lD,QAAQsmD,EAAO,CAAEhjD,QAAQ,IAC1CynD,EAAY16K,KAAKw8K,oBAAsB1pE,GAAmBsM,EAC1DuM,EAAO,CACTn9G,EAAGksK,EAAYhwK,KAAK2G,IAAIu2E,EAAG+xF,GAAWmF,EACtCl3F,EAAG8yF,EAAYoE,EAAOp0K,KAAK2G,IAAIu2E,EAAG+xF,GAClC12F,MAAOy3F,EAAYhwK,KAAKw9E,IAAIyxF,EAAU/xF,GAAK22F,EAC3C5uJ,OAAQ+qJ,EAAY6D,EAAW7zK,KAAKw9E,IAAIyxF,EAAU/xF,IAEhD8xE,EAAe,CACjBlrJ,EAAGm9G,EAAKn9G,EAAIm9G,EAAK1oC,MAAQ,EACzB2E,EAAG+jC,EAAK/jC,EAAI+jC,EAAKh8F,OAAS,IAEtB4xE,UAAWw9E,EAAgBv9E,WAAYw9E,EAAiBpiF,SAAUqiF,EAAepiF,WAAYqiF,EAAiBnlF,MAAOokE,EAAU,UAAEzmC,EAAS,UAAE+iD,GAAej1D,GAC3J5/D,KAAMonG,EAAWrmE,UAAWg0F,EAAgBj0F,aAAck0F,EAAmBpsK,EAAGsyH,EAAQl5C,EAAGm5C,GAAYoI,GAAgB,CAAE/nI,MAAO02K,EAAQnsD,OAAM+L,YAAW+iD,YAAWn8D,WAAUo8D,YAAW5tJ,QAC3LqyJ,EAAanD,EAAawC,GAAcI,EACxCzoC,EAAW,CACb50I,MAAO20G,EACPmI,OAAQr+G,KACRmiH,OAAQqwB,EACR/jD,MAAO6oF,EAAY,GACnBO,gBAAiB5B,EAAQC,EACzB4B,SACAtlC,OACAD,OACA/jI,EAAGm9G,EAAKn9G,EACRo5E,EAAG+jC,EAAK/jC,EACR3E,MAAO0oC,EAAK1oC,MACZtzD,OAAQg8F,EAAKh8F,OACb+pI,eACAylB,aACA3+I,KAAMk3H,EAAMynB,EAAaznB,EAAMp2J,QAC/Bg5F,OAAQ2sE,EAAQkY,EAAalY,EAAQ3lK,QACrCi5F,cACAirB,MAAO8tB,EAAkB1uI,IAAI4tI,IAASwa,EAChC,CACEpnG,KAAMonG,EACNzrD,UAAWw9E,EACXv9E,WAAYw9E,EACZpiF,SAAUqiF,EACVpiF,WAAYqiF,EACZv4F,UAAWg0F,EACXj0F,aAAck0F,EACdp6I,KAAM29H,EACN3vJ,EAAGsyH,EACHl5C,EAAGm5C,QAELh/H,GAEVwzK,EAASiJ,GAAYI,GAAYzoC,SAASxmI,KAAKwmI,GAC/Co/B,EAASiJ,GAAYI,GAAY11C,UAAUv5H,KAAKwmI,GAC5C+/B,EAAQ,EACRwI,GAAYxI,EAGZyI,GAAYzI,CAEpB,CACJ,KAEGX,EAAS5rJ,QAAO,CAACxJ,EAAG1R,IAAM0R,EAAE3Q,UAAUf,IAAI,GACrD,GACJ,CACAykI,cACI,OAAO,IAAI2mC,EACf,CACAzjC,qBAAqB32D,GACjB,OAAO+U,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,SAAEm2I,EAAQ,eAAEd,GAAmB51D,EACrC,OAAO41D,EAAe3kH,OAAOylH,GAAWxqB,GAAUA,EAAK3oH,IAAM04K,GAAiB0D,KAClF,GACJ,CACAloC,iBAAiBz3D,GACb,IAAInmE,EACJ,OAAOk7E,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,eAAEq1I,EAAc,YAAE4B,GAAgBx3D,GAClC,MAAEi4E,EAAK,QAAEuP,EAAO,YAAE9sE,EAAW,cAAEC,EAAa,SAAEI,EAAQ,eAAEC,EAAc,OAAE6sE,EAAM,UAAE5vC,EAAW1lH,GAAIssG,EAAUsB,gBAAkB/sG,KAAMwsK,GAAoB,IAAEvyJ,GAAS9sB,KAChK+5K,EAAQqB,GAAiC,QAArB9hK,EAAKtZ,KAAK40I,aAA0B,IAAPt7H,OAAgB,EAASA,EAAGiqH,cAC7E+7C,EAAiBt/K,KAAK89K,yBAA2BhrE,GAAmBsM,EAC1Ei2B,EAAe9mB,MAAK,CAAC5C,EAAMl9B,KACvB,MAAM,WAAE0wF,GAAe1wF,EACjB1mE,EAAQ,CACVyY,KAAMk3H,EAAMynB,EAAaznB,EAAMp2J,QAC/Bg5F,OAAQ2sE,EAAQkY,EAAaznB,EAAMp2J,QACnC64F,cACAC,gBACAI,WACAC,iBACAG,WAAY0sE,EACZ/sE,YAAav6F,KAAK8hH,eAAe9hH,KAAKu6F,YAAa9L,IAEjDH,EAAUgxF,EAAiB7wF,EAAMxL,MAAQ,EAAIwL,EAAM9+D,OAAS,EAC5DyC,EAAS0oJ,GAAc,CACzBrsF,QACAssF,cAAe9jC,EACflvH,QACA63F,eAAgBy/D,EAChB3nD,YACApZ,WACA08D,WAAYh7K,KAAKs9K,cAAc7uF,EAAM+jD,MACrC1lH,QAEJsF,EAAO2nJ,MAAQA,EACf3nJ,EAAOk8D,QAAUA,EACjBusF,GAAW,CAAElvD,OAAMv5F,UAAS,GAEpC,GACJ,CACAikH,qBAAqB52D,GACjB,OAAO+U,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,UAAEkpI,EAAS,eAAEyM,GAAmBl2D,GAChC,QAAE7qD,GAAY50B,KAAKwlH,MACnBx4G,EAAO4nB,EAAUs0G,EAAY,GACnC,OAAOyM,EAAejlH,OAAO1jB,GAAO44C,IAChCA,EAAK5iD,IAAM04K,GAAiBj8C,MAC5B75E,EAAKi+B,cAAgB6J,GAAcgC,IAAI,GAE/C,GACJ,CACAynD,iBAAiB13D,GACb,OAAO+U,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,eAAE21I,GAAmBl2D,EAC3Bk2D,EAAepnB,MAAK,CAAC3oE,EAAM6oC,KACvB,MAAM86C,EAAa96C,EAAM+2B,MACzB0jC,GAAY,CAAEhB,UAAWtiG,EAAM2jF,aAAYn3G,OAAQpyB,KAAKwlH,MAAOl3B,SAAS,GAAO,GAEvF,GACJ,CACAyqE,eAAe+W,GACX,IAAIx2J,EACJ,MAAM,KAAEi5H,EAAI,MAAEsiC,EAAK,cAAE1gE,EAAernF,KAAK,cAAE8+G,IAAqB5rI,KAC1D40I,EAAQ50I,KAAKy9K,kBACb5oC,EAAQ70I,KAAK09K,gBACb,KAAElrC,GAASs9B,EACjB,IAAK37D,IAAkBo+B,IAASC,IAASoC,IAAUC,EAC/C,MAAO,GAEX,IAAI0qC,EAAY,EACZ37K,EAAI,EACJ+iB,EAAI,EACR,KAAOA,EAAIkuJ,EAAMvzK,OAAQqlB,IAAK,CAC1B,MAAM7e,EAAQ+sK,EAAMluJ,GAEpB,GADA/iB,EAAIkE,EAAMrG,QAAQ+wI,GACd5uI,GAAK,EAAG,CACR27K,GAAa37K,EACb,KACJ,CACA27K,GAAaz3K,EAAMxG,MACvB,CACA,MAAM,MAAEmzK,EAAK,OAAEG,EAAM,MAAEld,EAAK,QAAEuP,EAAO,QAAEvlB,EAAO,UAAEhqB,EAAW1lH,GAAIssG,GAAat+G,MACpEkoC,SAAU6nI,GAAoBruB,EAChCjzD,EAAQqhF,EAAUrhF,MAClBsqF,EAAQnE,EAAOpiC,GACfwoC,EAAah7K,KAAKs9K,cAAc9qC,GAChChyG,EAAOk3H,EAAM6nB,EAAY7nB,EAAMp2J,QAC/Bg5F,EAAS2sE,EAAQsY,EAAY7nB,EAAMp2J,QACnCi5F,EAAcv6F,KAAK8hH,eAAe9hH,KAAKu6F,aACvCm+E,EAASjqF,EAAM8jD,GACfulC,EAASrpF,EAAM+jD,GACfomC,EAAU5F,GAAap+B,EAAMxI,YAAYssC,IACzCG,EAAU7F,GAAan+B,EAAMzI,YAAY0rC,IACzCl+D,EAAQo5D,GAAa+F,GACrBhzH,EAAU6yH,EAAU,KAAOC,EACjC,IAAIv/C,EACA5B,IACA4B,EAASsS,EAAcpiI,KAAKkuH,EAAW,CACnCjpC,QACAjuD,OACA85D,SACAC,cACAkwE,aAAa,EACbl4B,OACAC,OACAl0B,WACA08D,gBAGR,MAAMjhF,EAA+E,QAAtEzgF,EAAgB,OAAXggH,QAA8B,IAAXA,OAAoB,EAASA,EAAO94F,YAAyB,IAAPlnB,EAAgBA,EAAKknB,EAC5GsO,EAAW,CACb8qE,QACAC,gBAAiB9f,EACjBh0C,WAEJ,OAAIgqH,EACOp2D,GAAco2D,EAAgB,CACjCthF,QACA8jD,OACAmmC,SACAjE,QACAjiC,OACAslC,SACAiB,QACAh/E,QACA6f,QACA0E,WACA08D,eACAlsI,GAED6qE,GAAc7qE,EACzB,CACAwhH,gBACI,MAAM,GAAEt+I,EAAE,KAAEhF,EAAI,KAAEulI,EAAI,MAAEsiC,EAAK,OAAED,EAAM,gBAAE0H,EAAe,aAAEN,EAAY,kBAAE1oC,EAAiB,aAAE4oC,EAAY,MAAExkB,EAAK,QAAEuP,EAAO,YAAE9sE,EAAW,cAAEC,GAAmBp6F,KACvJ,KAAe,OAATgN,QAA0B,IAATA,OAAkB,EAASA,EAAK1L,UAAYixI,IAASsiC,EAAMvzK,OAC9E,MAAO,GAEX,MAAM8uJ,EAAa,GA4BnB,OA3BApwJ,KAAKs3J,qBACLt3J,KAAK60K,MAAMh8J,SAAQ,CAAC/Q,EAAO02K,KACvB,IAAIllK,EAAIqb,EAAI2C,EACZ,IAAK,IAAIsnJ,EAAa,EAAGA,EAAa92K,EAAMxG,OAAQs9K,IAAc,CAC9D,MAAMpsC,EAAO1qI,EAAM82K,GACnB,GAAI1C,EAAaz6K,QAAQ+wI,IAAS,EAC9B,OAEJ,MAAM2sC,EAAanD,EAAawC,GAAcI,EAC9CxuB,EAAWzgJ,KAAK,CACZ4gJ,WAAY,WACZv+I,KACAmwG,OAAQqwB,EACRl0B,SAAUtsG,EACV4iB,QAAgD,QAAtCtb,EAAKg6H,EAAkB1uI,IAAI4tI,UAA0B,IAAPl5H,GAAgBA,EACxEksG,MAAO,CACH5/D,KAA4F,QAArFtuB,EAAsC,QAAhC3C,EAAK2nJ,EAAgB9pC,UAA0B,IAAP79G,EAAgBA,EAAKigJ,EAAOpiC,UAA0B,IAAPl7G,EAAgBA,EAAKk7G,GAE7H+R,OAAQ,CACJ/jH,KAAMk3H,EAAMynB,EAAaznB,EAAMp2J,QAC/Bg5F,OAAQ2sE,EAAQkY,EAAalY,EAAQ3lK,QACrC64F,YAAaA,EACbC,cAAeA,IAG3B,KAEGg2D,CACX,CACAkH,qBACI,MAAM,aAAE4kB,EAAY,gBAAEI,GAAoBt8K,KAC1C,IAAIw/K,GAAuB,EAC3Bx/K,KAAK60K,MAAMh8J,SAAS/Q,IAChBA,EAAM+Q,SAAS25H,IACX,GAAI0pC,EAAaz6K,QAAQ+wI,IAAS,EAC9B,OAEJ,MAAMitC,OAA8C19K,IAA1Bu6K,EAAgB9pC,GACtCgtC,IAAyBC,GACzBjuF,GAAOG,SAAU,oFAErB6tF,EAAuBC,CAAiB,GAC1C,GAEV,CACAprC,kBAAkBx/G,GACd,MAAM,OAAEstF,EAAM,QAAEvtF,EAAO,OAAEypF,GAAWxpF,EAChCwpF,EAAOrsG,KAAOhS,KAAKgS,KAEvBsd,MAAM+zF,iBAAiBlB,EAAQvtF,GAE/B/yB,OAAO6B,KAAK1D,KAAKs8K,iBACZ5iK,QAAQ1H,QAAoCjQ,IAA7B/B,KAAKs8K,gBAAgBtqK,IAAqBhS,KAAKs8K,gBAAgBtqK,KAAQhS,KAAKs8K,gBAAgBn6D,KAC3GtpG,SAAS25H,IACNA,IAASrwB,GACT7yF,MAAM+zF,iBAAiBmvB,EAAM59G,EACjC,IAEJ50B,KAAK0/K,yBACT,CACAprC,wBAAwBz/G,GACpB,MAAM,QAAED,EAAO,OAAEutF,EAAM,gBAAEm2B,GAAoBzjH,EACvC0jH,EAAoB12I,OAAO6W,OAAO4/H,GAAiB3uH,QAAO,CAACsB,EAAG9O,IAAM8O,EAAI9O,GAAG,GAC3Eg9J,EAA4Bt3K,OAAO6W,OAAO4/H,GAAiB5+H,QAAQyC,GAAY,IAANA,IAAS7a,SAAWO,OAAO6B,KAAK40I,GAAiBh3I,OAC1H23K,EAAc,CAAC,EACrBj5K,KAAK60K,MAAMh8J,SAAS/Q,IAChBA,EAAM+Q,SAAS25H,IACX,IAAIl5H,EACJ,MAAM4vB,EAAUspG,IAASrwB,EACnB+2D,EAAgD,IAAtB3gC,GAA2B3jH,EACrD6jH,EAAavvG,GAAWgwI,GAA4BC,GAA6BvkJ,EACvFqkJ,EAAYzmC,GAAqC,QAA5Bl5H,EAAK2/J,EAAYzmC,UAA0B,IAAPl5H,EAAgBA,EAAKm/H,EAE9E52I,OAAO6B,KAAK1D,KAAKs8K,iBACZ5iK,QAAQ1H,QAAoCjQ,IAA7B/B,KAAKs8K,gBAAgBtqK,IACrChS,KAAKs8K,gBAAgBtqK,KAAQhS,KAAKs8K,gBAAgB9pC,KACjD35H,SAAS8mK,IACV,IAAIrmK,EACJ2/J,EAAY0G,GAA6C,QAAhCrmK,EAAK2/J,EAAY0G,UAA8B,IAAPrmK,EAAgBA,EAAKm/H,CAAU,GAClG,GACJ,IAEN52I,OAAO6B,KAAKu1K,GAAapgK,SAAS25H,IAC9BljH,MAAM+zF,iBAAiBmvB,EAAMymC,EAAYzmC,GAAM,IAEnDxyI,KAAK0/K,wBACT,CACAA,yBACI,MAAM7K,EAAQ70K,KAAK60K,MAAMl7J,KAAK7R,GAAUA,EAAMxF,UAC9CtC,KAAKszI,kBAAkBz6H,SAAQ,CAAC+b,EAAS49G,KAChC59G,GACDigJ,EAAMh8J,SAAS/Q,IACX,MAAMvG,EAAQuG,EAAMrG,QAAQ+wI,GACxBjxI,GAAS,GACTuG,EAAM8b,OAAOriB,EAAO,EACxB,GAER,IAEJ,MAAM47K,EAAgB,GACtBtI,EAAMh8J,SAAQ,CAAC/Q,EAAOvG,KACduG,EAAMxG,OAAS,GACf67K,EAAcxtK,KAAKpP,OAAOgB,GAC9B,IAEJvB,KAAK+7K,WAAW/oE,OAASmqE,EACzBn9K,KAAKs/G,iBAAkB,CAC3B,CACAq0B,yBAAwB,gBAAEyB,EAAe,gBAAEM,IACvC,MAAM1kF,EAAW,IACXs/G,EAAgB,IACtB,IAAIsP,EAAYzrJ,IAChBihH,EAAgBv8H,SAASw8H,GAAmBA,EAAe9mB,MAAK,CAACxpG,EAAG0pE,KAC5DA,EAAMqpF,QAAU,IAChB8H,EAAYl1K,KAAK2G,IAAIuuK,EAAWnxF,EAAMjgF,GAC1C,MAEJ4mI,EAAgBv8H,SAASw8H,IACrBA,EAAe9mB,MAAK,CAAC5C,EAAMl9B,KACvB,IAAIn1E,EAC6B,QAAhCA,EAAKtZ,KAAK8zJ,wBAAqC,IAAPx6I,GAAyBA,EAAG8jI,YAAa,GAAEp9I,KAAKgS,yBAAyB25G,EAAK35G,KAAM,CACzH,CAAEoa,KAAMwzJ,EAAWttI,GAAIm8C,EAAMjgF,GAC7B,CAAE4d,KAAM,EAAGkmB,GAAIm8C,EAAMxL,QACtB,CACCg6D,qBAAqB,EACrBjsF,WACA2pF,KAAMa,GACN30H,OAAQ,EACRq0H,UAAU1sI,EAAGy0E,IACT0oC,EAAKn9G,EAAIA,EACTm9G,EAAK1oC,MAAQA,EACb0oC,EAAK/jC,EAAI6G,EAAM7G,EACf+jC,EAAKh8F,OAAS8+D,EAAM9+D,MACxB,GACF,GACJ,IAEN+lH,EAAgB78H,SAAS88H,IACrBA,EAAepnB,MAAM/I,IACjB,IAAIlsG,EAC6B,QAAhCA,EAAKtZ,KAAK8zJ,wBAAqC,IAAPx6I,GAAyBA,EAAGkhI,QAAS,GAAEx6I,KAAKgS,yBAAyBwzG,EAAMxzG,KAAM,CACtHoa,KAAM,EACNkmB,GAAI,EACJ7L,MAAOuqB,EACPA,SAAUs/G,EACV31B,KAAMa,GACN30H,OAAQ,EACRq0H,SAAWp3D,IACP0hC,EAAM1hC,QAAUA,CAAO,GAE7B,GACJ,GAEV,CACA8vD,oBAAmB,gBAAEwB,IACjBA,EAAgBv8H,SAASw8H,IACrBr1I,KAAK6/K,oBAAoBxqC,EAAe,GAEhD,CACAvB,sBAAsBf,GAClB/yI,KAAK6/K,oBAAoB9sC,EAC7B,CACAkB,oBAAmB,gBAAEmB,IACjB,IAAI97H,EAC6B,QAAhCA,EAAKtZ,KAAK8zJ,wBAAqC,IAAPx6I,GAAyBA,EAAGpE,OACrEkgI,EAAgBv8H,SAASw8H,IACrBr1I,KAAK6/K,oBAAoBxqC,EAAe,GAEhD,CACAwqC,oBAAoBnU,GAChBA,EAAUn9C,MAAK,CAAC5C,EAAMl9B,KAClBk9B,EAAKn9G,EAAIigF,EAAMjgF,EACfm9G,EAAK/jC,EAAI6G,EAAM7G,EACf+jC,EAAK1oC,MAAQwL,EAAMxL,MACnB0oC,EAAKh8F,OAAS8+D,EAAM9+D,MAAM,GAElC,CACA6nH,iBACI,OAAOx3I,KAAKwlH,MAAM5wF,OACtB,CACAisF,sBACI,MAAO,CAAEC,MAAO,GAAKC,MAAO,GAChC,CACAy7D,kBACI,OAAO1pE,GAAmBsM,CAC9B,CACA0+D,uBACI,OAAOhrE,GAAmBuM,CAC9B,EAEJy8D,GAAUzxH,UAAY,YACtByxH,GAAUvvK,KAAO,MACjB0iB,GAAW,CACPmgF,GAAS+B,KACV2qE,GAAU9yK,UAAW,aAAS,GACjCimB,GAAW,CACPmgF,GAAS+B,KACV2qE,GAAU9yK,UAAW,eAAW,GACnCimB,GAAW,CACPmgF,GAASwB,GAAO,EAAG,KACpBkrE,GAAU9yK,UAAW,mBAAe,GACvCimB,GAAW,CACPmgF,GAASwB,GAAO,EAAG,KACpBkrE,GAAU9yK,UAAW,qBAAiB,GACzCimB,GAAW,CACPmgF,GAAS8C,KACV4pE,GAAU9yK,UAAW,gBAAY,GACpCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBkrE,GAAU9yK,UAAW,sBAAkB,GAC1CimB,GAAW,CACPmgF,GAASgB,KACV0rE,GAAU9yK,UAAW,iBAAa,GACrCimB,GAAW,CACPmgF,GAASoB,KACVsrE,GAAU9yK,UAAW,YAAQ,GAChCimB,GAAW,CACPmgF,GAASoB,KACVsrE,GAAU9yK,UAAW,aAAS,GACjCimB,GAAW,CACPmgF,GAASqC,KACVqqE,GAAU9yK,UAAW,oBAAgB,GACxCimB,GAAW,CACPmgF,GAASuC,KACVmqE,GAAU9yK,UAAW,gBAAY,GACpCimB,GAAW,CACPmgF,GAASiB,KACVyrE,GAAU9yK,UAAW,eAAW,GACnCimB,GAAW,CACPmgF,GAASiC,OACVyqE,GAAU9yK,UAAW,oBAAgB,GACxCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBkrE,GAAU9yK,UAAW,mBAAe,GAChC,MAAM82K,WAAqBhE,GAC9BU,kBACI,OAAO1pE,GAAmBuM,CAC9B,CACAy+D,uBACI,OAAOhrE,GAAmBsM,CAC9B,CACAu0B,yBAAwB,gBAAEyB,EAAe,gBAAEM,IACvC,MAAM1kF,EAAW,IACXs/G,EAAgB,IACtB,IAAIyP,EAAY,EAChB3qC,EAAgBv8H,SAASw8H,GAAmBA,EAAe9mB,MAAK,CAACxpG,EAAG0pE,KAC5DA,EAAMqpF,QAAU,IAChBiI,EAAYr1K,KAAK0G,IAAI2uK,EAAWtxF,EAAM9+D,OAAS8+D,EAAM7G,GACzD,MAEJwtD,EAAgBv8H,SAASw8H,IACrBA,EAAe9mB,MAAK,CAAC5C,EAAMl9B,KACvB,IAAIn1E,EAC6B,QAAhCA,EAAKtZ,KAAK8zJ,wBAAqC,IAAPx6I,GAAyBA,EAAG8jI,YAAa,GAAEp9I,KAAKgS,yBAAyB25G,EAAK35G,KAAM,CACzH,CAAEoa,KAAM2zJ,EAAWztI,GAAIm8C,EAAM7G,GAC7B,CAAEx7D,KAAM,EAAGkmB,GAAIm8C,EAAM9+D,SACtB,CACCstH,qBAAqB,EACrBjsF,WACA2pF,KAAMa,GACN30H,OAAQ,EACRq0H,UAAUtzD,EAAGj4D,IACTg8F,EAAK/jC,EAAIA,EACT+jC,EAAKh8F,OAASA,EACdg8F,EAAKn9G,EAAIigF,EAAMjgF,EACfm9G,EAAK1oC,MAAQwL,EAAMxL,KACvB,GACF,GACJ,IAENyyD,EAAgB78H,SAAS88H,IACrBA,EAAepnB,MAAM/I,IACjB,IAAIlsG,EAC6B,QAAhCA,EAAKtZ,KAAK8zJ,wBAAqC,IAAPx6I,GAAyBA,EAAGkhI,QAAS,GAAEx6I,KAAKgS,yBAAyBwzG,EAAMxzG,KAAM,CACtHoa,KAAM,EACNkmB,GAAI,EACJ7L,MAAOuqB,EACPA,SAAUs/G,EACV31B,KAAMa,GACN30H,OAAQ,EACRq0H,SAAWp3D,IACP0hC,EAAM1hC,QAAUA,CAAO,GAE7B,GACJ,GAEV,EAEJg8F,GAAavzK,KAAO,SACpBuzK,GAAaz1H,UAAY,eCp2BzB,IAAIp7B,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EACIq0E,GAAwC,SAAUt3E,EAASu3E,EAAYlqF,EAAGmqF,GAC1E,SAASC,EAAMvzF,GAAS,OAAOA,aAAiBmJ,EAAInJ,EAAQ,IAAImJ,GAAE,SAAUokB,GAAWA,EAAQvtB,EAAQ,GAAI,CAC3G,OAAO,IAAKmJ,IAAMA,EAAImkB,WAAU,SAAUC,EAASuY,GAC/C,SAAS0tD,EAAUxzF,GAAS,IAAMo/E,EAAKkU,EAAUj3E,KAAKrc,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC1F,SAASwpE,EAASzzF,GAAS,IAAMo/E,EAAKkU,EAAU,SAAStzF,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC7F,SAASm1D,EAAKv9E,GAAUA,EAAOya,KAAOiR,EAAQ1rB,EAAO7B,OAASuzF,EAAM1xF,EAAO7B,OAAO+iB,KAAKywE,EAAWC,EAAW,CAC7GrU,GAAMkU,EAAYA,EAAUhrF,MAAMwT,EAASu3E,GAAc,KAAKh3E,OAClE,GACJ,EAeA,MAAMuiK,GAAyB,CAAC,QAAS,MAAO,QAC1CC,GAAwBzwE,IAAsBrzF,GAAM6jK,GAAuBx+K,SAAS2a,IAAK,6EAC/F,IAAI+jK,IACJ,SAAWA,GACPA,EAAuBA,EAAuB,OAAS,GAAK,MAC5DA,EAAuBA,EAAuB,SAAW,GAAK,OACjE,EAHD,CAGGA,KAA2BA,GAAyB,CAAC,IACxD,MAAMC,WAA6B1gD,GAC/Bl0H,cACI+jB,SAASzsB,WACT7C,KAAK03H,eAAY31H,CACrB,EAEJktB,GAAW,CACPmgF,GAASgB,KACV+vE,GAAqBn3K,UAAW,iBAAa,GAChD,MAAMo3K,GAAkB,GACxB,MAAMC,WAA+BvhE,GACjCvzG,cACI+jB,SAASzsB,WACT7C,KAAKkoC,cAAWnmC,CACpB,EAEJktB,GAAW,CACPmgF,GAASgB,KACViwE,GAAuBr3K,UAAW,gBAAY,GAC1C,MAAMs3K,WAAwB1tC,GACjCrnI,YAAYs0G,GACRvwF,MAAM,CAAEuwF,YAAWG,UAAW,CAACpC,GAAmB2E,qBAClDviH,KAAKwlH,MAAQ,IAAI26D,GACjBngL,KAAK0hJ,QAAU,IAAI2+B,GACnBrgL,KAAKwgC,UAAOz+B,EACZ/B,KAAKs6F,YAASv4F,EACd/B,KAAKm6F,YAAc,EACnBn6F,KAAKo6F,cAAgB,EACrBp6F,KAAKw6F,SAAW,CAAC,GACjBx6F,KAAKy6F,eAAiB,EACtBz6F,KAAKuyI,UAAOxwI,EACZ/B,KAAKugL,UAAW,EAChBvgL,KAAKwgL,UAAOz+K,EACZ/B,KAAKygL,YAAc,QACnBzgL,KAAK0gL,cAAW3+K,EAChB/B,KAAKy0K,WAAQ1yK,EACb/B,KAAKwyI,UAAOzwI,EACZ/B,KAAK+4K,WAAQh3K,EACb/B,KAAKu6F,YAAc,EACnBv6F,KAAKsnK,YAASvlK,EACd/B,KAAK2gL,eAAiB,GACtB3gL,KAAKwlH,MAAM5wF,SAAU,CACzB,CAGAgsJ,WAAWC,GACP,QAAsB9+K,IAAlB/B,KAAK0gL,SAAwB,CAC7B,MAAMI,EAAYpxD,GAAMmxD,EAAQ,GAAIA,EAAQ,GAAIT,IAC1CW,EAAUntD,GAASitD,EAAQ,GAAIA,EAAQ,GAAIT,IAC3CY,EAAcF,EAAU,GACxBG,EAAoBxyK,GAAM,CAACA,EAAGA,EAAIsyK,GACxC,MAAO,CAAC,CAACC,EAAcD,EAASC,MAAiBF,EAAUnnK,IAAIsnK,GACnE,CAEI,OAAOjhL,KAAKkhL,kBAAkBL,EAAS7gL,KAAK0gL,SAEpD,CACAQ,kBAAkBluE,EAAQ0tE,GACtB,MAAMS,EAAaz2K,KAAK4D,MAAM0kG,EAAO,IAC/B99F,EAAO89F,EAAO,GACd/xE,EAAWy/I,GAAY,GACvB,MAAEr6J,EAAK,QAAE06J,GAAY/gL,KAAKkzK,mBAAmBiO,EAAYjsK,EAAM+rB,GACrE,OAAOjhC,KAAKohL,QAAQ/6J,EAAOnR,EAAM6rK,EAAS9/I,EAC9C,CACAmgJ,QAAQ/6J,EAAOnR,EAAMsrE,EAAM95D,GACvB,MAAM85J,EAAO,GACb,IAAK,IAAI58K,EAAI,EAAGA,EAAI8iB,EAAO9iB,IAAK,CAC5B,MAAMmH,EAAIL,KAAK86E,MAA2B,IAApBn/D,EAAQziB,EAAI48E,IAAc,GAChD,IAAI93D,EAAIhe,KAAK86E,MAAiC,IAA1Bn/D,GAASziB,EAAI,GAAK48E,IAAc,GAChD58E,IAAM8iB,EAAQ,IACdgC,EAAIhe,KAAK0G,IAAIsX,EAAGxT,IAEpBsrK,EAAK58K,GAAK,CAACmH,EAAG2d,EAClB,CACA,OAAO83J,CACX,CACAtN,mBAAmBnoK,EAAG2d,EAAGuY,GACrB,MAAM8/I,EAAUr2K,KAAKw9E,IAAIx/D,EAAI3d,GAAKk2B,EAC5BmyI,EAAQ1oK,KAAK4D,MAAM5D,KAAKspH,MAAM+sD,IAC9B1N,EAAY3oK,KAAKs5F,IAAI,GAAIovE,GACzB/sJ,EAAQ3b,KAAK4D,MAAMvD,EAAIsoK,GAAaA,EAC1C,MAAO,CACHhtJ,QACA06J,UAER,CACA3sE,cACI,OAAO5f,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,KAAEuyI,EAAI,KAAEC,EAAI,KAAExlI,EAAI,SAAEuzK,EAAQ,YAAEE,GAAgBzgL,KAC9C4nB,EAAQ,CAACgqD,GAAY2gE,GAAM,GAAO0xB,IACxC,GAAIzxB,EAAM,CACN,IAAI6uC,EAAUhkE,KACM,UAAhBojE,IAGqB,QAAhBA,EACLY,EAAUjkE,GAAS,CAACo1B,IAEC,SAAhBiuC,IACLY,EAAU/jE,GAAa,CAACk1B,MAExB+tC,IACAc,EAAU9jE,GAAK,CAACi1B,GAAO6uC,IAE3Bz5J,EAAMjY,KAAKouG,GAAcy0B,GAAM,EAAM,CAAE35B,kBAAc92G,IAAcs/K,EACvE,KACK,CACD,IAAIA,EAAUhkE,KACVkjE,IACAc,EAAU9jE,GAAK,GAAI8jE,IAEvBz5J,EAAMjY,KAAK0xK,EACf,CACA,MAAM/sE,EAAagtE,IACf,IAAIhoK,EACJ,MAAMioK,EAAUnuE,GAAiBkuE,EAAQtuE,OAAOtvG,KAAK,IACrD,GAAuB,IAAnB69K,EAAQjgL,OAGR,OADAggL,EAAQtuE,OAAOmD,OAAS,GACjB,IAAM,GAEjB,MAAMqqE,EAA4B,QAApBlnK,EAAKtZ,KAAKwgL,YAAyB,IAAPlnK,EAAgBA,EAAKtZ,KAAK4gL,WAAWW,GACzEb,EAAWF,EAAKl/K,OAEtB,OADAtB,KAAK2gL,eAAiB,IAAIH,GAClB3tK,IACJ,MAAM6lK,EAAS7lK,EAAKnP,KAAK,GACzB,IAAK,IAAIE,EAAI,EAAGA,EAAI88K,EAAU98K,IAAK,CAC/B,MAAM49K,EAAUhB,EAAK58K,GACrB,GAAI80K,GAAU8I,EAAQ,IAAM9I,EAAS8I,EAAQ,GACzC,OAAOA,EAEX,GAAI59K,IAAM88K,EAAW,GAAKhI,GAAU8I,EAAQ,GAGxC,OAAOA,CAEf,CACA,MAAO,EAAE,CACZ,EAELxhL,KAAKkoK,UAAY,IAAI30D,GAAU,CAC3B3rF,QACA4rF,YAAaxzG,KAAKsuF,QAClBgmB,cAEJt0G,KAAKm0G,cAAgBn0G,KAAKkoK,UAAU9zD,YAAqB,OAATpnG,QAA0B,IAATA,EAAkBA,EAAO,GAC9F,GACJ,CACAknG,UAAUgN,GACN,IAAI5nG,EAAIqb,EAAI2C,EAAIH,EAChB,MAAM,cAAEg9E,GAAkBn0G,KAC1B,IAAKm0G,EACD,MAAO,GACX,MAAQnB,QAAUgE,WAAYyqE,GAAW,KAAUttE,EAC7CutE,EAA4C,QAA9BpoK,EAAKtZ,KAAK2gL,sBAAmC,IAAPrnK,OAAgB,EAASA,EAAG,GAAG,GACnFqoK,EAA4C,QAA9BhtJ,EAAK30B,KAAK2gL,sBAAmC,IAAPhsJ,OAAgB,EAASA,GAAyF,QAApFwC,EAAoC,QAA9BG,EAAKt3B,KAAK2gL,sBAAmC,IAAPrpJ,OAAgB,EAASA,EAAGh2B,cAA2B,IAAP61B,EAAgBA,EAAK,GAAK,GAAG,GACjN,OAAI+pF,IAAcpO,GAAmBsM,EAC1BhM,GAAiB,CAACsuE,EAAYC,IAElCvuE,GAAiBquE,EAC5B,CACAv+D,kBAAkBruF,EAAO45D,GACrB,IAAIn1E,EAAIqb,EACR,OAAO,IAAI89G,GAAmD,QAApBn5H,EAAKtZ,KAAKuyI,YAAyB,IAAPj5H,EAAgBA,EAAK,GAAyB,QAApBqb,EAAK30B,KAAKwyI,YAAyB,IAAP79G,EAAgBA,EAAK,GAAIE,EAAO45D,EAAOzuF,KACvK,CACAojH,wBAAwBvuF,EAAO45D,GAC3B,IAAIn1E,EAAIqb,EACR,OAAO,IAAI+9G,GAAyD,QAApBp5H,EAAKtZ,KAAKuyI,YAAyB,IAAPj5H,EAAgBA,EAAK,GAAyB,QAApBqb,EAAK30B,KAAKwyI,YAAyB,IAAP79G,EAAgBA,EAAK,GAAIE,EAAO45D,EAAOzuF,KAC7K,CACA81I,iBACI,IAAIx8H,EACJ,OAAOk7E,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,MAAE40I,EAAK,MAAEC,EAAK,cAAE1gC,EAAernF,KAAK,cAAE8+G,IAAqB5rI,KACjE,IAAKA,KAAKszI,oBAAsBsB,IAAUC,IAAU1gC,GAAwC,YAAvBA,EAAc5nG,KAC/E,MAAO,GAEX,MAAQ46E,MAAOquF,GAAW5gC,GAClBztD,MAAOsuF,GAAW5gC,GACpB,KAAEr0G,EAAI,OAAE85D,EAAM,YAAEC,EAAavoF,GAAIssG,EAAQ,KAAEk0B,EAAO,GAAE,KAAED,EAAO,IAAOvyI,KACpEm2I,EAAW,GACX/Q,EAAyB9lE,GAAW/+D,OAAO++D,EAAOl+D,QAChDokH,OAASkS,UAAW2N,EAAiBD,EAAuB7jC,UAAWw9E,EAAgBv9E,WAAYw9E,EAAiBpiF,SAAUqiF,EAAepiF,WAAYqiF,EAAiBnlF,MAAOokE,IAAmBn+J,KA+C5M,OA9CAm0G,EAAcnnG,KAAK6L,SAASk6E,IACxB,IAAIz5E,EACJ,MAAQ09F,YAAa4qE,EAAaC,IAAgB,CAAC,CAAC,EAAG,IAAG,MAAEpzF,EAAOA,OAASntF,OAAQwgL,GAAap+K,KAAMsvG,EAAQtvG,MAAOg+K,EAAYC,IAAiB5uF,EAC7IgvF,EAASvM,EAAO7lD,QAAQ+xD,GACxBM,EAASxM,EAAO7lD,QAAQgyD,GACxBtqF,EAAQuqF,EAAcC,EACtBI,EAAUxM,EAAO9lD,QAAQ,GACzBuyD,EAASzM,EAAO9lD,QAAQt4B,GACxBrhF,EAAIgsK,EAASD,EACbryJ,EAAIhlB,KAAKw9E,IAAIg6F,EAASD,GACtBE,EAAgC,IAAV9qF,EACtB,CACEzxC,KAAgF,QAAzEtsC,EAAKsyH,EAAcpiI,KAAK67H,EAAgB,CAAEjkI,MAAOi2F,EAAOinB,oBAAgC,IAAPhlG,EAAgBA,EAAK/Y,OAAO82F,GACpHkK,UAAWw9E,EACXv9E,WAAYw9E,EACZpiF,SAAUqiF,EACVpiF,WAAYqiF,EACZ1+I,KAAM29H,EACN3vJ,EAAGuzK,EAAS/rK,EAAI,EAChB4xE,EAAGs6F,EAASxyJ,EAAI,QAElB3tB,EACA23J,EAAe,CACjBlrJ,EAAGuzK,EAAS/rK,EAAI,EAChB4xE,EAAGs6F,EAASxyJ,EAAI,GAEpBymH,EAASxmI,KAAK,CACV0uG,OAAQr+G,KACRyuF,QAEA2zF,gBAAiB/qF,EACjByqF,YACA9uE,OAAQA,EACRw/B,OACAD,OACA/jI,EAAGuzK,EACHn6F,EAAGs6F,EACHj/F,MAAOjtE,EACP2Z,OAAQD,EACRgqI,eACAl5H,KAAMA,EACN85D,OAAQA,EACRC,YAAaA,EACbirB,MAAO28D,GACT,IAEC,CAAC,CAAEhgE,OAA6B,QAApB7oG,EAAKtZ,KAAKwyI,YAAyB,IAAPl5H,EAAgBA,EAAKtZ,KAAKgS,GAAImkI,WAAUjN,UAAWiN,GACtG,GACJ,CACAjD,cACI,OAAO,IAAI2mC,EACf,CACAzjC,qBAAqB32D,GACjB,OAAO+U,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,SAAEm2I,EAAQ,eAAEd,GAAmB51D,EACrC,OAAO41D,EAAe3kH,OAAOylH,GAAWxqB,IACpCA,EAAK3oH,IAAMk9K,GAAuBmC,IAClC12D,EAAKouD,OAAQ,CAAI,GAEzB,GACJ,CACA7iC,iBAAiBz3D,GACb,OAAO+U,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,eAAEq1I,EAAgB4B,YAAaszB,GAAuB9qF,GACpD0a,YAAamwE,EAAiB,cAAElwE,EAAa,OAAEktE,EAAQ1nD,gBAAkB/sG,MAAQ2tB,KAAM23I,EAAiBh+E,YAAai+E,EAAuB9N,EAAmBhwE,OAAQ+9E,EAAmB99E,YAAa+9E,KAAuCt4K,KACtPq1I,EAAe9mB,MAAK,CAAC5C,EAAMl9B,EAAOltF,KAC9B,IAAI+X,EAAIqb,EACR,MAAM4lE,EAAcgwE,QAAsDxoK,IAAhCu2K,EACpCA,EACA7pF,EAAM8L,YACNJ,EAAcowE,EAAqB6N,EAAuB9N,EAChE3+C,EAAKn9G,EAAIigF,EAAMjgF,EACfm9G,EAAK1oC,MAAQwL,EAAMxL,MACnB0oC,EAAKnrF,KAAqE,QAA7DlnB,EAAMixJ,EAAqB4N,OAAkBp2K,SAA+B,IAAPuX,EAAgBA,EAAKm1E,EAAMjuD,KAC7GmrF,EAAKrxB,OAAyE,QAA/D3lE,EAAM41I,EAAqB8N,OAAoBt2K,SAA+B,IAAP4yB,EAAgBA,EAAK85D,EAAM6L,OACjHqxB,EAAKxxB,YAAcA,EACnBwxB,EAAKvxB,cAAgBA,EACrBuxB,EAAKpxB,YAAcA,EACnBoxB,EAAKnxB,SAAWx6F,KAAKw6F,SACrBmxB,EAAKlxB,eAAiBz6F,KAAKy6F,eAC3BkxB,EAAK/wB,WAAa0sE,EAClB37C,EAAKxoC,OAASonF,EAAqBtrD,GAAO2E,kBAAoBriH,EAC9DoqH,EAAKr9B,QAAUG,EAAM9+D,OAAS,CAAC,GAEvC,GACJ,CACA0mH,qBAAqB52D,GACjB,OAAO+U,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,UAAEkpI,EAAS,eAAEyM,GAAmBl2D,EACtC,OAAOk2D,EAAejlH,OAAOw4G,GAAYtjF,IACrCA,EAAK5iD,IAAMk9K,GAAuBzgD,MAClC75E,EAAKi+B,cAAgB6J,GAAcgC,KACnC9pC,EAAK+gC,UAAY,SACjB/gC,EAAK8gC,aAAe,QAAQ,GAEpC,GACJ,CACAywD,iBAAiB13D,GACb,OAAO+U,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,eAAE21I,GAAmBl2D,EACrBg5F,EAAez4K,KAAKwlH,MAAM5wF,QAChC+gH,EAAepnB,MAAK,CAAC3oE,EAAM6oC,KACvB,MAAM+2B,EAAQ/2B,EAAM+2B,MAChBA,GAASizD,GACT7yH,EAAKA,KAAO4/D,EAAM5/D,KAClBA,EAAKp3C,EAAIg3G,EAAMh3G,EACfo3C,EAAKgiC,EAAI49B,EAAM59B,EACfhiC,EAAK27C,UAAYikB,EAAMjkB,UACvB37C,EAAK47C,WAAagkB,EAAMhkB,WACxB57C,EAAKg3C,SAAW4oB,EAAM5oB,SACtBh3C,EAAKi3C,WAAa2oB,EAAM3oB,WACxBj3C,EAAKplB,KAAOglF,EAAMhlF,KAClBolB,EAAK0oC,SAAU,GAGf1oC,EAAK0oC,SAAU,CACnB,GAER,GACJ,CACAyqE,eAAe+W,GACX,MAAM,KAAEv9B,EAAI,KAAEC,EAAO,GAAE,MAAEoC,EAAK,MAAEC,GAAU70I,KAC1C,IAAKuyI,IAASqC,IAAUC,EACpB,MAAO,GAEX,MAAM,MAAE4/B,EAAK,MAAEsE,EAAOv4I,KAAMu5D,EAAK,QAAE2nD,EAAO,YAAE++B,EAAazuK,GAAIssG,GAAat+G,MAClEkoC,SAAU6nI,GAAoBruB,GAChC,gBAAE0gC,EAAe,UAAEN,EAAS,OAAE9uE,EAAQA,QAASwxD,EAAUC,IAAeqL,EACxEl2D,EAAS,GAAEo5D,GAAuB,OAAVyB,QAA4B,IAAVA,EAAmBA,EAAQliC,OAAUqC,EAAMxI,YAAYo4B,QAAe5vB,EAAMxI,YAAYq4B,KACxI,IAAI1+G,EAAUysF,EACP,MAAKwgC,GAAuB,OAAV+F,QAA4B,IAAVA,EAAmBA,EAAQvmC,OAAUiuC,WAAqB5rC,EAAMzI,YAAYg2C,SACjH,GACNr8H,GAAY,qBAAoB+7H,IAChC,MAAMhzI,EAAW,CACb8qE,QACAC,gBAAiB9f,EACjBh0C,WAEJ,OAAIgqH,EACOp2D,GAAco2D,EAAgB,CACjCthF,MAAO,CACHzhF,KAAM8iK,EAAUrhF,MAChB2zF,gBAAiBtS,EAAUsS,gBAC3BpvE,OAAQ88D,EAAU98D,OAClB8uE,UAAWhS,EAAUgS,WAEzBvvC,OACAmmC,OAAQ1lE,EACRyhE,QACAjiC,OACAslC,OAAQsK,EACRrJ,QACAh/E,QACA6f,QACA0E,aACAxvE,GAED6qE,GAAc7qE,EACzB,CACAwhH,gBACI,IAAIh3I,EACJ,MAAM,GAAEtH,EAAE,KAAEhF,EAAI,KAAEulI,EAAI,MAAEwmC,EAAK,QAAEzqF,EAAO,KAAE9tD,EAAI,OAAE85D,EAAM,YAAEH,EAAW,cAAEC,GAAkBp6F,KACrF,IAAKgN,GAAwB,IAAhBA,EAAK1L,OACd,MAAO,GAEX,MAAM8uJ,EAAa,CACf,CACIG,WAAY,WACZv+I,KACAmwG,OAAQowB,EACRj0B,SAAUtsG,EACV4iB,QAAS05D,EACTk3B,MAAO,CACH5/D,KAAmE,QAA5DtsC,EAAe,OAAVy/J,QAA4B,IAAVA,EAAmBA,EAAQxmC,SAAyB,IAAPj5H,EAAgBA,EAAK,aAEpGirI,OAAQ,CACJ/jH,KAAe,OAATA,QAA0B,IAATA,EAAkBA,EAAO,mBAChD85D,OAAmB,OAAXA,QAA8B,IAAXA,EAAoBA,EAAS,mBACxDH,YAAaA,EACbC,cAAeA,KAI3B,OAAOg2D,CACX,CACAzc,yBAAwB,gBAAEyB,EAAe,gBAAEM,IACvC,MAAM1kF,EAAW,IACXs/G,EAAgB,IACtB,IAAIyP,EAAY,EAChB3qC,EAAgBv8H,SAASw8H,GAAmBA,EAAe9mB,MAAK,CAACxpG,EAAG0pE,KAChEsxF,EAAYr1K,KAAK0G,IAAI2uK,EAAWtxF,EAAM9+D,OAAS8+D,EAAM7G,EAAE,MAE3DwtD,EAAgBv8H,SAASw8H,IACrBA,EAAe9mB,MAAK,CAAC5C,EAAMl9B,KACvB,IAAIn1E,EAC6B,QAAhCA,EAAKtZ,KAAK8zJ,wBAAqC,IAAPx6I,GAAyBA,EAAG8jI,YAAa,GAAEp9I,KAAKgS,yBAAyB25G,EAAK35G,KAAM,CACzH,CAAEoa,KAAM2zJ,EAAWztI,GAAIm8C,EAAM7G,GAC7B,CAAEx7D,KAAM,EAAGkmB,GAAIm8C,EAAM9+D,SACtB,CACCstH,qBAAqB,EACrBjsF,WACA2pF,KAAMa,GACN30H,OAAQ,EACRq0H,UAAUtzD,EAAGj4D,IACTg8F,EAAK/jC,EAAIA,EACT+jC,EAAKh8F,OAASA,EACdg8F,EAAKn9G,EAAIigF,EAAMjgF,EACfm9G,EAAK1oC,MAAQwL,EAAMxL,KACvB,GACF,GACJ,IAENyyD,EAAgB78H,SAAS88H,IACrBA,EAAepnB,MAAM/I,IACjB,IAAIlsG,EAC6B,QAAhCA,EAAKtZ,KAAK8zJ,wBAAqC,IAAPx6I,GAAyBA,EAAGkhI,QAAS,GAAEx6I,KAAKgS,yBAAyBwzG,EAAMxzG,KAAM,CACtHoa,KAAM,EACNkmB,GAAI,EACJ7L,MAAOuqB,EACPA,SAAUs/G,EACV31B,KAAMa,GACN30H,OAAQ,EACRq0H,SAAWp3D,IACP0hC,EAAM1hC,QAAUA,CAAO,GAE7B,GACJ,GAEV,CACA8vD,oBAAmB,gBAAEwB,IACjBA,EAAgBv8H,SAASw8H,IACrBr1I,KAAK6/K,oBAAoBxqC,EAAe,GAEhD,CACAvB,sBAAsBf,GAClB/yI,KAAK6/K,oBAAoB9sC,EAC7B,CACAkB,oBAAmB,gBAAEmB,IACjB,IAAI97H,EAC6B,QAAhCA,EAAKtZ,KAAK8zJ,wBAAqC,IAAPx6I,GAAyBA,EAAGpE,OACrEkgI,EAAgBv8H,SAASw8H,IACrBr1I,KAAK6/K,oBAAoBxqC,EAAe,GAEhD,CACAwqC,oBAAoBnU,GAChBA,EAAUn9C,MAAK,CAAC5C,EAAMl9B,KAClBk9B,EAAKn9G,EAAIigF,EAAMjgF,EACfm9G,EAAK/jC,EAAI6G,EAAM7G,EACf+jC,EAAK1oC,MAAQwL,EAAMxL,MACnB0oC,EAAKh8F,OAAS8+D,EAAM9+D,MAAM,GAElC,CACA6nH,iBACI,OAAOx3I,KAAKwlH,MAAM5wF,OACtB,EAEJ0rJ,GAAgBj2H,UAAY,kBAC5Bi2H,GAAgB/zK,KAAO,YACvB0iB,GAAW,CACPmgF,GAAS8B,KACVovE,GAAgBt3K,UAAW,YAAQ,GACtCimB,GAAW,CACPmgF,GAAS8B,KACVovE,GAAgBt3K,UAAW,cAAU,GACxCimB,GAAW,CACPmgF,GAASwB,GAAO,EAAG,KACpB0vE,GAAgBt3K,UAAW,mBAAe,GAC7CimB,GAAW,CACPmgF,GAASwB,GAAO,EAAG,KACpB0vE,GAAgBt3K,UAAW,qBAAiB,GAC/CimB,GAAW,CACPmgF,GAAS8C,KACVouE,GAAgBt3K,UAAW,gBAAY,GAC1CimB,GAAW,CACPmgF,GAASwB,GAAO,KACjB0vE,GAAgBt3K,UAAW,sBAAkB,GAChDimB,GAAW,CACPmgF,GAASoB,KACV8vE,GAAgBt3K,UAAW,YAAQ,GACtCimB,GAAW,CACPmgF,GAASiB,KACViwE,GAAgBt3K,UAAW,gBAAY,GAC1CimB,GAAW,CACPmgF,GAASO,OACV2wE,GAAgBt3K,UAAW,YAAQ,GACtCimB,GAAW,CACPmgF,GAAS6wE,KACVK,GAAgBt3K,UAAW,mBAAe,GAC7CimB,GAAW,CACPmgF,GAASiC,GAAW,KACrBivE,GAAgBt3K,UAAW,gBAAY,GAC1CimB,GAAW,CACPmgF,GAASoB,KACV8vE,GAAgBt3K,UAAW,aAAS,GACvCimB,GAAW,CACPmgF,GAASoB,KACV8vE,GAAgBt3K,UAAW,YAAQ,GACtCimB,GAAW,CACPmgF,GAASoB,KACV8vE,GAAgBt3K,UAAW,aAAS,GACvCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjB0vE,GAAgBt3K,UAAW,mBAAe,GCxgB7C,IAAIimB,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EACIq0E,GAAwC,SAAUt3E,EAASu3E,EAAYlqF,EAAGmqF,GAC1E,SAASC,EAAMvzF,GAAS,OAAOA,aAAiBmJ,EAAInJ,EAAQ,IAAImJ,GAAE,SAAUokB,GAAWA,EAAQvtB,EAAQ,GAAI,CAC3G,OAAO,IAAKmJ,IAAMA,EAAImkB,WAAU,SAAUC,EAASuY,GAC/C,SAAS0tD,EAAUxzF,GAAS,IAAMo/E,EAAKkU,EAAUj3E,KAAKrc,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC1F,SAASwpE,EAASzzF,GAAS,IAAMo/E,EAAKkU,EAAU,SAAStzF,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC7F,SAASm1D,EAAKv9E,GAAUA,EAAOya,KAAOiR,EAAQ1rB,EAAO7B,OAASuzF,EAAM1xF,EAAO7B,OAAO+iB,KAAKywE,EAAWC,EAAW,CAC7GrU,GAAMkU,EAAYA,EAAUhrF,MAAMwT,EAASu3E,GAAc,KAAKh3E,OAClE,GACJ,EAeA,MAAM6kK,WAAwB7iD,GAC1Bl0H,cACI+jB,SAASzsB,WACT7C,KAAK03H,eAAY31H,CACrB,EAEJktB,GAAW,CACPmgF,GAASgB,KACVkyE,GAAgBt5K,UAAW,iBAAa,GAC3C,MAAMu5K,WAA0BzjE,GAC5BvzG,cACI+jB,SAASzsB,WACT7C,KAAKkoC,cAAWnmC,EAChB/B,KAAKs5H,YAASv3H,CAClB,EAEJktB,GAAW,CACPmgF,GAASgB,KACVmyE,GAAkBv5K,UAAW,gBAAY,GAC5CimB,GAAW,CACPmgF,GAASoB,KACV+xE,GAAkBv5K,UAAW,cAAU,GACnC,MAAMw5K,WAAmB5vC,GAC5BrnI,YAAYs0G,GACRvwF,MAAM,CACFuwF,YACAmzB,YAAY,EACZhzB,UAAW,CACPpC,GAAmB6E,oCACnB7E,GAAmB+E,aACnB/E,GAAmB2E,qBAG3BviH,KAAKukJ,OAAS,IAAI3L,GAClB54I,KAAKwlH,MAAQ,IAAI88D,GACjBtiL,KAAK45G,WAAQ73G,EACb/B,KAAKs6F,OAAS,UACdt6F,KAAKw6F,SAAW,CAAC,GACjBx6F,KAAKy6F,eAAiB,EACtBz6F,KAAKu6F,YAAc,EACnBv6F,KAAKo6F,cAAgB,EACrBp6F,KAAK0hJ,QAAU,IAAI6gC,GACnBviL,KAAKuyI,UAAOxwI,EACZ/B,KAAKy0K,WAAQ1yK,EACb/B,KAAKwyI,UAAOzwI,EACZ/B,KAAK+4K,WAAQh3K,EACb,MAAM,OAAEwiJ,EAAM,MAAE/+B,GAAUxlH,KAC1BukJ,EAAO/jH,KAAO,UACd+jH,EAAOjqD,OAAS,UAChBkrB,EAAM5wF,SAAU,CACpB,CACAw/E,cACI,OAAO5f,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,MAAE40I,EAAK,MAAEC,EAAK,KAAEtC,EAAO,GAAE,KAAEC,EAAO,IAAOxyI,KACzCgN,EAAOulI,GAAQC,GAAQxyI,KAAKgN,KAAOhN,KAAKgN,KAAO,GAC/CwnI,GAA2B,OAAVI,QAA4B,IAAVA,OAAmB,EAASA,EAAMztD,iBAAkBorC,GACvFkiB,GAA2B,OAAVI,QAA4B,IAAVA,OAAmB,EAASA,EAAM1tD,iBAAkBorC,GAC7FvyH,KAAKkoK,UAAY,IAAI30D,GAAU,CAC3B3rF,MAAO,CACHm2F,GAAcw0B,EAAMiC,EAAe,CAAExiI,GAAI,WACzC+rG,GAAcy0B,EAAMiC,EAAe,CAAEziI,GAAI,SAAU6mG,kBAAc92G,KAErEyxG,YAAaxzG,KAAKsuF,UAEtBtuF,KAAKm0G,cAAgBn0G,KAAKkoK,UAAU9zD,YAAqB,OAATpnG,QAA0B,IAATA,EAAkBA,EAAO,GAC9F,GACJ,CACAknG,UAAUgN,GACN,MAAM,MAAE0zB,EAAK,MAAEC,EAAK,UAAEqzB,EAAS,cAAE/zD,GAAkBn0G,KACnD,IAAKm0G,IAAkB+zD,EACnB,MAAO,GACX,MAAMua,EAAOva,EAAUj0D,4BAA6B,UACpD,GAAIiN,IAAcpO,GAAmBsM,EAAG,CACpC,MAAMpM,EAASk1D,EAAUh0D,UAAW,SAASC,GAC7C,MAAqE,cAAvD,OAATsuE,QAA0B,IAATA,OAAkB,EAASA,EAAK13G,WAC3CioC,EAEJhzG,KAAKozG,iBAAiBC,GAAOL,GAAS4hC,EACjD,CACK,CACD,MAAM5hC,EAASk1D,EAAUh0D,UAAW,SAASC,GAC7C,OAAOn0G,KAAKozG,iBAAiBJ,EAAQ6hC,EACzC,CACJ,CACAiB,iBACI,IAAIx8H,EAAIqb,EAAI2C,EAAIH,EAAIi/E,EAAIC,EAAIC,EAAIssC,EAAIynB,EAAIqY,EAAIC,EAC5C,OAAOnuF,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,cAAEm0G,EAAa,UAAE+zD,EAAS,MAAEtzB,EAAK,MAAEC,EAAO0P,QAAU3vH,QAASguJ,EAAejmK,KAAM6nI,EAAU,YAAEjqD,GAAeztE,KAAK,cAAE8+G,IAAqB5rI,KAC/I,IAAKm0G,IAAkB+zD,IAActzB,IAAUC,EAC3C,MAAO,GAEX,MAAM,MAAErvB,EAAK,KAAEgtB,EAAO,GAAE,KAAED,EAAO,GAAIvgI,GAAIssG,GAAat+G,KAChDw1K,EAAS5gC,EAAMztD,MACfsuF,EAAS5gC,EAAM1tD,MACfgV,GAAuC,QAA3B7iF,EAAKk8J,EAAO3lD,iBAA8B,IAAPv2G,EAAgBA,EAAK,GAAK,EACzE+iF,GAAuC,QAA3B1nE,EAAK8gJ,EAAO5lD,iBAA8B,IAAPl7F,EAAgBA,EAAK,GAAK,EACzEwhH,EAAW,IAAIxpI,MAAMwnG,EAAcnnG,KAAK1L,QACxCqb,EAAOimK,EAAgBp+B,EAAa,EACpCq+B,EAA6K,QAArKzsE,EAAsH,QAAhHj/E,EAA+B,QAAzBG,EAAKt3B,KAAKkoK,iBAA8B,IAAP5wI,OAAgB,EAASA,EAAGy8E,8BAA+B,iBAA6B,IAAP58E,OAAgB,EAASA,EAAG51B,aAA0B,IAAP60G,EAAgBA,GAAM,EAC3M0sE,EAA6K,QAArKlgC,EAAsH,QAAhHtsC,EAA+B,QAAzBD,EAAKr2G,KAAKkoK,iBAA8B,IAAP7xD,OAAgB,EAASA,EAAGtC,8BAA+B,iBAA6B,IAAPuC,OAAgB,EAASA,EAAG/0G,aAA0B,IAAPqhJ,EAAgBA,GAAM,EACjN,IACImgC,EACAC,EAFAlvF,GAAS,EAGTmvF,EAAe,EACnB,IAAK,IAAIr/K,EAAI,EAAGA,EAAIuwG,EAAcnnG,KAAK1L,OAAQsC,IAAK,CAChD,MAAM,MAAE6qF,EAAK,OAAE/1E,GAAyB,OAAdsqK,QAAoC,IAAdA,EAAuBA,EAAY7uE,EAAcnnG,KAAKpJ,GAChGmyK,EAASr9J,EAAOmqK,GAChB7M,EAASt9J,EAAOoqK,GACtB,QAAe/gL,IAAXi0K,EACA+M,OAAehhL,EACf+xF,GAAS,MAER,CACD,MAAMtlF,EAAIgnK,EAAO7lD,QAAQomD,GAAU55E,EACnC,GAAIx2E,MAAMnX,GAAI,CACVu0K,OAAehhL,EACf+xF,GAAS,EACT,QACJ,CACA,MAAMkxC,GAAyC,QAA3BqlC,EAAKmL,EAAO3lD,iBAA8B,IAAPw6C,EAAgBA,EAAkB,GAAb7lB,GAAoC,OAAhBjqD,QAAwC,IAAhBA,EAAyBA,EAAc,IAAM,EACrKyoF,OACgGjhL,KAAtD,QAApC2gL,EAAKvuE,EAAcnnG,KAAKpJ,EAAI,UAAuB,IAAP8+K,OAAgB,EAASA,EAAGhqK,OAAOoqK,SAAuB/gL,EAAYoyG,EAAcnnG,KAAKpJ,EAAI,GAC/I,MAAM6zK,EAAkD,QAApCkL,EAAKxuE,EAAcnnG,KAAKpJ,EAAI,UAAuB,IAAP++K,OAAgB,EAASA,EAAGjqK,OAAOmqK,GAC7FK,EAAWtuC,EAAM3P,UAAUz2H,EAAG,EAAGw2H,GACjCm+C,EAAeH,GAAapuC,EAAM3P,UAAUuwC,EAAO7lD,QAAQ8nD,GAAct7E,EAAS,EAAG6oC,GAC3F,IAAkB,IAAdk+C,IAAqC,IAAlBC,EAAqB,CACxCrvF,GAAS,EACT,QACJ,CACA,GAAiB,IAAbovF,GAAmC,IAAjBH,EAAoB,CACtCjvF,GAAS,EACT,QACJ,CACAivF,EAAeG,EACf,MAAMt7F,EAAI6tF,EAAO9lD,QAAQqmD,GAAU35E,EACnC,IAAI2wD,EACAxnC,EAAMkS,YACNs1B,EAAYphB,EAAcpiI,KAAKg8G,EAAMkS,UAAW,CAAEt2H,MAAO40K,EAAQ13D,mBAEnDv8G,IAAdirJ,IAGuB,kBAAXgpB,GAAuBpzE,SAASozE,GAC5ChpB,EAAYgpB,EAAOxlD,QAAQ,GAEtBwlD,IACLhpB,EAAYzsJ,OAAOy1K,KAEvB7/B,EAAS8sC,KAAkB,CACvB5kE,OAAQr+G,KACRyuF,QACA+jD,OACAD,OACA70C,MAAO,CAAElvF,IAAGo5E,IAAGkM,SAAQn3E,QACvB+8I,aAAc,CAAElrJ,IAAGo5E,KACnB49B,MAAOwnC,EACD,CACEpnG,KAAMonG,EACNzrD,UAAWikB,EAAMjkB,UACjBC,WAAYgkB,EAAMhkB,WAClB5E,SAAU4oB,EAAM5oB,SAChBC,WAAY2oB,EAAM3oB,WAClBlW,UAAW,SACXD,aAAc,SACdlmD,KAAMglF,EAAMzrB,YAEdh4F,GAEV+xF,GAAS,CACb,CACJ,CAEA,OADAqiD,EAAS70I,OAAS2hL,EACX,CAAC,CAAE9gE,OAAQqwB,EAAM2D,WAAUjN,UAAWiN,GACjD,GACJ,CACAN,yBACI,OAAO71I,KAAKukJ,OAAO92D,SACvB,CACAwlD,gBACI,MAAM,MAAEp4C,GAAU76F,KAAKukJ,OACjBhO,EAAc7E,GAAU72C,GAC9B,OAAO,IAAI07C,CACf,CACAD,sBAAsB72D,GAClB,OAAO+U,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,IAAI,SAAEm2I,GAAa12D,EACnB,MAAM,gBAAE81D,GAAoB91D,GACtB,MAAEob,EAAK,QAAEjmE,GAAY50B,KAAKukJ,OAKhC,OAJApO,EAAWt7C,GAASjmE,EAAUuhH,EAAW,GACrCn2I,KAAKukJ,OAAO92D,WACZ8nD,EAAgBz4H,QAEby4H,EAAgB7kH,OAAOylH,EAClC,GACJ,CACAa,kBAAkBv3D,GACd,IAAInmE,EACJ,OAAOk7E,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,gBAAEu1I,EAAiB0B,YAAaszB,GAAuB9qF,GACvD,OAAE8kE,EAAQA,QAAUpqD,YAAa+0D,GAAmB,KAAE3c,EAAO,GAAE,KAAEC,EAAO,GAAIl4C,OAAQ8oF,EAAU,cAAEhpF,EAAewlB,gBAAkB/sG,MAAQ2tB,KAAM23I,EAAiBh+E,YAAai+E,EAAuBlpB,EAAmB50D,OAAQ+9E,EAAmB99E,YAAa+9E,IAAmCtmK,GAAIssG,EAAUxxF,KAAK,cAAE8+G,IAAqB5rI,MAC5U,KAAE2c,EAAI,UAAE+6G,GAAc6sB,EACtB0K,EAAkD,QAA7B31I,EAAKirI,EAAOhqD,mBAAgC,IAAPjhF,EAAgBA,EAAKtZ,KAAKu6F,YACpFg+E,EAAuC,oBAAjBh0B,EAAO1pD,MACnC06C,EAAgBhnB,MAAK,CAACrwF,EAAMuwD,KACxB,IAAIn1E,EAAIqb,EAAI2C,EAAIH,EAAIi/E,EAAIC,EAAIC,EAC5B,MAAM91E,EAAO+pI,QAA0CxoK,IAApBo2K,EAAgCA,EAAkB5zB,EAAO/jH,KACtF25D,EAAcowE,EAAqB6N,EAAuBlpB,EAC1D50D,EAASiwE,QAA4CxoK,IAAtBs2K,EAAkCA,EAA6C,QAAxB/+J,EAAKirI,EAAOjqD,cAA2B,IAAPhhF,EAAgBA,EAAK8pK,EAC3I7oF,EAAcgwE,QAAsDxoK,IAAhCu2K,EACpCA,EACArpB,EACN,IAAI31B,EACA5B,IACA4B,EAASsS,EAAcpiI,KAAKkuH,EAAW,CACnCjpC,MAAOA,EAAMA,MACb8jD,OACAC,OACAhyG,OACA85D,SACAC,cACA59E,OACA8tJ,YAAaF,EACbjsD,cAGRpgF,EAAKsC,KAA8E,QAAtE7L,EAAgB,OAAX2kG,QAA8B,IAAXA,OAAoB,EAASA,EAAO94F,YAAyB,IAAP7L,EAAgBA,EAAK6L,EAChHtC,EAAKo8D,OAAkF,QAAxEhjE,EAAgB,OAAXgiG,QAA8B,IAAXA,OAAoB,EAASA,EAAOh/B,cAA2B,IAAPhjE,EAAgBA,EAAKgjE,EACpHp8D,EAAKq8D,YAA4F,QAA7EpjE,EAAgB,OAAXmiG,QAA8B,IAAXA,OAAoB,EAASA,EAAO/+B,mBAAgC,IAAPpjE,EAAgBA,EAAKojE,EAC9Hr8D,EAAKi8D,YAA8B,OAAhBA,QAAwC,IAAhBA,EAAyBA,EAAc,EAClFj8D,EAAKk8D,cAAsG,QAArFic,EAAqC,QAA/BD,EAAKmuC,EAAOnqD,qBAAkC,IAAPgc,EAAgBA,EAAKhc,SAAkC,IAAPic,EAAgBA,EAAK,EACxIn4E,EAAKvhB,KAA8E,QAAtE25F,EAAgB,OAAXgjB,QAA8B,IAAXA,OAAoB,EAASA,EAAO38G,YAAyB,IAAP25F,EAAgBA,EAAK35F,EAChHuhB,EAAKusD,aAAegE,EAAMiP,MAAMlvF,EAChC0vB,EAAKwsD,aAAe+D,EAAMiP,MAAM9V,EAChC1pD,EAAKowD,QAAUpwD,EAAKvhB,KAAO,IAAMgJ,MAAM8oE,EAAMiP,MAAMlvF,KAAOmX,MAAM8oE,EAAMiP,MAAM9V,GACvE2wF,IAAgBr6I,EAAKgvF,YAI1BhvF,EAAK8C,KAAKlkB,MAAM,CAAEyvG,cAAc,IAChCruF,EAAKmvF,aACLnvF,EAAKivF,iBAAgB,IAEpBo9C,GACDvqK,KAAKukJ,OAAOh3D,WAEpB,GACJ,CACA8oD,qBAAqB52D,GACjB,OAAO+U,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,IAAI,UAAEkpI,GAAczpD,EACpB,MAAM,eAAEk2D,GAAmBl2D,GACrB,MAAEob,EAAK,QAAEjmE,GAAY50B,KAAKukJ,OAEhC,OADArb,EAAYruC,GAASjmE,EAAUs0G,EAAY,GACpCyM,EAAejlH,OAAOw4G,EACjC,GACJ,CACAiO,iBAAiB13D,GACb,OAAO+U,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,eAAE21I,GAAmBl2D,GACnB7qD,QAAS6jJ,EAAY,UAAEl3E,EAAS,WAAEC,EAAU,SAAE5E,EAAQ,WAAEC,EAAU,MAAE9C,GAAU/5F,KAAKwlH,MAC3FmwB,EAAepnB,MAAK,CAAC3oE,EAAM6oC,KACvB,MAAM,MAAEiP,EAAK,MAAE8nB,GAAU/2B,EACrBA,GAAS+2B,GAASizD,GAClB7yH,EAAK27C,UAAYA,EACjB37C,EAAK47C,WAAaA,EAClB57C,EAAKg3C,SAAWA,EAChBh3C,EAAKi3C,WAAaA,EAClBj3C,EAAK+gC,UAAY6+B,EAAM7+B,UACvB/gC,EAAK8gC,aAAe8+B,EAAM9+B,aAC1B9gC,EAAKA,KAAO4/D,EAAM5/D,KAClBA,EAAKp3C,EAAIkvF,EAAMlvF,EACfo3C,EAAKgiC,EAAI8V,EAAM9V,EAAI,GACnBhiC,EAAKplB,KAAOu5D,EACZn0C,EAAK0oC,SAAU,GAGf1oC,EAAK0oC,SAAU,CACnB,GAER,GACJ,CACA40B,kBAAkBruF,EAAO45D,GACrB,IAAIn1E,EAAIqb,EACR,OAAO,IAAI89G,GAAmD,QAApBn5H,EAAKtZ,KAAKuyI,YAAyB,IAAPj5H,EAAgBA,EAAK,GAAyB,QAApBqb,EAAK30B,KAAKwyI,YAAyB,IAAP79G,EAAgBA,EAAK,GAAIE,EAAO45D,EAAOzuF,KACvK,CACAojH,wBAAwBvuF,EAAO45D,GAC3B,IAAIn1E,EAAIqb,EACR,OAAO,IAAI+9G,GAAyD,QAApBp5H,EAAKtZ,KAAKuyI,YAAyB,IAAPj5H,EAAgBA,EAAK,GAAyB,QAApBqb,EAAK30B,KAAKwyI,YAAyB,IAAP79G,EAAgBA,EAAK,GAAIE,EAAO45D,EAAOzuF,KAC7K,CACA+4J,eAAe+W,GACX,IAAIx2J,EAAIqb,EACR,MAAM,KAAE49G,EAAI,KAAEC,EAAI,MAAEoC,EAAK,MAAEC,GAAU70I,KACrC,IAAKuyI,IAASC,IAASoC,IAAUC,EAC7B,MAAO,GAEX,MAAM,MAAE4/B,EAAK,MAAEsE,EAAK,QAAEr3B,EAAO,OAAE6C,EAAQvyI,GAAIssG,GAAat+G,MAChDkoC,SAAU6nI,EAAiBz2C,OAAQ0/C,GAAkBt3B,EACvDjzD,EAAQqhF,EAAUrhF,MAClBiqF,EAASjqF,EAAM8jD,GACfulC,EAASrpF,EAAM+jD,GACfomC,EAAUhkC,EAAMxI,YAAYssC,GAC5BG,EAAUhkC,EAAMzI,YAAY0rC,GAC5Bl+D,EAAQo5D,GAAmC,QAArB15J,EAAKtZ,KAAK45G,aAA0B,IAAPtgG,EAAgBA,EAAKy/J,GACxEhzH,EAAUitH,GAAa4F,EAAU,KAAOC,IACtCnhD,UAAWihD,EAAe,KAAEn4I,EAAI,OAAE85D,EAAQC,YAAa00D,EAAiB,KAAEtyI,GAAS4nI,EACrFhqD,EAAoC,OAAtB00D,QAAoD,IAAtBA,EAA+BA,EAAoBjvJ,KAAKu6F,YAC1G,IAAI++B,EACAq/C,IACAr/C,EAASq/C,EAAgB,CACrBlqF,QACA8jD,OACAC,OACAhyG,OACA85D,SACAC,cACA59E,OACA8tJ,aAAa,EACbnsD,cAGR,MAAMvkB,EAA+E,QAAtEplE,EAAgB,OAAX2kG,QAA8B,IAAXA,OAAoB,EAASA,EAAO94F,YAAyB,IAAP7L,EAAgBA,EAAK6L,EAC5GsO,EAAW,CACb8qE,QACAC,gBAAiB9f,EACjBh0C,WAEJ,GAAIizH,GAAiBjJ,EAAiB,CAClC,MAAMzwG,EAAS,CACXmvB,QACA8jD,OACAmmC,SACAjE,QACAjiC,OACAslC,SACAiB,QACAn/D,QACA7f,QACAukB,YAEJ,GAAI06D,EACA,OAAOr/D,GAAc,CACjB5zD,QAASq0F,GAAY4+B,EAAe15G,IACrCxwB,GAEP,GAAIihI,EACA,OAAOp2D,GAAco2D,EAAgBzwG,GAASxwB,EAEtD,CACA,OAAO6qE,GAAc7qE,EACzB,CACAwhH,gBACI,IAAIh3I,EAAIqb,EAAI2C,EAAIH,EAAIi/E,EAAIC,EAAIC,EAC5B,MAAM,GAAEtkG,EAAE,KAAEhF,EAAI,KAAEulI,EAAI,KAAEC,EAAI,MAAEumC,EAAK,QAAEzqF,EAAO,MAAEsrB,EAAK,OAAE2qC,EAAM,OAAEjqD,EAAM,cAAEF,GAAkBp6F,KACvF,MAAgB,OAATgN,QAA0B,IAATA,OAAkB,EAASA,EAAK1L,SAAWixI,GAAQC,GACvE,MAAO,GAEX,MAAM4d,EAAa,CACf,CACIG,WAAY,WACZv+I,GAAIA,EACJmwG,OAAQqwB,EACRl0B,SAAUtsG,EACV4iB,QAAS05D,EACTk3B,MAAO,CACH5/D,KAAoE,QAA7DtsC,EAAe,OAAVsgG,QAA4B,IAAVA,EAAmBA,EAAQm/D,SAA0B,IAAPz/J,EAAgBA,EAAKk5H,GAErG+R,OAAQ,CACJ1pD,MAAO0pD,EAAO1pD,MACdr6D,KAA6B,QAAtB7L,EAAK4vH,EAAO/jH,YAAyB,IAAP7L,EAAgBA,EAAK,mBAC1D2lE,OAAgF,QAAvEnjE,EAA8B,QAAxBG,EAAKitH,EAAOjqD,cAA2B,IAAPhjE,EAAgBA,EAAKgjE,SAA2B,IAAPnjE,EAAgBA,EAAK,mBAC7GgjE,YAA2C,QAA7Bic,EAAKmuC,EAAOpqD,mBAAgC,IAAPic,EAAgBA,EAAK,EACxEhc,cAAqG,QAArFkc,EAAqC,QAA/BD,EAAKkuC,EAAOnqD,qBAAkC,IAAPic,EAAgBA,EAAKjc,SAAkC,IAAPkc,EAAgBA,EAAK,KAI9I,OAAO85C,CACX,CACAzc,yBAAwB,iBAAE2B,EAAgB,gBAAEI,EAAe,YAAEF,EAAW,MAAEz+C,EAAK,WAAE+9C,IAC7EU,EAAY38H,SAAQ,EAAGs9H,YAAYktC,KAC/B,IAAI/pK,EAAIqb,EACR,MAAO2tG,GAAYvrC,EAAMssF,IACjBriJ,KAAMsiJ,GAAahhD,EAC3BA,EAAS9hG,UAAOz+B,EAChBugI,EAAS3nC,SAAW,QACpB2nC,EAASz+C,cAAgB6J,GAAcgC,KACvC4yC,EAAShoC,OAASt6F,KAAKs6F,OACvBgoC,EAAS/nC,YAAcv6F,KAAK8hH,eAAe9hH,KAAKu6F,aAChD+nC,EAASloC,cAAgBp6F,KAAKo6F,cAC9BkoC,EAAS9nC,SAAWx6F,KAAKw6F,SACzB8nC,EAAS7nC,eAAiBz6F,KAAKy6F,eAC/B,MAAMzpC,EAAW,IACXooH,EAAiB,IACjBC,EAAmB,CACrBjtJ,KAAM,EACNkmB,GAAwF,QAAnFh5B,EAAoB,OAAfw7H,QAAsC,IAAfA,OAAwB,EAASA,EAAW7xD,aAA0B,IAAP3pE,EAAgBA,EAAK,EACrH2jI,qBAAqB,EACrBtC,KAAMa,GACN30H,OAAQ,GAEqB,QAAhC8N,EAAK30B,KAAK8zJ,wBAAqC,IAAPn/H,GAAyBA,EAAG6lH,QAAS,GAAEx6I,KAAKgS,wBAAyBnQ,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG21J,GAAmB,CAAEroH,WAC/JkqF,SAASw9B,GACL4K,EAASxmK,MAAM,CAAEyvG,cAAc,IAC/B4pB,EAASt9H,SAAQ,CAAC41E,EAAOltF,KACrB,GAAIktF,EAAMiP,MAAMlvF,GAAKkqK,EAEbjqF,EAAMiP,MAAM5J,OACZwvF,EAASxvF,OAAOrF,EAAMiP,MAAMlvF,EAAGigF,EAAMiP,MAAM9V,GAG3C07F,EAASvvF,OAAOtF,EAAMiP,MAAMlvF,EAAGigF,EAAMiP,MAAM9V,QAG9C,GAAIrmF,EAAQ,GAAK40I,EAAS50I,EAAQ,GAAGm8F,MAAMlvF,EAAIkqK,EAAQ,CAExD,MAAMryJ,EAAQ8vH,EAAS50I,EAAQ,GAAGm8F,MAC5Bp3E,EAAMmoE,EAAMiP,MACZlvF,EAAIkqK,EACJ9wF,EAAIvhE,EAAMuhE,GAAMp5E,EAAI6X,EAAM7X,IAAM8X,EAAIshE,EAAIvhE,EAAMuhE,IAAOthE,EAAI9X,EAAI6X,EAAM7X,GACrEigF,EAAMiP,MAAM5J,OACZwvF,EAASxvF,OAAOtlF,EAAGo5E,GAGnB07F,EAASvvF,OAAOvlF,EAAGo5E,EAE3B,KAEJ06C,EAASnV,gBACb,KACJmoB,EAAiB+tC,GAAkB90D,MAAK,CAACg2B,EAAQ91D,KAC7C,IAAIn1E,EAAIqb,EAAI2C,EAAIH,EAChB,MAAMsP,GAAwB,OAAfquG,QAAsC,IAAfA,OAAwB,EAASA,EAAW7xD,OAAUwL,EAAMiP,MAAMlvF,EAAIsmI,EAAW7xD,MAASjyB,EAAW,EACrIsoE,EAASt5H,KAAK45K,iBAAiBnrF,GAC/B9xE,EAAkF,QAA1EgY,EAA4B,QAAtBrb,EAAKm1E,EAAMiP,aAA0B,IAAPpkF,OAAgB,EAASA,EAAGqD,YAAyB,IAAPgY,EAAgBA,EAAK,EACpF,QAAhC2C,EAAKt3B,KAAK8zJ,wBAAqC,IAAPx8H,GAAyBA,EAAGkjH,QAAS,GAAEx6I,KAAKgS,yBAAyBuyI,EAAOvyI,KAAMnQ,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG21J,GAAmB,CAAE/mI,GAA2E,QAAtEnb,EAAgB,OAAXmiG,QAA8B,IAAXA,OAAoB,EAASA,EAAO38G,YAAyB,IAAPwa,EAAgBA,EAAKxa,EAAM8pB,QAAOuqB,SAAUooH,EAAgBl+B,SAASv+H,GAChU4nI,EAAO5nI,KAAOA,CAClB,IAAK,IAEb+4H,EAAgB2tC,GAAkB90D,MAAK,CAAC/I,EAAO/2B,KAC3C,IAAIn1E,EACJ,MAAMmtB,GAAwB,OAAfquG,QAAsC,IAAfA,OAAwB,EAASA,EAAW7xD,OAAUwL,EAAMiP,MAAMlvF,EAAIsmI,EAAW7xD,MAASjyB,EAAW,EAC1G,QAAhC13C,EAAKtZ,KAAK8zJ,wBAAqC,IAAPx6I,GAAyBA,EAAGkhI,QAAS,GAAEx6I,KAAKgS,yBAAyBwzG,EAAMxzG,KAAM,CACtHoa,KAAM,EACNkmB,GAAI,EACJ7L,QACAuqB,SAAUooH,EACVz+B,KAAMa,GACN30H,OAAQ,EACRq0H,SAAWp3D,IACP0hC,EAAM1hC,QAAUA,CAAO,GAE7B,GACJ,GAEV,CACA8vD,mBAAmB5mI,GACfhN,KAAKujL,qBAAqBv2K,EAC9B,CACAinI,mBAAmBjnI,GACf,IAAIsM,EAC6B,QAAhCA,EAAKtZ,KAAK8zJ,wBAAqC,IAAPx6I,GAAyBA,EAAGpE,OACrElV,KAAKujL,qBAAqBv2K,EAC9B,CACAu2K,sBAAqB,iBAAEjuC,EAAgB,YAAEE,EAAW,MAAEz+C,IAClDy+C,EAAY38H,SAAQ,EAAGs9H,YAAYktC,KAC/B,MAAO/gD,GAAYvrC,EAAMssF,IACjBriJ,KAAMsiJ,GAAahhD,EAC3BA,EAAShoC,OAASt6F,KAAKs6F,OACvBgoC,EAAS/nC,YAAcv6F,KAAK8hH,eAAe9hH,KAAKu6F,aAChD+nC,EAASloC,cAAgBp6F,KAAKo6F,cAC9BkoC,EAAS9nC,SAAWx6F,KAAKw6F,SACzB8nC,EAAS7nC,eAAiBz6F,KAAKy6F,eAC/B6oF,EAASxmK,MAAM,CAAEyvG,cAAc,IAC/B4pB,EAASt9H,SAAS41E,IACVA,EAAMiP,MAAM5J,OACZwvF,EAASxvF,OAAOrF,EAAMiP,MAAMlvF,EAAGigF,EAAMiP,MAAM9V,GAG3C07F,EAASvvF,OAAOtF,EAAMiP,MAAMlvF,EAAGigF,EAAMiP,MAAM9V,EAC/C,IAEJ06C,EAASnV,iBACTmoB,EAAiB+tC,GAAkB90D,MAAK,CAACg2B,EAAQ91D,KAC7C,IAAIn1E,EAAIqb,EAAI2C,EACZ,MAAMgiG,EAASt5H,KAAK45K,iBAAiBnrF,GAC/B9xE,EAAkF,QAA1EgY,EAA4B,QAAtBrb,EAAKm1E,EAAMiP,aAA0B,IAAPpkF,OAAgB,EAASA,EAAGqD,YAAyB,IAAPgY,EAAgBA,EAAK,EACrH4vH,EAAO5nI,KAA8E,QAAtE2a,EAAgB,OAAXgiG,QAA8B,IAAXA,OAAoB,EAASA,EAAO38G,YAAyB,IAAP2a,EAAgBA,EAAK3a,CAAI,GACxH,GAEV,CACAi9J,iBAAiBnrF,GACb,IAAIn1E,EAAIqb,EACR,MAAM,OAAE4vH,EAAM,KAAEhS,EAAO,GAAE,KAAEC,EAAO,GAAIl4C,OAAQ8oF,EAAYpxK,GAAIssG,EAAUxxF,KAAK,cAAE8+G,IAAqB5rI,MAC9F,KAAE2c,EAAI,UAAE+6G,GAAc6sB,EACtB/jH,EAAO+jH,EAAO/jH,KACd85D,EAAkC,QAAxBhhF,EAAKirI,EAAOjqD,cAA2B,IAAPhhF,EAAgBA,EAAK8pK,EAC/D7oF,EAA4C,QAA7B5lE,EAAK4vH,EAAOhqD,mBAAgC,IAAP5lE,EAAgBA,EAAK30B,KAAKu6F,YACpF,IAAI++B,EAcJ,OAbI5B,IACA4B,EAASsS,EAAcpiI,KAAKkuH,EAAW,CACnCjpC,MAAOA,EAAMA,MACb8jD,OACAC,OACAhyG,OACA85D,SACAC,cACA59E,OACA8tJ,aAAa,EACbnsD,cAGDgb,CACX,CACAke,iBACI,OAAOx3I,KAAKwlH,MAAM5wF,OACtB,EAEJ4tJ,GAAWn4H,UAAY,aACvBm4H,GAAWj2K,KAAO,OAClB0iB,GAAW,CACPmgF,GAASoB,KACVgyE,GAAWx5K,UAAW,aAAS,GAClCimB,GAAW,CACPmgF,GAAS8B,KACVsxE,GAAWx5K,UAAW,cAAU,GACnCimB,GAAW,CACPmgF,GAAS8C,KACVswE,GAAWx5K,UAAW,gBAAY,GACrCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjB4xE,GAAWx5K,UAAW,sBAAkB,GAC3CimB,GAAW,CACPmgF,GAASwB,GAAO,KACjB4xE,GAAWx5K,UAAW,mBAAe,GACxCimB,GAAW,CACPmgF,GAASwB,GAAO,EAAG,KACpB4xE,GAAWx5K,UAAW,qBAAiB,GAC1CimB,GAAW,CACPmgF,GAASoB,KACVgyE,GAAWx5K,UAAW,YAAQ,GACjCimB,GAAW,CACPmgF,GAASoB,KACVgyE,GAAWx5K,UAAW,aAAS,GAClCimB,GAAW,CACPmgF,GAASoB,KACVgyE,GAAWx5K,UAAW,YAAQ,GACjCimB,GAAW,CACPmgF,GAASoB,KACVgyE,GAAWx5K,UAAW,aAAS,GC7jB3B,MAAMw6K,GACTj4K,cACIvL,KAAKgzG,OAAS,CAAC,EAAG,GAClBhzG,KAAKmmB,MAAQ,CAAC,MAAO,QACrBnmB,KAAKyjL,YAAczjL,KAAKmmB,MAAMxM,KAAKwC,GAAM0mF,GAAMO,WAAWjnF,IAC9D,CACAuU,SACI,MAAM,OAAEsiF,EAAM,MAAE7sF,GAAUnmB,KACtBgzG,EAAO1xG,OAAS,IAChBkwF,GAAOG,SAAS,gDACM,IAAlBqhB,EAAO1xG,OACP0xG,EAAOrjG,KAAK,EAAG,GAEQ,IAAlBqjG,EAAO1xG,QACZ0xG,EAAOrjG,KAAKqjG,EAAO,GAAK,IAGhC,IAAK,IAAIpvG,EAAI,EAAGA,EAAIovG,EAAO1xG,OAAQsC,IAAK,CACpC,MAAMmH,EAAIioG,EAAOpvG,EAAI,GACf8kB,EAAIsqF,EAAOpvG,GACjB,GAAImH,GAAK2d,EAAG,CACR8oE,GAAOG,SAAS,+DAChBqhB,EAAO9+E,MAAK,CAACnpB,EAAG2d,IAAM3d,EAAI2d,IAC1B,KACJ,CACJ,CACA,MAAMg7J,EAAev9J,EAAM7kB,OAAS0xG,EAAO1xG,OAC3C,GAAIoiL,GAAiB1wE,EAAO1xG,OAAS,GAAK6kB,EAAM7kB,OAAS0xG,EAAO1xG,OAE5D,GADAkwF,GAAOG,SAAS,8FACZ+xF,EACA,IAAK,IAAI9/K,EAAIuiB,EAAM7kB,OAAQsC,EAAIovG,EAAO1xG,OAAQsC,IAC1CuiB,EAAMxW,KAAK,cAIfwW,EAAMvC,OAAOovF,EAAO1xG,QAG5BtB,KAAKyjL,YAAczjL,KAAKmmB,MAAMxM,KAAKwC,GAAM0mF,GAAMO,WAAWjnF,IAC9D,CACAwzG,QAAQnhH,GACJ,MAAM,OAAEwkG,EAAM,MAAE7sF,EAAK,YAAEs9J,GAAgBzjL,KACjCkzH,EAAKlgB,EAAO,GACZmgB,EAAKngB,EAAOA,EAAO1xG,OAAS,GAC5B2uH,EAAK9pG,EAAM,GACXy+F,EAAKz+F,EAAMA,EAAM7kB,OAAS,GAChC,GAAIkN,GAAK0kH,EACL,OAAOjD,EAEX,GAAIzhH,GAAK2kH,EACL,OAAOvO,EAEX,IAAIrjH,EACAijG,EACJ,GAAsB,IAAlBwO,EAAO1xG,OAAc,CACrB,MAAM21C,GAAKzoC,EAAI0kH,IAAOC,EAAKD,GACrB1yC,EAAO,GAAKr6D,EAAM7kB,OAAS,GACjCC,EAAQ4kB,EAAM7kB,QAAU,EAAI,EAAIoJ,KAAK2G,IAAI3G,KAAK4D,MAAM2oC,GAAK9wB,EAAM7kB,OAAS,IAAK6kB,EAAM7kB,OAAS,GAC5FkjG,GAAKvtD,EAAI11C,EAAQi/E,GAAQA,CAC7B,KACK,CACD,IAAKj/E,EAAQ,EAAGA,EAAQyxG,EAAO1xG,OAAS,EAAGC,IACvC,GAAIiN,EAAIwkG,EAAOzxG,EAAQ,GACnB,MAGR,MAAMwJ,EAAIioG,EAAOzxG,GACXmnB,EAAIsqF,EAAOzxG,EAAQ,GACzBijG,GAAKh2F,EAAIzD,IAAM2d,EAAI3d,EACvB,CACA,MAAMk6F,EAAKw+E,EAAYliL,GACjBs+C,EAAK4jI,EAAYliL,EAAQ,GAC/B,OAAOoiL,GAAiB1+E,EAAIplD,EAArB8jI,CAAyBn/E,EACpC,EC5EJ,IAAIv1E,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EACIq0E,GAAwC,SAAUt3E,EAASu3E,EAAYlqF,EAAGmqF,GAC1E,SAASC,EAAMvzF,GAAS,OAAOA,aAAiBmJ,EAAInJ,EAAQ,IAAImJ,GAAE,SAAUokB,GAAWA,EAAQvtB,EAAQ,GAAI,CAC3G,OAAO,IAAKmJ,IAAMA,EAAImkB,WAAU,SAAUC,EAASuY,GAC/C,SAAS0tD,EAAUxzF,GAAS,IAAMo/E,EAAKkU,EAAUj3E,KAAKrc,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC1F,SAASwpE,EAASzzF,GAAS,IAAMo/E,EAAKkU,EAAU,SAAStzF,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC7F,SAASm1D,EAAKv9E,GAAUA,EAAOya,KAAOiR,EAAQ1rB,EAAO7B,OAASuzF,EAAM1xF,EAAO7B,OAAO+iB,KAAKywE,EAAWC,EAAW,CAC7GrU,GAAMkU,EAAYA,EAAUhrF,MAAMwT,EAASu3E,GAAc,KAAKh3E,OAClE,GACJ,EAgBA,MAAMmmK,WAA2BnkD,GAC7Bl0H,cACI+jB,SAASzsB,WACT7C,KAAK03H,eAAY31H,CACrB,EAEJktB,GAAW,CACPmgF,GAASgB,KACVwzE,GAAmB56K,UAAW,iBAAa,GAC9C,MAAM66K,WAAwCvxC,GAC1C/mI,YAAYu4K,EAASvxC,EAAMC,EAAMp0B,EAAa3vB,EAAO4vB,GACjD/uF,MAAMijH,EAAMC,EAAMp0B,EAAa3vB,EAAO4vB,GACtCr+G,KAAK8jL,QAAUA,CACnB,EAEJ,MAAMC,WAAoCF,GACtCt4K,cACI+jB,SAASzsB,WACT7C,KAAKuM,KAAO,WAChB,EAEJ,MAAMy3K,WAA0CH,GAC5Ct4K,cACI+jB,SAASzsB,WACT7C,KAAKuM,KAAO,iBAChB,EAEJ,MAAM03K,WAA6BnlE,GAC/BvzG,cACI+jB,SAASzsB,WACT7C,KAAKkoC,cAAWnmC,CACpB,EAEJktB,GAAW,CACPmgF,GAASgB,KACV6zE,GAAqBj7K,UAAW,gBAAY,GACxC,MAAMk7K,WAAsBtxC,GAC/BrnI,YAAYs0G,GACRvwF,MAAM,CACFuwF,YACAG,UAAW,CACPpC,GAAmB6E,oCACnB7E,GAAmB+E,aACnB/E,GAAmB2E,mBAEvBgxB,eAAgB,EAChBP,YAAY,IAEhBhzI,KAAKmkL,UAAY,IAAI33C,GACrBxsI,KAAKukJ,OAAS,IAAI3L,GAClB54I,KAAKwlH,MAAQ,IAAIo+D,GACjB5jL,KAAK45G,WAAQ73G,EACb/B,KAAKokL,cAAWriL,EAChB/B,KAAKy0K,WAAQ1yK,EACb/B,KAAK+4K,WAAQh3K,EACb/B,KAAKqkL,SAAW,OAChBrkL,KAAKskL,UAAY,QACjBtkL,KAAKuyI,UAAOxwI,EACZ/B,KAAKwyI,UAAOzwI,EACZ/B,KAAK8jL,aAAU/hL,EACf/B,KAAKukL,cAAWxiL,EAChB/B,KAAKwkL,UAAY,QACjBxkL,KAAKykL,iBAAc1iL,EACnB/B,KAAK0kL,WAAa,CAAC,UAAW,UAAW,WACzC1kL,KAAK2kL,WAAa,IAAInB,GACtBxjL,KAAK0hJ,QAAU,IAAIuiC,GACnB,MAAM,MAAEz+D,GAAUxlH,KAClBwlH,EAAM5wF,SAAU,CACpB,CACAw/E,cACI,IAAI96F,EAAIqb,EAAI2C,EAAIH,EAAIi/E,EAAIC,EACxB,OAAO7hB,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,KAAEuyI,EAAO,GAAE,KAAEC,EAAO,GAAE,QAAEsxC,EAAO,MAAElvC,EAAK,MAAEC,EAAK,OAAE0P,EAAM,KAAEv3I,GAAShN,KAChEw0I,GAA2B,OAAVI,QAA4B,IAAVA,OAAmB,EAASA,EAAMztD,iBAAkBorC,GACvFkiB,GAA2B,OAAVI,QAA4B,IAAVA,OAAmB,EAASA,EAAM1tD,iBAAkBorC,IACvF,WAAEoyD,EAAU,YAAEF,EAAW,WAAEC,EAAU,SAAEH,GAAavkL,KAW1D,GAVAA,KAAKkoK,UAAY,IAAI30D,GAAU,CAC3B3rF,MAAO,CACHm2F,GAAcw0B,EAAMiC,EAAe,CAAExiI,GAAK,WAC1C+rG,GAAcy0B,EAAMiC,EAAe,CAAEziI,GAAK,cACtC8xK,EAAU,CAAC/lE,GAAc+lE,GAAS,EAAM,CAAE9xK,GAAK,eAAiB,MAChEuyK,EAAW,CAACxmE,GAAcwmE,GAAU,EAAM,CAAEvyK,GAAK,gBAAkB,IAE3EwhG,YAAaxzG,KAAKsuF,UAEtBtuF,KAAKm0G,cAAgBn0G,KAAKkoK,UAAU9zD,YAAqB,OAATpnG,QAA0B,IAATA,EAAkBA,EAAO,IACtF82K,EAAS,CACT,MAAMc,EAAuI,QAAzHjwJ,EAA0E,QAApErb,EAAKtZ,KAAKkoK,UAAUn0D,8BAA+B,oBAAgC,IAAPz6F,OAAgB,EAASA,EAAG/X,aAA0B,IAAPozB,EAAgBA,GAAM,EACrKkwJ,EAAuH,QAAtG1tJ,EAAmC,QAA7BG,EAAKt3B,KAAKm0G,qBAAkC,IAAP78E,OAAgB,EAASA,EAAG07E,OAAOt6F,OAAOksK,UAAgC,IAAPztJ,EAAgBA,EAAK,GAC1Jn3B,KAAKmkL,UAAUnxE,OAASuxC,EAAOvxC,OAASuxC,EAAOvxC,OAAS6xE,CAC5D,CACA,GAAIN,EAAU,CACV,MAAMO,EAAyI,QAA1HzuE,EAA2E,QAArED,EAAKp2G,KAAKkoK,UAAUn0D,8BAA+B,qBAAiC,IAAPqC,OAAgB,EAASA,EAAG70G,aAA0B,IAAP80G,EAAgBA,GAAM,EAC7KsuE,EAAW3xE,OAAyB,OAAhByxE,QAAwC,IAAhBA,EAAyBA,EAAczkL,KAAKm0G,cAAcnB,OAAOt6F,OAAOosK,GACpHH,EAAWx+J,MAAQu+J,EACnBC,EAAWj0J,QACf,CACJ,GACJ,CACAwjF,UAAUgN,GACN,MAAM,UAAEgnD,EAAS,cAAE/zD,GAAkBn0G,KACrC,IAAKm0G,IAAkB+zD,EACnB,MAAO,GACX,MAAMl2J,EAAKkvG,IAAcpO,GAAmBsM,EAAK,SAAW,SACtD2lE,EAAU7c,EAAUj0D,4BAA4BjiG,GAChDghG,EAASk1D,EAAUh0D,UAAUliG,EAAImiG,GACvC,GAA8E,cAA7D,OAAZ4wE,QAAgC,IAAZA,OAAqB,EAASA,EAAQh6G,WAC3D,OAAOioC,EAEX,MAAMwQ,EAAOtC,IAAcpO,GAAmBsM,EAAIp/G,KAAK40I,MAAQ50I,KAAK60I,MACpE,OAAO70I,KAAKozG,iBAAiBC,GAAOL,GAASwQ,EACjD,CACAN,kBAAkBruF,EAAO45D,GACrB,IAAIn1E,EAAIqb,EACR,OAAO,IAAIovJ,GAA4B/jL,KAAK8jL,QAA8B,QAApBxqK,EAAKtZ,KAAKuyI,YAAyB,IAAPj5H,EAAgBA,EAAK,GAAyB,QAApBqb,EAAK30B,KAAKwyI,YAAyB,IAAP79G,EAAgBA,EAAK,GAAIE,EAAO45D,EAAOzuF,KACnL,CACAojH,wBAAwBvuF,EAAO45D,GAC3B,IAAIn1E,EAAIqb,EACR,OAAO,IAAIqvJ,GAAkChkL,KAAK8jL,QAA8B,QAApBxqK,EAAKtZ,KAAKuyI,YAAyB,IAAPj5H,EAAgBA,EAAK,GAAyB,QAApBqb,EAAK30B,KAAKwyI,YAAyB,IAAP79G,EAAgBA,EAAK,GAAIE,EAAO45D,EAAOzuF,KACzL,CACA81I,iBACI,IAAIx8H,EAAIqb,EAAI2C,EAAIH,EAAIi/E,EAAIC,EAAIC,EAAIssC,EAAIynB,EACpC,OAAO71E,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,QAAEsuF,EAAO,MAAEsmD,EAAK,MAAEC,EAAK,KAAErC,EAAO,GAAE,KAAED,EAAO,GAAE,MAAE/sB,EAAK,SAAE4+D,EAAUt3J,KAAK,cAAE8+G,IAAqB5rI,KAC5FglL,EAAqC,QAAzB1rK,EAAKtZ,KAAKkoK,iBAA8B,IAAP5uJ,OAAgB,EAASA,EAAGy6F,8BAA+B,UACxGkxE,EAAqC,QAAzBtwJ,EAAK30B,KAAKkoK,iBAA8B,IAAPvzI,OAAgB,EAASA,EAAGo/E,8BAA+B,UAC9G,KAAMixE,GAAYC,GAAY32F,GAAWsmD,GAASC,GAC9C,MAAO,GAEX,MAAM,WAAE8vC,EAAU,QAAEb,EAAO,SAAES,EAAUvyK,GAAIssG,GAAat+G,KAClDw1K,EAAS5gC,EAAMztD,MACfsuF,EAAS5gC,EAAM1tD,MACfgV,GAAuC,QAA3B7kE,EAAKk+I,EAAO3lD,iBAA8B,IAAPv4F,EAAgBA,EAAK,GAAK,EACzE+kE,GAAuC,QAA3BllE,EAAKs+I,EAAO5lD,iBAA8B,IAAP14F,EAAgBA,EAAK,GAAK,GACzE,UAAEgtJ,EAAS,OAAE5/B,GAAWvkJ,KACxBm2I,EAAW,IAAIxpI,MAA+F,QAAxF0pG,EAAmC,QAA7BD,EAAKp2G,KAAKm0G,qBAAkC,IAAPiC,OAAgB,EAASA,EAAGppG,KAAK1L,cAA2B,IAAP+0G,EAAgBA,EAAK,GACjJ8tE,EAAUh+J,MAAQ,CAACo+H,EAAO5nI,KAAM4nI,EAAOr2B,SACvC,MAAMznC,EAAO++B,EAAMtoB,UACnB,IAAI+lF,EAAe,EACnB,IAAK,MAAM,OAAEvqK,EAAM,MAAE+1E,KAA6F,QAAjFm0D,EAAmC,QAA7BtsC,EAAKt2G,KAAKm0G,qBAAkC,IAAPmC,OAAgB,EAASA,EAAGtpG,YAAyB,IAAP41I,EAAgBA,EAAK,GAAI,CAC/I,MAAMmzB,EAASr9J,EAAOssK,EAASzjL,OACzBy0K,EAASt9J,EAAOusK,EAAS1jL,OACzBiN,EAAIgnK,EAAO7lD,QAAQomD,GAAU55E,EAC7BvU,EAAI6tF,EAAO9lD,QAAQqmD,GAAU35E,EACnC,IAAKr8F,KAAK20I,aAAanmI,EAAGo5E,EAAGgtD,EAAOC,GAChC,SAEJ,IAAIjvF,EACA4/D,EAAMkS,YACN9xE,EAAOgmF,EAAcpiI,KAAKg8G,EAAMkS,UAAW,CAAEt2H,MAAO40K,EAAQ13D,WAAU7vB,gBAE7D1sF,IAAT6jD,IACAA,EAAOw+H,EAAW7jL,OAAOkuF,EAAM21F,IAAa,IAEhD,MAAMznK,EAAOqmE,GAAW0U,YAAY9xC,EAAM6gC,GACpC+9D,EAAas/B,EAAUK,EAAUx0D,QAAQj3G,EAAO,IAAM6rI,EAAO5nI,KAC7DuoK,EAAWpB,EAAU,EAAI,EACzBtjJ,EAAO+jJ,EAAWI,EAAWh1D,QAAQj3G,EAAOwsK,SAAanjL,EAC/Do0I,EAAS8sC,KAAkB,CACvB5kE,OAAQr+G,KACRmiH,OAAQqwB,EACRA,OACAD,OACA9jD,QACAiP,MAAO,CAAElvF,IAAGo5E,IAAGjrE,KAAM6nI,GACrBkV,aAAc,CAAElrJ,IAAGo5E,KACnBpnD,OACAglF,MAAO3jH,OAAO6hB,OAAO,CAAEkiC,QAAQjpC,GAEvC,CAEA,OADAw5H,EAAS70I,OAAS2hL,EACX,CAAC,CAAE9gE,OAA6B,QAApBkoD,EAAKrqK,KAAKwyI,YAAyB,IAAP63B,EAAgBA,EAAKrqK,KAAKgS,GAAImkI,WAAUjN,UAAWiN,GACtG,GACJ,CACAN,yBACI,OAAO71I,KAAKukJ,OAAO92D,SACvB,CACAirD,eACI,IAAIp/H,EACJ,OAAuC,QAA/BA,EAAKtZ,KAAKk0I,uBAAoC,IAAP56H,OAAgB,EAASA,EAAGqQ,QAAO,CAACxJ,EAAG1R,IAAM0R,EAAE3Q,OAAOf,EAAEy6H,YAAY,GACvH,CACA+J,gBACI,MAAM,MAAEp4C,GAAU76F,KAAKukJ,OACjBhO,EAAc7E,GAAU72C,GAC9B,OAAO,IAAI07C,CACf,CACAD,sBAAsB72D,GAClB,OAAO+U,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,SAAEm2I,EAAQ,gBAAEZ,GAAoB91D,GAC9B8kE,QAAQ,QAAE3vH,IAAe50B,KAC7BA,KAAKukJ,OAAO92D,WACZ8nD,EAAgBz4H,QAEpB,MAAM9P,EAAO4nB,EAAUuhH,EAAW,GAClC,OAAOZ,EAAgB7kH,OAAO1jB,EAClC,GACJ,CACAgqI,kBAAkBv3D,GACd,OAAO+U,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,gBAAEu1I,EAAiB0B,YAAaszB,GAAuB9qF,GACvD,OAAE8kE,EAAM,KAAEhS,EAAO,GAAE,KAAEC,EAAO,GAAE,UAAE2xC,EAAW5/B,QAAUpqD,YAAa+0D,EAAmB90D,cAAe+0D,EAAqB50D,YAAa00D,GAAsBrvC,gBAAkB/sG,MAAQ2tB,KAAM23I,EAAiBh+E,YAAai+E,EAAuBlpB,EAAmB50D,OAAQ+9E,EAAmB99E,YAAa+9E,IAAmCtmK,GAAIssG,EAAUxxF,KAAK,cAAE8+G,IAAqB5rI,MACzX,UAAE03H,GAAc6sB,EACtB4/B,EAAUh+J,MAAQ,CAACo+H,EAAO5nI,KAAM4nI,EAAOr2B,SACvC,MAAMqqD,EAAuC,oBAAjBh0B,EAAO1pD,MACnC06C,EAAgBhnB,MAAK,CAACrwF,EAAMuwD,KACxB,IAAIn1E,EAAIqb,EAAI2C,EAAIH,EAAIi/E,EAAIC,EAAIC,EAAIssC,EAAIynB,EAAIqY,EACxC,MAAMliJ,EAAO+pI,QAA0CxoK,IAApBo2K,EAAgCA,EAAwC,QAArB7+J,EAAKm1E,EAAMjuD,YAAyB,IAAPlnB,EAAgBA,EAAKirI,EAAO/jH,KACzI25D,EAAcowE,EAAqB6N,EAAuBlpB,EAC1D50D,EAASiwE,QAA4CxoK,IAAtBs2K,EAAkCA,EAAoB9zB,EAAOjqD,OAC5FF,EAAgB+0D,EAChB50D,EAAcgwE,QAAsDxoK,IAAhCu2K,EACpCA,EACsB,OAAtBrpB,QAAoD,IAAtBA,EAA+BA,EAAoB,EACjFtyI,EAAkF,QAA1E2a,EAA4B,QAAtB3C,EAAK85D,EAAMiP,aAA0B,IAAP/oE,OAAgB,EAASA,EAAGhY,YAAyB,IAAP2a,EAAgBA,EAAK,EACrH,IAAIgiG,EACA5B,IACA4B,EAASsS,EAAcpiI,KAAKkuH,EAAW,CACnCjpC,MAAOA,EAAMA,MACb8jD,OACAC,OACAhyG,OACA85D,SACAC,cACA59E,OACA8tJ,YAAaF,EACbjsD,cAGRpgF,EAAKsC,KAA8E,QAAtErJ,EAAgB,OAAXmiG,QAA8B,IAAXA,OAAoB,EAASA,EAAO94F,YAAyB,IAAPrJ,EAAgBA,EAAKqJ,EAChHtC,EAAKo8D,OAAkF,QAAxE8b,EAAgB,OAAXkjB,QAA8B,IAAXA,OAAoB,EAASA,EAAOh/B,cAA2B,IAAP8b,EAAgBA,EAAK9b,EACpHp8D,EAAKq8D,YAA4F,QAA7E8b,EAAgB,OAAXijB,QAA8B,IAAXA,OAAoB,EAASA,EAAO/+B,mBAAgC,IAAP8b,EAAgBA,EAAK9b,EAC9Hr8D,EAAKi8D,YAA8B,OAAhBA,QAAwC,IAAhBA,EAAyBA,EAAc,EAClFj8D,EAAKk8D,cAAkC,OAAlBA,QAA4C,IAAlBA,EAA2BA,EAAgB,EAC1Fl8D,EAAKusD,aAAuF,QAAvEm4D,EAA4B,QAAtBtsC,EAAK7nB,EAAMiP,aAA0B,IAAP4Y,OAAgB,EAASA,EAAG9nG,SAAsB,IAAPo0I,EAAgBA,EAAK,EACzH1kH,EAAKwsD,aAAuF,QAAvEg4F,EAA4B,QAAtBrY,EAAK57E,EAAMiP,aAA0B,IAAP2sE,OAAgB,EAASA,EAAGziF,SAAsB,IAAP86F,EAAgBA,EAAK,EACzHxkJ,EAAKowD,QAAUpwD,EAAKvhB,KAAO,EACtB47J,IAAgBr6I,EAAKgvF,YAI1BhvF,EAAK8C,KAAKlkB,MAAM,CAAEyvG,cAAc,IAChCruF,EAAKmvF,aACLnvF,EAAKivF,iBAAgB,IAEpBo9C,GACDvqK,KAAKukJ,OAAOh3D,WAEpB,GACJ,CACA8oD,qBAAqB52D,GACjB,IAAInmE,EAAIqb,EACR,OAAO6/D,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,eAAE21I,GAAmBl2D,GACnB+lC,OAAO,QAAE5wF,IAAe50B,KAC1BmlL,EAAevwJ,GAAuG,QAA5FD,EAA2B,QAArBrb,EAAKtZ,KAAK8vB,aAA0B,IAAPxW,OAAgB,EAASA,EAAGmsG,cAAc7gH,IAAI5E,aAA0B,IAAP20B,EAAgBA,EAAU,GACxJywJ,EAAkBD,EAAaxrK,KAAKwC,GAAOta,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGvH,EAAEsyE,OAAQ,CAAEiP,MAAO,CAC5FlvF,EAAG2N,EAAE3N,EACLo5E,EAAGzrE,EAAEyrE,EACLjrE,KAAMR,EAAEsyE,MAAMiP,MAAM/gF,UAE5B,OAAOg5H,EAAejlH,OAAO00J,EACjC,GACJ,CACAjuC,iBAAiB13D,GACb,OAAO+U,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,eAAE21I,GAAmBl2D,GACrB,MAAE+lC,GAAUxlH,KAClB21I,EAAepnB,MAAK,CAAC3oE,EAAM6oC,KACvB,IAAIn1E,EAAIqb,EAAI2C,EAAIH,EAChByuB,EAAKA,KAAO6oC,EAAM+2B,MAAM5/D,KACxBA,EAAKplB,KAAOglF,EAAMzrB,MAClBn0C,EAAKp3C,EAA4E,QAAvEmmB,EAA4B,QAAtBrb,EAAKm1E,EAAMiP,aAA0B,IAAPpkF,OAAgB,EAASA,EAAG9K,SAAsB,IAAPmmB,EAAgBA,EAAK,EAC9GixB,EAAKgiC,EAA4E,QAAvEzwD,EAA4B,QAAtBG,EAAKm3D,EAAMiP,aAA0B,IAAPpmE,OAAgB,EAASA,EAAGswD,SAAsB,IAAPzwD,EAAgBA,EAAK,EAC9GyuB,EAAK27C,UAAYikB,EAAMjkB,UACvB37C,EAAK47C,WAAagkB,EAAMhkB,WACxB57C,EAAKg3C,SAAW4oB,EAAM5oB,SACtBh3C,EAAKi3C,WAAa2oB,EAAM3oB,WACxBj3C,EAAK+gC,UAAY,OACjB/gC,EAAK8gC,aAAe,KAAK,GAEjC,GACJ,CACAqyE,eAAe+W,GACX,IAAIx2J,EAAIqb,EAAI2C,EAAIH,EAAIi/E,EAAIC,EAAIC,EAC5B,MAAM,KAAEi8B,EAAI,KAAEC,EAAI,MAAEoC,EAAK,MAAEC,GAAU70I,KACrC,IAAKuyI,IAASC,IAASoC,IAAUC,EAC7B,MAAO,GAEX,MAAM,OAAE0P,EAAM,QAAE7C,EAAO,MAAE+yB,EAAK,MAAEsE,EAAK,QAAE+K,EAAO,SAAEO,EAAQ,SAAED,EAAQ,UAAEE,EAAWtyK,GAAIssG,EAAUxxF,KAAK,cAAE8+G,IAAqB5rI,MACnH,OAAEs6F,GAAWiqD,EACb/jH,EAAiC,QAAzBlnB,EAAKw2J,EAAUtvI,YAAyB,IAAPlnB,EAAgBA,EAAKirI,EAAO/jH,KACrE+5D,EAAcv6F,KAAK8hH,eAA6C,QAA7BntF,EAAK4vH,EAAOhqD,mBAAgC,IAAP5lE,EAAgBA,EAAK,IAC7F,UAAE+iG,GAAc13H,KAAKukJ,OAC3B,IAAIjrB,EACA5B,IACA4B,EAASsS,EAAcpiI,KAAKkuH,EAAW,CACnCjpC,MAAOqhF,EACPv9B,OACAC,OACAhyG,OACA85D,SACAC,cACA59E,KAAqF,QAA9Ewa,EAAgC,QAA1BG,EAAKw4I,EAAUpyE,aAA0B,IAAPpmE,OAAgB,EAASA,EAAG3a,YAAyB,IAAPwa,EAAgBA,EAAK,EAClHszI,aAAa,EACbnsD,cAGR,MAAMvkB,EAA4H,QAAnHsc,EAA4E,QAAtED,EAAgB,OAAXkjB,QAA8B,IAAXA,OAAoB,EAASA,EAAO94F,YAAyB,IAAP41E,EAAgBA,EAAK51E,SAAyB,IAAP61E,EAAgBA,EAAK,OACzJuD,EAA8B,QAArBtD,EAAKt2G,KAAK45G,aAA0B,IAAPtD,EAAgBA,EAAKyiE,EAC3DtqF,EAAQqhF,EAAUrhF,MAClBiqF,EAASjqF,EAAM8jD,GACfulC,EAASrpF,EAAM+jD,GACfomC,EAAU5F,GAAap+B,EAAMxI,YAAYssC,IACzCG,EAAU7F,GAAan+B,EAAMzI,YAAY0rC,IAC/C,IAAI/xH,EAAW,MAAKitH,GAAuB,OAAVyB,QAA4B,IAAVA,EAAmBA,EAAQliC,WAAcqmC,WAClF5F,GAAuB,OAAV+F,QAA4B,IAAVA,EAAmBA,EAAQvmC,WAAcqmC,IAC9EiL,IACA/9H,GAAY,UAASitH,GAA0B,OAAbqR,QAAkC,IAAbA,EAAsBA,EAAWP,WAAiB9Q,GAAavkF,EAAMq1F,OAE5HM,IACAr+H,EAAW,MAAKitH,GAA2B,OAAdsR,QAAoC,IAAdA,EAAuBA,EAAYF,WAAkBpR,GAAavkF,EAAM21F,UAAmBr+H,GAElJ,MAAMjX,EAAW,CACb8qE,QACAC,gBAAiB9f,EACjBh0C,YAEI7d,SAAU6nI,GAAoBruB,EACtC,OAAIquB,EACOp2D,GAAco2D,EAAgB,CACjCthF,QACA8jD,OACAmmC,SACAjE,QACAjiC,OACAslC,SACAiB,QACA+K,UACAO,WACAD,WACAE,YACA1qE,QACA7f,QACAukB,aACAxvE,GAED6qE,GAAc7qE,EACzB,CACAwhH,gBACI,IAAIh3I,EAAIqb,EAAI2C,EAAIH,EAAIi/E,EACpB,MAAM,GAAEpkG,EAAE,KAAEhF,EAAI,KAAEulI,EAAI,KAAEC,EAAI,MAAEumC,EAAK,MAAEn/D,EAAK,QAAEtrB,EAAO,OAAEi2D,GAAWvkJ,MAC1D,KAAEwgC,EAAI,OAAE85D,EAAM,YAAEH,EAAW,cAAEC,GAAkBmqD,EACrD,MAAgB,OAATv3I,QAA0B,IAATA,OAAkB,EAASA,EAAK1L,SAAWixI,GAAQC,GACvE,MAAO,GAEX,MAAM4d,EAAa,CACf,CACIG,WAAY,WACZv+I,KACAmwG,OAAQqwB,EACRl0B,SAAUtsG,EACV4iB,QAAS05D,EACTk3B,MAAO,CACH5/D,KAAoE,QAA7DtsC,EAAe,OAAVsgG,QAA4B,IAAVA,EAAmBA,EAAQm/D,SAA0B,IAAPz/J,EAAgBA,EAAKk5H,GAErG+R,OAAQ,CACJ1pD,MAAO0pD,EAAO1pD,MACdr6D,KAA0E,QAAnElJ,EAA4B,QAAtB3C,EAAK4vH,EAAO/jH,YAAyB,IAAP7L,EAAgBA,EAAK6L,SAAyB,IAAPlJ,EAAgBA,EAAK,mBACvGgjE,OAAgF,QAAvE8b,EAA8B,QAAxBj/E,EAAKotH,EAAOjqD,cAA2B,IAAPnjE,EAAgBA,EAAKmjE,SAA2B,IAAP8b,EAAgBA,EAAK,mBAC7Gjc,YAA6B,OAAhBA,QAAwC,IAAhBA,EAAyBA,EAAc,EAC5EC,cAAiC,OAAlBA,QAA4C,IAAlBA,EAA2BA,EAAgB,KAIhG,OAAOg2D,CACX,CACAzc,yBAAwB,iBAAE2B,EAAgB,gBAAEI,IACxC,MAAM1kF,EAAW,IACXs/G,EAAgB,IACtBh7B,EAAiBz8H,SAAS08H,IACtBA,EAAgBhnB,MAAK,CAACg2B,EAAQ91D,KAC1B,IAAIn1E,EAAIqb,EAAI2C,EAAIH,EAChB,MAAMmiG,EAASt5H,KAAK45K,iBAAiBr1B,EAAQ91D,GACvC9xE,EAAkF,QAA1EgY,EAA4B,QAAtBrb,EAAKm1E,EAAMiP,aAA0B,IAAPpkF,OAAgB,EAASA,EAAGqD,YAAyB,IAAPgY,EAAgBA,EAAK,EAC/G2d,EAA4E,QAAtEhb,EAAgB,OAAXgiG,QAA8B,IAAXA,OAAoB,EAASA,EAAO38G,YAAyB,IAAP2a,EAAgBA,EAAK3a,EAC9E,QAAhCwa,EAAKn3B,KAAK8zJ,wBAAqC,IAAP38H,GAAyBA,EAAGqjH,QAAS,GAAEx6I,KAAKgS,yBAAyBuyI,EAAOvyI,KAAM,CACvHoa,KAAM,EACNkmB,GAAIA,EACJ2qG,qBAAqB,EACrBjsF,WACA2pF,KAAMa,GACN30H,OAAQ,EACRq0H,SAASv+H,GACL4nI,EAAO5nI,KAAOA,CAClB,GACF,GACJ,IAEN+4H,EAAgB78H,SAAS88H,IACrBA,EAAepnB,MAAM/I,IACjB,IAAIlsG,EAC6B,QAAhCA,EAAKtZ,KAAK8zJ,wBAAqC,IAAPx6I,GAAyBA,EAAGkhI,QAAS,GAAEx6I,KAAKgS,yBAAyBwzG,EAAMxzG,KAAM,CACtHoa,KAAM,EACNkmB,GAAI,EACJ7L,MAAOuqB,EACPA,SAAUs/G,EACV31B,KAAMa,GACN30H,OAAQ,EACRq0H,SAAWp3D,IACP0hC,EAAM1hC,QAAUA,CAAO,GAE7B,GACJ,GAEV,CACA8vD,oBAAmB,iBAAE0B,IACjBA,EAAiBz8H,SAAS08H,IACtBv1I,KAAKqlL,aAAa9vC,EAAgB,GAE1C,CACAvB,6BAA6BuB,GACzBv1I,KAAKqlL,aAAa9vC,EACtB,CACA8vC,aAAa9vC,GACTA,EAAgBhnB,MAAK,CAACg2B,EAAQ91D,KAC1B,IAAIn1E,EAAIqb,EAAI2C,EACZ,MAAMgiG,EAASt5H,KAAK45K,iBAAiBr1B,EAAQ91D,GACvC9xE,EAAkF,QAA1EgY,EAA4B,QAAtBrb,EAAKm1E,EAAMiP,aAA0B,IAAPpkF,OAAgB,EAASA,EAAGqD,YAAyB,IAAPgY,EAAgBA,EAAK,EACrH4vH,EAAO5nI,KAA8E,QAAtE2a,EAAgB,OAAXgiG,QAA8B,IAAXA,OAAoB,EAASA,EAAO38G,YAAyB,IAAP2a,EAAgBA,EAAK3a,CAAI,GAE9H,CACAi9J,iBAAiBr1B,EAAQ91D,GACrB,IAAIn1E,EAAIqb,EAAI2C,EACZ,MAAM,KAAEi7G,EAAO,GAAE,KAAEC,EAAO,GAAI+R,QAAUhqD,YAAa00D,GAAqBj9I,GAAIssG,EAAUxxF,KAAK,cAAE8+G,IAAqB5rI,MAC9G,UAAE03H,GAAc13H,KAAKukJ,OACrB/jH,EAA6B,QAArBlnB,EAAKm1E,EAAMjuD,YAAyB,IAAPlnB,EAAgBA,EAAKirI,EAAO/jH,KACjE85D,EAASiqD,EAAOjqD,OAChBC,EAAoC,OAAtB00D,QAAoD,IAAtBA,EAA+BA,EAAoB,EAC/FtyI,EAAkF,QAA1E2a,EAA4B,QAAtB3C,EAAK85D,EAAMiP,aAA0B,IAAP/oE,OAAgB,EAASA,EAAGhY,YAAyB,IAAP2a,EAAgBA,EAAK,EACrH,IAAIgiG,EAcJ,OAbI5B,IACA4B,EAASsS,EAAcpiI,KAAKkuH,EAAW,CACnCjpC,MAAOA,EAAMA,MACb8jD,OACAC,OACAhyG,OACA85D,SACAC,cACA59E,OACA8tJ,aAAa,EACbnsD,cAGDgb,CACX,CACAke,iBACI,OAAOx3I,KAAKwlH,MAAM5wF,OACtB,EAEJsvJ,GAAc75H,UAAY,gBAC1B65H,GAAc33K,KAAO,UACrB0iB,GAAW,CACPmgF,GAASoB,KACV0zE,GAAcl7K,UAAW,aAAS,GACrCimB,GAAW,CACPmgF,GAASoB,KACV0zE,GAAcl7K,UAAW,gBAAY,GACxCimB,GAAW,CACPmgF,GAASoB,KACV0zE,GAAcl7K,UAAW,aAAS,GACrCimB,GAAW,CACPmgF,GAASoB,KACV0zE,GAAcl7K,UAAW,aAAS,GACrCimB,GAAW,CACPmgF,GAASoB,KACV0zE,GAAcl7K,UAAW,gBAAY,GACxCimB,GAAW,CACPmgF,GAASoB,KACV0zE,GAAcl7K,UAAW,iBAAa,GACzCimB,GAAW,CACPmgF,GAASoB,KACV0zE,GAAcl7K,UAAW,YAAQ,GACpCimB,GAAW,CACPmgF,GAASoB,KACV0zE,GAAcl7K,UAAW,YAAQ,GACpCimB,GAAW,CACPmgF,GAASoB,KACV0zE,GAAcl7K,UAAW,eAAW,GACvCimB,GAAW,CACPmgF,GAASoB,KACV0zE,GAAcl7K,UAAW,gBAAY,GACxCimB,GAAW,CACPmgF,GAASoB,KACV0zE,GAAcl7K,UAAW,iBAAa,GACzCimB,GAAW,CACPmgF,GAASoC,KACV0yE,GAAcl7K,UAAW,mBAAe,GAC3CimB,GAAW,CACPmgF,GAAS+B,KACV+yE,GAAcl7K,UAAW,kBAAc,GChhBnC,MAAMs8K,WAAwBrmE,GACjC1zG,YAAYs0G,GACRvwF,MAAM,CAAEuwF,YAAWG,UAAW,CAACpC,GAAmB2E,oBACtD,CACAm2B,eACI,MAAO,EACX,ECPJ,IAAIzpH,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAIO,MAAMolK,WAAmBn4F,GAC5B7hF,cACI+jB,SAASzsB,WACT7C,KAAK40B,SAAU,EACf50B,KAAK+5F,MAAQ,qBACb/5F,KAAKm8F,QAAU,EACfn8F,KAAKq8F,QAAU,EACfr8F,KAAKu8F,KAAO,CAChB,EAEJttE,GAAW,CACPmgF,GAASiB,IACTjkB,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3Ck4F,GAAWv8K,UAAW,eAAW,GACpCimB,GAAW,CACPmgF,GAAS4B,IACT5kB,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3Ck4F,GAAWv8K,UAAW,aAAS,GAClCimB,GAAW,CACPmgF,GAASwB,MACTxkB,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3Ck4F,GAAWv8K,UAAW,eAAW,GACpCimB,GAAW,CACPmgF,GAASwB,MACTxkB,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3Ck4F,GAAWv8K,UAAW,eAAW,GACpCimB,GAAW,CACPmgF,GAASwB,GAAO,IAChBxkB,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3Ck4F,GAAWv8K,UAAW,YAAQ,GCtCjC,IA+FIw8K,GA/FAv2J,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EACIq0E,GAAwC,SAAUt3E,EAASu3E,EAAYlqF,EAAGmqF,GAC1E,SAASC,EAAMvzF,GAAS,OAAOA,aAAiBmJ,EAAInJ,EAAQ,IAAImJ,GAAE,SAAUokB,GAAWA,EAAQvtB,EAAQ,GAAI,CAC3G,OAAO,IAAKmJ,IAAMA,EAAImkB,WAAU,SAAUC,EAASuY,GAC/C,SAAS0tD,EAAUxzF,GAAS,IAAMo/E,EAAKkU,EAAUj3E,KAAKrc,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC1F,SAASwpE,EAASzzF,GAAS,IAAMo/E,EAAKkU,EAAU,SAAStzF,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC7F,SAASm1D,EAAKv9E,GAAUA,EAAOya,KAAOiR,EAAQ1rB,EAAO7B,OAASuzF,EAAM1xF,EAAO7B,OAAO+iB,KAAKywE,EAAWC,EAAW,CAC7GrU,GAAMkU,EAAYA,EAAUhrF,MAAMwT,EAASu3E,GAAc,KAAKh3E,OAClE,GACJ,EAgBA,MAAMgoK,WAA6B3mE,GAC/BvzG,cACI+jB,SAASzsB,WACT7C,KAAKkoC,cAAWnmC,CACpB,EAEJktB,GAAW,CACPmgF,GAASgB,KACVq1E,GAAqBz8K,UAAW,gBAAY,GAC/C,MAAM08K,WAAwCvnE,GAC1C5yG,YAAY64K,EAAUN,EAASS,EAAUnmE,EAAa3vB,EAAO4vB,GACzD/uF,MAAM8uF,EAAa3vB,EAAO4vB,GAC1Br+G,KAAKokL,SAAWA,EAChBpkL,KAAK8jL,QAAUA,EACf9jL,KAAKukL,SAAWA,CACpB,EAEJ,MAAMoB,WAAoCD,GACtCn6K,cACI+jB,SAASzsB,WACT7C,KAAKuM,KAAO,WAChB,EAEJ,MAAMq5K,WAA0CF,GAC5Cn6K,cACI+jB,SAASzsB,WACT7C,KAAKuM,KAAO,iBAChB,EAEJ,MAAMs5K,WAA2BpmD,GAC7Bl0H,cACI+jB,SAASzsB,WACT7C,KAAK0jH,QAAU,EACnB,EAEJz0F,GAAW,CACPmgF,GAASwB,GAAO,KACjBi1E,GAAmB78K,UAAW,eAAW,GAC5C,MAAM88K,WAA+BrmD,GACjCl0H,cACI+jB,SAASzsB,WACT7C,KAAKo+F,SAAW,UACpB,EAEJnvE,GAAW,CACPmgF,GAASwD,KACVkzE,GAAuB98K,UAAW,gBAAY,GACjD,MAAM+8K,GACFx6K,cACIvL,KAAK+nB,MAAQ,MACT,MAAMy9F,EAAQ,IAAIia,GAElB,OADAja,EAAMzrB,MAAQ,QACPyrB,CACV,EAJY,EAKjB,EAEJv2F,GAAW,CACPmgF,GAASoB,KACVu1E,GAAkB/8K,UAAW,WAAO,GACvCimB,GAAW,CACPmgF,GAASoB,KACVu1E,GAAkB/8K,UAAW,YAAQ,GACxCimB,GAAW,CACPmgF,GAASgB,KACV21E,GAAkB/8K,UAAW,iBAAa,GAE7C,SAAWw8K,GACPA,EAAYA,EAAY,QAAU,GAAK,OACvCA,EAAYA,EAAY,SAAW,GAAK,OAC3C,CAHD,CAGGA,KAAgBA,GAAc,CAAC,IAClC,MAAMQ,GAAW,IAAIhsI,GACrB,SAAS09C,GAAY9xC,EAAM79B,GACvB,MAAM,UAAEw5E,EAAS,WAAEC,EAAU,SAAE5E,EAAQ,WAAEC,GAAe90E,EACxDi+J,GAASzkF,UAAYA,EACrBykF,GAASxkF,WAAaA,EACtBwkF,GAASppF,SAAWA,EACpBopF,GAASnpF,WAAaA,EACtBmpF,GAASpgI,KAAOA,EAChBogI,GAASx3K,EAAI,EACbw3K,GAASp+F,EAAI,EACbo+F,GAASr/F,UAAY,OACrBq/F,GAASt/F,aAAe,MACxB,MAAM,MAAEzD,EAAK,OAAEtzD,GAAWq2J,GAASj2F,cACnC,MAAO,CAAE9M,QAAOtzD,SACpB,CACA,SAASs2J,GAAclsF,GACnB,GAAqB,kBAAVA,IAAuB8I,GAAMoO,iBAAiBlX,GAAQ,CAC7D,MAAMmsF,EAAgB,QAEtB,OADA10F,GAAOG,SAAU,uCAAsCoI,+CAAmDmsF,MACnG,OACX,CACA,OAAOnsF,CACX,CACA,MAAMosF,GACF56K,cACIvL,KAAK+5F,MAAQ,OACjB,EAEJ9qE,GAAW,CACPmgF,GAAS8B,KACVi1E,GAA0Bn9K,UAAW,aAAS,GACjD,MAAMo9K,WAA8BvnE,GAChCtzG,cACI+jB,SAASzsB,WACT7C,KAAK4lD,KAAO,IAAIugI,EACpB,EAEG,MAAME,WAAsBf,GAC/B/5K,cACI+jB,SAASzsB,WACT7C,KAAKomK,eAAiBj4C,GAAUlrE,OAAOjjD,KAAKogH,aAAcvuB,IAC1D7xF,KAAK+yI,mBAAqB5kB,GAAUlrE,OAAOjjD,KAAKsgH,eAAgBzuB,IAChE7xF,KAAK45G,MAAQ,MACT,MAAM4L,EAAQ,IAAIqgE,GAMlB,OALArgE,EAAMzrB,MAAQ,QACdyrB,EAAMhkB,WAAa,OACnBgkB,EAAM5oB,SAAW,GACjB4oB,EAAM3oB,WAAa,sBACnB2oB,EAAM9B,QAAU,GACT8B,CACV,EARY,GASbxlH,KAAKuyJ,SAAW,MACZ,MAAM/sC,EAAQ,IAAIqgE,GAKlB,OAJArgE,EAAMzrB,MAAQ,QACdyrB,EAAM5oB,SAAW,EACjB4oB,EAAM3oB,WAAa,sBACnB2oB,EAAM9B,QAAU,GACT8B,CACV,EAPe,GAQhBxlH,KAAK2lH,OAAS,CACV2gE,MAAO,MACH,MAAM9gE,EAAQ,IAAIsgE,GAIlB,OAHAtgE,EAAMzrB,MAAQ,QACdyrB,EAAMhkB,WAAa,OACnBgkB,EAAM5oB,SAAW,GACV4oB,CACV,EANM,GAOP+gE,OAAQ,MACJ,MAAM/gE,EAAQ,IAAIsgE,GAIlB,OAHAtgE,EAAMzrB,MAAQ,QACdyrB,EAAMhkB,WAAa,OACnBgkB,EAAM5oB,SAAW,GACV4oB,CACV,EANO,GAORghE,MAAO,MACH,MAAMhhE,EAAQ,IAAIsgE,GAIlB,OAHAtgE,EAAMzrB,MAAQ,QACdyrB,EAAMhkB,WAAa,OACnBgkB,EAAM5oB,SAAW,GACV4oB,CACV,EANM,GAOPkS,eAAW31H,EACXX,MAAO,IAAI2kL,IAEf/lL,KAAKymL,YAAc,EACnBzmL,KAAK0mL,QAAU,EACf1mL,KAAKokL,SAAW,QAChBpkL,KAAK8jL,QAAU,OACf9jL,KAAKukL,SAAW,QAChBvkL,KAAKykL,YAAc,EAAE,EAAG,GACxBzkL,KAAK0kL,WAAa,CAAC,UAAW,WAC9B1kL,KAAK2mL,UAAY,UACjB3mL,KAAK4mL,YAAc,QACnB5mL,KAAK6mL,iBAAmB,EACxB7mL,KAAK8mL,WAAa,QAClB9mL,KAAK+mL,gBAAkB,EACvB/mL,KAAK45F,UAAW,EAChB55F,KAAK03H,eAAY31H,EACjB/B,KAAKwkL,UAAY,SACjBxkL,KAAKgnL,SAAW,OAChBhnL,KAAKinL,iBAAkB,EACvBjnL,KAAKknL,WAAa,IAAI3B,GACtBvlL,KAAKmnL,YAAc,IAAI5B,GACvBvlL,KAAK0hJ,QAAU,IAAI+jC,GACnBzlL,KAAK4/G,eAAiB,IAAIwmE,EAC9B,CACAgB,kBAAkBtX,EAAW7oF,GACzB,IAAI3tE,EACJ,MAAM,MAAEsgG,EAAK,SAAE24C,EAAQ,YAAEk0B,GAAgBzmL,KACnCwlH,EAAQsqD,EAAUtqD,MACxB,GAAIsqD,EAAUuX,SAAW7hE,GAA6B,IAApBsqD,EAAU1oF,MACxC,OAAOq/F,EAEX,MAAMhgG,EAAOqpF,EAAU1oF,MAAQ,EAAImrE,EAAW34C,EACxC0tE,EAAW5vF,GAAY8tB,EAAO/+B,GAC9B8gG,EAAuB,EAC7B,OAAI9gG,EAAKmW,SAAW3V,EAAKhE,MAAQskG,GAAwB9gG,EAAKmW,SAAW3V,EAAKt3D,OAAS43J,GAGnFD,EAAS33J,QAAUs3D,EAAKt3D,OAFjB82J,EAKJa,EAAS33J,OAAS82J,GAAuC,QAAvBntK,EAAKmtE,EAAKi9B,eAA4B,IAAPpqG,EAAgBA,EAAK,EACjG,CACAkuK,eAAe1X,EAAW7oF,GACtB,MAAM,YAAEw/F,GAAgBzmL,KAClB81D,EAAM91D,KAAKonL,kBAAkBtX,EAAW7oF,GAC9C,MAAO,CACHnxB,MACAoD,MAAOutH,EACPh+F,OAAQg+F,EACR7wH,KAAM6wH,EAEd,CAKAgB,SAAS3X,EAAW7oF,EAAMygG,EAAmB,IAAI1vK,KAC7C,GAAIivE,EAAKhE,OAAS,GAAKgE,EAAKt3D,QAAU,EAClC,OAAO+3J,EAEXA,EAAiB/7K,IAAImkK,EAAW7oF,GAChC,MAAM0gG,EAAwB,EACxBjkE,EAAU1jH,KAAKwnL,eAAe1X,EAAW7oF,GACzChE,EAAQgE,EAAKhE,MAAQygC,EAAQ9tD,KAAO8tD,EAAQxqD,MAC5CvpC,EAASs3D,EAAKt3D,OAAS+zF,EAAQ5tD,IAAM4tD,EAAQj7B,OACnD,GAAIxF,GAAS,GAAKtzD,GAAU,GAAKmgJ,EAAU1uK,OAAS,EAChD,OAAOsmL,EAEX,IAAIE,EAAW,EACXxgC,EAAa,EACbygC,EAAe1zJ,IACf2zJ,EAAehY,EAAU1uK,MAC7B,MAAMs3B,EAAWo3I,EAAUp3I,SACrBqvJ,EAAW,IAAIpgG,GAAKV,EAAKz4E,EAAIk1G,EAAQ9tD,KAAMqxB,EAAKW,EAAI87B,EAAQ5tD,IAAKmtB,EAAOtzD,GACxEq4J,EAAYD,EAASpiJ,QAC3B,IAAK,IAAI/hC,EAAI,EAAGA,EAAI80B,EAASp3B,OAAQsC,IAAK,CACtC,MAAMxC,EAAQs3B,EAAS90B,GAAGxC,MACpB6mL,EAAavvJ,EAAS0uH,GAAYhmJ,MAClC8mL,EAAaF,EAAU/kG,MAAQ+kG,EAAUr4J,OAC/Ci4J,GAAYxmL,EACZ,MAAM+mL,EAAgBD,EAAaF,EAAUr4J,OAASq4J,EAAU/kG,MAC1DmlG,EAAaF,EAAaF,EAAU/kG,MAAQ+kG,EAAUr4J,OACtD04J,EAAmBD,EAAaH,EAAcL,EACpD,IAAIU,EAAkBH,EAAgBP,EAAYE,EAClD,MAAM3iG,EAAQz6E,KAAK0G,IAAIi3K,EAAiBC,GAAkB59K,KAAK2G,IAAIg3K,EAAiBC,GAC9Ej0J,EAAO3pB,KAAKw9E,IAAIy/F,EAAwBxiG,GAC9C,GAAI9wD,EAAOwzJ,EAAc,CACrBA,EAAexzJ,EACf,QACJ,CAEAuzJ,GAAYxmL,EACZknL,EAAkBH,EAAgBP,EAAYE,EAC9C,IAAIzhK,EAAQ6hK,EAAaF,EAAUx5K,EAAIw5K,EAAUpgG,EACjD,IAAK,IAAIjhE,EAAIygI,EAAYzgI,EAAI/iB,EAAG+iB,IAAK,CACjC,MAAMiS,EAAQF,EAAS/R,GACjBnY,EAAI05K,EAAa7hK,EAAQ2hK,EAAUx5K,EACnCo5E,EAAIsgG,EAAaF,EAAUpgG,EAAIvhE,EAC/B/kB,EAAU8mL,EAAaxvJ,EAAMx3B,MAASwmL,EACtC3kG,EAAQilG,EAAa5mL,EAASgnL,EAC9B34J,EAASu4J,EAAaI,EAAiBhnL,EACvCinL,EAAW,IAAI5gG,GAAKn5E,EAAGo5E,EAAG3E,EAAOtzD,GACvC3vB,KAAKwoL,SAAST,EAAUQ,GACxBvoL,KAAKynL,SAAS7uJ,EAAO2vJ,EAAUb,GAC/BI,GAAgBlvJ,EAAMx3B,MACtBilB,GAAS/kB,CACb,CACI4mL,GACAF,EAAUpgG,GAAK0gG,EACfN,EAAUr4J,QAAU24J,IAGpBN,EAAUx5K,GAAK85K,EACfN,EAAU/kG,OAASqlG,GAEvBlhC,EAAaxjJ,EACbgkL,EAAW,EACXC,EAAe1zJ,IACfvwB,GACJ,CAEA,MAAMskL,EAAaF,EAAU/kG,MAAQ+kG,EAAUr4J,OAC/C,IAAItJ,EAAQ6hK,EAAaF,EAAUx5K,EAAIw5K,EAAUpgG,EACjD,IAAK,IAAIhkF,EAAIwjJ,EAAYxjJ,EAAI80B,EAASp3B,OAAQsC,IAAK,CAC/C,MAAM4K,EAAI05K,EAAa7hK,EAAQ2hK,EAAUx5K,EACnCo5E,EAAIsgG,EAAaF,EAAUpgG,EAAIvhE,EAC/B05E,EAAOrnE,EAAS90B,GAAGxC,MAAQ0mL,EAC3B7kG,EAAQ+kG,EAAU/kG,OAASilG,EAAanoF,EAAO,GAC/CpwE,EAASq4J,EAAUr4J,QAAUu4J,EAAa,EAAInoF,GAC9CwoF,EAAW,IAAI5gG,GAAKn5E,EAAGo5E,EAAG3E,EAAOtzD,GACvC3vB,KAAKwoL,SAAST,EAAUQ,GACxBvoL,KAAKynL,SAAS/uJ,EAAS90B,GAAI2kL,EAAUb,GACrCrhK,GAAS6hK,EAAajlG,EAAQtzD,CAClC,CACA,OAAO+3J,CACX,CACAc,SAAST,EAAUQ,GACf,MAAME,EAAMzoL,KAAK0mL,QAAU,EACrBgC,EAAahgG,IACR,CACH9yB,KAAM8yB,EAAIl6E,EACVsnD,IAAK4yB,EAAId,EACT1uB,MAAOwvB,EAAIl6E,EAAIk6E,EAAIzF,MACnBwF,OAAQC,EAAId,EAAIc,EAAI/4D,SAGtBg5J,EAAcD,EAAUX,GACxBa,EAAcF,EAAUH,GACxBM,EAAQhnL,OAAO6B,KAAKilL,GAC1BE,EAAMhwK,SAASmpJ,IACN1xC,GAAQq4D,EAAY3mB,GAAO4mB,EAAY5mB,KACxCumB,EAASpgG,OAAOsgG,EAAKzmB,EACzB,GAER,CACA5tD,cACI,OAAO5f,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,IAAKA,KAAKgN,KACN,OAEJ,MAAM,KAAEA,EAAI,QAAE82K,EAAO,SAAEM,EAAQ,SAAEG,EAAQ,YAAEE,EAAW,WAAEC,EAAU,UAAEiC,GAAc3mL,KAC5EqlI,EAAiBrlI,KAAK2lH,OAAO+R,UAC7BitD,EAAa,IAAInB,GACvBmB,EAAW3xE,OAASyxE,EACpBE,EAAWx+J,MAAQu+J,EACnBC,EAAWj0J,SACX,MAAMo4J,EAAsBA,CAACr6F,EAAOrH,EAAQ,EAAGzyE,KAC3C,IAAI2E,EAAIqb,EAAI2C,EACZ,IAAIkuF,EACA6f,IACA7f,EAAQxlH,KAAK8sB,IAAI8+G,cAAcpiI,KAAK67H,EAAgB,CAAE52C,gBAE5C1sF,IAAVyjH,IAIAA,EADK4+D,GAC8B,QAA1B9qK,EAAKm1E,EAAM21F,UAA8B,IAAP9qK,EAAgBA,EAGnD,IAEZ,IAAIyvK,EAAkBxE,GAAsC,QAA1B5vJ,EAAK85D,EAAM81F,UAA8B,IAAP5vJ,EAAgBA,EAAayyD,EACjG2hG,EAAkB9C,GAAc8C,GAChC,MAAM1B,GAAU54F,EAAM/1D,SACtB,IAAI8H,EAAOmmJ,EACoB,kBAApBoC,EACPvoJ,EAAOuoJ,GAEF1B,GAAWV,IAChBnmJ,EAAOmkJ,EAAWh1D,QAAQo5D,IAE9B,MAAMjZ,EAAY,CACdrhF,QACArH,QACAzyE,SACAvT,MAAO,EACPokH,QACAhlF,OACA69E,OAAQr+G,KACRqnL,SACA3uJ,SAAU,IAmBd,OAjBI2uJ,EACAvX,EAAU1uK,MAAQ0iL,GAAoC,QAAzBxsJ,EAAKm3D,EAAMq1F,UAA6B,IAAPxsJ,EAAgBA,EAAS,GAGvFm3D,EAAM/1D,SAAS7f,SAAS+f,IACpB,MAAMowJ,EAAiBF,EAAoBlwJ,EAAOwuD,EAAQ,EAAG0oF,GACvD1uK,EAAQ4nL,EAAe5nL,OACzBukB,MAAMvkB,IAAWwhG,SAASxhG,IAAoB,IAAVA,IAGxC0uK,EAAU1uK,OAASA,EACnB0uK,EAAUp3I,SAAS/oB,KAAKq5K,GAAe,IAE3ClZ,EAAUp3I,SAASxE,MAAK,CAACnpB,EAAG2d,IACjBA,EAAEtnB,MAAQ2J,EAAE3J,SAGpB0uK,CAAS,EAEpB9vK,KAAKipL,SAAWH,EAAoB97K,EACxC,GACJ,CACA8oI,iBACI,OAAOthD,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAO,EACX,GACJ,CACA0wB,SACI,OAAO8jE,GAAUx0F,UAAM,OAAQ,GAAQ,kBAC7BA,KAAKsmI,yBACLtmI,KAAKy1I,aACf,GACJ,CACAnP,mBACI,OAAO9xC,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,IAAKA,KAAKs/G,gBACN,OAEJt/G,KAAKs/G,iBAAkB,EACvB,MAAM,MAAExvF,EAAK,SAAEm5J,GAAajpL,KAC5B,IAAK8vB,IAAUm5J,EACX,OAEJ,MAAMn0C,EAAahlH,EAAMqoI,gBACzB,IAAKrjB,EACD,OAEJ,MAAMo0C,EAAc,GACdjpJ,EAAYwuD,IACd,IAAIn1E,EACJ4vK,EAAYv5K,KAAK8+E,GACS,QAAzBn1E,EAAKm1E,EAAM/1D,gBAA6B,IAAPpf,GAAyBA,EAAGT,QAAQonB,EAAS,EAEnFA,EAASjgC,KAAKipL,UACd,MAAM,eAAE7iB,EAAc,mBAAErzB,GAAuB/yI,KACzC0wB,EAAUg7I,GACLA,EAAUh7I,OAAOw4J,GAAcn2F,IAClC,MAAM44B,EAAO,IAAIkuD,GACXsP,EAAY,IAAInvI,GACtBmvI,EAAUnmL,IAAMwiL,GAAY4D,KAC5B,MAAMC,EAAa,IAAIrvI,GACvBqvI,EAAWrmL,IAAMwiL,GAAY8D,MAC7Bv2F,EAAM9D,OAAO,CAAC08B,EAAMw9D,EAAWE,GAAY,IAGnDrpL,KAAKomK,eAAiB11I,EAAO01I,GAC7BpmK,KAAK+yI,mBAAqBriH,EAAOqiH,EACrC,GACJ,CACAw3B,mBAAmB97E,GACf,IAAIn1E,EACJ,MAAM0oG,EAAoD,QAAhC1oG,EAAKtZ,KAAKiiH,wBAAqC,IAAP3oG,OAAgB,EAASA,EAAG4oG,qBAC9F,OAAOzzB,IAAUuzB,IAAqBvzB,EAAM44F,QAAUrnL,KAAKinL,gBAC/D,CACAsC,cAAc96F,EAAOssF,GACjB,IAAIzhK,EACJ,MAAM,UAAEo+G,EAAW5qG,KAAK,cAAE8+G,IAAqB5rI,KAC/C,IAAK03H,EACD,MAAO,CAAC,EAEZ,MAAM,SAAE99B,EAAQ,SAAE2qF,EAAQ,SAAEH,EAAQ,QAAEN,EAAO,WAAEgD,EAAU,gBAAEC,EAAe,YAAEH,EAAW,iBAAEC,GAAqB7mL,KACxGs6F,EAAS7L,EAAM44F,OAASP,EAAaF,EACrCrsF,EAAc9L,EAAM44F,OAASN,EAAkBF,EAC/C5jL,EAAS2oI,EAAcpiI,KAAKkuH,EAAW,CACzCpZ,SAAUt+G,KAAKgS,GACfy8E,MAAOA,EAAMA,MACbrH,MAAOqH,EAAMrH,MACbzyE,OAAgC,QAAvB2E,EAAKm1E,EAAM95E,cAA2B,IAAP2E,OAAgB,EAASA,EAAGm1E,MACpE81F,WACAT,UACAM,WACA5jJ,KAAMiuD,EAAMjuD,KACZ85D,SACAC,cACAX,WACA6wE,YAAasQ,IAEjB,OAAkB,OAAX93K,QAA8B,IAAXA,EAAoBA,EAAS,CAAC,CAC5D,CACAwyI,cACI,OAAOjhD,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,IAAKA,KAAK8vB,MACN,OAEJ,MAAM,SAAE8pE,EAAUgmB,gBAAkB/sG,MAAQ2tB,KAAM23I,EAAiBh+E,YAAaqvF,EAAwBlvF,OAAQ+9E,EAAmB99E,YAAa+9E,GAAgC1yH,MAAQm0C,MAAO0vF,IAAyB,WAAE3C,EAAU,gBAAEC,EAAe,YAAEH,EAAW,iBAAEC,EAAgB,WAAEK,EAAU,YAAEC,GAAiBnnL,KAC7S80I,EAAa90I,KAAK8vB,MAAMqoI,gBACxB3vE,EAAQxoF,KAAKynL,SAASznL,KAAKipL,SAAU,IAAIthG,GAAK,EAAG,EAAGmtD,EAAW7xD,MAAO6xD,EAAWnlH,SACjF+5J,EAAY1pL,KAAK2pL,eAAenhG,GAChCohG,EAAqB5pL,KAAK6pL,wBAChC7pL,KAAKmrK,mBAAmB3iF,GACxB,MAAMshG,EAAeA,CAACn+D,EAAMl9B,EAAO87E,KAC/B,IAAIjxJ,EAAIqb,EAAI2C,EAAIH,EAAIi/E,EAAIC,EACxB,MAAM3tB,EAAMF,EAAM5jF,IAAI6pF,GACtB,IAAK/F,EAED,YADAijC,EAAKr9B,SAAU,GAGnB,MAAM9tD,EAAO+pI,QAA0CxoK,IAApBo2K,EAAgCA,EAAkB1pF,EAAMjuD,KACrF25D,EAA2E,QAA5D7gF,EAAMixJ,EAAqBif,EAAyB,SAAuB,IAAPlwK,EAAgBA,EAAK,EAC9G,IAAIghF,EAASssF,EACTrc,QAA4CxoK,IAAtBs2K,EACtB/9E,EAAS+9E,EAEJ5pF,EAAM44F,SACX/sF,EAASwsF,GAEb,IAAIvsF,EAAcssF,EACdtc,QAAsDxoK,IAAhCu2K,EACtB/9E,EAAc+9E,EAET7pF,EAAM44F,SACX9sF,EAAcwsF,GAElB,MAAMztD,EAASt5H,KAAKupL,cAAc96F,EAAO87E,GACnCwf,EAAY9D,GAAqF,QAAtEtxJ,EAAgB,OAAX2kG,QAA8B,IAAXA,OAAoB,EAASA,EAAO94F,YAAyB,IAAP7L,EAAgBA,EAAK6L,GACpI,GAA+E,QAA1ElJ,EAAgB,OAAXgiG,QAA8B,IAAXA,OAAoB,EAASA,EAAO1/B,gBAA6B,IAAPtiE,EAAgBA,EAAKsiE,EAAU,CAClH,MAAMvzE,EAAQw8E,GAAMqC,mBAAmB1kE,GAAMukE,WAAW3iG,WAClDkkB,EAAMu8E,GAAMqC,mBAAmB1kE,GAAMwkE,SAAS5iG,WACpDupH,EAAKnrF,KAAQ,2BAA0Bna,MAAUC,IACrD,MAEIqlG,EAAKnrF,KAAOupJ,EAEhBp+D,EAAKxxB,YAA4F,QAA7EhjE,EAAgB,OAAXmiG,QAA8B,IAAXA,OAAoB,EAASA,EAAOn/B,mBAAgC,IAAPhjE,EAAgBA,EAAKgjE,EAC9HwxB,EAAKrxB,OAAS2rF,GAAuF,QAAxE7vE,EAAgB,OAAXkjB,QAA8B,IAAXA,OAAoB,EAASA,EAAOh/B,cAA2B,IAAP8b,EAAgBA,EAAK9b,GAClIqxB,EAAKpxB,YAA4F,QAA7E8b,EAAgB,OAAXijB,QAA8B,IAAXA,OAAoB,EAASA,EAAO/+B,mBAAgC,IAAP8b,EAAgBA,EAAK9b,EAC9HoxB,EAAK/wB,WAAassF,EAClBv7D,EAAKouD,OAAQ,EACbpuD,EAAKn9G,EAAIk6E,EAAIl6E,EACbm9G,EAAK/jC,EAAIc,EAAId,EACb+jC,EAAK1oC,MAAQyF,EAAIzF,MACjB0oC,EAAKh8F,OAAS+4D,EAAI/4D,OAClBg8F,EAAKr9B,SAAU,CAAI,EAEvBtuF,KAAKomK,eAAev3C,cAAcgrD,IAAMhhK,SAAS8yG,GAASm+D,EAAan+D,EAAMA,EAAKl9B,OAAO,KACzFzuF,KAAK+yI,mBAAmBlkB,cAAcgrD,IAAMhhK,SAAS8yG,IACjD,MAAM4+C,EAAqBvqK,KAAKuqK,mBAAmB5+C,EAAKl9B,OACxDk9B,EAAKr9B,QAAUi8E,GAAsBqf,EAAmBh+K,IAAI+/G,EAAKl9B,OAC7Dk9B,EAAKr9B,SACLw7F,EAAan+D,EAAMA,EAAKl9B,MAAO87E,EACnC,IAEJ,MAAMyf,EAAgBA,CAACpkI,EAAM6oC,EAAOg8E,EAAa1nK,KAC7C,MAAMwqB,EAAOm8J,EAAU9kL,IAAI6pF,GACrB+2B,EAAiB,OAATj4F,QAA0B,IAATA,OAAkB,EAASA,EAAKxqB,GAC1DyiH,GAIL5/D,EAAKA,KAAO4/D,EAAM5/D,KAClBA,EAAKi3C,WAAa2oB,EAAMz9F,MAAM80E,WAC9Bj3C,EAAKg3C,SAAW4oB,EAAMz9F,MAAM60E,SAC5Bh3C,EAAK47C,WAAagkB,EAAMz9F,MAAMy5E,WAC9B57C,EAAKplB,KAAOiqI,GAAuC,OAAzBgf,QAA0D,IAAzBA,EAAkCA,EAA2CjkE,EAAMz9F,MAAMgyE,MACpJn0C,EAAKg1C,WAAa6vE,OAAc1oK,EAAYolL,EAC5CvhI,EAAK+gC,UAAY6+B,EAAMykE,OACvBrkI,EAAK8gC,aAAe8+B,EAAM0kE,OAC1BtkI,EAAKp3C,EAAIg3G,EAAMh3G,EACfo3C,EAAKgiC,EAAI49B,EAAM59B,EACfhiC,EAAK0oC,SAAU,GAbX1oC,EAAK0oC,SAAU,CAaA,EAEvBtuF,KAAKomK,eACAt3C,YAAY02D,GAAY4D,MACxBvwK,SAAS+sC,GAASokI,EAAcpkI,EAAMA,EAAK6oC,OAAO,EAAO,WAC9DzuF,KAAK+yI,mBAAmBjkB,YAAY02D,GAAY4D,MAAMvwK,SAAS+sC,IAC3D,MAAM2kH,EAAqBvqK,KAAKuqK,mBAAmB3kH,EAAK6oC,OACxD7oC,EAAK0oC,QAAUi8E,GAAsBqf,EAAmBh+K,IAAIg6C,EAAK6oC,OAC7D7oC,EAAK0oC,SACL07F,EAAcpkI,EAAMA,EAAK6oC,MAAO87E,EAAoB,QACxD,IAEJvqK,KAAKomK,eACAt3C,YAAY02D,GAAY8D,OACxBzwK,SAAS+sC,GAASokI,EAAcpkI,EAAMA,EAAK6oC,OAAO,EAAO,WAC9DzuF,KAAK+yI,mBAAmBjkB,YAAY02D,GAAY8D,OAAOzwK,SAAS+sC,IAC5D,MAAM2kH,EAAqBvqK,KAAKuqK,mBAAmB3kH,EAAK6oC,OACxD7oC,EAAK0oC,QAAUi8E,GAAsBqf,EAAmBh+K,IAAIg6C,EAAK6oC,OAC7D7oC,EAAK0oC,SACL07F,EAAcpkI,EAAMA,EAAK6oC,MAAO87E,EAAoB,QACxD,GAER,GACJ,CACAY,mBAAmB3iF,GACfA,EAAM3vE,SAAQ,CAAC6vE,EAAKyhG,KAChBA,EAAczwB,aAAe,CACzBlrJ,EAAGk6E,EAAIl6E,EAAIk6E,EAAIzF,MAAQ,EACvB2E,EAAGc,EAAId,EACV,GAET,CACAiiG,wBACI,MAAM9M,EAAQ,IAAIhnK,IACZkqB,EAAYwuD,IACd,IAAIn1E,GACAtZ,KAAKuqK,mBAAmB97E,IAAWA,EAAM95E,QAAUooK,EAAMnxK,IAAI6iF,EAAM95E,UACnEooK,EAAM1kK,IAAIo2E,GAEY,QAAzBn1E,EAAKm1E,EAAM/1D,gBAA6B,IAAPpf,GAAyBA,EAAGT,QAAQonB,EAAS,EAGnF,OADAA,EAASjgC,KAAKipL,UACPlM,CACX,CACA4M,eAAenhG,GACX,MAAM,OAAEm9B,EAAM,MAAE/L,EAAK,SAAE24C,EAAQ,YAAEk0B,EAAW,SAAErC,EAAUt3J,KAAK,cAAE8+G,IAAqB5rI,KAC9EoqL,EAAgB,MAChBV,EAAY,IAAI1xK,IAiHtB,OAhHAwwE,EAAM3vE,SAAQ,CAAC6vE,EAAK+F,KAChB,IAAIn1E,EAAIqb,EAAI2C,EACZ,IAAK8sJ,GAA4B,IAAhB31F,EAAMrH,MACnB,OAEJ,MAAMijG,EAAiB3hG,EAAIzF,MAAQ,EAAIwjG,EACjC6D,EAAkB5hG,EAAI/4D,OAAS,EAAI82J,EACnC8D,EAAiBC,IACnB,MAAMC,EAAe,EACrB,OAAQD,EAAW5tF,SAAWlU,EAAIzF,MAAQwnG,GAAgBD,EAAW5tF,SAAWlU,EAAI/4D,OAAS86J,CAAY,EAE7G,IAAIz9B,EAAYv+D,EAAM44F,OAAS54F,EAAM+2B,MAAQ/2B,EAAM+2B,MAAMxgG,cACrD0lK,EAAY,GAChB,MAAMC,EAAchlE,EAAOvkH,MACrBwpL,EAAaD,EAAY5iK,MACzB8iK,EAAcngL,KAAK2D,KAA2B,EAAtBu8K,EAAWhuF,UAAgB5iD,GAAKomD,uBAAyB,IACnF3R,EAAM44F,SACFsD,EAAYjzD,UACZgzD,EAAyF,QAA5EpxK,EAAKsyH,EAAcpiI,KAAKmhL,EAAYjzD,UAAW,CAAEjpC,MAAOA,EAAMA,eAA6B,IAAPn1E,EAAgBA,EAAK,GAEjHqxK,EAAY5nL,MACjB2nL,EAAYj8F,EAAMA,MAAMk8F,EAAY5nL,OAG5C,IAIIynL,EAJAM,EAAYpzF,GAAYgzF,EAAWE,GACnCF,GAAaI,EAAU7nG,MAAQonG,IAC/BK,EAAY,IAGhB,IAAItrF,EAAc,GAClB,GAAI3Q,EAAM44F,OAAQ,CACdmD,EAAa7kE,EAAO6gE,MACpB,MAAMuE,EAAYA,KACd,MAAMC,EAAcV,GAAmBI,EAAYE,EAAWhuF,SAAWiuF,EAAc,GACjFI,EAAc,CAACtlE,EAAO2gE,MAAO3gE,EAAO4gE,OAAQ5gE,EAAO6gE,OACzD,IAAK,MAAMz+J,KAASkjK,EAAa,CAC7B,MAAM,MAAEhoG,EAAK,OAAEtzD,GAAW+nE,GAAYs1D,EAAWjlI,GACjD,GAAI4H,EAASq7J,GAAeT,EAAcxiK,GACtC,SAEJ,GAAIk7D,GAASonG,EACT,MAAO,CAAEtiK,QAAOq3E,iBAAar9F,GAGjC,MAAMmwH,EAAUl4E,GAAKx9B,KAAKwwI,EAAWq9B,EAAgBW,EAAajjK,EAAOA,EAAMq2E,UAC/E,GAAI8zB,GACY,MAAZA,IACCnqG,IAAU49F,EAAO6gE,QAAW4D,EAAchhL,KAAK8oH,KAAYA,EAAQr3E,SAAS,MAC7E,MAAO,CAAE9yB,QAAOq3E,YAAa8yB,EAErC,CAEA,MAAMg5D,EAAYxzF,GAAYs1D,EAAWrnC,EAAO6gE,OAChD,OAAI0E,EAAUv7J,QAAUq7J,IAAgBT,EAAc5kE,EAAO6gE,OAClD,CAAEz+J,MAAO49F,EAAO6gE,MAAOpnF,iBAAar9F,GAExC,CAAEgmB,WAAOhmB,EAAWq9F,iBAAar9F,EAAW,EAEvD,IAAIkB,EAAS8nL,KACR9nL,EAAO8kB,OAAS2iK,IACjBA,EAAY,GACZznL,EAAS8nL,KAEbP,EAAqC,QAAvB71J,EAAK1xB,EAAO8kB,aAA0B,IAAP4M,EAAgBA,EAAKgxF,EAAO6gE,MACzEpnF,EAA4C,QAA7B9nE,EAAKr0B,EAAOm8F,mBAAgC,IAAP9nE,EAAgBA,EAAK,EAC7E,MAEIkzJ,EADqB,IAAhB/7F,EAAMrH,MACEwyB,EAGA24C,EAEjB,MAAM44B,EAAYzzF,GAAY0H,GAAe4tD,EAAWw9B,GACxD,GAAID,EAAcC,GAEd,OAGJ,GAAIW,EAAUloG,MAAQonG,EAAgB,CAClC,MAAMrd,EAAatiK,KAAK4D,MAAO0+I,EAAU1rJ,OAAS+oL,EAAkBc,EAAUloG,OAAS,EACvF+pE,EAAa,GAAEA,EAAUhtD,UAAU,EAAGgtE,GAAYvlJ,SACtD,CACAqjK,EAAYpzF,GAAYgzF,EAAWE,GACnC,MAAMQ,EAAeV,GACjBI,EAAU7nG,MAAQonG,GAClBS,EAAUn7J,OAASw7J,EAAUx7J,OAASk7J,EAAcP,EACxDZ,EAAU/9K,IAAI8iF,EAAO,CACjB+2B,MAAO3jH,OAAO6hB,OAAO,CAAEkiC,KAAMw5C,GAAe4tD,EAAWjlI,MAAOyiK,GAAe/7F,EAAM44F,OAC7E,CACE4C,OAAQ,SACRC,OAAQ,SACR17K,EAAGk6E,EAAIl6E,EAAIk6E,EAAIzF,MAAQ,EACvB2E,EAAGc,EAAId,EAAIc,EAAI/4D,OAAS,GAAKy7J,EAAeN,EAAUn7J,OAAS,EAAIk7J,EAAc,EAAI,IAEvF,CACEZ,OAAQ,OACRC,OAAQ,MACR17K,EAAGk6E,EAAIl6E,EAAIi4K,EACX7+F,EAAGc,EAAId,EAAI6+F,IAEnBrlL,MAAOgqL,EACD,CACExlI,KAAM8kI,EACN3iK,MAAO6iK,EACPX,OAAQ,SACRC,OAAQ,SACR17K,EAAGk6E,EAAIl6E,EAAIk6E,EAAIzF,MAAQ,EACvB2E,EAAGc,EAAId,EAAIc,EAAI/4D,OAAS,EAAIw7J,EAAUx7J,OAAS,EAAIk7J,EAAc,QAEnE9oL,GACR,IAEC2nL,CACX,CACAx1E,UAAUm3E,GACN,MAAO,CAAC,EAAG,EACf,CACAnoE,kBAAkBruF,EAAO45D,GACrB,OAAO,IAAIk3F,GAA4B3lL,KAAKokL,SAAUpkL,KAAK8jL,QAAS9jL,KAAKukL,SAAU1vJ,EAAO45D,EAAOzuF,KACrG,CACAojH,wBAAwBvuF,EAAO45D,GAC3B,OAAO,IAAIm3F,GAAkC5lL,KAAKokL,SAAUpkL,KAAK8jL,QAAS9jL,KAAKukL,SAAU1vJ,EAAO45D,EAAOzuF,KAC3G,CACA+4J,eAAe+W,GACX,IAAIx2J,EAAIqb,EAAI2C,EAAIH,EAChB,IAAKn3B,KAAKinL,kBAAoBnX,EAAUuX,OACpC,MAAO,GAEX,MAAM,QAAE3lC,EAAO,QAAEoiC,EAAO,SAAEM,EAAQ,SAAEG,EAAQ,SAAEyC,EAAUh1K,GAAIssG,EAAQ,OAAEqH,EAAQ74F,KAAK,cAAE8+G,IAAqB5rI,MACpG,MAAEyuF,GAAUqhF,GACV5nI,SAAU6nI,GAAoBruB,EAChC9nC,EAAQk2D,EAAU1oF,MAAQqH,EAAM21F,GAAuC,QAA1B9qK,EAAKm1E,EAAM21F,UAA8B,IAAP9qK,EAAgBA,EAAK0tK,EAC1G,IAAIjhI,EAAU,GACd,MAAMuzE,EAASt5H,KAAKupL,cAAczZ,GAAW,GACvC/1E,EAAsI,QAA7HziE,EAA4E,QAAtE3C,EAAgB,OAAX2kG,QAA8B,IAAXA,OAAoB,EAASA,EAAO94F,YAAyB,IAAP7L,EAAgBA,EAAKm7I,EAAUtvI,YAAyB,IAAPlJ,EAAgBA,EAAK,OACnKg0J,EAAW3lE,EAAOvkH,MAAM2B,IACxBwoL,EAAiB5lE,EAAOvkH,MAAMs2H,UACpC,GAAI4zD,GAAYC,EAAgB,CAC5B,IAAIb,EAAY,GAChB,GAAIa,EACAb,EAAY9+C,EAAcpiI,KAAK+hL,EAAgB,CAAE98F,cAEhD,CACD,MAAMrtF,EAAQqtF,EAAM68F,GACC,kBAAVlqL,GAAsBwhG,SAASxhG,KACtCspL,EAAYl6D,GAAQpvH,GAE5B,CACIspL,IACI/kE,EAAOvkH,MAAMkD,OACbyhD,GAAY,MAAK4/D,EAAOvkH,MAAMkD,cAElCyhD,GAAW2kI,EAEnB,CACA,MAAM57I,EAAW,CACb8qE,QACAC,gBAAiB9f,EACjBh0C,WAEJ,OAAIgqH,EACOp2D,GAAco2D,EAAgB,CACjCthF,MAAOqhF,EAAUrhF,MACjB95E,OAAoC,QAA3BwiB,EAAK24I,EAAUn7J,cAA2B,IAAPwiB,OAAgB,EAASA,EAAGs3D,MACxErH,MAAO0oF,EAAU1oF,MACjB08F,UACAM,WACAG,WACA3qE,QACA7f,QACAukB,aACAxvE,GAEH8qE,GAAU7zD,EAGR4zD,GAAc7qE,GAFV,EAGf,CACAwhH,gBAEI,MAAO,EACX,EAEJ+1B,GAAch8H,UAAY,gBAC1Bg8H,GAAc95K,KAAO,UACrB0iB,GAAW,CACPmgF,GAASwB,GAAO,KACjBy1E,GAAcr9K,UAAW,mBAAe,GAC3CimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBy1E,GAAcr9K,UAAW,eAAW,GACvCimB,GAAW,CACPmgF,GAASmB,KACV81E,GAAcr9K,UAAW,gBAAY,GACxCimB,GAAW,CACPmgF,GAASoB,KACV61E,GAAcr9K,UAAW,eAAW,GACvCimB,GAAW,CACPmgF,GAASoB,KACV61E,GAAcr9K,UAAW,gBAAY,GACxCimB,GAAW,CACPmgF,GAASmC,KACV80E,GAAcr9K,UAAW,mBAAe,GAC3CimB,GAAW,CACPmgF,GAAS+B,KACVk1E,GAAcr9K,UAAW,kBAAc,GAC1CimB,GAAW,CACPmgF,GAASoB,KACV61E,GAAcr9K,UAAW,iBAAa,GACzCimB,GAAW,CACPmgF,GAAS8B,KACVm1E,GAAcr9K,UAAW,mBAAe,GAC3CimB,GAAW,CACPmgF,GAASiC,GAAW,KACrBg1E,GAAcr9K,UAAW,wBAAoB,GAChDimB,GAAW,CACPmgF,GAAS8B,KACVm1E,GAAcr9K,UAAW,kBAAc,GAC1CimB,GAAW,CACPmgF,GAASiC,GAAW,KACrBg1E,GAAcr9K,UAAW,uBAAmB,GAC/CimB,GAAW,CACPmgF,GAASiB,KACVg2E,GAAcr9K,UAAW,gBAAY,GACxCimB,GAAW,CACPmgF,GAASgB,KACVi2E,GAAcr9K,UAAW,iBAAa,GACzCimB,GAAW,CACPmgF,GAASmB,KACV81E,GAAcr9K,UAAW,iBAAa,GACzCimB,GAAW,CACPmgF,GAASmB,KACV81E,GAAcr9K,UAAW,gBAAY,GACxCimB,GAAW,CACPmgF,GAASkB,KACV+1E,GAAcr9K,UAAW,uBAAmB,GC70B/C,MAAMwiL,GAAQ,CACVjuE,KAAM,YACNkuE,IAAK,YACL5tH,OAAQ,YACR6tH,UAAW,YACX9kK,KAAM,YACN+kK,QAAS,YACTC,QAAS,YACTC,IAAK,SAEHC,GAAW,CAAC,EACLC,GAAc,CACvBngL,IAAI4rJ,GACA,OAAO31J,OAAOmH,UAAUM,eAAeE,KAAKgiL,GAAOh0B,EACvD,EACAw0B,YAAYx0B,GACR,MAA6B,cAAtBg0B,GAAMh0B,EACjB,EACAy0B,QAAQz0B,GACJ,MAA6B,UAAtBg0B,GAAMh0B,EACjB,EACA00B,YAAY10B,GACR,MAA6B,cAAtBg0B,GAAMh0B,EACjB,EACI20B,kBACA,OAAOtqL,OAAO6B,KAAK8nL,GACvB,EACIY,qBACA,OAAOpsL,KAAKmsL,YAAYzyK,QAAQu9B,GAAMj3C,KAAKgsL,YAAY/0I,IAC3D,EACIo1I,iBACA,OAAOrsL,KAAKmsL,YAAYzyK,QAAQu9B,GAAMj3C,KAAKisL,QAAQh1I,IACvD,EACIq1I,qBACA,OAAOtsL,KAAKmsL,YAAYzyK,QAAQu9B,GAAMj3C,KAAKksL,YAAYj1I,IAC3D,GAEG,SAASs1I,GAAwB/0B,EAAYg1B,GAChDhB,GAAMh0B,GAAcg1B,CACxB,CACO,SAASC,GAAsBD,EAAW19I,GAC7C,IAAIx1B,EACJwyK,GAASU,GAAal9C,GAAU,CAAgC,QAA9Bh2H,EAAKwyK,GAASU,UAA+B,IAAPlzK,EAAgBA,EAAK,CAAC,EAAGw1B,GACrG,CACO,SAAS49I,GAAiBF,GAC7B,IAAIlzK,EACJ,OAAsC,QAA9BA,EAAKwyK,GAASU,UAA+B,IAAPlzK,EAAgBA,EAAK,CAAC,CACxE,CCxCA,MAAMqzK,GAA4B,CAC9BpvE,KAAMi3D,GACNiX,IAAK3P,GACLj+G,OAAQiiH,GACR4L,UAAWpL,GACX15J,KAAM47J,GACNqJ,IAAK3lB,GACLylB,QAASzH,GACT0H,QAASvF,IAEPuG,GAAmB,CAAC,EACpBC,GAAkB,CAAC,EACnBC,GAAyB,CAAC,EACzB,SAASC,GAAev1B,EAAYg1B,EAAWQ,EAAMl+I,EAAUm+I,GAClEL,GAAiBp1B,GAAcw1B,EAC/BH,GAAgBr1B,GAAc1oH,EAC9Bg+I,GAAuBt1B,GAAcy1B,EACrCV,GAAwB/0B,EAAYg1B,EACxC,CACO,SAAS5oC,GAAU4oC,EAAW3sE,GACjC,IAAIvmG,EACJ,MAAM4zK,EAA2D,QAAtC5zK,EAAKszK,GAAiBJ,UAA+B,IAAPlzK,EAAgBA,EAAKqzK,GAA0BH,GACxH,GAAIU,EACA,OAAO,IAAIA,EAAkBrtE,GAEjC,MAAM,IAAIn4G,MAAO,oCAAmC8kL,IACxD,CACO,SAASW,GAAkBX,GAC9B,OAAOK,GAAgBL,EAC3B,CACO,SAASY,GAAuBZ,GACnC,OAAOM,GAAuBN,EAClC,CCtCO,MAAMa,GAAoC,CAC7Ct4B,KAAM,CACF,CACIxoJ,KAAMknK,GAAWlnK,KACjBq3E,SAAU,QAEd,CACIr3E,KAAM4hI,GAAa5hI,KACnBq3E,SAAU,YAIT0pG,GAA8B,CACvCv4B,KAAM,CACF,CACIxoJ,KAAM,SACNq3E,SAAU,UAEd,CACIr3E,KAAM,WACNq3E,SAAU,UAIT2pG,GAA4C,CACrDx4B,KAAM,CACF,CACIxoJ,KAAM,SACNq3E,SAAU,UAEd,CACIr3E,KAAM,SACNq3E,SAAU,UClCtB,SAAS3uB,GAAU7kD,EAAOo9K,GACtB,MAAMvqL,EAAS,CAAC,EAChB,IAAK,MAAMgoB,KAAK7a,EAAO,CACnB,MAAM6mC,EAAIu2I,EAAWviK,IAAM,CAAEzc,GAAMA,GACnCvL,EAAOgoB,GAAKgsB,EAAE7mC,EAAM6a,GAAI7a,EAC5B,CACA,OAAOnN,CACX,CACA,SAAS44K,GAAUzrK,GACf,OAAgB,MAATA,GAAiBA,aAAiBzD,OAASyD,EAAM,aAAczD,KAC1E,CACA,SAAS8gL,GAAcxiK,EAAGw5D,GACtB,GAAS,MAALx5D,EACA,MAAO,CAAC,EAEZ,KAAMA,aAAate,OACf,OAAOse,EAEX,MAAM4pJ,EAAQpwF,EAAIowF,MAClB,GAAa,MAATA,GAAiBgH,GAAUhH,GAC3B,MAAM,IAAIntK,MAAM,2DAEpB,MAAMzE,EAAS,CAAC,EAIhB,OAHA4xK,EAAMh8J,SAAQ,CAAC4/B,EAAG70C,KACdX,EAAOw1C,GAAKxtB,EAAErnB,EAAE,IAEbX,CACX,CACA,SAASyqL,GAAaziK,EAAGw5D,GACrB,OAAS,MAALx5D,EACO,CAAC,IAER4wJ,GAAU5wJ,GACHA,EAEJw5D,EAAI23F,QAAUnxJ,EAAEtR,KAAKwC,GAAM,CAACA,KAAM,CAAC8O,EAC9C,CACA,SAAS0iK,GAAuB1iK,EAAGw5D,GAC/B,GAAS,MAALx5D,EACA,MAAO,CAAC,EAEZ,KAAMA,aAAate,OACf,OAAOse,EAEX,MAAM4pJ,EAAQpwF,EAAIowF,MAClB,GAAa,MAATA,GAAiBgH,GAAUhH,GAC3B,MAAM,IAAIntK,MAAM,oEAEpB,MAAMzE,EAAS,CAAC,EAIhB,OAHA4xK,EAAMh8J,SAAQ,CAAC4/B,EAAG70C,KACdX,EAAOw1C,GAAKxtB,EAAErnB,EAAE,IAEbX,CACX,CACA,SAAS2qL,GAAmBxpL,GACxB,MAAMnB,EAASpB,OAAO6hB,OAAO,CAAC,EAAGtf,GAGjC,cAFOnB,EAAO,eACPA,EAAO,SACPgyD,GAAUhyD,EAAQ,CACrB2xK,OAAQ6Y,GACR5Y,MAAO6Y,GACPpR,gBAAiBqR,IAEzB,CACA,SAASE,GAAsBzpL,GAC3B,MAAMnB,EAASpB,OAAO6hB,OAAO,CAAC,EAAGtf,GAGjC,cAFOnB,EAAO,eACPA,EAAO,SACPgyD,GAAUhyD,EAAQ,CACrB2xK,OAAQ6Y,GACR5Y,MAAO6Y,GACPpR,gBAAiBqR,IAEzB,CACA,SAASG,GAAkB19K,GACvB,OAAOA,CACX,CACA,MAAM29K,GAAoB,CACtBxwE,KAAMuwE,GACNrC,IAAKmC,GACL/vH,OAAQgwH,GACRnC,UAAWoC,GACXlnK,KAAMknK,GACNjC,IAAKiC,GACLnC,QAASmC,GACTlC,QAASkC,IAEN,SAASE,GAAqB5pL,GACjC,IAAIkV,EACJ,MAAM/M,EAA+B,QAAvB+M,EAAKlV,EAAQmI,YAAyB,IAAP+M,EAAgBA,EAAK,OAC5D27C,EAAY84H,GAAkBxhL,GACpC,OAAsB,OAAd0oD,QAAoC,IAAdA,EAAuBA,EAAY64H,IAAmB1pL,EACxF,CC5FO,SAAS6pL,GAAU1qL,EAAQC,GAC9B,GAAI8gB,GAAc/gB,IAAW+gB,GAAc9gB,GAAS,CAChD,MAAMP,EAAS,CAAC,EAchB,OAbApB,OAAO6B,KAAKH,GAAQsV,SAAS9V,IAErBE,EAAOF,GADPA,KAAOS,EACOyqL,GAAU1qL,EAAOR,GAAMS,EAAOT,IAG9BQ,EAAOR,EACzB,IAEJlB,OAAO6B,KAAKF,GAAQqV,SAAS9V,IACnBA,KAAOQ,IACTN,EAAOF,GAAOS,EAAOT,GACzB,IAEGE,CACX,CACA,OAAK0J,MAAMhL,QAAQ4B,KAAYoJ,MAAMhL,QAAQ6B,IAAa7C,GAAS4C,KAAY5C,GAAS6C,GAC7ED,EAEJC,CACX,CACA,SAAS7C,GAASS,GACd,OAAOA,GAA0B,kBAAVA,CAC3B,CACA,SAASkjB,GAAc9V,GACnB,OAAO7N,GAAS6N,IAAMA,EAAEjD,cAAgB1J,MAC5C,CC5BA,MAAM2pL,GAAQ,CACV/5K,OAAQ,SACR6lF,KAAM,OACN5F,IAAK,MACL+/D,SAAU,WACVy8B,gBAAiB,mBAEfC,GAAuB,CAAC,EACjBC,GAAmB,CAC5BxiL,IAAIyiL,GACA,OAAOxsL,OAAOmH,UAAUM,eAAeE,KAAKgiL,GAAO6C,EACvD,EACIC,gBACA,OAAOzsL,OAAO6B,KAAK8nL,GACvB,GAEG,SAAS+C,GAA0BF,EAAUpB,GAChDkB,GAAqBE,GAAYpB,CACrC,CACO,SAASuB,GAAqBH,GACjC,IAAI/0K,EACJ,OAAiD,QAAzCA,EAAK60K,GAAqBE,UAA8B,IAAP/0K,EAAgBA,EAAK,CAAC,CACnF,CCjBA,MAAMm1K,GAAU,CACZ/2B,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACrFuP,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,YAE9EynB,GAA0Bx9K,OAAO,2BACjCy9K,GAAiCz9K,OAAO,kCACxC09K,GAAsB19K,OAAO,gBACpC29K,GAAO,OACPC,GAAS,SACTC,GAAS,SACR,MAAMC,GACTzjL,YAAYnH,GACRA,EAAU6pL,GAAU,CAAC,EAAe,OAAZ7pL,QAAgC,IAAZA,EAAqBA,EAAU,CAAC,GAC5E,MAAM,UAAEijF,EAAY,KAAI,QAAEonG,EAAU,MAASrqL,EACvC0qC,EAAW9uC,KAAKivL,8BAA8BjvL,KAAKkvL,eACzD,GAAI7nG,EAAW,CACX,MAAM,OAAE8nG,EAAM,UAAEC,EAAS,MAAEC,EAAK,UAAEC,GAAcjoG,EAC1CkoG,EAAiBA,CAAChjL,EAAM4/K,EAAaqD,KACnCA,IACA1gJ,EAASviC,GAAQ0hL,GAAUn/I,EAASviC,GAAOijL,GAC3CrD,EAAYtzK,SAASxT,IACjB,MAAMmyJ,EAAanyJ,EACnBypC,EAAS0oH,GAAcy2B,GAAUn/I,EAAS0oH,GAAag4B,EAAa,IAE5E,EAEJD,EAAe,SAAU1tL,OAAO6B,KAAKorC,GAAWqgJ,GAChDI,EAAe,YAAaxD,GAAYK,eAAgBgD,GACxDG,EAAe,QAASxD,GAAYM,WAAYgD,GAChDE,EAAe,YAAaxD,GAAYO,eAAgBgD,GACxDvD,GAAYI,YAAYtzK,SAASxT,IAC7B,MAAMmyJ,EAAanyJ,EACboqL,EAAcpoG,EAAUmwE,GAC1Bi4B,IACIA,EAAYpxE,SACZoxE,EAAYpxE,OAAS,CAAE,CAACm5C,GAAai4B,EAAYpxE,SAErDvvE,EAAS0oH,GAAcy2B,GAAUn/I,EAAS0oH,GAAai4B,GAC3D,GAER,CACAzvL,KAAKyuL,QAAsB,OAAZA,QAAgC,IAAZA,EAAqBA,EAAUzuL,KAAK0vL,aACvE1vL,KAAKoyB,OAASvwB,OAAOqiF,OAAOp1C,EAChC,CACA4gJ,aACI,OAAOjB,EACX,CACAjoG,yBACI,MAAO,CACH1wB,IAAK,CAAC,EACNoD,MAAO,CAAC,EACRuvB,OAAQ,CAAC,EACT7yB,KAAM,CAAC,EACPkuE,UAAW,EACXlqB,MAAO,CACHhlF,SAAS,EACTgxB,KAAM,aACN27C,eAAWx/F,EACXy/F,WAAYqtF,GACZjyF,SAAU,GACVC,WAAY78F,KAAK68F,WACjB9C,MAAO,mBAEXyrB,MAAO,CACHjkB,eAAWx/F,EACXy/F,gBAAYz/F,EACZ66F,SAAU,GACVC,WAAY78F,KAAK68F,WACjB6mB,QAAS,EACTl5B,cAAUzoF,EACVg4F,MAAO,kBACP29B,eAAW31H,EACX8/H,YAAY,EACZE,iBAAiB,GAErBn7G,KAAM,CACFq8D,MAAO,EACP8W,MAAO,sBAEXopC,KAAM,CACFlgD,MAAO,EACPtmE,KAAM,EACNo9E,MAAO,sBAEX2pC,UAAW,CACP,CACIppC,OAAQ,qBACRE,SAAU,CAAC,EAAG,KAGtB0pC,WAAY,CACRtvG,SAAS,EACT4L,KAAM,mBACN85D,OAAQ,kBACRC,YAAa,EACbirB,MAAO,CACH5wF,SAAS,EACT2sE,eAAWx/F,EACXy/F,gBAAYz/F,EACZ66F,SAAU,GACVC,WAAY78F,KAAK68F,WACjB6mB,QAAS,EACT3pB,MAAO,kBACPvP,cAAUzoF,IAI1B,CACAykF,2BACI,MAAO,CACHk7D,QAAS,CACL9sH,SAAS,EACTsT,cAAUnmC,GAEdusF,SAAS,EACTmxB,cAAc,EACdG,eAAgB,CACZ/sG,KAAM,CACF2tB,KAAM,SACN25D,YAAa,GAEjBkkB,OAAQ,CACJM,WAAY,GAEhB/4D,KAAM,CACFm0C,MAAO,UAGf2lB,eAAgB,QAExB,CACAl5B,8BACI,OAAO3kF,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG1jB,KAAKmtL,qBAAsB,CAAEhzF,YAAa,EAAGC,cAAe,EAAG26E,kBAAchzK,EAAWw4F,YAAa,EAAGC,SAAU,CAAC,GAAIC,eAAgB,EAAG+qB,MAAO,CAChL5wF,SAAS,EACT2sE,eAAWx/F,EACXy/F,gBAAYz/F,EACZ66F,SAAU,GACVC,WAAY78F,KAAK68F,WACjB9C,MAAO,kBACP29B,eAAW31H,EACX04K,UAAWqU,IACZxnB,OAAQ,CACP1yI,SAAS,EACTmlE,MAAO,qBACPoC,QAAS,EACTE,QAAS,EACTE,KAAM,IAElB,CACA/V,+BACI,MAAMmpG,EAAiB3vL,KAAKmtL,oBAC5B,OAAOtrL,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGisK,GAAiB,CAAEjuC,QAAS7/I,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGisK,EAAejuC,SAAU,CAAEpoB,YAAQv3H,EAAW6hF,SAAU,CAC/Ir3E,KAAM,WAEtB,CACAi6E,+BACI,MAAMmpG,EAAiB3vL,KAAKmtL,oBAC5B,OAAOtrL,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGisK,GAAiB,CAAEjwE,eAAgB,UAAWgiC,QAAS7/I,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGisK,EAAejuC,SAAU,CAAE99D,SAAU,CACvJr3E,KAAM,WAEtB,CACAi6E,kCACI,MAAMmpG,EAAiB3vL,KAAKmtL,oBAC5B,OAAOtrL,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGisK,GAAiB,CAAEjuC,QAAS7/I,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGisK,EAAejuC,SAAU,CAAE99D,SAAU,CAC5Hr3E,KAAM,WAEtB,CACAi6E,0CACI,MAAO,CACH5xD,SAAS,EACTimE,MAAO,SACPl+E,KAAM,EACNuxG,QAAS,GACT3zB,YAAa,EACbm9B,eAAW31H,EAEnB,CACAykF,oCACI,MAAO,WACX,CACAA,0BACI,MAAO,CACHopG,WAAY,CACRthG,SAAS,EACT9tD,KAAM,SAEVkjF,QAAS,CACL5tD,IAAK,GACLoD,MAAO,GACPuvB,OAAQ,GACR7yB,KAAM,IAEVgkD,MAAO,CACHhlF,SAAS,EACTgxB,KAAM,QACN27C,eAAWx/F,EACXy/F,WAAYqtF,GACZjyF,SAAU,GACVC,WAAY78F,KAAK68F,WACjB9C,MAAO,kBACPqE,SAAU4wF,GAAWa,8BAEzBt9B,SAAU,CACN39H,SAAS,EACTgxB,KAAM,WACN27C,eAAWx/F,EACXy/F,gBAAYz/F,EACZ66F,SAAU,GACVC,WAAY78F,KAAK68F,WACjB9C,MAAO,qBACPqE,SAAU4wF,GAAWa,8BAEzBr9B,SAAU,CACN59H,SAAS,EACTgxB,KAAM,WACN27C,eAAWx/F,EACXy/F,gBAAYz/F,EACZ66F,SAAU,GACVC,WAAY78F,KAAK68F,WACjB9C,MAAO,qBACP83B,QAAS,GACTzzB,SAAU4wF,GAAWa,8BAEzB/6B,OAAQ,CACJlxE,SAAUmrG,GACVl9D,QAAS,GACTzvB,UAAW,CAAC,EACZvvF,KAAM,CACF+3I,SAAU,GACVC,SAAU,EACVtG,OAAQ,CACJ1pD,WAAO94F,EACP4a,KAAM,GACN49E,YAAa,EACbmpB,QAAS,GAEb8B,MAAO,CACHzrB,MAAO,QACPwH,eAAWx/F,EACXy/F,gBAAYz/F,EACZ66F,SAAU,GACVC,WAAY78F,KAAK68F,WACjB66B,eAAW31H,IAGnBwpJ,cAAc,EACdE,WAAY,CACRlH,OAAQ,CACJ5nI,KAAM,IAEVwrI,YAAa,CACT3nH,KAAM,mBAEV4nH,cAAe,CACX5nH,KAAM,sBAEVo/E,eAAgB,CACZp/E,KAAM,mBAEVglF,MAAO,CACHzrB,MAAO,qBAInB2nD,QAAS,CACL9sH,SAAS,EACTzO,MAAO,UACPsgB,MAAO,GAEX27D,UAAW,CAAC,EAEpB,CACA6sF,8BAA8B78J,GAC1B,MAAM09J,EAAgB,CAClBV,UAAWrD,GAAYK,eACvBiD,MAAOtD,GAAYM,WACnBiD,UAAWvD,GAAYO,eACvB4B,gBAAiB,IAarB,OAXArsL,OAAO6nB,QAAQomK,GAAej3K,SAAQ,EAAEk3K,EAAUC,MAC9C,MAAMzjL,EAAOwjL,EACPE,EAAejwL,KAAKkwL,cAAcxD,GAAiBngL,IACzDyjL,EAAQn3K,SAAS4E,IACb,MAAM0yK,EAAQ1yK,EACT2U,EAAO+9J,KACR/9J,EAAO+9J,GAASlC,GAAU,CAAC,EAAG77J,EAAO7lB,IACrC0hL,GAAU77J,EAAO+9J,GAAQF,GAC7B,GACF,IAEC79J,CACX,CACA88J,cACI,MAAMpgJ,EAAWm/I,GAAU,CAAC,EAAGe,GAAWlgJ,UACpCshJ,EAAqBA,CAAC5D,EAAWL,KACnC,MAAMlpL,EAASjD,KAAKkwL,cAAcxD,GAAiBF,IAiBnD,OAhBAvpL,EAAOo7G,OAAS8tE,EAAYxiK,QAAO,CAACjc,EAAK8pJ,KACrC,MAAMzvG,EAAWqlI,GAAuB51B,GAIxC,OAHIzvG,IACAr6C,EAAI8pJ,GAAcx3J,KAAKkwL,cAAcnoI,IAElCr6C,CAAG,GACX,CAAC,GACc,cAAd8+K,IACAvpL,EAAO8xJ,KAAOq5B,GAAiBE,UAAU3kK,QAAO,CAACjc,EAAK2gL,KAClD,MAAMtmI,EAAWymI,GAAqBH,GAItC,OAHItmI,IACAr6C,EAAI2gL,GAAYruL,KAAKkwL,cAAcnoI,IAEhCr6C,CAAG,GACX,CAAC,IAEDzK,CAAM,EAEXotL,EAAY,CACdjB,UAAWgB,EAAmB,YAAarE,GAAYK,gBACvD8B,gBAAiBkC,EAAmB,YAAarE,GAAYK,gBAC7DiD,MAAOe,EAAmB,QAASrE,GAAYM,YAC/CiD,UAAWc,EAAmB,YAAarE,GAAYO,iBAE3D,OAAO2B,GAAUn/I,EAAUuhJ,EAC/B,CACAH,cAAcI,GACV,MAAMC,EAAgBjhD,GAAU,CAACghD,KAC3B,WAAEE,EAAU,WAAE1xH,GAAe9+D,KAAKywL,wBA0BxC,OAzBA9/C,GAAS4/C,GAAe,CAACxrK,EAAGmZ,KACxB,GAAIA,EAAK,eAAgB,CACrB,MAAMn7B,EAAMm7B,EAAK,eACX16B,EAASgtL,EAAW5rL,IAAI7B,GAC9B,GAAc,MAAVS,EACA,MAAM,IAAIkE,MAAM,kDAAoD3E,GAExElB,OAAO6hB,OAAOwa,EAAM16B,EAAQ06B,UACrBA,EAAK,cAChB,CACA,GAAIA,EAAK,iBAAkB,CACvB,MAAMn7B,EAAMm7B,EAAK,iBACX16B,EAASgtL,EAAW5rL,IAAI7B,GAC9B,GAAc,MAAVS,EACA,MAAM,IAAIkE,MAAM,kDAAoD3E,GAExElB,OAAO6hB,OAAOwa,EAAM16B,UACb06B,EAAK,gBAChB,CACA,IAAK,MAAO55B,EAAMlD,KAAUS,OAAO6nB,QAAQwU,GACnC4gC,EAAWlzD,IAAIxK,KACf88B,EAAK55B,GAAQw6D,EAAWl6D,IAAIxD,GAEpC,GACD,CAAC,GACGmvL,CACX,CACAE,wBACI,MAAMD,EAAa,IAAIx4K,IACvBw4K,EAAW7kL,IAAI+iL,GAAyBM,GAAW7B,qBACnDqD,EAAW7kL,IAAIgjL,GAAgC,CAAC,GAChD,MAAM7vH,EAAa,IAAI9mD,IAEvB,OADA8mD,EAAWnzD,IAAIijL,GAAqBI,GAAWnyF,YACxC,CACH2zF,aACA1xH,aAER,CACA4xH,wBAAwBC,EAAgB7hJ,GACpC,OAAOm/I,GAAU0C,EAAgB7hJ,EACrC,EAEJkgJ,GAAWnyF,WAAa,sBACxBmyF,GAAW4B,kBAAoB/uL,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGsrK,GAAWtC,oBAAqB,CAAE33B,KAAM,CAC/FtjJ,OAAQ5P,OAAO6hB,OAAO,CAAC,EAAGsrK,GAAW6B,mBACrCn/F,IAAK7vF,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGsrK,GAAW6B,mBAAoB,CAAE9iK,KAAM,KAC5E0jI,SAAU5vJ,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGsrK,GAAW6B,mBAAoB,CAAExiD,kBAAmB,GAAK7oB,MAAO3jH,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGsrK,GAAW6B,kBAAkBrrE,OAAQ,CAAEqc,YAAY,MAC7LqsD,gBAAiBrsL,OAAO6hB,OAAO,CAAC,EAAGsrK,GAAW6B,mBAC9Cv5F,KAAMz1F,OAAO6hB,OAAO,CAAC,EAAGsrK,GAAW6B,oBACpCxyE,OAAQ,CACPxgD,OAAQh8D,OAAO6hB,OAAO,CAAC,EAAGsrK,GAAW8B,wBACrCrF,IAAK5pL,OAAO6hB,OAAO,CAAC,EAAGsrK,GAAW8B,wBAClClqK,KAAM/kB,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGsrK,GAAW+B,yBAA0B,CAAEn3E,WAAO73G,EAAWw4F,YAAa,EAAGH,cAAe,EAAGI,SAAU,CAAC,GAAIC,eAAgB,EAAG8pD,OAAQ1iJ,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGsrK,GAAWgC,oCAAqC,CAAE72F,YAAa,EAAGC,cAAe,IAAMorB,MAAO,CACjS5wF,SAAS,EACT2sE,eAAWx/F,EACXy/F,gBAAYz/F,EACZ66F,SAAU,GACVC,WAAYmyF,GAAWnyF,WACvB9C,MAAO,kBACP29B,eAAW31H,KAEnB4pL,QAAS9pL,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGsrK,GAAWiC,4BAA6B,CAAE5M,SAAU,OAAQC,UAAW,QAAS//B,OAAQ1iJ,OAAO6hB,OAAO,CAAC,EAAGsrK,GAAWgC,oCAAqCxrE,MAAO,CAClM5wF,SAAS,EACT2sE,eAAWx/F,EACXy/F,gBAAYz/F,EACZ66F,SAAU,GACVC,WAAYmyF,GAAWnyF,WACvB9C,MAAO,qBAEfwjB,KAAM17G,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGsrK,GAAWkC,yBAA0B,CAAEnc,kBAAchzK,EAAWo4F,YAAa,GAAKC,cAAe,EAAGG,YAAa,EAAGC,SAAU,CAAC,GAAIC,eAAgB,EAAG6sE,OAAQ,CAC5L1yI,SAAS,EACTmlE,MAAO,qBACPoC,QAAS,EACTE,QAAS,EACTE,KAAM,GACPgoD,OAAQ1iJ,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGsrK,GAAWgC,oCAAqC,CAAE72F,YAAa,EAAGC,cAAe,EAAGxlE,SAAS,IAAU4wF,MAAO,CACrJ5wF,SAAS,EACT2sE,eAAWx/F,EACXy/F,gBAAYz/F,EACZ66F,SAAU,GACVC,WAAYmyF,GAAWnyF,WACvB9C,MAAO,kBACP29B,eAAW31H,KAEnB2pL,UAAW7pL,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGsrK,GAAW7B,qBAAsB,CAAE5yF,YAAa,EAAGJ,YAAa,EAAGC,cAAe,EAAGI,SAAU,CAAC,GAAIC,eAAgB,EAAG8lF,UAAU,EAAOC,UAAMz+K,EAAW0+K,YAAa,MAAOj7D,MAAO,CACvN5wF,SAAS,EACT2sE,eAAWx/F,EACXy/F,gBAAYz/F,EACZ66F,SAAU,GACVC,WAAYmyF,GAAWnyF,WACvB9C,MAAO,kBACP29B,eAAW31H,GACZulK,OAAQ,CACP1yI,SAAS,EACTmlE,MAAO,qBACPoC,QAAS,EACTE,QAAS,EACTE,KAAM,QAGtByyF,GAAWmC,cAAgBtvL,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGsrK,GAAWtC,oBAAqB,CAAEruE,OAAQ,CAC7FwtE,IAAKhqL,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGsrK,GAAW7B,qBAAsB,CAAEvzE,MAAO,CACvEhlF,SAAS,EACT2sE,eAAWx/F,EACXy/F,WAAY,OACZ5E,SAAU,GACVC,WAAYmyF,GAAWnyF,WACvB9C,MAAO,kBACP83B,QAAS,GACVszC,eAAWpjK,EAAW4kK,gBAAY5kK,EAAWkjK,qBAAiBljK,EAAW+kK,sBAAkB/kK,EAAWmjK,oBAAgBnjK,EAAWglK,qBAAiBhlK,EAAWskK,aAAc,CAC1KzxI,SAAS,EACT2sE,eAAWx/F,EACXy/F,gBAAYz/F,EACZ66F,SAAU,GACVC,WAAYmyF,GAAWnyF,WACvB9C,MAAO,kBACPj8B,OAAQ,EACRynG,SAAU,GACXe,YAAa,CACZ1xI,SAAS,EACT2sE,eAAWx/F,EACXy/F,gBAAYz/F,EACZ66F,SAAU,GACVC,WAAYmyF,GAAWnyF,WACvB9C,MAAO,kBACP2rE,eAAgB,EAChBC,cAAe,IAChBY,YAAa,CACZjlK,OAAQ,GACRi5F,YAAa,GACdJ,YAAa,EAAGC,cAAe,EAAGG,YAAa,EAAGC,SAAU,CAAC,GAAIC,eAAgB,EAAGjQ,SAAU,EAAG08E,kBAAmB,EAAGE,kBAAmB,EAAGE,OAAQ,CACpJ1yI,SAAS,EACTmlE,MAAO,qBACPoC,QAAS,EACTE,QAAS,EACTE,KAAM,GACPkqE,YAAa,CACZllE,eAAWx/F,EACXy/F,gBAAYz/F,EACZ66F,SAAU,GACVC,WAAYmyF,GAAWnyF,WACvB9C,MAAO,kBACPq/C,OAAQ,QAGxB41C,GAAWoC,kBAAoBvvL,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGsrK,GAAWtC,oBAAqB,CAAEruE,OAAQ,CACjGutE,QAAS/pL,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGsrK,GAAW7B,qBAAsB,CAAE1tE,cAAc,EAAO2kE,SAAU,QAASN,QAAS,OAAQS,SAAU,QAASE,YAAa,EAAE,EAAG,GAAIC,WAAY,CAAC,UAAW,WAAYiC,UAAW,UAAWC,YAAa,QAASC,iBAAkB,EAAGC,WAAY,QAASC,gBAAiB,EAAGntF,UAAU,EAAMstF,WAAY,CAChVtyJ,SAAS,EACTmlE,MAAO,qBACPoC,QAAS,EACTE,QAAS,EACTE,KAAM,GACP4qF,YAAa,CACZvyJ,SAAS,EACTmlE,MAAO,qBACPoC,QAAS,IACTE,QAAS,IACTE,KAAM,GACP0qF,iBAAiB,EAAMR,YAAa,EAAGC,QAAS,EAAG9sE,MAAO,CACzDhlF,SAAS,EACTmlE,MAAO,QACPwH,eAAWx/F,EACXy/F,WAAY,OACZ5E,SAAU,GACVC,WAAY,sBACZ6mB,QAAS,GACV6uC,SAAU,CACT39H,SAAS,EACTmlE,MAAO,QACPwH,eAAWx/F,EACXy/F,gBAAYz/F,EACZ66F,SAAU,EACVC,WAAY,sBACZ6mB,QAAS,GACViC,OAAQ,CACP2gE,MAAO,CACH1xJ,SAAS,EACT2sE,eAAWx/F,EACXy/F,WAAY,OACZ5E,SAAU,GACVC,WAAY,sBACZ9C,MAAO,QACPqE,SAAU,YAEdmoF,OAAQ,CACJ3xJ,SAAS,EACT2sE,eAAWx/F,EACXy/F,WAAY,OACZ5E,SAAU,GACVC,WAAY,sBACZ9C,MAAO,QACPqE,SAAU,YAEdooF,MAAO,CACH5xJ,SAAS,EACT2sE,eAAWx/F,EACXy/F,WAAY,OACZ5E,SAAU,GACVC,WAAY,sBACZ9C,MAAO,QACPqE,SAAU,YAEdh9F,MAAO,CACH2mB,MAAO,CACH6M,SAAS,EACT2sE,eAAWx/F,EACXy/F,gBAAYz/F,EACZ66F,SAAU,GACVC,WAAY,sBACZ9C,MAAO,gBAK/Bi1F,GAAWlgJ,SAAW,CAClBsgJ,UAAWJ,GAAW4B,kBACtB1C,gBAAiBc,GAAW4B,kBAC5BvB,MAAOL,GAAWmC,cAClB7B,UAAWN,GAAWoC,mBCjiBnB,MAAMC,WAAkBrC,GAC3BzjL,YAAYnH,GACRkrB,MAAMlrB,EACV,CACA8qL,cACI,MAAMoC,EAAYD,GAAUC,UACtBC,EAAiBF,GAAUE,eAC3BC,EAAe,CACjB53E,MAAO,CACH7f,MAAOu3F,GAEX9rE,MAAO,CACHzrB,MAAOu3F,GAEX5tD,UAAW,CACP,CACIppC,OAAQ,kBACRE,SAAU,CAAC,EAAG,MAIpBi3F,EAAsB,CACxBjsE,MAAO,CACHzrB,MAAOu3F,IAGTI,EAAoB,CACtB38B,KAAM,CACFtjJ,OAAQ5P,OAAO6hB,OAAO,CAAC,EAAG8tK,GAC1B//B,SAAU5vJ,OAAO6hB,OAAO,CAAC,EAAG8tK,GAC5Bl6F,KAAMz1F,OAAO6hB,OAAO,CAAC,EAAG8tK,KAG1BG,EAAgB,CAClB/B,WAAY,CACRpvJ,KAAM,mBAEVo5E,MAAO,CACH7f,MAAOu3F,GAEX/+B,SAAU,CACNx4D,MAAOw3F,GAEXz8B,OAAQ,CACJjiJ,KAAM,CACF2yG,MAAO,CACHzrB,MAAOu3F,IAGf7lC,WAAY,CACRtD,YAAa,CACT3nH,KAAM8wJ,GAEVlpC,cAAe,CACX5nH,KAAM+wJ,GAEV3xE,eAAgB,CACZp/E,KAAM8wJ,GAEV9rE,MAAO,CACHzrB,MAAOu3F,MAKjBlB,EAAsBjE,GACjBA,EAAYxiK,QAAO,CAACjc,EAAK8pJ,KAC5B,MAAMzvG,EAAWqlI,GAAuB51B,GAIxC,OAHIzvG,IACAr6C,EAAI8pJ,GAAcx3J,KAAKkwL,cAAcnoI,IAElCr6C,CAAG,GACX,CAAC,GAER,OAAO1N,KAAK0wL,wBAAwBphK,MAAM4/J,cAAe,CACrDE,UAAWvtL,OAAO6hB,OAAO7hB,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGiuK,GAAgBD,GAAoB,CAAErzE,OAAQx8G,OAAO6hB,OAAO,CAAEkD,KAAM/kB,OAAO6hB,OAAO,CAAC,EAAG+tK,GAAsBhG,IAAK5pL,OAAO6hB,OAAO,CAAC,EAAG+tK,GAAsB5zH,OAAQh8D,OAAO6hB,OAAO,CAAC,EAAG+tK,GAAsB/F,UAAW7pL,OAAO6hB,OAAO,CAAC,EAAG+tK,IAAwBrB,EAAmBrE,GAAYK,mBACtV8B,gBAAiBrsL,OAAO6hB,OAAO7hB,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGiuK,GAAgBD,GAAoB,CAAErzE,OAAQx8G,OAAO6hB,OAAO,CAAE+nK,IAAK5pL,OAAO6hB,OAAO,CAAC,EAAG+tK,GAAsB5zH,OAAQh8D,OAAO6hB,OAAO,CAAC,EAAG+tK,GAAsB/F,UAAW7pL,OAAO6hB,OAAO,CAAC,EAAG+tK,IAAwBrB,EAAmBrE,GAAYK,mBAC9SiD,MAAOxtL,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGiuK,GAAgB,CAAEtzE,OAAQx8G,OAAO6hB,OAAO,CAAEmoK,IAAK,CAC1ExlB,aAAc,CACVtsE,MAAOu3F,GAEXhrB,YAAa,CACTvsE,MAAOu3F,GAEX13E,MAAO,CACH7f,MAAOu3F,GAEX7qB,YAAa,CACT1sE,MAAOu3F,KAEVlB,EAAmBrE,GAAYM,eAC5CiD,UAAWztL,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGiuK,GAAgB,CAAEtzE,OAAQx8G,OAAO6hB,OAAO,CAAEkoK,QAAS,CAClF9E,WAAY,QACZF,YAAa,QACbhtE,MAAO,CACH7f,MAAOu3F,GAEX/+B,SAAU,CACNx4D,MAAOw3F,GAEX5rE,OAAQ,CACJ2gE,MAAO,CACHvsF,MAAOu3F,GAEX/K,OAAQ,CACJxsF,MAAOu3F,GAEX9K,MAAO,CACHzsF,MAAOu3F,GAEXlwL,MAAO,CACH2mB,MAAO,CACHgyE,MAAOu3F,OAIlBlB,EAAmBrE,GAAYO,oBAEpD,CACAmE,wBACI,MAAMxtL,EAASqsB,MAAMmhK,wBAErB,OADAxtL,EAAOutL,WAAW7kL,IAAIgjL,GAAgC0C,GAAUI,oBAAoBjsE,OAC7EviH,CACX,EAEJouL,GAAUC,UAAY,qBACtBD,GAAUE,eAAiB,qBAC3BF,GAAUI,oBAAsB,CAC5BjsE,MAAO,CACHzrB,MAAOs3F,GAAUC,YCnIzB,MAAM7C,GAAU,CACZ/2B,MAAO,CACH,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAEJuP,QAAS,CACL,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGD,MAAM2qB,WAAsB5C,GAC/BU,aACI,OAAOjB,EACX,ECzCJ,MAAMA,GAAU,CACZ/2B,MAAO,CACH,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAEJuP,QAAS,CACL,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGD,MAAM4qB,WAAqBR,GAC9B3B,aACI,OAAOjB,EACX,ECzCJ,MAAMA,GAAU,CACZ/2B,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/DuP,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,YAE9D,MAAM6qB,WAAoB9C,GAC7BU,aACI,OAAOjB,EACX,ECPJ,MAAMA,GAAU,CACZ/2B,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/DuP,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,YAE9D,MAAM8qB,WAAmBV,GAC5B3B,aACI,OAAOjB,EACX,ECPJ,MAAMA,GAAU,CACZ/2B,MAAO,CACH,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAEJuP,QAAS,CACL,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGD,MAAM+qB,WAAmBhD,GAC5BU,aACI,OAAOjB,EACX,EC7BJ,MAAMA,GAAU,CACZ/2B,MAAO,CACH,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAEJuP,QAAS,CACL,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGD,MAAMgrB,WAAkBZ,GAC3B3B,aACI,OAAOjB,EACX,EC7BJ,MAAMA,GAAU,CACZ/2B,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/DuP,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,YAE9D,MAAMirB,WAAmBlD,GAC5BU,aACI,OAAOjB,EACX,ECPJ,MAAMA,GAAU,CACZ/2B,MAAO,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/DuP,QAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,YAE9D,MAAMkrB,WAAkBd,GAC3B3B,aACI,OAAOjB,EACX,ECGJ,MAAM2D,GAAaA,IAAM,IAAIpD,GACvBqD,GAAYA,IAAM,IAAIhB,GACtBiB,GAAc,CAChBvwL,UAAWqwL,GACXG,KAAMH,GACN,aAAcA,GACd,cAAeI,IAAM,IAAIZ,GACzB,YAAaa,IAAM,IAAIX,GACvB,WAAYY,IAAM,IAAIV,GACtB,WAAYW,IAAM,IAAIT,IAEpBU,GAAa,CACf7wL,UAAWswL,GACXE,KAAMF,GACN,kBAAmBA,GACnB,mBAAoBQ,IAAM,IAAIhB,GAC9B,iBAAkBiB,IAAM,IAAIf,GAC5B,gBAAiBgB,IAAM,IAAId,GAC3B,gBAAiBe,IAAM,IAAIb,IAElBc,GAASpxL,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGkvK,IAAaN,IAC5D,SAASY,GAAc9xL,GAC1B,IAAIkY,EACJ,GAAIlY,aAAiB4tL,GACjB,OAAO5tL,EAEX,MAAM+xL,EAAaF,GAAO7xL,GAC1B,GAAI+xL,EACA,OAAOA,IAIX,MAAM9rG,EAAY,GAClB,IAAIonG,EACJ,MAAwB,kBAAVrtL,EACVimF,EAAU13E,KAAgC,QAA1B2J,EAAKlY,EAAMimF,iBAA8B,IAAP/tE,EAAgBA,EAAK,CAAC,GAEpElY,EAAMqtL,SAAsB,MAAXA,IACjBA,EAAUrtL,EAAMqtL,SAEpBrtL,EAAQA,EAAMgyL,UAElB/rG,EAAU4yC,UACV,MAAMo5D,EAAiBxxL,OAAO6hB,OAAO,CAAE0vK,UAAWhyL,EAAOimF,UAAWioD,GAAUjoD,IAAeonG,EAAU,CAAEA,WAAY,CAAC,GACtH,GAAI4E,EAAeD,WAAaC,EAAehsG,UAAW,CACtD,MAAM+rG,EAAYF,GAAcG,EAAeD,WAC/C,OAAO,IAAIA,EAAU7nL,YAAY8nL,EACrC,CACA,OAAOjB,IACX,CCvDO,SAASkB,GAAkBC,GAC9B,IAAIj6K,EACJ,MAAMwjK,EAAW,CAAC,EACZ75K,EAAS,GACf,IAAK,MAAMoC,KAAKkuL,EAAe,CAC3B,GAAe,WAAXluL,EAAEkH,MAAgC,QAAXlH,EAAEkH,OAA8B,SAAXlH,EAAEkH,OAAiC,IAAdlH,EAAEmuL,SAAmB,CAEtFvwL,EAAO0M,KAAK,CAACtK,IACb,QACJ,CACA,MAAMmyJ,EAA+B,QAAjBl+I,EAAKjU,EAAEkH,YAAyB,IAAP+M,EAAgBA,EAAK,OAC5Dm6K,EAAcpuL,EAAEmuL,QAAU,UAAY,UACtCE,EAAY,GAAEl8B,KAAcnyJ,EAAEktI,QAAQkhD,IAClB,MAAtB3W,EAAS4W,KAET5W,EAAS4W,GAAY,GACrBzwL,EAAO0M,KAAKmtK,EAAS4W,KAEzB5W,EAAS4W,GAAU/jL,KAAKtK,EAC5B,CACA,OAAOpC,CACX,CACA,MAAM0wL,GAAOziL,SACP0iL,GAAO1iL,SACP2iL,GAAiBp9I,GAAS,CAACxzC,EAAQwa,KACrC,IAAInE,EACJ,OAAOrW,EAAOuM,UAAiC,QAArB8J,EAAKmE,EAAKg5B,UAA0B,IAAPn9B,EAAgBA,EAAK,GAAI,EAE9Ew6K,GAAqBA,CAACr9I,EAAMr0B,IAAiB,CAACnf,EAAQwa,IAC9B,mBAAfA,EAAKg5B,GACO,OAAXxzC,QAA8B,IAAXA,GAAoBA,GAAmBwa,EAAKg5B,GAEzD,OAAXxzC,QAA8B,IAAXA,EAAoBA,EAASmf,EAErD2xK,GAA2BA,CAACt9I,EAAMr0B,IAAiB,CAACnf,EAAQwa,EAAMgJ,EAAKnlB,KACzE,IAAIgY,EACJ,MAAM06K,EAAS5xK,IAAiBwxK,IAAQxxK,IAAiBuxK,GACnD7nI,EAAkC,QAArBxyC,EAAKmE,EAAKg5B,UAA0B,IAAPn9B,EAAgBA,EAAK8I,EACrE,GAAI0pC,IAAc6nI,GACd,MAAM,IAAIjsL,MAAO,2CAA0C+uC,wBAE1D,GAAIqV,IAAc8nI,GACnB,OAAO3wL,EAEX,GAAsB,IAAlBA,EAAO3B,SAAiB0yL,EAGxB,MAAO/wL,EAAO3B,OAASA,EACnB2B,EAASA,EAAOuM,OAAO4S,GAG/B,OAAK4xK,EAIE/wL,EAAOuM,OAAOs8C,IAHjB7oD,EAAOwjB,GAAOqlC,EACP7oD,EAEoB,EAE7BgxL,GAAgBA,CAACx9I,EAAMy9I,IAAoB,CAACjxL,EAAQwa,IAClDA,EAAKg5B,KAAUy9I,EACRjxL,EAAOuM,UAAWiO,EAAK+0H,KAAO,CAAC/0H,EAAK+0H,MAAQ/0H,EAAKo3J,OAErD5xK,EAELkxL,GAAuBA,IAAM,CAAClxL,EAAQwa,IACjC5b,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGzgB,GAAS,CAAE,CAACwa,EAAKu9J,YAAa,IAAK/3K,EAAOwa,EAAKu9J,aAAe,GAAKv9J,EAAK+0H,QAE7G4hD,GAAgB,CAClBC,YAAa,CAAEC,WAAY,cAAe18E,QAASi8E,GAAc,eAAgBxtK,MAAO,IACxF61J,aAAc,CAAEoY,WAAY,eAAgB18E,QAASi8E,GAAc,gBAAiBxtK,MAAO,IAC3FmsH,KAAM,CAAE8hD,WAAY,QAAS18E,QAASm8E,GAAyB,OAAQH,IAAOvtK,MAAO,IACrFma,KAAM,CAAE8zJ,WAAY,QAAS18E,QAASm8E,GAAyB,OAAQH,IAAOvtK,MAAO,IACrFi0E,OAAQ,CAAEg6F,WAAY,UAAW18E,QAASm8E,GAAyB,SAAUH,IAAOvtK,MAAO,IAC3F0yJ,MAAO,CAAEub,WAAY,SAAU18E,QAASm8E,GAAyB,QAASH,IAAOvtK,MAAO,IACxFioE,QAAS,CAAEgmG,WAAY,WAAY18E,QAASm8E,GAAyB,WAAW,GAAO1tK,MAAO,IAC9FkuK,eAAgB,CACZD,WAAY,kBACZ18E,QAASm8E,GAAyB,iBAAkBH,IACpDvtK,MAAO,IAEX+1J,QAAS,CACLkY,WAAY,UACZ18E,QAASk8E,GAAmB,WAC5Bt8B,WAAY,CAAC,MAAO,UACpBnxI,WAAOtkB,GAEX09G,aAAc,CACV60E,WAAY,eACZ18E,QAASq8E,GAAc,gBAAgB,GACvCz8B,WAAY,CAAC,MAAO,UACpBnxI,MAAO,IAEX20J,WAAY,CACRsZ,WAAY,cACZ18E,QAASu8E,KACT38B,WAAY,CAAC,MAAO,UACpBnxI,MAAO,CAAC,IAMT,SAASmuK,GAAan2E,GACzB,MAAMj6G,EAAU,CAAC,EAwBjB,OAvBAi6G,EAAOxlG,SAAQ,CAACxT,EAAGohB,KACf5kB,OAAO6B,KAAK2B,GAAGwT,SAAS49B,IACpB,IAAIn9B,EACJ,MAAMm7K,EAAgBL,GAAc39I,GAC9Bi+I,EAAgBA,KAClB,IAAIp7K,EAAIqb,EACRvwB,EAAQqyC,GAAiF,QAAxE9hB,EAAwB,QAAlBrb,EAAKjU,EAAEoxC,UAA0B,IAAPn9B,EAAgBA,EAAKlV,EAAQqyC,UAA0B,IAAP9hB,EAAgBA,OAAK5yB,CAAS,EAEnI,IAAK0yL,EAED,YADAC,IAGJ,MAAM,WAAEJ,EAAU,QAAE18E,EAAO,MAAEvxF,EAAiB,WAAEmxI,EAAa,CAACnyJ,EAAEkH,OAAUkoL,EAC1E,IAAKj9B,EAAWh2J,SAAS6D,EAAEkH,MAEvB,YADAmoL,IAGJ,MAAMzxL,EAAS20G,EAAuC,QAA9Bt+F,EAAKlV,EAAQkwL,UAAgC,IAAPh7K,EAAgBA,EAAK+M,EAAOhhB,EAAGohB,EAAK43F,EAAO/8G,aAC1FS,IAAXkB,IACAmB,EAAQkwL,GAAcrxL,EAC1B,GACF,IAECmB,CACX,CAIO,SAASuwL,GAAqBpB,GACjC,MAAMtwL,EAAS,GACT2xL,EAAerB,EAAc55K,KAAK0kG,IACpC,IAAI/kG,EAEJ,MAAqB,QAAhB+kG,EAAO9xG,MAAkC,WAAhB8xG,EAAO9xG,MAAqC,MAAf8xG,EAAOm0B,MAAiBn0B,EAAOm1E,QAGnFn1E,EAFIx8G,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG26F,GAAS,CAAE+9D,QAAmC,QAAzB9iK,EAAK+kG,EAAO+9D,eAA4B,IAAP9iK,GAAgBA,GAEpG,IAEjB,IAAK,MAAM+kG,KAAUi1E,GAAkBsB,GACnC,OAAQv2E,EAAO,GAAG9xG,MACd,IAAK,SACL,IAAK,MACL,IAAK,OACDtJ,EAAO0M,KAAK6kL,GAAan2E,IACzB,MACJ,IAAK,OACL,QACQA,EAAO/8G,OAAS,GAChBkwF,GAAOrgE,KAAK,uCAAyCktF,EAAO,GAAG9xG,MAEnEtJ,EAAO0M,KAAK0uG,EAAO,IACnB,MAGZ,OAAOp7G,CACX,CC1JO,SAAS4xL,GAAYzkL,GACxB,IAAIkJ,EAAIqb,EAAI2C,EAAIH,EAChB,OAAwL,QAAhLA,EAA2B,QAArB7d,EAAKlJ,EAAM7D,YAAyB,IAAP+M,EAAgBA,EAA+E,QAAzEge,EAA6B,QAAvB3C,EAAKvkB,EAAMiuG,cAA2B,IAAP1pF,OAAgB,EAASA,EAAG,UAAuB,IAAP2C,OAAgB,EAASA,EAAG/qB,YAAyB,IAAP4qB,EAAgBA,EAAK,MACzN,CACO,SAAS29J,GAA0B1kL,GACtC,MAAM2kL,EAAgBF,GAAYzkL,GAClC,OAAqB,MAAjB2kL,IAGkB,cAAlBA,GACAvjG,GAAOG,SAAU,SAAQojG,gDAClB,GAEJhJ,GAAYC,YAAY+I,GACnC,CACO,SAASC,GAA0B5kL,GACtC,MAAM2kL,EAAgBF,GAAYzkL,GAClC,OAAqB,MAAjB2kL,IAGkB,cAAlBA,GACAvjG,GAAOG,SAAU,SAAQojG,gDAClB,GAEJhJ,GAAYG,YAAY6I,GACnC,CACO,SAASE,GAAsB7kL,GAClC,MAAM2kL,EAAgBF,GAAYzkL,GAClC,OAAqB,MAAjB2kL,IAGkB,UAAlBA,GACAvjG,GAAOG,SAAU,SAAQojG,gDAClB,GAEJhJ,GAAYE,QAAQ8I,GAC/B,CACA,SAASG,GAAmB9kL,GACxB,OAAa,MAATA,GAGG27K,GAAYngL,IAAIwE,EAC3B,CACA,SAAS+kL,GAAiB/kL,GACtB,OAAa,MAATA,GAGGg+K,GAAiBxiL,IAAIwE,EAChC,CACA,SAASglL,GAAmBhlL,GACxB,IAAIsW,EAAQ,EACZ,IAAK,MAAMjJ,KAAQrN,EACXqN,aAAgB9Q,QAChB+Z,GAAS0uK,GAAmB33K,IAEpB,MAARA,GACAiJ,IAGR,OAAOA,CACX,CACA,SAAS2uK,GAAYzhJ,EAAS0hJ,EAAS3hE,GACnC,MAAM1wH,EAAS,GACf,IAAK,IAAIyjB,EAAQ,EAAGA,EAAQitG,EAAUjtG,IAClCzjB,EAAO0M,KAAK2lL,GAAS5uK,EAAQktB,EAAQ2hJ,aAAeD,EAAQh0L,SAEhE,OAAO2B,CACX,CACO,MAAMuyL,GAA0B,CACnChmD,eAAgB,CAAC,SAEd,SAASimD,GAAeC,EAAYC,GACvC,IAAIr8K,EAAIqb,EAAI2C,EAAIH,EAAIi/E,EAAIC,EACxB,IAAIjyG,EAAUkrI,GAAU,CAACqmD,EAAiBD,GAAaF,IACvDI,GAAmBxxL,GAEnB,MAAMyxL,EAA0BzxL,EAAQmI,KAClCA,EAAOsoL,GAAYzwL,GACnB0xL,EAAkH,QAAlFnhK,EAAgC,QAA1Brb,EAAKlV,EAAQs9I,eAA4B,IAAPpoI,OAAgB,EAASA,EAAGsqE,gBAA6B,IAAPjvD,EAAgBA,EAAK,CAAC,EAChJohK,EAAmBxpL,IACrB,GAAY,MAARA,IAAkB2oL,GAAmB3oL,KAAS4gL,GAAkB5gL,GAChE,MAAM,IAAI7E,MAAO,oCAAmC6E,uBAA0Bw/K,GAAYI,cAC9F,EAEJ4J,EAAgBxpL,GAChB,IAAK,MAAQA,KAAMirJ,KAA0C,QAAzBlgI,EAAKlzB,EAAQi6G,cAA2B,IAAP/mF,EAAgBA,EAAK,GACpE,MAAdkgI,GAEJu+B,EAAgBv+B,GAEpBpzJ,EAAUvC,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGtf,GAAU,CAAEmI,SACtD,IAAIypL,EAAoB,OACpBlB,GAA0B1wL,GAC1B4xL,EAAoB,OAEfhB,GAA0B5wL,GAC/B4xL,EAAoB,UAEff,GAAsB7wL,KAC3B4xL,EAAoB,OAExB,IAAIC,EAAmB,CAAC,EACxB,MAAMtG,EAAiBxC,GAAkB5gL,GACrCojL,EACAsG,EAAmBtG,EAEL,QAATpjL,EACL0pL,EAAmB3I,GAEL,YAAT/gL,GAA+B,cAATA,EAC3B0pL,EAAmB1I,GAEduH,GAA0B1wL,KAC/B6xL,EAAmB5I,IAEvB6I,GAAsB9xL,GACtB,MAAM,QAAEwvC,EAAO,cAAEuiJ,EAAa,WAAEC,EAAU,aAAEC,GAAiBC,GAAmBL,EAAkB7xL,GAIlG+xL,EAAc93E,OAASs2E,IAAsD,QAA/Bx9J,EAAKg/J,EAAc93E,cAA2B,IAAPlnF,EAAgBA,EAAK,IAAIxd,KAAKtU,IAC/G,IAAIkH,EAAOypL,EACP3wL,EAAEkH,KACFA,EAAOlH,EAAEkH,KAEJ2oL,GAAmBW,KACxBtpL,EAAOspL,GAEX,MAAMU,EAAeC,GAAmBnxL,EAAGkH,EAAM8pL,EAAcP,GAI/D,MAHa,QAATvpL,GACAkqL,GAAkBJ,EAAaxK,IAAKxmL,EAAGkxL,GAEpCA,CAAY,KACnB58K,KAAKtU,GAAMqxL,GAAc9iJ,EAASvuC,KACtC,MAAMsxL,EAAiBpqL,IACnB,MAAMqqL,EAAazB,GAAiB5oL,GAIpC,OAHKqqL,GACDplG,GAAOG,SAAU,kCAAiCplF,uBAA0B6hL,GAAiBE,wBAE1FsI,CAAU,EAErB,GAAI9B,GAA0BqB,GAAgB,CAC1C,IAAIU,GAAiB,EACrB,IAAK,MAAQtqL,KAAM8hL,KAA4C,QAA7Bj4E,EAAK+/E,EAAcphC,YAAyB,IAAP3+C,EAAgBA,EAAK,GACnFugF,EAActI,KACfwI,GAAiB,GAOrBV,EAAcphC,KAJb8hC,EAIkD,QAA7BxgF,EAAK8/E,EAAcphC,YAAyB,IAAP1+C,OAAgB,EAASA,EAAG18F,KAAK6pG,IACxF,IAAIlqG,EAAIqb,EACR,MAAM05J,EAAW7qE,EAAKj3G,KAChBuqL,EAAYxnD,GAAU,CACxB8mD,EAAW/H,GACsF,QAAhG15J,EAAKyhK,EAAW/H,GAAmC,QAAxB/0K,EAAKkqG,EAAK5/B,gBAA6B,IAAPtqE,EAAgBA,EAAK,kBAA+B,IAAPqb,EAAgBA,EAAK,CAAC,IAEnI,OAAOoiK,GAAYvzE,EAAMszE,EAAU,IAVlBb,EAAiBlhC,KAa1CiiC,GAA2B5yL,EAAS+xL,EACxC,CAEA,OADAc,GAAsB7yL,EAAS+xL,GACxBA,CACX,CACA,SAASP,GAAmBxxL,GACxB,MAAM8yL,EAAuB,CACzBriB,MAAO,OACPD,OAAQ,SAEZ/yK,OAAO6nB,QAAQwtK,GAAsBr+K,SAAQ,EAAEs+K,EAASC,MACpD,IAAI99K,GAC0B,QAAzBA,EAAKlV,EAAQi6G,cAA2B,IAAP/kG,OAAgB,EAASA,EAAG8e,MAAM/yB,GAAoB,MAAdA,EAAE8xL,OAC5E3lG,GAAOG,SAAU,oBAAmBwlG,wCAA8CC,kCACtF,GAER,CACA,SAASZ,GAAmBn4E,EAAQ9xG,EAAM8pL,EAAcP,GACpD,IAAIx8K,EAAIqb,EACR,MAAM0iK,EAAwB/nD,GAAU,CAACztI,OAAO6hB,OAAO,CAAC,EAAGoyK,GAAyD,QAAzBx8K,EAAK+kG,EAAOqjC,eAA4B,IAAPpoI,OAAgB,EAASA,EAAGsqE,UAAW4xG,IAC7Je,EAAejnD,GAAU,CACG,QAA7B36G,EAAK0hK,EAAa9pL,UAA0B,IAAPooB,EAAgBA,EAAK,CAAC,EAC5D9yB,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG26F,GAAS,CAAE9xG,OAAMm1I,QAAS7/I,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG26F,EAAOqjC,SAAU,CAAE99D,SAAUyzG,OACxH7B,IACH,OAAOe,CACX,CACA,SAASD,GAAmBL,EAAkB7xL,GAC1C,MAAM,MAAE6oL,EAAK,aAAEqK,EAAY,WAAElB,EAAU,aAAEC,GAAiBkB,GAAanzL,GACjEwvC,EAAU,CAAE2hJ,YAAa,EAAG9G,QAASxB,EAAMwB,SAC3C0H,EAAgB7mD,GAAU,CAAC2mD,EAAkBqB,EAAclzL,GAAUoxL,IAC3E,MAAO,CAAE5hJ,UAASuiJ,gBAAeC,aAAYC,eACjD,CACA,SAASkB,GAAanzL,GAClB,IAAIkV,EAAIqb,EACR,MAAMs4J,EAAQiG,GAAc9uL,EAAQ6oL,OAC9BuK,EAAcvK,EAAM76J,OAAuC,QAA/B9Y,EAAKu7K,GAAYzwL,UAA6B,IAAPkV,EAAgBA,EAAK,aACxF+8K,EAAex0L,OAAO6nB,QAAQujK,EAAM76J,QAAQzI,QAAO,CAAC1mB,GAASu0J,GAAcn5C,cAC7Ep7G,EAAOu0J,GAAyB,OAAXn5C,QAA8B,IAAXA,OAAoB,EAASA,EAAOm5C,GACrEv0J,IACR,CAAC,GACJ,MAAO,CACHgqL,QACAmJ,WAA2C,QAA9BzhK,EAAK6iK,EAAY,eAA4B,IAAP7iK,EAAgBA,EAAK,CAAC,EACzE0hK,aAAcA,EACdiB,aAAchoD,GAAU,CAACkoD,EAAa,CAAEziC,KAAM3lB,GAAQ/wB,OAAQ+wB,MAEtE,CACA,SAASsnD,GAAc9iJ,EAASxjC,KAAU0+B,GACtC,MAAM2oJ,EAAiBC,GAAuB9jJ,EAASxjC,GAEjDunL,EAAgB,CAAEnE,QAASpkD,IAC3BwoD,EAAetoD,GAAU,IAAIxgG,EAAU2oJ,EAAgBrnL,EAAOunL,GAAgBnC,IACpF,OAAOxH,GAAqB4J,EAChC,CACA,SAASF,GAAuB9jJ,EAASxjC,GACrC,IAAIkJ,EACJ,MAAMm+K,EAAiB,CAAC,GAChBhJ,SAAS,MAAE/2B,EAAK,QAAEuP,IAAerzH,EACnCikJ,EAAWznL,EACjB,IAAI0nL,EAAc1C,GAAgD,QAA5B97K,EAAKu+K,EAAS,gBAA6B,IAAPv+K,EAAgBA,EAAK,KAAO,EACtG,OAAQlJ,EAAM7D,MACV,IAAK,MACDurL,EAAcptL,KAAK0G,IAAIsmJ,EAAMp2J,OAAQ2lK,EAAQ3lK,QAEjD,IAAK,OACL,IAAK,MACL,IAAK,SACDm2L,EAAe//B,MAAQ29B,GAAYzhJ,EAAS8jH,EAAOogC,GACnDL,EAAexwB,QAAUouB,GAAYzhJ,EAASqzH,EAAS6wB,GACvD,MACJ,IAAK,YACDL,EAAej3J,KAAO60J,GAAYzhJ,EAAS8jH,EAAO,GAAG,GACrD+/B,EAAen9F,OAAS+6F,GAAYzhJ,EAASqzH,EAAS,GAAG,GACzD,MACJ,IAAK,UACDwwB,EAAelzC,OAAS,CACpBjqD,OAAQ+6F,GAAYzhJ,EAASqzH,EAAS,GAAG,GACzCzmI,KAAM60J,GAAYzhJ,EAAS8jH,EAAO,GAAG,IAEzC,MACJ,IAAK,OACD+/B,EAAen9F,OAAS+6F,GAAYzhJ,EAAS8jH,EAAO,GAAG,GACvD+/B,EAAelzC,OAAS,CACpBjqD,OAAQ+6F,GAAYzhJ,EAASqzH,EAAS,GAAG,GACzCzmI,KAAM60J,GAAYzhJ,EAAS8jH,EAAO,GAAG,IAEzC,MAGR,OADA9jH,EAAQ2hJ,aAAeuC,EAChBL,CACX,CACA,SAASV,GAAYvzE,EAAMu0E,GAEvB,MAAMJ,EAAgB,CAAE7hI,IAAKs5E,GAAQ3mD,OAAQ2mD,GAAQx5E,KAAMw5E,GAAQl2E,MAAOk2E,IAE1E,GAAI5rB,EAAK0gB,WAAY,CACZv3H,MAAMhL,QAAQ6hH,EAAK0gB,cACpB1yC,GAAOrgE,KAAK,yCACZqyF,EAAK0gB,WAAa,IAEtB,MAAQA,WAAY8zD,GAAoBD,EACxCv0E,EAAK0gB,WAAa1gB,EAAK0gB,WAAWvqH,KAAKwqH,GAAcmL,GAAU,CAAC0oD,EAAiB7zD,KACrF,CACA,MAAM8zD,EAAa,CAAE/zD,WAAYkL,IACjC,OAAOE,GAAU,CAACyoD,EAAWE,EAAYz0E,EAAMm0E,GAAgBnC,GACnE,CACA,SAASU,GAAsB9xL,GAE3BusI,GAASvsI,GAAS,CAAC2gB,EAAGmzK,KACZ,YAAaA,IAEc,IAA7BA,EAAiBtjK,SACjB/yB,OAAO6nB,QAAQwuK,GAAkBr/K,SAAQ,EAAE9V,MAC3B,YAARA,UAEGm1L,EAAiBn1L,EAAI,GAEpC,GACD,CAAEitI,KAAM,CAAC,OAAQ,UACxB,CACA,SAASgnD,GAA2B5yL,EAAS+xL,GACzC,IAAI78K,EAAIqb,EAAI2C,EAAIH,OAEgEp1B,KAAjD,QAAzBuX,EAAKlV,EAAQ0wJ,cAA2B,IAAPx7I,OAAgB,EAASA,EAAGsb,eAA4G7yB,KAAjD,QAA/B4yB,EAAKwhK,EAAcrhC,cAA2B,IAAPngI,OAAgB,EAASA,EAAGC,WAGlI,QAA/B0C,EAAK6+J,EAAcrhC,cAA2B,IAAPx9H,IAAsB6+J,EAAcrhC,OAAS,CAAC,IACvD,QAAzB39H,EAAK/yB,EAAQi6G,cAA2B,IAAPlnF,EAAgBA,EAAK,IAAI71B,OAAS,EACrE60L,EAAcrhC,OAAOlgI,SAAU,EAGnCuhK,EAAcrhC,OAAOlgI,SAAU,EACnC,CACA,SAASqiK,GAAsB7yL,EAAS+xL,GAEpCxlD,GAASvsI,GAAS,CAAC2gB,EAAGmzK,EAAkBC,KACpC,IAAKA,EACD,OACJ,MAAM,kBAAEC,GAAsBD,EACL,MAArBC,UAEOD,EAAmBC,kBAExB,YAAaD,IAEfC,GAE4B,MAA5BF,EAAiBtjK,UACjBujK,EAAmBvjK,SAAU,GACjC,GACD,CAAEo7G,KAAM,CAAC,OAAQ,UAAYmmD,GAEhCxlD,GAASwlD,GAAe,CAACpxK,EAAGozK,KACoB,MAAxCA,EAAmBC,0BAEZD,EAAmBC,iBAC9B,GACD,CAAEpoD,KAAM,CAAC,OAAQ,UACxB,CACA,SAASymD,GAAkB4B,EAAgB9E,EAAegD,GAClD5pL,MAAMhL,QAAQ4xL,EAAc9sB,aAC5B8vB,EAAa9vB,YAAc8sB,EAAc9sB,YAAY9sJ,KAAK0lF,GAC/CiwC,GAAU,CAAC+oD,EAAe5xB,YAAapnE,MAIlDk3F,EAAa9vB,YAAcr3B,EAEnC,CCnVA,MAAMkpD,GAA2C,CAC7CxiI,IAAK,CAAEyiI,sBAAuB,EAAGC,uBAAwB,GACzD/vG,OAAQ,CAAE8vG,sBAAuB,EAAGC,sBAAuB,GAC3D5iI,KAAM,CAAE2iI,uBAAwB,EAAGC,sBAAuB,GAC1Dt/H,MAAO,CAAEq/H,sBAAuB,EAAGC,sBAAuB,GAC1DnoG,QAAS,CAAEkoG,sBAAuB,EAAGC,uBAAwB,GAC7D/0B,SAAU,CAAE80B,uBAAwB,EAAGC,uBAAwB,GAC/D90B,WAAY,CAAE60B,sBAAuB,EAAGC,sBAAuB,GAC/DloG,YAAa,CAAEioG,uBAAwB,EAAGC,sBAAuB,GACjEC,OAAQ,CAAEF,sBAAuB,EAAGC,sBAAuB,GAC3DE,WAAY,CAAEH,sBAAuB,EAAGC,sBAAuB,GAC/DG,YAAa,CAAEJ,uBAAwB,EAAGC,sBAAuB,GACjEI,UAAW,CAAEL,sBAAuB,EAAGC,sBAAuB,GAC9DK,aAAc,CAAEN,sBAAuB,EAAGC,uBAAwB,GAClEM,cAAe,CAAEP,sBAAuB,EAAGC,sBAAuB,GAClEO,iBAAkB,CAAER,sBAAuB,EAAGC,uBAAwB,GACtEQ,eAAgB,CAAET,uBAAwB,EAAGC,sBAAuB,GACpES,kBAAmB,CAAEV,uBAAwB,EAAGC,uBAAwB,IAEtEU,GAAyC,CAC3CpjI,IAAK,CAAEyiI,sBAAuB,EAAGC,sBAAuB,GACxD/vG,OAAQ,CAAE8vG,uBAAwB,EAAGC,sBAAuB,GAC5D5iI,KAAM,CAAE2iI,sBAAuB,EAAGC,uBAAwB,GAC1Dt/H,MAAO,CAAEq/H,sBAAuB,EAAGC,sBAAuB,GAC1DnoG,QAAS,CAAEkoG,uBAAwB,EAAGC,uBAAwB,GAC9D/0B,SAAU,CAAE80B,uBAAwB,EAAGC,sBAAuB,GAC9D90B,WAAY,CAAE60B,sBAAuB,EAAGC,uBAAwB,GAChEloG,YAAa,CAAEioG,sBAAuB,EAAGC,sBAAuB,GAChEC,OAAQ,CAAEF,sBAAuB,EAAGC,sBAAuB,GAC3DE,WAAY,CAAEH,sBAAuB,EAAGC,sBAAuB,GAC/DG,YAAa,CAAEJ,sBAAuB,EAAGC,uBAAwB,GACjEI,UAAW,CAAEL,uBAAwB,EAAGC,sBAAuB,GAC/DK,aAAc,CAAEN,sBAAuB,EAAGC,sBAAuB,GACjEM,cAAe,CAAEP,uBAAwB,EAAGC,sBAAuB,GACnEO,iBAAkB,CAAER,sBAAuB,EAAGC,sBAAuB,GACrEQ,eAAgB,CAAET,uBAAwB,EAAGC,uBAAwB,GACrES,kBAAmB,CAAEV,sBAAuB,EAAGC,uBAAwB,IAEpE,SAASW,IAA0B,WAAEC,EAAU,QAAE11E,EAAU,EAAC,SAAE9/B,EAAW,MAAK,KAAEqD,IACnF,MAAMoyG,EAAiCD,EACjCd,GACAY,IACA,sBAAEX,EAAqB,sBAAEC,GAA0Ba,EAA+Bz1G,GAClF5tE,EAAIojL,EAAanyG,EAAKhE,MAAQgE,EAAKt3D,OACnCD,EAAI0pK,EAAanyG,EAAKt3D,OAASs3D,EAAKhE,MACpCq2G,EAAef,GAAyB70E,EAAU1tG,EAAI,GACtDujL,EAAef,GAAyB90E,EAAUh0F,EAAI,GACtDzsB,EAAS,CACXq2L,eACAC,gBAEJ,OAAOt2L,CACX,CACO,SAASu2L,IAA2B,WAAEJ,EAAU,KAAEnyG,EAAI,QAAEy8B,EAAU,EAAC,SAAE9/B,EAAW,QACnF,MAAM61G,EAAe,CAAC,EACtB,OAAI71G,EAASngE,WAAW,YAEP,QAAbmgE,GAAuBw1G,EAGL,WAAbx1G,GAA0Bw1G,EAGb,SAAbx1G,GAAuBw1G,EAC5BK,EAAa7jI,KAAO8tD,EAAUz8B,EAAKhE,MAEjB,UAAbW,GAAwBw1G,IAC7BK,EAAavgI,MAAQwqD,EAAUz8B,EAAKhE,OANpCw2G,EAAahxG,OAASi7B,EAAUz8B,EAAKt3D,OAHrC8pK,EAAa3jI,IAAM4tD,EAAUz8B,EAAKt3D,QAF3B8pK,CAcf,CACO,MAAMC,GAA2BA,EAAGN,aAAYO,OAAMC,SAAQC,UAC7DT,EACO,CAAE5qL,EAAGmrL,EAAO,EAAG/xG,EAAGgyG,GAGlB,CAAEprL,EAAGmrL,EAAM/xG,EAAIjiE,MAAMk0K,GAA8BD,GAArBA,EAASC,GAAQ,GAGxDC,GAA4BA,EAAGV,aAAYW,SAAQJ,OAAMC,SAAQC,UAC/DT,EACO,CAAE5qL,EAAGurL,EAAQnyG,EAAIjiE,MAAMk0K,GAA8BD,GAArBA,EAASC,GAAQ,GAGjD,CAAErrL,EAAGmrL,EAAO,EAAG/xG,EAAGgyG,GAG3BI,GAA6BA,EAAGZ,aAAYO,OAAMC,SAAQC,UACxDT,EACO,CAAE5qL,EAAGmrL,EAAM/xG,EAAIjiE,MAAMk0K,GAA8BD,GAArBA,EAASC,GAAQ,GAG/C,CAAErrL,EAAGmrL,EAAO,EAAG/xG,EAAIjiE,MAAMk0K,GAAeD,EAAPC,GAG1CI,GAA8BA,EAAGb,aAAYW,SAAQJ,OAAMC,SAAQC,UACjET,EACO,CAAE5qL,EAAGmrL,EAAO,EAAG/xG,EAAIjiE,MAAMk0K,GAAeD,EAAPC,GAGjC,CAAErrL,EAAGurL,EAAQnyG,EAAIjiE,MAAMk0K,GAA8BD,GAArBA,EAASC,GAAQ,GAG1DK,GAA8BA,EAAGP,OAAMC,SAAQC,WAC1C,CAAErrL,EAAGmrL,EAAO,EAAG/xG,EAAIjiE,MAAMk0K,GAA8BD,GAArBA,EAASC,GAAQ,IAExDM,GAAgCA,EAAGf,aAAYW,SAAQJ,OAAMC,YAC3DR,EACO,CAAE5qL,EAAGurL,EAAS,EAAGnyG,EAAGgyG,GAGpB,CAAEprL,EAAGmrL,EAAM/xG,EAAGgyG,GAGvBQ,GAAmCA,EAAGhB,aAAYW,SAAQH,SAAQC,UAChET,EACO,CAAE5qL,EAAGurL,EAAQnyG,EAAIjiE,MAAMk0K,GAAeD,EAAPC,GAG/B,CAAErrL,EAAGurL,EAAQnyG,EAAGgyG,GAGzBS,GAAiCA,EAAGjB,aAAYO,OAAMC,SAAQC,UAC5DT,EACO,CAAE5qL,EAAGmrL,EAAM/xG,EAAGgyG,GAGd,CAAEprL,EAAGmrL,EAAM/xG,EAAIjiE,MAAMk0K,GAAeD,EAAPC,GAGtCS,GAAoCA,EAAGlB,aAAYW,SAAQJ,OAAMC,SAAQC,UACvET,EACO,CAAE5qL,EAAGmrL,EAAM/xG,EAAIjiE,MAAMk0K,GAAeD,EAAPC,GAG7B,CAAErrL,EAAGurL,EAAQnyG,EAAIjiE,MAAMk0K,GAAeD,EAAPC,GAGjCU,GAA0B,CACnCzkI,IAAK,CAAExwD,EAAGo0L,IACVjxG,OAAQ,CAAEnjF,EAAG20L,IACbrkI,KAAM,CAAEtwD,EAAGw0L,IACX5gI,MAAO,CAAE5zD,EAAG00L,IACZ3pG,QAAS,CAAE/qF,EAAG60L,IACd12B,SAAU,CAAEn+J,EAAG+0L,IACf32B,WAAY,CAAEp+J,EAAG80L,IACjB9pG,YAAa,CAAEhrF,EAAGg1L,IAClB7B,OAAQ,CAAEnzL,EAAG40L,IACbxB,WAAY,CAAEpzL,EAAGw0L,IACjBnB,YAAa,CAAErzL,EAAG00L,IAClBpB,UAAW,CAAEtzL,EAAGo0L,IAChBb,aAAc,CAAEvzL,EAAG20L,IACnBnB,cAAe,CAAExzL,EAAG60L,IACpBpB,iBAAkB,CAAEzzL,EAAG80L,IACvBpB,eAAgB,CAAE1zL,EAAG+0L,IACrBpB,kBAAmB,CAAE3zL,EAAGg1L,KC3J5B,IAAIrrK,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAIO,MAAMq6K,WAAcvgG,GACvB1uF,cACI+jB,QACAtvB,KAAKqpH,GAAK,EACVrpH,KAAKspH,GAAK,EACVtpH,KAAK6kH,GAAK,EACV7kH,KAAK8kH,GAAK,EACV9kH,KAAKy6L,WAAY,EACjBz6L,KAAK06L,SAAU,EACf16L,KAAK26L,SAAU,EACf36L,KAAK+6F,kBACT,CACAhL,cACI,OAAO,IAAIpI,GAAK3nF,KAAKqpH,GAAIrpH,KAAKspH,GAAItpH,KAAK6kH,GAAK7kH,KAAKqpH,GAAIrpH,KAAK8kH,GAAK9kH,KAAKspH,GACxE,CACA7sB,cAAclN,EAAIC,GACd,OAAO,CACX,CACA//D,OAAOwgE,GACH,IAAI32E,EACJ,MAAM,IAAEwT,EAAG,YAAE4lE,EAAW,MAAExC,GAAUD,EACpC,GAAIjwF,KAAKwwF,QAAUvE,GAAWa,OAAS4F,EAGnC,YAFIxC,IACAA,EAAMiD,cAAgBnzF,KAAK4wF,UAAUlqE,QAG7C1mB,KAAKmvF,yBACLnvF,KAAKqqF,OAAOF,UAAUr9D,GACtB,IAAI,GAAEu8F,EAAE,GAAEC,EAAE,GAAEzE,EAAE,GAAEC,GAAO9kH,KACzBqpH,EAAKrpH,KAAKy7F,MAAM4tB,GAChBC,EAAKtpH,KAAKy7F,MAAM6tB,GAChBzE,EAAK7kH,KAAKy7F,MAAMopB,GAChBC,EAAK9kH,KAAKy7F,MAAMqpB,GAChB,MAAM,KAAEtkF,EAAI,QAAEsjD,EAAO,QAAE62G,GAAY36L,KAC7B46L,KAAgBD,IAAWn6J,GACjC,GAAIo6J,EAAY,CACZ,MAAM,YAAEzgG,GAAgBn6F,KACxB8sB,EAAI6qE,UAAYn3D,EAChB1T,EAAIymE,YAAczP,EAAUqW,EAC5BrtE,EAAI+mE,YACJ/mE,EAAIgnE,OAAOu1B,EAAIC,GACfx8F,EAAIinE,OAAO8wB,EAAIyE,GACfx8F,EAAIinE,OAAO8wB,EAAIC,GACfh4F,EAAIinE,OAAOs1B,EAAIvE,GACfh4F,EAAIknE,YACJlnE,EAAI0T,MACR,CACA,MAAM,OAAE85D,EAAM,YAAEC,EAAW,UAAEkgG,EAAS,QAAEC,GAAY16L,KAC9C66L,KAAmBJ,IAAaC,IAAYpgG,IAAUC,GAC5D,GAAIsgG,EAAc,CACd,MAAM,cAAEzgG,EAAa,SAAEI,EAAQ,eAAEC,EAAc,QAAEC,EAAO,SAAEC,GAAa36F,KACvE8sB,EAAImrE,YAAcqC,EAClBxtE,EAAIymE,YAAczP,EAAUsW,EAC5BttE,EAAIorE,UAAYqC,EACZC,GACA1tE,EAAI0vE,YAAYhC,GAEhBC,IACA3tE,EAAI2tE,eAAiBA,GAErBC,IACA5tE,EAAI4tE,QAAUA,GAEdC,IACA7tE,EAAI6tE,SAAWA,GAEnB7tE,EAAI+mE,YACA4mG,IACA3tK,EAAIgnE,OAAOu1B,EAAIC,GACfx8F,EAAIinE,OAAO8wB,EAAIyE,IAEfoxE,IACA5tK,EAAIgnE,OAAO+wB,EAAIC,GACfh4F,EAAIinE,OAAOs1B,EAAIvE,IAEnBh4F,EAAIwtE,QACR,CAC2B,QAA1BhhF,EAAKtZ,KAAK46F,kBAA+B,IAAPthF,GAAyBA,EAAGi0E,YAC/Dj+D,MAAMG,OAAOwgE,EACjB,EAEJuqG,GAAMnwI,UAAY,QAClBmwI,GAAMngG,cAAgBx4F,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGu2E,GAAMI,eAAgB,CAAEE,YAAa,IAC3FtrE,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWsG,SAC3CioG,GAAMxxL,UAAW,UAAM,GAC1BimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWsG,SAC3CioG,GAAMxxL,UAAW,UAAM,GAC1BimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWsG,SAC3CioG,GAAMxxL,UAAW,UAAM,GAC1BimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWsG,SAC3CioG,GAAMxxL,UAAW,UAAM,GAC1BimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWsG,SAC3CioG,GAAMxxL,UAAW,iBAAa,GACjCimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWsG,SAC3CioG,GAAMxxL,UAAW,eAAW,GAC/BimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWsG,SAC3CioG,GAAMxxL,UAAW,eAAW,GChH/B,IAAIimB,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAaA,MAAM26K,GAA4B,CAC9B,MACA,OACA,QACA,SACA,UACA,WACA,aACA,cACA,SACA,aACA,cACA,YACA,eACA,gBACA,mBACA,iBACA,qBAEEC,GAA+BvrF,IAAqB,CAACrzF,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,GAAM3Q,GAAM2+K,GAA0Bt5L,SAAS2a,MAAM,oGACjI6+K,GAAqBxrF,IAAqB,CAACrzF,EAAG2Q,IAAQ2iF,GAAStzF,EAAG2Q,GAAM3Q,GAAY,UAANA,GAAuB,SAANA,KAAgB,gEACrH,MAAM8+K,GACF1vL,cACIvL,KAAK40B,aAAU7yB,EACf/B,KAAK4lD,UAAO7jD,EACZ/B,KAAKuhG,eAAYx/F,EACjB/B,KAAKwhG,gBAAaz/F,EAClB/B,KAAK48F,SAAW,GAChB58F,KAAK68F,WAAa,sBAIlB78F,KAAK0jH,QAAU,EAIf1jH,KAAK+5F,MAAQ,sBACb/5F,KAAK4jF,cAAW7hF,EAChB/B,KAAKwqF,cAAWzoF,EAChB/B,KAAKigI,cAAWl+H,CACpB,EAEJktB,GAAW,CACPmgF,GAASkB,KACV2qF,GAAejyL,UAAW,eAAW,GACxCimB,GAAW,CACPmgF,GAASoB,KACVyqF,GAAejyL,UAAW,YAAQ,GACrCimB,GAAW,CACPmgF,GAAS0C,KACVmpF,GAAejyL,UAAW,iBAAa,GAC1CimB,GAAW,CACPmgF,GAAS4C,KACVipF,GAAejyL,UAAW,kBAAc,GAC3CimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBqqF,GAAejyL,UAAW,gBAAY,GACzCimB,GAAW,CACPmgF,GAASmB,KACV0qF,GAAejyL,UAAW,kBAAc,GAC3CimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBqqF,GAAejyL,UAAW,eAAW,GACxCimB,GAAW,CACPmgF,GAAS8B,KACV+pF,GAAejyL,UAAW,aAAS,GACtCimB,GAAW,CACPmgF,GAAS2rF,KACVE,GAAejyL,UAAW,gBAAY,GACzCimB,GAAW,CACPmgF,GAASiC,IAAY,IAAK,OAC3B4pF,GAAejyL,UAAW,gBAAY,GACzCimB,GAAW,CACPmgF,GAASkB,KACV2qF,GAAejyL,UAAW,gBAAY,GAClC,MAAMkyL,GACT3vL,cACIvL,KAAKgS,GAAK+5E,GAAS/rF,MACnBA,KAAK40B,aAAU7yB,EACf/B,KAAKuM,UAAOxK,EACZ/B,KAAKmmB,WAAQpkB,EACb/B,KAAKoB,WAAQW,EACb/B,KAAKwgC,UAAOz+B,EACZ/B,KAAKm6F,iBAAcp4F,EACnB/B,KAAKs6F,YAASv4F,EACd/B,KAAKu6F,iBAAcx4F,EACnB/B,KAAKo6F,mBAAgBr4F,EACrB/B,KAAKw6F,cAAWz4F,EAChB/B,KAAKwlH,MAAQ,IAAIy1E,GACjBj7L,KAAKmnF,WAAQplF,EACb/B,KAAK2kI,aAAe,EAAExwG,IAAUA,KAChCn0B,KAAK4lI,WAAa,EAClB5lI,KAAKugI,UAAY,EACjBvgI,KAAK2/H,qBAAuB,EAC5B3/H,KAAK4/H,oBAAsB,EAC3B5/H,KAAKkhH,UAAYpO,GAAmBsM,EACpCp/G,KAAK+yF,MAAQ,IAAIlB,GAAM,CAAEvtF,KAAO,GAAEtE,KAAKgS,KAAM+/E,OAAO,EAAM5O,OAAQ+3G,GAAUC,oBAC5En7L,KAAKo7L,eAAiB,IAAIZ,GAC1Bx6L,KAAKq7L,eAAiB,IAAIrhJ,GAC1Bh6C,KAAKs7L,gBAAav5L,EAClB/B,KAAKgN,KAAO,GACZhN,KAAKy6L,WAAY,EACjBz6L,KAAK06L,SAAU,EACf16L,KAAK26L,SAAU,EACf,MAAM,MAAE5nG,EAAK,eAAEqoG,EAAc,eAAEC,GAAmBr7L,KAClD+yF,EAAM9D,OAAO,CAACmsG,EAAgBC,IAC9BD,EAAev3G,cAAgB6J,GAAcgC,IACjD,CACAh/D,OAAO49D,GACH,IAAKtuF,KAAK40B,QACN,OAGJ,GADA50B,KAAK+yF,MAAMzE,QAAUA,GAChBA,EACD,OAEJ,MAAMitG,EAAcv7L,KAAK81I,iBACpBylD,GAILv7L,KAAKy1I,cACLz1I,KAAK+yF,MAAM5P,OAASnjF,KAAKw7L,UAAUx7L,KAAK26L,UAJpC36L,KAAK+yF,MAAMzE,SAAU,CAK7B,CACAmnD,cACIz1I,KAAKy7L,kBACDz7L,KAAKwlH,MAAM5wF,UACX50B,KAAKkpJ,cACLlpJ,KAAK07L,gBAEb,CACA5lD,iBACI,IAAIx8H,EAAIqb,EACR,MAAM,MAAEwyD,EAAK,WAAEy+C,EAAU,SAAErF,EAAQ,UAAErf,EAAWsE,OAAO,SAAE5hC,EAAW,OAAO,aAAE+gD,EAAY,YAAEpqC,EAAc,GAAOv6F,KAChH,IAAKmnF,EACD,OAAO,EAEX,MAAM0oC,EAAuC,QAA1Bv2G,EAAK6tE,EAAM0oC,iBAA8B,IAAPv2G,EAAgBA,EAAK,EACpEqiL,EAAuBntL,GAAM9D,KAAK0G,IAAI1G,KAAK2G,OAAOszH,GAAej6H,KAAK2G,IAAI3G,KAAK0G,OAAOuzH,GAAen2H,KACpGurL,EAAQJ,GAAQ,CAAC,EAAGp5D,EAAWqF,GACtC,IAAKg0D,EAAQC,GAAQ75L,KAAK47L,YACrBC,EAAeC,GAAe,CAC/BljL,OAAOuuE,EAAMwoC,QAAQiqE,EAAQ,CAAE3mE,QAAQ,KACvC9rC,EAAMwoC,QAAQkqE,EAAM,CAAE5mE,QAAQ,IAAWpD,GAE7CgsE,EAAgBF,EAAoBE,GACpCC,EAAcH,EAAoBG,IACjClC,EAAQC,GAAQ,CAACjhL,OAAOuuE,EAAMwoC,QAAQiqE,IAAUzyG,EAAMwoC,QAAQkqE,GAAQhqE,GACvE,MAAMksE,GAAcp2K,MAAMk2K,KACrBl2K,MAAMm2K,KACNlC,IAAWiC,GAAiBhC,IAASiC,GAAeD,IAAkBC,IACvEpxL,KAAKw9E,IAAI4zG,EAAcD,GAAiB,EAC5C,GAAIE,EAAY,CACZ,MAAM9hE,EAAU4hE,IAAkBnxL,KAAK2G,IAAIwqL,EAAeC,GACtD7hE,KACC4hE,EAAeC,GAAe,CAC3BpxL,KAAK2G,IAAIwqL,EAAeC,GACxBpxL,KAAK0G,IAAIyqL,EAAeC,KAE3BlC,EAAQC,GAAQ,CAACA,EAAMD,GAEhC,CAIA,GAHA55L,KAAK26L,QAAUoB,EACf/7L,KAAKy6L,WAAa90K,MAAMi0K,IAAWr/F,EAAc,GAAKq/F,IAAWiC,EACjE77L,KAAK06L,SAAW/0K,MAAMk0K,IAASt/F,EAAc,GAAKs/F,IAASiC,GACtDC,IAAe/7L,KAAKy6L,YAAcz6L,KAAK06L,QACxC,OAAO,EAGX,GADA16L,KAAKgN,KAAO,CAAC6uL,EAAeC,GACxB97L,KAAKwlH,MAAM5wF,QAAS,CACpB,MAAMwkK,EAAal4E,IAAcpO,GAAmBuM,GAC9C,EAAE/5G,EAAIo0L,IAA0E,QAA5C/kK,EAAK4lK,GAAwB32G,UAA8B,IAAPjvD,EAAgBA,EAAK,CAAC,GAC5GnmB,EAAGsyH,EAAQl5C,EAAGm5C,GAAWz7H,EAAE,CAAE8zL,aAAYW,SAAQJ,OAAMC,OAAQiC,EAAehC,KAAMiC,IAC5F97L,KAAKs7L,WAAa,CACd9sL,EAAGsyH,EACHl5C,EAAGm5C,EAEX,CACA,OAAO,CACX,CACA06D,kBACI,IAAIniL,EACJ,MAAM,eAAE8hL,EAAc,SAAE76D,EAAQ,WAAEqF,EAAU,KAAE54H,EAAI,UAAEytL,EAAS,QAAEC,EAAO,QAAEC,EAAO,KAAEn6J,EAAI,YAAE25D,EAAW,OAAEG,EAAM,YAAEC,EAAW,SAAEC,GAAcx6F,KACvIo7L,EAAe/xE,GAAK,EACpB+xE,EAAev2E,GAAK0b,EAAWqF,EAC/Bw1D,EAAe9xE,GAAKt8G,EAAK,GACzBouL,EAAet2E,GAAK93G,EAAK,GACzBouL,EAAeX,UAAYA,EAC3BW,EAAeV,QAAUA,EACzBU,EAAeT,QAAUA,EACzBS,EAAe56J,KAAOA,EACtB46J,EAAejhG,YAA8B,OAAhBA,QAAwC,IAAhBA,EAAyBA,EAAc,EAC5FihG,EAAe9gG,OAASA,EACxB8gG,EAAe7gG,YAA8B,OAAhBA,QAAwC,IAAhBA,EAAyBA,EAAc,EAC5F6gG,EAAehhG,cAA8C,QAA7B9gF,EAAKtZ,KAAKo6F,qBAAkC,IAAP9gF,EAAgBA,EAAK,EAC1F8hL,EAAe5gG,SAAWA,CAC9B,CACA0uD,cACI,MAAM,eAAEmyC,EAAc,MAAE71E,GAAUxlH,KAC7BwlH,EAAM5/D,OAGXy1I,EAAe95F,UAAYikB,EAAMjkB,UACjC85F,EAAe75F,WAAagkB,EAAMhkB,WAClC65F,EAAez+F,SAAW4oB,EAAM5oB,SAChCy+F,EAAex+F,WAAa2oB,EAAM3oB,WAClCw+F,EAAe76J,KAAOglF,EAAMzrB,MAC5BshG,EAAez1I,KAAO4/D,EAAM5/D,KAChC,CACA81I,gBACI,MAAM,eAAEL,EAAgBC,YAAY,EAAE9sL,EAAa,EAAEo5E,GAAkB,CAAC,EAAG49B,OAAO,SAAEya,EAAQ,SAAEz1C,EAAQ,SAAE5G,EAAW,MAAK,QAAE8/B,EAAU,GAAG,UAAExC,EAAS,qBAAEye,EAAoB,oBAAEC,GAAyB5/H,KACnM,QAAU+B,IAANyM,QAAyBzM,IAAN6lF,EACnB,OAEJ,MAAM,gBAAEo4C,EAAe,mBAAEH,GAAuBH,GAAuB,CACnEl1C,WACAy1C,WACAL,sBACAD,yBAEJ07D,EAAe7wG,SAAWw1C,EAAkBH,EAC5Cw7D,EAAe30G,aAAe,SAC9B20G,EAAe10G,UAAY,SAC3B,MAAMM,EAAOjnF,KAAKg8L,mBAClB,IAAK/0G,EACD,OAEJ,MAAMmyG,EAAal4E,IAAcpO,GAAmBuM,GAC9C,aAAEi6E,EAAY,aAAEC,GAAiBJ,GAA0B,CAAEC,aAAY11E,UAAS9/B,WAAUqD,SAClGo0G,EAAe5wG,aAAej8E,EAAI8qL,EAClC+B,EAAe3wG,aAAe9C,EAAI2xG,CACtC,CACAiC,UAAUb,GAAU,GAChB,OAAIA,EACOO,GAAUe,mBAEdf,GAAUC,iBACrB,CACAS,WACI,MAAM,MAAEx6L,EAAK,MAAE+kB,EAAK,MAAEghE,GAAUnnF,KAC1BuiG,EAAepb,aAAiBorC,GACtC,IAAKlsG,EAAOC,GAAiB,OAAVH,QAA4B,IAAVA,EAAmBA,EAAQ,CAAC/kB,OAAOW,GAaxE,OAZKwgG,QAAwBxgG,IAARukB,IACjBA,EAAMD,GAEVA,EAA2C,MAAnCq8E,GAAWr8E,EAAOk8E,GAAwBl8E,OAAQtkB,EAC1DukB,EAAuC,MAAjCo8E,GAAWp8E,EAAKi8E,GAAwBj8E,OAAMvkB,EAChDwgG,GAAgBl8E,IAAUC,IAC1BA,OAAMvkB,QAEIA,IAAVskB,QAA+BtkB,IAARukB,IACvBD,EAAQC,EACRA,OAAMvkB,GAEH,CAACskB,EAAOC,EACnB,CACA01K,mBACI,OAAOh8L,KAAKq7L,eAAe1rG,wBAC/B,CACAg0B,iBAAiBD,GACb,IAAIpqG,EAAIqb,EAAI2C,EAAIH,EAAIi/E,EAAIC,EAAIC,EAAIssC,EAChC,MAAM,QAAE+3C,EAAO,UAAEF,EAAS,QAAEC,EAAO,UAAEx5E,EAAWsE,OAAS9B,QAASw4E,EAAe,EAAC,SAAEt4G,EAAW,QAAa5jF,KAC5G,IAAK26L,IAAYF,IAAcC,EAC3B,OAEJ,MAAMyB,EAAqBn8L,KAAKg8L,mBAC1Bl7D,EAAgC,OAAvBq7D,QAAsD,IAAvBA,OAAgC,EAASA,EAAmB3tL,EACpGuyH,EAAgC,OAAvBo7D,QAAsD,IAAvBA,OAAgC,EAASA,EAAmBv0G,EAC1G,IAAKu0G,QAAgCp6L,GAAV++H,QAAiC/+H,GAAVg/H,EAC9C,OAEJ,MAAM04D,EAAeD,GAA2B,CAC5CJ,WAAYl4E,IAAcpO,GAAmBuM,EAC7CqE,QAASw4E,EACTt4G,WACAqD,KAAMk1G,IAEVz4E,EAAQ9tD,KAAOlrD,KAAK0G,IAA4B,QAAvBkI,EAAKoqG,EAAQ9tD,YAAyB,IAAPt8C,EAAgBA,EAAK,EAAgC,QAA5Bqb,EAAK8kK,EAAa7jI,YAAyB,IAAPjhC,EAAgBA,EAAK,GAC1I+uF,EAAQxqD,MAAQxuD,KAAK0G,IAA6B,QAAxBkmB,EAAKosF,EAAQxqD,aAA0B,IAAP5hC,EAAgBA,EAAK,EAAiC,QAA7BH,EAAKsiK,EAAavgI,aAA0B,IAAP/hC,EAAgBA,EAAK,GAC7IusF,EAAQ5tD,IAAMprD,KAAK0G,IAA2B,QAAtBglG,EAAKsN,EAAQ5tD,WAAwB,IAAPsgD,EAAgBA,EAAK,EAA+B,QAA3BC,EAAKojF,EAAa3jI,WAAwB,IAAPugD,EAAgBA,EAAK,GACvIqN,EAAQj7B,OAAS/9E,KAAK0G,IAA8B,QAAzBklG,EAAKoN,EAAQj7B,cAA2B,IAAP6tB,EAAgBA,EAAK,EAAkC,QAA9BssC,EAAK62C,EAAahxG,cAA2B,IAAPm6D,EAAgBA,EAAK,EACpJ,EAEJs4C,GAAUC,kBAAoBtoF,GAAOupF,6BACrClB,GAAUe,mBAAqBppF,GAAOwpF,8BACtCnB,GAAU7wI,UAAY,YACtBp7B,GAAW,CACPmgF,GAASkB,KACV4qF,GAAUlyL,UAAW,eAAW,GACnCimB,GAAW,CACPmgF,GAAS4rF,KACVE,GAAUlyL,UAAW,YAAQ,GAChCimB,GAAW,CACPmgF,GAASO,GAAU,KACpBurF,GAAUlyL,UAAW,aAAS,GACjCimB,GAAW,CACPmgF,GAAS8B,KACVgqF,GAAUlyL,UAAW,YAAQ,GAChCimB,GAAW,CACPmgF,GAASiC,GAAW,EAAG,KACxB6pF,GAAUlyL,UAAW,mBAAe,GACvCimB,GAAW,CACPmgF,GAAS8B,KACVgqF,GAAUlyL,UAAW,cAAU,GAClCimB,GAAW,CACPmgF,GAASiC,OACV6pF,GAAUlyL,UAAW,mBAAe,GACvCimB,GAAW,CACPmgF,GAASiC,GAAW,EAAG,KACxB6pF,GAAUlyL,UAAW,qBAAiB,GACzCimB,GAAW,CACPmgF,GAAS8C,KACVgpF,GAAUlyL,UAAW,gBAAY,GCrU7B,MAAMszL,GAAqB,CAC9BrsD,aAAc,CAAC,GAEbssD,GAAqB,CACvBtsD,aAAc,CACVr2B,MAAOgY,GACP2gC,SAAU3gC,GACV4gC,SAAU5gC,GACV01C,OAAQie,GACR7e,YAAaV,GACb,sBAAuBk1B,GACvB,eAAgBh5D,GAChB,yBAA0B6jC,IAE9B71B,aAAc,CACV,iCAAkC,CAAC,YAAa,YAChD,wBAAyB,CAAC,YAAa,YACvC,oBAAqB,CAAC,YAAa,oBAGpC,SAASssD,KACZ,MAAO,CACHvsD,aAAcpuI,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG64K,GAAmBtsD,cAAeqsD,GAAmBrsD,cACnGC,aAAcruI,OAAO6hB,OAAO,CAAC,EAAG64K,GAAmBrsD,cAE3D,CC9BO,MAAMusD,GACTlxL,cACIvL,KAAK4hJ,WAAa,EACtB,CACAtxH,UACI,IAAK,MAAM6xH,KAAaniJ,KAAK4hJ,WACzBO,GAER,EAEG,MAAMu6C,GAAqB,GAC3B,SAASC,GAAe/8L,GAC3B,MAAMg9L,EAAcF,GAAmBz1H,MAAM6gB,GACjCloF,EAAO2M,OAASu7E,EAAMv7E,MAC1B3M,EAAO4tI,aAAe1lD,EAAM0lD,YAC5B5tI,EAAOitE,aAAeib,EAAMjb,aAEpC,GAAI+vH,GACA,GAA2B,eAAvBh9L,EAAOi9L,aAA4D,cAA5BD,EAAYC,YAA6B,CAEhF,MAAMt7L,EAAQm7L,GAAmBj7L,QAAQm7L,GACzCF,GAAmB94K,OAAOriB,EAAO,EAAG3B,EACxC,OAOA88L,GAAmB/sL,KAAK/P,EAEhC,CC/BA,IAAIqvB,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAIO,MAAM28K,WAAoB7vE,GAC7B1hH,cACI+jB,SAASzsB,WACT7C,KAAK+8L,MAAQ,UACb/8L,KAAKg9L,QAAU,UACfh9L,KAAKi9L,aAAe,EACpBj9L,KAAKk9L,SAAW,SAChBl9L,KAAKm9L,SAAW,EAChBn9L,KAAKo9L,SAAW,EAEhBp9L,KAAKujF,OAAS,EAEdvjF,KAAKq9L,aAAe,EAEpBr9L,KAAKs9L,gBAAkB,EACvBt9L,KAAKwjF,QAAU,EACnB,CACIqtC,YAAQzvH,GACJpB,KAAKm9L,WAAa/7L,IAClBpB,KAAKm9L,SAAW/7L,EAChBpB,KAAKktH,WAAY,EAEzB,CACI2D,cACA,OAAO7wH,KAAKm9L,QAChB,CACIrsE,YAAQ1vH,GACJpB,KAAKo9L,WAAah8L,IAClBpB,KAAKo9L,SAAWh8L,EAChBpB,KAAKktH,WAAY,EAEzB,CACI4D,cACA,OAAO9wH,KAAKo9L,QAChB,CACIn6G,UAAM7hF,GACFpB,KAAKujF,SAAWniF,IAChBpB,KAAKujF,OAASniF,EACdpB,KAAKktH,WAAY,EAEzB,CACIjqC,YACA,OAAOjjF,KAAKujF,MAChB,CACIg6G,gBAAYn8L,GACRpB,KAAKq9L,eAAiBj8L,IACtBpB,KAAKq9L,aAAej8L,EACpBpB,KAAKktH,WAAY,EAEzB,CACIqwE,kBACA,OAAOv9L,KAAKq9L,YAChB,CACIG,mBAAep8L,GACXpB,KAAKs9L,kBAAoBl8L,IACzBpB,KAAKs9L,gBAAkBl8L,EACvBpB,KAAKktH,WAAY,EAEzB,CACIswE,qBACA,OAAOx9L,KAAKs9L,eAChB,CACI3tK,WAAOvuB,GACHpB,KAAKwjF,UAAYpiF,IACjBpB,KAAKwjF,QAAUpiF,EACfpB,KAAKktH,WAAY,EAEzB,CACIv9F,aACA,OAAO3vB,KAAKwjF,OAChB,CACAuM,cACI,MAAM,QAAE8gC,EAAO,QAAEC,EAAO,MAAE7tC,EAAK,OAAEtzD,GAAW3vB,KACtCwO,EAAIqiH,EAAU5tC,EAAQ,EACtB2E,EAAIkpC,EAAUnhG,EAAS,EAC7B,OAAO,IAAIg4D,GAAKn5E,EAAGo5E,EAAG3E,EAAOtzD,EACjC,CACA8sE,cAAcjuF,EAAGo5E,GACb,MAAM8V,EAAQ19F,KAAKypF,eAAej7E,EAAGo5E,GAC/BX,EAAOjnF,KAAK+vF,cAClB,OAAO9I,EAAKc,cAAc2V,EAAMlvF,EAAGkvF,EAAM9V,EAC7C,CACAylC,aACI,MAAM,KAAErsF,EAAI,QAAE6vF,EAAO,QAAEC,EAAO,MAAE7tC,EAAK,OAAEtzD,GAAW3vB,KAClDghC,EAAKlkB,QACL,MAAMtO,EAAIqiH,EAAU5tC,EAAQ,EACtB2E,EAAIkpC,EAAUnhG,EAAS,EACvB8tK,EAAKz9L,KAAKy7F,MAAMjtF,GAChBkvL,EAAK19L,KAAKy7F,MAAM7T,GAChB+1G,EAAMF,EAAKz9L,KAAKy7F,MAAMjtF,EAAGy0E,GACzB26G,EAAMF,EAAK19L,KAAKy7F,MAAM7T,EAAGj4D,GAE/BqR,EAAK8yD,OAAO2pG,EAAIC,GAChB18J,EAAK+yD,OAAO4pG,EAAKD,GACjB18J,EAAK+yD,OAAO4pG,EAAKC,GACjB58J,EAAK+yD,OAAO0pG,EAAIG,GAChB58J,EAAK+yD,OAAO0pG,EAAIC,GAEhB,MAAM/nI,EAAK31D,KAAKu9L,YAAc,EACxB1nI,EAAK71D,KAAKw9L,eAAiB,EACjCx8J,EAAK8yD,OAAO9zF,KAAKy7F,MAAMo1B,EAAUl7D,GAAK31D,KAAKy7F,MAAMq1B,EAAUj7D,IAC3D70B,EAAK+yD,OAAO/zF,KAAKy7F,MAAMo1B,EAAUl7D,GAAK31D,KAAKy7F,MAAMq1B,EAAUj7D,IAC3D70B,EAAK8yD,OAAO9zF,KAAKy7F,MAAMo1B,EAAUl7D,GAAK31D,KAAKy7F,MAAMq1B,EAAUj7D,IAC3D70B,EAAK+yD,OAAO/zF,KAAKy7F,MAAMo1B,EAAUl7D,GAAK31D,KAAKy7F,MAAMq1B,EAAUj7D,GAC/D,EAEJinI,GAAYzyI,UAAY,cACxBp7B,GAAW,CACPmgF,GAAS4B,KACV8rF,GAAY9zL,UAAW,aAAS,GACnCimB,GAAW,CACPmgF,GAAS4B,KACV8rF,GAAY9zL,UAAW,eAAW,GACrCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBksF,GAAY9zL,UAAW,oBAAgB,GAC1CimB,GAAW,CACPmgF,GAASgD,KACV0qF,GAAY9zL,UAAW,gBAAY,GACtCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBksF,GAAY9zL,UAAW,cAAU,GACpCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBksF,GAAY9zL,UAAW,oBAAgB,GAC1CimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBksF,GAAY9zL,UAAW,uBAAmB,GAC7CimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBksF,GAAY9zL,UAAW,eAAW,GC3IrC,IAAIimB,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAIO,MAAM09K,WAAkB5wE,GAC3B1hH,cACI+jB,SAASzsB,WACT7C,KAAKg9L,QAAU,UACfh9L,KAAKi9L,aAAe,EACpBj9L,KAAK+8L,MAAQ,UACb/8L,KAAK89L,aAAe,GACpB99L,KAAKk9L,SAAW,SAChBl9L,KAAKuvF,GAAK,EACVvvF,KAAKwvF,GAAK,EACVxvF,KAAKujF,OAAS,IACdvjF,KAAKwjF,QAAU,GACfxjF,KAAK+9L,SAAW,IAChB/9L,KAAKo0K,KAAO,EACZp0K,KAAKusI,KAAO,CAChB,CACI/9H,MAAEpN,GACEpB,KAAKuvF,KAAOnuF,IACZpB,KAAKuvF,GAAKnuF,EACVpB,KAAKktH,WAAY,EAEzB,CACI1+G,QACA,OAAOxO,KAAKuvF,EAChB,CACI3H,MAAExmF,GACEpB,KAAKwvF,KAAOpuF,IACZpB,KAAKwvF,GAAKpuF,EACVpB,KAAKktH,WAAY,EAEzB,CACItlC,QACA,OAAO5nF,KAAKwvF,EAChB,CACIvM,UAAM7hF,GACFpB,KAAKujF,SAAWniF,IAChBpB,KAAKujF,OAASniF,EACdpB,KAAKktH,WAAY,EAEzB,CACIjqC,YACA,OAAOjjF,KAAKujF,MAChB,CACI5zD,WAAOvuB,GACHpB,KAAKwjF,UAAYpiF,IACjBpB,KAAKwjF,QAAUpiF,EACfpB,KAAKktH,WAAY,EAEzB,CACIv9F,aACA,OAAO3vB,KAAKwjF,OAChB,CACInyE,QAAIjQ,GACJ,IAAIkY,EACJlY,EAAQsJ,KAAK2G,IAAI3G,KAAK0G,IAAIhQ,EAAO,GAAIpB,KAAKoR,IAAMpR,KAAK+9L,UACjDp4K,MAAMvkB,IAGNpB,KAAKo0K,OAAShzK,IACdpB,KAAKo0K,KAAOhzK,EACZpB,KAAKktH,WAAY,EACa,QAA7B5zG,EAAKtZ,KAAKg+L,qBAAkC,IAAP1kL,GAAyBA,EAAG9P,KAAKxJ,MAE/E,CACIqR,UACA,OAAOrR,KAAKo0K,IAChB,CACIhjK,QAAIhQ,GACJ,IAAIkY,EACJlY,EAAQsJ,KAAK0G,IAAI1G,KAAK2G,IAAIjQ,EAAO,GAAIpB,KAAKqR,IAAMrR,KAAK+9L,UACjDp4K,MAAMvkB,IAGNpB,KAAKusI,OAASnrI,IACdpB,KAAKusI,KAAOnrI,EACZpB,KAAKktH,WAAY,EACa,QAA7B5zG,EAAKtZ,KAAKg+L,qBAAkC,IAAP1kL,GAAyBA,EAAG9P,KAAKxJ,MAE/E,CACIoR,UACA,OAAOpR,KAAKusI,IAChB,CACAx8C,cACI,MAAM,EAAEvhF,EAAC,EAAEo5E,EAAC,MAAE3E,EAAK,OAAEtzD,GAAW3vB,KAChC,OAAO,IAAI2nF,GAAKn5E,EAAGo5E,EAAG3E,EAAOtzD,EACjC,CACAsuK,0BACI,MAAM,EAAEzvL,EAAC,EAAEo5E,EAAC,MAAE3E,EAAK,OAAEtzD,EAAM,IAAEte,EAAG,IAAED,GAAQpR,KACpCs/J,EAAO9wJ,EAAIy0E,EAAQ5xE,EACnB6sL,EAAO1vL,EAAIy0E,EAAQ7xE,EACzB,OAAO,IAAIu2E,GAAK23E,EAAM13E,EAAGs2G,EAAO5+B,EAAM3vI,EAC1C,CACA09F,aACI,MAAM,KAAErsF,EAAI,EAAExyB,EAAC,EAAEo5E,EAAC,MAAE3E,EAAK,OAAEtzD,EAAM,IAAEte,EAAG,IAAED,GAAQpR,KAChDghC,EAAKlkB,QACL,MAAM2gL,EAAKz9L,KAAKy7F,MAAMjtF,GAChBkvL,EAAK19L,KAAKy7F,MAAM7T,GAChB+1G,EAAMF,EAAKz9L,KAAKy7F,MAAMjtF,EAAGy0E,GACzB26G,EAAMF,EAAK19L,KAAKy7F,MAAM7T,EAAGj4D,GAE/BqR,EAAK8yD,OAAO2pG,EAAIC,GAChB18J,EAAK+yD,OAAO4pG,EAAKD,GACjB18J,EAAK+yD,OAAO4pG,EAAKC,GACjB58J,EAAK+yD,OAAO0pG,EAAIG,GAChB58J,EAAK+yD,OAAO0pG,EAAIC,GAChB,MAAMp+B,EAAOt/J,KAAKy7F,MAAMjtF,EAAIy0E,EAAQ5xE,GAC9B6sL,EAAOl+L,KAAKy7F,MAAMjtF,EAAIy0E,EAAQ7xE,GAEpC4vB,EAAK8yD,OAAOwrE,EAAMo+B,GAClB18J,EAAK+yD,OAAOurE,EAAMs+B,GAClB58J,EAAK+yD,OAAOmqG,EAAMN,GAClB58J,EAAK+yD,OAAOmqG,EAAMR,GAClB18J,EAAK+yD,OAAOurE,EAAMo+B,EACtB,EAEJG,GAAUxzI,UAAY,YACtBp7B,GAAW,CACPmgF,GAAS4B,KACV6sF,GAAU70L,UAAW,eAAW,GACnCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBitF,GAAU70L,UAAW,oBAAgB,GACxCimB,GAAW,CACPmgF,GAAS4B,KACV6sF,GAAU70L,UAAW,aAAS,GACjCimB,GAAW,CACPmgF,GAASwB,GAAO,EAAG,KACpBitF,GAAU70L,UAAW,oBAAgB,GACxCimB,GAAW,CACPmgF,GAASgD,KACVyrF,GAAU70L,UAAW,gBAAY,GACpCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBitF,GAAU70L,UAAW,cAAU,GAClCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBitF,GAAU70L,UAAW,eAAW,GACnCimB,GAAW,CACPmgF,GAASwB,OACVitF,GAAU70L,UAAW,YAAQ,GAChCimB,GAAW,CACPmgF,GAASwB,OACVitF,GAAU70L,UAAW,YAAQ,GCnJzB,MAAMm1L,WAAsBtsG,GAC/BtmF,cACI+jB,MAAM,CAAEhrB,KAAM,uBACdtE,KAAKo+L,UAAY,IAAItB,GACrB98L,KAAKq+L,UAAY,IAAIvB,GACrB98L,KAAKs+L,KAAO,MACR,MAAM,EAAE9vL,EAAC,EAAEo5E,EAAC,MAAE3E,EAAK,OAAEtzD,EAAM,IAAEte,EAAG,IAAED,GAAQ+sL,GAAcrvJ,SAClDwvJ,EAAO,IAAIT,GACjBS,EAAK9vL,EAAIA,EACT8vL,EAAK12G,EAAIA,EACT02G,EAAKr7G,MAAQA,EACbq7G,EAAK3uK,OAASA,EACd2uK,EAAKjtL,IAAMA,EACXitL,EAAKltL,IAAMA,EACX,MAAM,UAAEgtL,EAAS,UAAEC,GAAcr+L,KAUjC,OATAo+L,EAAUvtE,QAAUriH,EACpB6vL,EAAUxtE,QAAUriH,EAAIy0E,EACxBm7G,EAAUttE,QAAUutE,EAAUvtE,QAAUlpC,EAAIj4D,EAAS,EACrD3vB,KAAKivF,OAAO,CAACqvG,EAAMF,EAAWC,IAC9BC,EAAKN,cAAgB,KACjB,IAAI1kL,EACJtZ,KAAKu+L,gBACyB,QAA7BjlL,EAAKtZ,KAAKg+L,qBAAkC,IAAP1kL,GAAyBA,EAAG9P,KAAKxJ,KAAK,EAEzEs+L,CACV,EApBW,GAqBZt+L,KAAKuvF,GAAK4uG,GAAcrvJ,SAAStgC,EACjCxO,KAAKwvF,GAAK2uG,GAAcrvJ,SAAS84C,EACjC5nF,KAAKujF,OAAS46G,GAAcrvJ,SAASm0C,MACrCjjF,KAAKwjF,QAAU26G,GAAcrvJ,SAASnf,OACtC3vB,KAAKo0K,KAAO+pB,GAAcrvJ,SAASz9B,IACnCrR,KAAKusI,KAAO4xD,GAAcrvJ,SAAS19B,IACnCpR,KAAKiuF,iBAAkB,CAC3B,CACIz/E,MAAEpN,GACFpB,KAAKs+L,KAAK9vL,EAAIpN,EACdpB,KAAKu+L,eACT,CACI/vL,QACA,OAAOxO,KAAKs+L,KAAK9vL,CACrB,CACIo5E,MAAExmF,GACFpB,KAAKs+L,KAAK12G,EAAIxmF,EACdpB,KAAKu+L,eACT,CACI32G,QACA,OAAO5nF,KAAKs+L,KAAK12G,CACrB,CACI3E,UAAM7hF,GACNpB,KAAKs+L,KAAKr7G,MAAQ7hF,EAClBpB,KAAKu+L,eACT,CACIt7G,YACA,OAAOjjF,KAAKs+L,KAAKr7G,KACrB,CACItzD,WAAOvuB,GACPpB,KAAKs+L,KAAK3uK,OAASvuB,EACnBpB,KAAKu+L,eACT,CACI5uK,aACA,OAAO3vB,KAAKs+L,KAAK3uK,MACrB,CACIte,QAAIjQ,GACJpB,KAAKs+L,KAAKjtL,IAAMjQ,CACpB,CACIiQ,UACA,OAAOrR,KAAKs+L,KAAKjtL,GACrB,CACID,QAAIhQ,GACJpB,KAAKs+L,KAAKltL,IAAMhQ,CACpB,CACIgQ,UACA,OAAOpR,KAAKs+L,KAAKltL,GACrB,CACAmtL,gBACI,MAAM,UAAEH,EAAS,UAAEC,EAAS,EAAE7vL,EAAC,EAAEo5E,EAAC,MAAE3E,EAAK,OAAEtzD,EAAM,KAAE2uK,GAASt+L,KAC5Do+L,EAAUvtE,QAAUriH,EAAIy0E,EAAQq7G,EAAKjtL,IACrCgtL,EAAUxtE,QAAUriH,EAAIy0E,EAAQq7G,EAAKltL,IACrCgtL,EAAUttE,QAAUutE,EAAUvtE,QAAUlpC,EAAIj4D,EAAS,CACzD,CACAogE,cACI,OAAO/vF,KAAKs+L,KAAKvuG,aACrB,CACAkuG,0BACI,OAAOj+L,KAAKs+L,KAAKL,yBACrB,CACAxuK,OAAOwgE,GACH,MAAM,IAAEnjE,EAAG,YAAE4lE,EAAW,MAAExC,GAAUD,EACpC,GAAIjwF,KAAKwwF,QAAUvE,GAAWa,OAAS4F,EAGnC,YAFIxC,GACAA,EAAMiD,gBAGdnzF,KAAKmvF,yBACLnvF,KAAKqqF,OAAOF,UAAUr9D,GACtB,MAAM,KAAEwxK,EAAI,UAAEF,EAAS,UAAEC,GAAcr+L,KACvC,CAACs+L,EAAMF,EAAWC,GAAWxlL,SAAS+f,IAC9BA,EAAM01D,UAAYoE,GAAe95D,EAAM43D,MAAQvE,GAAWa,QAC1DhgE,EAAIs3D,OACJxrD,EAAMnJ,OAAO5tB,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGusE,GAAY,CAAEnjE,MAAK4lE,iBAChE5lE,EAAIw3D,UACR,IAEJtkF,KAAKutF,UAAU,CAAEkD,OAAO,IACpBP,GACAA,EAAMC,eACd,EAEJguG,GAAc9zI,UAAY,QAC1B8zI,GAAcrvJ,SAAW,CACrBtgC,EAAG,EACHo5E,EAAG,EACH3E,MAAO,IACPtzD,OAAQ,GACRte,IAAK,EACLD,IAAK,GCvHF,MAAMotL,GACTjzL,YAAYkzL,GACRz+L,KAAK0+L,GAAKD,CACd,CACIj+J,SAAKp/B,GACLpB,KAAK0+L,GAAGl+J,KAAOp/B,CACnB,CACIo/B,WACA,OAAOxgC,KAAK0+L,GAAGl+J,IACnB,CACI85D,WAAOl5F,GACPpB,KAAK0+L,GAAGpkG,OAASl5F,CACrB,CACIk5F,aACA,OAAOt6F,KAAK0+L,GAAGpkG,MACnB,CACIC,gBAAYn5F,GACZpB,KAAK0+L,GAAGnkG,YAAcn5F,CAC1B,CACIm5F,kBACA,OAAOv6F,KAAK0+L,GAAGnkG,WACnB,CACIJ,gBAAY/4F,GACZpB,KAAK0+L,GAAGvkG,YAAc/4F,CAC1B,CACI+4F,kBACA,OAAOn6F,KAAK0+L,GAAGvkG,WACnB,EC3BG,MAAMwkG,GACTpzL,YAAYqzL,GACR5+L,KAAK6+L,GAAKD,CACd,CACIp+J,SAAKp/B,GACLpB,KAAK6+L,GAAGr+J,KAAOp/B,CACnB,CACIo/B,WACA,OAAOxgC,KAAK6+L,GAAGr+J,IACnB,CACI85D,WAAOl5F,GACPpB,KAAK6+L,GAAGvkG,OAASl5F,CACrB,CACIk5F,aACA,OAAOt6F,KAAK6+L,GAAGvkG,MACnB,CACIC,gBAAYn5F,GACZpB,KAAK6+L,GAAGtkG,YAAcn5F,CAC1B,CACIm5F,kBACA,OAAOv6F,KAAK6+L,GAAGtkG,WACnB,CACItX,UAAM7hF,GACNpB,KAAK6+L,GAAG57G,MAAQ7hF,CACpB,CACI6hF,YACA,OAAOjjF,KAAK6+L,GAAG57G,KACnB,CACItzD,WAAOvuB,GACPpB,KAAK6+L,GAAGlvK,OAASvuB,CACrB,CACIuuB,aACA,OAAO3vB,KAAK6+L,GAAGlvK,MACnB,CACI4tK,gBAAYn8L,GACZpB,KAAK6+L,GAAGtB,YAAcn8L,CAC1B,CACIm8L,kBACA,OAAOv9L,KAAK6+L,GAAGtB,WACnB,CACIC,mBAAep8L,GACfpB,KAAK6+L,GAAGrB,eAAiBp8L,CAC7B,CACIo8L,qBACA,OAAOx9L,KAAK6+L,GAAGrB,cACnB,EC7CJ,IAAIvuK,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAOO,MAAM2+K,WAAkBrC,GAC3BlxL,YAAYuhB,GACRwC,QACAtvB,KAAK8sB,IAAMA,EACX9sB,KAAK++L,GAAK,IAAIZ,GAEdn+L,KAAKs+L,KAAO,IAAIE,GAAcx+L,KAAK++L,GAAGT,MACtCt+L,KAAKo+L,UAAY,IAAIO,GAAgB3+L,KAAK++L,GAAGX,WAC7Cp+L,KAAKq+L,UAAY,IAAIM,GAAgB3+L,KAAK++L,GAAGV,WAC7Cr+L,KAAKg/L,mBAAoB,EACzBh/L,KAAKi/L,mBAAoB,EACzBj/L,KAAKk/L,gBAAkBr5K,IACvB7lB,KAAKqjF,UAAW,EAChBrjF,KAAKo5I,OAAS,GACdp5I,KAAKw/G,UAAW,EAChBx/G,KAAK++L,GAAGf,cAAgB,IAAMh+L,KAAK8sB,IAAI+mI,YAAY9Q,WAAW,YAAa,CAAEv0I,EAAG,CAAE6C,IAAKrR,KAAK++L,GAAG1tL,IAAKD,IAAKpR,KAAK++L,GAAG3tL,OACjH,CACI0b,EAAIyvH,mBAAmBnI,YAAY,cAAev/G,GAAU70B,KAAKm/L,YAAYtqK,KAC7E/H,EAAIyvH,mBAAmBnI,YAAY,QAASv/G,GAAU70B,KAAKo/L,OAAOvqK,KAClE/H,EAAIyvH,mBAAmBnI,YAAY,SAAUv/G,GAAU70B,KAAKo/L,OAAOvqK,KACnE/H,EAAIyvH,mBAAmBnI,YAAY,YAAY,IAAMp0I,KAAKq/L,gBAC5DxmL,SAASxT,GAAMrF,KAAK4hJ,WAAWjyI,MAAK,IAAMmd,EAAIyvH,mBAAmBxC,eAAe10I,OAClF,CACIynB,EAAIo/H,cAAc9X,YAAY,iBAAkBv/G,GAAU70B,KAAKsjI,OAAOzuG,KACtE/H,EAAIo/H,cAAc9X,YAAY,mBAAoBv/G,GAAU70B,KAAKs/L,eAAezqK,MAClFhc,SAASxT,GAAMrF,KAAK4hJ,WAAWjyI,MAAK,IAAMmd,EAAIo/H,cAAcnS,eAAe10I,OAC7EynB,EAAIolE,MAAMzyF,KAAKuqD,YAAYhqD,KAAK++L,IAChC/+L,KAAK4hJ,WAAWjyI,MAAK,KAAQ,IAAI2J,EAAI,OAAiC,QAAzBA,EAAKwT,EAAIolE,MAAMzyF,YAAyB,IAAP6Z,OAAgB,EAASA,EAAGiwC,YAAYvpD,KAAK++L,GAAG,IAC9H/+L,KAAK4hJ,WAAWjyI,MAAK,IAAM3P,KAAK8sB,IAAI+mI,YAAY9Q,WAAW,eAC3D/iJ,KAAKipJ,uBACT,CACIr0H,YAAQxzB,GACRpB,KAAKqjF,SAAWjiF,EAChBpB,KAAKipJ,uBACT,CACIr0H,cACA,OAAO50B,KAAKqjF,QAChB,CACIJ,UAAM7hF,GACNpB,KAAK++L,GAAG97G,MAAQ7hF,CACpB,CACI6hF,YACA,OAAOjjF,KAAK++L,GAAG97G,KACnB,CACItzD,WAAOvuB,GACPpB,KAAK++L,GAAGpvK,OAASvuB,CACrB,CACIuuB,aACA,OAAO3vB,KAAK++L,GAAGpvK,MACnB,CACIte,QAAIjQ,GACJpB,KAAK++L,GAAG1tL,IAAMjQ,CAClB,CACIiQ,UACA,OAAOrR,KAAK++L,GAAG1tL,GACnB,CACID,QAAIhQ,GACJpB,KAAK++L,GAAG3tL,IAAMhQ,CAClB,CACIgQ,UACA,OAAOpR,KAAK++L,GAAG3tL,GACnB,CACIk9E,YAAQltF,GACRpB,KAAKw/G,SAAWp+G,EAChBpB,KAAKipJ,uBACT,CACI36D,cACA,OAAOtuF,KAAKw/G,QAChB,CACAypC,wBACI,MAAM36D,EAAUtuF,KAAK40B,SAAW50B,KAAKsuF,QACrCtuF,KAAK++L,GAAGzwG,QAAUA,EACdA,EACAtuF,KAAK8sB,IAAI+mI,YAAY9Q,WAAW,YAAa,CAAEv0I,EAAG,CAAE6C,IAAKrR,KAAK++L,GAAG1tL,IAAKD,IAAKpR,KAAK++L,GAAG3tL,OAGnFpR,KAAK8sB,IAAI+mI,YAAY9Q,WAAW,YAExC,CACAzf,QAAO,WAAEmgB,IACL,GAAIzjJ,KAAK40B,QAAS,CACd,MAAM2qK,EAAuBv/L,KAAK++L,GAAGpvK,OAAS3vB,KAAKo5I,OACnDqK,EAAWt7D,OAAOo3G,EAAsB,UACxCv/L,KAAK++L,GAAGn3G,EAAI67D,EAAW77D,EAAI67D,EAAW9zH,OAAS3vB,KAAKo5I,MACxD,CACA,MAAO,CAAEqK,aACb,CACA67C,gBAAiBjhF,QAAQ,KAAEsN,EAAI,QAAEr9B,KACzBtuF,KAAK40B,SAAW05D,IAChBtuF,KAAK++L,GAAGvwL,EAAIm9G,EAAKn9G,EACjBxO,KAAK++L,GAAG97G,MAAQ0oC,EAAK1oC,OAEzBjjF,KAAKsuF,QAAUA,CACnB,CACA6wG,YAAYrhI,GACR,IAAK99D,KAAK40B,QACN,OAEJ,MAAM,QAAEmnF,EAAO,QAAEhe,GAAYjgC,GACvB,GAAEihI,GAAO/+L,MACT,UAAEo+L,EAAS,UAAEC,EAAS,EAAE7vL,EAAC,MAAEy0E,EAAK,IAAE5xE,GAAQ0tL,EAC1Cx7D,EAAew7D,EAAGd,0BAClBj+L,KAAKg/L,mBAAqBh/L,KAAKi/L,oBAC7Bb,EAAUr2G,cAAcg0B,EAAShe,GACjC/9F,KAAKg/L,mBAAoB,EAEpBX,EAAUt2G,cAAcg0B,EAAShe,GACtC/9F,KAAKi/L,mBAAoB,EAEpB17D,EAAax7C,cAAcg0B,EAAShe,KACzC/9F,KAAKk/L,iBAAmBnjF,EAAUvtG,GAAKy0E,EAAQ5xE,GAG3D,CACA+tL,OAAOthI,GACH,IAAK99D,KAAK40B,QACN,OAEJ,MAAM,GAAEmqK,EAAE,gBAAEG,GAAoBl/L,MAC1B,EAAEwO,EAAC,EAAEo5E,EAAC,MAAE3E,EAAK,OAAEtzD,EAAM,UAAEyuK,EAAS,UAAEC,GAAcU,GAChD,QAAEhjF,EAAO,QAAEhe,GAAYjgC,EACvBwhG,EAAO9wJ,EAAIy0E,EAAQ87G,EAAG1tL,IACtB6sL,EAAO1vL,EAAIy0E,EAAQ87G,EAAG3tL,IACtBmyH,EAAe,IAAI57C,GAAK23E,EAAM13E,EAAGs2G,EAAO5+B,EAAM3vI,GAC9C6vK,EAAWA,IAAM90L,KAAK2G,IAAI3G,KAAK0G,KAAK2qG,EAAUvtG,GAAKy0E,EAAO,GAAI,GAUpE,GATIm7G,EAAUr2G,cAAcg0B,EAAShe,IAAYsgG,EAAUt2G,cAAcg0B,EAAShe,GAC9E/9F,KAAK8sB,IAAIm7H,cAAcjK,aAAa,YAAa,aAE5Cza,EAAax7C,cAAcg0B,EAAShe,GACzC/9F,KAAK8sB,IAAIm7H,cAAcjK,aAAa,YAAa,QAGjDh+I,KAAK8sB,IAAIm7H,cAAcjK,aAAa,aAEpCh+I,KAAKg/L,kBACLD,EAAG1tL,IAAMmuL,SAER,GAAIx/L,KAAKi/L,kBACVF,EAAG3tL,IAAMouL,SAER,IAAK75K,MAAMu5K,GAAkB,CAC9B,MAAMx6D,EAAOq6D,EAAG3tL,IAAM2tL,EAAG1tL,IACnBA,EAAM3G,KAAK2G,IAAImuL,IAAaN,EAAiB,EAAIx6D,GACnDrzH,GAAO0tL,EAAG1tL,KAEV0tL,EAAG1tL,IAAMA,EACT0tL,EAAG3tL,IAAM2tL,EAAG1tL,IAAMqzH,IAIlBq6D,EAAG3tL,IAAMC,EAAMqzH,EACfq6D,EAAG1tL,IAAM0tL,EAAG3tL,IAAMszH,EAE1B,CACJ,CACA26D,aACIr/L,KAAKy/L,oBACT,CACAA,qBACIz/L,KAAKg/L,kBAAoBh/L,KAAKi/L,mBAAoB,EAClDj/L,KAAKk/L,gBAAkBr5K,GAC3B,EAEJoJ,GAAW,CACPmgF,GAASiB,KACVyuF,GAAU91L,UAAW,gBAAY,GACpCimB,GAAW,CACPmgF,GAASwB,GAAO,KACjBkuF,GAAU91L,UAAW,cAAU,GClL3B,MAAM02L,GAAyB,CAClCnzL,KAAM,OACNihI,WAAY,YACZqvD,YAAa,YACb8C,WAAY,CAAC,aACb3xD,oBAAqB8wD,GACrBxO,cAAe,CACXtpL,UAAW,CACP4tB,SAAS,EACTjF,OAAQ,GACR2uK,KAAM,CACF99J,KAAM,UACN85D,OAAQ,UACRC,YAAa,EACbJ,YAAa,IAEjBikG,UAAW,CACP59J,KAAM,UACN85D,OAAQ,UACRC,YAAa,EACbtX,MAAO,EACPtzD,OAAQ,GACR4tK,YAAa,EACbC,eAAgB,GAEpBa,UAAW,CACP79J,KAAM,UACN85D,OAAQ,UACRC,YAAa,EACbtX,MAAO,EACPtzD,OAAQ,GACR4tK,YAAa,EACbC,eAAgB,MAKhCb,GAAe+C,ICvCf,IAAIzwK,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAOO,MAAMy/K,WAAmBnD,GAC5BlxL,YAAYuhB,GACR,IAAIxT,EACJgW,QACAtvB,KAAK6/L,iBAAoBx0K,IACrB,MAAM,MAAE43D,EAAK,OAAEtzD,GAAWtE,EAAEyE,MAC5B9vB,KAAK8/L,SAAS78G,MAAQA,EACtBjjF,KAAK8/L,SAASnwK,OAASA,CAAM,EAEjC3vB,KAAKk+B,KAAO,IAAI2zD,GAAM,CAAEvtF,KAAM,eAC9BtE,KAAKk+B,KAAKilD,OAAS0vB,GAAO60D,yBAC1B1nK,KAAK8/L,SAAW,IAAIjmB,GACpB75K,KAAKk+B,KAAK8rB,YAAYhqD,KAAK8/L,UAC3B9/L,KAAKwgC,KAAO,QACZxgC,KAAKsuF,SAAU,EACW,QAAzBh1E,EAAKwT,EAAIolE,MAAMzyF,YAAyB,IAAP6Z,GAAyBA,EAAG0wC,YAAYhqD,KAAKk+B,MAC/El+B,KAAK4hJ,WAAWjyI,MAAK,KAAQ,IAAI2J,EAAI,OAAiC,QAAzBA,EAAKwT,EAAIolE,MAAMzyF,YAAyB,IAAP6Z,OAAgB,EAASA,EAAGiwC,YAAYvpD,KAAKk+B,KAAK,IAChI,MAAM6hK,EAAejzK,EAAIo/H,cAAc9X,YAAY,kBAAmBp0I,KAAK6/L,kBAC3E7/L,KAAK4hJ,WAAWjyI,MAAK,IAAMmd,EAAIo/H,cAAcnS,eAAegmD,IAChE,EAEJ9wK,GAAW,CACPmgF,GAASiB,IACT+gB,GAAqB,OAAQ,YAC9BwuE,GAAW52L,UAAW,eAAW,GACpCimB,GAAW,CACPmgF,GAAS8B,IACTkgB,GAAqB,WAAY,SAClCwuE,GAAW52L,UAAW,YAAQ,GCtC1B,MAAMg3L,GAA0B,CACnCzzL,KAAM,OACNihI,WAAY,aACZqvD,YAAa,YACb8C,WAAY,CAAC,YAAa,QAAS,aACnC3xD,oBAAqB4xD,ICDlB,SAASK,KACZ,IAAK,MAAM16L,KAAKm3L,GAAoB,CAIhC,GAH4B,MAAxBn3L,EAAE26L,oBACFr+L,OAAO6hB,OAAO44K,GAAmBrsD,aAAc1qI,EAAE26L,oBAEtC,SAAX36L,EAAEgH,MACEhH,EAAE+qL,cACF,IAAK,MAAM9D,KAAajnL,EAAEo6L,WACtBlT,GAAsBD,EAAWjnL,EAAE+qL,eAI/C,GAAe,WAAX/qL,EAAEgH,KAAmB,CACrB,GAAIhH,EAAEo6L,WAAWr+L,OAAS,EACtB,MAAM,IAAIoG,MAAM,wCAA0CnC,EAAEsnE,YAChEkgH,GAAexnL,EAAEsnE,WAAYtnE,EAAEo6L,WAAW,GAAIp6L,EAAEyoI,oBAAqBzoI,EAAEoqL,eAAgBpqL,EAAE+qL,cAC7F,CACA,GAAe,SAAX/qL,EAAEgH,MACEhH,EAAE+qL,cACF,IAAK,MAAMjC,KAAY9oL,EAAE46L,UACrB5R,GAA0BF,EAAU9oL,EAAE+qL,eAInC,WAAX/qL,EAAEgH,MACFmlJ,GAAensJ,EAAEsnE,WAAYtnE,EAAEyoI,oBAEvC,CACJ,CDzBA2uD,GAAeqD,IETf,IAAIxrG,GAAwC,SAAUt3E,EAASu3E,EAAYlqF,EAAGmqF,GAC1E,SAASC,EAAMvzF,GAAS,OAAOA,aAAiBmJ,EAAInJ,EAAQ,IAAImJ,GAAE,SAAUokB,GAAWA,EAAQvtB,EAAQ,GAAI,CAC3G,OAAO,IAAKmJ,IAAMA,EAAImkB,WAAU,SAAUC,EAASuY,GAC/C,SAAS0tD,EAAUxzF,GAAS,IAAMo/E,EAAKkU,EAAUj3E,KAAKrc,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC1F,SAASwpE,EAASzzF,GAAS,IAAMo/E,EAAKkU,EAAU,SAAStzF,GAAS,CAAE,MAAOiqB,GAAK6b,EAAO7b,EAAI,CAAE,CAC7F,SAASm1D,EAAKv9E,GAAUA,EAAOya,KAAOiR,EAAQ1rB,EAAO7B,OAASuzF,EAAM1xF,EAAO7B,OAAO+iB,KAAKywE,EAAWC,EAAW,CAC7GrU,GAAMkU,EAAYA,EAAUhrF,MAAMwT,EAASu3E,GAAc,KAAKh3E,OAClE,GACJ,EAoBA,SAAS+uK,GAAUpoL,GACf,GAAI0wL,GAA0B1wL,GAC1B,MAAO,YAEN,GAAI6wL,GAAsB7wL,GAC3B,MAAO,QAEN,GAAI4wL,GAA0B5wL,GAC/B,MAAO,YAEX,MAAM,IAAIsD,MAAO,2DAA0DtD,EAAQmI,OACvF,CAMO,MAAMwjB,GAITy2D,cAAcpiF,GACV,OAAOg8L,GAAgBC,eAAej8L,EAC1C,CAUAoiF,cAAc12D,EAAO1rB,GACjB,IAAKk8L,GAAqBC,WAAWzwK,GACjC,MAAM,IAAIpoB,MAAM,8CAEpB04L,GAAgBC,eAAej8L,EAAS0rB,EAC5C,CAUA02D,mBAAmB12D,EAAO0wK,GACtB,IAAKF,GAAqBC,WAAWzwK,GACjC,MAAM,IAAIpoB,MAAM,8CAEpB,OAAO04L,GAAgBK,gBAAgB3wK,EAAO0wK,EAClD,CAIAh6G,gBAAgB12D,EAAO1rB,GACnB,KAAM0rB,aAAiBwwK,IACnB,MAAM,IAAI54L,MAAM,8CAEpB,OAAO04L,GAAgBx7G,SAAS90D,EAAO1rB,EAC3C,CAIAoiF,uBAAuB12D,EAAO1rB,GAC1B,KAAM0rB,aAAiBwwK,IACnB,MAAM,IAAI54L,MAAM,8CAEpB,OAAO04L,GAAgBM,gBAAgB5wK,EAAO1rB,EAClD,EAMJ,MAAMk8L,GACF/0L,YAAYukB,GACR9vB,KAAK8vB,MAAQA,CACjB,CACA02D,kBAAkBh4E,GACd,IAAI8K,EAAIqb,EACR,GAAInmB,aAAa8xL,GAEb,OAAO,EAEX,GAA4E,0BAA9C,QAAxBhnL,EAAK9K,EAAEjD,mBAAgC,IAAP+N,OAAgB,EAASA,EAAGhV,OAA+C,MAAXkK,EAAEshB,MAEpG,OAAO,EAEX,MAAM6wK,EAAiB9+L,OAAO6B,KAA8B,QAAxBixB,EAAKnmB,EAAEjD,mBAAgC,IAAPopB,OAAgB,EAASA,EAAG3rB,WAC1F43L,EAAqB/+L,OAAO6B,KAAK48L,GAAqBt3L,WAAW+7B,OAAO0R,GAASkqJ,EAAen/L,SAASi1C,KAC/G,SAAImqJ,GAAiC,MAAXpyL,EAAEshB,MAKhC,CACA2kI,aACI,OAAOz0J,KAAK8vB,MAAM2kI,YACtB,CACAnkI,UACItwB,KAAK8vB,MAAMQ,SACf,EAEJ,MAAM8vK,GACF55G,2BACQ45G,GAAgBS,cAEpBZ,KACAG,GAAgBS,aAAc,EAClC,CACAr6G,sBAAsB4rE,EAAa5yI,GAC/B4gL,GAAgBU,oBAChB/xG,GAAM,oCAAqCqjE,GAC3C,MAAM2uC,EAAY,CAAC,GACa,IAA5BX,GAAgBtrF,UAChBisF,EAAU,UAAW,GAEzB,MAAM,yBAAE39G,GAA6BgvE,SAC9BA,EAAY,4BACnB,MAAMD,EAAmBsjC,GAAerjC,EAAa2uC,GACrD,IAAIjxK,EAAkB,OAAVtQ,QAA4B,IAAVA,OAAmB,EAASA,EAAMsQ,MACnD,MAATA,GAAiB08J,GAAUp6B,KAAiBo6B,GAAU18J,EAAMqiI,oBAC5DriI,EAAQswK,GAAgBY,oBAAoB7uC,EAAkB/uE,EAA0BtzD,IAE/E,MAATtQ,EACAA,EAAQ,IAAI8gL,GAAqBxwK,GAGjCtQ,EAAMsQ,MAAQA,EAElB,MAAMmxK,EAAgBnxK,EACtBmxK,EAAc5uC,kBAAkB1iJ,KAAKyiJ,GACrC,MAAM8uC,EAAUA,KAGZ,MAAMC,EAAmBF,EAAc5uC,kBAAkB5wJ,QAAQ2wJ,GACjE6uC,EAAc5uC,kBAAkBzuI,OAAO,EAAGu9K,EAAiB,EAc/D,OAZAF,EAAchsC,sBAAqB,IAAMzgE,GAAUx0F,UAAM,OAAQ,GAAQ,YAErE,GAAIihM,EAAc5wK,UACd,OACJ,MAAMmwK,EAAehyD,GAASyyD,EAAc9uC,iBAAkBA,GAC1C,MAAhBquC,SAIEJ,GAAgBgB,YAAYH,EAAeT,EAAcpuC,GAC/D8uC,KAJIA,GAKR,MACO1hL,CACX,CACAgnE,uBAAuBhnE,EAAOghL,GAC1B,IAAIlnL,EACJ,MAAM,MAAEwW,EAAOA,OAAO,kBAAEuiI,IAAyB7yI,EAC3Ck1I,EAA+E,QAA1Dp7I,EAAK+4I,EAAkBA,EAAkB/wJ,OAAS,UAAuB,IAAPgY,EAAgBA,EAAKwW,EAAMsiI,YAClHA,EAAc9iB,GAAU,CAAColB,EAAmB8rC,IAClDzxG,GAAM,mCAAoCyxG,GAC1CzxG,GAAM,eAAgB2lE,GACtB0rC,GAAgBC,eAAejuC,EAAa5yI,EAChD,CAKAgnE,gBAAgBhnE,EAAOigE,GACnB,MAAM4hH,EAAgBA,IAAM7sG,GAAUx0F,UAAM,OAAQ,GAAQ,YACxD,MAAMshM,QAAmBlB,GAAgBmB,oBAAoB/hL,EAAOigE,IAC9D,MAAE3vD,GAAUwxK,EAClBxxK,EAAMoiE,MAAMtN,SAAkB,OAATnF,QAA0B,IAATA,OAAkB,EAASA,EAAKoF,SAAmB,OAATpF,QAA0B,IAATA,OAAkB,EAASA,EAAKqF,YAC7Hw8G,IAAe9hL,GACf8hL,EAAWhxK,SAEnB,IACA+wK,IAAgBj9K,OAAOiH,GAAMmmE,GAAOI,UAAUvmE,IAClD,CACAm7D,uBAAuBhnE,EAAOigE,GAC1B,OAAO+U,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAMshM,QAAmBlB,GAAgBmB,oBAAoB/hL,EAAOigE,IAC9D,MAAE3vD,GAAUwxK,EACZr+L,EAAS6sB,EAAMoiE,MAAMxO,OAAOgB,WAAoB,OAATjF,QAA0B,IAATA,OAAkB,EAASA,EAAKqF,YAI9F,OAHIw8G,IAAe9hL,GACf8hL,EAAWhxK,UAERrtB,CACX,GACJ,CACAujF,2BAA2BhnE,EAAOigE,GAC9B,OAAO+U,GAAUx0F,UAAM,OAAQ,GAAQ,YACnC,MAAM,MAAE8vB,GAAUtQ,EAClB,IAAI,MAAEyjE,EAAK,OAAEtzD,GAAoB,OAAT8vD,QAA0B,IAATA,EAAkBA,EAAO,CAAC,EACnE,MAAM+hH,EAAe1xK,EAAMmzD,MACrBw+G,EAAgB3xK,EAAMH,OACtB+lE,OAAuB3zF,IAAVkhF,QAAkClhF,IAAX4tB,GACH,IAAlCG,EAAMoiE,MAAMxO,OAAOwB,YAAoBs8G,IAAiBv+G,GAASw+G,IAAkB9xK,EACxF,GAAI+lE,EACA,OAAOl2E,EAEXyjE,EAAkB,OAAVA,QAA4B,IAAVA,EAAmBA,EAAQu+G,EACrD7xK,EAAoB,OAAXA,QAA8B,IAAXA,EAAoBA,EAAS8xK,EACzD,MAAMr9L,EAAUvC,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGoM,EAAMsiI,aAAc,CAAExhI,UAAW9rB,SAASI,cAAc,OAAQ+9E,QAC5GtzD,SAAQikI,UAAU,EAAOxwE,yBAA0B,IACjDs+G,EAActB,GAAgBC,eAAej8L,GAEnD,aADMs9L,EAAY5xK,MAAMK,gBACjBuxK,CACX,GACJ,CACAl7G,2BAA2BpiF,EAASg/E,EAA0Bu+G,GAC1D,MAAMC,EAAoC,OAAbD,QAAkC,IAAbA,OAAsB,EAASA,EAASrxK,QAAQ,CAAEukI,2BAA2B,IAC/H,GAAIigC,GAA0B1wL,GAC1B,OAAO,IAAIo7J,GAAe16J,SAAUs+E,EAA0Bw+G,GAE7D,GAAI5M,GAA0B5wL,GAC/B,OAAO,IAAIouK,GAAe1tK,SAAUs+E,EAA0Bw+G,GAE7D,GAAI3M,GAAsB7wL,GAC3B,OAAO,IAAIosK,GAAW1rK,SAAUs+E,EAA0Bw+G,GAE9D,MAAM,IAAIl6L,MAAO,oEAAmEtD,EAAQ,UAChG,CACAoiF,mBAAmB12D,EAAOqiI,EAAkBC,GACxC,IAAI94I,EACJ,OAAOk7E,GAAUx0F,UAAM,OAAQ,GAAQ,YACN,MAAzBmyJ,EAAiB5lJ,OACjB4lJ,EAAmBtwJ,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGyuI,GAAmB,CAAE5lJ,KAA6C,QAAtC+M,EAAKwW,EAAMqiI,iBAAiB5lJ,YAAyB,IAAP+M,EAAgBA,EAAKu7K,GAAY1iC,YAE5JriI,EAAMylI,wBACRzlI,EAAMO,YAEV0+D,GAAM,iBAAkBojE,GACxB0vC,GAAkB/xK,EAAOqiI,EAAkBC,GAC/C,GACJ,EAIJ,SAASrjE,GAAMr7E,KAAYouL,GACnB,EAAC,EAAM,QAAQtgM,SAAS4+L,GAAgBtrF,UACxCtjB,GAAOzC,MAAMr7E,KAAYouL,EAEjC,CACA,SAASD,GAAkB/xK,EAAOqiI,EAAkBC,GAChD,IAAI94I,EAAIqb,EAAI2C,EAAIH,EAChB,MAAM4qK,EAAkBzyD,GAAU,CAAmC,QAAjCh2H,EAAKwW,EAAMqiI,wBAAqC,IAAP74I,EAAgBA,EAAK,CAAC,EAAG64I,GAAmBqjC,IACnHwM,EAAiBC,GAAanyK,EAAOiyK,GACrC/xD,EAAO,CAAC,OAAQ,OAAQ,SAAU,YAAa,QAAS,UAC9D,GAAI8kD,GAA0B3iC,GAE1BniB,EAAKrgI,KAAK,aAET,IAAIslL,GAAsB9iC,KAAqB6iC,GAA0B7iC,GAI1E,MAAM,IAAIzqJ,MAAO,8EAA6EyqJ,EAAiB,WAG/GA,EAAiB/vD,WACjB8/F,GAAkBpyK,EAAOqiI,EAAiB/vD,WAE9C+/F,GAAkBryK,EAAOqiI,EAAkB,CAAEniB,SAC7C,IAAIiU,GAAuB,EAK3B,GAJIkO,EAAiB9zC,QAAU8zC,EAAiB9zC,OAAO/8G,OAAS,IAC5D8gM,GAAYtyK,EAAOqiI,GACnBlO,GAAuB,GAEvB6wC,GAA0B3iC,IAAqBA,EAAiB4C,KAAM,CACtE,MAAMstC,EAAcC,GAAUxyK,EAAOqiI,GACjCkwC,IACAp+C,GAAuB,EAE/B,CACAs+C,GAAYzyK,EAAOqiI,GACnB,MAAMqwC,EAAarwC,EAAiB9zC,OAC9BokF,IAAqBtwC,EAAiBnlJ,OAAwB,OAAfw1L,QAAsC,IAAfA,OAAwB,EAASA,EAAWpqK,MAAM/yB,GAAgB,MAAVA,EAAE2H,QAChI01L,EAAuH,QAAjGprK,EAAwC,QAAlC3C,EAAKw9H,EAAiB2C,cAA2B,IAAPngI,EAAgBA,EAAKw9H,EAAiBv4C,aAA0B,IAAPtiF,EAAgBA,EAAK66H,EAAiBI,SAC3KtO,EAAuBA,GAAwBw+C,KAAsBC,EACjEvwC,EAAiBnlJ,OACjB8iB,EAAM9iB,KAAOmlJ,EAAiBnlJ,MAE9BmlJ,EAAiB/vD,WACjBtyE,EAAM0mI,2BAEV1mI,EAAMqiI,iBAAmB4vC,EACzBjyK,EAAMsiI,YAAc9iB,GAAU,CAA8B,QAA5Bn4G,EAAKrH,EAAMsiI,mBAAgC,IAAPj7H,EAAgBA,EAAK,CAAC,EAAGi7H,GAAcojC,IAC3G,MAAMmN,EAAc1+C,GAAwB+9C,EACtCY,EAAaD,EAAc9+C,GAAgBsM,aAAetM,GAAgB2R,eAChFzmE,GAAM,oBAAqB,CAAE6zG,WAAY/+C,GAAgB++C,KACzD9yK,EAAMY,OAAOkyK,EAAY,CAAE3+C,wBAC/B,CACA,SAASg+C,GAAanyK,EAAO1rB,GACzB,MAAMy+L,EAAqBjjM,GACdkwB,aAAiB0vI,IAAkB5/J,EAAO+/L,WAAWn+L,SAAS,cAClEsuB,aAAiB0gJ,IAAc5wK,EAAO+/L,WAAWn+L,SAAS,UAC1DsuB,aAAiB0iJ,IAAkB5yK,EAAO+/L,WAAWn+L,SAAS,aAEvE,IAAIwgM,GAAiB,EACrB,MAAMc,EAAcpG,GAAmBhjL,QAAQnU,GAAiB,SAAXA,EAAEgH,OACvD,IAAK,MAAMkR,KAAQqlL,EAAa,CAC5B,MAAMC,EAAkBF,EAAkBplL,IAAqC,MAA5BrZ,EAAQqZ,EAAK+vH,YAC1DjqB,EAAYzzF,EAAMo+G,gBAAgBzwH,GACpCslL,IAAoBx/E,IAExBy+E,GAAiB,EACbe,EACAjzK,EAAMy9G,UAAU9vH,GAGhBqS,EAAMm+G,aAAaxwH,GAE3B,CACA,OAAOukL,CACX,CACA,SAASI,GAAYtyK,EAAO1rB,GACxB,MAAM4+L,EAAY5+L,EAAQi6G,OAC1B,IAAK2kF,EACD,OAEJ,MAAMC,EAAgBnzK,EAAMuuF,OAAO/8G,SAAW0hM,EAAU1hM,QAAUwuB,EAAMuuF,OAAOt5E,OAAM,CAAC1/B,EAAGzB,KAAQ,IAAI0V,EAAI,OAAOjU,EAAEkH,QAAkC,QAAvB+M,EAAK0pL,EAAUp/L,UAAuB,IAAP0V,OAAgB,EAASA,EAAG/M,KAAK,IAEzL02L,EACAnzK,EAAMuuF,OAAOxlG,SAAQ,CAACxT,EAAGzB,KACrB,IAAI0V,EAAIqb,EAAI2C,EAAIH,EAChB,MAAM+rK,EAAyJ,QAAzI5rK,EAA6F,QAAvF3C,EAAuC,QAAjCrb,EAAKwW,EAAMqiI,wBAAqC,IAAP74I,OAAgB,EAASA,EAAG+kG,cAA2B,IAAP1pF,OAAgB,EAASA,EAAG/wB,UAAuB,IAAP0zB,EAAgBA,EAAK,CAAC,EACvL6rK,EAAa30D,GAAS00D,EAAsC,QAAvB/rK,EAAK6rK,EAAUp/L,UAAuB,IAAPuzB,EAAgBA,EAAK,CAAC,GAC3FgsK,IAGLp0G,GAAO,4BAA2BnrF,IAAKu/L,GACvCC,GAAkB/9L,EAAG89L,EAAY,CAAEniK,KAAO,UAASp9B,KAAMrC,MAAOqC,IAChEyB,EAAEq8G,oBAAmB,IAI7B5xF,EAAMuuF,OAASglF,GAAavzK,EAAOkzK,EACvC,CACA,SAASV,GAAUxyK,EAAO1rB,GACtB,MAAMk/L,EAAUl/L,EAAQ2wJ,KACxB,IAAKuuC,EACD,OAAO,EAEX,MAAML,EAAgBnzK,EAAMilI,KAAKzzJ,SAAWgiM,EAAQhiM,QAAUwuB,EAAMilI,KAAKhwH,OAAM,CAACh6B,EAAGnH,IAAMmH,EAAEwB,OAAS+2L,EAAQ1/L,GAAG2I,OAE/G,GAAI02L,EAAe,CACf,MAAMM,EAAUzzK,EAAMqiI,iBACtB,GAAI2iC,GAA0ByO,GAU1B,OATAzzK,EAAMilI,KAAKl8I,SAAQ,CAAC9N,EAAGnH,KACnB,IAAI0V,EAAIqb,EACR,MAAMuuK,EAAyF,QAAzEvuK,EAA6B,QAAvBrb,EAAKiqL,EAAQxuC,YAAyB,IAAPz7I,OAAgB,EAASA,EAAG1V,UAAuB,IAAP+wB,EAAgBA,EAAK,CAAC,EACvH6uK,EAAWh1D,GAAS00D,EAAcI,EAAQ1/L,IAChDmrF,GAAO,0BAAyBnrF,IAAK4/L,GACrC,MAAMxiK,EAAQ,QAAOp9B,KACfosI,EAAO,CAAC,eACdmyD,GAAkBp3L,EAAGy4L,EAAU,CAAExiK,OAAMgvG,QAAO,KAE3C,CAEf,CAEA,OADAlgH,EAAMilI,KAAO0uC,GAAW3zK,EAAOwzK,IACxB,CACX,CACA,SAASf,GAAYzyK,EAAO1rB,GACxB,MAAM4rI,EAAO,CAAC,aACdlgH,EAAMsnI,eAAetC,IACjB,IAAIx7I,EAAIqb,EAAI2C,EACZ6qK,GAAkBrtC,EAAkC,QAAzBx7I,EAAKlV,EAAQ0wJ,cAA2B,IAAPx7I,EAAgBA,EAAK,CAAC,EAAG,CAAE02H,UACzD,QAAzBr7G,EAAKvwB,EAAQ0wJ,cAA2B,IAAPngI,OAAgB,EAASA,EAAGytE,YAC9DvgG,OAAO6hB,OAAOoM,EAAMglI,OAAO1yD,UAA+C,QAAnC9qE,EAAKlzB,EAAQ0wJ,OAAO1yD,iBAA8B,IAAP9qE,EAAgBA,EAAK,CAAC,EAC5G,GAER,CACA,SAAS+rK,GAAavzK,EAAO1rB,GACzB,MAAMi6G,EAAS,GACTqlF,EAAgB5zK,EAAM8kI,mBAC5B,IAAIrzJ,EAAQ,EACZ,IAAK,MAAMgyL,KAA6B,OAAZnvL,QAAgC,IAAZA,EAAqBA,EAAU,GAAI,CAC/E,MAAM48B,EAAQ,UAASz/B,OACjBoiM,EAAiB//C,GAAU2vC,EAAchnL,KAAMm3L,GACrDN,GAAkBO,EAAgBpQ,EAAe,CAAEvyJ,OAAMz/B,UACzD88G,EAAO1uG,KAAKg0L,EAChB,CACA,OAAOtlF,CACX,CACA,SAASolF,GAAW3zK,EAAO1rB,GACvB,MAAM2wJ,EAAO,GACP/kB,EAAO,CAAC,eACR0zD,EAAgB5zK,EAAM8kI,mBAC5B,IAAIrzJ,EAAQ,EACZ,IAAK,MAAMqiM,KAA2B,OAAZx/L,QAAgC,IAAZA,EAAqBA,EAAU,GAAI,CAC7E,IAAIo/G,EACJ,OAAQogF,EAAYr3L,MAChB,IAAK,SACDi3G,EAAO,IAAIiwD,GAAWiwB,GACtB,MACJ,KAAK/vB,GAAQpnK,KACTi3G,EAAO,IAAImwD,GAAQ+vB,GACnB,MACJ,KAAKv1D,GAAa5hI,KACdi3G,EAAO,IAAI2qB,GAAau1D,GACxB,MACJ,KAAKzlC,GAAoB1xJ,KACrBi3G,EAAO,IAAIy6C,GAAoBylC,GAC/B,MACJ,KAAKzvB,GAAS1nK,KACVi3G,EAAO,IAAIywD,GAASyvB,GACpB,MACJ,QACI,MAAM,IAAIh8L,MAAM,kCAAoCk8L,EAAY,SAExE,MAAM5iK,EAAQ,QAAOz/B,OACrBsiM,GAAiBrgF,EAAMogF,GACvBzB,GAAkB3+E,EAAMogF,EAAa,CAAE5iK,OAAMgvG,SAC7C+kB,EAAKplJ,KAAK6zG,EACd,CACA,OAAOuxC,CACX,CACA,SAAS8uC,GAAiBrgF,EAAMp/G,GAC5B,IAAI49L,GAAiB,EACrB,MAAMc,EAAcpG,GAAmBhjL,QAAQnU,GAAiB,SAAXA,EAAEgH,OACvD,IAAK,MAAMkR,KAAQqlL,EAAa,CAC5B,MAAMC,EAA8C,MAA5B3+L,EAAQqZ,EAAK+vH,YAC/BjqB,EAAYC,EAAK0qB,gBAAgBzwH,GACnCslL,IAAoBx/E,IAExBy+E,GAAiB,EACbe,EACAv/E,EAAK+pB,UAAU9vH,GAGf+lG,EAAKyqB,aAAaxwH,GAE1B,CACA,OAAOukL,CACX,CACA,SAASE,GAAkB1+L,EAAQ4+F,GAC/B5+F,EAAO0+F,sBACP,IAAK,MAAMjH,KAAYmH,EAAW,CAC9B,MAAML,EAAWK,EAAUnH,GACH,oBAAb8G,GAEXv+F,EAAOkoD,iBAAiBuvC,EAAU8G,EACtC,CACJ,CACA,SAASogG,GAAkB5+L,EAAQa,GAAS,KAAE4rI,EAAI,KAAEhvG,GAAS,CAAC,GAC1D,MAAM8iK,EAAYjiM,OAAO6hB,OAAO7hB,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAG84K,MAAwB,CAAExsD,SAAUhvG,EAAO,CAAEA,QAAS,CAAC,GACvH,OAAO8uG,GAAUvsI,EAAQa,EAAS0/L,EACtC,CACA,SAASV,GAAkB7/L,EAAQa,GAAS,KAAE48B,EAAI,MAAEz/B,GAAU,CAAC,GAC3D,IAAI+X,EACJ,MAAM02H,EAAO,CAAC,sBACR+zD,EAAmBvH,KACnBwH,EAAgD,QAAxC1qL,EAAKyqL,EAAiB9zD,oBAAiC,IAAP32H,EAAgBA,EAAK,CAAC,EAC9E2qL,EAAsB,CACxBh0D,aAAcpuI,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGsgL,GAAO,CAAEpqF,MAAuB,QAAhBr2G,EAAOgJ,KAAiBu5J,GAAWk+B,EAAK,YAEpGF,EAAYjiM,OAAO6hB,OAAO7hB,OAAO6hB,OAAO7hB,OAAO6hB,OAAO7hB,OAAO6hB,OAAO7hB,OAAO6hB,OAAO,CAAC,EAAGqgL,GAAmBE,GAAsB,CAAEj0D,KAAM,CAAC,mBAA8B,OAATA,QAA0B,IAATA,EAAkBA,EAAO,MAAUhvG,EAAO,CAAEA,QAAS,CAAC,GAAK,CAAEva,IAAe,OAAVllB,QAA4B,IAAVA,EAAmBA,GAAS,IAC9R0B,EAAS6sI,GAAUvsI,EAAQa,EAAS0/L,GACpC1hG,EAAwB,OAAZh+F,QAAgC,IAAZA,OAAqB,EAASA,EAAQg+F,UAI5E,OAHiB,MAAbA,GACA8/F,GAAkB3+L,EAAQ6+F,GAEvBn/F,CACX,CApOAm9L,GAAgBtrF,MAAQ,KAAQ,IAAIx7F,EAAI,OAA+C,QAAvCA,EAAKg7E,GAAY,wBAAqC,IAAPh7E,GAAgBA,CAAU,EACzH8mL,GAAgBS,aAAc,EC1Q9B,IAAI5xK,GAA0C,SAAUL,EAAYrrB,EAAQR,EAAKmsB,GAC7E,IAA2HC,EAAvH7pB,EAAIzC,UAAUvB,OAAQ6e,EAAI7a,EAAI,EAAI/B,EAAkB,OAAT2rB,EAAgBA,EAAOrtB,OAAOD,yBAAyB2B,EAAQR,GAAOmsB,EACrH,GAAuB,kBAAZlU,SAAoD,oBAArBA,QAAQoU,SAAyBjP,EAAInF,QAAQoU,SAASR,EAAYrrB,EAAQR,EAAKmsB,QACpH,IAAK,IAAItrB,EAAIgrB,EAAWttB,OAAS,EAAGsC,GAAK,EAAGA,KAASurB,EAAIP,EAAWhrB,MAAIuc,GAAK7a,EAAI,EAAI6pB,EAAEhP,GAAK7a,EAAI,EAAI6pB,EAAE5rB,EAAQR,EAAKod,GAAKgP,EAAE5rB,EAAQR,KAASod,GAChJ,OAAO7a,EAAI,GAAK6a,GAAKte,OAAOG,eAAeuB,EAAQR,EAAKod,GAAIA,CAChE,EAEO,MAAM+jL,WAAcp2G,GACvBviF,YAAY44L,GACR70K,QACAtvB,KAAKwO,EAAI,EACTxO,KAAK4nF,EAAI,EACT5nF,KAAKijF,MAAQ,EACbjjF,KAAK2vB,OAAS,EACd3vB,KAAK8jF,QAAU,EACf9jF,KAAKmkM,YAAcA,CACvB,CACA10K,OAAOwgE,GACH,MAAM,IAAEnjE,EAAG,YAAE4lE,EAAW,MAAExC,GAAUD,EACpC,GAAIjwF,KAAKwwF,QAAUvE,GAAWa,OAAS4F,EAGnC,YAFIxC,GACAA,EAAMiD,gBAGdnzF,KAAKmvF,yBACLnvF,KAAKqqF,OAAOF,UAAUr9D,GACtB,MAAMs3K,EAAQpkM,KAAKmkM,YACnBr3K,EAAIymE,YAAcvzF,KAAK8jF,QACvBh3D,EAAImqE,UAAUmtG,EAAO,EAAG,EAAGA,EAAMnhH,MAAOmhH,EAAMz0K,OAAQ3vB,KAAKwO,EAAGxO,KAAK4nF,EAAG5nF,KAAKijF,MAAOjjF,KAAK2vB,QACvFL,MAAMG,OAAOwgE,EACjB,EAEJhhE,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3C62G,GAAMl7L,UAAW,SAAK,GACzBimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3C62G,GAAMl7L,UAAW,SAAK,GACzBimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3C62G,GAAMl7L,UAAW,aAAS,GAC7BimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3C62G,GAAMl7L,UAAW,cAAU,GAC9BimB,GAAW,CACPm9D,GAAqB,CAAEM,OAAQT,GAAWoB,SAC3C62G,GAAMl7L,UAAW,eAAW,GC3CTnH,OAAO6nB,QAAQ26K,IAAgB16K,QAAO,CAACjc,GAAMpJ,EAAM5E,MACrEgO,EAAIpJ,GAAQ5E,IACLgO,IACR,CAAC,E,GCLA42L,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBziM,IAAjB0iM,EACH,OAAOA,EAAa9kM,QAGrB,IAAIC,EAAS0kM,EAAyBE,GAAY,CAGjD7kM,QAAS,CAAC,GAOX,OAHA+kM,EAAoBF,GAAUh7L,KAAK5J,EAAOD,QAASC,EAAQA,EAAOD,QAAS4kM,GAGpE3kM,EAAOD,OACf,E,WCrBA4kM,EAAoB91L,EAAI,SAAS7O,GAChC,IAAIsO,EAAStO,GAAUA,EAAOynC,WAC7B,WAAa,OAAOznC,EAAO,UAAY,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADA2kM,EAAoBp1K,EAAEjhB,EAAQ,CAAEnD,EAAGmD,IAC5BA,CACR,C,eCNAq2L,EAAoBp1K,EAAI,SAASxvB,EAASglM,GACzC,IAAI,IAAI5hM,KAAO4hM,EACXJ,EAAoBv5K,EAAE25K,EAAY5hM,KAASwhM,EAAoBv5K,EAAErrB,EAASoD,IAC5ElB,OAAOG,eAAerC,EAASoD,EAAK,CAAEiB,YAAY,EAAMY,IAAK+/L,EAAW5hM,IAG3E,C,eCPAwhM,EAAoB15L,EAAI,WACvB,GAA0B,kBAAfF,WAAyB,OAAOA,WAC3C,IACC,OAAO3K,MAAQ,IAAIyJ,SAAS,cAAb,EAChB,CAAE,MAAO4hB,GACR,GAAsB,kBAAXzgB,OAAqB,OAAOA,MACxC,CACA,CAPuB,E,eCAxB25L,EAAoBv5K,EAAI,SAAStd,EAAK+oC,GAAQ,OAAO50C,OAAOmH,UAAUM,eAAeE,KAAKkE,EAAK+oC,EAAO,C,eCCtG8tJ,EAAoBpkL,EAAI,SAASxgB,GACX,qBAAXuR,QAA0BA,OAAOo2B,aAC1CzlC,OAAOG,eAAerC,EAASuR,OAAOo2B,YAAa,CAAElmC,MAAO,WAE7DS,OAAOG,eAAerC,EAAS,aAAc,CAAEyB,OAAO,GACvD,C,eCNAmjM,EAAoBt5K,EAAI,E,4CCGxB,G,OAAsB,qBAAXrgB,OAAwB,CACjC,IAAIg6L,EAAgBh6L,OAAO9F,SAAS8/L,cAWhCngH,EAAMmgH,GAAiBA,EAAcngH,IAAIv9E,MAAM,2BAC/Cu9E,IACF,IAA0BA,EAAI,GAElC,CAGA,I,sFCrBAogH,EAAAA,EAAAA,IAEuDC,EAAA,CAAlC1gM,QAASozC,EAAApzC,SAAO,mB,eAQrC,G,QAAA,CACIE,KAAM,uCACN+sC,WAAY,CACR,gBAAiBhiB,EAAAA,aAErBriB,KAAM,WACN,MAAO,CACL5I,QAAS,KAEb,EACAqsC,UACEzwC,KAAKoE,QAAU,CACbwvJ,UAAU,EACVh6C,MAAO,CACLh0D,KAAM,uBAGR54C,KAAM,CACR,CACEsqF,KAAM,KACNytG,IAAK,oBAEP,CACEztG,KAAM,QACNytG,IAAK,kBAEP,CACEztG,KAAM,OACNytG,IAAK,oBAEP,CACEztG,KAAM,mBACNytG,IAAK,oBAEP,CACEztG,KAAM,mBACNytG,IAAK,oBAEP,CACEztG,KAAM,mBACNytG,IAAK,kBAEP,CACEztG,KAAM,mBACNytG,IAAK,oBAEP,CACEztG,KAAM,mBACNytG,IAAK,oBAEP,CACEztG,KAAM,mBACNytG,IAAK,kBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,IAAK,oBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,IAAK,oBAEP,CACEztG,KAAM,mBACNytG,IAAK,oBAEP,CACEztG,KAAM,mBACNytG,IAAK,oBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,IAAK,oBAEP,CACEztG,KAAM,kBACNytG,IAAK,mBAEP,CACEztG,KAAM,kBACNytG,IAAK,mBAEP,CACEztG,KAAM,kBACNytG,IAAK,mBAEP,CACEztG,KAAM,kBACNytG,IAAK,mBAEP,CACEztG,KAAM,kBACNytG,IAAK,kBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,IAAK,kBAEP,CACEztG,KAAM,mBACNytG,IAAK,oBAEP,CACEztG,KAAM,mBACNytG,IAAK,oBAEP,CACEztG,KAAM,mBACNytG,IAAK,kBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,IAAK,kBAEP,CACEztG,KAAM,mBACNytG,IAAK,oBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,IAAK,oBAEP,CACEztG,KAAM,mBACNytG,IAAK,oBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,IAAK,oBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,IAAK,oBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,kBACNytG,GAAI,oBAEN,CACEztG,KAAM,kBACNytG,IAAK,oBAEP,CACEztG,KAAM,kBACNytG,IAAK,oBAEP,CACEztG,KAAM,kBACNytG,IAAK,mBAEP,CACEztG,KAAM,kBACNytG,IAAK,oBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,IAAK,oBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,IAAK,kBAEP,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,IAAK,oBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,IAAK,mBAEP,CACEztG,KAAM,kBACNytG,GAAI,oBAEN,CACEztG,KAAM,kBACNytG,GAAI,oBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,IAAK,oBAEP,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,IAAK,oBAEP,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,IAAK,qBAEP,CACEztG,KAAM,mBACNytG,IAAK,oBAEP,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,oBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,IAAK,mBAEP,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,kBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,kBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,oBAEN,CACEztG,KAAM,kBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,kBACNytG,GAAI,oBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,oBAEN,CACEztG,KAAM,kBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,kBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,iBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,kBACNytG,GAAI,oBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,kBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,oBAEN,CACEztG,KAAM,kBACNytG,GAAI,oBAEN,CACEztG,KAAM,kBACNytG,GAAI,oBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,kBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,kBACNytG,GAAI,oBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,oBAEN,CACEztG,KAAM,kBACNytG,GAAI,oBAEN,CACEztG,KAAM,kBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,kBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,kBAEN,CACEztG,KAAM,mBACNytG,GAAI,kBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,iBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,iBACNytG,GAAI,oBAEN,CACEztG,KAAM,iBACNytG,GAAI,oBAEN,CACEztG,KAAM,iBACNytG,GAAI,mBAEN,CACEztG,KAAM,iBACNytG,GAAI,mBAEN,CACEztG,KAAM,iBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,kBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,oBAEN,CACEztG,KAAM,kBACNytG,GAAI,kBAEN,CACEztG,KAAM,kBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,kBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,kBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,kBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,oBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,oBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,kBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,mBAEN,CACEztG,KAAM,mBACNytG,GAAI,oBAGJ1mF,OAAQ,CACN,CACE9xG,KAAM,UACNgmI,KAAM,OACNC,KAAM,OAId,I,UCrtCF,MAAMwyD,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASv1K,KAEpE,QCLA,MAAMk3C,GAAUvZ,EAAAA,EAAAA,IAAoB63I,GACpCvlH,eAAe7/E,OAAO,YAAa8mE,E","sources":["webpack://ag-charts/webpack/universalModuleDefinition","webpack://ag-charts/./node_modules/core-js/internals/a-callable.js","webpack://ag-charts/./node_modules/core-js/internals/a-possible-prototype.js","webpack://ag-charts/./node_modules/core-js/internals/an-instance.js","webpack://ag-charts/./node_modules/core-js/internals/an-object.js","webpack://ag-charts/./node_modules/core-js/internals/array-includes.js","webpack://ag-charts/./node_modules/core-js/internals/array-set-length.js","webpack://ag-charts/./node_modules/core-js/internals/classof-raw.js","webpack://ag-charts/./node_modules/core-js/internals/classof.js","webpack://ag-charts/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://ag-charts/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://ag-charts/./node_modules/core-js/internals/create-property-descriptor.js","webpack://ag-charts/./node_modules/core-js/internals/define-built-in.js","webpack://ag-charts/./node_modules/core-js/internals/define-global-property.js","webpack://ag-charts/./node_modules/core-js/internals/descriptors.js","webpack://ag-charts/./node_modules/core-js/internals/document-all.js","webpack://ag-charts/./node_modules/core-js/internals/document-create-element.js","webpack://ag-charts/./node_modules/core-js/internals/does-not-exceed-safe-integer.js","webpack://ag-charts/./node_modules/core-js/internals/dom-exception-constants.js","webpack://ag-charts/./node_modules/core-js/internals/engine-user-agent.js","webpack://ag-charts/./node_modules/core-js/internals/engine-v8-version.js","webpack://ag-charts/./node_modules/core-js/internals/enum-bug-keys.js","webpack://ag-charts/./node_modules/core-js/internals/error-stack-clear.js","webpack://ag-charts/./node_modules/core-js/internals/export.js","webpack://ag-charts/./node_modules/core-js/internals/fails.js","webpack://ag-charts/./node_modules/core-js/internals/function-bind-native.js","webpack://ag-charts/./node_modules/core-js/internals/function-call.js","webpack://ag-charts/./node_modules/core-js/internals/function-name.js","webpack://ag-charts/./node_modules/core-js/internals/function-uncurry-this-accessor.js","webpack://ag-charts/./node_modules/core-js/internals/function-uncurry-this.js","webpack://ag-charts/./node_modules/core-js/internals/get-built-in.js","webpack://ag-charts/./node_modules/core-js/internals/get-method.js","webpack://ag-charts/./node_modules/core-js/internals/global.js","webpack://ag-charts/./node_modules/core-js/internals/has-own-property.js","webpack://ag-charts/./node_modules/core-js/internals/hidden-keys.js","webpack://ag-charts/./node_modules/core-js/internals/ie8-dom-define.js","webpack://ag-charts/./node_modules/core-js/internals/indexed-object.js","webpack://ag-charts/./node_modules/core-js/internals/inherit-if-required.js","webpack://ag-charts/./node_modules/core-js/internals/inspect-source.js","webpack://ag-charts/./node_modules/core-js/internals/internal-state.js","webpack://ag-charts/./node_modules/core-js/internals/is-array.js","webpack://ag-charts/./node_modules/core-js/internals/is-callable.js","webpack://ag-charts/./node_modules/core-js/internals/is-forced.js","webpack://ag-charts/./node_modules/core-js/internals/is-null-or-undefined.js","webpack://ag-charts/./node_modules/core-js/internals/is-object.js","webpack://ag-charts/./node_modules/core-js/internals/is-pure.js","webpack://ag-charts/./node_modules/core-js/internals/is-symbol.js","webpack://ag-charts/./node_modules/core-js/internals/length-of-array-like.js","webpack://ag-charts/./node_modules/core-js/internals/make-built-in.js","webpack://ag-charts/./node_modules/core-js/internals/math-trunc.js","webpack://ag-charts/./node_modules/core-js/internals/normalize-string-argument.js","webpack://ag-charts/./node_modules/core-js/internals/object-define-property.js","webpack://ag-charts/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://ag-charts/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://ag-charts/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://ag-charts/./node_modules/core-js/internals/object-is-prototype-of.js","webpack://ag-charts/./node_modules/core-js/internals/object-keys-internal.js","webpack://ag-charts/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://ag-charts/./node_modules/core-js/internals/object-set-prototype-of.js","webpack://ag-charts/./node_modules/core-js/internals/ordinary-to-primitive.js","webpack://ag-charts/./node_modules/core-js/internals/own-keys.js","webpack://ag-charts/./node_modules/core-js/internals/require-object-coercible.js","webpack://ag-charts/./node_modules/core-js/internals/shared-key.js","webpack://ag-charts/./node_modules/core-js/internals/shared-store.js","webpack://ag-charts/./node_modules/core-js/internals/shared.js","webpack://ag-charts/./node_modules/core-js/internals/symbol-constructor-detection.js","webpack://ag-charts/./node_modules/core-js/internals/to-absolute-index.js","webpack://ag-charts/./node_modules/core-js/internals/to-indexed-object.js","webpack://ag-charts/./node_modules/core-js/internals/to-integer-or-infinity.js","webpack://ag-charts/./node_modules/core-js/internals/to-length.js","webpack://ag-charts/./node_modules/core-js/internals/to-object.js","webpack://ag-charts/./node_modules/core-js/internals/to-primitive.js","webpack://ag-charts/./node_modules/core-js/internals/to-property-key.js","webpack://ag-charts/./node_modules/core-js/internals/to-string-tag-support.js","webpack://ag-charts/./node_modules/core-js/internals/to-string.js","webpack://ag-charts/./node_modules/core-js/internals/try-to-string.js","webpack://ag-charts/./node_modules/core-js/internals/uid.js","webpack://ag-charts/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://ag-charts/./node_modules/core-js/internals/v8-prototype-define-bug.js","webpack://ag-charts/./node_modules/core-js/internals/weak-map-basic-detection.js","webpack://ag-charts/./node_modules/core-js/internals/well-known-symbol.js","webpack://ag-charts/./node_modules/core-js/modules/es.array.push.js","webpack://ag-charts/./node_modules/core-js/modules/web.dom-exception.stack.js","webpack://ag-charts/./node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js","webpack://ag-charts/./node_modules/@vue/shared/dist/shared.esm-bundler.js","webpack://ag-charts/./node_modules/vue-class-component/dist/vue-class-component.esm-bundler.js","webpack://ag-charts/./node_modules/ag-charts-vue3/lib/AgChartsVue.js","webpack://ag-charts/./node_modules/ag-charts-vue3/main.js","webpack://ag-charts/./node_modules/vue-loader/dist/exportHelper.js","webpack://ag-charts/./node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js","webpack://ag-charts/./node_modules/@vue/runtime-dom/dist/runtime-dom.esm-bundler.js","webpack://ag-charts/./node_modules/@vue/compiler-core/dist/compiler-core.esm-bundler.js","webpack://ag-charts/./node_modules/@vue/compiler-dom/dist/compiler-dom.esm-bundler.js","webpack://ag-charts/./node_modules/vue/dist/vue.esm-bundler.js","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/time/interval.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/time/millisecond.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/time/duration.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/time/second.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/time/minute.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/time/hour.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/time/day.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/time/week.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/time/month.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/time/year.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/time/utcMinute.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/time/utcHour.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/time/utcDay.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/time/utcMonth.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/time/utcYear.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/userAgent.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/canvas/hdpiCanvas.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scene/bbox.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scene/matrix.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/id.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scene/changeDetectable.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scene/node.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/compare.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/function.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/logger.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scene/group.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/canvas/hdpiOffscreenCanvas.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/window.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scene/scene.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scene/gradient/gradient.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/angle.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scene/gradient/linearGradient.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scene/shape/shape.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scene/shape/text.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/observable.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/value.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/color.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/decorator.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/validation.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/layers.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/chartAxisDirection.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/data/utilFunctions.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/data/dataModel.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/deprecation.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/tooltip/tooltip.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/data/aggregateFunctions.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/series/series.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/padding.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/sizeMonitor.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/labelPlacement.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/render.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scene/path2D.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scene/polyRoots.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scene/intersection.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scene/shape/path.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/marker/marker.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/marker/circle.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/series/seriesMarker.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scene/selection.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scale/bandScale.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scene/shape/line.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/number.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scene/shape/arc.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/proxy.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/caption.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/equal.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scale/continuousScale.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/ticks.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/timeFormat.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scale/timeScale.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/numberFormat.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scale/logScale.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/default.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/array.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/label.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/axis.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scale/linearScale.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/chartAxis.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/axis/categoryAxis.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/json.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/marker/square.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/marker/cross.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/marker/diamond.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/marker/heart.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/marker/plus.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/marker/triangle.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/marker/util.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/motion/states.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/series/cartesian/cartesianSeries.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/async.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/overlay/overlay.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/overlay/chartOverlays.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/listeners.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/interaction/baseManager.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/interpolate/number.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/interpolate/color.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/interpolate/value.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/motion/easing.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/motion/animate.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/interaction/animationManager.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/interaction/cursorManager.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/interaction/chartEventManager.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/interaction/highlightManager.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/interaction/interactionManager.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/interaction/tooltipManager.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/interaction/zoomManager.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/layout/layoutService.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/dataService.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/chartUpdateType.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/updateService.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/chartHighlight.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/markerLabel.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/gridLayout.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/pagination/pagination.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/legend.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/factory/legendTypes.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/callbackCache.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/chart.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/layout/tree.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/axis/groupedCategoryAxis.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/cartesianChart.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/series/polar/polarSeries.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/sector.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scene/shape/sector.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/data/processors.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/series/polar/pieSeries.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/polarChart.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/hierarchyChart.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/string.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/sanitize.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/secondaryAxisTicks.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/axis/numberAxis.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/axis/logAxis.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/axis/timeAxis.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/series/cartesian/areaSeries.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scene/shape/rect.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/series/cartesian/barUtil.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/series/cartesian/barSeries.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/series/cartesian/histogramSeries.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/series/cartesian/lineSeries.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scale/colorScale.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/series/cartesian/scatterSeries.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/series/hierarchy/hierarchySeries.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scene/dropShadow.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/series/hierarchy/treemapSeries.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/factory/chartTypes.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/factory/seriesTypes.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/mapping/defaults.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/mapping/transforms.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/object.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/chartAxesTypes.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/themes/chartTheme.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/themes/darkTheme.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/themes/materialLight.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/themes/materialDark.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/themes/pastelLight.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/themes/pastelDark.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/themes/solarLight.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/themes/solarDark.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/themes/vividLight.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/themes/vividDark.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/mapping/themes.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/mapping/prepareSeries.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/mapping/prepare.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/crossline/crossLineLabelPosition.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scene/shape/range.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/crossline/crossLine.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/chartOptions.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/module.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/shapes/rangeHandle.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/shapes/rangeMask.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/shapes/rangeSelector.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/navigator/navigatorMask.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/navigator/navigatorHandle.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/navigator/navigator.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/util/navigator-module.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/background/background.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/background/backgroundModule.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/factory/setupModules.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/chart/agChartV2.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/scene/image.mjs","webpack://ag-charts/./node_modules/ag-charts-community/dist/esm/es6/integrated-charts-theme.mjs","webpack://ag-charts/webpack/bootstrap","webpack://ag-charts/webpack/runtime/compat get default export","webpack://ag-charts/webpack/runtime/define property getters","webpack://ag-charts/webpack/runtime/global","webpack://ag-charts/webpack/runtime/hasOwnProperty shorthand","webpack://ag-charts/webpack/runtime/make namespace object","webpack://ag-charts/webpack/runtime/publicPath","webpack://ag-charts/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://ag-charts/./src/components/agCharts.vue","webpack://ag-charts/./src/components/agCharts.vue?c48e","webpack://ag-charts/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ag-charts\"] = factory();\n\telse\n\t\troot[\"ag-charts\"] = factory();\n})((typeof self !== 'undefined' ? self : this), function() {\nreturn ","var isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw $TypeError(tryToString(argument) + ' is not a function');\n};\n","var isCallable = require('../internals/is-callable');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument) {\n  if (typeof argument == 'object' || isCallable(argument)) return argument;\n  throw $TypeError(\"Can't set \" + $String(argument) + ' as a prototype');\n};\n","var isPrototypeOf = require('../internals/object-is-prototype-of');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (it, Prototype) {\n  if (isPrototypeOf(Prototype, it)) return it;\n  throw $TypeError('Incorrect invocation');\n};\n","var isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw $TypeError($String(argument) + ' is not an object');\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar isArray = require('../internals/is-array');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Safari < 13 does not throw an error in this case\nvar SILENT_ON_NON_WRITABLE_LENGTH_SET = DESCRIPTORS && !function () {\n  // makes no sense without proper strict mode support\n  if (this !== undefined) return true;\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).length = 1;\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\nmodule.exports = SILENT_ON_NON_WRITABLE_LENGTH_SET ? function (O, length) {\n  if (isArray(O) && !getOwnPropertyDescriptor(O, 'length').writable) {\n    throw $TypeError('Cannot set read only .length');\n  } return O.length = length;\n} : function (O, length) {\n  return O.length = length;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","var hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var isCallable = require('../internals/is-callable');\nvar definePropertyModule = require('../internals/object-define-property');\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n","var global = require('../internals/global');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var documentAll = typeof document == 'object' && document.all;\n\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nvar IS_HTMLDDA = typeof documentAll == 'undefined' && documentAll !== undefined;\n\nmodule.exports = {\n  all: documentAll,\n  IS_HTMLDDA: IS_HTMLDDA\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var $TypeError = TypeError;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991\n\nmodule.exports = function (it) {\n  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');\n  return it;\n};\n","module.exports = {\n  IndexSizeError: { s: 'INDEX_SIZE_ERR', c: 1, m: 1 },\n  DOMStringSizeError: { s: 'DOMSTRING_SIZE_ERR', c: 2, m: 0 },\n  HierarchyRequestError: { s: 'HIERARCHY_REQUEST_ERR', c: 3, m: 1 },\n  WrongDocumentError: { s: 'WRONG_DOCUMENT_ERR', c: 4, m: 1 },\n  InvalidCharacterError: { s: 'INVALID_CHARACTER_ERR', c: 5, m: 1 },\n  NoDataAllowedError: { s: 'NO_DATA_ALLOWED_ERR', c: 6, m: 0 },\n  NoModificationAllowedError: { s: 'NO_MODIFICATION_ALLOWED_ERR', c: 7, m: 1 },\n  NotFoundError: { s: 'NOT_FOUND_ERR', c: 8, m: 1 },\n  NotSupportedError: { s: 'NOT_SUPPORTED_ERR', c: 9, m: 1 },\n  InUseAttributeError: { s: 'INUSE_ATTRIBUTE_ERR', c: 10, m: 1 },\n  InvalidStateError: { s: 'INVALID_STATE_ERR', c: 11, m: 1 },\n  SyntaxError: { s: 'SYNTAX_ERR', c: 12, m: 1 },\n  InvalidModificationError: { s: 'INVALID_MODIFICATION_ERR', c: 13, m: 1 },\n  NamespaceError: { s: 'NAMESPACE_ERR', c: 14, m: 1 },\n  InvalidAccessError: { s: 'INVALID_ACCESS_ERR', c: 15, m: 1 },\n  ValidationError: { s: 'VALIDATION_ERR', c: 16, m: 0 },\n  TypeMismatchError: { s: 'TYPE_MISMATCH_ERR', c: 17, m: 1 },\n  SecurityError: { s: 'SECURITY_ERR', c: 18, m: 1 },\n  NetworkError: { s: 'NETWORK_ERR', c: 19, m: 1 },\n  AbortError: { s: 'ABORT_ERR', c: 20, m: 1 },\n  URLMismatchError: { s: 'URL_MISMATCH_ERR', c: 21, m: 1 },\n  QuotaExceededError: { s: 'QUOTA_EXCEEDED_ERR', c: 22, m: 1 },\n  TimeoutError: { s: 'TIMEOUT_ERR', c: 23, m: 1 },\n  InvalidNodeTypeError: { s: 'INVALID_NODE_TYPE_ERR', c: 24, m: 1 },\n  DataCloneError: { s: 'DATA_CLONE_ERR', c: 25, m: 1 }\n};\n","module.exports = typeof navigator != 'undefined' && String(navigator.userAgent) || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar $Error = Error;\nvar replace = uncurryThis(''.replace);\n\nvar TEST = (function (arg) { return String($Error(arg).stack); })('zxcasd');\n// eslint-disable-next-line redos/no-vulnerable -- safe\nvar V8_OR_CHAKRA_STACK_ENTRY = /\\n\\s*at [^:]*:[^\\n]*/;\nvar IS_V8_OR_CHAKRA_STACK = V8_OR_CHAKRA_STACK_ENTRY.test(TEST);\n\nmodule.exports = function (stack, dropEntries) {\n  if (IS_V8_OR_CHAKRA_STACK && typeof stack == 'string' && !$Error.prepareStackTrace) {\n    while (dropEntries--) stack = replace(stack, V8_OR_CHAKRA_STACK_ENTRY, '');\n  } return stack;\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\n\nmodule.exports = function (object, key, method) {\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    return uncurryThis(aCallable(Object.getOwnPropertyDescriptor(object, key)[method]));\n  } catch (error) { /* empty */ }\n};\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","var aCallable = require('../internals/a-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || this || Function('return this')();\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","module.exports = {};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","var isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/weak-map-basic-detection');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) == 'Array';\n};\n","var $documentAll = require('../internals/document-all');\n\nvar documentAll = $documentAll.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = $documentAll.IS_HTMLDDA ? function (argument) {\n  return typeof argument == 'function' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == 'function';\n};\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n","var isCallable = require('../internals/is-callable');\nvar $documentAll = require('../internals/document-all');\n\nvar documentAll = $documentAll.all;\n\nmodule.exports = $documentAll.IS_HTMLDDA ? function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it) || it === documentAll;\n} : function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","module.exports = false;\n","var getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","var toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar $String = String;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\nvar stringSlice = uncurryThis(''.slice);\nvar replace = uncurryThis(''.replace);\nvar join = uncurryThis([].join);\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (stringSlice($String(name), 0, 7) === 'Symbol(') {\n    name = '[' + replace($String(name), /^Symbol\\(([^)]*)\\)/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = join(TEMPLATE, typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","var toString = require('../internals/to-string');\n\nmodule.exports = function (argument, $default) {\n  return argument === undefined ? arguments.length < 2 ? '' : $default : toString(argument);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","/* eslint-disable no-proto -- safe */\nvar uncurryThisAccessor = require('../internals/function-uncurry-this-accessor');\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = uncurryThisAccessor(Object.prototype, '__proto__', 'set');\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw $TypeError(\"Can't convert object to primitive value\");\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","var isNullOrUndefined = require('../internals/is-null-or-undefined');\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || defineGlobalProperty(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.31.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2014-2023 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\nvar global = require('../internals/global');\n\nvar $String = global.String;\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,\n  // of course, fail.\n  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","var call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","var toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var classof = require('../internals/classof');\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n","var $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype != 42;\n});\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar Symbol = global.Symbol;\nvar WellKnownSymbolsStore = shared('wks');\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name)) {\n    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)\n      ? Symbol[name]\n      : createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar fails = require('../internals/fails');\n\nvar INCORRECT_TO_LENGTH = fails(function () {\n  return [].push.call({ length: 0x100000000 }, 1) !== 4294967297;\n});\n\n// V8 and Safari <= 15.4, FF < 23 throws InternalError\n// https://bugs.chromium.org/p/v8/issues/detail?id=12681\nvar properErrorOnNonWritableLength = function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).push();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n};\n\nvar FORCED = INCORRECT_TO_LENGTH || !properErrorOnNonWritableLength();\n\n// `Array.prototype.push` method\n// https://tc39.es/ecma262/#sec-array.prototype.push\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  push: function push(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    doesNotExceedSafeInteger(len + argCount);\n    for (var i = 0; i < argCount; i++) {\n      O[len] = arguments[i];\n      len++;\n    }\n    setArrayLength(O, len);\n    return len;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar defineProperty = require('../internals/object-define-property').f;\nvar hasOwn = require('../internals/has-own-property');\nvar anInstance = require('../internals/an-instance');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar DOMExceptionConstants = require('../internals/dom-exception-constants');\nvar clearErrorStack = require('../internals/error-stack-clear');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IS_PURE = require('../internals/is-pure');\n\nvar DOM_EXCEPTION = 'DOMException';\nvar Error = getBuiltIn('Error');\nvar NativeDOMException = getBuiltIn(DOM_EXCEPTION);\n\nvar $DOMException = function DOMException() {\n  anInstance(this, DOMExceptionPrototype);\n  var argumentsLength = arguments.length;\n  var message = normalizeStringArgument(argumentsLength < 1 ? undefined : arguments[0]);\n  var name = normalizeStringArgument(argumentsLength < 2 ? undefined : arguments[1], 'Error');\n  var that = new NativeDOMException(message, name);\n  var error = Error(message);\n  error.name = DOM_EXCEPTION;\n  defineProperty(that, 'stack', createPropertyDescriptor(1, clearErrorStack(error.stack, 1)));\n  inheritIfRequired(that, this, $DOMException);\n  return that;\n};\n\nvar DOMExceptionPrototype = $DOMException.prototype = NativeDOMException.prototype;\n\nvar ERROR_HAS_STACK = 'stack' in Error(DOM_EXCEPTION);\nvar DOM_EXCEPTION_HAS_STACK = 'stack' in new NativeDOMException(1, 2);\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar descriptor = NativeDOMException && DESCRIPTORS && Object.getOwnPropertyDescriptor(global, DOM_EXCEPTION);\n\n// Bun ~ 0.1.1 DOMException have incorrect descriptor and we can't redefine it\n// https://github.com/Jarred-Sumner/bun/issues/399\nvar BUGGY_DESCRIPTOR = !!descriptor && !(descriptor.writable && descriptor.configurable);\n\nvar FORCED_CONSTRUCTOR = ERROR_HAS_STACK && !BUGGY_DESCRIPTOR && !DOM_EXCEPTION_HAS_STACK;\n\n// `DOMException` constructor patch for `.stack` where it's required\n// https://webidl.spec.whatwg.org/#es-DOMException-specialness\n$({ global: true, constructor: true, forced: IS_PURE || FORCED_CONSTRUCTOR }, { // TODO: fix export logic\n  DOMException: FORCED_CONSTRUCTOR ? $DOMException : NativeDOMException\n});\n\nvar PolyfilledDOMException = getBuiltIn(DOM_EXCEPTION);\nvar PolyfilledDOMExceptionPrototype = PolyfilledDOMException.prototype;\n\nif (PolyfilledDOMExceptionPrototype.constructor !== PolyfilledDOMException) {\n  if (!IS_PURE) {\n    defineProperty(PolyfilledDOMExceptionPrototype, 'constructor', createPropertyDescriptor(1, PolyfilledDOMException));\n  }\n\n  for (var key in DOMExceptionConstants) if (hasOwn(DOMExceptionConstants, key)) {\n    var constant = DOMExceptionConstants[key];\n    var constantName = constant.s;\n    if (!hasOwn(PolyfilledDOMException, constantName)) {\n      defineProperty(PolyfilledDOMException, constantName, createPropertyDescriptor(6, constant.c));\n    }\n  }\n}\n","import { extend, isArray, isMap, isIntegerKey, hasOwn, isSymbol, isObject, hasChanged, makeMap, capitalize, toRawType, def, isFunction, NOOP } from '@vue/shared';\n\nfunction warn(msg, ...args) {\n  console.warn(`[Vue warn] ${msg}`, ...args);\n}\n\nlet activeEffectScope;\nclass EffectScope {\n  constructor(detached = false) {\n    this.detached = detached;\n    /**\n     * @internal\n     */\n    this._active = true;\n    /**\n     * @internal\n     */\n    this.effects = [];\n    /**\n     * @internal\n     */\n    this.cleanups = [];\n    this.parent = activeEffectScope;\n    if (!detached && activeEffectScope) {\n      this.index = (activeEffectScope.scopes || (activeEffectScope.scopes = [])).push(\n        this\n      ) - 1;\n    }\n  }\n  get active() {\n    return this._active;\n  }\n  run(fn) {\n    if (this._active) {\n      const currentEffectScope = activeEffectScope;\n      try {\n        activeEffectScope = this;\n        return fn();\n      } finally {\n        activeEffectScope = currentEffectScope;\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`cannot run an inactive effect scope.`);\n    }\n  }\n  /**\n   * This should only be called on non-detached scopes\n   * @internal\n   */\n  on() {\n    activeEffectScope = this;\n  }\n  /**\n   * This should only be called on non-detached scopes\n   * @internal\n   */\n  off() {\n    activeEffectScope = this.parent;\n  }\n  stop(fromParent) {\n    if (this._active) {\n      let i, l;\n      for (i = 0, l = this.effects.length; i < l; i++) {\n        this.effects[i].stop();\n      }\n      for (i = 0, l = this.cleanups.length; i < l; i++) {\n        this.cleanups[i]();\n      }\n      if (this.scopes) {\n        for (i = 0, l = this.scopes.length; i < l; i++) {\n          this.scopes[i].stop(true);\n        }\n      }\n      if (!this.detached && this.parent && !fromParent) {\n        const last = this.parent.scopes.pop();\n        if (last && last !== this) {\n          this.parent.scopes[this.index] = last;\n          last.index = this.index;\n        }\n      }\n      this.parent = void 0;\n      this._active = false;\n    }\n  }\n}\nfunction effectScope(detached) {\n  return new EffectScope(detached);\n}\nfunction recordEffectScope(effect, scope = activeEffectScope) {\n  if (scope && scope.active) {\n    scope.effects.push(effect);\n  }\n}\nfunction getCurrentScope() {\n  return activeEffectScope;\n}\nfunction onScopeDispose(fn) {\n  if (activeEffectScope) {\n    activeEffectScope.cleanups.push(fn);\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(\n      `onScopeDispose() is called when there is no active effect scope to be associated with.`\n    );\n  }\n}\n\nconst createDep = (effects) => {\n  const dep = new Set(effects);\n  dep.w = 0;\n  dep.n = 0;\n  return dep;\n};\nconst wasTracked = (dep) => (dep.w & trackOpBit) > 0;\nconst newTracked = (dep) => (dep.n & trackOpBit) > 0;\nconst initDepMarkers = ({ deps }) => {\n  if (deps.length) {\n    for (let i = 0; i < deps.length; i++) {\n      deps[i].w |= trackOpBit;\n    }\n  }\n};\nconst finalizeDepMarkers = (effect) => {\n  const { deps } = effect;\n  if (deps.length) {\n    let ptr = 0;\n    for (let i = 0; i < deps.length; i++) {\n      const dep = deps[i];\n      if (wasTracked(dep) && !newTracked(dep)) {\n        dep.delete(effect);\n      } else {\n        deps[ptr++] = dep;\n      }\n      dep.w &= ~trackOpBit;\n      dep.n &= ~trackOpBit;\n    }\n    deps.length = ptr;\n  }\n};\n\nconst targetMap = /* @__PURE__ */ new WeakMap();\nlet effectTrackDepth = 0;\nlet trackOpBit = 1;\nconst maxMarkerBits = 30;\nlet activeEffect;\nconst ITERATE_KEY = Symbol(!!(process.env.NODE_ENV !== \"production\") ? \"iterate\" : \"\");\nconst MAP_KEY_ITERATE_KEY = Symbol(!!(process.env.NODE_ENV !== \"production\") ? \"Map key iterate\" : \"\");\nclass ReactiveEffect {\n  constructor(fn, scheduler = null, scope) {\n    this.fn = fn;\n    this.scheduler = scheduler;\n    this.active = true;\n    this.deps = [];\n    this.parent = void 0;\n    recordEffectScope(this, scope);\n  }\n  run() {\n    if (!this.active) {\n      return this.fn();\n    }\n    let parent = activeEffect;\n    let lastShouldTrack = shouldTrack;\n    while (parent) {\n      if (parent === this) {\n        return;\n      }\n      parent = parent.parent;\n    }\n    try {\n      this.parent = activeEffect;\n      activeEffect = this;\n      shouldTrack = true;\n      trackOpBit = 1 << ++effectTrackDepth;\n      if (effectTrackDepth <= maxMarkerBits) {\n        initDepMarkers(this);\n      } else {\n        cleanupEffect(this);\n      }\n      return this.fn();\n    } finally {\n      if (effectTrackDepth <= maxMarkerBits) {\n        finalizeDepMarkers(this);\n      }\n      trackOpBit = 1 << --effectTrackDepth;\n      activeEffect = this.parent;\n      shouldTrack = lastShouldTrack;\n      this.parent = void 0;\n      if (this.deferStop) {\n        this.stop();\n      }\n    }\n  }\n  stop() {\n    if (activeEffect === this) {\n      this.deferStop = true;\n    } else if (this.active) {\n      cleanupEffect(this);\n      if (this.onStop) {\n        this.onStop();\n      }\n      this.active = false;\n    }\n  }\n}\nfunction cleanupEffect(effect2) {\n  const { deps } = effect2;\n  if (deps.length) {\n    for (let i = 0; i < deps.length; i++) {\n      deps[i].delete(effect2);\n    }\n    deps.length = 0;\n  }\n}\nfunction effect(fn, options) {\n  if (fn.effect) {\n    fn = fn.effect.fn;\n  }\n  const _effect = new ReactiveEffect(fn);\n  if (options) {\n    extend(_effect, options);\n    if (options.scope)\n      recordEffectScope(_effect, options.scope);\n  }\n  if (!options || !options.lazy) {\n    _effect.run();\n  }\n  const runner = _effect.run.bind(_effect);\n  runner.effect = _effect;\n  return runner;\n}\nfunction stop(runner) {\n  runner.effect.stop();\n}\nlet shouldTrack = true;\nconst trackStack = [];\nfunction pauseTracking() {\n  trackStack.push(shouldTrack);\n  shouldTrack = false;\n}\nfunction enableTracking() {\n  trackStack.push(shouldTrack);\n  shouldTrack = true;\n}\nfunction resetTracking() {\n  const last = trackStack.pop();\n  shouldTrack = last === void 0 ? true : last;\n}\nfunction track(target, type, key) {\n  if (shouldTrack && activeEffect) {\n    let depsMap = targetMap.get(target);\n    if (!depsMap) {\n      targetMap.set(target, depsMap = /* @__PURE__ */ new Map());\n    }\n    let dep = depsMap.get(key);\n    if (!dep) {\n      depsMap.set(key, dep = createDep());\n    }\n    const eventInfo = !!(process.env.NODE_ENV !== \"production\") ? { effect: activeEffect, target, type, key } : void 0;\n    trackEffects(dep, eventInfo);\n  }\n}\nfunction trackEffects(dep, debuggerEventExtraInfo) {\n  let shouldTrack2 = false;\n  if (effectTrackDepth <= maxMarkerBits) {\n    if (!newTracked(dep)) {\n      dep.n |= trackOpBit;\n      shouldTrack2 = !wasTracked(dep);\n    }\n  } else {\n    shouldTrack2 = !dep.has(activeEffect);\n  }\n  if (shouldTrack2) {\n    dep.add(activeEffect);\n    activeEffect.deps.push(dep);\n    if (!!(process.env.NODE_ENV !== \"production\") && activeEffect.onTrack) {\n      activeEffect.onTrack(\n        extend(\n          {\n            effect: activeEffect\n          },\n          debuggerEventExtraInfo\n        )\n      );\n    }\n  }\n}\nfunction trigger(target, type, key, newValue, oldValue, oldTarget) {\n  const depsMap = targetMap.get(target);\n  if (!depsMap) {\n    return;\n  }\n  let deps = [];\n  if (type === \"clear\") {\n    deps = [...depsMap.values()];\n  } else if (key === \"length\" && isArray(target)) {\n    const newLength = Number(newValue);\n    depsMap.forEach((dep, key2) => {\n      if (key2 === \"length\" || key2 >= newLength) {\n        deps.push(dep);\n      }\n    });\n  } else {\n    if (key !== void 0) {\n      deps.push(depsMap.get(key));\n    }\n    switch (type) {\n      case \"add\":\n        if (!isArray(target)) {\n          deps.push(depsMap.get(ITERATE_KEY));\n          if (isMap(target)) {\n            deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));\n          }\n        } else if (isIntegerKey(key)) {\n          deps.push(depsMap.get(\"length\"));\n        }\n        break;\n      case \"delete\":\n        if (!isArray(target)) {\n          deps.push(depsMap.get(ITERATE_KEY));\n          if (isMap(target)) {\n            deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));\n          }\n        }\n        break;\n      case \"set\":\n        if (isMap(target)) {\n          deps.push(depsMap.get(ITERATE_KEY));\n        }\n        break;\n    }\n  }\n  const eventInfo = !!(process.env.NODE_ENV !== \"production\") ? { target, type, key, newValue, oldValue, oldTarget } : void 0;\n  if (deps.length === 1) {\n    if (deps[0]) {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        triggerEffects(deps[0], eventInfo);\n      } else {\n        triggerEffects(deps[0]);\n      }\n    }\n  } else {\n    const effects = [];\n    for (const dep of deps) {\n      if (dep) {\n        effects.push(...dep);\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      triggerEffects(createDep(effects), eventInfo);\n    } else {\n      triggerEffects(createDep(effects));\n    }\n  }\n}\nfunction triggerEffects(dep, debuggerEventExtraInfo) {\n  const effects = isArray(dep) ? dep : [...dep];\n  for (const effect2 of effects) {\n    if (effect2.computed) {\n      triggerEffect(effect2, debuggerEventExtraInfo);\n    }\n  }\n  for (const effect2 of effects) {\n    if (!effect2.computed) {\n      triggerEffect(effect2, debuggerEventExtraInfo);\n    }\n  }\n}\nfunction triggerEffect(effect2, debuggerEventExtraInfo) {\n  if (effect2 !== activeEffect || effect2.allowRecurse) {\n    if (!!(process.env.NODE_ENV !== \"production\") && effect2.onTrigger) {\n      effect2.onTrigger(extend({ effect: effect2 }, debuggerEventExtraInfo));\n    }\n    if (effect2.scheduler) {\n      effect2.scheduler();\n    } else {\n      effect2.run();\n    }\n  }\n}\nfunction getDepFromReactive(object, key) {\n  var _a;\n  return (_a = targetMap.get(object)) == null ? void 0 : _a.get(key);\n}\n\nconst isNonTrackableKeys = /* @__PURE__ */ makeMap(`__proto__,__v_isRef,__isVue`);\nconst builtInSymbols = new Set(\n  /* @__PURE__ */ Object.getOwnPropertyNames(Symbol).filter((key) => key !== \"arguments\" && key !== \"caller\").map((key) => Symbol[key]).filter(isSymbol)\n);\nconst get$1 = /* @__PURE__ */ createGetter();\nconst shallowGet = /* @__PURE__ */ createGetter(false, true);\nconst readonlyGet = /* @__PURE__ */ createGetter(true);\nconst shallowReadonlyGet = /* @__PURE__ */ createGetter(true, true);\nconst arrayInstrumentations = /* @__PURE__ */ createArrayInstrumentations();\nfunction createArrayInstrumentations() {\n  const instrumentations = {};\n  [\"includes\", \"indexOf\", \"lastIndexOf\"].forEach((key) => {\n    instrumentations[key] = function(...args) {\n      const arr = toRaw(this);\n      for (let i = 0, l = this.length; i < l; i++) {\n        track(arr, \"get\", i + \"\");\n      }\n      const res = arr[key](...args);\n      if (res === -1 || res === false) {\n        return arr[key](...args.map(toRaw));\n      } else {\n        return res;\n      }\n    };\n  });\n  [\"push\", \"pop\", \"shift\", \"unshift\", \"splice\"].forEach((key) => {\n    instrumentations[key] = function(...args) {\n      pauseTracking();\n      const res = toRaw(this)[key].apply(this, args);\n      resetTracking();\n      return res;\n    };\n  });\n  return instrumentations;\n}\nfunction hasOwnProperty(key) {\n  const obj = toRaw(this);\n  track(obj, \"has\", key);\n  return obj.hasOwnProperty(key);\n}\nfunction createGetter(isReadonly2 = false, shallow = false) {\n  return function get2(target, key, receiver) {\n    if (key === \"__v_isReactive\") {\n      return !isReadonly2;\n    } else if (key === \"__v_isReadonly\") {\n      return isReadonly2;\n    } else if (key === \"__v_isShallow\") {\n      return shallow;\n    } else if (key === \"__v_raw\" && receiver === (isReadonly2 ? shallow ? shallowReadonlyMap : readonlyMap : shallow ? shallowReactiveMap : reactiveMap).get(target)) {\n      return target;\n    }\n    const targetIsArray = isArray(target);\n    if (!isReadonly2) {\n      if (targetIsArray && hasOwn(arrayInstrumentations, key)) {\n        return Reflect.get(arrayInstrumentations, key, receiver);\n      }\n      if (key === \"hasOwnProperty\") {\n        return hasOwnProperty;\n      }\n    }\n    const res = Reflect.get(target, key, receiver);\n    if (isSymbol(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {\n      return res;\n    }\n    if (!isReadonly2) {\n      track(target, \"get\", key);\n    }\n    if (shallow) {\n      return res;\n    }\n    if (isRef(res)) {\n      return targetIsArray && isIntegerKey(key) ? res : res.value;\n    }\n    if (isObject(res)) {\n      return isReadonly2 ? readonly(res) : reactive(res);\n    }\n    return res;\n  };\n}\nconst set$1 = /* @__PURE__ */ createSetter();\nconst shallowSet = /* @__PURE__ */ createSetter(true);\nfunction createSetter(shallow = false) {\n  return function set2(target, key, value, receiver) {\n    let oldValue = target[key];\n    if (isReadonly(oldValue) && isRef(oldValue) && !isRef(value)) {\n      return false;\n    }\n    if (!shallow) {\n      if (!isShallow(value) && !isReadonly(value)) {\n        oldValue = toRaw(oldValue);\n        value = toRaw(value);\n      }\n      if (!isArray(target) && isRef(oldValue) && !isRef(value)) {\n        oldValue.value = value;\n        return true;\n      }\n    }\n    const hadKey = isArray(target) && isIntegerKey(key) ? Number(key) < target.length : hasOwn(target, key);\n    const result = Reflect.set(target, key, value, receiver);\n    if (target === toRaw(receiver)) {\n      if (!hadKey) {\n        trigger(target, \"add\", key, value);\n      } else if (hasChanged(value, oldValue)) {\n        trigger(target, \"set\", key, value, oldValue);\n      }\n    }\n    return result;\n  };\n}\nfunction deleteProperty(target, key) {\n  const hadKey = hasOwn(target, key);\n  const oldValue = target[key];\n  const result = Reflect.deleteProperty(target, key);\n  if (result && hadKey) {\n    trigger(target, \"delete\", key, void 0, oldValue);\n  }\n  return result;\n}\nfunction has$1(target, key) {\n  const result = Reflect.has(target, key);\n  if (!isSymbol(key) || !builtInSymbols.has(key)) {\n    track(target, \"has\", key);\n  }\n  return result;\n}\nfunction ownKeys(target) {\n  track(target, \"iterate\", isArray(target) ? \"length\" : ITERATE_KEY);\n  return Reflect.ownKeys(target);\n}\nconst mutableHandlers = {\n  get: get$1,\n  set: set$1,\n  deleteProperty,\n  has: has$1,\n  ownKeys\n};\nconst readonlyHandlers = {\n  get: readonlyGet,\n  set(target, key) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\n        `Set operation on key \"${String(key)}\" failed: target is readonly.`,\n        target\n      );\n    }\n    return true;\n  },\n  deleteProperty(target, key) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\n        `Delete operation on key \"${String(key)}\" failed: target is readonly.`,\n        target\n      );\n    }\n    return true;\n  }\n};\nconst shallowReactiveHandlers = /* @__PURE__ */ extend(\n  {},\n  mutableHandlers,\n  {\n    get: shallowGet,\n    set: shallowSet\n  }\n);\nconst shallowReadonlyHandlers = /* @__PURE__ */ extend(\n  {},\n  readonlyHandlers,\n  {\n    get: shallowReadonlyGet\n  }\n);\n\nconst toShallow = (value) => value;\nconst getProto = (v) => Reflect.getPrototypeOf(v);\nfunction get(target, key, isReadonly = false, isShallow = false) {\n  target = target[\"__v_raw\"];\n  const rawTarget = toRaw(target);\n  const rawKey = toRaw(key);\n  if (!isReadonly) {\n    if (key !== rawKey) {\n      track(rawTarget, \"get\", key);\n    }\n    track(rawTarget, \"get\", rawKey);\n  }\n  const { has: has2 } = getProto(rawTarget);\n  const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\n  if (has2.call(rawTarget, key)) {\n    return wrap(target.get(key));\n  } else if (has2.call(rawTarget, rawKey)) {\n    return wrap(target.get(rawKey));\n  } else if (target !== rawTarget) {\n    target.get(key);\n  }\n}\nfunction has(key, isReadonly = false) {\n  const target = this[\"__v_raw\"];\n  const rawTarget = toRaw(target);\n  const rawKey = toRaw(key);\n  if (!isReadonly) {\n    if (key !== rawKey) {\n      track(rawTarget, \"has\", key);\n    }\n    track(rawTarget, \"has\", rawKey);\n  }\n  return key === rawKey ? target.has(key) : target.has(key) || target.has(rawKey);\n}\nfunction size(target, isReadonly = false) {\n  target = target[\"__v_raw\"];\n  !isReadonly && track(toRaw(target), \"iterate\", ITERATE_KEY);\n  return Reflect.get(target, \"size\", target);\n}\nfunction add(value) {\n  value = toRaw(value);\n  const target = toRaw(this);\n  const proto = getProto(target);\n  const hadKey = proto.has.call(target, value);\n  if (!hadKey) {\n    target.add(value);\n    trigger(target, \"add\", value, value);\n  }\n  return this;\n}\nfunction set(key, value) {\n  value = toRaw(value);\n  const target = toRaw(this);\n  const { has: has2, get: get2 } = getProto(target);\n  let hadKey = has2.call(target, key);\n  if (!hadKey) {\n    key = toRaw(key);\n    hadKey = has2.call(target, key);\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    checkIdentityKeys(target, has2, key);\n  }\n  const oldValue = get2.call(target, key);\n  target.set(key, value);\n  if (!hadKey) {\n    trigger(target, \"add\", key, value);\n  } else if (hasChanged(value, oldValue)) {\n    trigger(target, \"set\", key, value, oldValue);\n  }\n  return this;\n}\nfunction deleteEntry(key) {\n  const target = toRaw(this);\n  const { has: has2, get: get2 } = getProto(target);\n  let hadKey = has2.call(target, key);\n  if (!hadKey) {\n    key = toRaw(key);\n    hadKey = has2.call(target, key);\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    checkIdentityKeys(target, has2, key);\n  }\n  const oldValue = get2 ? get2.call(target, key) : void 0;\n  const result = target.delete(key);\n  if (hadKey) {\n    trigger(target, \"delete\", key, void 0, oldValue);\n  }\n  return result;\n}\nfunction clear() {\n  const target = toRaw(this);\n  const hadItems = target.size !== 0;\n  const oldTarget = !!(process.env.NODE_ENV !== \"production\") ? isMap(target) ? new Map(target) : new Set(target) : void 0;\n  const result = target.clear();\n  if (hadItems) {\n    trigger(target, \"clear\", void 0, void 0, oldTarget);\n  }\n  return result;\n}\nfunction createForEach(isReadonly, isShallow) {\n  return function forEach(callback, thisArg) {\n    const observed = this;\n    const target = observed[\"__v_raw\"];\n    const rawTarget = toRaw(target);\n    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\n    !isReadonly && track(rawTarget, \"iterate\", ITERATE_KEY);\n    return target.forEach((value, key) => {\n      return callback.call(thisArg, wrap(value), wrap(key), observed);\n    });\n  };\n}\nfunction createIterableMethod(method, isReadonly, isShallow) {\n  return function(...args) {\n    const target = this[\"__v_raw\"];\n    const rawTarget = toRaw(target);\n    const targetIsMap = isMap(rawTarget);\n    const isPair = method === \"entries\" || method === Symbol.iterator && targetIsMap;\n    const isKeyOnly = method === \"keys\" && targetIsMap;\n    const innerIterator = target[method](...args);\n    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\n    !isReadonly && track(\n      rawTarget,\n      \"iterate\",\n      isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY\n    );\n    return {\n      // iterator protocol\n      next() {\n        const { value, done } = innerIterator.next();\n        return done ? { value, done } : {\n          value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),\n          done\n        };\n      },\n      // iterable protocol\n      [Symbol.iterator]() {\n        return this;\n      }\n    };\n  };\n}\nfunction createReadonlyMethod(type) {\n  return function(...args) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      const key = args[0] ? `on key \"${args[0]}\" ` : ``;\n      console.warn(\n        `${capitalize(type)} operation ${key}failed: target is readonly.`,\n        toRaw(this)\n      );\n    }\n    return type === \"delete\" ? false : this;\n  };\n}\nfunction createInstrumentations() {\n  const mutableInstrumentations2 = {\n    get(key) {\n      return get(this, key);\n    },\n    get size() {\n      return size(this);\n    },\n    has,\n    add,\n    set,\n    delete: deleteEntry,\n    clear,\n    forEach: createForEach(false, false)\n  };\n  const shallowInstrumentations2 = {\n    get(key) {\n      return get(this, key, false, true);\n    },\n    get size() {\n      return size(this);\n    },\n    has,\n    add,\n    set,\n    delete: deleteEntry,\n    clear,\n    forEach: createForEach(false, true)\n  };\n  const readonlyInstrumentations2 = {\n    get(key) {\n      return get(this, key, true);\n    },\n    get size() {\n      return size(this, true);\n    },\n    has(key) {\n      return has.call(this, key, true);\n    },\n    add: createReadonlyMethod(\"add\"),\n    set: createReadonlyMethod(\"set\"),\n    delete: createReadonlyMethod(\"delete\"),\n    clear: createReadonlyMethod(\"clear\"),\n    forEach: createForEach(true, false)\n  };\n  const shallowReadonlyInstrumentations2 = {\n    get(key) {\n      return get(this, key, true, true);\n    },\n    get size() {\n      return size(this, true);\n    },\n    has(key) {\n      return has.call(this, key, true);\n    },\n    add: createReadonlyMethod(\"add\"),\n    set: createReadonlyMethod(\"set\"),\n    delete: createReadonlyMethod(\"delete\"),\n    clear: createReadonlyMethod(\"clear\"),\n    forEach: createForEach(true, true)\n  };\n  const iteratorMethods = [\"keys\", \"values\", \"entries\", Symbol.iterator];\n  iteratorMethods.forEach((method) => {\n    mutableInstrumentations2[method] = createIterableMethod(\n      method,\n      false,\n      false\n    );\n    readonlyInstrumentations2[method] = createIterableMethod(\n      method,\n      true,\n      false\n    );\n    shallowInstrumentations2[method] = createIterableMethod(\n      method,\n      false,\n      true\n    );\n    shallowReadonlyInstrumentations2[method] = createIterableMethod(\n      method,\n      true,\n      true\n    );\n  });\n  return [\n    mutableInstrumentations2,\n    readonlyInstrumentations2,\n    shallowInstrumentations2,\n    shallowReadonlyInstrumentations2\n  ];\n}\nconst [\n  mutableInstrumentations,\n  readonlyInstrumentations,\n  shallowInstrumentations,\n  shallowReadonlyInstrumentations\n] = /* @__PURE__ */ createInstrumentations();\nfunction createInstrumentationGetter(isReadonly, shallow) {\n  const instrumentations = shallow ? isReadonly ? shallowReadonlyInstrumentations : shallowInstrumentations : isReadonly ? readonlyInstrumentations : mutableInstrumentations;\n  return (target, key, receiver) => {\n    if (key === \"__v_isReactive\") {\n      return !isReadonly;\n    } else if (key === \"__v_isReadonly\") {\n      return isReadonly;\n    } else if (key === \"__v_raw\") {\n      return target;\n    }\n    return Reflect.get(\n      hasOwn(instrumentations, key) && key in target ? instrumentations : target,\n      key,\n      receiver\n    );\n  };\n}\nconst mutableCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(false, false)\n};\nconst shallowCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(false, true)\n};\nconst readonlyCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(true, false)\n};\nconst shallowReadonlyCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(true, true)\n};\nfunction checkIdentityKeys(target, has2, key) {\n  const rawKey = toRaw(key);\n  if (rawKey !== key && has2.call(target, rawKey)) {\n    const type = toRawType(target);\n    console.warn(\n      `Reactive ${type} contains both the raw and reactive versions of the same object${type === `Map` ? ` as keys` : ``}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`\n    );\n  }\n}\n\nconst reactiveMap = /* @__PURE__ */ new WeakMap();\nconst shallowReactiveMap = /* @__PURE__ */ new WeakMap();\nconst readonlyMap = /* @__PURE__ */ new WeakMap();\nconst shallowReadonlyMap = /* @__PURE__ */ new WeakMap();\nfunction targetTypeMap(rawType) {\n  switch (rawType) {\n    case \"Object\":\n    case \"Array\":\n      return 1 /* COMMON */;\n    case \"Map\":\n    case \"Set\":\n    case \"WeakMap\":\n    case \"WeakSet\":\n      return 2 /* COLLECTION */;\n    default:\n      return 0 /* INVALID */;\n  }\n}\nfunction getTargetType(value) {\n  return value[\"__v_skip\"] || !Object.isExtensible(value) ? 0 /* INVALID */ : targetTypeMap(toRawType(value));\n}\nfunction reactive(target) {\n  if (isReadonly(target)) {\n    return target;\n  }\n  return createReactiveObject(\n    target,\n    false,\n    mutableHandlers,\n    mutableCollectionHandlers,\n    reactiveMap\n  );\n}\nfunction shallowReactive(target) {\n  return createReactiveObject(\n    target,\n    false,\n    shallowReactiveHandlers,\n    shallowCollectionHandlers,\n    shallowReactiveMap\n  );\n}\nfunction readonly(target) {\n  return createReactiveObject(\n    target,\n    true,\n    readonlyHandlers,\n    readonlyCollectionHandlers,\n    readonlyMap\n  );\n}\nfunction shallowReadonly(target) {\n  return createReactiveObject(\n    target,\n    true,\n    shallowReadonlyHandlers,\n    shallowReadonlyCollectionHandlers,\n    shallowReadonlyMap\n  );\n}\nfunction createReactiveObject(target, isReadonly2, baseHandlers, collectionHandlers, proxyMap) {\n  if (!isObject(target)) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      console.warn(`value cannot be made reactive: ${String(target)}`);\n    }\n    return target;\n  }\n  if (target[\"__v_raw\"] && !(isReadonly2 && target[\"__v_isReactive\"])) {\n    return target;\n  }\n  const existingProxy = proxyMap.get(target);\n  if (existingProxy) {\n    return existingProxy;\n  }\n  const targetType = getTargetType(target);\n  if (targetType === 0 /* INVALID */) {\n    return target;\n  }\n  const proxy = new Proxy(\n    target,\n    targetType === 2 /* COLLECTION */ ? collectionHandlers : baseHandlers\n  );\n  proxyMap.set(target, proxy);\n  return proxy;\n}\nfunction isReactive(value) {\n  if (isReadonly(value)) {\n    return isReactive(value[\"__v_raw\"]);\n  }\n  return !!(value && value[\"__v_isReactive\"]);\n}\nfunction isReadonly(value) {\n  return !!(value && value[\"__v_isReadonly\"]);\n}\nfunction isShallow(value) {\n  return !!(value && value[\"__v_isShallow\"]);\n}\nfunction isProxy(value) {\n  return isReactive(value) || isReadonly(value);\n}\nfunction toRaw(observed) {\n  const raw = observed && observed[\"__v_raw\"];\n  return raw ? toRaw(raw) : observed;\n}\nfunction markRaw(value) {\n  def(value, \"__v_skip\", true);\n  return value;\n}\nconst toReactive = (value) => isObject(value) ? reactive(value) : value;\nconst toReadonly = (value) => isObject(value) ? readonly(value) : value;\n\nfunction trackRefValue(ref2) {\n  if (shouldTrack && activeEffect) {\n    ref2 = toRaw(ref2);\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      trackEffects(ref2.dep || (ref2.dep = createDep()), {\n        target: ref2,\n        type: \"get\",\n        key: \"value\"\n      });\n    } else {\n      trackEffects(ref2.dep || (ref2.dep = createDep()));\n    }\n  }\n}\nfunction triggerRefValue(ref2, newVal) {\n  ref2 = toRaw(ref2);\n  const dep = ref2.dep;\n  if (dep) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      triggerEffects(dep, {\n        target: ref2,\n        type: \"set\",\n        key: \"value\",\n        newValue: newVal\n      });\n    } else {\n      triggerEffects(dep);\n    }\n  }\n}\nfunction isRef(r) {\n  return !!(r && r.__v_isRef === true);\n}\nfunction ref(value) {\n  return createRef(value, false);\n}\nfunction shallowRef(value) {\n  return createRef(value, true);\n}\nfunction createRef(rawValue, shallow) {\n  if (isRef(rawValue)) {\n    return rawValue;\n  }\n  return new RefImpl(rawValue, shallow);\n}\nclass RefImpl {\n  constructor(value, __v_isShallow) {\n    this.__v_isShallow = __v_isShallow;\n    this.dep = void 0;\n    this.__v_isRef = true;\n    this._rawValue = __v_isShallow ? value : toRaw(value);\n    this._value = __v_isShallow ? value : toReactive(value);\n  }\n  get value() {\n    trackRefValue(this);\n    return this._value;\n  }\n  set value(newVal) {\n    const useDirectValue = this.__v_isShallow || isShallow(newVal) || isReadonly(newVal);\n    newVal = useDirectValue ? newVal : toRaw(newVal);\n    if (hasChanged(newVal, this._rawValue)) {\n      this._rawValue = newVal;\n      this._value = useDirectValue ? newVal : toReactive(newVal);\n      triggerRefValue(this, newVal);\n    }\n  }\n}\nfunction triggerRef(ref2) {\n  triggerRefValue(ref2, !!(process.env.NODE_ENV !== \"production\") ? ref2.value : void 0);\n}\nfunction unref(ref2) {\n  return isRef(ref2) ? ref2.value : ref2;\n}\nfunction toValue(source) {\n  return isFunction(source) ? source() : unref(source);\n}\nconst shallowUnwrapHandlers = {\n  get: (target, key, receiver) => unref(Reflect.get(target, key, receiver)),\n  set: (target, key, value, receiver) => {\n    const oldValue = target[key];\n    if (isRef(oldValue) && !isRef(value)) {\n      oldValue.value = value;\n      return true;\n    } else {\n      return Reflect.set(target, key, value, receiver);\n    }\n  }\n};\nfunction proxyRefs(objectWithRefs) {\n  return isReactive(objectWithRefs) ? objectWithRefs : new Proxy(objectWithRefs, shallowUnwrapHandlers);\n}\nclass CustomRefImpl {\n  constructor(factory) {\n    this.dep = void 0;\n    this.__v_isRef = true;\n    const { get, set } = factory(\n      () => trackRefValue(this),\n      () => triggerRefValue(this)\n    );\n    this._get = get;\n    this._set = set;\n  }\n  get value() {\n    return this._get();\n  }\n  set value(newVal) {\n    this._set(newVal);\n  }\n}\nfunction customRef(factory) {\n  return new CustomRefImpl(factory);\n}\nfunction toRefs(object) {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isProxy(object)) {\n    console.warn(`toRefs() expects a reactive object but received a plain one.`);\n  }\n  const ret = isArray(object) ? new Array(object.length) : {};\n  for (const key in object) {\n    ret[key] = propertyToRef(object, key);\n  }\n  return ret;\n}\nclass ObjectRefImpl {\n  constructor(_object, _key, _defaultValue) {\n    this._object = _object;\n    this._key = _key;\n    this._defaultValue = _defaultValue;\n    this.__v_isRef = true;\n  }\n  get value() {\n    const val = this._object[this._key];\n    return val === void 0 ? this._defaultValue : val;\n  }\n  set value(newVal) {\n    this._object[this._key] = newVal;\n  }\n  get dep() {\n    return getDepFromReactive(toRaw(this._object), this._key);\n  }\n}\nclass GetterRefImpl {\n  constructor(_getter) {\n    this._getter = _getter;\n    this.__v_isRef = true;\n    this.__v_isReadonly = true;\n  }\n  get value() {\n    return this._getter();\n  }\n}\nfunction toRef(source, key, defaultValue) {\n  if (isRef(source)) {\n    return source;\n  } else if (isFunction(source)) {\n    return new GetterRefImpl(source);\n  } else if (isObject(source) && arguments.length > 1) {\n    return propertyToRef(source, key, defaultValue);\n  } else {\n    return ref(source);\n  }\n}\nfunction propertyToRef(source, key, defaultValue) {\n  const val = source[key];\n  return isRef(val) ? val : new ObjectRefImpl(\n    source,\n    key,\n    defaultValue\n  );\n}\n\nclass ComputedRefImpl {\n  constructor(getter, _setter, isReadonly, isSSR) {\n    this._setter = _setter;\n    this.dep = void 0;\n    this.__v_isRef = true;\n    this[\"__v_isReadonly\"] = false;\n    this._dirty = true;\n    this.effect = new ReactiveEffect(getter, () => {\n      if (!this._dirty) {\n        this._dirty = true;\n        triggerRefValue(this);\n      }\n    });\n    this.effect.computed = this;\n    this.effect.active = this._cacheable = !isSSR;\n    this[\"__v_isReadonly\"] = isReadonly;\n  }\n  get value() {\n    const self = toRaw(this);\n    trackRefValue(self);\n    if (self._dirty || !self._cacheable) {\n      self._dirty = false;\n      self._value = self.effect.run();\n    }\n    return self._value;\n  }\n  set value(newValue) {\n    this._setter(newValue);\n  }\n}\nfunction computed(getterOrOptions, debugOptions, isSSR = false) {\n  let getter;\n  let setter;\n  const onlyGetter = isFunction(getterOrOptions);\n  if (onlyGetter) {\n    getter = getterOrOptions;\n    setter = !!(process.env.NODE_ENV !== \"production\") ? () => {\n      console.warn(\"Write operation failed: computed value is readonly\");\n    } : NOOP;\n  } else {\n    getter = getterOrOptions.get;\n    setter = getterOrOptions.set;\n  }\n  const cRef = new ComputedRefImpl(getter, setter, onlyGetter || !setter, isSSR);\n  if (!!(process.env.NODE_ENV !== \"production\") && debugOptions && !isSSR) {\n    cRef.effect.onTrack = debugOptions.onTrack;\n    cRef.effect.onTrigger = debugOptions.onTrigger;\n  }\n  return cRef;\n}\n\nconst tick = /* @__PURE__ */ Promise.resolve();\nconst queue = [];\nlet queued = false;\nconst scheduler = (fn) => {\n  queue.push(fn);\n  if (!queued) {\n    queued = true;\n    tick.then(flush);\n  }\n};\nconst flush = () => {\n  for (let i = 0; i < queue.length; i++) {\n    queue[i]();\n  }\n  queue.length = 0;\n  queued = false;\n};\nclass DeferredComputedRefImpl {\n  constructor(getter) {\n    this.dep = void 0;\n    this._dirty = true;\n    this.__v_isRef = true;\n    this[\"__v_isReadonly\"] = true;\n    let compareTarget;\n    let hasCompareTarget = false;\n    let scheduled = false;\n    this.effect = new ReactiveEffect(getter, (computedTrigger) => {\n      if (this.dep) {\n        if (computedTrigger) {\n          compareTarget = this._value;\n          hasCompareTarget = true;\n        } else if (!scheduled) {\n          const valueToCompare = hasCompareTarget ? compareTarget : this._value;\n          scheduled = true;\n          hasCompareTarget = false;\n          scheduler(() => {\n            if (this.effect.active && this._get() !== valueToCompare) {\n              triggerRefValue(this);\n            }\n            scheduled = false;\n          });\n        }\n        for (const e of this.dep) {\n          if (e.computed instanceof DeferredComputedRefImpl) {\n            e.scheduler(\n              true\n              /* computedTrigger */\n            );\n          }\n        }\n      }\n      this._dirty = true;\n    });\n    this.effect.computed = this;\n  }\n  _get() {\n    if (this._dirty) {\n      this._dirty = false;\n      return this._value = this.effect.run();\n    }\n    return this._value;\n  }\n  get value() {\n    trackRefValue(this);\n    return toRaw(this)._get();\n  }\n}\nfunction deferredComputed(getter) {\n  return new DeferredComputedRefImpl(getter);\n}\n\nexport { EffectScope, ITERATE_KEY, ReactiveEffect, computed, customRef, deferredComputed, effect, effectScope, enableTracking, getCurrentScope, isProxy, isReactive, isReadonly, isRef, isShallow, markRaw, onScopeDispose, pauseTracking, proxyRefs, reactive, readonly, ref, resetTracking, shallowReactive, shallowReadonly, shallowRef, stop, toRaw, toRef, toRefs, toValue, track, trigger, triggerRef, unref };\n","function makeMap(str, expectsLowerCase) {\n  const map = /* @__PURE__ */ Object.create(null);\n  const list = str.split(\",\");\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n  return expectsLowerCase ? (val) => !!map[val.toLowerCase()] : (val) => !!map[val];\n}\n\nconst EMPTY_OBJ = !!(process.env.NODE_ENV !== \"production\") ? Object.freeze({}) : {};\nconst EMPTY_ARR = !!(process.env.NODE_ENV !== \"production\") ? Object.freeze([]) : [];\nconst NOOP = () => {\n};\nconst NO = () => false;\nconst onRE = /^on[^a-z]/;\nconst isOn = (key) => onRE.test(key);\nconst isModelListener = (key) => key.startsWith(\"onUpdate:\");\nconst extend = Object.assign;\nconst remove = (arr, el) => {\n  const i = arr.indexOf(el);\n  if (i > -1) {\n    arr.splice(i, 1);\n  }\n};\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\nconst isArray = Array.isArray;\nconst isMap = (val) => toTypeString(val) === \"[object Map]\";\nconst isSet = (val) => toTypeString(val) === \"[object Set]\";\nconst isDate = (val) => toTypeString(val) === \"[object Date]\";\nconst isRegExp = (val) => toTypeString(val) === \"[object RegExp]\";\nconst isFunction = (val) => typeof val === \"function\";\nconst isString = (val) => typeof val === \"string\";\nconst isSymbol = (val) => typeof val === \"symbol\";\nconst isObject = (val) => val !== null && typeof val === \"object\";\nconst isPromise = (val) => {\n  return isObject(val) && isFunction(val.then) && isFunction(val.catch);\n};\nconst objectToString = Object.prototype.toString;\nconst toTypeString = (value) => objectToString.call(value);\nconst toRawType = (value) => {\n  return toTypeString(value).slice(8, -1);\n};\nconst isPlainObject = (val) => toTypeString(val) === \"[object Object]\";\nconst isIntegerKey = (key) => isString(key) && key !== \"NaN\" && key[0] !== \"-\" && \"\" + parseInt(key, 10) === key;\nconst isReservedProp = /* @__PURE__ */ makeMap(\n  // the leading comma is intentional so empty string \"\" is also included\n  \",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted\"\n);\nconst isBuiltInDirective = /* @__PURE__ */ makeMap(\n  \"bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo\"\n);\nconst cacheStringFunction = (fn) => {\n  const cache = /* @__PURE__ */ Object.create(null);\n  return (str) => {\n    const hit = cache[str];\n    return hit || (cache[str] = fn(str));\n  };\n};\nconst camelizeRE = /-(\\w)/g;\nconst camelize = cacheStringFunction((str) => {\n  return str.replace(camelizeRE, (_, c) => c ? c.toUpperCase() : \"\");\n});\nconst hyphenateRE = /\\B([A-Z])/g;\nconst hyphenate = cacheStringFunction(\n  (str) => str.replace(hyphenateRE, \"-$1\").toLowerCase()\n);\nconst capitalize = cacheStringFunction(\n  (str) => str.charAt(0).toUpperCase() + str.slice(1)\n);\nconst toHandlerKey = cacheStringFunction(\n  (str) => str ? `on${capitalize(str)}` : ``\n);\nconst hasChanged = (value, oldValue) => !Object.is(value, oldValue);\nconst invokeArrayFns = (fns, arg) => {\n  for (let i = 0; i < fns.length; i++) {\n    fns[i](arg);\n  }\n};\nconst def = (obj, key, value) => {\n  Object.defineProperty(obj, key, {\n    configurable: true,\n    enumerable: false,\n    value\n  });\n};\nconst looseToNumber = (val) => {\n  const n = parseFloat(val);\n  return isNaN(n) ? val : n;\n};\nconst toNumber = (val) => {\n  const n = isString(val) ? Number(val) : NaN;\n  return isNaN(n) ? val : n;\n};\nlet _globalThis;\nconst getGlobalThis = () => {\n  return _globalThis || (_globalThis = typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {});\n};\nconst identRE = /^[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*$/;\nfunction genPropsAccessExp(name) {\n  return identRE.test(name) ? `__props.${name}` : `__props[${JSON.stringify(name)}]`;\n}\n\nconst PatchFlagNames = {\n  [1]: `TEXT`,\n  [2]: `CLASS`,\n  [4]: `STYLE`,\n  [8]: `PROPS`,\n  [16]: `FULL_PROPS`,\n  [32]: `HYDRATE_EVENTS`,\n  [64]: `STABLE_FRAGMENT`,\n  [128]: `KEYED_FRAGMENT`,\n  [256]: `UNKEYED_FRAGMENT`,\n  [512]: `NEED_PATCH`,\n  [1024]: `DYNAMIC_SLOTS`,\n  [2048]: `DEV_ROOT_FRAGMENT`,\n  [-1]: `HOISTED`,\n  [-2]: `BAIL`\n};\n\nconst slotFlagsText = {\n  [1]: \"STABLE\",\n  [2]: \"DYNAMIC\",\n  [3]: \"FORWARDED\"\n};\n\nconst GLOBALS_WHITE_LISTED = \"Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console\";\nconst isGloballyWhitelisted = /* @__PURE__ */ makeMap(GLOBALS_WHITE_LISTED);\n\nconst range = 2;\nfunction generateCodeFrame(source, start = 0, end = source.length) {\n  let lines = source.split(/(\\r?\\n)/);\n  const newlineSequences = lines.filter((_, idx) => idx % 2 === 1);\n  lines = lines.filter((_, idx) => idx % 2 === 0);\n  let count = 0;\n  const res = [];\n  for (let i = 0; i < lines.length; i++) {\n    count += lines[i].length + (newlineSequences[i] && newlineSequences[i].length || 0);\n    if (count >= start) {\n      for (let j = i - range; j <= i + range || end > count; j++) {\n        if (j < 0 || j >= lines.length)\n          continue;\n        const line = j + 1;\n        res.push(\n          `${line}${\" \".repeat(Math.max(3 - String(line).length, 0))}|  ${lines[j]}`\n        );\n        const lineLength = lines[j].length;\n        const newLineSeqLength = newlineSequences[j] && newlineSequences[j].length || 0;\n        if (j === i) {\n          const pad = start - (count - (lineLength + newLineSeqLength));\n          const length = Math.max(\n            1,\n            end > count ? lineLength - pad : end - start\n          );\n          res.push(`   |  ` + \" \".repeat(pad) + \"^\".repeat(length));\n        } else if (j > i) {\n          if (end > count) {\n            const length = Math.max(Math.min(end - count, lineLength), 1);\n            res.push(`   |  ` + \"^\".repeat(length));\n          }\n          count += lineLength + newLineSeqLength;\n        }\n      }\n      break;\n    }\n  }\n  return res.join(\"\\n\");\n}\n\nfunction normalizeStyle(value) {\n  if (isArray(value)) {\n    const res = {};\n    for (let i = 0; i < value.length; i++) {\n      const item = value[i];\n      const normalized = isString(item) ? parseStringStyle(item) : normalizeStyle(item);\n      if (normalized) {\n        for (const key in normalized) {\n          res[key] = normalized[key];\n        }\n      }\n    }\n    return res;\n  } else if (isString(value)) {\n    return value;\n  } else if (isObject(value)) {\n    return value;\n  }\n}\nconst listDelimiterRE = /;(?![^(]*\\))/g;\nconst propertyDelimiterRE = /:([^]+)/;\nconst styleCommentRE = /\\/\\*[^]*?\\*\\//g;\nfunction parseStringStyle(cssText) {\n  const ret = {};\n  cssText.replace(styleCommentRE, \"\").split(listDelimiterRE).forEach((item) => {\n    if (item) {\n      const tmp = item.split(propertyDelimiterRE);\n      tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());\n    }\n  });\n  return ret;\n}\nfunction stringifyStyle(styles) {\n  let ret = \"\";\n  if (!styles || isString(styles)) {\n    return ret;\n  }\n  for (const key in styles) {\n    const value = styles[key];\n    const normalizedKey = key.startsWith(`--`) ? key : hyphenate(key);\n    if (isString(value) || typeof value === \"number\") {\n      ret += `${normalizedKey}:${value};`;\n    }\n  }\n  return ret;\n}\nfunction normalizeClass(value) {\n  let res = \"\";\n  if (isString(value)) {\n    res = value;\n  } else if (isArray(value)) {\n    for (let i = 0; i < value.length; i++) {\n      const normalized = normalizeClass(value[i]);\n      if (normalized) {\n        res += normalized + \" \";\n      }\n    }\n  } else if (isObject(value)) {\n    for (const name in value) {\n      if (value[name]) {\n        res += name + \" \";\n      }\n    }\n  }\n  return res.trim();\n}\nfunction normalizeProps(props) {\n  if (!props)\n    return null;\n  let { class: klass, style } = props;\n  if (klass && !isString(klass)) {\n    props.class = normalizeClass(klass);\n  }\n  if (style) {\n    props.style = normalizeStyle(style);\n  }\n  return props;\n}\n\nconst HTML_TAGS = \"html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot\";\nconst SVG_TAGS = \"svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view\";\nconst VOID_TAGS = \"area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr\";\nconst isHTMLTag = /* @__PURE__ */ makeMap(HTML_TAGS);\nconst isSVGTag = /* @__PURE__ */ makeMap(SVG_TAGS);\nconst isVoidTag = /* @__PURE__ */ makeMap(VOID_TAGS);\n\nconst specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;\nconst isSpecialBooleanAttr = /* @__PURE__ */ makeMap(specialBooleanAttrs);\nconst isBooleanAttr = /* @__PURE__ */ makeMap(\n  specialBooleanAttrs + `,async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected`\n);\nfunction includeBooleanAttr(value) {\n  return !!value || value === \"\";\n}\nconst unsafeAttrCharRE = /[>/=\"'\\u0009\\u000a\\u000c\\u0020]/;\nconst attrValidationCache = {};\nfunction isSSRSafeAttrName(name) {\n  if (attrValidationCache.hasOwnProperty(name)) {\n    return attrValidationCache[name];\n  }\n  const isUnsafe = unsafeAttrCharRE.test(name);\n  if (isUnsafe) {\n    console.error(`unsafe attribute name: ${name}`);\n  }\n  return attrValidationCache[name] = !isUnsafe;\n}\nconst propsToAttrMap = {\n  acceptCharset: \"accept-charset\",\n  className: \"class\",\n  htmlFor: \"for\",\n  httpEquiv: \"http-equiv\"\n};\nconst isKnownHtmlAttr = /* @__PURE__ */ makeMap(\n  `accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap`\n);\nconst isKnownSvgAttr = /* @__PURE__ */ makeMap(\n  `xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan`\n);\n\nconst escapeRE = /[\"'&<>]/;\nfunction escapeHtml(string) {\n  const str = \"\" + string;\n  const match = escapeRE.exec(str);\n  if (!match) {\n    return str;\n  }\n  let html = \"\";\n  let escaped;\n  let index;\n  let lastIndex = 0;\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34:\n        escaped = \"&quot;\";\n        break;\n      case 38:\n        escaped = \"&amp;\";\n        break;\n      case 39:\n        escaped = \"&#39;\";\n        break;\n      case 60:\n        escaped = \"&lt;\";\n        break;\n      case 62:\n        escaped = \"&gt;\";\n        break;\n      default:\n        continue;\n    }\n    if (lastIndex !== index) {\n      html += str.slice(lastIndex, index);\n    }\n    lastIndex = index + 1;\n    html += escaped;\n  }\n  return lastIndex !== index ? html + str.slice(lastIndex, index) : html;\n}\nconst commentStripRE = /^-?>|<!--|-->|--!>|<!-$/g;\nfunction escapeHtmlComment(src) {\n  return src.replace(commentStripRE, \"\");\n}\n\nfunction looseCompareArrays(a, b) {\n  if (a.length !== b.length)\n    return false;\n  let equal = true;\n  for (let i = 0; equal && i < a.length; i++) {\n    equal = looseEqual(a[i], b[i]);\n  }\n  return equal;\n}\nfunction looseEqual(a, b) {\n  if (a === b)\n    return true;\n  let aValidType = isDate(a);\n  let bValidType = isDate(b);\n  if (aValidType || bValidType) {\n    return aValidType && bValidType ? a.getTime() === b.getTime() : false;\n  }\n  aValidType = isSymbol(a);\n  bValidType = isSymbol(b);\n  if (aValidType || bValidType) {\n    return a === b;\n  }\n  aValidType = isArray(a);\n  bValidType = isArray(b);\n  if (aValidType || bValidType) {\n    return aValidType && bValidType ? looseCompareArrays(a, b) : false;\n  }\n  aValidType = isObject(a);\n  bValidType = isObject(b);\n  if (aValidType || bValidType) {\n    if (!aValidType || !bValidType) {\n      return false;\n    }\n    const aKeysCount = Object.keys(a).length;\n    const bKeysCount = Object.keys(b).length;\n    if (aKeysCount !== bKeysCount) {\n      return false;\n    }\n    for (const key in a) {\n      const aHasKey = a.hasOwnProperty(key);\n      const bHasKey = b.hasOwnProperty(key);\n      if (aHasKey && !bHasKey || !aHasKey && bHasKey || !looseEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n  }\n  return String(a) === String(b);\n}\nfunction looseIndexOf(arr, val) {\n  return arr.findIndex((item) => looseEqual(item, val));\n}\n\nconst toDisplayString = (val) => {\n  return isString(val) ? val : val == null ? \"\" : isArray(val) || isObject(val) && (val.toString === objectToString || !isFunction(val.toString)) ? JSON.stringify(val, replacer, 2) : String(val);\n};\nconst replacer = (_key, val) => {\n  if (val && val.__v_isRef) {\n    return replacer(_key, val.value);\n  } else if (isMap(val)) {\n    return {\n      [`Map(${val.size})`]: [...val.entries()].reduce((entries, [key, val2]) => {\n        entries[`${key} =>`] = val2;\n        return entries;\n      }, {})\n    };\n  } else if (isSet(val)) {\n    return {\n      [`Set(${val.size})`]: [...val.values()]\n    };\n  } else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {\n    return String(val);\n  }\n  return val;\n};\n\nexport { EMPTY_ARR, EMPTY_OBJ, NO, NOOP, PatchFlagNames, camelize, capitalize, def, escapeHtml, escapeHtmlComment, extend, genPropsAccessExp, generateCodeFrame, getGlobalThis, hasChanged, hasOwn, hyphenate, includeBooleanAttr, invokeArrayFns, isArray, isBooleanAttr, isBuiltInDirective, isDate, isFunction, isGloballyWhitelisted, isHTMLTag, isIntegerKey, isKnownHtmlAttr, isKnownSvgAttr, isMap, isModelListener, isObject, isOn, isPlainObject, isPromise, isRegExp, isReservedProp, isSSRSafeAttrName, isSVGTag, isSet, isSpecialBooleanAttr, isString, isSymbol, isVoidTag, looseEqual, looseIndexOf, looseToNumber, makeMap, normalizeClass, normalizeProps, normalizeStyle, objectToString, parseStringStyle, propsToAttrMap, remove, slotFlagsText, stringifyStyle, toDisplayString, toHandlerKey, toNumber, toRawType, toTypeString };\n","/**\n  * vue-class-component v8.0.0-rc.1\n  * (c) 2015-present Evan You\n  * @license MIT\n  */\nimport { ref, proxyRefs } from 'vue';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction defineGetter(obj, key, getter) {\n  Object.defineProperty(obj, key, {\n    get: getter,\n    enumerable: false,\n    configurable: true\n  });\n}\n\nfunction defineProxy(proxy, key, target) {\n  Object.defineProperty(proxy, key, {\n    get: function get() {\n      return target[key].value;\n    },\n    set: function set(value) {\n      target[key].value = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n}\n\nfunction getSuper(Ctor) {\n  var superProto = Object.getPrototypeOf(Ctor.prototype);\n\n  if (!superProto) {\n    return undefined;\n  }\n\n  return superProto.constructor;\n}\n\nfunction getOwn(value, key) {\n  return value.hasOwnProperty(key) ? value[key] : undefined;\n}\n\nvar VueImpl = /*#__PURE__*/function () {\n  function VueImpl(props, ctx) {\n    var _this = this;\n\n    _classCallCheck(this, VueImpl);\n\n    defineGetter(this, '$props', function () {\n      return props;\n    });\n    defineGetter(this, '$attrs', function () {\n      return ctx.attrs;\n    });\n    defineGetter(this, '$slots', function () {\n      return ctx.slots;\n    });\n    defineGetter(this, '$emit', function () {\n      return ctx.emit;\n    });\n    Object.keys(props).forEach(function (key) {\n      Object.defineProperty(_this, key, {\n        enumerable: false,\n        configurable: true,\n        writable: true,\n        value: props[key]\n      });\n    });\n  }\n\n  _createClass(VueImpl, null, [{\n    key: \"registerHooks\",\n    value: function registerHooks(keys) {\n      var _this$__h;\n\n      (_this$__h = this.__h).push.apply(_this$__h, _toConsumableArray(keys));\n    }\n  }, {\n    key: \"with\",\n    value: function _with(Props) {\n      var propsMeta = new Props();\n      var props = {};\n      Object.keys(propsMeta).forEach(function (key) {\n        var meta = propsMeta[key];\n        props[key] = meta !== null && meta !== void 0 ? meta : null;\n      });\n\n      var PropsMixin = /*#__PURE__*/function (_this2) {\n        _inherits(PropsMixin, _this2);\n\n        var _super = _createSuper(PropsMixin);\n\n        function PropsMixin() {\n          _classCallCheck(this, PropsMixin);\n\n          return _super.apply(this, arguments);\n        }\n\n        return PropsMixin;\n      }(this);\n\n      PropsMixin.__b = {\n        props: props\n      };\n      return PropsMixin;\n    }\n  }, {\n    key: \"__vccOpts\",\n    get: function get() {\n      // Early return if `this` is base class as it does not have any options\n      if (this === Vue) {\n        return {};\n      }\n\n      var Ctor = this;\n      var cache = getOwn(Ctor, '__c');\n\n      if (cache) {\n        return cache;\n      } // If the options are provided via decorator use it as a base\n\n\n      var options = _objectSpread2({}, getOwn(Ctor, '__o'));\n\n      Ctor.__c = options; // Handle super class options\n\n      var Super = getSuper(Ctor);\n\n      if (Super) {\n        options[\"extends\"] = Super.__vccOpts;\n      } // Inject base options as a mixin\n\n\n      var base = getOwn(Ctor, '__b');\n\n      if (base) {\n        options.mixins = options.mixins || [];\n        options.mixins.unshift(base);\n      }\n\n      options.methods = _objectSpread2({}, options.methods);\n      options.computed = _objectSpread2({}, options.computed);\n      var proto = Ctor.prototype;\n      Object.getOwnPropertyNames(proto).forEach(function (key) {\n        if (key === 'constructor') {\n          return;\n        } // hooks\n\n\n        if (Ctor.__h.indexOf(key) > -1) {\n          options[key] = proto[key];\n          return;\n        }\n\n        var descriptor = Object.getOwnPropertyDescriptor(proto, key); // methods\n\n        if (typeof descriptor.value === 'function') {\n          options.methods[key] = descriptor.value;\n          return;\n        } // computed properties\n\n\n        if (descriptor.get || descriptor.set) {\n          options.computed[key] = {\n            get: descriptor.get,\n            set: descriptor.set\n          };\n          return;\n        }\n      });\n\n      options.setup = function (props, ctx) {\n        var _promise;\n\n        var data = new Ctor(props, ctx);\n        var dataKeys = Object.keys(data);\n        var plainData = {};\n        var promise = null; // Initialize reactive data and convert constructor `this` to a proxy\n\n        dataKeys.forEach(function (key) {\n          // Skip if the value is undefined not to make it reactive.\n          // If the value has `__s`, it's a value from `setup` helper, proceed it later.\n          if (data[key] === undefined || data[key] && data[key].__s) {\n            return;\n          }\n\n          plainData[key] = ref(data[key]);\n          defineProxy(data, key, plainData);\n        }); // Invoke composition functions\n\n        dataKeys.forEach(function (key) {\n          if (data[key] && data[key].__s) {\n            var setupState = data[key].__s();\n\n            if (setupState instanceof Promise) {\n              if (!promise) {\n                promise = Promise.resolve(plainData);\n              }\n\n              promise = promise.then(function () {\n                return setupState.then(function (value) {\n                  plainData[key] = proxyRefs(value);\n                  return plainData;\n                });\n              });\n            } else {\n              plainData[key] = proxyRefs(setupState);\n            }\n          }\n        });\n        return (_promise = promise) !== null && _promise !== void 0 ? _promise : plainData;\n      };\n\n      var decorators = getOwn(Ctor, '__d');\n\n      if (decorators) {\n        decorators.forEach(function (fn) {\n          return fn(options);\n        });\n      } // from Vue Loader\n\n\n      var injections = ['render', 'ssrRender', '__file', '__cssModules', '__scopeId', '__hmrId'];\n      injections.forEach(function (key) {\n        if (Ctor[key]) {\n          options[key] = Ctor[key];\n        }\n      });\n      return options;\n    }\n  }]);\n\n  return VueImpl;\n}();\n\nVueImpl.__h = ['data', 'beforeCreate', 'created', 'beforeMount', 'mounted', 'beforeUnmount', 'unmounted', 'beforeUpdate', 'updated', 'activated', 'deactivated', 'render', 'errorCaptured', 'serverPrefetch'];\nvar Vue = VueImpl;\n\nfunction Options(options) {\n  return function (Component) {\n    Component.__o = options;\n    return Component;\n  };\n}\nfunction createDecorator(factory) {\n  return function (target, key, index) {\n    var Ctor = typeof target === 'function' ? target : target.constructor;\n\n    if (!Ctor.__d) {\n      Ctor.__d = [];\n    }\n\n    if (typeof index !== 'number') {\n      index = undefined;\n    }\n\n    Ctor.__d.push(function (options) {\n      return factory(options, key, index);\n    });\n  };\n}\nfunction mixins() {\n  for (var _len = arguments.length, Ctors = new Array(_len), _key = 0; _key < _len; _key++) {\n    Ctors[_key] = arguments[_key];\n  }\n\n  var _a;\n\n  return _a = /*#__PURE__*/function (_Vue) {\n    _inherits(MixedVue, _Vue);\n\n    var _super = _createSuper(MixedVue);\n\n    function MixedVue() {\n      var _this;\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      _classCallCheck(this, MixedVue);\n\n      _this = _super.call.apply(_super, [this].concat(args));\n      Ctors.forEach(function (Ctor) {\n        var data = _construct(Ctor, args);\n\n        Object.keys(data).forEach(function (key) {\n          _this[key] = data[key];\n        });\n      });\n      return _this;\n    }\n\n    return MixedVue;\n  }(Vue), _a.__b = {\n    mixins: Ctors.map(function (Ctor) {\n      return Ctor.__vccOpts;\n    })\n  }, _a;\n}\nfunction setup(setupFn) {\n  // Hack to delay the invocation of setup function.\n  // Will be called after dealing with class properties.\n  return {\n    __s: setupFn\n  };\n}\n\n// Actual implementation\nfunction prop(options) {\n  return options;\n}\n\nexport { Options, Vue, createDecorator, mixins, prop, setup };\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { h } from 'vue';\nimport { Options, Vue } from 'vue-class-component';\nimport { AgChart } from 'ag-charts-community';\nimport { toRaw } from '@vue/reactivity';\nlet AgChartsVue = class AgChartsVue extends Vue {\n    constructor() {\n        super(...arguments);\n        this.isCreated = false;\n        this.isDestroyed = false;\n    }\n    // noinspection JSUnusedGlobalSymbols, JSMethodCanBeStatic\n    render() {\n        return h('div', { style: { height: '100%' }, ref: 'agChartRef' });\n    }\n    mounted() {\n        const options = this.applyContainerIfNotSet(this.options);\n        this.chart = AgChart.create(options);\n        this.$watch('options', (newValue, oldValue) => {\n            this.processChanges(newValue, oldValue);\n        }, {\n            deep: true,\n        });\n        this.isCreated = true;\n        this.chart.chart.waitForUpdate()\n            .then(() => this.$emit('onChartReady', this.chart));\n    }\n    destroyed() {\n        if (this.isCreated) {\n            if (this.chart) {\n                this.chart.destroy();\n            }\n            this.isDestroyed = true;\n        }\n    }\n    unmounted() {\n        this.destroyed();\n    }\n    processChanges(currentValue, previousValue) {\n        if (this.isCreated && this.chart) {\n            AgChart.update(this.chart, toRaw(this.applyContainerIfNotSet(toRaw(this.options))));\n        }\n    }\n    applyContainerIfNotSet(propsOptions) {\n        if (propsOptions.container) {\n            return propsOptions;\n        }\n        return Object.assign(Object.assign({}, propsOptions), { container: this.$refs.agChartRef });\n    }\n};\nAgChartsVue = __decorate([\n    Options({\n        props: {\n            options: {},\n        },\n        emits: ['onChartReady'],\n        // watch: {\n        //     options: {\n        //         handler(currentValue, previousValue) {\n        //             this.processChanges( currentValue, previousValue);\n        //         },\n        //         deep: true,\n        //     },\n        // },\n    })\n], AgChartsVue);\nexport { AgChartsVue };\n","\"use strict\";\nfunction __export(m) {\n    for (let p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./lib/AgChartsVue\"));\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","import { pauseTracking, resetTracking, isRef, toRaw, getCurrentScope, isShallow as isShallow$1, isReactive, ReactiveEffect, ref, shallowReadonly, track, reactive, shallowReactive, trigger, isProxy, proxyRefs, markRaw, EffectScope, computed as computed$1, isReadonly } from '@vue/reactivity';\nexport { EffectScope, ReactiveEffect, customRef, effect, effectScope, getCurrentScope, isProxy, isReactive, isReadonly, isRef, isShallow, markRaw, onScopeDispose, proxyRefs, reactive, readonly, ref, shallowReactive, shallowReadonly, shallowRef, stop, toRaw, toRef, toRefs, toValue, triggerRef, unref } from '@vue/reactivity';\nimport { isString, isFunction, isPromise, isArray, NOOP, getGlobalThis, extend, EMPTY_OBJ, toHandlerKey, looseToNumber, hyphenate, camelize, isObject, isOn, hasOwn, isModelListener, toNumber, hasChanged, remove, isSet, isMap, isPlainObject, isBuiltInDirective, invokeArrayFns, isRegExp, capitalize, isGloballyWhitelisted, NO, def, isReservedProp, EMPTY_ARR, toRawType, makeMap, normalizeClass, normalizeStyle } from '@vue/shared';\nexport { camelize, capitalize, normalizeClass, normalizeProps, normalizeStyle, toDisplayString, toHandlerKey } from '@vue/shared';\n\nconst stack = [];\nfunction pushWarningContext(vnode) {\n  stack.push(vnode);\n}\nfunction popWarningContext() {\n  stack.pop();\n}\nfunction warn(msg, ...args) {\n  if (!!!(process.env.NODE_ENV !== \"production\"))\n    return;\n  pauseTracking();\n  const instance = stack.length ? stack[stack.length - 1].component : null;\n  const appWarnHandler = instance && instance.appContext.config.warnHandler;\n  const trace = getComponentTrace();\n  if (appWarnHandler) {\n    callWithErrorHandling(\n      appWarnHandler,\n      instance,\n      11,\n      [\n        msg + args.join(\"\"),\n        instance && instance.proxy,\n        trace.map(\n          ({ vnode }) => `at <${formatComponentName(instance, vnode.type)}>`\n        ).join(\"\\n\"),\n        trace\n      ]\n    );\n  } else {\n    const warnArgs = [`[Vue warn]: ${msg}`, ...args];\n    if (trace.length && // avoid spamming console during tests\n    true) {\n      warnArgs.push(`\n`, ...formatTrace(trace));\n    }\n    console.warn(...warnArgs);\n  }\n  resetTracking();\n}\nfunction getComponentTrace() {\n  let currentVNode = stack[stack.length - 1];\n  if (!currentVNode) {\n    return [];\n  }\n  const normalizedStack = [];\n  while (currentVNode) {\n    const last = normalizedStack[0];\n    if (last && last.vnode === currentVNode) {\n      last.recurseCount++;\n    } else {\n      normalizedStack.push({\n        vnode: currentVNode,\n        recurseCount: 0\n      });\n    }\n    const parentInstance = currentVNode.component && currentVNode.component.parent;\n    currentVNode = parentInstance && parentInstance.vnode;\n  }\n  return normalizedStack;\n}\nfunction formatTrace(trace) {\n  const logs = [];\n  trace.forEach((entry, i) => {\n    logs.push(...i === 0 ? [] : [`\n`], ...formatTraceEntry(entry));\n  });\n  return logs;\n}\nfunction formatTraceEntry({ vnode, recurseCount }) {\n  const postfix = recurseCount > 0 ? `... (${recurseCount} recursive calls)` : ``;\n  const isRoot = vnode.component ? vnode.component.parent == null : false;\n  const open = ` at <${formatComponentName(\n    vnode.component,\n    vnode.type,\n    isRoot\n  )}`;\n  const close = `>` + postfix;\n  return vnode.props ? [open, ...formatProps(vnode.props), close] : [open + close];\n}\nfunction formatProps(props) {\n  const res = [];\n  const keys = Object.keys(props);\n  keys.slice(0, 3).forEach((key) => {\n    res.push(...formatProp(key, props[key]));\n  });\n  if (keys.length > 3) {\n    res.push(` ...`);\n  }\n  return res;\n}\nfunction formatProp(key, value, raw) {\n  if (isString(value)) {\n    value = JSON.stringify(value);\n    return raw ? value : [`${key}=${value}`];\n  } else if (typeof value === \"number\" || typeof value === \"boolean\" || value == null) {\n    return raw ? value : [`${key}=${value}`];\n  } else if (isRef(value)) {\n    value = formatProp(key, toRaw(value.value), true);\n    return raw ? value : [`${key}=Ref<`, value, `>`];\n  } else if (isFunction(value)) {\n    return [`${key}=fn${value.name ? `<${value.name}>` : ``}`];\n  } else {\n    value = toRaw(value);\n    return raw ? value : [`${key}=`, value];\n  }\n}\nfunction assertNumber(val, type) {\n  if (!!!(process.env.NODE_ENV !== \"production\"))\n    return;\n  if (val === void 0) {\n    return;\n  } else if (typeof val !== \"number\") {\n    warn(`${type} is not a valid number - got ${JSON.stringify(val)}.`);\n  } else if (isNaN(val)) {\n    warn(`${type} is NaN - the duration expression might be incorrect.`);\n  }\n}\n\nconst ErrorTypeStrings = {\n  [\"sp\"]: \"serverPrefetch hook\",\n  [\"bc\"]: \"beforeCreate hook\",\n  [\"c\"]: \"created hook\",\n  [\"bm\"]: \"beforeMount hook\",\n  [\"m\"]: \"mounted hook\",\n  [\"bu\"]: \"beforeUpdate hook\",\n  [\"u\"]: \"updated\",\n  [\"bum\"]: \"beforeUnmount hook\",\n  [\"um\"]: \"unmounted hook\",\n  [\"a\"]: \"activated hook\",\n  [\"da\"]: \"deactivated hook\",\n  [\"ec\"]: \"errorCaptured hook\",\n  [\"rtc\"]: \"renderTracked hook\",\n  [\"rtg\"]: \"renderTriggered hook\",\n  [0]: \"setup function\",\n  [1]: \"render function\",\n  [2]: \"watcher getter\",\n  [3]: \"watcher callback\",\n  [4]: \"watcher cleanup function\",\n  [5]: \"native event handler\",\n  [6]: \"component event handler\",\n  [7]: \"vnode hook\",\n  [8]: \"directive hook\",\n  [9]: \"transition hook\",\n  [10]: \"app errorHandler\",\n  [11]: \"app warnHandler\",\n  [12]: \"ref function\",\n  [13]: \"async component loader\",\n  [14]: \"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core\"\n};\nfunction callWithErrorHandling(fn, instance, type, args) {\n  let res;\n  try {\n    res = args ? fn(...args) : fn();\n  } catch (err) {\n    handleError(err, instance, type);\n  }\n  return res;\n}\nfunction callWithAsyncErrorHandling(fn, instance, type, args) {\n  if (isFunction(fn)) {\n    const res = callWithErrorHandling(fn, instance, type, args);\n    if (res && isPromise(res)) {\n      res.catch((err) => {\n        handleError(err, instance, type);\n      });\n    }\n    return res;\n  }\n  const values = [];\n  for (let i = 0; i < fn.length; i++) {\n    values.push(callWithAsyncErrorHandling(fn[i], instance, type, args));\n  }\n  return values;\n}\nfunction handleError(err, instance, type, throwInDev = true) {\n  const contextVNode = instance ? instance.vnode : null;\n  if (instance) {\n    let cur = instance.parent;\n    const exposedInstance = instance.proxy;\n    const errorInfo = !!(process.env.NODE_ENV !== \"production\") ? ErrorTypeStrings[type] : type;\n    while (cur) {\n      const errorCapturedHooks = cur.ec;\n      if (errorCapturedHooks) {\n        for (let i = 0; i < errorCapturedHooks.length; i++) {\n          if (errorCapturedHooks[i](err, exposedInstance, errorInfo) === false) {\n            return;\n          }\n        }\n      }\n      cur = cur.parent;\n    }\n    const appErrorHandler = instance.appContext.config.errorHandler;\n    if (appErrorHandler) {\n      callWithErrorHandling(\n        appErrorHandler,\n        null,\n        10,\n        [err, exposedInstance, errorInfo]\n      );\n      return;\n    }\n  }\n  logError(err, type, contextVNode, throwInDev);\n}\nfunction logError(err, type, contextVNode, throwInDev = true) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const info = ErrorTypeStrings[type];\n    if (contextVNode) {\n      pushWarningContext(contextVNode);\n    }\n    warn(`Unhandled error${info ? ` during execution of ${info}` : ``}`);\n    if (contextVNode) {\n      popWarningContext();\n    }\n    if (throwInDev) {\n      throw err;\n    } else {\n      console.error(err);\n    }\n  } else {\n    console.error(err);\n  }\n}\n\nlet isFlushing = false;\nlet isFlushPending = false;\nconst queue = [];\nlet flushIndex = 0;\nconst pendingPostFlushCbs = [];\nlet activePostFlushCbs = null;\nlet postFlushIndex = 0;\nconst resolvedPromise = /* @__PURE__ */ Promise.resolve();\nlet currentFlushPromise = null;\nconst RECURSION_LIMIT = 100;\nfunction nextTick(fn) {\n  const p = currentFlushPromise || resolvedPromise;\n  return fn ? p.then(this ? fn.bind(this) : fn) : p;\n}\nfunction findInsertionIndex(id) {\n  let start = flushIndex + 1;\n  let end = queue.length;\n  while (start < end) {\n    const middle = start + end >>> 1;\n    const middleJobId = getId(queue[middle]);\n    middleJobId < id ? start = middle + 1 : end = middle;\n  }\n  return start;\n}\nfunction queueJob(job) {\n  if (!queue.length || !queue.includes(\n    job,\n    isFlushing && job.allowRecurse ? flushIndex + 1 : flushIndex\n  )) {\n    if (job.id == null) {\n      queue.push(job);\n    } else {\n      queue.splice(findInsertionIndex(job.id), 0, job);\n    }\n    queueFlush();\n  }\n}\nfunction queueFlush() {\n  if (!isFlushing && !isFlushPending) {\n    isFlushPending = true;\n    currentFlushPromise = resolvedPromise.then(flushJobs);\n  }\n}\nfunction invalidateJob(job) {\n  const i = queue.indexOf(job);\n  if (i > flushIndex) {\n    queue.splice(i, 1);\n  }\n}\nfunction queuePostFlushCb(cb) {\n  if (!isArray(cb)) {\n    if (!activePostFlushCbs || !activePostFlushCbs.includes(\n      cb,\n      cb.allowRecurse ? postFlushIndex + 1 : postFlushIndex\n    )) {\n      pendingPostFlushCbs.push(cb);\n    }\n  } else {\n    pendingPostFlushCbs.push(...cb);\n  }\n  queueFlush();\n}\nfunction flushPreFlushCbs(seen, i = isFlushing ? flushIndex + 1 : 0) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    seen = seen || /* @__PURE__ */ new Map();\n  }\n  for (; i < queue.length; i++) {\n    const cb = queue[i];\n    if (cb && cb.pre) {\n      if (!!(process.env.NODE_ENV !== \"production\") && checkRecursiveUpdates(seen, cb)) {\n        continue;\n      }\n      queue.splice(i, 1);\n      i--;\n      cb();\n    }\n  }\n}\nfunction flushPostFlushCbs(seen) {\n  if (pendingPostFlushCbs.length) {\n    const deduped = [...new Set(pendingPostFlushCbs)];\n    pendingPostFlushCbs.length = 0;\n    if (activePostFlushCbs) {\n      activePostFlushCbs.push(...deduped);\n      return;\n    }\n    activePostFlushCbs = deduped;\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      seen = seen || /* @__PURE__ */ new Map();\n    }\n    activePostFlushCbs.sort((a, b) => getId(a) - getId(b));\n    for (postFlushIndex = 0; postFlushIndex < activePostFlushCbs.length; postFlushIndex++) {\n      if (!!(process.env.NODE_ENV !== \"production\") && checkRecursiveUpdates(seen, activePostFlushCbs[postFlushIndex])) {\n        continue;\n      }\n      activePostFlushCbs[postFlushIndex]();\n    }\n    activePostFlushCbs = null;\n    postFlushIndex = 0;\n  }\n}\nconst getId = (job) => job.id == null ? Infinity : job.id;\nconst comparator = (a, b) => {\n  const diff = getId(a) - getId(b);\n  if (diff === 0) {\n    if (a.pre && !b.pre)\n      return -1;\n    if (b.pre && !a.pre)\n      return 1;\n  }\n  return diff;\n};\nfunction flushJobs(seen) {\n  isFlushPending = false;\n  isFlushing = true;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    seen = seen || /* @__PURE__ */ new Map();\n  }\n  queue.sort(comparator);\n  const check = !!(process.env.NODE_ENV !== \"production\") ? (job) => checkRecursiveUpdates(seen, job) : NOOP;\n  try {\n    for (flushIndex = 0; flushIndex < queue.length; flushIndex++) {\n      const job = queue[flushIndex];\n      if (job && job.active !== false) {\n        if (!!(process.env.NODE_ENV !== \"production\") && check(job)) {\n          continue;\n        }\n        callWithErrorHandling(job, null, 14);\n      }\n    }\n  } finally {\n    flushIndex = 0;\n    queue.length = 0;\n    flushPostFlushCbs(seen);\n    isFlushing = false;\n    currentFlushPromise = null;\n    if (queue.length || pendingPostFlushCbs.length) {\n      flushJobs(seen);\n    }\n  }\n}\nfunction checkRecursiveUpdates(seen, fn) {\n  if (!seen.has(fn)) {\n    seen.set(fn, 1);\n  } else {\n    const count = seen.get(fn);\n    if (count > RECURSION_LIMIT) {\n      const instance = fn.ownerInstance;\n      const componentName = instance && getComponentName(instance.type);\n      warn(\n        `Maximum recursive updates exceeded${componentName ? ` in component <${componentName}>` : ``}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`\n      );\n      return true;\n    } else {\n      seen.set(fn, count + 1);\n    }\n  }\n}\n\nlet isHmrUpdating = false;\nconst hmrDirtyComponents = /* @__PURE__ */ new Set();\nif (!!(process.env.NODE_ENV !== \"production\")) {\n  getGlobalThis().__VUE_HMR_RUNTIME__ = {\n    createRecord: tryWrap(createRecord),\n    rerender: tryWrap(rerender),\n    reload: tryWrap(reload)\n  };\n}\nconst map = /* @__PURE__ */ new Map();\nfunction registerHMR(instance) {\n  const id = instance.type.__hmrId;\n  let record = map.get(id);\n  if (!record) {\n    createRecord(id, instance.type);\n    record = map.get(id);\n  }\n  record.instances.add(instance);\n}\nfunction unregisterHMR(instance) {\n  map.get(instance.type.__hmrId).instances.delete(instance);\n}\nfunction createRecord(id, initialDef) {\n  if (map.has(id)) {\n    return false;\n  }\n  map.set(id, {\n    initialDef: normalizeClassComponent(initialDef),\n    instances: /* @__PURE__ */ new Set()\n  });\n  return true;\n}\nfunction normalizeClassComponent(component) {\n  return isClassComponent(component) ? component.__vccOpts : component;\n}\nfunction rerender(id, newRender) {\n  const record = map.get(id);\n  if (!record) {\n    return;\n  }\n  record.initialDef.render = newRender;\n  [...record.instances].forEach((instance) => {\n    if (newRender) {\n      instance.render = newRender;\n      normalizeClassComponent(instance.type).render = newRender;\n    }\n    instance.renderCache = [];\n    isHmrUpdating = true;\n    instance.update();\n    isHmrUpdating = false;\n  });\n}\nfunction reload(id, newComp) {\n  const record = map.get(id);\n  if (!record)\n    return;\n  newComp = normalizeClassComponent(newComp);\n  updateComponentDef(record.initialDef, newComp);\n  const instances = [...record.instances];\n  for (const instance of instances) {\n    const oldComp = normalizeClassComponent(instance.type);\n    if (!hmrDirtyComponents.has(oldComp)) {\n      if (oldComp !== record.initialDef) {\n        updateComponentDef(oldComp, newComp);\n      }\n      hmrDirtyComponents.add(oldComp);\n    }\n    instance.appContext.propsCache.delete(instance.type);\n    instance.appContext.emitsCache.delete(instance.type);\n    instance.appContext.optionsCache.delete(instance.type);\n    if (instance.ceReload) {\n      hmrDirtyComponents.add(oldComp);\n      instance.ceReload(newComp.styles);\n      hmrDirtyComponents.delete(oldComp);\n    } else if (instance.parent) {\n      queueJob(instance.parent.update);\n    } else if (instance.appContext.reload) {\n      instance.appContext.reload();\n    } else if (typeof window !== \"undefined\") {\n      window.location.reload();\n    } else {\n      console.warn(\n        \"[HMR] Root or manually mounted instance modified. Full reload required.\"\n      );\n    }\n  }\n  queuePostFlushCb(() => {\n    for (const instance of instances) {\n      hmrDirtyComponents.delete(\n        normalizeClassComponent(instance.type)\n      );\n    }\n  });\n}\nfunction updateComponentDef(oldComp, newComp) {\n  extend(oldComp, newComp);\n  for (const key in oldComp) {\n    if (key !== \"__file\" && !(key in newComp)) {\n      delete oldComp[key];\n    }\n  }\n}\nfunction tryWrap(fn) {\n  return (id, arg) => {\n    try {\n      return fn(id, arg);\n    } catch (e) {\n      console.error(e);\n      console.warn(\n        `[HMR] Something went wrong during Vue component hot-reload. Full reload required.`\n      );\n    }\n  };\n}\n\nlet devtools;\nlet buffer = [];\nlet devtoolsNotInstalled = false;\nfunction emit$1(event, ...args) {\n  if (devtools) {\n    devtools.emit(event, ...args);\n  } else if (!devtoolsNotInstalled) {\n    buffer.push({ event, args });\n  }\n}\nfunction setDevtoolsHook(hook, target) {\n  var _a, _b;\n  devtools = hook;\n  if (devtools) {\n    devtools.enabled = true;\n    buffer.forEach(({ event, args }) => devtools.emit(event, ...args));\n    buffer = [];\n  } else if (\n    // handle late devtools injection - only do this if we are in an actual\n    // browser environment to avoid the timer handle stalling test runner exit\n    // (#4815)\n    typeof window !== \"undefined\" && // some envs mock window but not fully\n    window.HTMLElement && // also exclude jsdom\n    !((_b = (_a = window.navigator) == null ? void 0 : _a.userAgent) == null ? void 0 : _b.includes(\"jsdom\"))\n  ) {\n    const replay = target.__VUE_DEVTOOLS_HOOK_REPLAY__ = target.__VUE_DEVTOOLS_HOOK_REPLAY__ || [];\n    replay.push((newHook) => {\n      setDevtoolsHook(newHook, target);\n    });\n    setTimeout(() => {\n      if (!devtools) {\n        target.__VUE_DEVTOOLS_HOOK_REPLAY__ = null;\n        devtoolsNotInstalled = true;\n        buffer = [];\n      }\n    }, 3e3);\n  } else {\n    devtoolsNotInstalled = true;\n    buffer = [];\n  }\n}\nfunction devtoolsInitApp(app, version) {\n  emit$1(\"app:init\" /* APP_INIT */, app, version, {\n    Fragment,\n    Text,\n    Comment,\n    Static\n  });\n}\nfunction devtoolsUnmountApp(app) {\n  emit$1(\"app:unmount\" /* APP_UNMOUNT */, app);\n}\nconst devtoolsComponentAdded = /* @__PURE__ */ createDevtoolsComponentHook(\n  \"component:added\" /* COMPONENT_ADDED */\n);\nconst devtoolsComponentUpdated = /* @__PURE__ */ createDevtoolsComponentHook(\"component:updated\" /* COMPONENT_UPDATED */);\nconst _devtoolsComponentRemoved = /* @__PURE__ */ createDevtoolsComponentHook(\n  \"component:removed\" /* COMPONENT_REMOVED */\n);\nconst devtoolsComponentRemoved = (component) => {\n  if (devtools && typeof devtools.cleanupBuffer === \"function\" && // remove the component if it wasn't buffered\n  !devtools.cleanupBuffer(component)) {\n    _devtoolsComponentRemoved(component);\n  }\n};\nfunction createDevtoolsComponentHook(hook) {\n  return (component) => {\n    emit$1(\n      hook,\n      component.appContext.app,\n      component.uid,\n      component.parent ? component.parent.uid : void 0,\n      component\n    );\n  };\n}\nconst devtoolsPerfStart = /* @__PURE__ */ createDevtoolsPerformanceHook(\n  \"perf:start\" /* PERFORMANCE_START */\n);\nconst devtoolsPerfEnd = /* @__PURE__ */ createDevtoolsPerformanceHook(\n  \"perf:end\" /* PERFORMANCE_END */\n);\nfunction createDevtoolsPerformanceHook(hook) {\n  return (component, type, time) => {\n    emit$1(hook, component.appContext.app, component.uid, component, type, time);\n  };\n}\nfunction devtoolsComponentEmit(component, event, params) {\n  emit$1(\n    \"component:emit\" /* COMPONENT_EMIT */,\n    component.appContext.app,\n    component,\n    event,\n    params\n  );\n}\n\nfunction emit(instance, event, ...rawArgs) {\n  if (instance.isUnmounted)\n    return;\n  const props = instance.vnode.props || EMPTY_OBJ;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const {\n      emitsOptions,\n      propsOptions: [propsOptions]\n    } = instance;\n    if (emitsOptions) {\n      if (!(event in emitsOptions) && true) {\n        if (!propsOptions || !(toHandlerKey(event) in propsOptions)) {\n          warn(\n            `Component emitted event \"${event}\" but it is neither declared in the emits option nor as an \"${toHandlerKey(event)}\" prop.`\n          );\n        }\n      } else {\n        const validator = emitsOptions[event];\n        if (isFunction(validator)) {\n          const isValid = validator(...rawArgs);\n          if (!isValid) {\n            warn(\n              `Invalid event arguments: event validation failed for event \"${event}\".`\n            );\n          }\n        }\n      }\n    }\n  }\n  let args = rawArgs;\n  const isModelListener = event.startsWith(\"update:\");\n  const modelArg = isModelListener && event.slice(7);\n  if (modelArg && modelArg in props) {\n    const modifiersKey = `${modelArg === \"modelValue\" ? \"model\" : modelArg}Modifiers`;\n    const { number, trim } = props[modifiersKey] || EMPTY_OBJ;\n    if (trim) {\n      args = rawArgs.map((a) => isString(a) ? a.trim() : a);\n    }\n    if (number) {\n      args = rawArgs.map(looseToNumber);\n    }\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsComponentEmit(instance, event, args);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const lowerCaseEvent = event.toLowerCase();\n    if (lowerCaseEvent !== event && props[toHandlerKey(lowerCaseEvent)]) {\n      warn(\n        `Event \"${lowerCaseEvent}\" is emitted in component ${formatComponentName(\n          instance,\n          instance.type\n        )} but the handler is registered for \"${event}\". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use \"${hyphenate(event)}\" instead of \"${event}\".`\n      );\n    }\n  }\n  let handlerName;\n  let handler = props[handlerName = toHandlerKey(event)] || // also try camelCase event handler (#2249)\n  props[handlerName = toHandlerKey(camelize(event))];\n  if (!handler && isModelListener) {\n    handler = props[handlerName = toHandlerKey(hyphenate(event))];\n  }\n  if (handler) {\n    callWithAsyncErrorHandling(\n      handler,\n      instance,\n      6,\n      args\n    );\n  }\n  const onceHandler = props[handlerName + `Once`];\n  if (onceHandler) {\n    if (!instance.emitted) {\n      instance.emitted = {};\n    } else if (instance.emitted[handlerName]) {\n      return;\n    }\n    instance.emitted[handlerName] = true;\n    callWithAsyncErrorHandling(\n      onceHandler,\n      instance,\n      6,\n      args\n    );\n  }\n}\nfunction normalizeEmitsOptions(comp, appContext, asMixin = false) {\n  const cache = appContext.emitsCache;\n  const cached = cache.get(comp);\n  if (cached !== void 0) {\n    return cached;\n  }\n  const raw = comp.emits;\n  let normalized = {};\n  let hasExtends = false;\n  if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\n    const extendEmits = (raw2) => {\n      const normalizedFromExtend = normalizeEmitsOptions(raw2, appContext, true);\n      if (normalizedFromExtend) {\n        hasExtends = true;\n        extend(normalized, normalizedFromExtend);\n      }\n    };\n    if (!asMixin && appContext.mixins.length) {\n      appContext.mixins.forEach(extendEmits);\n    }\n    if (comp.extends) {\n      extendEmits(comp.extends);\n    }\n    if (comp.mixins) {\n      comp.mixins.forEach(extendEmits);\n    }\n  }\n  if (!raw && !hasExtends) {\n    if (isObject(comp)) {\n      cache.set(comp, null);\n    }\n    return null;\n  }\n  if (isArray(raw)) {\n    raw.forEach((key) => normalized[key] = null);\n  } else {\n    extend(normalized, raw);\n  }\n  if (isObject(comp)) {\n    cache.set(comp, normalized);\n  }\n  return normalized;\n}\nfunction isEmitListener(options, key) {\n  if (!options || !isOn(key)) {\n    return false;\n  }\n  key = key.slice(2).replace(/Once$/, \"\");\n  return hasOwn(options, key[0].toLowerCase() + key.slice(1)) || hasOwn(options, hyphenate(key)) || hasOwn(options, key);\n}\n\nlet currentRenderingInstance = null;\nlet currentScopeId = null;\nfunction setCurrentRenderingInstance(instance) {\n  const prev = currentRenderingInstance;\n  currentRenderingInstance = instance;\n  currentScopeId = instance && instance.type.__scopeId || null;\n  return prev;\n}\nfunction pushScopeId(id) {\n  currentScopeId = id;\n}\nfunction popScopeId() {\n  currentScopeId = null;\n}\nconst withScopeId = (_id) => withCtx;\nfunction withCtx(fn, ctx = currentRenderingInstance, isNonScopedSlot) {\n  if (!ctx)\n    return fn;\n  if (fn._n) {\n    return fn;\n  }\n  const renderFnWithContext = (...args) => {\n    if (renderFnWithContext._d) {\n      setBlockTracking(-1);\n    }\n    const prevInstance = setCurrentRenderingInstance(ctx);\n    let res;\n    try {\n      res = fn(...args);\n    } finally {\n      setCurrentRenderingInstance(prevInstance);\n      if (renderFnWithContext._d) {\n        setBlockTracking(1);\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      devtoolsComponentUpdated(ctx);\n    }\n    return res;\n  };\n  renderFnWithContext._n = true;\n  renderFnWithContext._c = true;\n  renderFnWithContext._d = true;\n  return renderFnWithContext;\n}\n\nlet accessedAttrs = false;\nfunction markAttrsAccessed() {\n  accessedAttrs = true;\n}\nfunction renderComponentRoot(instance) {\n  const {\n    type: Component,\n    vnode,\n    proxy,\n    withProxy,\n    props,\n    propsOptions: [propsOptions],\n    slots,\n    attrs,\n    emit,\n    render,\n    renderCache,\n    data,\n    setupState,\n    ctx,\n    inheritAttrs\n  } = instance;\n  let result;\n  let fallthroughAttrs;\n  const prev = setCurrentRenderingInstance(instance);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    accessedAttrs = false;\n  }\n  try {\n    if (vnode.shapeFlag & 4) {\n      const proxyToUse = withProxy || proxy;\n      result = normalizeVNode(\n        render.call(\n          proxyToUse,\n          proxyToUse,\n          renderCache,\n          props,\n          setupState,\n          data,\n          ctx\n        )\n      );\n      fallthroughAttrs = attrs;\n    } else {\n      const render2 = Component;\n      if (!!(process.env.NODE_ENV !== \"production\") && attrs === props) {\n        markAttrsAccessed();\n      }\n      result = normalizeVNode(\n        render2.length > 1 ? render2(\n          props,\n          !!(process.env.NODE_ENV !== \"production\") ? {\n            get attrs() {\n              markAttrsAccessed();\n              return attrs;\n            },\n            slots,\n            emit\n          } : { attrs, slots, emit }\n        ) : render2(\n          props,\n          null\n          /* we know it doesn't need it */\n        )\n      );\n      fallthroughAttrs = Component.props ? attrs : getFunctionalFallthrough(attrs);\n    }\n  } catch (err) {\n    blockStack.length = 0;\n    handleError(err, instance, 1);\n    result = createVNode(Comment);\n  }\n  let root = result;\n  let setRoot = void 0;\n  if (!!(process.env.NODE_ENV !== \"production\") && result.patchFlag > 0 && result.patchFlag & 2048) {\n    [root, setRoot] = getChildRoot(result);\n  }\n  if (fallthroughAttrs && inheritAttrs !== false) {\n    const keys = Object.keys(fallthroughAttrs);\n    const { shapeFlag } = root;\n    if (keys.length) {\n      if (shapeFlag & (1 | 6)) {\n        if (propsOptions && keys.some(isModelListener)) {\n          fallthroughAttrs = filterModelListeners(\n            fallthroughAttrs,\n            propsOptions\n          );\n        }\n        root = cloneVNode(root, fallthroughAttrs);\n      } else if (!!(process.env.NODE_ENV !== \"production\") && !accessedAttrs && root.type !== Comment) {\n        const allAttrs = Object.keys(attrs);\n        const eventAttrs = [];\n        const extraAttrs = [];\n        for (let i = 0, l = allAttrs.length; i < l; i++) {\n          const key = allAttrs[i];\n          if (isOn(key)) {\n            if (!isModelListener(key)) {\n              eventAttrs.push(key[2].toLowerCase() + key.slice(3));\n            }\n          } else {\n            extraAttrs.push(key);\n          }\n        }\n        if (extraAttrs.length) {\n          warn(\n            `Extraneous non-props attributes (${extraAttrs.join(\", \")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`\n          );\n        }\n        if (eventAttrs.length) {\n          warn(\n            `Extraneous non-emits event listeners (${eventAttrs.join(\", \")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the \"emits\" option.`\n          );\n        }\n      }\n    }\n  }\n  if (vnode.dirs) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isElementRoot(root)) {\n      warn(\n        `Runtime directive used on component with non-element root node. The directives will not function as intended.`\n      );\n    }\n    root = cloneVNode(root);\n    root.dirs = root.dirs ? root.dirs.concat(vnode.dirs) : vnode.dirs;\n  }\n  if (vnode.transition) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isElementRoot(root)) {\n      warn(\n        `Component inside <Transition> renders non-element root node that cannot be animated.`\n      );\n    }\n    root.transition = vnode.transition;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && setRoot) {\n    setRoot(root);\n  } else {\n    result = root;\n  }\n  setCurrentRenderingInstance(prev);\n  return result;\n}\nconst getChildRoot = (vnode) => {\n  const rawChildren = vnode.children;\n  const dynamicChildren = vnode.dynamicChildren;\n  const childRoot = filterSingleRoot(rawChildren);\n  if (!childRoot) {\n    return [vnode, void 0];\n  }\n  const index = rawChildren.indexOf(childRoot);\n  const dynamicIndex = dynamicChildren ? dynamicChildren.indexOf(childRoot) : -1;\n  const setRoot = (updatedRoot) => {\n    rawChildren[index] = updatedRoot;\n    if (dynamicChildren) {\n      if (dynamicIndex > -1) {\n        dynamicChildren[dynamicIndex] = updatedRoot;\n      } else if (updatedRoot.patchFlag > 0) {\n        vnode.dynamicChildren = [...dynamicChildren, updatedRoot];\n      }\n    }\n  };\n  return [normalizeVNode(childRoot), setRoot];\n};\nfunction filterSingleRoot(children) {\n  let singleRoot;\n  for (let i = 0; i < children.length; i++) {\n    const child = children[i];\n    if (isVNode(child)) {\n      if (child.type !== Comment || child.children === \"v-if\") {\n        if (singleRoot) {\n          return;\n        } else {\n          singleRoot = child;\n        }\n      }\n    } else {\n      return;\n    }\n  }\n  return singleRoot;\n}\nconst getFunctionalFallthrough = (attrs) => {\n  let res;\n  for (const key in attrs) {\n    if (key === \"class\" || key === \"style\" || isOn(key)) {\n      (res || (res = {}))[key] = attrs[key];\n    }\n  }\n  return res;\n};\nconst filterModelListeners = (attrs, props) => {\n  const res = {};\n  for (const key in attrs) {\n    if (!isModelListener(key) || !(key.slice(9) in props)) {\n      res[key] = attrs[key];\n    }\n  }\n  return res;\n};\nconst isElementRoot = (vnode) => {\n  return vnode.shapeFlag & (6 | 1) || vnode.type === Comment;\n};\nfunction shouldUpdateComponent(prevVNode, nextVNode, optimized) {\n  const { props: prevProps, children: prevChildren, component } = prevVNode;\n  const { props: nextProps, children: nextChildren, patchFlag } = nextVNode;\n  const emits = component.emitsOptions;\n  if (!!(process.env.NODE_ENV !== \"production\") && (prevChildren || nextChildren) && isHmrUpdating) {\n    return true;\n  }\n  if (nextVNode.dirs || nextVNode.transition) {\n    return true;\n  }\n  if (optimized && patchFlag >= 0) {\n    if (patchFlag & 1024) {\n      return true;\n    }\n    if (patchFlag & 16) {\n      if (!prevProps) {\n        return !!nextProps;\n      }\n      return hasPropsChanged(prevProps, nextProps, emits);\n    } else if (patchFlag & 8) {\n      const dynamicProps = nextVNode.dynamicProps;\n      for (let i = 0; i < dynamicProps.length; i++) {\n        const key = dynamicProps[i];\n        if (nextProps[key] !== prevProps[key] && !isEmitListener(emits, key)) {\n          return true;\n        }\n      }\n    }\n  } else {\n    if (prevChildren || nextChildren) {\n      if (!nextChildren || !nextChildren.$stable) {\n        return true;\n      }\n    }\n    if (prevProps === nextProps) {\n      return false;\n    }\n    if (!prevProps) {\n      return !!nextProps;\n    }\n    if (!nextProps) {\n      return true;\n    }\n    return hasPropsChanged(prevProps, nextProps, emits);\n  }\n  return false;\n}\nfunction hasPropsChanged(prevProps, nextProps, emitsOptions) {\n  const nextKeys = Object.keys(nextProps);\n  if (nextKeys.length !== Object.keys(prevProps).length) {\n    return true;\n  }\n  for (let i = 0; i < nextKeys.length; i++) {\n    const key = nextKeys[i];\n    if (nextProps[key] !== prevProps[key] && !isEmitListener(emitsOptions, key)) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction updateHOCHostEl({ vnode, parent }, el) {\n  while (parent && parent.subTree === vnode) {\n    (vnode = parent.vnode).el = el;\n    parent = parent.parent;\n  }\n}\n\nconst isSuspense = (type) => type.__isSuspense;\nconst SuspenseImpl = {\n  name: \"Suspense\",\n  // In order to make Suspense tree-shakable, we need to avoid importing it\n  // directly in the renderer. The renderer checks for the __isSuspense flag\n  // on a vnode's type and calls the `process` method, passing in renderer\n  // internals.\n  __isSuspense: true,\n  process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, rendererInternals) {\n    if (n1 == null) {\n      mountSuspense(\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized,\n        rendererInternals\n      );\n    } else {\n      patchSuspense(\n        n1,\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        isSVG,\n        slotScopeIds,\n        optimized,\n        rendererInternals\n      );\n    }\n  },\n  hydrate: hydrateSuspense,\n  create: createSuspenseBoundary,\n  normalize: normalizeSuspenseChildren\n};\nconst Suspense = SuspenseImpl ;\nfunction triggerEvent(vnode, name) {\n  const eventListener = vnode.props && vnode.props[name];\n  if (isFunction(eventListener)) {\n    eventListener();\n  }\n}\nfunction mountSuspense(vnode, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, rendererInternals) {\n  const {\n    p: patch,\n    o: { createElement }\n  } = rendererInternals;\n  const hiddenContainer = createElement(\"div\");\n  const suspense = vnode.suspense = createSuspenseBoundary(\n    vnode,\n    parentSuspense,\n    parentComponent,\n    container,\n    hiddenContainer,\n    anchor,\n    isSVG,\n    slotScopeIds,\n    optimized,\n    rendererInternals\n  );\n  patch(\n    null,\n    suspense.pendingBranch = vnode.ssContent,\n    hiddenContainer,\n    null,\n    parentComponent,\n    suspense,\n    isSVG,\n    slotScopeIds\n  );\n  if (suspense.deps > 0) {\n    triggerEvent(vnode, \"onPending\");\n    triggerEvent(vnode, \"onFallback\");\n    patch(\n      null,\n      vnode.ssFallback,\n      container,\n      anchor,\n      parentComponent,\n      null,\n      // fallback tree will not have suspense context\n      isSVG,\n      slotScopeIds\n    );\n    setActiveBranch(suspense, vnode.ssFallback);\n  } else {\n    suspense.resolve(false, true);\n  }\n}\nfunction patchSuspense(n1, n2, container, anchor, parentComponent, isSVG, slotScopeIds, optimized, { p: patch, um: unmount, o: { createElement } }) {\n  const suspense = n2.suspense = n1.suspense;\n  suspense.vnode = n2;\n  n2.el = n1.el;\n  const newBranch = n2.ssContent;\n  const newFallback = n2.ssFallback;\n  const { activeBranch, pendingBranch, isInFallback, isHydrating } = suspense;\n  if (pendingBranch) {\n    suspense.pendingBranch = newBranch;\n    if (isSameVNodeType(newBranch, pendingBranch)) {\n      patch(\n        pendingBranch,\n        newBranch,\n        suspense.hiddenContainer,\n        null,\n        parentComponent,\n        suspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n      if (suspense.deps <= 0) {\n        suspense.resolve();\n      } else if (isInFallback) {\n        patch(\n          activeBranch,\n          newFallback,\n          container,\n          anchor,\n          parentComponent,\n          null,\n          // fallback tree will not have suspense context\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        setActiveBranch(suspense, newFallback);\n      }\n    } else {\n      suspense.pendingId++;\n      if (isHydrating) {\n        suspense.isHydrating = false;\n        suspense.activeBranch = pendingBranch;\n      } else {\n        unmount(pendingBranch, parentComponent, suspense);\n      }\n      suspense.deps = 0;\n      suspense.effects.length = 0;\n      suspense.hiddenContainer = createElement(\"div\");\n      if (isInFallback) {\n        patch(\n          null,\n          newBranch,\n          suspense.hiddenContainer,\n          null,\n          parentComponent,\n          suspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        if (suspense.deps <= 0) {\n          suspense.resolve();\n        } else {\n          patch(\n            activeBranch,\n            newFallback,\n            container,\n            anchor,\n            parentComponent,\n            null,\n            // fallback tree will not have suspense context\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n          setActiveBranch(suspense, newFallback);\n        }\n      } else if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {\n        patch(\n          activeBranch,\n          newBranch,\n          container,\n          anchor,\n          parentComponent,\n          suspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        suspense.resolve(true);\n      } else {\n        patch(\n          null,\n          newBranch,\n          suspense.hiddenContainer,\n          null,\n          parentComponent,\n          suspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        if (suspense.deps <= 0) {\n          suspense.resolve();\n        }\n      }\n    }\n  } else {\n    if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {\n      patch(\n        activeBranch,\n        newBranch,\n        container,\n        anchor,\n        parentComponent,\n        suspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n      setActiveBranch(suspense, newBranch);\n    } else {\n      triggerEvent(n2, \"onPending\");\n      suspense.pendingBranch = newBranch;\n      suspense.pendingId++;\n      patch(\n        null,\n        newBranch,\n        suspense.hiddenContainer,\n        null,\n        parentComponent,\n        suspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n      if (suspense.deps <= 0) {\n        suspense.resolve();\n      } else {\n        const { timeout, pendingId } = suspense;\n        if (timeout > 0) {\n          setTimeout(() => {\n            if (suspense.pendingId === pendingId) {\n              suspense.fallback(newFallback);\n            }\n          }, timeout);\n        } else if (timeout === 0) {\n          suspense.fallback(newFallback);\n        }\n      }\n    }\n  }\n}\nlet hasWarned = false;\nfunction createSuspenseBoundary(vnode, parentSuspense, parentComponent, container, hiddenContainer, anchor, isSVG, slotScopeIds, optimized, rendererInternals, isHydrating = false) {\n  if (!!(process.env.NODE_ENV !== \"production\") && true && !hasWarned) {\n    hasWarned = true;\n    console[console.info ? \"info\" : \"log\"](\n      `<Suspense> is an experimental feature and its API will likely change.`\n    );\n  }\n  const {\n    p: patch,\n    m: move,\n    um: unmount,\n    n: next,\n    o: { parentNode, remove }\n  } = rendererInternals;\n  let parentSuspenseId;\n  const isSuspensible = isVNodeSuspensible(vnode);\n  if (isSuspensible) {\n    if (parentSuspense == null ? void 0 : parentSuspense.pendingBranch) {\n      parentSuspenseId = parentSuspense.pendingId;\n      parentSuspense.deps++;\n    }\n  }\n  const timeout = vnode.props ? toNumber(vnode.props.timeout) : void 0;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    assertNumber(timeout, `Suspense timeout`);\n  }\n  const suspense = {\n    vnode,\n    parent: parentSuspense,\n    parentComponent,\n    isSVG,\n    container,\n    hiddenContainer,\n    anchor,\n    deps: 0,\n    pendingId: 0,\n    timeout: typeof timeout === \"number\" ? timeout : -1,\n    activeBranch: null,\n    pendingBranch: null,\n    isInFallback: true,\n    isHydrating,\n    isUnmounted: false,\n    effects: [],\n    resolve(resume = false, sync = false) {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        if (!resume && !suspense.pendingBranch) {\n          throw new Error(\n            `suspense.resolve() is called without a pending branch.`\n          );\n        }\n        if (suspense.isUnmounted) {\n          throw new Error(\n            `suspense.resolve() is called on an already unmounted suspense boundary.`\n          );\n        }\n      }\n      const {\n        vnode: vnode2,\n        activeBranch,\n        pendingBranch,\n        pendingId,\n        effects,\n        parentComponent: parentComponent2,\n        container: container2\n      } = suspense;\n      if (suspense.isHydrating) {\n        suspense.isHydrating = false;\n      } else if (!resume) {\n        const delayEnter = activeBranch && pendingBranch.transition && pendingBranch.transition.mode === \"out-in\";\n        if (delayEnter) {\n          activeBranch.transition.afterLeave = () => {\n            if (pendingId === suspense.pendingId) {\n              move(pendingBranch, container2, anchor2, 0);\n            }\n          };\n        }\n        let { anchor: anchor2 } = suspense;\n        if (activeBranch) {\n          anchor2 = next(activeBranch);\n          unmount(activeBranch, parentComponent2, suspense, true);\n        }\n        if (!delayEnter) {\n          move(pendingBranch, container2, anchor2, 0);\n        }\n      }\n      setActiveBranch(suspense, pendingBranch);\n      suspense.pendingBranch = null;\n      suspense.isInFallback = false;\n      let parent = suspense.parent;\n      let hasUnresolvedAncestor = false;\n      while (parent) {\n        if (parent.pendingBranch) {\n          parent.effects.push(...effects);\n          hasUnresolvedAncestor = true;\n          break;\n        }\n        parent = parent.parent;\n      }\n      if (!hasUnresolvedAncestor) {\n        queuePostFlushCb(effects);\n      }\n      suspense.effects = [];\n      if (isSuspensible) {\n        if (parentSuspense && parentSuspense.pendingBranch && parentSuspenseId === parentSuspense.pendingId) {\n          parentSuspense.deps--;\n          if (parentSuspense.deps === 0 && !sync) {\n            parentSuspense.resolve();\n          }\n        }\n      }\n      triggerEvent(vnode2, \"onResolve\");\n    },\n    fallback(fallbackVNode) {\n      if (!suspense.pendingBranch) {\n        return;\n      }\n      const { vnode: vnode2, activeBranch, parentComponent: parentComponent2, container: container2, isSVG: isSVG2 } = suspense;\n      triggerEvent(vnode2, \"onFallback\");\n      const anchor2 = next(activeBranch);\n      const mountFallback = () => {\n        if (!suspense.isInFallback) {\n          return;\n        }\n        patch(\n          null,\n          fallbackVNode,\n          container2,\n          anchor2,\n          parentComponent2,\n          null,\n          // fallback tree will not have suspense context\n          isSVG2,\n          slotScopeIds,\n          optimized\n        );\n        setActiveBranch(suspense, fallbackVNode);\n      };\n      const delayEnter = fallbackVNode.transition && fallbackVNode.transition.mode === \"out-in\";\n      if (delayEnter) {\n        activeBranch.transition.afterLeave = mountFallback;\n      }\n      suspense.isInFallback = true;\n      unmount(\n        activeBranch,\n        parentComponent2,\n        null,\n        // no suspense so unmount hooks fire now\n        true\n        // shouldRemove\n      );\n      if (!delayEnter) {\n        mountFallback();\n      }\n    },\n    move(container2, anchor2, type) {\n      suspense.activeBranch && move(suspense.activeBranch, container2, anchor2, type);\n      suspense.container = container2;\n    },\n    next() {\n      return suspense.activeBranch && next(suspense.activeBranch);\n    },\n    registerDep(instance, setupRenderEffect) {\n      const isInPendingSuspense = !!suspense.pendingBranch;\n      if (isInPendingSuspense) {\n        suspense.deps++;\n      }\n      const hydratedEl = instance.vnode.el;\n      instance.asyncDep.catch((err) => {\n        handleError(err, instance, 0);\n      }).then((asyncSetupResult) => {\n        if (instance.isUnmounted || suspense.isUnmounted || suspense.pendingId !== instance.suspenseId) {\n          return;\n        }\n        instance.asyncResolved = true;\n        const { vnode: vnode2 } = instance;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(vnode2);\n        }\n        handleSetupResult(instance, asyncSetupResult, false);\n        if (hydratedEl) {\n          vnode2.el = hydratedEl;\n        }\n        const placeholder = !hydratedEl && instance.subTree.el;\n        setupRenderEffect(\n          instance,\n          vnode2,\n          // component may have been moved before resolve.\n          // if this is not a hydration, instance.subTree will be the comment\n          // placeholder.\n          parentNode(hydratedEl || instance.subTree.el),\n          // anchor will not be used if this is hydration, so only need to\n          // consider the comment placeholder case.\n          hydratedEl ? null : next(instance.subTree),\n          suspense,\n          isSVG,\n          optimized\n        );\n        if (placeholder) {\n          remove(placeholder);\n        }\n        updateHOCHostEl(instance, vnode2.el);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n        if (isInPendingSuspense && --suspense.deps === 0) {\n          suspense.resolve();\n        }\n      });\n    },\n    unmount(parentSuspense2, doRemove) {\n      suspense.isUnmounted = true;\n      if (suspense.activeBranch) {\n        unmount(\n          suspense.activeBranch,\n          parentComponent,\n          parentSuspense2,\n          doRemove\n        );\n      }\n      if (suspense.pendingBranch) {\n        unmount(\n          suspense.pendingBranch,\n          parentComponent,\n          parentSuspense2,\n          doRemove\n        );\n      }\n    }\n  };\n  return suspense;\n}\nfunction hydrateSuspense(node, vnode, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, rendererInternals, hydrateNode) {\n  const suspense = vnode.suspense = createSuspenseBoundary(\n    vnode,\n    parentSuspense,\n    parentComponent,\n    node.parentNode,\n    document.createElement(\"div\"),\n    null,\n    isSVG,\n    slotScopeIds,\n    optimized,\n    rendererInternals,\n    true\n    /* hydrating */\n  );\n  const result = hydrateNode(\n    node,\n    suspense.pendingBranch = vnode.ssContent,\n    parentComponent,\n    suspense,\n    slotScopeIds,\n    optimized\n  );\n  if (suspense.deps === 0) {\n    suspense.resolve(false, true);\n  }\n  return result;\n}\nfunction normalizeSuspenseChildren(vnode) {\n  const { shapeFlag, children } = vnode;\n  const isSlotChildren = shapeFlag & 32;\n  vnode.ssContent = normalizeSuspenseSlot(\n    isSlotChildren ? children.default : children\n  );\n  vnode.ssFallback = isSlotChildren ? normalizeSuspenseSlot(children.fallback) : createVNode(Comment);\n}\nfunction normalizeSuspenseSlot(s) {\n  let block;\n  if (isFunction(s)) {\n    const trackBlock = isBlockTreeEnabled && s._c;\n    if (trackBlock) {\n      s._d = false;\n      openBlock();\n    }\n    s = s();\n    if (trackBlock) {\n      s._d = true;\n      block = currentBlock;\n      closeBlock();\n    }\n  }\n  if (isArray(s)) {\n    const singleChild = filterSingleRoot(s);\n    if (!!(process.env.NODE_ENV !== \"production\") && !singleChild) {\n      warn(`<Suspense> slots expect a single root node.`);\n    }\n    s = singleChild;\n  }\n  s = normalizeVNode(s);\n  if (block && !s.dynamicChildren) {\n    s.dynamicChildren = block.filter((c) => c !== s);\n  }\n  return s;\n}\nfunction queueEffectWithSuspense(fn, suspense) {\n  if (suspense && suspense.pendingBranch) {\n    if (isArray(fn)) {\n      suspense.effects.push(...fn);\n    } else {\n      suspense.effects.push(fn);\n    }\n  } else {\n    queuePostFlushCb(fn);\n  }\n}\nfunction setActiveBranch(suspense, branch) {\n  suspense.activeBranch = branch;\n  const { vnode, parentComponent } = suspense;\n  const el = vnode.el = branch.el;\n  if (parentComponent && parentComponent.subTree === vnode) {\n    parentComponent.vnode.el = el;\n    updateHOCHostEl(parentComponent, el);\n  }\n}\nfunction isVNodeSuspensible(vnode) {\n  var _a;\n  return ((_a = vnode.props) == null ? void 0 : _a.suspensible) != null && vnode.props.suspensible !== false;\n}\n\nfunction watchEffect(effect, options) {\n  return doWatch(effect, null, options);\n}\nfunction watchPostEffect(effect, options) {\n  return doWatch(\n    effect,\n    null,\n    !!(process.env.NODE_ENV !== \"production\") ? extend({}, options, { flush: \"post\" }) : { flush: \"post\" }\n  );\n}\nfunction watchSyncEffect(effect, options) {\n  return doWatch(\n    effect,\n    null,\n    !!(process.env.NODE_ENV !== \"production\") ? extend({}, options, { flush: \"sync\" }) : { flush: \"sync\" }\n  );\n}\nconst INITIAL_WATCHER_VALUE = {};\nfunction watch(source, cb, options) {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isFunction(cb)) {\n    warn(\n      `\\`watch(fn, options?)\\` signature has been moved to a separate API. Use \\`watchEffect(fn, options?)\\` instead. \\`watch\\` now only supports \\`watch(source, cb, options?) signature.`\n    );\n  }\n  return doWatch(source, cb, options);\n}\nfunction doWatch(source, cb, { immediate, deep, flush, onTrack, onTrigger } = EMPTY_OBJ) {\n  var _a;\n  if (!!(process.env.NODE_ENV !== \"production\") && !cb) {\n    if (immediate !== void 0) {\n      warn(\n        `watch() \"immediate\" option is only respected when using the watch(source, callback, options?) signature.`\n      );\n    }\n    if (deep !== void 0) {\n      warn(\n        `watch() \"deep\" option is only respected when using the watch(source, callback, options?) signature.`\n      );\n    }\n  }\n  const warnInvalidSource = (s) => {\n    warn(\n      `Invalid watch source: `,\n      s,\n      `A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.`\n    );\n  };\n  const instance = getCurrentScope() === ((_a = currentInstance) == null ? void 0 : _a.scope) ? currentInstance : null;\n  let getter;\n  let forceTrigger = false;\n  let isMultiSource = false;\n  if (isRef(source)) {\n    getter = () => source.value;\n    forceTrigger = isShallow$1(source);\n  } else if (isReactive(source)) {\n    getter = () => source;\n    deep = true;\n  } else if (isArray(source)) {\n    isMultiSource = true;\n    forceTrigger = source.some((s) => isReactive(s) || isShallow$1(s));\n    getter = () => source.map((s) => {\n      if (isRef(s)) {\n        return s.value;\n      } else if (isReactive(s)) {\n        return traverse(s);\n      } else if (isFunction(s)) {\n        return callWithErrorHandling(s, instance, 2);\n      } else {\n        !!(process.env.NODE_ENV !== \"production\") && warnInvalidSource(s);\n      }\n    });\n  } else if (isFunction(source)) {\n    if (cb) {\n      getter = () => callWithErrorHandling(source, instance, 2);\n    } else {\n      getter = () => {\n        if (instance && instance.isUnmounted) {\n          return;\n        }\n        if (cleanup) {\n          cleanup();\n        }\n        return callWithAsyncErrorHandling(\n          source,\n          instance,\n          3,\n          [onCleanup]\n        );\n      };\n    }\n  } else {\n    getter = NOOP;\n    !!(process.env.NODE_ENV !== \"production\") && warnInvalidSource(source);\n  }\n  if (cb && deep) {\n    const baseGetter = getter;\n    getter = () => traverse(baseGetter());\n  }\n  let cleanup;\n  let onCleanup = (fn) => {\n    cleanup = effect.onStop = () => {\n      callWithErrorHandling(fn, instance, 4);\n    };\n  };\n  let ssrCleanup;\n  if (isInSSRComponentSetup) {\n    onCleanup = NOOP;\n    if (!cb) {\n      getter();\n    } else if (immediate) {\n      callWithAsyncErrorHandling(cb, instance, 3, [\n        getter(),\n        isMultiSource ? [] : void 0,\n        onCleanup\n      ]);\n    }\n    if (flush === \"sync\") {\n      const ctx = useSSRContext();\n      ssrCleanup = ctx.__watcherHandles || (ctx.__watcherHandles = []);\n    } else {\n      return NOOP;\n    }\n  }\n  let oldValue = isMultiSource ? new Array(source.length).fill(INITIAL_WATCHER_VALUE) : INITIAL_WATCHER_VALUE;\n  const job = () => {\n    if (!effect.active) {\n      return;\n    }\n    if (cb) {\n      const newValue = effect.run();\n      if (deep || forceTrigger || (isMultiSource ? newValue.some(\n        (v, i) => hasChanged(v, oldValue[i])\n      ) : hasChanged(newValue, oldValue)) || false) {\n        if (cleanup) {\n          cleanup();\n        }\n        callWithAsyncErrorHandling(cb, instance, 3, [\n          newValue,\n          // pass undefined as the old value when it's changed for the first time\n          oldValue === INITIAL_WATCHER_VALUE ? void 0 : isMultiSource && oldValue[0] === INITIAL_WATCHER_VALUE ? [] : oldValue,\n          onCleanup\n        ]);\n        oldValue = newValue;\n      }\n    } else {\n      effect.run();\n    }\n  };\n  job.allowRecurse = !!cb;\n  let scheduler;\n  if (flush === \"sync\") {\n    scheduler = job;\n  } else if (flush === \"post\") {\n    scheduler = () => queuePostRenderEffect(job, instance && instance.suspense);\n  } else {\n    job.pre = true;\n    if (instance)\n      job.id = instance.uid;\n    scheduler = () => queueJob(job);\n  }\n  const effect = new ReactiveEffect(getter, scheduler);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    effect.onTrack = onTrack;\n    effect.onTrigger = onTrigger;\n  }\n  if (cb) {\n    if (immediate) {\n      job();\n    } else {\n      oldValue = effect.run();\n    }\n  } else if (flush === \"post\") {\n    queuePostRenderEffect(\n      effect.run.bind(effect),\n      instance && instance.suspense\n    );\n  } else {\n    effect.run();\n  }\n  const unwatch = () => {\n    effect.stop();\n    if (instance && instance.scope) {\n      remove(instance.scope.effects, effect);\n    }\n  };\n  if (ssrCleanup)\n    ssrCleanup.push(unwatch);\n  return unwatch;\n}\nfunction instanceWatch(source, value, options) {\n  const publicThis = this.proxy;\n  const getter = isString(source) ? source.includes(\".\") ? createPathGetter(publicThis, source) : () => publicThis[source] : source.bind(publicThis, publicThis);\n  let cb;\n  if (isFunction(value)) {\n    cb = value;\n  } else {\n    cb = value.handler;\n    options = value;\n  }\n  const cur = currentInstance;\n  setCurrentInstance(this);\n  const res = doWatch(getter, cb.bind(publicThis), options);\n  if (cur) {\n    setCurrentInstance(cur);\n  } else {\n    unsetCurrentInstance();\n  }\n  return res;\n}\nfunction createPathGetter(ctx, path) {\n  const segments = path.split(\".\");\n  return () => {\n    let cur = ctx;\n    for (let i = 0; i < segments.length && cur; i++) {\n      cur = cur[segments[i]];\n    }\n    return cur;\n  };\n}\nfunction traverse(value, seen) {\n  if (!isObject(value) || value[\"__v_skip\"]) {\n    return value;\n  }\n  seen = seen || /* @__PURE__ */ new Set();\n  if (seen.has(value)) {\n    return value;\n  }\n  seen.add(value);\n  if (isRef(value)) {\n    traverse(value.value, seen);\n  } else if (isArray(value)) {\n    for (let i = 0; i < value.length; i++) {\n      traverse(value[i], seen);\n    }\n  } else if (isSet(value) || isMap(value)) {\n    value.forEach((v) => {\n      traverse(v, seen);\n    });\n  } else if (isPlainObject(value)) {\n    for (const key in value) {\n      traverse(value[key], seen);\n    }\n  }\n  return value;\n}\n\nfunction validateDirectiveName(name) {\n  if (isBuiltInDirective(name)) {\n    warn(\"Do not use built-in directive ids as custom directive id: \" + name);\n  }\n}\nfunction withDirectives(vnode, directives) {\n  const internalInstance = currentRenderingInstance;\n  if (internalInstance === null) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(`withDirectives can only be used inside render functions.`);\n    return vnode;\n  }\n  const instance = getExposeProxy(internalInstance) || internalInstance.proxy;\n  const bindings = vnode.dirs || (vnode.dirs = []);\n  for (let i = 0; i < directives.length; i++) {\n    let [dir, value, arg, modifiers = EMPTY_OBJ] = directives[i];\n    if (dir) {\n      if (isFunction(dir)) {\n        dir = {\n          mounted: dir,\n          updated: dir\n        };\n      }\n      if (dir.deep) {\n        traverse(value);\n      }\n      bindings.push({\n        dir,\n        instance,\n        value,\n        oldValue: void 0,\n        arg,\n        modifiers\n      });\n    }\n  }\n  return vnode;\n}\nfunction invokeDirectiveHook(vnode, prevVNode, instance, name) {\n  const bindings = vnode.dirs;\n  const oldBindings = prevVNode && prevVNode.dirs;\n  for (let i = 0; i < bindings.length; i++) {\n    const binding = bindings[i];\n    if (oldBindings) {\n      binding.oldValue = oldBindings[i].value;\n    }\n    let hook = binding.dir[name];\n    if (hook) {\n      pauseTracking();\n      callWithAsyncErrorHandling(hook, instance, 8, [\n        vnode.el,\n        binding,\n        vnode,\n        prevVNode\n      ]);\n      resetTracking();\n    }\n  }\n}\n\nfunction useTransitionState() {\n  const state = {\n    isMounted: false,\n    isLeaving: false,\n    isUnmounting: false,\n    leavingVNodes: /* @__PURE__ */ new Map()\n  };\n  onMounted(() => {\n    state.isMounted = true;\n  });\n  onBeforeUnmount(() => {\n    state.isUnmounting = true;\n  });\n  return state;\n}\nconst TransitionHookValidator = [Function, Array];\nconst BaseTransitionPropsValidators = {\n  mode: String,\n  appear: Boolean,\n  persisted: Boolean,\n  // enter\n  onBeforeEnter: TransitionHookValidator,\n  onEnter: TransitionHookValidator,\n  onAfterEnter: TransitionHookValidator,\n  onEnterCancelled: TransitionHookValidator,\n  // leave\n  onBeforeLeave: TransitionHookValidator,\n  onLeave: TransitionHookValidator,\n  onAfterLeave: TransitionHookValidator,\n  onLeaveCancelled: TransitionHookValidator,\n  // appear\n  onBeforeAppear: TransitionHookValidator,\n  onAppear: TransitionHookValidator,\n  onAfterAppear: TransitionHookValidator,\n  onAppearCancelled: TransitionHookValidator\n};\nconst BaseTransitionImpl = {\n  name: `BaseTransition`,\n  props: BaseTransitionPropsValidators,\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const state = useTransitionState();\n    let prevTransitionKey;\n    return () => {\n      const children = slots.default && getTransitionRawChildren(slots.default(), true);\n      if (!children || !children.length) {\n        return;\n      }\n      let child = children[0];\n      if (children.length > 1) {\n        let hasFound = false;\n        for (const c of children) {\n          if (c.type !== Comment) {\n            if (!!(process.env.NODE_ENV !== \"production\") && hasFound) {\n              warn(\n                \"<transition> can only be used on a single element or component. Use <transition-group> for lists.\"\n              );\n              break;\n            }\n            child = c;\n            hasFound = true;\n            if (!!!(process.env.NODE_ENV !== \"production\"))\n              break;\n          }\n        }\n      }\n      const rawProps = toRaw(props);\n      const { mode } = rawProps;\n      if (!!(process.env.NODE_ENV !== \"production\") && mode && mode !== \"in-out\" && mode !== \"out-in\" && mode !== \"default\") {\n        warn(`invalid <transition> mode: ${mode}`);\n      }\n      if (state.isLeaving) {\n        return emptyPlaceholder(child);\n      }\n      const innerChild = getKeepAliveChild(child);\n      if (!innerChild) {\n        return emptyPlaceholder(child);\n      }\n      const enterHooks = resolveTransitionHooks(\n        innerChild,\n        rawProps,\n        state,\n        instance\n      );\n      setTransitionHooks(innerChild, enterHooks);\n      const oldChild = instance.subTree;\n      const oldInnerChild = oldChild && getKeepAliveChild(oldChild);\n      let transitionKeyChanged = false;\n      const { getTransitionKey } = innerChild.type;\n      if (getTransitionKey) {\n        const key = getTransitionKey();\n        if (prevTransitionKey === void 0) {\n          prevTransitionKey = key;\n        } else if (key !== prevTransitionKey) {\n          prevTransitionKey = key;\n          transitionKeyChanged = true;\n        }\n      }\n      if (oldInnerChild && oldInnerChild.type !== Comment && (!isSameVNodeType(innerChild, oldInnerChild) || transitionKeyChanged)) {\n        const leavingHooks = resolveTransitionHooks(\n          oldInnerChild,\n          rawProps,\n          state,\n          instance\n        );\n        setTransitionHooks(oldInnerChild, leavingHooks);\n        if (mode === \"out-in\") {\n          state.isLeaving = true;\n          leavingHooks.afterLeave = () => {\n            state.isLeaving = false;\n            if (instance.update.active !== false) {\n              instance.update();\n            }\n          };\n          return emptyPlaceholder(child);\n        } else if (mode === \"in-out\" && innerChild.type !== Comment) {\n          leavingHooks.delayLeave = (el, earlyRemove, delayedLeave) => {\n            const leavingVNodesCache = getLeavingNodesForType(\n              state,\n              oldInnerChild\n            );\n            leavingVNodesCache[String(oldInnerChild.key)] = oldInnerChild;\n            el._leaveCb = () => {\n              earlyRemove();\n              el._leaveCb = void 0;\n              delete enterHooks.delayedLeave;\n            };\n            enterHooks.delayedLeave = delayedLeave;\n          };\n        }\n      }\n      return child;\n    };\n  }\n};\nconst BaseTransition = BaseTransitionImpl;\nfunction getLeavingNodesForType(state, vnode) {\n  const { leavingVNodes } = state;\n  let leavingVNodesCache = leavingVNodes.get(vnode.type);\n  if (!leavingVNodesCache) {\n    leavingVNodesCache = /* @__PURE__ */ Object.create(null);\n    leavingVNodes.set(vnode.type, leavingVNodesCache);\n  }\n  return leavingVNodesCache;\n}\nfunction resolveTransitionHooks(vnode, props, state, instance) {\n  const {\n    appear,\n    mode,\n    persisted = false,\n    onBeforeEnter,\n    onEnter,\n    onAfterEnter,\n    onEnterCancelled,\n    onBeforeLeave,\n    onLeave,\n    onAfterLeave,\n    onLeaveCancelled,\n    onBeforeAppear,\n    onAppear,\n    onAfterAppear,\n    onAppearCancelled\n  } = props;\n  const key = String(vnode.key);\n  const leavingVNodesCache = getLeavingNodesForType(state, vnode);\n  const callHook = (hook, args) => {\n    hook && callWithAsyncErrorHandling(\n      hook,\n      instance,\n      9,\n      args\n    );\n  };\n  const callAsyncHook = (hook, args) => {\n    const done = args[1];\n    callHook(hook, args);\n    if (isArray(hook)) {\n      if (hook.every((hook2) => hook2.length <= 1))\n        done();\n    } else if (hook.length <= 1) {\n      done();\n    }\n  };\n  const hooks = {\n    mode,\n    persisted,\n    beforeEnter(el) {\n      let hook = onBeforeEnter;\n      if (!state.isMounted) {\n        if (appear) {\n          hook = onBeforeAppear || onBeforeEnter;\n        } else {\n          return;\n        }\n      }\n      if (el._leaveCb) {\n        el._leaveCb(\n          true\n          /* cancelled */\n        );\n      }\n      const leavingVNode = leavingVNodesCache[key];\n      if (leavingVNode && isSameVNodeType(vnode, leavingVNode) && leavingVNode.el._leaveCb) {\n        leavingVNode.el._leaveCb();\n      }\n      callHook(hook, [el]);\n    },\n    enter(el) {\n      let hook = onEnter;\n      let afterHook = onAfterEnter;\n      let cancelHook = onEnterCancelled;\n      if (!state.isMounted) {\n        if (appear) {\n          hook = onAppear || onEnter;\n          afterHook = onAfterAppear || onAfterEnter;\n          cancelHook = onAppearCancelled || onEnterCancelled;\n        } else {\n          return;\n        }\n      }\n      let called = false;\n      const done = el._enterCb = (cancelled) => {\n        if (called)\n          return;\n        called = true;\n        if (cancelled) {\n          callHook(cancelHook, [el]);\n        } else {\n          callHook(afterHook, [el]);\n        }\n        if (hooks.delayedLeave) {\n          hooks.delayedLeave();\n        }\n        el._enterCb = void 0;\n      };\n      if (hook) {\n        callAsyncHook(hook, [el, done]);\n      } else {\n        done();\n      }\n    },\n    leave(el, remove) {\n      const key2 = String(vnode.key);\n      if (el._enterCb) {\n        el._enterCb(\n          true\n          /* cancelled */\n        );\n      }\n      if (state.isUnmounting) {\n        return remove();\n      }\n      callHook(onBeforeLeave, [el]);\n      let called = false;\n      const done = el._leaveCb = (cancelled) => {\n        if (called)\n          return;\n        called = true;\n        remove();\n        if (cancelled) {\n          callHook(onLeaveCancelled, [el]);\n        } else {\n          callHook(onAfterLeave, [el]);\n        }\n        el._leaveCb = void 0;\n        if (leavingVNodesCache[key2] === vnode) {\n          delete leavingVNodesCache[key2];\n        }\n      };\n      leavingVNodesCache[key2] = vnode;\n      if (onLeave) {\n        callAsyncHook(onLeave, [el, done]);\n      } else {\n        done();\n      }\n    },\n    clone(vnode2) {\n      return resolveTransitionHooks(vnode2, props, state, instance);\n    }\n  };\n  return hooks;\n}\nfunction emptyPlaceholder(vnode) {\n  if (isKeepAlive(vnode)) {\n    vnode = cloneVNode(vnode);\n    vnode.children = null;\n    return vnode;\n  }\n}\nfunction getKeepAliveChild(vnode) {\n  return isKeepAlive(vnode) ? vnode.children ? vnode.children[0] : void 0 : vnode;\n}\nfunction setTransitionHooks(vnode, hooks) {\n  if (vnode.shapeFlag & 6 && vnode.component) {\n    setTransitionHooks(vnode.component.subTree, hooks);\n  } else if (vnode.shapeFlag & 128) {\n    vnode.ssContent.transition = hooks.clone(vnode.ssContent);\n    vnode.ssFallback.transition = hooks.clone(vnode.ssFallback);\n  } else {\n    vnode.transition = hooks;\n  }\n}\nfunction getTransitionRawChildren(children, keepComment = false, parentKey) {\n  let ret = [];\n  let keyedFragmentCount = 0;\n  for (let i = 0; i < children.length; i++) {\n    let child = children[i];\n    const key = parentKey == null ? child.key : String(parentKey) + String(child.key != null ? child.key : i);\n    if (child.type === Fragment) {\n      if (child.patchFlag & 128)\n        keyedFragmentCount++;\n      ret = ret.concat(\n        getTransitionRawChildren(child.children, keepComment, key)\n      );\n    } else if (keepComment || child.type !== Comment) {\n      ret.push(key != null ? cloneVNode(child, { key }) : child);\n    }\n  }\n  if (keyedFragmentCount > 1) {\n    for (let i = 0; i < ret.length; i++) {\n      ret[i].patchFlag = -2;\n    }\n  }\n  return ret;\n}\n\nfunction defineComponent(options, extraOptions) {\n  return isFunction(options) ? (\n    // #8326: extend call and options.name access are considered side-effects\n    // by Rollup, so we have to wrap it in a pure-annotated IIFE.\n    /* @__PURE__ */ (() => extend({ name: options.name }, extraOptions, { setup: options }))()\n  ) : options;\n}\n\nconst isAsyncWrapper = (i) => !!i.type.__asyncLoader;\nfunction defineAsyncComponent(source) {\n  if (isFunction(source)) {\n    source = { loader: source };\n  }\n  const {\n    loader,\n    loadingComponent,\n    errorComponent,\n    delay = 200,\n    timeout,\n    // undefined = never times out\n    suspensible = true,\n    onError: userOnError\n  } = source;\n  let pendingRequest = null;\n  let resolvedComp;\n  let retries = 0;\n  const retry = () => {\n    retries++;\n    pendingRequest = null;\n    return load();\n  };\n  const load = () => {\n    let thisRequest;\n    return pendingRequest || (thisRequest = pendingRequest = loader().catch((err) => {\n      err = err instanceof Error ? err : new Error(String(err));\n      if (userOnError) {\n        return new Promise((resolve, reject) => {\n          const userRetry = () => resolve(retry());\n          const userFail = () => reject(err);\n          userOnError(err, userRetry, userFail, retries + 1);\n        });\n      } else {\n        throw err;\n      }\n    }).then((comp) => {\n      if (thisRequest !== pendingRequest && pendingRequest) {\n        return pendingRequest;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && !comp) {\n        warn(\n          `Async component loader resolved to undefined. If you are using retry(), make sure to return its return value.`\n        );\n      }\n      if (comp && (comp.__esModule || comp[Symbol.toStringTag] === \"Module\")) {\n        comp = comp.default;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && comp && !isObject(comp) && !isFunction(comp)) {\n        throw new Error(`Invalid async component load result: ${comp}`);\n      }\n      resolvedComp = comp;\n      return comp;\n    }));\n  };\n  return defineComponent({\n    name: \"AsyncComponentWrapper\",\n    __asyncLoader: load,\n    get __asyncResolved() {\n      return resolvedComp;\n    },\n    setup() {\n      const instance = currentInstance;\n      if (resolvedComp) {\n        return () => createInnerComp(resolvedComp, instance);\n      }\n      const onError = (err) => {\n        pendingRequest = null;\n        handleError(\n          err,\n          instance,\n          13,\n          !errorComponent\n          /* do not throw in dev if user provided error component */\n        );\n      };\n      if (suspensible && instance.suspense || isInSSRComponentSetup) {\n        return load().then((comp) => {\n          return () => createInnerComp(comp, instance);\n        }).catch((err) => {\n          onError(err);\n          return () => errorComponent ? createVNode(errorComponent, {\n            error: err\n          }) : null;\n        });\n      }\n      const loaded = ref(false);\n      const error = ref();\n      const delayed = ref(!!delay);\n      if (delay) {\n        setTimeout(() => {\n          delayed.value = false;\n        }, delay);\n      }\n      if (timeout != null) {\n        setTimeout(() => {\n          if (!loaded.value && !error.value) {\n            const err = new Error(\n              `Async component timed out after ${timeout}ms.`\n            );\n            onError(err);\n            error.value = err;\n          }\n        }, timeout);\n      }\n      load().then(() => {\n        loaded.value = true;\n        if (instance.parent && isKeepAlive(instance.parent.vnode)) {\n          queueJob(instance.parent.update);\n        }\n      }).catch((err) => {\n        onError(err);\n        error.value = err;\n      });\n      return () => {\n        if (loaded.value && resolvedComp) {\n          return createInnerComp(resolvedComp, instance);\n        } else if (error.value && errorComponent) {\n          return createVNode(errorComponent, {\n            error: error.value\n          });\n        } else if (loadingComponent && !delayed.value) {\n          return createVNode(loadingComponent);\n        }\n      };\n    }\n  });\n}\nfunction createInnerComp(comp, parent) {\n  const { ref: ref2, props, children, ce } = parent.vnode;\n  const vnode = createVNode(comp, props, children);\n  vnode.ref = ref2;\n  vnode.ce = ce;\n  delete parent.vnode.ce;\n  return vnode;\n}\n\nconst isKeepAlive = (vnode) => vnode.type.__isKeepAlive;\nconst KeepAliveImpl = {\n  name: `KeepAlive`,\n  // Marker for special handling inside the renderer. We are not using a ===\n  // check directly on KeepAlive in the renderer, because importing it directly\n  // would prevent it from being tree-shaken.\n  __isKeepAlive: true,\n  props: {\n    include: [String, RegExp, Array],\n    exclude: [String, RegExp, Array],\n    max: [String, Number]\n  },\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const sharedContext = instance.ctx;\n    if (!sharedContext.renderer) {\n      return () => {\n        const children = slots.default && slots.default();\n        return children && children.length === 1 ? children[0] : children;\n      };\n    }\n    const cache = /* @__PURE__ */ new Map();\n    const keys = /* @__PURE__ */ new Set();\n    let current = null;\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      instance.__v_cache = cache;\n    }\n    const parentSuspense = instance.suspense;\n    const {\n      renderer: {\n        p: patch,\n        m: move,\n        um: _unmount,\n        o: { createElement }\n      }\n    } = sharedContext;\n    const storageContainer = createElement(\"div\");\n    sharedContext.activate = (vnode, container, anchor, isSVG, optimized) => {\n      const instance2 = vnode.component;\n      move(vnode, container, anchor, 0, parentSuspense);\n      patch(\n        instance2.vnode,\n        vnode,\n        container,\n        anchor,\n        instance2,\n        parentSuspense,\n        isSVG,\n        vnode.slotScopeIds,\n        optimized\n      );\n      queuePostRenderEffect(() => {\n        instance2.isDeactivated = false;\n        if (instance2.a) {\n          invokeArrayFns(instance2.a);\n        }\n        const vnodeHook = vnode.props && vnode.props.onVnodeMounted;\n        if (vnodeHook) {\n          invokeVNodeHook(vnodeHook, instance2.parent, vnode);\n        }\n      }, parentSuspense);\n      if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n        devtoolsComponentAdded(instance2);\n      }\n    };\n    sharedContext.deactivate = (vnode) => {\n      const instance2 = vnode.component;\n      move(vnode, storageContainer, null, 1, parentSuspense);\n      queuePostRenderEffect(() => {\n        if (instance2.da) {\n          invokeArrayFns(instance2.da);\n        }\n        const vnodeHook = vnode.props && vnode.props.onVnodeUnmounted;\n        if (vnodeHook) {\n          invokeVNodeHook(vnodeHook, instance2.parent, vnode);\n        }\n        instance2.isDeactivated = true;\n      }, parentSuspense);\n      if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n        devtoolsComponentAdded(instance2);\n      }\n    };\n    function unmount(vnode) {\n      resetShapeFlag(vnode);\n      _unmount(vnode, instance, parentSuspense, true);\n    }\n    function pruneCache(filter) {\n      cache.forEach((vnode, key) => {\n        const name = getComponentName(vnode.type);\n        if (name && (!filter || !filter(name))) {\n          pruneCacheEntry(key);\n        }\n      });\n    }\n    function pruneCacheEntry(key) {\n      const cached = cache.get(key);\n      if (!current || !isSameVNodeType(cached, current)) {\n        unmount(cached);\n      } else if (current) {\n        resetShapeFlag(current);\n      }\n      cache.delete(key);\n      keys.delete(key);\n    }\n    watch(\n      () => [props.include, props.exclude],\n      ([include, exclude]) => {\n        include && pruneCache((name) => matches(include, name));\n        exclude && pruneCache((name) => !matches(exclude, name));\n      },\n      // prune post-render after `current` has been updated\n      { flush: \"post\", deep: true }\n    );\n    let pendingCacheKey = null;\n    const cacheSubtree = () => {\n      if (pendingCacheKey != null) {\n        cache.set(pendingCacheKey, getInnerChild(instance.subTree));\n      }\n    };\n    onMounted(cacheSubtree);\n    onUpdated(cacheSubtree);\n    onBeforeUnmount(() => {\n      cache.forEach((cached) => {\n        const { subTree, suspense } = instance;\n        const vnode = getInnerChild(subTree);\n        if (cached.type === vnode.type && cached.key === vnode.key) {\n          resetShapeFlag(vnode);\n          const da = vnode.component.da;\n          da && queuePostRenderEffect(da, suspense);\n          return;\n        }\n        unmount(cached);\n      });\n    });\n    return () => {\n      pendingCacheKey = null;\n      if (!slots.default) {\n        return null;\n      }\n      const children = slots.default();\n      const rawVNode = children[0];\n      if (children.length > 1) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(`KeepAlive should contain exactly one component child.`);\n        }\n        current = null;\n        return children;\n      } else if (!isVNode(rawVNode) || !(rawVNode.shapeFlag & 4) && !(rawVNode.shapeFlag & 128)) {\n        current = null;\n        return rawVNode;\n      }\n      let vnode = getInnerChild(rawVNode);\n      const comp = vnode.type;\n      const name = getComponentName(\n        isAsyncWrapper(vnode) ? vnode.type.__asyncResolved || {} : comp\n      );\n      const { include, exclude, max } = props;\n      if (include && (!name || !matches(include, name)) || exclude && name && matches(exclude, name)) {\n        current = vnode;\n        return rawVNode;\n      }\n      const key = vnode.key == null ? comp : vnode.key;\n      const cachedVNode = cache.get(key);\n      if (vnode.el) {\n        vnode = cloneVNode(vnode);\n        if (rawVNode.shapeFlag & 128) {\n          rawVNode.ssContent = vnode;\n        }\n      }\n      pendingCacheKey = key;\n      if (cachedVNode) {\n        vnode.el = cachedVNode.el;\n        vnode.component = cachedVNode.component;\n        if (vnode.transition) {\n          setTransitionHooks(vnode, vnode.transition);\n        }\n        vnode.shapeFlag |= 512;\n        keys.delete(key);\n        keys.add(key);\n      } else {\n        keys.add(key);\n        if (max && keys.size > parseInt(max, 10)) {\n          pruneCacheEntry(keys.values().next().value);\n        }\n      }\n      vnode.shapeFlag |= 256;\n      current = vnode;\n      return isSuspense(rawVNode.type) ? rawVNode : vnode;\n    };\n  }\n};\nconst KeepAlive = KeepAliveImpl;\nfunction matches(pattern, name) {\n  if (isArray(pattern)) {\n    return pattern.some((p) => matches(p, name));\n  } else if (isString(pattern)) {\n    return pattern.split(\",\").includes(name);\n  } else if (isRegExp(pattern)) {\n    return pattern.test(name);\n  }\n  return false;\n}\nfunction onActivated(hook, target) {\n  registerKeepAliveHook(hook, \"a\", target);\n}\nfunction onDeactivated(hook, target) {\n  registerKeepAliveHook(hook, \"da\", target);\n}\nfunction registerKeepAliveHook(hook, type, target = currentInstance) {\n  const wrappedHook = hook.__wdc || (hook.__wdc = () => {\n    let current = target;\n    while (current) {\n      if (current.isDeactivated) {\n        return;\n      }\n      current = current.parent;\n    }\n    return hook();\n  });\n  injectHook(type, wrappedHook, target);\n  if (target) {\n    let current = target.parent;\n    while (current && current.parent) {\n      if (isKeepAlive(current.parent.vnode)) {\n        injectToKeepAliveRoot(wrappedHook, type, target, current);\n      }\n      current = current.parent;\n    }\n  }\n}\nfunction injectToKeepAliveRoot(hook, type, target, keepAliveRoot) {\n  const injected = injectHook(\n    type,\n    hook,\n    keepAliveRoot,\n    true\n    /* prepend */\n  );\n  onUnmounted(() => {\n    remove(keepAliveRoot[type], injected);\n  }, target);\n}\nfunction resetShapeFlag(vnode) {\n  vnode.shapeFlag &= ~256;\n  vnode.shapeFlag &= ~512;\n}\nfunction getInnerChild(vnode) {\n  return vnode.shapeFlag & 128 ? vnode.ssContent : vnode;\n}\n\nfunction injectHook(type, hook, target = currentInstance, prepend = false) {\n  if (target) {\n    const hooks = target[type] || (target[type] = []);\n    const wrappedHook = hook.__weh || (hook.__weh = (...args) => {\n      if (target.isUnmounted) {\n        return;\n      }\n      pauseTracking();\n      setCurrentInstance(target);\n      const res = callWithAsyncErrorHandling(hook, target, type, args);\n      unsetCurrentInstance();\n      resetTracking();\n      return res;\n    });\n    if (prepend) {\n      hooks.unshift(wrappedHook);\n    } else {\n      hooks.push(wrappedHook);\n    }\n    return wrappedHook;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    const apiName = toHandlerKey(ErrorTypeStrings[type].replace(/ hook$/, \"\"));\n    warn(\n      `${apiName} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup().` + (` If you are using async setup(), make sure to register lifecycle hooks before the first await statement.` )\n    );\n  }\n}\nconst createHook = (lifecycle) => (hook, target = currentInstance) => (\n  // post-create lifecycle registrations are noops during SSR (except for serverPrefetch)\n  (!isInSSRComponentSetup || lifecycle === \"sp\") && injectHook(lifecycle, (...args) => hook(...args), target)\n);\nconst onBeforeMount = createHook(\"bm\");\nconst onMounted = createHook(\"m\");\nconst onBeforeUpdate = createHook(\"bu\");\nconst onUpdated = createHook(\"u\");\nconst onBeforeUnmount = createHook(\"bum\");\nconst onUnmounted = createHook(\"um\");\nconst onServerPrefetch = createHook(\"sp\");\nconst onRenderTriggered = createHook(\n  \"rtg\"\n);\nconst onRenderTracked = createHook(\n  \"rtc\"\n);\nfunction onErrorCaptured(hook, target = currentInstance) {\n  injectHook(\"ec\", hook, target);\n}\n\nconst COMPONENTS = \"components\";\nconst DIRECTIVES = \"directives\";\nfunction resolveComponent(name, maybeSelfReference) {\n  return resolveAsset(COMPONENTS, name, true, maybeSelfReference) || name;\n}\nconst NULL_DYNAMIC_COMPONENT = Symbol.for(\"v-ndc\");\nfunction resolveDynamicComponent(component) {\n  if (isString(component)) {\n    return resolveAsset(COMPONENTS, component, false) || component;\n  } else {\n    return component || NULL_DYNAMIC_COMPONENT;\n  }\n}\nfunction resolveDirective(name) {\n  return resolveAsset(DIRECTIVES, name);\n}\nfunction resolveAsset(type, name, warnMissing = true, maybeSelfReference = false) {\n  const instance = currentRenderingInstance || currentInstance;\n  if (instance) {\n    const Component = instance.type;\n    if (type === COMPONENTS) {\n      const selfName = getComponentName(\n        Component,\n        false\n        /* do not include inferred name to avoid breaking existing code */\n      );\n      if (selfName && (selfName === name || selfName === camelize(name) || selfName === capitalize(camelize(name)))) {\n        return Component;\n      }\n    }\n    const res = (\n      // local registration\n      // check instance[type] first which is resolved for options API\n      resolve(instance[type] || Component[type], name) || // global registration\n      resolve(instance.appContext[type], name)\n    );\n    if (!res && maybeSelfReference) {\n      return Component;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") && warnMissing && !res) {\n      const extra = type === COMPONENTS ? `\nIf this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.` : ``;\n      warn(`Failed to resolve ${type.slice(0, -1)}: ${name}${extra}`);\n    }\n    return res;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(\n      `resolve${capitalize(type.slice(0, -1))} can only be used in render() or setup().`\n    );\n  }\n}\nfunction resolve(registry, name) {\n  return registry && (registry[name] || registry[camelize(name)] || registry[capitalize(camelize(name))]);\n}\n\nfunction renderList(source, renderItem, cache, index) {\n  let ret;\n  const cached = cache && cache[index];\n  if (isArray(source) || isString(source)) {\n    ret = new Array(source.length);\n    for (let i = 0, l = source.length; i < l; i++) {\n      ret[i] = renderItem(source[i], i, void 0, cached && cached[i]);\n    }\n  } else if (typeof source === \"number\") {\n    if (!!(process.env.NODE_ENV !== \"production\") && !Number.isInteger(source)) {\n      warn(`The v-for range expect an integer value but got ${source}.`);\n    }\n    ret = new Array(source);\n    for (let i = 0; i < source; i++) {\n      ret[i] = renderItem(i + 1, i, void 0, cached && cached[i]);\n    }\n  } else if (isObject(source)) {\n    if (source[Symbol.iterator]) {\n      ret = Array.from(\n        source,\n        (item, i) => renderItem(item, i, void 0, cached && cached[i])\n      );\n    } else {\n      const keys = Object.keys(source);\n      ret = new Array(keys.length);\n      for (let i = 0, l = keys.length; i < l; i++) {\n        const key = keys[i];\n        ret[i] = renderItem(source[key], key, i, cached && cached[i]);\n      }\n    }\n  } else {\n    ret = [];\n  }\n  if (cache) {\n    cache[index] = ret;\n  }\n  return ret;\n}\n\nfunction createSlots(slots, dynamicSlots) {\n  for (let i = 0; i < dynamicSlots.length; i++) {\n    const slot = dynamicSlots[i];\n    if (isArray(slot)) {\n      for (let j = 0; j < slot.length; j++) {\n        slots[slot[j].name] = slot[j].fn;\n      }\n    } else if (slot) {\n      slots[slot.name] = slot.key ? (...args) => {\n        const res = slot.fn(...args);\n        if (res)\n          res.key = slot.key;\n        return res;\n      } : slot.fn;\n    }\n  }\n  return slots;\n}\n\nfunction renderSlot(slots, name, props = {}, fallback, noSlotted) {\n  if (currentRenderingInstance.isCE || currentRenderingInstance.parent && isAsyncWrapper(currentRenderingInstance.parent) && currentRenderingInstance.parent.isCE) {\n    if (name !== \"default\")\n      props.name = name;\n    return createVNode(\"slot\", props, fallback && fallback());\n  }\n  let slot = slots[name];\n  if (!!(process.env.NODE_ENV !== \"production\") && slot && slot.length > 1) {\n    warn(\n      `SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template.`\n    );\n    slot = () => [];\n  }\n  if (slot && slot._c) {\n    slot._d = false;\n  }\n  openBlock();\n  const validSlotContent = slot && ensureValidVNode(slot(props));\n  const rendered = createBlock(\n    Fragment,\n    {\n      key: props.key || // slot content array of a dynamic conditional slot may have a branch\n      // key attached in the `createSlots` helper, respect that\n      validSlotContent && validSlotContent.key || `_${name}`\n    },\n    validSlotContent || (fallback ? fallback() : []),\n    validSlotContent && slots._ === 1 ? 64 : -2\n  );\n  if (!noSlotted && rendered.scopeId) {\n    rendered.slotScopeIds = [rendered.scopeId + \"-s\"];\n  }\n  if (slot && slot._c) {\n    slot._d = true;\n  }\n  return rendered;\n}\nfunction ensureValidVNode(vnodes) {\n  return vnodes.some((child) => {\n    if (!isVNode(child))\n      return true;\n    if (child.type === Comment)\n      return false;\n    if (child.type === Fragment && !ensureValidVNode(child.children))\n      return false;\n    return true;\n  }) ? vnodes : null;\n}\n\nfunction toHandlers(obj, preserveCaseIfNecessary) {\n  const ret = {};\n  if (!!(process.env.NODE_ENV !== \"production\") && !isObject(obj)) {\n    warn(`v-on with no argument expects an object value.`);\n    return ret;\n  }\n  for (const key in obj) {\n    ret[preserveCaseIfNecessary && /[A-Z]/.test(key) ? `on:${key}` : toHandlerKey(key)] = obj[key];\n  }\n  return ret;\n}\n\nconst getPublicInstance = (i) => {\n  if (!i)\n    return null;\n  if (isStatefulComponent(i))\n    return getExposeProxy(i) || i.proxy;\n  return getPublicInstance(i.parent);\n};\nconst publicPropertiesMap = (\n  // Move PURE marker to new line to workaround compiler discarding it\n  // due to type annotation\n  /* @__PURE__ */ extend(/* @__PURE__ */ Object.create(null), {\n    $: (i) => i,\n    $el: (i) => i.vnode.el,\n    $data: (i) => i.data,\n    $props: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.props) : i.props,\n    $attrs: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.attrs) : i.attrs,\n    $slots: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.slots) : i.slots,\n    $refs: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.refs) : i.refs,\n    $parent: (i) => getPublicInstance(i.parent),\n    $root: (i) => getPublicInstance(i.root),\n    $emit: (i) => i.emit,\n    $options: (i) => __VUE_OPTIONS_API__ ? resolveMergedOptions(i) : i.type,\n    $forceUpdate: (i) => i.f || (i.f = () => queueJob(i.update)),\n    $nextTick: (i) => i.n || (i.n = nextTick.bind(i.proxy)),\n    $watch: (i) => __VUE_OPTIONS_API__ ? instanceWatch.bind(i) : NOOP\n  })\n);\nconst isReservedPrefix = (key) => key === \"_\" || key === \"$\";\nconst hasSetupBinding = (state, key) => state !== EMPTY_OBJ && !state.__isScriptSetup && hasOwn(state, key);\nconst PublicInstanceProxyHandlers = {\n  get({ _: instance }, key) {\n    const { ctx, setupState, data, props, accessCache, type, appContext } = instance;\n    if (!!(process.env.NODE_ENV !== \"production\") && key === \"__isVue\") {\n      return true;\n    }\n    let normalizedProps;\n    if (key[0] !== \"$\") {\n      const n = accessCache[key];\n      if (n !== void 0) {\n        switch (n) {\n          case 1 /* SETUP */:\n            return setupState[key];\n          case 2 /* DATA */:\n            return data[key];\n          case 4 /* CONTEXT */:\n            return ctx[key];\n          case 3 /* PROPS */:\n            return props[key];\n        }\n      } else if (hasSetupBinding(setupState, key)) {\n        accessCache[key] = 1 /* SETUP */;\n        return setupState[key];\n      } else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\n        accessCache[key] = 2 /* DATA */;\n        return data[key];\n      } else if (\n        // only cache other properties when instance has declared (thus stable)\n        // props\n        (normalizedProps = instance.propsOptions[0]) && hasOwn(normalizedProps, key)\n      ) {\n        accessCache[key] = 3 /* PROPS */;\n        return props[key];\n      } else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\n        accessCache[key] = 4 /* CONTEXT */;\n        return ctx[key];\n      } else if (!__VUE_OPTIONS_API__ || shouldCacheAccess) {\n        accessCache[key] = 0 /* OTHER */;\n      }\n    }\n    const publicGetter = publicPropertiesMap[key];\n    let cssModule, globalProperties;\n    if (publicGetter) {\n      if (key === \"$attrs\") {\n        track(instance, \"get\", key);\n        !!(process.env.NODE_ENV !== \"production\") && markAttrsAccessed();\n      } else if (!!(process.env.NODE_ENV !== \"production\") && key === \"$slots\") {\n        track(instance, \"get\", key);\n      }\n      return publicGetter(instance);\n    } else if (\n      // css module (injected by vue-loader)\n      (cssModule = type.__cssModules) && (cssModule = cssModule[key])\n    ) {\n      return cssModule;\n    } else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\n      accessCache[key] = 4 /* CONTEXT */;\n      return ctx[key];\n    } else if (\n      // global properties\n      globalProperties = appContext.config.globalProperties, hasOwn(globalProperties, key)\n    ) {\n      {\n        return globalProperties[key];\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\") && currentRenderingInstance && (!isString(key) || // #1091 avoid internal isRef/isVNode checks on component instance leading\n    // to infinite warning loop\n    key.indexOf(\"__v\") !== 0)) {\n      if (data !== EMPTY_OBJ && isReservedPrefix(key[0]) && hasOwn(data, key)) {\n        warn(\n          `Property ${JSON.stringify(\n            key\n          )} must be accessed via $data because it starts with a reserved character (\"$\" or \"_\") and is not proxied on the render context.`\n        );\n      } else if (instance === currentRenderingInstance) {\n        warn(\n          `Property ${JSON.stringify(key)} was accessed during render but is not defined on instance.`\n        );\n      }\n    }\n  },\n  set({ _: instance }, key, value) {\n    const { data, setupState, ctx } = instance;\n    if (hasSetupBinding(setupState, key)) {\n      setupState[key] = value;\n      return true;\n    } else if (!!(process.env.NODE_ENV !== \"production\") && setupState.__isScriptSetup && hasOwn(setupState, key)) {\n      warn(`Cannot mutate <script setup> binding \"${key}\" from Options API.`);\n      return false;\n    } else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\n      data[key] = value;\n      return true;\n    } else if (hasOwn(instance.props, key)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`Attempting to mutate prop \"${key}\". Props are readonly.`);\n      return false;\n    }\n    if (key[0] === \"$\" && key.slice(1) in instance) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(\n        `Attempting to mutate public property \"${key}\". Properties starting with $ are reserved and readonly.`\n      );\n      return false;\n    } else {\n      if (!!(process.env.NODE_ENV !== \"production\") && key in instance.appContext.config.globalProperties) {\n        Object.defineProperty(ctx, key, {\n          enumerable: true,\n          configurable: true,\n          value\n        });\n      } else {\n        ctx[key] = value;\n      }\n    }\n    return true;\n  },\n  has({\n    _: { data, setupState, accessCache, ctx, appContext, propsOptions }\n  }, key) {\n    let normalizedProps;\n    return !!accessCache[key] || data !== EMPTY_OBJ && hasOwn(data, key) || hasSetupBinding(setupState, key) || (normalizedProps = propsOptions[0]) && hasOwn(normalizedProps, key) || hasOwn(ctx, key) || hasOwn(publicPropertiesMap, key) || hasOwn(appContext.config.globalProperties, key);\n  },\n  defineProperty(target, key, descriptor) {\n    if (descriptor.get != null) {\n      target._.accessCache[key] = 0;\n    } else if (hasOwn(descriptor, \"value\")) {\n      this.set(target, key, descriptor.value, null);\n    }\n    return Reflect.defineProperty(target, key, descriptor);\n  }\n};\nif (!!(process.env.NODE_ENV !== \"production\") && true) {\n  PublicInstanceProxyHandlers.ownKeys = (target) => {\n    warn(\n      `Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead.`\n    );\n    return Reflect.ownKeys(target);\n  };\n}\nconst RuntimeCompiledPublicInstanceProxyHandlers = /* @__PURE__ */ extend(\n  {},\n  PublicInstanceProxyHandlers,\n  {\n    get(target, key) {\n      if (key === Symbol.unscopables) {\n        return;\n      }\n      return PublicInstanceProxyHandlers.get(target, key, target);\n    },\n    has(_, key) {\n      const has = key[0] !== \"_\" && !isGloballyWhitelisted(key);\n      if (!!(process.env.NODE_ENV !== \"production\") && !has && PublicInstanceProxyHandlers.has(_, key)) {\n        warn(\n          `Property ${JSON.stringify(\n            key\n          )} should not start with _ which is a reserved prefix for Vue internals.`\n        );\n      }\n      return has;\n    }\n  }\n);\nfunction createDevRenderContext(instance) {\n  const target = {};\n  Object.defineProperty(target, `_`, {\n    configurable: true,\n    enumerable: false,\n    get: () => instance\n  });\n  Object.keys(publicPropertiesMap).forEach((key) => {\n    Object.defineProperty(target, key, {\n      configurable: true,\n      enumerable: false,\n      get: () => publicPropertiesMap[key](instance),\n      // intercepted by the proxy so no need for implementation,\n      // but needed to prevent set errors\n      set: NOOP\n    });\n  });\n  return target;\n}\nfunction exposePropsOnRenderContext(instance) {\n  const {\n    ctx,\n    propsOptions: [propsOptions]\n  } = instance;\n  if (propsOptions) {\n    Object.keys(propsOptions).forEach((key) => {\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => instance.props[key],\n        set: NOOP\n      });\n    });\n  }\n}\nfunction exposeSetupStateOnRenderContext(instance) {\n  const { ctx, setupState } = instance;\n  Object.keys(toRaw(setupState)).forEach((key) => {\n    if (!setupState.__isScriptSetup) {\n      if (isReservedPrefix(key[0])) {\n        warn(\n          `setup() return property ${JSON.stringify(\n            key\n          )} should not start with \"$\" or \"_\" which are reserved prefixes for Vue internals.`\n        );\n        return;\n      }\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => setupState[key],\n        set: NOOP\n      });\n    }\n  });\n}\n\nconst warnRuntimeUsage = (method) => warn(\n  `${method}() is a compiler-hint helper that is only usable inside <script setup> of a single file component. Its arguments should be compiled away and passing it at runtime has no effect.`\n);\nfunction defineProps() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineProps`);\n  }\n  return null;\n}\nfunction defineEmits() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineEmits`);\n  }\n  return null;\n}\nfunction defineExpose(exposed) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineExpose`);\n  }\n}\nfunction defineOptions(options) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineOptions`);\n  }\n}\nfunction defineSlots() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineSlots`);\n  }\n  return null;\n}\nfunction defineModel() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(\"defineModel\");\n  }\n}\nfunction withDefaults(props, defaults) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`withDefaults`);\n  }\n  return null;\n}\nfunction useSlots() {\n  return getContext().slots;\n}\nfunction useAttrs() {\n  return getContext().attrs;\n}\nfunction useModel(props, name, options) {\n  const i = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !i) {\n    warn(`useModel() called without active instance.`);\n    return ref();\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && !i.propsOptions[0][name]) {\n    warn(`useModel() called with prop \"${name}\" which is not declared.`);\n    return ref();\n  }\n  if (options && options.local) {\n    const proxy = ref(props[name]);\n    watch(\n      () => props[name],\n      (v) => proxy.value = v\n    );\n    watch(proxy, (value) => {\n      if (value !== props[name]) {\n        i.emit(`update:${name}`, value);\n      }\n    });\n    return proxy;\n  } else {\n    return {\n      __v_isRef: true,\n      get value() {\n        return props[name];\n      },\n      set value(value) {\n        i.emit(`update:${name}`, value);\n      }\n    };\n  }\n}\nfunction getContext() {\n  const i = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !i) {\n    warn(`useContext() called without active instance.`);\n  }\n  return i.setupContext || (i.setupContext = createSetupContext(i));\n}\nfunction normalizePropsOrEmits(props) {\n  return isArray(props) ? props.reduce(\n    (normalized, p) => (normalized[p] = null, normalized),\n    {}\n  ) : props;\n}\nfunction mergeDefaults(raw, defaults) {\n  const props = normalizePropsOrEmits(raw);\n  for (const key in defaults) {\n    if (key.startsWith(\"__skip\"))\n      continue;\n    let opt = props[key];\n    if (opt) {\n      if (isArray(opt) || isFunction(opt)) {\n        opt = props[key] = { type: opt, default: defaults[key] };\n      } else {\n        opt.default = defaults[key];\n      }\n    } else if (opt === null) {\n      opt = props[key] = { default: defaults[key] };\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`props default key \"${key}\" has no corresponding declaration.`);\n    }\n    if (opt && defaults[`__skip_${key}`]) {\n      opt.skipFactory = true;\n    }\n  }\n  return props;\n}\nfunction mergeModels(a, b) {\n  if (!a || !b)\n    return a || b;\n  if (isArray(a) && isArray(b))\n    return a.concat(b);\n  return extend({}, normalizePropsOrEmits(a), normalizePropsOrEmits(b));\n}\nfunction createPropsRestProxy(props, excludedKeys) {\n  const ret = {};\n  for (const key in props) {\n    if (!excludedKeys.includes(key)) {\n      Object.defineProperty(ret, key, {\n        enumerable: true,\n        get: () => props[key]\n      });\n    }\n  }\n  return ret;\n}\nfunction withAsyncContext(getAwaitable) {\n  const ctx = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !ctx) {\n    warn(\n      `withAsyncContext called without active current instance. This is likely a bug.`\n    );\n  }\n  let awaitable = getAwaitable();\n  unsetCurrentInstance();\n  if (isPromise(awaitable)) {\n    awaitable = awaitable.catch((e) => {\n      setCurrentInstance(ctx);\n      throw e;\n    });\n  }\n  return [awaitable, () => setCurrentInstance(ctx)];\n}\n\nfunction createDuplicateChecker() {\n  const cache = /* @__PURE__ */ Object.create(null);\n  return (type, key) => {\n    if (cache[key]) {\n      warn(`${type} property \"${key}\" is already defined in ${cache[key]}.`);\n    } else {\n      cache[key] = type;\n    }\n  };\n}\nlet shouldCacheAccess = true;\nfunction applyOptions(instance) {\n  const options = resolveMergedOptions(instance);\n  const publicThis = instance.proxy;\n  const ctx = instance.ctx;\n  shouldCacheAccess = false;\n  if (options.beforeCreate) {\n    callHook(options.beforeCreate, instance, \"bc\");\n  }\n  const {\n    // state\n    data: dataOptions,\n    computed: computedOptions,\n    methods,\n    watch: watchOptions,\n    provide: provideOptions,\n    inject: injectOptions,\n    // lifecycle\n    created,\n    beforeMount,\n    mounted,\n    beforeUpdate,\n    updated,\n    activated,\n    deactivated,\n    beforeDestroy,\n    beforeUnmount,\n    destroyed,\n    unmounted,\n    render,\n    renderTracked,\n    renderTriggered,\n    errorCaptured,\n    serverPrefetch,\n    // public API\n    expose,\n    inheritAttrs,\n    // assets\n    components,\n    directives,\n    filters\n  } = options;\n  const checkDuplicateProperties = !!(process.env.NODE_ENV !== \"production\") ? createDuplicateChecker() : null;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const [propsOptions] = instance.propsOptions;\n    if (propsOptions) {\n      for (const key in propsOptions) {\n        checkDuplicateProperties(\"Props\" /* PROPS */, key);\n      }\n    }\n  }\n  if (injectOptions) {\n    resolveInjections(injectOptions, ctx, checkDuplicateProperties);\n  }\n  if (methods) {\n    for (const key in methods) {\n      const methodHandler = methods[key];\n      if (isFunction(methodHandler)) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          Object.defineProperty(ctx, key, {\n            value: methodHandler.bind(publicThis),\n            configurable: true,\n            enumerable: true,\n            writable: true\n          });\n        } else {\n          ctx[key] = methodHandler.bind(publicThis);\n        }\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          checkDuplicateProperties(\"Methods\" /* METHODS */, key);\n        }\n      } else if (!!(process.env.NODE_ENV !== \"production\")) {\n        warn(\n          `Method \"${key}\" has type \"${typeof methodHandler}\" in the component definition. Did you reference the function correctly?`\n        );\n      }\n    }\n  }\n  if (dataOptions) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isFunction(dataOptions)) {\n      warn(\n        `The data option must be a function. Plain object usage is no longer supported.`\n      );\n    }\n    const data = dataOptions.call(publicThis, publicThis);\n    if (!!(process.env.NODE_ENV !== \"production\") && isPromise(data)) {\n      warn(\n        `data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>.`\n      );\n    }\n    if (!isObject(data)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`data() should return an object.`);\n    } else {\n      instance.data = reactive(data);\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        for (const key in data) {\n          checkDuplicateProperties(\"Data\" /* DATA */, key);\n          if (!isReservedPrefix(key[0])) {\n            Object.defineProperty(ctx, key, {\n              configurable: true,\n              enumerable: true,\n              get: () => data[key],\n              set: NOOP\n            });\n          }\n        }\n      }\n    }\n  }\n  shouldCacheAccess = true;\n  if (computedOptions) {\n    for (const key in computedOptions) {\n      const opt = computedOptions[key];\n      const get = isFunction(opt) ? opt.bind(publicThis, publicThis) : isFunction(opt.get) ? opt.get.bind(publicThis, publicThis) : NOOP;\n      if (!!(process.env.NODE_ENV !== \"production\") && get === NOOP) {\n        warn(`Computed property \"${key}\" has no getter.`);\n      }\n      const set = !isFunction(opt) && isFunction(opt.set) ? opt.set.bind(publicThis) : !!(process.env.NODE_ENV !== \"production\") ? () => {\n        warn(\n          `Write operation failed: computed property \"${key}\" is readonly.`\n        );\n      } : NOOP;\n      const c = computed({\n        get,\n        set\n      });\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => c.value,\n        set: (v) => c.value = v\n      });\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        checkDuplicateProperties(\"Computed\" /* COMPUTED */, key);\n      }\n    }\n  }\n  if (watchOptions) {\n    for (const key in watchOptions) {\n      createWatcher(watchOptions[key], ctx, publicThis, key);\n    }\n  }\n  if (provideOptions) {\n    const provides = isFunction(provideOptions) ? provideOptions.call(publicThis) : provideOptions;\n    Reflect.ownKeys(provides).forEach((key) => {\n      provide(key, provides[key]);\n    });\n  }\n  if (created) {\n    callHook(created, instance, \"c\");\n  }\n  function registerLifecycleHook(register, hook) {\n    if (isArray(hook)) {\n      hook.forEach((_hook) => register(_hook.bind(publicThis)));\n    } else if (hook) {\n      register(hook.bind(publicThis));\n    }\n  }\n  registerLifecycleHook(onBeforeMount, beforeMount);\n  registerLifecycleHook(onMounted, mounted);\n  registerLifecycleHook(onBeforeUpdate, beforeUpdate);\n  registerLifecycleHook(onUpdated, updated);\n  registerLifecycleHook(onActivated, activated);\n  registerLifecycleHook(onDeactivated, deactivated);\n  registerLifecycleHook(onErrorCaptured, errorCaptured);\n  registerLifecycleHook(onRenderTracked, renderTracked);\n  registerLifecycleHook(onRenderTriggered, renderTriggered);\n  registerLifecycleHook(onBeforeUnmount, beforeUnmount);\n  registerLifecycleHook(onUnmounted, unmounted);\n  registerLifecycleHook(onServerPrefetch, serverPrefetch);\n  if (isArray(expose)) {\n    if (expose.length) {\n      const exposed = instance.exposed || (instance.exposed = {});\n      expose.forEach((key) => {\n        Object.defineProperty(exposed, key, {\n          get: () => publicThis[key],\n          set: (val) => publicThis[key] = val\n        });\n      });\n    } else if (!instance.exposed) {\n      instance.exposed = {};\n    }\n  }\n  if (render && instance.render === NOOP) {\n    instance.render = render;\n  }\n  if (inheritAttrs != null) {\n    instance.inheritAttrs = inheritAttrs;\n  }\n  if (components)\n    instance.components = components;\n  if (directives)\n    instance.directives = directives;\n}\nfunction resolveInjections(injectOptions, ctx, checkDuplicateProperties = NOOP) {\n  if (isArray(injectOptions)) {\n    injectOptions = normalizeInject(injectOptions);\n  }\n  for (const key in injectOptions) {\n    const opt = injectOptions[key];\n    let injected;\n    if (isObject(opt)) {\n      if (\"default\" in opt) {\n        injected = inject(\n          opt.from || key,\n          opt.default,\n          true\n          /* treat default function as factory */\n        );\n      } else {\n        injected = inject(opt.from || key);\n      }\n    } else {\n      injected = inject(opt);\n    }\n    if (isRef(injected)) {\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => injected.value,\n        set: (v) => injected.value = v\n      });\n    } else {\n      ctx[key] = injected;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      checkDuplicateProperties(\"Inject\" /* INJECT */, key);\n    }\n  }\n}\nfunction callHook(hook, instance, type) {\n  callWithAsyncErrorHandling(\n    isArray(hook) ? hook.map((h) => h.bind(instance.proxy)) : hook.bind(instance.proxy),\n    instance,\n    type\n  );\n}\nfunction createWatcher(raw, ctx, publicThis, key) {\n  const getter = key.includes(\".\") ? createPathGetter(publicThis, key) : () => publicThis[key];\n  if (isString(raw)) {\n    const handler = ctx[raw];\n    if (isFunction(handler)) {\n      watch(getter, handler);\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`Invalid watch handler specified by key \"${raw}\"`, handler);\n    }\n  } else if (isFunction(raw)) {\n    watch(getter, raw.bind(publicThis));\n  } else if (isObject(raw)) {\n    if (isArray(raw)) {\n      raw.forEach((r) => createWatcher(r, ctx, publicThis, key));\n    } else {\n      const handler = isFunction(raw.handler) ? raw.handler.bind(publicThis) : ctx[raw.handler];\n      if (isFunction(handler)) {\n        watch(getter, handler, raw);\n      } else if (!!(process.env.NODE_ENV !== \"production\")) {\n        warn(`Invalid watch handler specified by key \"${raw.handler}\"`, handler);\n      }\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(`Invalid watch option: \"${key}\"`, raw);\n  }\n}\nfunction resolveMergedOptions(instance) {\n  const base = instance.type;\n  const { mixins, extends: extendsOptions } = base;\n  const {\n    mixins: globalMixins,\n    optionsCache: cache,\n    config: { optionMergeStrategies }\n  } = instance.appContext;\n  const cached = cache.get(base);\n  let resolved;\n  if (cached) {\n    resolved = cached;\n  } else if (!globalMixins.length && !mixins && !extendsOptions) {\n    {\n      resolved = base;\n    }\n  } else {\n    resolved = {};\n    if (globalMixins.length) {\n      globalMixins.forEach(\n        (m) => mergeOptions(resolved, m, optionMergeStrategies, true)\n      );\n    }\n    mergeOptions(resolved, base, optionMergeStrategies);\n  }\n  if (isObject(base)) {\n    cache.set(base, resolved);\n  }\n  return resolved;\n}\nfunction mergeOptions(to, from, strats, asMixin = false) {\n  const { mixins, extends: extendsOptions } = from;\n  if (extendsOptions) {\n    mergeOptions(to, extendsOptions, strats, true);\n  }\n  if (mixins) {\n    mixins.forEach(\n      (m) => mergeOptions(to, m, strats, true)\n    );\n  }\n  for (const key in from) {\n    if (asMixin && key === \"expose\") {\n      !!(process.env.NODE_ENV !== \"production\") && warn(\n        `\"expose\" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.`\n      );\n    } else {\n      const strat = internalOptionMergeStrats[key] || strats && strats[key];\n      to[key] = strat ? strat(to[key], from[key]) : from[key];\n    }\n  }\n  return to;\n}\nconst internalOptionMergeStrats = {\n  data: mergeDataFn,\n  props: mergeEmitsOrPropsOptions,\n  emits: mergeEmitsOrPropsOptions,\n  // objects\n  methods: mergeObjectOptions,\n  computed: mergeObjectOptions,\n  // lifecycle\n  beforeCreate: mergeAsArray,\n  created: mergeAsArray,\n  beforeMount: mergeAsArray,\n  mounted: mergeAsArray,\n  beforeUpdate: mergeAsArray,\n  updated: mergeAsArray,\n  beforeDestroy: mergeAsArray,\n  beforeUnmount: mergeAsArray,\n  destroyed: mergeAsArray,\n  unmounted: mergeAsArray,\n  activated: mergeAsArray,\n  deactivated: mergeAsArray,\n  errorCaptured: mergeAsArray,\n  serverPrefetch: mergeAsArray,\n  // assets\n  components: mergeObjectOptions,\n  directives: mergeObjectOptions,\n  // watch\n  watch: mergeWatchOptions,\n  // provide / inject\n  provide: mergeDataFn,\n  inject: mergeInject\n};\nfunction mergeDataFn(to, from) {\n  if (!from) {\n    return to;\n  }\n  if (!to) {\n    return from;\n  }\n  return function mergedDataFn() {\n    return (extend)(\n      isFunction(to) ? to.call(this, this) : to,\n      isFunction(from) ? from.call(this, this) : from\n    );\n  };\n}\nfunction mergeInject(to, from) {\n  return mergeObjectOptions(normalizeInject(to), normalizeInject(from));\n}\nfunction normalizeInject(raw) {\n  if (isArray(raw)) {\n    const res = {};\n    for (let i = 0; i < raw.length; i++) {\n      res[raw[i]] = raw[i];\n    }\n    return res;\n  }\n  return raw;\n}\nfunction mergeAsArray(to, from) {\n  return to ? [...new Set([].concat(to, from))] : from;\n}\nfunction mergeObjectOptions(to, from) {\n  return to ? extend(/* @__PURE__ */ Object.create(null), to, from) : from;\n}\nfunction mergeEmitsOrPropsOptions(to, from) {\n  if (to) {\n    if (isArray(to) && isArray(from)) {\n      return [.../* @__PURE__ */ new Set([...to, ...from])];\n    }\n    return extend(\n      /* @__PURE__ */ Object.create(null),\n      normalizePropsOrEmits(to),\n      normalizePropsOrEmits(from != null ? from : {})\n    );\n  } else {\n    return from;\n  }\n}\nfunction mergeWatchOptions(to, from) {\n  if (!to)\n    return from;\n  if (!from)\n    return to;\n  const merged = extend(/* @__PURE__ */ Object.create(null), to);\n  for (const key in from) {\n    merged[key] = mergeAsArray(to[key], from[key]);\n  }\n  return merged;\n}\n\nfunction createAppContext() {\n  return {\n    app: null,\n    config: {\n      isNativeTag: NO,\n      performance: false,\n      globalProperties: {},\n      optionMergeStrategies: {},\n      errorHandler: void 0,\n      warnHandler: void 0,\n      compilerOptions: {}\n    },\n    mixins: [],\n    components: {},\n    directives: {},\n    provides: /* @__PURE__ */ Object.create(null),\n    optionsCache: /* @__PURE__ */ new WeakMap(),\n    propsCache: /* @__PURE__ */ new WeakMap(),\n    emitsCache: /* @__PURE__ */ new WeakMap()\n  };\n}\nlet uid$1 = 0;\nfunction createAppAPI(render, hydrate) {\n  return function createApp(rootComponent, rootProps = null) {\n    if (!isFunction(rootComponent)) {\n      rootComponent = extend({}, rootComponent);\n    }\n    if (rootProps != null && !isObject(rootProps)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`root props passed to app.mount() must be an object.`);\n      rootProps = null;\n    }\n    const context = createAppContext();\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      Object.defineProperty(context.config, \"unwrapInjectedRef\", {\n        get() {\n          return true;\n        },\n        set() {\n          warn(\n            `app.config.unwrapInjectedRef has been deprecated. 3.3 now alawys unwraps injected refs in Options API.`\n          );\n        }\n      });\n    }\n    const installedPlugins = /* @__PURE__ */ new Set();\n    let isMounted = false;\n    const app = context.app = {\n      _uid: uid$1++,\n      _component: rootComponent,\n      _props: rootProps,\n      _container: null,\n      _context: context,\n      _instance: null,\n      version,\n      get config() {\n        return context.config;\n      },\n      set config(v) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\n            `app.config cannot be replaced. Modify individual options instead.`\n          );\n        }\n      },\n      use(plugin, ...options) {\n        if (installedPlugins.has(plugin)) {\n          !!(process.env.NODE_ENV !== \"production\") && warn(`Plugin has already been applied to target app.`);\n        } else if (plugin && isFunction(plugin.install)) {\n          installedPlugins.add(plugin);\n          plugin.install(app, ...options);\n        } else if (isFunction(plugin)) {\n          installedPlugins.add(plugin);\n          plugin(app, ...options);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\n            `A plugin must either be a function or an object with an \"install\" function.`\n          );\n        }\n        return app;\n      },\n      mixin(mixin) {\n        if (__VUE_OPTIONS_API__) {\n          if (!context.mixins.includes(mixin)) {\n            context.mixins.push(mixin);\n          } else if (!!(process.env.NODE_ENV !== \"production\")) {\n            warn(\n              \"Mixin has already been applied to target app\" + (mixin.name ? `: ${mixin.name}` : \"\")\n            );\n          }\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\"Mixins are only available in builds supporting Options API\");\n        }\n        return app;\n      },\n      component(name, component) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          validateComponentName(name, context.config);\n        }\n        if (!component) {\n          return context.components[name];\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") && context.components[name]) {\n          warn(`Component \"${name}\" has already been registered in target app.`);\n        }\n        context.components[name] = component;\n        return app;\n      },\n      directive(name, directive) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          validateDirectiveName(name);\n        }\n        if (!directive) {\n          return context.directives[name];\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") && context.directives[name]) {\n          warn(`Directive \"${name}\" has already been registered in target app.`);\n        }\n        context.directives[name] = directive;\n        return app;\n      },\n      mount(rootContainer, isHydrate, isSVG) {\n        if (!isMounted) {\n          if (!!(process.env.NODE_ENV !== \"production\") && rootContainer.__vue_app__) {\n            warn(\n              `There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling \\`app.unmount()\\` first.`\n            );\n          }\n          const vnode = createVNode(\n            rootComponent,\n            rootProps\n          );\n          vnode.appContext = context;\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            context.reload = () => {\n              render(cloneVNode(vnode), rootContainer, isSVG);\n            };\n          }\n          if (isHydrate && hydrate) {\n            hydrate(vnode, rootContainer);\n          } else {\n            render(vnode, rootContainer, isSVG);\n          }\n          isMounted = true;\n          app._container = rootContainer;\n          rootContainer.__vue_app__ = app;\n          if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n            app._instance = vnode.component;\n            devtoolsInitApp(app, version);\n          }\n          return getExposeProxy(vnode.component) || vnode.component.proxy;\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\n            `App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. \\`const createMyApp = () => createApp(App)\\``\n          );\n        }\n      },\n      unmount() {\n        if (isMounted) {\n          render(null, app._container);\n          if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n            app._instance = null;\n            devtoolsUnmountApp(app);\n          }\n          delete app._container.__vue_app__;\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(`Cannot unmount an app that is not mounted.`);\n        }\n      },\n      provide(key, value) {\n        if (!!(process.env.NODE_ENV !== \"production\") && key in context.provides) {\n          warn(\n            `App already provides property with key \"${String(key)}\". It will be overwritten with the new value.`\n          );\n        }\n        context.provides[key] = value;\n        return app;\n      },\n      runWithContext(fn) {\n        currentApp = app;\n        try {\n          return fn();\n        } finally {\n          currentApp = null;\n        }\n      }\n    };\n    return app;\n  };\n}\nlet currentApp = null;\n\nfunction provide(key, value) {\n  if (!currentInstance) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`provide() can only be used inside setup().`);\n    }\n  } else {\n    let provides = currentInstance.provides;\n    const parentProvides = currentInstance.parent && currentInstance.parent.provides;\n    if (parentProvides === provides) {\n      provides = currentInstance.provides = Object.create(parentProvides);\n    }\n    provides[key] = value;\n  }\n}\nfunction inject(key, defaultValue, treatDefaultAsFactory = false) {\n  const instance = currentInstance || currentRenderingInstance;\n  if (instance || currentApp) {\n    const provides = instance ? instance.parent == null ? instance.vnode.appContext && instance.vnode.appContext.provides : instance.parent.provides : currentApp._context.provides;\n    if (provides && key in provides) {\n      return provides[key];\n    } else if (arguments.length > 1) {\n      return treatDefaultAsFactory && isFunction(defaultValue) ? defaultValue.call(instance && instance.proxy) : defaultValue;\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`injection \"${String(key)}\" not found.`);\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(`inject() can only be used inside setup() or functional components.`);\n  }\n}\nfunction hasInjectionContext() {\n  return !!(currentInstance || currentRenderingInstance || currentApp);\n}\n\nfunction initProps(instance, rawProps, isStateful, isSSR = false) {\n  const props = {};\n  const attrs = {};\n  def(attrs, InternalObjectKey, 1);\n  instance.propsDefaults = /* @__PURE__ */ Object.create(null);\n  setFullProps(instance, rawProps, props, attrs);\n  for (const key in instance.propsOptions[0]) {\n    if (!(key in props)) {\n      props[key] = void 0;\n    }\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    validateProps(rawProps || {}, props, instance);\n  }\n  if (isStateful) {\n    instance.props = isSSR ? props : shallowReactive(props);\n  } else {\n    if (!instance.type.props) {\n      instance.props = attrs;\n    } else {\n      instance.props = props;\n    }\n  }\n  instance.attrs = attrs;\n}\nfunction isInHmrContext(instance) {\n  while (instance) {\n    if (instance.type.__hmrId)\n      return true;\n    instance = instance.parent;\n  }\n}\nfunction updateProps(instance, rawProps, rawPrevProps, optimized) {\n  const {\n    props,\n    attrs,\n    vnode: { patchFlag }\n  } = instance;\n  const rawCurrentProps = toRaw(props);\n  const [options] = instance.propsOptions;\n  let hasAttrsChanged = false;\n  if (\n    // always force full diff in dev\n    // - #1942 if hmr is enabled with sfc component\n    // - vite#872 non-sfc component used by sfc component\n    !(!!(process.env.NODE_ENV !== \"production\") && isInHmrContext(instance)) && (optimized || patchFlag > 0) && !(patchFlag & 16)\n  ) {\n    if (patchFlag & 8) {\n      const propsToUpdate = instance.vnode.dynamicProps;\n      for (let i = 0; i < propsToUpdate.length; i++) {\n        let key = propsToUpdate[i];\n        if (isEmitListener(instance.emitsOptions, key)) {\n          continue;\n        }\n        const value = rawProps[key];\n        if (options) {\n          if (hasOwn(attrs, key)) {\n            if (value !== attrs[key]) {\n              attrs[key] = value;\n              hasAttrsChanged = true;\n            }\n          } else {\n            const camelizedKey = camelize(key);\n            props[camelizedKey] = resolvePropValue(\n              options,\n              rawCurrentProps,\n              camelizedKey,\n              value,\n              instance,\n              false\n              /* isAbsent */\n            );\n          }\n        } else {\n          if (value !== attrs[key]) {\n            attrs[key] = value;\n            hasAttrsChanged = true;\n          }\n        }\n      }\n    }\n  } else {\n    if (setFullProps(instance, rawProps, props, attrs)) {\n      hasAttrsChanged = true;\n    }\n    let kebabKey;\n    for (const key in rawCurrentProps) {\n      if (!rawProps || // for camelCase\n      !hasOwn(rawProps, key) && // it's possible the original props was passed in as kebab-case\n      // and converted to camelCase (#955)\n      ((kebabKey = hyphenate(key)) === key || !hasOwn(rawProps, kebabKey))) {\n        if (options) {\n          if (rawPrevProps && // for camelCase\n          (rawPrevProps[key] !== void 0 || // for kebab-case\n          rawPrevProps[kebabKey] !== void 0)) {\n            props[key] = resolvePropValue(\n              options,\n              rawCurrentProps,\n              key,\n              void 0,\n              instance,\n              true\n              /* isAbsent */\n            );\n          }\n        } else {\n          delete props[key];\n        }\n      }\n    }\n    if (attrs !== rawCurrentProps) {\n      for (const key in attrs) {\n        if (!rawProps || !hasOwn(rawProps, key) && true) {\n          delete attrs[key];\n          hasAttrsChanged = true;\n        }\n      }\n    }\n  }\n  if (hasAttrsChanged) {\n    trigger(instance, \"set\", \"$attrs\");\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    validateProps(rawProps || {}, props, instance);\n  }\n}\nfunction setFullProps(instance, rawProps, props, attrs) {\n  const [options, needCastKeys] = instance.propsOptions;\n  let hasAttrsChanged = false;\n  let rawCastValues;\n  if (rawProps) {\n    for (let key in rawProps) {\n      if (isReservedProp(key)) {\n        continue;\n      }\n      const value = rawProps[key];\n      let camelKey;\n      if (options && hasOwn(options, camelKey = camelize(key))) {\n        if (!needCastKeys || !needCastKeys.includes(camelKey)) {\n          props[camelKey] = value;\n        } else {\n          (rawCastValues || (rawCastValues = {}))[camelKey] = value;\n        }\n      } else if (!isEmitListener(instance.emitsOptions, key)) {\n        if (!(key in attrs) || value !== attrs[key]) {\n          attrs[key] = value;\n          hasAttrsChanged = true;\n        }\n      }\n    }\n  }\n  if (needCastKeys) {\n    const rawCurrentProps = toRaw(props);\n    const castValues = rawCastValues || EMPTY_OBJ;\n    for (let i = 0; i < needCastKeys.length; i++) {\n      const key = needCastKeys[i];\n      props[key] = resolvePropValue(\n        options,\n        rawCurrentProps,\n        key,\n        castValues[key],\n        instance,\n        !hasOwn(castValues, key)\n      );\n    }\n  }\n  return hasAttrsChanged;\n}\nfunction resolvePropValue(options, props, key, value, instance, isAbsent) {\n  const opt = options[key];\n  if (opt != null) {\n    const hasDefault = hasOwn(opt, \"default\");\n    if (hasDefault && value === void 0) {\n      const defaultValue = opt.default;\n      if (opt.type !== Function && !opt.skipFactory && isFunction(defaultValue)) {\n        const { propsDefaults } = instance;\n        if (key in propsDefaults) {\n          value = propsDefaults[key];\n        } else {\n          setCurrentInstance(instance);\n          value = propsDefaults[key] = defaultValue.call(\n            null,\n            props\n          );\n          unsetCurrentInstance();\n        }\n      } else {\n        value = defaultValue;\n      }\n    }\n    if (opt[0 /* shouldCast */]) {\n      if (isAbsent && !hasDefault) {\n        value = false;\n      } else if (opt[1 /* shouldCastTrue */] && (value === \"\" || value === hyphenate(key))) {\n        value = true;\n      }\n    }\n  }\n  return value;\n}\nfunction normalizePropsOptions(comp, appContext, asMixin = false) {\n  const cache = appContext.propsCache;\n  const cached = cache.get(comp);\n  if (cached) {\n    return cached;\n  }\n  const raw = comp.props;\n  const normalized = {};\n  const needCastKeys = [];\n  let hasExtends = false;\n  if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\n    const extendProps = (raw2) => {\n      hasExtends = true;\n      const [props, keys] = normalizePropsOptions(raw2, appContext, true);\n      extend(normalized, props);\n      if (keys)\n        needCastKeys.push(...keys);\n    };\n    if (!asMixin && appContext.mixins.length) {\n      appContext.mixins.forEach(extendProps);\n    }\n    if (comp.extends) {\n      extendProps(comp.extends);\n    }\n    if (comp.mixins) {\n      comp.mixins.forEach(extendProps);\n    }\n  }\n  if (!raw && !hasExtends) {\n    if (isObject(comp)) {\n      cache.set(comp, EMPTY_ARR);\n    }\n    return EMPTY_ARR;\n  }\n  if (isArray(raw)) {\n    for (let i = 0; i < raw.length; i++) {\n      if (!!(process.env.NODE_ENV !== \"production\") && !isString(raw[i])) {\n        warn(`props must be strings when using array syntax.`, raw[i]);\n      }\n      const normalizedKey = camelize(raw[i]);\n      if (validatePropName(normalizedKey)) {\n        normalized[normalizedKey] = EMPTY_OBJ;\n      }\n    }\n  } else if (raw) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isObject(raw)) {\n      warn(`invalid props options`, raw);\n    }\n    for (const key in raw) {\n      const normalizedKey = camelize(key);\n      if (validatePropName(normalizedKey)) {\n        const opt = raw[key];\n        const prop = normalized[normalizedKey] = isArray(opt) || isFunction(opt) ? { type: opt } : extend({}, opt);\n        if (prop) {\n          const booleanIndex = getTypeIndex(Boolean, prop.type);\n          const stringIndex = getTypeIndex(String, prop.type);\n          prop[0 /* shouldCast */] = booleanIndex > -1;\n          prop[1 /* shouldCastTrue */] = stringIndex < 0 || booleanIndex < stringIndex;\n          if (booleanIndex > -1 || hasOwn(prop, \"default\")) {\n            needCastKeys.push(normalizedKey);\n          }\n        }\n      }\n    }\n  }\n  const res = [normalized, needCastKeys];\n  if (isObject(comp)) {\n    cache.set(comp, res);\n  }\n  return res;\n}\nfunction validatePropName(key) {\n  if (key[0] !== \"$\") {\n    return true;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(`Invalid prop name: \"${key}\" is a reserved property.`);\n  }\n  return false;\n}\nfunction getType(ctor) {\n  const match = ctor && ctor.toString().match(/^\\s*(function|class) (\\w+)/);\n  return match ? match[2] : ctor === null ? \"null\" : \"\";\n}\nfunction isSameType(a, b) {\n  return getType(a) === getType(b);\n}\nfunction getTypeIndex(type, expectedTypes) {\n  if (isArray(expectedTypes)) {\n    return expectedTypes.findIndex((t) => isSameType(t, type));\n  } else if (isFunction(expectedTypes)) {\n    return isSameType(expectedTypes, type) ? 0 : -1;\n  }\n  return -1;\n}\nfunction validateProps(rawProps, props, instance) {\n  const resolvedValues = toRaw(props);\n  const options = instance.propsOptions[0];\n  for (const key in options) {\n    let opt = options[key];\n    if (opt == null)\n      continue;\n    validateProp(\n      key,\n      resolvedValues[key],\n      opt,\n      !hasOwn(rawProps, key) && !hasOwn(rawProps, hyphenate(key))\n    );\n  }\n}\nfunction validateProp(name, value, prop, isAbsent) {\n  const { type, required, validator, skipCheck } = prop;\n  if (required && isAbsent) {\n    warn('Missing required prop: \"' + name + '\"');\n    return;\n  }\n  if (value == null && !required) {\n    return;\n  }\n  if (type != null && type !== true && !skipCheck) {\n    let isValid = false;\n    const types = isArray(type) ? type : [type];\n    const expectedTypes = [];\n    for (let i = 0; i < types.length && !isValid; i++) {\n      const { valid, expectedType } = assertType(value, types[i]);\n      expectedTypes.push(expectedType || \"\");\n      isValid = valid;\n    }\n    if (!isValid) {\n      warn(getInvalidTypeMessage(name, value, expectedTypes));\n      return;\n    }\n  }\n  if (validator && !validator(value)) {\n    warn('Invalid prop: custom validator check failed for prop \"' + name + '\".');\n  }\n}\nconst isSimpleType = /* @__PURE__ */ makeMap(\n  \"String,Number,Boolean,Function,Symbol,BigInt\"\n);\nfunction assertType(value, type) {\n  let valid;\n  const expectedType = getType(type);\n  if (isSimpleType(expectedType)) {\n    const t = typeof value;\n    valid = t === expectedType.toLowerCase();\n    if (!valid && t === \"object\") {\n      valid = value instanceof type;\n    }\n  } else if (expectedType === \"Object\") {\n    valid = isObject(value);\n  } else if (expectedType === \"Array\") {\n    valid = isArray(value);\n  } else if (expectedType === \"null\") {\n    valid = value === null;\n  } else {\n    valid = value instanceof type;\n  }\n  return {\n    valid,\n    expectedType\n  };\n}\nfunction getInvalidTypeMessage(name, value, expectedTypes) {\n  let message = `Invalid prop: type check failed for prop \"${name}\". Expected ${expectedTypes.map(capitalize).join(\" | \")}`;\n  const expectedType = expectedTypes[0];\n  const receivedType = toRawType(value);\n  const expectedValue = styleValue(value, expectedType);\n  const receivedValue = styleValue(value, receivedType);\n  if (expectedTypes.length === 1 && isExplicable(expectedType) && !isBoolean(expectedType, receivedType)) {\n    message += ` with value ${expectedValue}`;\n  }\n  message += `, got ${receivedType} `;\n  if (isExplicable(receivedType)) {\n    message += `with value ${receivedValue}.`;\n  }\n  return message;\n}\nfunction styleValue(value, type) {\n  if (type === \"String\") {\n    return `\"${value}\"`;\n  } else if (type === \"Number\") {\n    return `${Number(value)}`;\n  } else {\n    return `${value}`;\n  }\n}\nfunction isExplicable(type) {\n  const explicitTypes = [\"string\", \"number\", \"boolean\"];\n  return explicitTypes.some((elem) => type.toLowerCase() === elem);\n}\nfunction isBoolean(...args) {\n  return args.some((elem) => elem.toLowerCase() === \"boolean\");\n}\n\nconst isInternalKey = (key) => key[0] === \"_\" || key === \"$stable\";\nconst normalizeSlotValue = (value) => isArray(value) ? value.map(normalizeVNode) : [normalizeVNode(value)];\nconst normalizeSlot = (key, rawSlot, ctx) => {\n  if (rawSlot._n) {\n    return rawSlot;\n  }\n  const normalized = withCtx((...args) => {\n    if (!!(process.env.NODE_ENV !== \"production\") && currentInstance) {\n      warn(\n        `Slot \"${key}\" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`\n      );\n    }\n    return normalizeSlotValue(rawSlot(...args));\n  }, ctx);\n  normalized._c = false;\n  return normalized;\n};\nconst normalizeObjectSlots = (rawSlots, slots, instance) => {\n  const ctx = rawSlots._ctx;\n  for (const key in rawSlots) {\n    if (isInternalKey(key))\n      continue;\n    const value = rawSlots[key];\n    if (isFunction(value)) {\n      slots[key] = normalizeSlot(key, value, ctx);\n    } else if (value != null) {\n      if (!!(process.env.NODE_ENV !== \"production\") && true) {\n        warn(\n          `Non-function value encountered for slot \"${key}\". Prefer function slots for better performance.`\n        );\n      }\n      const normalized = normalizeSlotValue(value);\n      slots[key] = () => normalized;\n    }\n  }\n};\nconst normalizeVNodeSlots = (instance, children) => {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isKeepAlive(instance.vnode) && true) {\n    warn(\n      `Non-function value encountered for default slot. Prefer function slots for better performance.`\n    );\n  }\n  const normalized = normalizeSlotValue(children);\n  instance.slots.default = () => normalized;\n};\nconst initSlots = (instance, children) => {\n  if (instance.vnode.shapeFlag & 32) {\n    const type = children._;\n    if (type) {\n      instance.slots = toRaw(children);\n      def(children, \"_\", type);\n    } else {\n      normalizeObjectSlots(\n        children,\n        instance.slots = {});\n    }\n  } else {\n    instance.slots = {};\n    if (children) {\n      normalizeVNodeSlots(instance, children);\n    }\n  }\n  def(instance.slots, InternalObjectKey, 1);\n};\nconst updateSlots = (instance, children, optimized) => {\n  const { vnode, slots } = instance;\n  let needDeletionCheck = true;\n  let deletionComparisonTarget = EMPTY_OBJ;\n  if (vnode.shapeFlag & 32) {\n    const type = children._;\n    if (type) {\n      if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n        extend(slots, children);\n        trigger(instance, \"set\", \"$slots\");\n      } else if (optimized && type === 1) {\n        needDeletionCheck = false;\n      } else {\n        extend(slots, children);\n        if (!optimized && type === 1) {\n          delete slots._;\n        }\n      }\n    } else {\n      needDeletionCheck = !children.$stable;\n      normalizeObjectSlots(children, slots);\n    }\n    deletionComparisonTarget = children;\n  } else if (children) {\n    normalizeVNodeSlots(instance, children);\n    deletionComparisonTarget = { default: 1 };\n  }\n  if (needDeletionCheck) {\n    for (const key in slots) {\n      if (!isInternalKey(key) && !(key in deletionComparisonTarget)) {\n        delete slots[key];\n      }\n    }\n  }\n};\n\nfunction setRef(rawRef, oldRawRef, parentSuspense, vnode, isUnmount = false) {\n  if (isArray(rawRef)) {\n    rawRef.forEach(\n      (r, i) => setRef(\n        r,\n        oldRawRef && (isArray(oldRawRef) ? oldRawRef[i] : oldRawRef),\n        parentSuspense,\n        vnode,\n        isUnmount\n      )\n    );\n    return;\n  }\n  if (isAsyncWrapper(vnode) && !isUnmount) {\n    return;\n  }\n  const refValue = vnode.shapeFlag & 4 ? getExposeProxy(vnode.component) || vnode.component.proxy : vnode.el;\n  const value = isUnmount ? null : refValue;\n  const { i: owner, r: ref } = rawRef;\n  if (!!(process.env.NODE_ENV !== \"production\") && !owner) {\n    warn(\n      `Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.`\n    );\n    return;\n  }\n  const oldRef = oldRawRef && oldRawRef.r;\n  const refs = owner.refs === EMPTY_OBJ ? owner.refs = {} : owner.refs;\n  const setupState = owner.setupState;\n  if (oldRef != null && oldRef !== ref) {\n    if (isString(oldRef)) {\n      refs[oldRef] = null;\n      if (hasOwn(setupState, oldRef)) {\n        setupState[oldRef] = null;\n      }\n    } else if (isRef(oldRef)) {\n      oldRef.value = null;\n    }\n  }\n  if (isFunction(ref)) {\n    callWithErrorHandling(ref, owner, 12, [value, refs]);\n  } else {\n    const _isString = isString(ref);\n    const _isRef = isRef(ref);\n    if (_isString || _isRef) {\n      const doSet = () => {\n        if (rawRef.f) {\n          const existing = _isString ? hasOwn(setupState, ref) ? setupState[ref] : refs[ref] : ref.value;\n          if (isUnmount) {\n            isArray(existing) && remove(existing, refValue);\n          } else {\n            if (!isArray(existing)) {\n              if (_isString) {\n                refs[ref] = [refValue];\n                if (hasOwn(setupState, ref)) {\n                  setupState[ref] = refs[ref];\n                }\n              } else {\n                ref.value = [refValue];\n                if (rawRef.k)\n                  refs[rawRef.k] = ref.value;\n              }\n            } else if (!existing.includes(refValue)) {\n              existing.push(refValue);\n            }\n          }\n        } else if (_isString) {\n          refs[ref] = value;\n          if (hasOwn(setupState, ref)) {\n            setupState[ref] = value;\n          }\n        } else if (_isRef) {\n          ref.value = value;\n          if (rawRef.k)\n            refs[rawRef.k] = value;\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\"Invalid template ref type:\", ref, `(${typeof ref})`);\n        }\n      };\n      if (value) {\n        doSet.id = -1;\n        queuePostRenderEffect(doSet, parentSuspense);\n      } else {\n        doSet();\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\"Invalid template ref type:\", ref, `(${typeof ref})`);\n    }\n  }\n}\n\nlet hasMismatch = false;\nconst isSVGContainer = (container) => /svg/.test(container.namespaceURI) && container.tagName !== \"foreignObject\";\nconst isComment = (node) => node.nodeType === 8 /* COMMENT */;\nfunction createHydrationFunctions(rendererInternals) {\n  const {\n    mt: mountComponent,\n    p: patch,\n    o: {\n      patchProp,\n      createText,\n      nextSibling,\n      parentNode,\n      remove,\n      insert,\n      createComment\n    }\n  } = rendererInternals;\n  const hydrate = (vnode, container) => {\n    if (!container.hasChildNodes()) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(\n        `Attempting to hydrate existing markup but container is empty. Performing full mount instead.`\n      );\n      patch(null, vnode, container);\n      flushPostFlushCbs();\n      container._vnode = vnode;\n      return;\n    }\n    hasMismatch = false;\n    hydrateNode(container.firstChild, vnode, null, null, null);\n    flushPostFlushCbs();\n    container._vnode = vnode;\n    if (hasMismatch && true) {\n      console.error(`Hydration completed but contains mismatches.`);\n    }\n  };\n  const hydrateNode = (node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized = false) => {\n    const isFragmentStart = isComment(node) && node.data === \"[\";\n    const onMismatch = () => handleMismatch(\n      node,\n      vnode,\n      parentComponent,\n      parentSuspense,\n      slotScopeIds,\n      isFragmentStart\n    );\n    const { type, ref, shapeFlag, patchFlag } = vnode;\n    let domType = node.nodeType;\n    vnode.el = node;\n    if (patchFlag === -2) {\n      optimized = false;\n      vnode.dynamicChildren = null;\n    }\n    let nextNode = null;\n    switch (type) {\n      case Text:\n        if (domType !== 3 /* TEXT */) {\n          if (vnode.children === \"\") {\n            insert(vnode.el = createText(\"\"), parentNode(node), node);\n            nextNode = node;\n          } else {\n            nextNode = onMismatch();\n          }\n        } else {\n          if (node.data !== vnode.children) {\n            hasMismatch = true;\n            !!(process.env.NODE_ENV !== \"production\") && warn(\n              `Hydration text mismatch:\n- Client: ${JSON.stringify(node.data)}\n- Server: ${JSON.stringify(vnode.children)}`\n            );\n            node.data = vnode.children;\n          }\n          nextNode = nextSibling(node);\n        }\n        break;\n      case Comment:\n        if (domType !== 8 /* COMMENT */ || isFragmentStart) {\n          nextNode = onMismatch();\n        } else {\n          nextNode = nextSibling(node);\n        }\n        break;\n      case Static:\n        if (isFragmentStart) {\n          node = nextSibling(node);\n          domType = node.nodeType;\n        }\n        if (domType === 1 /* ELEMENT */ || domType === 3 /* TEXT */) {\n          nextNode = node;\n          const needToAdoptContent = !vnode.children.length;\n          for (let i = 0; i < vnode.staticCount; i++) {\n            if (needToAdoptContent)\n              vnode.children += nextNode.nodeType === 1 /* ELEMENT */ ? nextNode.outerHTML : nextNode.data;\n            if (i === vnode.staticCount - 1) {\n              vnode.anchor = nextNode;\n            }\n            nextNode = nextSibling(nextNode);\n          }\n          return isFragmentStart ? nextSibling(nextNode) : nextNode;\n        } else {\n          onMismatch();\n        }\n        break;\n      case Fragment:\n        if (!isFragmentStart) {\n          nextNode = onMismatch();\n        } else {\n          nextNode = hydrateFragment(\n            node,\n            vnode,\n            parentComponent,\n            parentSuspense,\n            slotScopeIds,\n            optimized\n          );\n        }\n        break;\n      default:\n        if (shapeFlag & 1) {\n          if (domType !== 1 /* ELEMENT */ || vnode.type.toLowerCase() !== node.tagName.toLowerCase()) {\n            nextNode = onMismatch();\n          } else {\n            nextNode = hydrateElement(\n              node,\n              vnode,\n              parentComponent,\n              parentSuspense,\n              slotScopeIds,\n              optimized\n            );\n          }\n        } else if (shapeFlag & 6) {\n          vnode.slotScopeIds = slotScopeIds;\n          const container = parentNode(node);\n          mountComponent(\n            vnode,\n            container,\n            null,\n            parentComponent,\n            parentSuspense,\n            isSVGContainer(container),\n            optimized\n          );\n          nextNode = isFragmentStart ? locateClosingAsyncAnchor(node) : nextSibling(node);\n          if (nextNode && isComment(nextNode) && nextNode.data === \"teleport end\") {\n            nextNode = nextSibling(nextNode);\n          }\n          if (isAsyncWrapper(vnode)) {\n            let subTree;\n            if (isFragmentStart) {\n              subTree = createVNode(Fragment);\n              subTree.anchor = nextNode ? nextNode.previousSibling : container.lastChild;\n            } else {\n              subTree = node.nodeType === 3 ? createTextVNode(\"\") : createVNode(\"div\");\n            }\n            subTree.el = node;\n            vnode.component.subTree = subTree;\n          }\n        } else if (shapeFlag & 64) {\n          if (domType !== 8 /* COMMENT */) {\n            nextNode = onMismatch();\n          } else {\n            nextNode = vnode.type.hydrate(\n              node,\n              vnode,\n              parentComponent,\n              parentSuspense,\n              slotScopeIds,\n              optimized,\n              rendererInternals,\n              hydrateChildren\n            );\n          }\n        } else if (shapeFlag & 128) {\n          nextNode = vnode.type.hydrate(\n            node,\n            vnode,\n            parentComponent,\n            parentSuspense,\n            isSVGContainer(parentNode(node)),\n            slotScopeIds,\n            optimized,\n            rendererInternals,\n            hydrateNode\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\"Invalid HostVNode type:\", type, `(${typeof type})`);\n        }\n    }\n    if (ref != null) {\n      setRef(ref, null, parentSuspense, vnode);\n    }\n    return nextNode;\n  };\n  const hydrateElement = (el, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    optimized = optimized || !!vnode.dynamicChildren;\n    const { type, props, patchFlag, shapeFlag, dirs } = vnode;\n    const forcePatchValue = type === \"input\" && dirs || type === \"option\";\n    if (!!(process.env.NODE_ENV !== \"production\") || forcePatchValue || patchFlag !== -1) {\n      if (dirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"created\");\n      }\n      if (props) {\n        if (forcePatchValue || !optimized || patchFlag & (16 | 32)) {\n          for (const key in props) {\n            if (forcePatchValue && key.endsWith(\"value\") || isOn(key) && !isReservedProp(key)) {\n              patchProp(\n                el,\n                key,\n                null,\n                props[key],\n                false,\n                void 0,\n                parentComponent\n              );\n            }\n          }\n        } else if (props.onClick) {\n          patchProp(\n            el,\n            \"onClick\",\n            null,\n            props.onClick,\n            false,\n            void 0,\n            parentComponent\n          );\n        }\n      }\n      let vnodeHooks;\n      if (vnodeHooks = props && props.onVnodeBeforeMount) {\n        invokeVNodeHook(vnodeHooks, parentComponent, vnode);\n      }\n      if (dirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"beforeMount\");\n      }\n      if ((vnodeHooks = props && props.onVnodeMounted) || dirs) {\n        queueEffectWithSuspense(() => {\n          vnodeHooks && invokeVNodeHook(vnodeHooks, parentComponent, vnode);\n          dirs && invokeDirectiveHook(vnode, null, parentComponent, \"mounted\");\n        }, parentSuspense);\n      }\n      if (shapeFlag & 16 && // skip if element has innerHTML / textContent\n      !(props && (props.innerHTML || props.textContent))) {\n        let next = hydrateChildren(\n          el.firstChild,\n          vnode,\n          el,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n        let hasWarned = false;\n        while (next) {\n          hasMismatch = true;\n          if (!!(process.env.NODE_ENV !== \"production\") && !hasWarned) {\n            warn(\n              `Hydration children mismatch in <${vnode.type}>: server rendered element contains more child nodes than client vdom.`\n            );\n            hasWarned = true;\n          }\n          const cur = next;\n          next = next.nextSibling;\n          remove(cur);\n        }\n      } else if (shapeFlag & 8) {\n        if (el.textContent !== vnode.children) {\n          hasMismatch = true;\n          !!(process.env.NODE_ENV !== \"production\") && warn(\n            `Hydration text content mismatch in <${vnode.type}>:\n- Client: ${el.textContent}\n- Server: ${vnode.children}`\n          );\n          el.textContent = vnode.children;\n        }\n      }\n    }\n    return el.nextSibling;\n  };\n  const hydrateChildren = (node, parentVNode, container, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    optimized = optimized || !!parentVNode.dynamicChildren;\n    const children = parentVNode.children;\n    const l = children.length;\n    let hasWarned = false;\n    for (let i = 0; i < l; i++) {\n      const vnode = optimized ? children[i] : children[i] = normalizeVNode(children[i]);\n      if (node) {\n        node = hydrateNode(\n          node,\n          vnode,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n      } else if (vnode.type === Text && !vnode.children) {\n        continue;\n      } else {\n        hasMismatch = true;\n        if (!!(process.env.NODE_ENV !== \"production\") && !hasWarned) {\n          warn(\n            `Hydration children mismatch in <${container.tagName.toLowerCase()}>: server rendered element contains fewer child nodes than client vdom.`\n          );\n          hasWarned = true;\n        }\n        patch(\n          null,\n          vnode,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          isSVGContainer(container),\n          slotScopeIds\n        );\n      }\n    }\n    return node;\n  };\n  const hydrateFragment = (node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    const { slotScopeIds: fragmentSlotScopeIds } = vnode;\n    if (fragmentSlotScopeIds) {\n      slotScopeIds = slotScopeIds ? slotScopeIds.concat(fragmentSlotScopeIds) : fragmentSlotScopeIds;\n    }\n    const container = parentNode(node);\n    const next = hydrateChildren(\n      nextSibling(node),\n      vnode,\n      container,\n      parentComponent,\n      parentSuspense,\n      slotScopeIds,\n      optimized\n    );\n    if (next && isComment(next) && next.data === \"]\") {\n      return nextSibling(vnode.anchor = next);\n    } else {\n      hasMismatch = true;\n      insert(vnode.anchor = createComment(`]`), container, next);\n      return next;\n    }\n  };\n  const handleMismatch = (node, vnode, parentComponent, parentSuspense, slotScopeIds, isFragment) => {\n    hasMismatch = true;\n    !!(process.env.NODE_ENV !== \"production\") && warn(\n      `Hydration node mismatch:\n- Client vnode:`,\n      vnode.type,\n      `\n- Server rendered DOM:`,\n      node,\n      node.nodeType === 3 /* TEXT */ ? `(text)` : isComment(node) && node.data === \"[\" ? `(start of fragment)` : ``\n    );\n    vnode.el = null;\n    if (isFragment) {\n      const end = locateClosingAsyncAnchor(node);\n      while (true) {\n        const next2 = nextSibling(node);\n        if (next2 && next2 !== end) {\n          remove(next2);\n        } else {\n          break;\n        }\n      }\n    }\n    const next = nextSibling(node);\n    const container = parentNode(node);\n    remove(node);\n    patch(\n      null,\n      vnode,\n      container,\n      next,\n      parentComponent,\n      parentSuspense,\n      isSVGContainer(container),\n      slotScopeIds\n    );\n    return next;\n  };\n  const locateClosingAsyncAnchor = (node) => {\n    let match = 0;\n    while (node) {\n      node = nextSibling(node);\n      if (node && isComment(node)) {\n        if (node.data === \"[\")\n          match++;\n        if (node.data === \"]\") {\n          if (match === 0) {\n            return nextSibling(node);\n          } else {\n            match--;\n          }\n        }\n      }\n    }\n    return node;\n  };\n  return [hydrate, hydrateNode];\n}\n\nlet supported;\nlet perf;\nfunction startMeasure(instance, type) {\n  if (instance.appContext.config.performance && isSupported()) {\n    perf.mark(`vue-${type}-${instance.uid}`);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsPerfStart(instance, type, isSupported() ? perf.now() : Date.now());\n  }\n}\nfunction endMeasure(instance, type) {\n  if (instance.appContext.config.performance && isSupported()) {\n    const startTag = `vue-${type}-${instance.uid}`;\n    const endTag = startTag + `:end`;\n    perf.mark(endTag);\n    perf.measure(\n      `<${formatComponentName(instance, instance.type)}> ${type}`,\n      startTag,\n      endTag\n    );\n    perf.clearMarks(startTag);\n    perf.clearMarks(endTag);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsPerfEnd(instance, type, isSupported() ? perf.now() : Date.now());\n  }\n}\nfunction isSupported() {\n  if (supported !== void 0) {\n    return supported;\n  }\n  if (typeof window !== \"undefined\" && window.performance) {\n    supported = true;\n    perf = window.performance;\n  } else {\n    supported = false;\n  }\n  return supported;\n}\n\nfunction initFeatureFlags() {\n  const needWarn = [];\n  if (typeof __VUE_OPTIONS_API__ !== \"boolean\") {\n    !!(process.env.NODE_ENV !== \"production\") && needWarn.push(`__VUE_OPTIONS_API__`);\n    getGlobalThis().__VUE_OPTIONS_API__ = true;\n  }\n  if (typeof __VUE_PROD_DEVTOOLS__ !== \"boolean\") {\n    !!(process.env.NODE_ENV !== \"production\") && needWarn.push(`__VUE_PROD_DEVTOOLS__`);\n    getGlobalThis().__VUE_PROD_DEVTOOLS__ = false;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && needWarn.length) {\n    const multi = needWarn.length > 1;\n    console.warn(\n      `Feature flag${multi ? `s` : ``} ${needWarn.join(\", \")} ${multi ? `are` : `is`} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.\n\nFor more details, see https://link.vuejs.org/feature-flags.`\n    );\n  }\n}\n\nconst queuePostRenderEffect = queueEffectWithSuspense ;\nfunction createRenderer(options) {\n  return baseCreateRenderer(options);\n}\nfunction createHydrationRenderer(options) {\n  return baseCreateRenderer(options, createHydrationFunctions);\n}\nfunction baseCreateRenderer(options, createHydrationFns) {\n  {\n    initFeatureFlags();\n  }\n  const target = getGlobalThis();\n  target.__VUE__ = true;\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    setDevtoolsHook(target.__VUE_DEVTOOLS_GLOBAL_HOOK__, target);\n  }\n  const {\n    insert: hostInsert,\n    remove: hostRemove,\n    patchProp: hostPatchProp,\n    createElement: hostCreateElement,\n    createText: hostCreateText,\n    createComment: hostCreateComment,\n    setText: hostSetText,\n    setElementText: hostSetElementText,\n    parentNode: hostParentNode,\n    nextSibling: hostNextSibling,\n    setScopeId: hostSetScopeId = NOOP,\n    insertStaticContent: hostInsertStaticContent\n  } = options;\n  const patch = (n1, n2, container, anchor = null, parentComponent = null, parentSuspense = null, isSVG = false, slotScopeIds = null, optimized = !!(process.env.NODE_ENV !== \"production\") && isHmrUpdating ? false : !!n2.dynamicChildren) => {\n    if (n1 === n2) {\n      return;\n    }\n    if (n1 && !isSameVNodeType(n1, n2)) {\n      anchor = getNextHostNode(n1);\n      unmount(n1, parentComponent, parentSuspense, true);\n      n1 = null;\n    }\n    if (n2.patchFlag === -2) {\n      optimized = false;\n      n2.dynamicChildren = null;\n    }\n    const { type, ref, shapeFlag } = n2;\n    switch (type) {\n      case Text:\n        processText(n1, n2, container, anchor);\n        break;\n      case Comment:\n        processCommentNode(n1, n2, container, anchor);\n        break;\n      case Static:\n        if (n1 == null) {\n          mountStaticNode(n2, container, anchor, isSVG);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          patchStaticNode(n1, n2, container, isSVG);\n        }\n        break;\n      case Fragment:\n        processFragment(\n          n1,\n          n2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        break;\n      default:\n        if (shapeFlag & 1) {\n          processElement(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        } else if (shapeFlag & 6) {\n          processComponent(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        } else if (shapeFlag & 64) {\n          type.process(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized,\n            internals\n          );\n        } else if (shapeFlag & 128) {\n          type.process(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized,\n            internals\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\"Invalid VNode type:\", type, `(${typeof type})`);\n        }\n    }\n    if (ref != null && parentComponent) {\n      setRef(ref, n1 && n1.ref, parentSuspense, n2 || n1, !n2);\n    }\n  };\n  const processText = (n1, n2, container, anchor) => {\n    if (n1 == null) {\n      hostInsert(\n        n2.el = hostCreateText(n2.children),\n        container,\n        anchor\n      );\n    } else {\n      const el = n2.el = n1.el;\n      if (n2.children !== n1.children) {\n        hostSetText(el, n2.children);\n      }\n    }\n  };\n  const processCommentNode = (n1, n2, container, anchor) => {\n    if (n1 == null) {\n      hostInsert(\n        n2.el = hostCreateComment(n2.children || \"\"),\n        container,\n        anchor\n      );\n    } else {\n      n2.el = n1.el;\n    }\n  };\n  const mountStaticNode = (n2, container, anchor, isSVG) => {\n    [n2.el, n2.anchor] = hostInsertStaticContent(\n      n2.children,\n      container,\n      anchor,\n      isSVG,\n      n2.el,\n      n2.anchor\n    );\n  };\n  const patchStaticNode = (n1, n2, container, isSVG) => {\n    if (n2.children !== n1.children) {\n      const anchor = hostNextSibling(n1.anchor);\n      removeStaticNode(n1);\n      [n2.el, n2.anchor] = hostInsertStaticContent(\n        n2.children,\n        container,\n        anchor,\n        isSVG\n      );\n    } else {\n      n2.el = n1.el;\n      n2.anchor = n1.anchor;\n    }\n  };\n  const moveStaticNode = ({ el, anchor }, container, nextSibling) => {\n    let next;\n    while (el && el !== anchor) {\n      next = hostNextSibling(el);\n      hostInsert(el, container, nextSibling);\n      el = next;\n    }\n    hostInsert(anchor, container, nextSibling);\n  };\n  const removeStaticNode = ({ el, anchor }) => {\n    let next;\n    while (el && el !== anchor) {\n      next = hostNextSibling(el);\n      hostRemove(el);\n      el = next;\n    }\n    hostRemove(anchor);\n  };\n  const processElement = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    isSVG = isSVG || n2.type === \"svg\";\n    if (n1 == null) {\n      mountElement(\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n    } else {\n      patchElement(\n        n1,\n        n2,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n    }\n  };\n  const mountElement = (vnode, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    let el;\n    let vnodeHook;\n    const { type, props, shapeFlag, transition, dirs } = vnode;\n    el = vnode.el = hostCreateElement(\n      vnode.type,\n      isSVG,\n      props && props.is,\n      props\n    );\n    if (shapeFlag & 8) {\n      hostSetElementText(el, vnode.children);\n    } else if (shapeFlag & 16) {\n      mountChildren(\n        vnode.children,\n        el,\n        null,\n        parentComponent,\n        parentSuspense,\n        isSVG && type !== \"foreignObject\",\n        slotScopeIds,\n        optimized\n      );\n    }\n    if (dirs) {\n      invokeDirectiveHook(vnode, null, parentComponent, \"created\");\n    }\n    setScopeId(el, vnode, vnode.scopeId, slotScopeIds, parentComponent);\n    if (props) {\n      for (const key in props) {\n        if (key !== \"value\" && !isReservedProp(key)) {\n          hostPatchProp(\n            el,\n            key,\n            null,\n            props[key],\n            isSVG,\n            vnode.children,\n            parentComponent,\n            parentSuspense,\n            unmountChildren\n          );\n        }\n      }\n      if (\"value\" in props) {\n        hostPatchProp(el, \"value\", null, props.value);\n      }\n      if (vnodeHook = props.onVnodeBeforeMount) {\n        invokeVNodeHook(vnodeHook, parentComponent, vnode);\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      Object.defineProperty(el, \"__vnode\", {\n        value: vnode,\n        enumerable: false\n      });\n      Object.defineProperty(el, \"__vueParentComponent\", {\n        value: parentComponent,\n        enumerable: false\n      });\n    }\n    if (dirs) {\n      invokeDirectiveHook(vnode, null, parentComponent, \"beforeMount\");\n    }\n    const needCallTransitionHooks = (!parentSuspense || parentSuspense && !parentSuspense.pendingBranch) && transition && !transition.persisted;\n    if (needCallTransitionHooks) {\n      transition.beforeEnter(el);\n    }\n    hostInsert(el, container, anchor);\n    if ((vnodeHook = props && props.onVnodeMounted) || needCallTransitionHooks || dirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\n        needCallTransitionHooks && transition.enter(el);\n        dirs && invokeDirectiveHook(vnode, null, parentComponent, \"mounted\");\n      }, parentSuspense);\n    }\n  };\n  const setScopeId = (el, vnode, scopeId, slotScopeIds, parentComponent) => {\n    if (scopeId) {\n      hostSetScopeId(el, scopeId);\n    }\n    if (slotScopeIds) {\n      for (let i = 0; i < slotScopeIds.length; i++) {\n        hostSetScopeId(el, slotScopeIds[i]);\n      }\n    }\n    if (parentComponent) {\n      let subTree = parentComponent.subTree;\n      if (!!(process.env.NODE_ENV !== \"production\") && subTree.patchFlag > 0 && subTree.patchFlag & 2048) {\n        subTree = filterSingleRoot(subTree.children) || subTree;\n      }\n      if (vnode === subTree) {\n        const parentVNode = parentComponent.vnode;\n        setScopeId(\n          el,\n          parentVNode,\n          parentVNode.scopeId,\n          parentVNode.slotScopeIds,\n          parentComponent.parent\n        );\n      }\n    }\n  };\n  const mountChildren = (children, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, start = 0) => {\n    for (let i = start; i < children.length; i++) {\n      const child = children[i] = optimized ? cloneIfMounted(children[i]) : normalizeVNode(children[i]);\n      patch(\n        null,\n        child,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n    }\n  };\n  const patchElement = (n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    const el = n2.el = n1.el;\n    let { patchFlag, dynamicChildren, dirs } = n2;\n    patchFlag |= n1.patchFlag & 16;\n    const oldProps = n1.props || EMPTY_OBJ;\n    const newProps = n2.props || EMPTY_OBJ;\n    let vnodeHook;\n    parentComponent && toggleRecurse(parentComponent, false);\n    if (vnodeHook = newProps.onVnodeBeforeUpdate) {\n      invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\n    }\n    if (dirs) {\n      invokeDirectiveHook(n2, n1, parentComponent, \"beforeUpdate\");\n    }\n    parentComponent && toggleRecurse(parentComponent, true);\n    if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n      patchFlag = 0;\n      optimized = false;\n      dynamicChildren = null;\n    }\n    const areChildrenSVG = isSVG && n2.type !== \"foreignObject\";\n    if (dynamicChildren) {\n      patchBlockChildren(\n        n1.dynamicChildren,\n        dynamicChildren,\n        el,\n        parentComponent,\n        parentSuspense,\n        areChildrenSVG,\n        slotScopeIds\n      );\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        traverseStaticChildren(n1, n2);\n      }\n    } else if (!optimized) {\n      patchChildren(\n        n1,\n        n2,\n        el,\n        null,\n        parentComponent,\n        parentSuspense,\n        areChildrenSVG,\n        slotScopeIds,\n        false\n      );\n    }\n    if (patchFlag > 0) {\n      if (patchFlag & 16) {\n        patchProps(\n          el,\n          n2,\n          oldProps,\n          newProps,\n          parentComponent,\n          parentSuspense,\n          isSVG\n        );\n      } else {\n        if (patchFlag & 2) {\n          if (oldProps.class !== newProps.class) {\n            hostPatchProp(el, \"class\", null, newProps.class, isSVG);\n          }\n        }\n        if (patchFlag & 4) {\n          hostPatchProp(el, \"style\", oldProps.style, newProps.style, isSVG);\n        }\n        if (patchFlag & 8) {\n          const propsToUpdate = n2.dynamicProps;\n          for (let i = 0; i < propsToUpdate.length; i++) {\n            const key = propsToUpdate[i];\n            const prev = oldProps[key];\n            const next = newProps[key];\n            if (next !== prev || key === \"value\") {\n              hostPatchProp(\n                el,\n                key,\n                prev,\n                next,\n                isSVG,\n                n1.children,\n                parentComponent,\n                parentSuspense,\n                unmountChildren\n              );\n            }\n          }\n        }\n      }\n      if (patchFlag & 1) {\n        if (n1.children !== n2.children) {\n          hostSetElementText(el, n2.children);\n        }\n      }\n    } else if (!optimized && dynamicChildren == null) {\n      patchProps(\n        el,\n        n2,\n        oldProps,\n        newProps,\n        parentComponent,\n        parentSuspense,\n        isSVG\n      );\n    }\n    if ((vnodeHook = newProps.onVnodeUpdated) || dirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\n        dirs && invokeDirectiveHook(n2, n1, parentComponent, \"updated\");\n      }, parentSuspense);\n    }\n  };\n  const patchBlockChildren = (oldChildren, newChildren, fallbackContainer, parentComponent, parentSuspense, isSVG, slotScopeIds) => {\n    for (let i = 0; i < newChildren.length; i++) {\n      const oldVNode = oldChildren[i];\n      const newVNode = newChildren[i];\n      const container = (\n        // oldVNode may be an errored async setup() component inside Suspense\n        // which will not have a mounted element\n        oldVNode.el && // - In the case of a Fragment, we need to provide the actual parent\n        // of the Fragment itself so it can move its children.\n        (oldVNode.type === Fragment || // - In the case of different nodes, there is going to be a replacement\n        // which also requires the correct parent container\n        !isSameVNodeType(oldVNode, newVNode) || // - In the case of a component, it could contain anything.\n        oldVNode.shapeFlag & (6 | 64)) ? hostParentNode(oldVNode.el) : (\n          // In other cases, the parent container is not actually used so we\n          // just pass the block element here to avoid a DOM parentNode call.\n          fallbackContainer\n        )\n      );\n      patch(\n        oldVNode,\n        newVNode,\n        container,\n        null,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        true\n      );\n    }\n  };\n  const patchProps = (el, vnode, oldProps, newProps, parentComponent, parentSuspense, isSVG) => {\n    if (oldProps !== newProps) {\n      if (oldProps !== EMPTY_OBJ) {\n        for (const key in oldProps) {\n          if (!isReservedProp(key) && !(key in newProps)) {\n            hostPatchProp(\n              el,\n              key,\n              oldProps[key],\n              null,\n              isSVG,\n              vnode.children,\n              parentComponent,\n              parentSuspense,\n              unmountChildren\n            );\n          }\n        }\n      }\n      for (const key in newProps) {\n        if (isReservedProp(key))\n          continue;\n        const next = newProps[key];\n        const prev = oldProps[key];\n        if (next !== prev && key !== \"value\") {\n          hostPatchProp(\n            el,\n            key,\n            prev,\n            next,\n            isSVG,\n            vnode.children,\n            parentComponent,\n            parentSuspense,\n            unmountChildren\n          );\n        }\n      }\n      if (\"value\" in newProps) {\n        hostPatchProp(el, \"value\", oldProps.value, newProps.value);\n      }\n    }\n  };\n  const processFragment = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    const fragmentStartAnchor = n2.el = n1 ? n1.el : hostCreateText(\"\");\n    const fragmentEndAnchor = n2.anchor = n1 ? n1.anchor : hostCreateText(\"\");\n    let { patchFlag, dynamicChildren, slotScopeIds: fragmentSlotScopeIds } = n2;\n    if (!!(process.env.NODE_ENV !== \"production\") && // #5523 dev root fragment may inherit directives\n    (isHmrUpdating || patchFlag & 2048)) {\n      patchFlag = 0;\n      optimized = false;\n      dynamicChildren = null;\n    }\n    if (fragmentSlotScopeIds) {\n      slotScopeIds = slotScopeIds ? slotScopeIds.concat(fragmentSlotScopeIds) : fragmentSlotScopeIds;\n    }\n    if (n1 == null) {\n      hostInsert(fragmentStartAnchor, container, anchor);\n      hostInsert(fragmentEndAnchor, container, anchor);\n      mountChildren(\n        n2.children,\n        container,\n        fragmentEndAnchor,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n    } else {\n      if (patchFlag > 0 && patchFlag & 64 && dynamicChildren && // #2715 the previous fragment could've been a BAILed one as a result\n      // of renderSlot() with no valid children\n      n1.dynamicChildren) {\n        patchBlockChildren(\n          n1.dynamicChildren,\n          dynamicChildren,\n          container,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds\n        );\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          traverseStaticChildren(n1, n2);\n        } else if (\n          // #2080 if the stable fragment has a key, it's a <template v-for> that may\n          //  get moved around. Make sure all root level vnodes inherit el.\n          // #2134 or if it's a component root, it may also get moved around\n          // as the component is being moved.\n          n2.key != null || parentComponent && n2 === parentComponent.subTree\n        ) {\n          traverseStaticChildren(\n            n1,\n            n2,\n            true\n            /* shallow */\n          );\n        }\n      } else {\n        patchChildren(\n          n1,\n          n2,\n          container,\n          fragmentEndAnchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n      }\n    }\n  };\n  const processComponent = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    n2.slotScopeIds = slotScopeIds;\n    if (n1 == null) {\n      if (n2.shapeFlag & 512) {\n        parentComponent.ctx.activate(\n          n2,\n          container,\n          anchor,\n          isSVG,\n          optimized\n        );\n      } else {\n        mountComponent(\n          n2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          optimized\n        );\n      }\n    } else {\n      updateComponent(n1, n2, optimized);\n    }\n  };\n  const mountComponent = (initialVNode, container, anchor, parentComponent, parentSuspense, isSVG, optimized) => {\n    const instance = (initialVNode.component = createComponentInstance(\n      initialVNode,\n      parentComponent,\n      parentSuspense\n    ));\n    if (!!(process.env.NODE_ENV !== \"production\") && instance.type.__hmrId) {\n      registerHMR(instance);\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      pushWarningContext(initialVNode);\n      startMeasure(instance, `mount`);\n    }\n    if (isKeepAlive(initialVNode)) {\n      instance.ctx.renderer = internals;\n    }\n    {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        startMeasure(instance, `init`);\n      }\n      setupComponent(instance);\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        endMeasure(instance, `init`);\n      }\n    }\n    if (instance.asyncDep) {\n      parentSuspense && parentSuspense.registerDep(instance, setupRenderEffect);\n      if (!initialVNode.el) {\n        const placeholder = instance.subTree = createVNode(Comment);\n        processCommentNode(null, placeholder, container, anchor);\n      }\n      return;\n    }\n    setupRenderEffect(\n      instance,\n      initialVNode,\n      container,\n      anchor,\n      parentSuspense,\n      isSVG,\n      optimized\n    );\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      popWarningContext();\n      endMeasure(instance, `mount`);\n    }\n  };\n  const updateComponent = (n1, n2, optimized) => {\n    const instance = n2.component = n1.component;\n    if (shouldUpdateComponent(n1, n2, optimized)) {\n      if (instance.asyncDep && !instance.asyncResolved) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(n2);\n        }\n        updateComponentPreRender(instance, n2, optimized);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n        return;\n      } else {\n        instance.next = n2;\n        invalidateJob(instance.update);\n        instance.update();\n      }\n    } else {\n      n2.el = n1.el;\n      instance.vnode = n2;\n    }\n  };\n  const setupRenderEffect = (instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized) => {\n    const componentUpdateFn = () => {\n      if (!instance.isMounted) {\n        let vnodeHook;\n        const { el, props } = initialVNode;\n        const { bm, m, parent } = instance;\n        const isAsyncWrapperVNode = isAsyncWrapper(initialVNode);\n        toggleRecurse(instance, false);\n        if (bm) {\n          invokeArrayFns(bm);\n        }\n        if (!isAsyncWrapperVNode && (vnodeHook = props && props.onVnodeBeforeMount)) {\n          invokeVNodeHook(vnodeHook, parent, initialVNode);\n        }\n        toggleRecurse(instance, true);\n        if (el && hydrateNode) {\n          const hydrateSubTree = () => {\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              startMeasure(instance, `render`);\n            }\n            instance.subTree = renderComponentRoot(instance);\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              endMeasure(instance, `render`);\n            }\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              startMeasure(instance, `hydrate`);\n            }\n            hydrateNode(\n              el,\n              instance.subTree,\n              instance,\n              parentSuspense,\n              null\n            );\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              endMeasure(instance, `hydrate`);\n            }\n          };\n          if (isAsyncWrapperVNode) {\n            initialVNode.type.__asyncLoader().then(\n              // note: we are moving the render call into an async callback,\n              // which means it won't track dependencies - but it's ok because\n              // a server-rendered async wrapper is already in resolved state\n              // and it will never need to change.\n              () => !instance.isUnmounted && hydrateSubTree()\n            );\n          } else {\n            hydrateSubTree();\n          }\n        } else {\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            startMeasure(instance, `render`);\n          }\n          const subTree = instance.subTree = renderComponentRoot(instance);\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            endMeasure(instance, `render`);\n          }\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            startMeasure(instance, `patch`);\n          }\n          patch(\n            null,\n            subTree,\n            container,\n            anchor,\n            instance,\n            parentSuspense,\n            isSVG\n          );\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            endMeasure(instance, `patch`);\n          }\n          initialVNode.el = subTree.el;\n        }\n        if (m) {\n          queuePostRenderEffect(m, parentSuspense);\n        }\n        if (!isAsyncWrapperVNode && (vnodeHook = props && props.onVnodeMounted)) {\n          const scopedInitialVNode = initialVNode;\n          queuePostRenderEffect(\n            () => invokeVNodeHook(vnodeHook, parent, scopedInitialVNode),\n            parentSuspense\n          );\n        }\n        if (initialVNode.shapeFlag & 256 || parent && isAsyncWrapper(parent.vnode) && parent.vnode.shapeFlag & 256) {\n          instance.a && queuePostRenderEffect(instance.a, parentSuspense);\n        }\n        instance.isMounted = true;\n        if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n          devtoolsComponentAdded(instance);\n        }\n        initialVNode = container = anchor = null;\n      } else {\n        let { next, bu, u, parent, vnode } = instance;\n        let originNext = next;\n        let vnodeHook;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(next || instance.vnode);\n        }\n        toggleRecurse(instance, false);\n        if (next) {\n          next.el = vnode.el;\n          updateComponentPreRender(instance, next, optimized);\n        } else {\n          next = vnode;\n        }\n        if (bu) {\n          invokeArrayFns(bu);\n        }\n        if (vnodeHook = next.props && next.props.onVnodeBeforeUpdate) {\n          invokeVNodeHook(vnodeHook, parent, next, vnode);\n        }\n        toggleRecurse(instance, true);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `render`);\n        }\n        const nextTree = renderComponentRoot(instance);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `render`);\n        }\n        const prevTree = instance.subTree;\n        instance.subTree = nextTree;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `patch`);\n        }\n        patch(\n          prevTree,\n          nextTree,\n          // parent may have changed if it's in a teleport\n          hostParentNode(prevTree.el),\n          // anchor may have changed if it's in a fragment\n          getNextHostNode(prevTree),\n          instance,\n          parentSuspense,\n          isSVG\n        );\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `patch`);\n        }\n        next.el = nextTree.el;\n        if (originNext === null) {\n          updateHOCHostEl(instance, nextTree.el);\n        }\n        if (u) {\n          queuePostRenderEffect(u, parentSuspense);\n        }\n        if (vnodeHook = next.props && next.props.onVnodeUpdated) {\n          queuePostRenderEffect(\n            () => invokeVNodeHook(vnodeHook, parent, next, vnode),\n            parentSuspense\n          );\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n          devtoolsComponentUpdated(instance);\n        }\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n      }\n    };\n    const effect = instance.effect = new ReactiveEffect(\n      componentUpdateFn,\n      () => queueJob(update),\n      instance.scope\n      // track it in component's effect scope\n    );\n    const update = instance.update = () => effect.run();\n    update.id = instance.uid;\n    toggleRecurse(instance, true);\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      effect.onTrack = instance.rtc ? (e) => invokeArrayFns(instance.rtc, e) : void 0;\n      effect.onTrigger = instance.rtg ? (e) => invokeArrayFns(instance.rtg, e) : void 0;\n      update.ownerInstance = instance;\n    }\n    update();\n  };\n  const updateComponentPreRender = (instance, nextVNode, optimized) => {\n    nextVNode.component = instance;\n    const prevProps = instance.vnode.props;\n    instance.vnode = nextVNode;\n    instance.next = null;\n    updateProps(instance, nextVNode.props, prevProps, optimized);\n    updateSlots(instance, nextVNode.children, optimized);\n    pauseTracking();\n    flushPreFlushCbs();\n    resetTracking();\n  };\n  const patchChildren = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized = false) => {\n    const c1 = n1 && n1.children;\n    const prevShapeFlag = n1 ? n1.shapeFlag : 0;\n    const c2 = n2.children;\n    const { patchFlag, shapeFlag } = n2;\n    if (patchFlag > 0) {\n      if (patchFlag & 128) {\n        patchKeyedChildren(\n          c1,\n          c2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        return;\n      } else if (patchFlag & 256) {\n        patchUnkeyedChildren(\n          c1,\n          c2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        return;\n      }\n    }\n    if (shapeFlag & 8) {\n      if (prevShapeFlag & 16) {\n        unmountChildren(c1, parentComponent, parentSuspense);\n      }\n      if (c2 !== c1) {\n        hostSetElementText(container, c2);\n      }\n    } else {\n      if (prevShapeFlag & 16) {\n        if (shapeFlag & 16) {\n          patchKeyedChildren(\n            c1,\n            c2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        } else {\n          unmountChildren(c1, parentComponent, parentSuspense, true);\n        }\n      } else {\n        if (prevShapeFlag & 8) {\n          hostSetElementText(container, \"\");\n        }\n        if (shapeFlag & 16) {\n          mountChildren(\n            c2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        }\n      }\n    }\n  };\n  const patchUnkeyedChildren = (c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    c1 = c1 || EMPTY_ARR;\n    c2 = c2 || EMPTY_ARR;\n    const oldLength = c1.length;\n    const newLength = c2.length;\n    const commonLength = Math.min(oldLength, newLength);\n    let i;\n    for (i = 0; i < commonLength; i++) {\n      const nextChild = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n      patch(\n        c1[i],\n        nextChild,\n        container,\n        null,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n    }\n    if (oldLength > newLength) {\n      unmountChildren(\n        c1,\n        parentComponent,\n        parentSuspense,\n        true,\n        false,\n        commonLength\n      );\n    } else {\n      mountChildren(\n        c2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized,\n        commonLength\n      );\n    }\n  };\n  const patchKeyedChildren = (c1, c2, container, parentAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    let i = 0;\n    const l2 = c2.length;\n    let e1 = c1.length - 1;\n    let e2 = l2 - 1;\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[i];\n      const n2 = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n      if (isSameVNodeType(n1, n2)) {\n        patch(\n          n1,\n          n2,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n      } else {\n        break;\n      }\n      i++;\n    }\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[e1];\n      const n2 = c2[e2] = optimized ? cloneIfMounted(c2[e2]) : normalizeVNode(c2[e2]);\n      if (isSameVNodeType(n1, n2)) {\n        patch(\n          n1,\n          n2,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n      } else {\n        break;\n      }\n      e1--;\n      e2--;\n    }\n    if (i > e1) {\n      if (i <= e2) {\n        const nextPos = e2 + 1;\n        const anchor = nextPos < l2 ? c2[nextPos].el : parentAnchor;\n        while (i <= e2) {\n          patch(\n            null,\n            c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]),\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n          i++;\n        }\n      }\n    } else if (i > e2) {\n      while (i <= e1) {\n        unmount(c1[i], parentComponent, parentSuspense, true);\n        i++;\n      }\n    } else {\n      const s1 = i;\n      const s2 = i;\n      const keyToNewIndexMap = /* @__PURE__ */ new Map();\n      for (i = s2; i <= e2; i++) {\n        const nextChild = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n        if (nextChild.key != null) {\n          if (!!(process.env.NODE_ENV !== \"production\") && keyToNewIndexMap.has(nextChild.key)) {\n            warn(\n              `Duplicate keys found during update:`,\n              JSON.stringify(nextChild.key),\n              `Make sure keys are unique.`\n            );\n          }\n          keyToNewIndexMap.set(nextChild.key, i);\n        }\n      }\n      let j;\n      let patched = 0;\n      const toBePatched = e2 - s2 + 1;\n      let moved = false;\n      let maxNewIndexSoFar = 0;\n      const newIndexToOldIndexMap = new Array(toBePatched);\n      for (i = 0; i < toBePatched; i++)\n        newIndexToOldIndexMap[i] = 0;\n      for (i = s1; i <= e1; i++) {\n        const prevChild = c1[i];\n        if (patched >= toBePatched) {\n          unmount(prevChild, parentComponent, parentSuspense, true);\n          continue;\n        }\n        let newIndex;\n        if (prevChild.key != null) {\n          newIndex = keyToNewIndexMap.get(prevChild.key);\n        } else {\n          for (j = s2; j <= e2; j++) {\n            if (newIndexToOldIndexMap[j - s2] === 0 && isSameVNodeType(prevChild, c2[j])) {\n              newIndex = j;\n              break;\n            }\n          }\n        }\n        if (newIndex === void 0) {\n          unmount(prevChild, parentComponent, parentSuspense, true);\n        } else {\n          newIndexToOldIndexMap[newIndex - s2] = i + 1;\n          if (newIndex >= maxNewIndexSoFar) {\n            maxNewIndexSoFar = newIndex;\n          } else {\n            moved = true;\n          }\n          patch(\n            prevChild,\n            c2[newIndex],\n            container,\n            null,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n          patched++;\n        }\n      }\n      const increasingNewIndexSequence = moved ? getSequence(newIndexToOldIndexMap) : EMPTY_ARR;\n      j = increasingNewIndexSequence.length - 1;\n      for (i = toBePatched - 1; i >= 0; i--) {\n        const nextIndex = s2 + i;\n        const nextChild = c2[nextIndex];\n        const anchor = nextIndex + 1 < l2 ? c2[nextIndex + 1].el : parentAnchor;\n        if (newIndexToOldIndexMap[i] === 0) {\n          patch(\n            null,\n            nextChild,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        } else if (moved) {\n          if (j < 0 || i !== increasingNewIndexSequence[j]) {\n            move(nextChild, container, anchor, 2);\n          } else {\n            j--;\n          }\n        }\n      }\n    }\n  };\n  const move = (vnode, container, anchor, moveType, parentSuspense = null) => {\n    const { el, type, transition, children, shapeFlag } = vnode;\n    if (shapeFlag & 6) {\n      move(vnode.component.subTree, container, anchor, moveType);\n      return;\n    }\n    if (shapeFlag & 128) {\n      vnode.suspense.move(container, anchor, moveType);\n      return;\n    }\n    if (shapeFlag & 64) {\n      type.move(vnode, container, anchor, internals);\n      return;\n    }\n    if (type === Fragment) {\n      hostInsert(el, container, anchor);\n      for (let i = 0; i < children.length; i++) {\n        move(children[i], container, anchor, moveType);\n      }\n      hostInsert(vnode.anchor, container, anchor);\n      return;\n    }\n    if (type === Static) {\n      moveStaticNode(vnode, container, anchor);\n      return;\n    }\n    const needTransition = moveType !== 2 && shapeFlag & 1 && transition;\n    if (needTransition) {\n      if (moveType === 0) {\n        transition.beforeEnter(el);\n        hostInsert(el, container, anchor);\n        queuePostRenderEffect(() => transition.enter(el), parentSuspense);\n      } else {\n        const { leave, delayLeave, afterLeave } = transition;\n        const remove2 = () => hostInsert(el, container, anchor);\n        const performLeave = () => {\n          leave(el, () => {\n            remove2();\n            afterLeave && afterLeave();\n          });\n        };\n        if (delayLeave) {\n          delayLeave(el, remove2, performLeave);\n        } else {\n          performLeave();\n        }\n      }\n    } else {\n      hostInsert(el, container, anchor);\n    }\n  };\n  const unmount = (vnode, parentComponent, parentSuspense, doRemove = false, optimized = false) => {\n    const {\n      type,\n      props,\n      ref,\n      children,\n      dynamicChildren,\n      shapeFlag,\n      patchFlag,\n      dirs\n    } = vnode;\n    if (ref != null) {\n      setRef(ref, null, parentSuspense, vnode, true);\n    }\n    if (shapeFlag & 256) {\n      parentComponent.ctx.deactivate(vnode);\n      return;\n    }\n    const shouldInvokeDirs = shapeFlag & 1 && dirs;\n    const shouldInvokeVnodeHook = !isAsyncWrapper(vnode);\n    let vnodeHook;\n    if (shouldInvokeVnodeHook && (vnodeHook = props && props.onVnodeBeforeUnmount)) {\n      invokeVNodeHook(vnodeHook, parentComponent, vnode);\n    }\n    if (shapeFlag & 6) {\n      unmountComponent(vnode.component, parentSuspense, doRemove);\n    } else {\n      if (shapeFlag & 128) {\n        vnode.suspense.unmount(parentSuspense, doRemove);\n        return;\n      }\n      if (shouldInvokeDirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"beforeUnmount\");\n      }\n      if (shapeFlag & 64) {\n        vnode.type.remove(\n          vnode,\n          parentComponent,\n          parentSuspense,\n          optimized,\n          internals,\n          doRemove\n        );\n      } else if (dynamicChildren && // #1153: fast path should not be taken for non-stable (v-for) fragments\n      (type !== Fragment || patchFlag > 0 && patchFlag & 64)) {\n        unmountChildren(\n          dynamicChildren,\n          parentComponent,\n          parentSuspense,\n          false,\n          true\n        );\n      } else if (type === Fragment && patchFlag & (128 | 256) || !optimized && shapeFlag & 16) {\n        unmountChildren(children, parentComponent, parentSuspense);\n      }\n      if (doRemove) {\n        remove(vnode);\n      }\n    }\n    if (shouldInvokeVnodeHook && (vnodeHook = props && props.onVnodeUnmounted) || shouldInvokeDirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\n        shouldInvokeDirs && invokeDirectiveHook(vnode, null, parentComponent, \"unmounted\");\n      }, parentSuspense);\n    }\n  };\n  const remove = (vnode) => {\n    const { type, el, anchor, transition } = vnode;\n    if (type === Fragment) {\n      if (!!(process.env.NODE_ENV !== \"production\") && vnode.patchFlag > 0 && vnode.patchFlag & 2048 && transition && !transition.persisted) {\n        vnode.children.forEach((child) => {\n          if (child.type === Comment) {\n            hostRemove(child.el);\n          } else {\n            remove(child);\n          }\n        });\n      } else {\n        removeFragment(el, anchor);\n      }\n      return;\n    }\n    if (type === Static) {\n      removeStaticNode(vnode);\n      return;\n    }\n    const performRemove = () => {\n      hostRemove(el);\n      if (transition && !transition.persisted && transition.afterLeave) {\n        transition.afterLeave();\n      }\n    };\n    if (vnode.shapeFlag & 1 && transition && !transition.persisted) {\n      const { leave, delayLeave } = transition;\n      const performLeave = () => leave(el, performRemove);\n      if (delayLeave) {\n        delayLeave(vnode.el, performRemove, performLeave);\n      } else {\n        performLeave();\n      }\n    } else {\n      performRemove();\n    }\n  };\n  const removeFragment = (cur, end) => {\n    let next;\n    while (cur !== end) {\n      next = hostNextSibling(cur);\n      hostRemove(cur);\n      cur = next;\n    }\n    hostRemove(end);\n  };\n  const unmountComponent = (instance, parentSuspense, doRemove) => {\n    if (!!(process.env.NODE_ENV !== \"production\") && instance.type.__hmrId) {\n      unregisterHMR(instance);\n    }\n    const { bum, scope, update, subTree, um } = instance;\n    if (bum) {\n      invokeArrayFns(bum);\n    }\n    scope.stop();\n    if (update) {\n      update.active = false;\n      unmount(subTree, instance, parentSuspense, doRemove);\n    }\n    if (um) {\n      queuePostRenderEffect(um, parentSuspense);\n    }\n    queuePostRenderEffect(() => {\n      instance.isUnmounted = true;\n    }, parentSuspense);\n    if (parentSuspense && parentSuspense.pendingBranch && !parentSuspense.isUnmounted && instance.asyncDep && !instance.asyncResolved && instance.suspenseId === parentSuspense.pendingId) {\n      parentSuspense.deps--;\n      if (parentSuspense.deps === 0) {\n        parentSuspense.resolve();\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      devtoolsComponentRemoved(instance);\n    }\n  };\n  const unmountChildren = (children, parentComponent, parentSuspense, doRemove = false, optimized = false, start = 0) => {\n    for (let i = start; i < children.length; i++) {\n      unmount(children[i], parentComponent, parentSuspense, doRemove, optimized);\n    }\n  };\n  const getNextHostNode = (vnode) => {\n    if (vnode.shapeFlag & 6) {\n      return getNextHostNode(vnode.component.subTree);\n    }\n    if (vnode.shapeFlag & 128) {\n      return vnode.suspense.next();\n    }\n    return hostNextSibling(vnode.anchor || vnode.el);\n  };\n  const render = (vnode, container, isSVG) => {\n    if (vnode == null) {\n      if (container._vnode) {\n        unmount(container._vnode, null, null, true);\n      }\n    } else {\n      patch(container._vnode || null, vnode, container, null, null, null, isSVG);\n    }\n    flushPreFlushCbs();\n    flushPostFlushCbs();\n    container._vnode = vnode;\n  };\n  const internals = {\n    p: patch,\n    um: unmount,\n    m: move,\n    r: remove,\n    mt: mountComponent,\n    mc: mountChildren,\n    pc: patchChildren,\n    pbc: patchBlockChildren,\n    n: getNextHostNode,\n    o: options\n  };\n  let hydrate;\n  let hydrateNode;\n  if (createHydrationFns) {\n    [hydrate, hydrateNode] = createHydrationFns(\n      internals\n    );\n  }\n  return {\n    render,\n    hydrate,\n    createApp: createAppAPI(render, hydrate)\n  };\n}\nfunction toggleRecurse({ effect, update }, allowed) {\n  effect.allowRecurse = update.allowRecurse = allowed;\n}\nfunction traverseStaticChildren(n1, n2, shallow = false) {\n  const ch1 = n1.children;\n  const ch2 = n2.children;\n  if (isArray(ch1) && isArray(ch2)) {\n    for (let i = 0; i < ch1.length; i++) {\n      const c1 = ch1[i];\n      let c2 = ch2[i];\n      if (c2.shapeFlag & 1 && !c2.dynamicChildren) {\n        if (c2.patchFlag <= 0 || c2.patchFlag === 32) {\n          c2 = ch2[i] = cloneIfMounted(ch2[i]);\n          c2.el = c1.el;\n        }\n        if (!shallow)\n          traverseStaticChildren(c1, c2);\n      }\n      if (c2.type === Text) {\n        c2.el = c1.el;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && c2.type === Comment && !c2.el) {\n        c2.el = c1.el;\n      }\n    }\n  }\n}\nfunction getSequence(arr) {\n  const p = arr.slice();\n  const result = [0];\n  let i, j, u, v, c;\n  const len = arr.length;\n  for (i = 0; i < len; i++) {\n    const arrI = arr[i];\n    if (arrI !== 0) {\n      j = result[result.length - 1];\n      if (arr[j] < arrI) {\n        p[i] = j;\n        result.push(i);\n        continue;\n      }\n      u = 0;\n      v = result.length - 1;\n      while (u < v) {\n        c = u + v >> 1;\n        if (arr[result[c]] < arrI) {\n          u = c + 1;\n        } else {\n          v = c;\n        }\n      }\n      if (arrI < arr[result[u]]) {\n        if (u > 0) {\n          p[i] = result[u - 1];\n        }\n        result[u] = i;\n      }\n    }\n  }\n  u = result.length;\n  v = result[u - 1];\n  while (u-- > 0) {\n    result[u] = v;\n    v = p[v];\n  }\n  return result;\n}\n\nconst isTeleport = (type) => type.__isTeleport;\nconst isTeleportDisabled = (props) => props && (props.disabled || props.disabled === \"\");\nconst isTargetSVG = (target) => typeof SVGElement !== \"undefined\" && target instanceof SVGElement;\nconst resolveTarget = (props, select) => {\n  const targetSelector = props && props.to;\n  if (isString(targetSelector)) {\n    if (!select) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(\n        `Current renderer does not support string target for Teleports. (missing querySelector renderer option)`\n      );\n      return null;\n    } else {\n      const target = select(targetSelector);\n      if (!target) {\n        !!(process.env.NODE_ENV !== \"production\") && warn(\n          `Failed to locate Teleport target with selector \"${targetSelector}\". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`\n        );\n      }\n      return target;\n    }\n  } else {\n    if (!!(process.env.NODE_ENV !== \"production\") && !targetSelector && !isTeleportDisabled(props)) {\n      warn(`Invalid Teleport target: ${targetSelector}`);\n    }\n    return targetSelector;\n  }\n};\nconst TeleportImpl = {\n  __isTeleport: true,\n  process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals) {\n    const {\n      mc: mountChildren,\n      pc: patchChildren,\n      pbc: patchBlockChildren,\n      o: { insert, querySelector, createText, createComment }\n    } = internals;\n    const disabled = isTeleportDisabled(n2.props);\n    let { shapeFlag, children, dynamicChildren } = n2;\n    if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n      optimized = false;\n      dynamicChildren = null;\n    }\n    if (n1 == null) {\n      const placeholder = n2.el = !!(process.env.NODE_ENV !== \"production\") ? createComment(\"teleport start\") : createText(\"\");\n      const mainAnchor = n2.anchor = !!(process.env.NODE_ENV !== \"production\") ? createComment(\"teleport end\") : createText(\"\");\n      insert(placeholder, container, anchor);\n      insert(mainAnchor, container, anchor);\n      const target = n2.target = resolveTarget(n2.props, querySelector);\n      const targetAnchor = n2.targetAnchor = createText(\"\");\n      if (target) {\n        insert(targetAnchor, target);\n        isSVG = isSVG || isTargetSVG(target);\n      } else if (!!(process.env.NODE_ENV !== \"production\") && !disabled) {\n        warn(\"Invalid Teleport target on mount:\", target, `(${typeof target})`);\n      }\n      const mount = (container2, anchor2) => {\n        if (shapeFlag & 16) {\n          mountChildren(\n            children,\n            container2,\n            anchor2,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        }\n      };\n      if (disabled) {\n        mount(container, mainAnchor);\n      } else if (target) {\n        mount(target, targetAnchor);\n      }\n    } else {\n      n2.el = n1.el;\n      const mainAnchor = n2.anchor = n1.anchor;\n      const target = n2.target = n1.target;\n      const targetAnchor = n2.targetAnchor = n1.targetAnchor;\n      const wasDisabled = isTeleportDisabled(n1.props);\n      const currentContainer = wasDisabled ? container : target;\n      const currentAnchor = wasDisabled ? mainAnchor : targetAnchor;\n      isSVG = isSVG || isTargetSVG(target);\n      if (dynamicChildren) {\n        patchBlockChildren(\n          n1.dynamicChildren,\n          dynamicChildren,\n          currentContainer,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds\n        );\n        traverseStaticChildren(n1, n2, true);\n      } else if (!optimized) {\n        patchChildren(\n          n1,\n          n2,\n          currentContainer,\n          currentAnchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          false\n        );\n      }\n      if (disabled) {\n        if (!wasDisabled) {\n          moveTeleport(\n            n2,\n            container,\n            mainAnchor,\n            internals,\n            1\n          );\n        }\n      } else {\n        if ((n2.props && n2.props.to) !== (n1.props && n1.props.to)) {\n          const nextTarget = n2.target = resolveTarget(\n            n2.props,\n            querySelector\n          );\n          if (nextTarget) {\n            moveTeleport(\n              n2,\n              nextTarget,\n              null,\n              internals,\n              0\n            );\n          } else if (!!(process.env.NODE_ENV !== \"production\")) {\n            warn(\n              \"Invalid Teleport target on update:\",\n              target,\n              `(${typeof target})`\n            );\n          }\n        } else if (wasDisabled) {\n          moveTeleport(\n            n2,\n            target,\n            targetAnchor,\n            internals,\n            1\n          );\n        }\n      }\n    }\n    updateCssVars(n2);\n  },\n  remove(vnode, parentComponent, parentSuspense, optimized, { um: unmount, o: { remove: hostRemove } }, doRemove) {\n    const { shapeFlag, children, anchor, targetAnchor, target, props } = vnode;\n    if (target) {\n      hostRemove(targetAnchor);\n    }\n    if (doRemove || !isTeleportDisabled(props)) {\n      hostRemove(anchor);\n      if (shapeFlag & 16) {\n        for (let i = 0; i < children.length; i++) {\n          const child = children[i];\n          unmount(\n            child,\n            parentComponent,\n            parentSuspense,\n            true,\n            !!child.dynamicChildren\n          );\n        }\n      }\n    }\n  },\n  move: moveTeleport,\n  hydrate: hydrateTeleport\n};\nfunction moveTeleport(vnode, container, parentAnchor, { o: { insert }, m: move }, moveType = 2) {\n  if (moveType === 0) {\n    insert(vnode.targetAnchor, container, parentAnchor);\n  }\n  const { el, anchor, shapeFlag, children, props } = vnode;\n  const isReorder = moveType === 2;\n  if (isReorder) {\n    insert(el, container, parentAnchor);\n  }\n  if (!isReorder || isTeleportDisabled(props)) {\n    if (shapeFlag & 16) {\n      for (let i = 0; i < children.length; i++) {\n        move(\n          children[i],\n          container,\n          parentAnchor,\n          2\n        );\n      }\n    }\n  }\n  if (isReorder) {\n    insert(anchor, container, parentAnchor);\n  }\n}\nfunction hydrateTeleport(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized, {\n  o: { nextSibling, parentNode, querySelector }\n}, hydrateChildren) {\n  const target = vnode.target = resolveTarget(\n    vnode.props,\n    querySelector\n  );\n  if (target) {\n    const targetNode = target._lpa || target.firstChild;\n    if (vnode.shapeFlag & 16) {\n      if (isTeleportDisabled(vnode.props)) {\n        vnode.anchor = hydrateChildren(\n          nextSibling(node),\n          vnode,\n          parentNode(node),\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n        vnode.targetAnchor = targetNode;\n      } else {\n        vnode.anchor = nextSibling(node);\n        let targetAnchor = targetNode;\n        while (targetAnchor) {\n          targetAnchor = nextSibling(targetAnchor);\n          if (targetAnchor && targetAnchor.nodeType === 8 && targetAnchor.data === \"teleport anchor\") {\n            vnode.targetAnchor = targetAnchor;\n            target._lpa = vnode.targetAnchor && nextSibling(vnode.targetAnchor);\n            break;\n          }\n        }\n        hydrateChildren(\n          targetNode,\n          vnode,\n          target,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n      }\n    }\n    updateCssVars(vnode);\n  }\n  return vnode.anchor && nextSibling(vnode.anchor);\n}\nconst Teleport = TeleportImpl;\nfunction updateCssVars(vnode) {\n  const ctx = vnode.ctx;\n  if (ctx && ctx.ut) {\n    let node = vnode.children[0].el;\n    while (node !== vnode.targetAnchor) {\n      if (node.nodeType === 1)\n        node.setAttribute(\"data-v-owner\", ctx.uid);\n      node = node.nextSibling;\n    }\n    ctx.ut();\n  }\n}\n\nconst Fragment = Symbol.for(\"v-fgt\");\nconst Text = Symbol.for(\"v-txt\");\nconst Comment = Symbol.for(\"v-cmt\");\nconst Static = Symbol.for(\"v-stc\");\nconst blockStack = [];\nlet currentBlock = null;\nfunction openBlock(disableTracking = false) {\n  blockStack.push(currentBlock = disableTracking ? null : []);\n}\nfunction closeBlock() {\n  blockStack.pop();\n  currentBlock = blockStack[blockStack.length - 1] || null;\n}\nlet isBlockTreeEnabled = 1;\nfunction setBlockTracking(value) {\n  isBlockTreeEnabled += value;\n}\nfunction setupBlock(vnode) {\n  vnode.dynamicChildren = isBlockTreeEnabled > 0 ? currentBlock || EMPTY_ARR : null;\n  closeBlock();\n  if (isBlockTreeEnabled > 0 && currentBlock) {\n    currentBlock.push(vnode);\n  }\n  return vnode;\n}\nfunction createElementBlock(type, props, children, patchFlag, dynamicProps, shapeFlag) {\n  return setupBlock(\n    createBaseVNode(\n      type,\n      props,\n      children,\n      patchFlag,\n      dynamicProps,\n      shapeFlag,\n      true\n      /* isBlock */\n    )\n  );\n}\nfunction createBlock(type, props, children, patchFlag, dynamicProps) {\n  return setupBlock(\n    createVNode(\n      type,\n      props,\n      children,\n      patchFlag,\n      dynamicProps,\n      true\n      /* isBlock: prevent a block from tracking itself */\n    )\n  );\n}\nfunction isVNode(value) {\n  return value ? value.__v_isVNode === true : false;\n}\nfunction isSameVNodeType(n1, n2) {\n  if (!!(process.env.NODE_ENV !== \"production\") && n2.shapeFlag & 6 && hmrDirtyComponents.has(n2.type)) {\n    n1.shapeFlag &= ~256;\n    n2.shapeFlag &= ~512;\n    return false;\n  }\n  return n1.type === n2.type && n1.key === n2.key;\n}\nlet vnodeArgsTransformer;\nfunction transformVNodeArgs(transformer) {\n  vnodeArgsTransformer = transformer;\n}\nconst createVNodeWithArgsTransform = (...args) => {\n  return _createVNode(\n    ...vnodeArgsTransformer ? vnodeArgsTransformer(args, currentRenderingInstance) : args\n  );\n};\nconst InternalObjectKey = `__vInternal`;\nconst normalizeKey = ({ key }) => key != null ? key : null;\nconst normalizeRef = ({\n  ref,\n  ref_key,\n  ref_for\n}) => {\n  if (typeof ref === \"number\") {\n    ref = \"\" + ref;\n  }\n  return ref != null ? isString(ref) || isRef(ref) || isFunction(ref) ? { i: currentRenderingInstance, r: ref, k: ref_key, f: !!ref_for } : ref : null;\n};\nfunction createBaseVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, shapeFlag = type === Fragment ? 0 : 1, isBlockNode = false, needFullChildrenNormalization = false) {\n  const vnode = {\n    __v_isVNode: true,\n    __v_skip: true,\n    type,\n    props,\n    key: props && normalizeKey(props),\n    ref: props && normalizeRef(props),\n    scopeId: currentScopeId,\n    slotScopeIds: null,\n    children,\n    component: null,\n    suspense: null,\n    ssContent: null,\n    ssFallback: null,\n    dirs: null,\n    transition: null,\n    el: null,\n    anchor: null,\n    target: null,\n    targetAnchor: null,\n    staticCount: 0,\n    shapeFlag,\n    patchFlag,\n    dynamicProps,\n    dynamicChildren: null,\n    appContext: null,\n    ctx: currentRenderingInstance\n  };\n  if (needFullChildrenNormalization) {\n    normalizeChildren(vnode, children);\n    if (shapeFlag & 128) {\n      type.normalize(vnode);\n    }\n  } else if (children) {\n    vnode.shapeFlag |= isString(children) ? 8 : 16;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && vnode.key !== vnode.key) {\n    warn(`VNode created with invalid key (NaN). VNode type:`, vnode.type);\n  }\n  if (isBlockTreeEnabled > 0 && // avoid a block node from tracking itself\n  !isBlockNode && // has current parent block\n  currentBlock && // presence of a patch flag indicates this node needs patching on updates.\n  // component nodes also should always be patched, because even if the\n  // component doesn't need to update, it needs to persist the instance on to\n  // the next vnode so that it can be properly unmounted later.\n  (vnode.patchFlag > 0 || shapeFlag & 6) && // the EVENTS flag is only for hydration and if it is the only flag, the\n  // vnode should not be considered dynamic due to handler caching.\n  vnode.patchFlag !== 32) {\n    currentBlock.push(vnode);\n  }\n  return vnode;\n}\nconst createVNode = !!(process.env.NODE_ENV !== \"production\") ? createVNodeWithArgsTransform : _createVNode;\nfunction _createVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, isBlockNode = false) {\n  if (!type || type === NULL_DYNAMIC_COMPONENT) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !type) {\n      warn(`Invalid vnode type when creating vnode: ${type}.`);\n    }\n    type = Comment;\n  }\n  if (isVNode(type)) {\n    const cloned = cloneVNode(\n      type,\n      props,\n      true\n      /* mergeRef: true */\n    );\n    if (children) {\n      normalizeChildren(cloned, children);\n    }\n    if (isBlockTreeEnabled > 0 && !isBlockNode && currentBlock) {\n      if (cloned.shapeFlag & 6) {\n        currentBlock[currentBlock.indexOf(type)] = cloned;\n      } else {\n        currentBlock.push(cloned);\n      }\n    }\n    cloned.patchFlag |= -2;\n    return cloned;\n  }\n  if (isClassComponent(type)) {\n    type = type.__vccOpts;\n  }\n  if (props) {\n    props = guardReactiveProps(props);\n    let { class: klass, style } = props;\n    if (klass && !isString(klass)) {\n      props.class = normalizeClass(klass);\n    }\n    if (isObject(style)) {\n      if (isProxy(style) && !isArray(style)) {\n        style = extend({}, style);\n      }\n      props.style = normalizeStyle(style);\n    }\n  }\n  const shapeFlag = isString(type) ? 1 : isSuspense(type) ? 128 : isTeleport(type) ? 64 : isObject(type) ? 4 : isFunction(type) ? 2 : 0;\n  if (!!(process.env.NODE_ENV !== \"production\") && shapeFlag & 4 && isProxy(type)) {\n    type = toRaw(type);\n    warn(\n      `Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with \\`markRaw\\` or using \\`shallowRef\\` instead of \\`ref\\`.`,\n      `\nComponent that was made reactive: `,\n      type\n    );\n  }\n  return createBaseVNode(\n    type,\n    props,\n    children,\n    patchFlag,\n    dynamicProps,\n    shapeFlag,\n    isBlockNode,\n    true\n  );\n}\nfunction guardReactiveProps(props) {\n  if (!props)\n    return null;\n  return isProxy(props) || InternalObjectKey in props ? extend({}, props) : props;\n}\nfunction cloneVNode(vnode, extraProps, mergeRef = false) {\n  const { props, ref, patchFlag, children } = vnode;\n  const mergedProps = extraProps ? mergeProps(props || {}, extraProps) : props;\n  const cloned = {\n    __v_isVNode: true,\n    __v_skip: true,\n    type: vnode.type,\n    props: mergedProps,\n    key: mergedProps && normalizeKey(mergedProps),\n    ref: extraProps && extraProps.ref ? (\n      // #2078 in the case of <component :is=\"vnode\" ref=\"extra\"/>\n      // if the vnode itself already has a ref, cloneVNode will need to merge\n      // the refs so the single vnode can be set on multiple refs\n      mergeRef && ref ? isArray(ref) ? ref.concat(normalizeRef(extraProps)) : [ref, normalizeRef(extraProps)] : normalizeRef(extraProps)\n    ) : ref,\n    scopeId: vnode.scopeId,\n    slotScopeIds: vnode.slotScopeIds,\n    children: !!(process.env.NODE_ENV !== \"production\") && patchFlag === -1 && isArray(children) ? children.map(deepCloneVNode) : children,\n    target: vnode.target,\n    targetAnchor: vnode.targetAnchor,\n    staticCount: vnode.staticCount,\n    shapeFlag: vnode.shapeFlag,\n    // if the vnode is cloned with extra props, we can no longer assume its\n    // existing patch flag to be reliable and need to add the FULL_PROPS flag.\n    // note: preserve flag for fragments since they use the flag for children\n    // fast paths only.\n    patchFlag: extraProps && vnode.type !== Fragment ? patchFlag === -1 ? 16 : patchFlag | 16 : patchFlag,\n    dynamicProps: vnode.dynamicProps,\n    dynamicChildren: vnode.dynamicChildren,\n    appContext: vnode.appContext,\n    dirs: vnode.dirs,\n    transition: vnode.transition,\n    // These should technically only be non-null on mounted VNodes. However,\n    // they *should* be copied for kept-alive vnodes. So we just always copy\n    // them since them being non-null during a mount doesn't affect the logic as\n    // they will simply be overwritten.\n    component: vnode.component,\n    suspense: vnode.suspense,\n    ssContent: vnode.ssContent && cloneVNode(vnode.ssContent),\n    ssFallback: vnode.ssFallback && cloneVNode(vnode.ssFallback),\n    el: vnode.el,\n    anchor: vnode.anchor,\n    ctx: vnode.ctx,\n    ce: vnode.ce\n  };\n  return cloned;\n}\nfunction deepCloneVNode(vnode) {\n  const cloned = cloneVNode(vnode);\n  if (isArray(vnode.children)) {\n    cloned.children = vnode.children.map(deepCloneVNode);\n  }\n  return cloned;\n}\nfunction createTextVNode(text = \" \", flag = 0) {\n  return createVNode(Text, null, text, flag);\n}\nfunction createStaticVNode(content, numberOfNodes) {\n  const vnode = createVNode(Static, null, content);\n  vnode.staticCount = numberOfNodes;\n  return vnode;\n}\nfunction createCommentVNode(text = \"\", asBlock = false) {\n  return asBlock ? (openBlock(), createBlock(Comment, null, text)) : createVNode(Comment, null, text);\n}\nfunction normalizeVNode(child) {\n  if (child == null || typeof child === \"boolean\") {\n    return createVNode(Comment);\n  } else if (isArray(child)) {\n    return createVNode(\n      Fragment,\n      null,\n      // #3666, avoid reference pollution when reusing vnode\n      child.slice()\n    );\n  } else if (typeof child === \"object\") {\n    return cloneIfMounted(child);\n  } else {\n    return createVNode(Text, null, String(child));\n  }\n}\nfunction cloneIfMounted(child) {\n  return child.el === null && child.patchFlag !== -1 || child.memo ? child : cloneVNode(child);\n}\nfunction normalizeChildren(vnode, children) {\n  let type = 0;\n  const { shapeFlag } = vnode;\n  if (children == null) {\n    children = null;\n  } else if (isArray(children)) {\n    type = 16;\n  } else if (typeof children === \"object\") {\n    if (shapeFlag & (1 | 64)) {\n      const slot = children.default;\n      if (slot) {\n        slot._c && (slot._d = false);\n        normalizeChildren(vnode, slot());\n        slot._c && (slot._d = true);\n      }\n      return;\n    } else {\n      type = 32;\n      const slotFlag = children._;\n      if (!slotFlag && !(InternalObjectKey in children)) {\n        children._ctx = currentRenderingInstance;\n      } else if (slotFlag === 3 && currentRenderingInstance) {\n        if (currentRenderingInstance.slots._ === 1) {\n          children._ = 1;\n        } else {\n          children._ = 2;\n          vnode.patchFlag |= 1024;\n        }\n      }\n    }\n  } else if (isFunction(children)) {\n    children = { default: children, _ctx: currentRenderingInstance };\n    type = 32;\n  } else {\n    children = String(children);\n    if (shapeFlag & 64) {\n      type = 16;\n      children = [createTextVNode(children)];\n    } else {\n      type = 8;\n    }\n  }\n  vnode.children = children;\n  vnode.shapeFlag |= type;\n}\nfunction mergeProps(...args) {\n  const ret = {};\n  for (let i = 0; i < args.length; i++) {\n    const toMerge = args[i];\n    for (const key in toMerge) {\n      if (key === \"class\") {\n        if (ret.class !== toMerge.class) {\n          ret.class = normalizeClass([ret.class, toMerge.class]);\n        }\n      } else if (key === \"style\") {\n        ret.style = normalizeStyle([ret.style, toMerge.style]);\n      } else if (isOn(key)) {\n        const existing = ret[key];\n        const incoming = toMerge[key];\n        if (incoming && existing !== incoming && !(isArray(existing) && existing.includes(incoming))) {\n          ret[key] = existing ? [].concat(existing, incoming) : incoming;\n        }\n      } else if (key !== \"\") {\n        ret[key] = toMerge[key];\n      }\n    }\n  }\n  return ret;\n}\nfunction invokeVNodeHook(hook, instance, vnode, prevVNode = null) {\n  callWithAsyncErrorHandling(hook, instance, 7, [\n    vnode,\n    prevVNode\n  ]);\n}\n\nconst emptyAppContext = createAppContext();\nlet uid = 0;\nfunction createComponentInstance(vnode, parent, suspense) {\n  const type = vnode.type;\n  const appContext = (parent ? parent.appContext : vnode.appContext) || emptyAppContext;\n  const instance = {\n    uid: uid++,\n    vnode,\n    type,\n    parent,\n    appContext,\n    root: null,\n    // to be immediately set\n    next: null,\n    subTree: null,\n    // will be set synchronously right after creation\n    effect: null,\n    update: null,\n    // will be set synchronously right after creation\n    scope: new EffectScope(\n      true\n      /* detached */\n    ),\n    render: null,\n    proxy: null,\n    exposed: null,\n    exposeProxy: null,\n    withProxy: null,\n    provides: parent ? parent.provides : Object.create(appContext.provides),\n    accessCache: null,\n    renderCache: [],\n    // local resolved assets\n    components: null,\n    directives: null,\n    // resolved props and emits options\n    propsOptions: normalizePropsOptions(type, appContext),\n    emitsOptions: normalizeEmitsOptions(type, appContext),\n    // emit\n    emit: null,\n    // to be set immediately\n    emitted: null,\n    // props default value\n    propsDefaults: EMPTY_OBJ,\n    // inheritAttrs\n    inheritAttrs: type.inheritAttrs,\n    // state\n    ctx: EMPTY_OBJ,\n    data: EMPTY_OBJ,\n    props: EMPTY_OBJ,\n    attrs: EMPTY_OBJ,\n    slots: EMPTY_OBJ,\n    refs: EMPTY_OBJ,\n    setupState: EMPTY_OBJ,\n    setupContext: null,\n    attrsProxy: null,\n    slotsProxy: null,\n    // suspense related\n    suspense,\n    suspenseId: suspense ? suspense.pendingId : 0,\n    asyncDep: null,\n    asyncResolved: false,\n    // lifecycle hooks\n    // not using enums here because it results in computed properties\n    isMounted: false,\n    isUnmounted: false,\n    isDeactivated: false,\n    bc: null,\n    c: null,\n    bm: null,\n    m: null,\n    bu: null,\n    u: null,\n    um: null,\n    bum: null,\n    da: null,\n    a: null,\n    rtg: null,\n    rtc: null,\n    ec: null,\n    sp: null\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    instance.ctx = createDevRenderContext(instance);\n  } else {\n    instance.ctx = { _: instance };\n  }\n  instance.root = parent ? parent.root : instance;\n  instance.emit = emit.bind(null, instance);\n  if (vnode.ce) {\n    vnode.ce(instance);\n  }\n  return instance;\n}\nlet currentInstance = null;\nconst getCurrentInstance = () => currentInstance || currentRenderingInstance;\nlet internalSetCurrentInstance;\nlet globalCurrentInstanceSetters;\nlet settersKey = \"__VUE_INSTANCE_SETTERS__\";\n{\n  if (!(globalCurrentInstanceSetters = getGlobalThis()[settersKey])) {\n    globalCurrentInstanceSetters = getGlobalThis()[settersKey] = [];\n  }\n  globalCurrentInstanceSetters.push((i) => currentInstance = i);\n  internalSetCurrentInstance = (instance) => {\n    if (globalCurrentInstanceSetters.length > 1) {\n      globalCurrentInstanceSetters.forEach((s) => s(instance));\n    } else {\n      globalCurrentInstanceSetters[0](instance);\n    }\n  };\n}\nconst setCurrentInstance = (instance) => {\n  internalSetCurrentInstance(instance);\n  instance.scope.on();\n};\nconst unsetCurrentInstance = () => {\n  currentInstance && currentInstance.scope.off();\n  internalSetCurrentInstance(null);\n};\nconst isBuiltInTag = /* @__PURE__ */ makeMap(\"slot,component\");\nfunction validateComponentName(name, config) {\n  const appIsNativeTag = config.isNativeTag || NO;\n  if (isBuiltInTag(name) || appIsNativeTag(name)) {\n    warn(\n      \"Do not use built-in or reserved HTML elements as component id: \" + name\n    );\n  }\n}\nfunction isStatefulComponent(instance) {\n  return instance.vnode.shapeFlag & 4;\n}\nlet isInSSRComponentSetup = false;\nfunction setupComponent(instance, isSSR = false) {\n  isInSSRComponentSetup = isSSR;\n  const { props, children } = instance.vnode;\n  const isStateful = isStatefulComponent(instance);\n  initProps(instance, props, isStateful, isSSR);\n  initSlots(instance, children);\n  const setupResult = isStateful ? setupStatefulComponent(instance, isSSR) : void 0;\n  isInSSRComponentSetup = false;\n  return setupResult;\n}\nfunction setupStatefulComponent(instance, isSSR) {\n  var _a;\n  const Component = instance.type;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    if (Component.name) {\n      validateComponentName(Component.name, instance.appContext.config);\n    }\n    if (Component.components) {\n      const names = Object.keys(Component.components);\n      for (let i = 0; i < names.length; i++) {\n        validateComponentName(names[i], instance.appContext.config);\n      }\n    }\n    if (Component.directives) {\n      const names = Object.keys(Component.directives);\n      for (let i = 0; i < names.length; i++) {\n        validateDirectiveName(names[i]);\n      }\n    }\n    if (Component.compilerOptions && isRuntimeOnly()) {\n      warn(\n        `\"compilerOptions\" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.`\n      );\n    }\n  }\n  instance.accessCache = /* @__PURE__ */ Object.create(null);\n  instance.proxy = markRaw(new Proxy(instance.ctx, PublicInstanceProxyHandlers));\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    exposePropsOnRenderContext(instance);\n  }\n  const { setup } = Component;\n  if (setup) {\n    const setupContext = instance.setupContext = setup.length > 1 ? createSetupContext(instance) : null;\n    setCurrentInstance(instance);\n    pauseTracking();\n    const setupResult = callWithErrorHandling(\n      setup,\n      instance,\n      0,\n      [!!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(instance.props) : instance.props, setupContext]\n    );\n    resetTracking();\n    unsetCurrentInstance();\n    if (isPromise(setupResult)) {\n      setupResult.then(unsetCurrentInstance, unsetCurrentInstance);\n      if (isSSR) {\n        return setupResult.then((resolvedResult) => {\n          handleSetupResult(instance, resolvedResult, isSSR);\n        }).catch((e) => {\n          handleError(e, instance, 0);\n        });\n      } else {\n        instance.asyncDep = setupResult;\n        if (!!(process.env.NODE_ENV !== \"production\") && !instance.suspense) {\n          const name = (_a = Component.name) != null ? _a : \"Anonymous\";\n          warn(\n            `Component <${name}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`\n          );\n        }\n      }\n    } else {\n      handleSetupResult(instance, setupResult, isSSR);\n    }\n  } else {\n    finishComponentSetup(instance, isSSR);\n  }\n}\nfunction handleSetupResult(instance, setupResult, isSSR) {\n  if (isFunction(setupResult)) {\n    if (instance.type.__ssrInlineRender) {\n      instance.ssrRender = setupResult;\n    } else {\n      instance.render = setupResult;\n    }\n  } else if (isObject(setupResult)) {\n    if (!!(process.env.NODE_ENV !== \"production\") && isVNode(setupResult)) {\n      warn(\n        `setup() should not return VNodes directly - return a render function instead.`\n      );\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      instance.devtoolsRawSetupState = setupResult;\n    }\n    instance.setupState = proxyRefs(setupResult);\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      exposeSetupStateOnRenderContext(instance);\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\") && setupResult !== void 0) {\n    warn(\n      `setup() should return an object. Received: ${setupResult === null ? \"null\" : typeof setupResult}`\n    );\n  }\n  finishComponentSetup(instance, isSSR);\n}\nlet compile;\nlet installWithProxy;\nfunction registerRuntimeCompiler(_compile) {\n  compile = _compile;\n  installWithProxy = (i) => {\n    if (i.render._rc) {\n      i.withProxy = new Proxy(i.ctx, RuntimeCompiledPublicInstanceProxyHandlers);\n    }\n  };\n}\nconst isRuntimeOnly = () => !compile;\nfunction finishComponentSetup(instance, isSSR, skipOptions) {\n  const Component = instance.type;\n  if (!instance.render) {\n    if (!isSSR && compile && !Component.render) {\n      const template = Component.template || resolveMergedOptions(instance).template;\n      if (template) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `compile`);\n        }\n        const { isCustomElement, compilerOptions } = instance.appContext.config;\n        const { delimiters, compilerOptions: componentCompilerOptions } = Component;\n        const finalCompilerOptions = extend(\n          extend(\n            {\n              isCustomElement,\n              delimiters\n            },\n            compilerOptions\n          ),\n          componentCompilerOptions\n        );\n        Component.render = compile(template, finalCompilerOptions);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `compile`);\n        }\n      }\n    }\n    instance.render = Component.render || NOOP;\n    if (installWithProxy) {\n      installWithProxy(instance);\n    }\n  }\n  if (__VUE_OPTIONS_API__ && true) {\n    setCurrentInstance(instance);\n    pauseTracking();\n    applyOptions(instance);\n    resetTracking();\n    unsetCurrentInstance();\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && !Component.render && instance.render === NOOP && !isSSR) {\n    if (!compile && Component.template) {\n      warn(\n        `Component provided template option but runtime compilation is not supported in this build of Vue.` + (` Configure your bundler to alias \"vue\" to \"vue/dist/vue.esm-bundler.js\".` )\n        /* should not happen */\n      );\n    } else {\n      warn(`Component is missing template or render function.`);\n    }\n  }\n}\nfunction getAttrsProxy(instance) {\n  return instance.attrsProxy || (instance.attrsProxy = new Proxy(\n    instance.attrs,\n    !!(process.env.NODE_ENV !== \"production\") ? {\n      get(target, key) {\n        markAttrsAccessed();\n        track(instance, \"get\", \"$attrs\");\n        return target[key];\n      },\n      set() {\n        warn(`setupContext.attrs is readonly.`);\n        return false;\n      },\n      deleteProperty() {\n        warn(`setupContext.attrs is readonly.`);\n        return false;\n      }\n    } : {\n      get(target, key) {\n        track(instance, \"get\", \"$attrs\");\n        return target[key];\n      }\n    }\n  ));\n}\nfunction getSlotsProxy(instance) {\n  return instance.slotsProxy || (instance.slotsProxy = new Proxy(instance.slots, {\n    get(target, key) {\n      track(instance, \"get\", \"$slots\");\n      return target[key];\n    }\n  }));\n}\nfunction createSetupContext(instance) {\n  const expose = (exposed) => {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      if (instance.exposed) {\n        warn(`expose() should be called only once per setup().`);\n      }\n      if (exposed != null) {\n        let exposedType = typeof exposed;\n        if (exposedType === \"object\") {\n          if (isArray(exposed)) {\n            exposedType = \"array\";\n          } else if (isRef(exposed)) {\n            exposedType = \"ref\";\n          }\n        }\n        if (exposedType !== \"object\") {\n          warn(\n            `expose() should be passed a plain object, received ${exposedType}.`\n          );\n        }\n      }\n    }\n    instance.exposed = exposed || {};\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    return Object.freeze({\n      get attrs() {\n        return getAttrsProxy(instance);\n      },\n      get slots() {\n        return getSlotsProxy(instance);\n      },\n      get emit() {\n        return (event, ...args) => instance.emit(event, ...args);\n      },\n      expose\n    });\n  } else {\n    return {\n      get attrs() {\n        return getAttrsProxy(instance);\n      },\n      slots: instance.slots,\n      emit: instance.emit,\n      expose\n    };\n  }\n}\nfunction getExposeProxy(instance) {\n  if (instance.exposed) {\n    return instance.exposeProxy || (instance.exposeProxy = new Proxy(proxyRefs(markRaw(instance.exposed)), {\n      get(target, key) {\n        if (key in target) {\n          return target[key];\n        } else if (key in publicPropertiesMap) {\n          return publicPropertiesMap[key](instance);\n        }\n      },\n      has(target, key) {\n        return key in target || key in publicPropertiesMap;\n      }\n    }));\n  }\n}\nconst classifyRE = /(?:^|[-_])(\\w)/g;\nconst classify = (str) => str.replace(classifyRE, (c) => c.toUpperCase()).replace(/[-_]/g, \"\");\nfunction getComponentName(Component, includeInferred = true) {\n  return isFunction(Component) ? Component.displayName || Component.name : Component.name || includeInferred && Component.__name;\n}\nfunction formatComponentName(instance, Component, isRoot = false) {\n  let name = getComponentName(Component);\n  if (!name && Component.__file) {\n    const match = Component.__file.match(/([^/\\\\]+)\\.\\w+$/);\n    if (match) {\n      name = match[1];\n    }\n  }\n  if (!name && instance && instance.parent) {\n    const inferFromRegistry = (registry) => {\n      for (const key in registry) {\n        if (registry[key] === Component) {\n          return key;\n        }\n      }\n    };\n    name = inferFromRegistry(\n      instance.components || instance.parent.type.components\n    ) || inferFromRegistry(instance.appContext.components);\n  }\n  return name ? classify(name) : isRoot ? `App` : `Anonymous`;\n}\nfunction isClassComponent(value) {\n  return isFunction(value) && \"__vccOpts\" in value;\n}\n\nconst computed = (getterOrOptions, debugOptions) => {\n  return computed$1(getterOrOptions, debugOptions, isInSSRComponentSetup);\n};\n\nfunction h(type, propsOrChildren, children) {\n  const l = arguments.length;\n  if (l === 2) {\n    if (isObject(propsOrChildren) && !isArray(propsOrChildren)) {\n      if (isVNode(propsOrChildren)) {\n        return createVNode(type, null, [propsOrChildren]);\n      }\n      return createVNode(type, propsOrChildren);\n    } else {\n      return createVNode(type, null, propsOrChildren);\n    }\n  } else {\n    if (l > 3) {\n      children = Array.prototype.slice.call(arguments, 2);\n    } else if (l === 3 && isVNode(children)) {\n      children = [children];\n    }\n    return createVNode(type, propsOrChildren, children);\n  }\n}\n\nconst ssrContextKey = Symbol.for(\"v-scx\");\nconst useSSRContext = () => {\n  {\n    const ctx = inject(ssrContextKey);\n    if (!ctx) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(\n        `Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build.`\n      );\n    }\n    return ctx;\n  }\n};\n\nfunction isShallow(value) {\n  return !!(value && value[\"__v_isShallow\"]);\n}\n\nfunction initCustomFormatter() {\n  if (!!!(process.env.NODE_ENV !== \"production\") || typeof window === \"undefined\") {\n    return;\n  }\n  const vueStyle = { style: \"color:#3ba776\" };\n  const numberStyle = { style: \"color:#0b1bc9\" };\n  const stringStyle = { style: \"color:#b62e24\" };\n  const keywordStyle = { style: \"color:#9d288c\" };\n  const formatter = {\n    header(obj) {\n      if (!isObject(obj)) {\n        return null;\n      }\n      if (obj.__isVue) {\n        return [\"div\", vueStyle, `VueInstance`];\n      } else if (isRef(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, genRefFlag(obj)],\n          \"<\",\n          formatValue(obj.value),\n          `>`\n        ];\n      } else if (isReactive(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, isShallow(obj) ? \"ShallowReactive\" : \"Reactive\"],\n          \"<\",\n          formatValue(obj),\n          `>${isReadonly(obj) ? ` (readonly)` : ``}`\n        ];\n      } else if (isReadonly(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, isShallow(obj) ? \"ShallowReadonly\" : \"Readonly\"],\n          \"<\",\n          formatValue(obj),\n          \">\"\n        ];\n      }\n      return null;\n    },\n    hasBody(obj) {\n      return obj && obj.__isVue;\n    },\n    body(obj) {\n      if (obj && obj.__isVue) {\n        return [\n          \"div\",\n          {},\n          ...formatInstance(obj.$)\n        ];\n      }\n    }\n  };\n  function formatInstance(instance) {\n    const blocks = [];\n    if (instance.type.props && instance.props) {\n      blocks.push(createInstanceBlock(\"props\", toRaw(instance.props)));\n    }\n    if (instance.setupState !== EMPTY_OBJ) {\n      blocks.push(createInstanceBlock(\"setup\", instance.setupState));\n    }\n    if (instance.data !== EMPTY_OBJ) {\n      blocks.push(createInstanceBlock(\"data\", toRaw(instance.data)));\n    }\n    const computed = extractKeys(instance, \"computed\");\n    if (computed) {\n      blocks.push(createInstanceBlock(\"computed\", computed));\n    }\n    const injected = extractKeys(instance, \"inject\");\n    if (injected) {\n      blocks.push(createInstanceBlock(\"injected\", injected));\n    }\n    blocks.push([\n      \"div\",\n      {},\n      [\n        \"span\",\n        {\n          style: keywordStyle.style + \";opacity:0.66\"\n        },\n        \"$ (internal): \"\n      ],\n      [\"object\", { object: instance }]\n    ]);\n    return blocks;\n  }\n  function createInstanceBlock(type, target) {\n    target = extend({}, target);\n    if (!Object.keys(target).length) {\n      return [\"span\", {}];\n    }\n    return [\n      \"div\",\n      { style: \"line-height:1.25em;margin-bottom:0.6em\" },\n      [\n        \"div\",\n        {\n          style: \"color:#476582\"\n        },\n        type\n      ],\n      [\n        \"div\",\n        {\n          style: \"padding-left:1.25em\"\n        },\n        ...Object.keys(target).map((key) => {\n          return [\n            \"div\",\n            {},\n            [\"span\", keywordStyle, key + \": \"],\n            formatValue(target[key], false)\n          ];\n        })\n      ]\n    ];\n  }\n  function formatValue(v, asRaw = true) {\n    if (typeof v === \"number\") {\n      return [\"span\", numberStyle, v];\n    } else if (typeof v === \"string\") {\n      return [\"span\", stringStyle, JSON.stringify(v)];\n    } else if (typeof v === \"boolean\") {\n      return [\"span\", keywordStyle, v];\n    } else if (isObject(v)) {\n      return [\"object\", { object: asRaw ? toRaw(v) : v }];\n    } else {\n      return [\"span\", stringStyle, String(v)];\n    }\n  }\n  function extractKeys(instance, type) {\n    const Comp = instance.type;\n    if (isFunction(Comp)) {\n      return;\n    }\n    const extracted = {};\n    for (const key in instance.ctx) {\n      if (isKeyOfType(Comp, key, type)) {\n        extracted[key] = instance.ctx[key];\n      }\n    }\n    return extracted;\n  }\n  function isKeyOfType(Comp, key, type) {\n    const opts = Comp[type];\n    if (isArray(opts) && opts.includes(key) || isObject(opts) && key in opts) {\n      return true;\n    }\n    if (Comp.extends && isKeyOfType(Comp.extends, key, type)) {\n      return true;\n    }\n    if (Comp.mixins && Comp.mixins.some((m) => isKeyOfType(m, key, type))) {\n      return true;\n    }\n  }\n  function genRefFlag(v) {\n    if (isShallow(v)) {\n      return `ShallowRef`;\n    }\n    if (v.effect) {\n      return `ComputedRef`;\n    }\n    return `Ref`;\n  }\n  if (window.devtoolsFormatters) {\n    window.devtoolsFormatters.push(formatter);\n  } else {\n    window.devtoolsFormatters = [formatter];\n  }\n}\n\nfunction withMemo(memo, render, cache, index) {\n  const cached = cache[index];\n  if (cached && isMemoSame(cached, memo)) {\n    return cached;\n  }\n  const ret = render();\n  ret.memo = memo.slice();\n  return cache[index] = ret;\n}\nfunction isMemoSame(cached, memo) {\n  const prev = cached.memo;\n  if (prev.length != memo.length) {\n    return false;\n  }\n  for (let i = 0; i < prev.length; i++) {\n    if (hasChanged(prev[i], memo[i])) {\n      return false;\n    }\n  }\n  if (isBlockTreeEnabled > 0 && currentBlock) {\n    currentBlock.push(cached);\n  }\n  return true;\n}\n\nconst version = \"3.3.4\";\nconst _ssrUtils = {\n  createComponentInstance,\n  setupComponent,\n  renderComponentRoot,\n  setCurrentRenderingInstance,\n  isVNode: isVNode,\n  normalizeVNode\n};\nconst ssrUtils = _ssrUtils ;\nconst resolveFilter = null;\nconst compatUtils = null;\n\nexport { BaseTransition, BaseTransitionPropsValidators, Comment, Fragment, KeepAlive, Static, Suspense, Teleport, Text, assertNumber, callWithAsyncErrorHandling, callWithErrorHandling, cloneVNode, compatUtils, computed, createBlock, createCommentVNode, createElementBlock, createBaseVNode as createElementVNode, createHydrationRenderer, createPropsRestProxy, createRenderer, createSlots, createStaticVNode, createTextVNode, createVNode, defineAsyncComponent, defineComponent, defineEmits, defineExpose, defineModel, defineOptions, defineProps, defineSlots, devtools, getCurrentInstance, getTransitionRawChildren, guardReactiveProps, h, handleError, hasInjectionContext, initCustomFormatter, inject, isMemoSame, isRuntimeOnly, isVNode, mergeDefaults, mergeModels, mergeProps, nextTick, onActivated, onBeforeMount, onBeforeUnmount, onBeforeUpdate, onDeactivated, onErrorCaptured, onMounted, onRenderTracked, onRenderTriggered, onServerPrefetch, onUnmounted, onUpdated, openBlock, popScopeId, provide, pushScopeId, queuePostFlushCb, registerRuntimeCompiler, renderList, renderSlot, resolveComponent, resolveDirective, resolveDynamicComponent, resolveFilter, resolveTransitionHooks, setBlockTracking, setDevtoolsHook, setTransitionHooks, ssrContextKey, ssrUtils, toHandlers, transformVNodeArgs, useAttrs, useModel, useSSRContext, useSlots, useTransitionState, version, warn, watch, watchEffect, watchPostEffect, watchSyncEffect, withAsyncContext, withCtx, withDefaults, withDirectives, withMemo, withScopeId };\n","import { warn, camelize, callWithAsyncErrorHandling, defineComponent, nextTick, createVNode, getCurrentInstance, watchPostEffect, onMounted, onUnmounted, Fragment, Static, h, BaseTransition, BaseTransitionPropsValidators, assertNumber, useTransitionState, onUpdated, toRaw, getTransitionRawChildren, setTransitionHooks, resolveTransitionHooks, isRuntimeOnly, createRenderer, createHydrationRenderer } from '@vue/runtime-core';\nexport * from '@vue/runtime-core';\nimport { isString, isArray, hyphenate, capitalize, isSpecialBooleanAttr, includeBooleanAttr, isOn, isModelListener, isFunction, camelize as camelize$1, toNumber, extend, EMPTY_OBJ, isObject, looseToNumber, looseIndexOf, isSet, looseEqual, invokeArrayFns, isHTMLTag, isSVGTag } from '@vue/shared';\n\nconst svgNS = \"http://www.w3.org/2000/svg\";\nconst doc = typeof document !== \"undefined\" ? document : null;\nconst templateContainer = doc && /* @__PURE__ */ doc.createElement(\"template\");\nconst nodeOps = {\n  insert: (child, parent, anchor) => {\n    parent.insertBefore(child, anchor || null);\n  },\n  remove: (child) => {\n    const parent = child.parentNode;\n    if (parent) {\n      parent.removeChild(child);\n    }\n  },\n  createElement: (tag, isSVG, is, props) => {\n    const el = isSVG ? doc.createElementNS(svgNS, tag) : doc.createElement(tag, is ? { is } : void 0);\n    if (tag === \"select\" && props && props.multiple != null) {\n      el.setAttribute(\"multiple\", props.multiple);\n    }\n    return el;\n  },\n  createText: (text) => doc.createTextNode(text),\n  createComment: (text) => doc.createComment(text),\n  setText: (node, text) => {\n    node.nodeValue = text;\n  },\n  setElementText: (el, text) => {\n    el.textContent = text;\n  },\n  parentNode: (node) => node.parentNode,\n  nextSibling: (node) => node.nextSibling,\n  querySelector: (selector) => doc.querySelector(selector),\n  setScopeId(el, id) {\n    el.setAttribute(id, \"\");\n  },\n  // __UNSAFE__\n  // Reason: innerHTML.\n  // Static content here can only come from compiled templates.\n  // As long as the user only uses trusted templates, this is safe.\n  insertStaticContent(content, parent, anchor, isSVG, start, end) {\n    const before = anchor ? anchor.previousSibling : parent.lastChild;\n    if (start && (start === end || start.nextSibling)) {\n      while (true) {\n        parent.insertBefore(start.cloneNode(true), anchor);\n        if (start === end || !(start = start.nextSibling))\n          break;\n      }\n    } else {\n      templateContainer.innerHTML = isSVG ? `<svg>${content}</svg>` : content;\n      const template = templateContainer.content;\n      if (isSVG) {\n        const wrapper = template.firstChild;\n        while (wrapper.firstChild) {\n          template.appendChild(wrapper.firstChild);\n        }\n        template.removeChild(wrapper);\n      }\n      parent.insertBefore(template, anchor);\n    }\n    return [\n      // first\n      before ? before.nextSibling : parent.firstChild,\n      // last\n      anchor ? anchor.previousSibling : parent.lastChild\n    ];\n  }\n};\n\nfunction patchClass(el, value, isSVG) {\n  const transitionClasses = el._vtc;\n  if (transitionClasses) {\n    value = (value ? [value, ...transitionClasses] : [...transitionClasses]).join(\" \");\n  }\n  if (value == null) {\n    el.removeAttribute(\"class\");\n  } else if (isSVG) {\n    el.setAttribute(\"class\", value);\n  } else {\n    el.className = value;\n  }\n}\n\nfunction patchStyle(el, prev, next) {\n  const style = el.style;\n  const isCssString = isString(next);\n  if (next && !isCssString) {\n    if (prev && !isString(prev)) {\n      for (const key in prev) {\n        if (next[key] == null) {\n          setStyle(style, key, \"\");\n        }\n      }\n    }\n    for (const key in next) {\n      setStyle(style, key, next[key]);\n    }\n  } else {\n    const currentDisplay = style.display;\n    if (isCssString) {\n      if (prev !== next) {\n        style.cssText = next;\n      }\n    } else if (prev) {\n      el.removeAttribute(\"style\");\n    }\n    if (\"_vod\" in el) {\n      style.display = currentDisplay;\n    }\n  }\n}\nconst semicolonRE = /[^\\\\];\\s*$/;\nconst importantRE = /\\s*!important$/;\nfunction setStyle(style, name, val) {\n  if (isArray(val)) {\n    val.forEach((v) => setStyle(style, name, v));\n  } else {\n    if (val == null)\n      val = \"\";\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      if (semicolonRE.test(val)) {\n        warn(\n          `Unexpected semicolon at the end of '${name}' style value: '${val}'`\n        );\n      }\n    }\n    if (name.startsWith(\"--\")) {\n      style.setProperty(name, val);\n    } else {\n      const prefixed = autoPrefix(style, name);\n      if (importantRE.test(val)) {\n        style.setProperty(\n          hyphenate(prefixed),\n          val.replace(importantRE, \"\"),\n          \"important\"\n        );\n      } else {\n        style[prefixed] = val;\n      }\n    }\n  }\n}\nconst prefixes = [\"Webkit\", \"Moz\", \"ms\"];\nconst prefixCache = {};\nfunction autoPrefix(style, rawName) {\n  const cached = prefixCache[rawName];\n  if (cached) {\n    return cached;\n  }\n  let name = camelize(rawName);\n  if (name !== \"filter\" && name in style) {\n    return prefixCache[rawName] = name;\n  }\n  name = capitalize(name);\n  for (let i = 0; i < prefixes.length; i++) {\n    const prefixed = prefixes[i] + name;\n    if (prefixed in style) {\n      return prefixCache[rawName] = prefixed;\n    }\n  }\n  return rawName;\n}\n\nconst xlinkNS = \"http://www.w3.org/1999/xlink\";\nfunction patchAttr(el, key, value, isSVG, instance) {\n  if (isSVG && key.startsWith(\"xlink:\")) {\n    if (value == null) {\n      el.removeAttributeNS(xlinkNS, key.slice(6, key.length));\n    } else {\n      el.setAttributeNS(xlinkNS, key, value);\n    }\n  } else {\n    const isBoolean = isSpecialBooleanAttr(key);\n    if (value == null || isBoolean && !includeBooleanAttr(value)) {\n      el.removeAttribute(key);\n    } else {\n      el.setAttribute(key, isBoolean ? \"\" : value);\n    }\n  }\n}\n\nfunction patchDOMProp(el, key, value, prevChildren, parentComponent, parentSuspense, unmountChildren) {\n  if (key === \"innerHTML\" || key === \"textContent\") {\n    if (prevChildren) {\n      unmountChildren(prevChildren, parentComponent, parentSuspense);\n    }\n    el[key] = value == null ? \"\" : value;\n    return;\n  }\n  const tag = el.tagName;\n  if (key === \"value\" && tag !== \"PROGRESS\" && // custom elements may use _value internally\n  !tag.includes(\"-\")) {\n    el._value = value;\n    const oldValue = tag === \"OPTION\" ? el.getAttribute(\"value\") : el.value;\n    const newValue = value == null ? \"\" : value;\n    if (oldValue !== newValue) {\n      el.value = newValue;\n    }\n    if (value == null) {\n      el.removeAttribute(key);\n    }\n    return;\n  }\n  let needRemove = false;\n  if (value === \"\" || value == null) {\n    const type = typeof el[key];\n    if (type === \"boolean\") {\n      value = includeBooleanAttr(value);\n    } else if (value == null && type === \"string\") {\n      value = \"\";\n      needRemove = true;\n    } else if (type === \"number\") {\n      value = 0;\n      needRemove = true;\n    }\n  }\n  try {\n    el[key] = value;\n  } catch (e) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !needRemove) {\n      warn(\n        `Failed setting prop \"${key}\" on <${tag.toLowerCase()}>: value ${value} is invalid.`,\n        e\n      );\n    }\n  }\n  needRemove && el.removeAttribute(key);\n}\n\nfunction addEventListener(el, event, handler, options) {\n  el.addEventListener(event, handler, options);\n}\nfunction removeEventListener(el, event, handler, options) {\n  el.removeEventListener(event, handler, options);\n}\nfunction patchEvent(el, rawName, prevValue, nextValue, instance = null) {\n  const invokers = el._vei || (el._vei = {});\n  const existingInvoker = invokers[rawName];\n  if (nextValue && existingInvoker) {\n    existingInvoker.value = nextValue;\n  } else {\n    const [name, options] = parseName(rawName);\n    if (nextValue) {\n      const invoker = invokers[rawName] = createInvoker(nextValue, instance);\n      addEventListener(el, name, invoker, options);\n    } else if (existingInvoker) {\n      removeEventListener(el, name, existingInvoker, options);\n      invokers[rawName] = void 0;\n    }\n  }\n}\nconst optionsModifierRE = /(?:Once|Passive|Capture)$/;\nfunction parseName(name) {\n  let options;\n  if (optionsModifierRE.test(name)) {\n    options = {};\n    let m;\n    while (m = name.match(optionsModifierRE)) {\n      name = name.slice(0, name.length - m[0].length);\n      options[m[0].toLowerCase()] = true;\n    }\n  }\n  const event = name[2] === \":\" ? name.slice(3) : hyphenate(name.slice(2));\n  return [event, options];\n}\nlet cachedNow = 0;\nconst p = /* @__PURE__ */ Promise.resolve();\nconst getNow = () => cachedNow || (p.then(() => cachedNow = 0), cachedNow = Date.now());\nfunction createInvoker(initialValue, instance) {\n  const invoker = (e) => {\n    if (!e._vts) {\n      e._vts = Date.now();\n    } else if (e._vts <= invoker.attached) {\n      return;\n    }\n    callWithAsyncErrorHandling(\n      patchStopImmediatePropagation(e, invoker.value),\n      instance,\n      5,\n      [e]\n    );\n  };\n  invoker.value = initialValue;\n  invoker.attached = getNow();\n  return invoker;\n}\nfunction patchStopImmediatePropagation(e, value) {\n  if (isArray(value)) {\n    const originalStop = e.stopImmediatePropagation;\n    e.stopImmediatePropagation = () => {\n      originalStop.call(e);\n      e._stopped = true;\n    };\n    return value.map((fn) => (e2) => !e2._stopped && fn && fn(e2));\n  } else {\n    return value;\n  }\n}\n\nconst nativeOnRE = /^on[a-z]/;\nconst patchProp = (el, key, prevValue, nextValue, isSVG = false, prevChildren, parentComponent, parentSuspense, unmountChildren) => {\n  if (key === \"class\") {\n    patchClass(el, nextValue, isSVG);\n  } else if (key === \"style\") {\n    patchStyle(el, prevValue, nextValue);\n  } else if (isOn(key)) {\n    if (!isModelListener(key)) {\n      patchEvent(el, key, prevValue, nextValue, parentComponent);\n    }\n  } else if (key[0] === \".\" ? (key = key.slice(1), true) : key[0] === \"^\" ? (key = key.slice(1), false) : shouldSetAsProp(el, key, nextValue, isSVG)) {\n    patchDOMProp(\n      el,\n      key,\n      nextValue,\n      prevChildren,\n      parentComponent,\n      parentSuspense,\n      unmountChildren\n    );\n  } else {\n    if (key === \"true-value\") {\n      el._trueValue = nextValue;\n    } else if (key === \"false-value\") {\n      el._falseValue = nextValue;\n    }\n    patchAttr(el, key, nextValue, isSVG);\n  }\n};\nfunction shouldSetAsProp(el, key, value, isSVG) {\n  if (isSVG) {\n    if (key === \"innerHTML\" || key === \"textContent\") {\n      return true;\n    }\n    if (key in el && nativeOnRE.test(key) && isFunction(value)) {\n      return true;\n    }\n    return false;\n  }\n  if (key === \"spellcheck\" || key === \"draggable\" || key === \"translate\") {\n    return false;\n  }\n  if (key === \"form\") {\n    return false;\n  }\n  if (key === \"list\" && el.tagName === \"INPUT\") {\n    return false;\n  }\n  if (key === \"type\" && el.tagName === \"TEXTAREA\") {\n    return false;\n  }\n  if (nativeOnRE.test(key) && isString(value)) {\n    return false;\n  }\n  return key in el;\n}\n\nfunction defineCustomElement(options, hydrate2) {\n  const Comp = defineComponent(options);\n  class VueCustomElement extends VueElement {\n    constructor(initialProps) {\n      super(Comp, initialProps, hydrate2);\n    }\n  }\n  VueCustomElement.def = Comp;\n  return VueCustomElement;\n}\nconst defineSSRCustomElement = (options) => {\n  return defineCustomElement(options, hydrate);\n};\nconst BaseClass = typeof HTMLElement !== \"undefined\" ? HTMLElement : class {\n};\nclass VueElement extends BaseClass {\n  constructor(_def, _props = {}, hydrate2) {\n    super();\n    this._def = _def;\n    this._props = _props;\n    /**\n     * @internal\n     */\n    this._instance = null;\n    this._connected = false;\n    this._resolved = false;\n    this._numberProps = null;\n    if (this.shadowRoot && hydrate2) {\n      hydrate2(this._createVNode(), this.shadowRoot);\n    } else {\n      if (!!(process.env.NODE_ENV !== \"production\") && this.shadowRoot) {\n        warn(\n          `Custom element has pre-rendered declarative shadow root but is not defined as hydratable. Use \\`defineSSRCustomElement\\`.`\n        );\n      }\n      this.attachShadow({ mode: \"open\" });\n      if (!this._def.__asyncLoader) {\n        this._resolveProps(this._def);\n      }\n    }\n  }\n  connectedCallback() {\n    this._connected = true;\n    if (!this._instance) {\n      if (this._resolved) {\n        this._update();\n      } else {\n        this._resolveDef();\n      }\n    }\n  }\n  disconnectedCallback() {\n    this._connected = false;\n    nextTick(() => {\n      if (!this._connected) {\n        render(null, this.shadowRoot);\n        this._instance = null;\n      }\n    });\n  }\n  /**\n   * resolve inner component definition (handle possible async component)\n   */\n  _resolveDef() {\n    this._resolved = true;\n    for (let i = 0; i < this.attributes.length; i++) {\n      this._setAttr(this.attributes[i].name);\n    }\n    new MutationObserver((mutations) => {\n      for (const m of mutations) {\n        this._setAttr(m.attributeName);\n      }\n    }).observe(this, { attributes: true });\n    const resolve = (def, isAsync = false) => {\n      const { props, styles } = def;\n      let numberProps;\n      if (props && !isArray(props)) {\n        for (const key in props) {\n          const opt = props[key];\n          if (opt === Number || opt && opt.type === Number) {\n            if (key in this._props) {\n              this._props[key] = toNumber(this._props[key]);\n            }\n            (numberProps || (numberProps = /* @__PURE__ */ Object.create(null)))[camelize$1(key)] = true;\n          }\n        }\n      }\n      this._numberProps = numberProps;\n      if (isAsync) {\n        this._resolveProps(def);\n      }\n      this._applyStyles(styles);\n      this._update();\n    };\n    const asyncDef = this._def.__asyncLoader;\n    if (asyncDef) {\n      asyncDef().then((def) => resolve(def, true));\n    } else {\n      resolve(this._def);\n    }\n  }\n  _resolveProps(def) {\n    const { props } = def;\n    const declaredPropKeys = isArray(props) ? props : Object.keys(props || {});\n    for (const key of Object.keys(this)) {\n      if (key[0] !== \"_\" && declaredPropKeys.includes(key)) {\n        this._setProp(key, this[key], true, false);\n      }\n    }\n    for (const key of declaredPropKeys.map(camelize$1)) {\n      Object.defineProperty(this, key, {\n        get() {\n          return this._getProp(key);\n        },\n        set(val) {\n          this._setProp(key, val);\n        }\n      });\n    }\n  }\n  _setAttr(key) {\n    let value = this.getAttribute(key);\n    const camelKey = camelize$1(key);\n    if (this._numberProps && this._numberProps[camelKey]) {\n      value = toNumber(value);\n    }\n    this._setProp(camelKey, value, false);\n  }\n  /**\n   * @internal\n   */\n  _getProp(key) {\n    return this._props[key];\n  }\n  /**\n   * @internal\n   */\n  _setProp(key, val, shouldReflect = true, shouldUpdate = true) {\n    if (val !== this._props[key]) {\n      this._props[key] = val;\n      if (shouldUpdate && this._instance) {\n        this._update();\n      }\n      if (shouldReflect) {\n        if (val === true) {\n          this.setAttribute(hyphenate(key), \"\");\n        } else if (typeof val === \"string\" || typeof val === \"number\") {\n          this.setAttribute(hyphenate(key), val + \"\");\n        } else if (!val) {\n          this.removeAttribute(hyphenate(key));\n        }\n      }\n    }\n  }\n  _update() {\n    render(this._createVNode(), this.shadowRoot);\n  }\n  _createVNode() {\n    const vnode = createVNode(this._def, extend({}, this._props));\n    if (!this._instance) {\n      vnode.ce = (instance) => {\n        this._instance = instance;\n        instance.isCE = true;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          instance.ceReload = (newStyles) => {\n            if (this._styles) {\n              this._styles.forEach((s) => this.shadowRoot.removeChild(s));\n              this._styles.length = 0;\n            }\n            this._applyStyles(newStyles);\n            this._instance = null;\n            this._update();\n          };\n        }\n        const dispatch = (event, args) => {\n          this.dispatchEvent(\n            new CustomEvent(event, {\n              detail: args\n            })\n          );\n        };\n        instance.emit = (event, ...args) => {\n          dispatch(event, args);\n          if (hyphenate(event) !== event) {\n            dispatch(hyphenate(event), args);\n          }\n        };\n        let parent = this;\n        while (parent = parent && (parent.parentNode || parent.host)) {\n          if (parent instanceof VueElement) {\n            instance.parent = parent._instance;\n            instance.provides = parent._instance.provides;\n            break;\n          }\n        }\n      };\n    }\n    return vnode;\n  }\n  _applyStyles(styles) {\n    if (styles) {\n      styles.forEach((css) => {\n        const s = document.createElement(\"style\");\n        s.textContent = css;\n        this.shadowRoot.appendChild(s);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          (this._styles || (this._styles = [])).push(s);\n        }\n      });\n    }\n  }\n}\n\nfunction useCssModule(name = \"$style\") {\n  {\n    const instance = getCurrentInstance();\n    if (!instance) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`useCssModule must be called inside setup()`);\n      return EMPTY_OBJ;\n    }\n    const modules = instance.type.__cssModules;\n    if (!modules) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`Current instance does not have CSS modules injected.`);\n      return EMPTY_OBJ;\n    }\n    const mod = modules[name];\n    if (!mod) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`Current instance does not have CSS module named \"${name}\".`);\n      return EMPTY_OBJ;\n    }\n    return mod;\n  }\n}\n\nfunction useCssVars(getter) {\n  const instance = getCurrentInstance();\n  if (!instance) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(`useCssVars is called without current active component instance.`);\n    return;\n  }\n  const updateTeleports = instance.ut = (vars = getter(instance.proxy)) => {\n    Array.from(\n      document.querySelectorAll(`[data-v-owner=\"${instance.uid}\"]`)\n    ).forEach((node) => setVarsOnNode(node, vars));\n  };\n  const setVars = () => {\n    const vars = getter(instance.proxy);\n    setVarsOnVNode(instance.subTree, vars);\n    updateTeleports(vars);\n  };\n  watchPostEffect(setVars);\n  onMounted(() => {\n    const ob = new MutationObserver(setVars);\n    ob.observe(instance.subTree.el.parentNode, { childList: true });\n    onUnmounted(() => ob.disconnect());\n  });\n}\nfunction setVarsOnVNode(vnode, vars) {\n  if (vnode.shapeFlag & 128) {\n    const suspense = vnode.suspense;\n    vnode = suspense.activeBranch;\n    if (suspense.pendingBranch && !suspense.isHydrating) {\n      suspense.effects.push(() => {\n        setVarsOnVNode(suspense.activeBranch, vars);\n      });\n    }\n  }\n  while (vnode.component) {\n    vnode = vnode.component.subTree;\n  }\n  if (vnode.shapeFlag & 1 && vnode.el) {\n    setVarsOnNode(vnode.el, vars);\n  } else if (vnode.type === Fragment) {\n    vnode.children.forEach((c) => setVarsOnVNode(c, vars));\n  } else if (vnode.type === Static) {\n    let { el, anchor } = vnode;\n    while (el) {\n      setVarsOnNode(el, vars);\n      if (el === anchor)\n        break;\n      el = el.nextSibling;\n    }\n  }\n}\nfunction setVarsOnNode(el, vars) {\n  if (el.nodeType === 1) {\n    const style = el.style;\n    for (const key in vars) {\n      style.setProperty(`--${key}`, vars[key]);\n    }\n  }\n}\n\nconst TRANSITION = \"transition\";\nconst ANIMATION = \"animation\";\nconst Transition = (props, { slots }) => h(BaseTransition, resolveTransitionProps(props), slots);\nTransition.displayName = \"Transition\";\nconst DOMTransitionPropsValidators = {\n  name: String,\n  type: String,\n  css: {\n    type: Boolean,\n    default: true\n  },\n  duration: [String, Number, Object],\n  enterFromClass: String,\n  enterActiveClass: String,\n  enterToClass: String,\n  appearFromClass: String,\n  appearActiveClass: String,\n  appearToClass: String,\n  leaveFromClass: String,\n  leaveActiveClass: String,\n  leaveToClass: String\n};\nconst TransitionPropsValidators = Transition.props = /* @__PURE__ */ extend(\n  {},\n  BaseTransitionPropsValidators,\n  DOMTransitionPropsValidators\n);\nconst callHook = (hook, args = []) => {\n  if (isArray(hook)) {\n    hook.forEach((h2) => h2(...args));\n  } else if (hook) {\n    hook(...args);\n  }\n};\nconst hasExplicitCallback = (hook) => {\n  return hook ? isArray(hook) ? hook.some((h2) => h2.length > 1) : hook.length > 1 : false;\n};\nfunction resolveTransitionProps(rawProps) {\n  const baseProps = {};\n  for (const key in rawProps) {\n    if (!(key in DOMTransitionPropsValidators)) {\n      baseProps[key] = rawProps[key];\n    }\n  }\n  if (rawProps.css === false) {\n    return baseProps;\n  }\n  const {\n    name = \"v\",\n    type,\n    duration,\n    enterFromClass = `${name}-enter-from`,\n    enterActiveClass = `${name}-enter-active`,\n    enterToClass = `${name}-enter-to`,\n    appearFromClass = enterFromClass,\n    appearActiveClass = enterActiveClass,\n    appearToClass = enterToClass,\n    leaveFromClass = `${name}-leave-from`,\n    leaveActiveClass = `${name}-leave-active`,\n    leaveToClass = `${name}-leave-to`\n  } = rawProps;\n  const durations = normalizeDuration(duration);\n  const enterDuration = durations && durations[0];\n  const leaveDuration = durations && durations[1];\n  const {\n    onBeforeEnter,\n    onEnter,\n    onEnterCancelled,\n    onLeave,\n    onLeaveCancelled,\n    onBeforeAppear = onBeforeEnter,\n    onAppear = onEnter,\n    onAppearCancelled = onEnterCancelled\n  } = baseProps;\n  const finishEnter = (el, isAppear, done) => {\n    removeTransitionClass(el, isAppear ? appearToClass : enterToClass);\n    removeTransitionClass(el, isAppear ? appearActiveClass : enterActiveClass);\n    done && done();\n  };\n  const finishLeave = (el, done) => {\n    el._isLeaving = false;\n    removeTransitionClass(el, leaveFromClass);\n    removeTransitionClass(el, leaveToClass);\n    removeTransitionClass(el, leaveActiveClass);\n    done && done();\n  };\n  const makeEnterHook = (isAppear) => {\n    return (el, done) => {\n      const hook = isAppear ? onAppear : onEnter;\n      const resolve = () => finishEnter(el, isAppear, done);\n      callHook(hook, [el, resolve]);\n      nextFrame(() => {\n        removeTransitionClass(el, isAppear ? appearFromClass : enterFromClass);\n        addTransitionClass(el, isAppear ? appearToClass : enterToClass);\n        if (!hasExplicitCallback(hook)) {\n          whenTransitionEnds(el, type, enterDuration, resolve);\n        }\n      });\n    };\n  };\n  return extend(baseProps, {\n    onBeforeEnter(el) {\n      callHook(onBeforeEnter, [el]);\n      addTransitionClass(el, enterFromClass);\n      addTransitionClass(el, enterActiveClass);\n    },\n    onBeforeAppear(el) {\n      callHook(onBeforeAppear, [el]);\n      addTransitionClass(el, appearFromClass);\n      addTransitionClass(el, appearActiveClass);\n    },\n    onEnter: makeEnterHook(false),\n    onAppear: makeEnterHook(true),\n    onLeave(el, done) {\n      el._isLeaving = true;\n      const resolve = () => finishLeave(el, done);\n      addTransitionClass(el, leaveFromClass);\n      forceReflow();\n      addTransitionClass(el, leaveActiveClass);\n      nextFrame(() => {\n        if (!el._isLeaving) {\n          return;\n        }\n        removeTransitionClass(el, leaveFromClass);\n        addTransitionClass(el, leaveToClass);\n        if (!hasExplicitCallback(onLeave)) {\n          whenTransitionEnds(el, type, leaveDuration, resolve);\n        }\n      });\n      callHook(onLeave, [el, resolve]);\n    },\n    onEnterCancelled(el) {\n      finishEnter(el, false);\n      callHook(onEnterCancelled, [el]);\n    },\n    onAppearCancelled(el) {\n      finishEnter(el, true);\n      callHook(onAppearCancelled, [el]);\n    },\n    onLeaveCancelled(el) {\n      finishLeave(el);\n      callHook(onLeaveCancelled, [el]);\n    }\n  });\n}\nfunction normalizeDuration(duration) {\n  if (duration == null) {\n    return null;\n  } else if (isObject(duration)) {\n    return [NumberOf(duration.enter), NumberOf(duration.leave)];\n  } else {\n    const n = NumberOf(duration);\n    return [n, n];\n  }\n}\nfunction NumberOf(val) {\n  const res = toNumber(val);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    assertNumber(res, \"<transition> explicit duration\");\n  }\n  return res;\n}\nfunction addTransitionClass(el, cls) {\n  cls.split(/\\s+/).forEach((c) => c && el.classList.add(c));\n  (el._vtc || (el._vtc = /* @__PURE__ */ new Set())).add(cls);\n}\nfunction removeTransitionClass(el, cls) {\n  cls.split(/\\s+/).forEach((c) => c && el.classList.remove(c));\n  const { _vtc } = el;\n  if (_vtc) {\n    _vtc.delete(cls);\n    if (!_vtc.size) {\n      el._vtc = void 0;\n    }\n  }\n}\nfunction nextFrame(cb) {\n  requestAnimationFrame(() => {\n    requestAnimationFrame(cb);\n  });\n}\nlet endId = 0;\nfunction whenTransitionEnds(el, expectedType, explicitTimeout, resolve) {\n  const id = el._endId = ++endId;\n  const resolveIfNotStale = () => {\n    if (id === el._endId) {\n      resolve();\n    }\n  };\n  if (explicitTimeout) {\n    return setTimeout(resolveIfNotStale, explicitTimeout);\n  }\n  const { type, timeout, propCount } = getTransitionInfo(el, expectedType);\n  if (!type) {\n    return resolve();\n  }\n  const endEvent = type + \"end\";\n  let ended = 0;\n  const end = () => {\n    el.removeEventListener(endEvent, onEnd);\n    resolveIfNotStale();\n  };\n  const onEnd = (e) => {\n    if (e.target === el && ++ended >= propCount) {\n      end();\n    }\n  };\n  setTimeout(() => {\n    if (ended < propCount) {\n      end();\n    }\n  }, timeout + 1);\n  el.addEventListener(endEvent, onEnd);\n}\nfunction getTransitionInfo(el, expectedType) {\n  const styles = window.getComputedStyle(el);\n  const getStyleProperties = (key) => (styles[key] || \"\").split(\", \");\n  const transitionDelays = getStyleProperties(`${TRANSITION}Delay`);\n  const transitionDurations = getStyleProperties(`${TRANSITION}Duration`);\n  const transitionTimeout = getTimeout(transitionDelays, transitionDurations);\n  const animationDelays = getStyleProperties(`${ANIMATION}Delay`);\n  const animationDurations = getStyleProperties(`${ANIMATION}Duration`);\n  const animationTimeout = getTimeout(animationDelays, animationDurations);\n  let type = null;\n  let timeout = 0;\n  let propCount = 0;\n  if (expectedType === TRANSITION) {\n    if (transitionTimeout > 0) {\n      type = TRANSITION;\n      timeout = transitionTimeout;\n      propCount = transitionDurations.length;\n    }\n  } else if (expectedType === ANIMATION) {\n    if (animationTimeout > 0) {\n      type = ANIMATION;\n      timeout = animationTimeout;\n      propCount = animationDurations.length;\n    }\n  } else {\n    timeout = Math.max(transitionTimeout, animationTimeout);\n    type = timeout > 0 ? transitionTimeout > animationTimeout ? TRANSITION : ANIMATION : null;\n    propCount = type ? type === TRANSITION ? transitionDurations.length : animationDurations.length : 0;\n  }\n  const hasTransform = type === TRANSITION && /\\b(transform|all)(,|$)/.test(\n    getStyleProperties(`${TRANSITION}Property`).toString()\n  );\n  return {\n    type,\n    timeout,\n    propCount,\n    hasTransform\n  };\n}\nfunction getTimeout(delays, durations) {\n  while (delays.length < durations.length) {\n    delays = delays.concat(delays);\n  }\n  return Math.max(...durations.map((d, i) => toMs(d) + toMs(delays[i])));\n}\nfunction toMs(s) {\n  return Number(s.slice(0, -1).replace(\",\", \".\")) * 1e3;\n}\nfunction forceReflow() {\n  return document.body.offsetHeight;\n}\n\nconst positionMap = /* @__PURE__ */ new WeakMap();\nconst newPositionMap = /* @__PURE__ */ new WeakMap();\nconst TransitionGroupImpl = {\n  name: \"TransitionGroup\",\n  props: /* @__PURE__ */ extend({}, TransitionPropsValidators, {\n    tag: String,\n    moveClass: String\n  }),\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const state = useTransitionState();\n    let prevChildren;\n    let children;\n    onUpdated(() => {\n      if (!prevChildren.length) {\n        return;\n      }\n      const moveClass = props.moveClass || `${props.name || \"v\"}-move`;\n      if (!hasCSSTransform(\n        prevChildren[0].el,\n        instance.vnode.el,\n        moveClass\n      )) {\n        return;\n      }\n      prevChildren.forEach(callPendingCbs);\n      prevChildren.forEach(recordPosition);\n      const movedChildren = prevChildren.filter(applyTranslation);\n      forceReflow();\n      movedChildren.forEach((c) => {\n        const el = c.el;\n        const style = el.style;\n        addTransitionClass(el, moveClass);\n        style.transform = style.webkitTransform = style.transitionDuration = \"\";\n        const cb = el._moveCb = (e) => {\n          if (e && e.target !== el) {\n            return;\n          }\n          if (!e || /transform$/.test(e.propertyName)) {\n            el.removeEventListener(\"transitionend\", cb);\n            el._moveCb = null;\n            removeTransitionClass(el, moveClass);\n          }\n        };\n        el.addEventListener(\"transitionend\", cb);\n      });\n    });\n    return () => {\n      const rawProps = toRaw(props);\n      const cssTransitionProps = resolveTransitionProps(rawProps);\n      let tag = rawProps.tag || Fragment;\n      prevChildren = children;\n      children = slots.default ? getTransitionRawChildren(slots.default()) : [];\n      for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        if (child.key != null) {\n          setTransitionHooks(\n            child,\n            resolveTransitionHooks(child, cssTransitionProps, state, instance)\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(`<TransitionGroup> children must be keyed.`);\n        }\n      }\n      if (prevChildren) {\n        for (let i = 0; i < prevChildren.length; i++) {\n          const child = prevChildren[i];\n          setTransitionHooks(\n            child,\n            resolveTransitionHooks(child, cssTransitionProps, state, instance)\n          );\n          positionMap.set(child, child.el.getBoundingClientRect());\n        }\n      }\n      return createVNode(tag, null, children);\n    };\n  }\n};\nconst removeMode = (props) => delete props.mode;\n/* @__PURE__ */ removeMode(TransitionGroupImpl.props);\nconst TransitionGroup = TransitionGroupImpl;\nfunction callPendingCbs(c) {\n  const el = c.el;\n  if (el._moveCb) {\n    el._moveCb();\n  }\n  if (el._enterCb) {\n    el._enterCb();\n  }\n}\nfunction recordPosition(c) {\n  newPositionMap.set(c, c.el.getBoundingClientRect());\n}\nfunction applyTranslation(c) {\n  const oldPos = positionMap.get(c);\n  const newPos = newPositionMap.get(c);\n  const dx = oldPos.left - newPos.left;\n  const dy = oldPos.top - newPos.top;\n  if (dx || dy) {\n    const s = c.el.style;\n    s.transform = s.webkitTransform = `translate(${dx}px,${dy}px)`;\n    s.transitionDuration = \"0s\";\n    return c;\n  }\n}\nfunction hasCSSTransform(el, root, moveClass) {\n  const clone = el.cloneNode();\n  if (el._vtc) {\n    el._vtc.forEach((cls) => {\n      cls.split(/\\s+/).forEach((c) => c && clone.classList.remove(c));\n    });\n  }\n  moveClass.split(/\\s+/).forEach((c) => c && clone.classList.add(c));\n  clone.style.display = \"none\";\n  const container = root.nodeType === 1 ? root : root.parentNode;\n  container.appendChild(clone);\n  const { hasTransform } = getTransitionInfo(clone);\n  container.removeChild(clone);\n  return hasTransform;\n}\n\nconst getModelAssigner = (vnode) => {\n  const fn = vnode.props[\"onUpdate:modelValue\"] || false;\n  return isArray(fn) ? (value) => invokeArrayFns(fn, value) : fn;\n};\nfunction onCompositionStart(e) {\n  e.target.composing = true;\n}\nfunction onCompositionEnd(e) {\n  const target = e.target;\n  if (target.composing) {\n    target.composing = false;\n    target.dispatchEvent(new Event(\"input\"));\n  }\n}\nconst vModelText = {\n  created(el, { modifiers: { lazy, trim, number } }, vnode) {\n    el._assign = getModelAssigner(vnode);\n    const castToNumber = number || vnode.props && vnode.props.type === \"number\";\n    addEventListener(el, lazy ? \"change\" : \"input\", (e) => {\n      if (e.target.composing)\n        return;\n      let domValue = el.value;\n      if (trim) {\n        domValue = domValue.trim();\n      }\n      if (castToNumber) {\n        domValue = looseToNumber(domValue);\n      }\n      el._assign(domValue);\n    });\n    if (trim) {\n      addEventListener(el, \"change\", () => {\n        el.value = el.value.trim();\n      });\n    }\n    if (!lazy) {\n      addEventListener(el, \"compositionstart\", onCompositionStart);\n      addEventListener(el, \"compositionend\", onCompositionEnd);\n      addEventListener(el, \"change\", onCompositionEnd);\n    }\n  },\n  // set value on mounted so it's after min/max for type=\"range\"\n  mounted(el, { value }) {\n    el.value = value == null ? \"\" : value;\n  },\n  beforeUpdate(el, { value, modifiers: { lazy, trim, number } }, vnode) {\n    el._assign = getModelAssigner(vnode);\n    if (el.composing)\n      return;\n    if (document.activeElement === el && el.type !== \"range\") {\n      if (lazy) {\n        return;\n      }\n      if (trim && el.value.trim() === value) {\n        return;\n      }\n      if ((number || el.type === \"number\") && looseToNumber(el.value) === value) {\n        return;\n      }\n    }\n    const newValue = value == null ? \"\" : value;\n    if (el.value !== newValue) {\n      el.value = newValue;\n    }\n  }\n};\nconst vModelCheckbox = {\n  // #4096 array checkboxes need to be deep traversed\n  deep: true,\n  created(el, _, vnode) {\n    el._assign = getModelAssigner(vnode);\n    addEventListener(el, \"change\", () => {\n      const modelValue = el._modelValue;\n      const elementValue = getValue(el);\n      const checked = el.checked;\n      const assign = el._assign;\n      if (isArray(modelValue)) {\n        const index = looseIndexOf(modelValue, elementValue);\n        const found = index !== -1;\n        if (checked && !found) {\n          assign(modelValue.concat(elementValue));\n        } else if (!checked && found) {\n          const filtered = [...modelValue];\n          filtered.splice(index, 1);\n          assign(filtered);\n        }\n      } else if (isSet(modelValue)) {\n        const cloned = new Set(modelValue);\n        if (checked) {\n          cloned.add(elementValue);\n        } else {\n          cloned.delete(elementValue);\n        }\n        assign(cloned);\n      } else {\n        assign(getCheckboxValue(el, checked));\n      }\n    });\n  },\n  // set initial checked on mount to wait for true-value/false-value\n  mounted: setChecked,\n  beforeUpdate(el, binding, vnode) {\n    el._assign = getModelAssigner(vnode);\n    setChecked(el, binding, vnode);\n  }\n};\nfunction setChecked(el, { value, oldValue }, vnode) {\n  el._modelValue = value;\n  if (isArray(value)) {\n    el.checked = looseIndexOf(value, vnode.props.value) > -1;\n  } else if (isSet(value)) {\n    el.checked = value.has(vnode.props.value);\n  } else if (value !== oldValue) {\n    el.checked = looseEqual(value, getCheckboxValue(el, true));\n  }\n}\nconst vModelRadio = {\n  created(el, { value }, vnode) {\n    el.checked = looseEqual(value, vnode.props.value);\n    el._assign = getModelAssigner(vnode);\n    addEventListener(el, \"change\", () => {\n      el._assign(getValue(el));\n    });\n  },\n  beforeUpdate(el, { value, oldValue }, vnode) {\n    el._assign = getModelAssigner(vnode);\n    if (value !== oldValue) {\n      el.checked = looseEqual(value, vnode.props.value);\n    }\n  }\n};\nconst vModelSelect = {\n  // <select multiple> value need to be deep traversed\n  deep: true,\n  created(el, { value, modifiers: { number } }, vnode) {\n    const isSetModel = isSet(value);\n    addEventListener(el, \"change\", () => {\n      const selectedVal = Array.prototype.filter.call(el.options, (o) => o.selected).map(\n        (o) => number ? looseToNumber(getValue(o)) : getValue(o)\n      );\n      el._assign(\n        el.multiple ? isSetModel ? new Set(selectedVal) : selectedVal : selectedVal[0]\n      );\n    });\n    el._assign = getModelAssigner(vnode);\n  },\n  // set value in mounted & updated because <select> relies on its children\n  // <option>s.\n  mounted(el, { value }) {\n    setSelected(el, value);\n  },\n  beforeUpdate(el, _binding, vnode) {\n    el._assign = getModelAssigner(vnode);\n  },\n  updated(el, { value }) {\n    setSelected(el, value);\n  }\n};\nfunction setSelected(el, value) {\n  const isMultiple = el.multiple;\n  if (isMultiple && !isArray(value) && !isSet(value)) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(\n      `<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(value).slice(8, -1)}.`\n    );\n    return;\n  }\n  for (let i = 0, l = el.options.length; i < l; i++) {\n    const option = el.options[i];\n    const optionValue = getValue(option);\n    if (isMultiple) {\n      if (isArray(value)) {\n        option.selected = looseIndexOf(value, optionValue) > -1;\n      } else {\n        option.selected = value.has(optionValue);\n      }\n    } else {\n      if (looseEqual(getValue(option), value)) {\n        if (el.selectedIndex !== i)\n          el.selectedIndex = i;\n        return;\n      }\n    }\n  }\n  if (!isMultiple && el.selectedIndex !== -1) {\n    el.selectedIndex = -1;\n  }\n}\nfunction getValue(el) {\n  return \"_value\" in el ? el._value : el.value;\n}\nfunction getCheckboxValue(el, checked) {\n  const key = checked ? \"_trueValue\" : \"_falseValue\";\n  return key in el ? el[key] : checked;\n}\nconst vModelDynamic = {\n  created(el, binding, vnode) {\n    callModelHook(el, binding, vnode, null, \"created\");\n  },\n  mounted(el, binding, vnode) {\n    callModelHook(el, binding, vnode, null, \"mounted\");\n  },\n  beforeUpdate(el, binding, vnode, prevVNode) {\n    callModelHook(el, binding, vnode, prevVNode, \"beforeUpdate\");\n  },\n  updated(el, binding, vnode, prevVNode) {\n    callModelHook(el, binding, vnode, prevVNode, \"updated\");\n  }\n};\nfunction resolveDynamicModel(tagName, type) {\n  switch (tagName) {\n    case \"SELECT\":\n      return vModelSelect;\n    case \"TEXTAREA\":\n      return vModelText;\n    default:\n      switch (type) {\n        case \"checkbox\":\n          return vModelCheckbox;\n        case \"radio\":\n          return vModelRadio;\n        default:\n          return vModelText;\n      }\n  }\n}\nfunction callModelHook(el, binding, vnode, prevVNode, hook) {\n  const modelToUse = resolveDynamicModel(\n    el.tagName,\n    vnode.props && vnode.props.type\n  );\n  const fn = modelToUse[hook];\n  fn && fn(el, binding, vnode, prevVNode);\n}\nfunction initVModelForSSR() {\n  vModelText.getSSRProps = ({ value }) => ({ value });\n  vModelRadio.getSSRProps = ({ value }, vnode) => {\n    if (vnode.props && looseEqual(vnode.props.value, value)) {\n      return { checked: true };\n    }\n  };\n  vModelCheckbox.getSSRProps = ({ value }, vnode) => {\n    if (isArray(value)) {\n      if (vnode.props && looseIndexOf(value, vnode.props.value) > -1) {\n        return { checked: true };\n      }\n    } else if (isSet(value)) {\n      if (vnode.props && value.has(vnode.props.value)) {\n        return { checked: true };\n      }\n    } else if (value) {\n      return { checked: true };\n    }\n  };\n  vModelDynamic.getSSRProps = (binding, vnode) => {\n    if (typeof vnode.type !== \"string\") {\n      return;\n    }\n    const modelToUse = resolveDynamicModel(\n      // resolveDynamicModel expects an uppercase tag name, but vnode.type is lowercase\n      vnode.type.toUpperCase(),\n      vnode.props && vnode.props.type\n    );\n    if (modelToUse.getSSRProps) {\n      return modelToUse.getSSRProps(binding, vnode);\n    }\n  };\n}\n\nconst systemModifiers = [\"ctrl\", \"shift\", \"alt\", \"meta\"];\nconst modifierGuards = {\n  stop: (e) => e.stopPropagation(),\n  prevent: (e) => e.preventDefault(),\n  self: (e) => e.target !== e.currentTarget,\n  ctrl: (e) => !e.ctrlKey,\n  shift: (e) => !e.shiftKey,\n  alt: (e) => !e.altKey,\n  meta: (e) => !e.metaKey,\n  left: (e) => \"button\" in e && e.button !== 0,\n  middle: (e) => \"button\" in e && e.button !== 1,\n  right: (e) => \"button\" in e && e.button !== 2,\n  exact: (e, modifiers) => systemModifiers.some((m) => e[`${m}Key`] && !modifiers.includes(m))\n};\nconst withModifiers = (fn, modifiers) => {\n  return (event, ...args) => {\n    for (let i = 0; i < modifiers.length; i++) {\n      const guard = modifierGuards[modifiers[i]];\n      if (guard && guard(event, modifiers))\n        return;\n    }\n    return fn(event, ...args);\n  };\n};\nconst keyNames = {\n  esc: \"escape\",\n  space: \" \",\n  up: \"arrow-up\",\n  left: \"arrow-left\",\n  right: \"arrow-right\",\n  down: \"arrow-down\",\n  delete: \"backspace\"\n};\nconst withKeys = (fn, modifiers) => {\n  return (event) => {\n    if (!(\"key\" in event)) {\n      return;\n    }\n    const eventKey = hyphenate(event.key);\n    if (modifiers.some((k) => k === eventKey || keyNames[k] === eventKey)) {\n      return fn(event);\n    }\n  };\n};\n\nconst vShow = {\n  beforeMount(el, { value }, { transition }) {\n    el._vod = el.style.display === \"none\" ? \"\" : el.style.display;\n    if (transition && value) {\n      transition.beforeEnter(el);\n    } else {\n      setDisplay(el, value);\n    }\n  },\n  mounted(el, { value }, { transition }) {\n    if (transition && value) {\n      transition.enter(el);\n    }\n  },\n  updated(el, { value, oldValue }, { transition }) {\n    if (!value === !oldValue)\n      return;\n    if (transition) {\n      if (value) {\n        transition.beforeEnter(el);\n        setDisplay(el, true);\n        transition.enter(el);\n      } else {\n        transition.leave(el, () => {\n          setDisplay(el, false);\n        });\n      }\n    } else {\n      setDisplay(el, value);\n    }\n  },\n  beforeUnmount(el, { value }) {\n    setDisplay(el, value);\n  }\n};\nfunction setDisplay(el, value) {\n  el.style.display = value ? el._vod : \"none\";\n}\nfunction initVShowForSSR() {\n  vShow.getSSRProps = ({ value }) => {\n    if (!value) {\n      return { style: { display: \"none\" } };\n    }\n  };\n}\n\nconst rendererOptions = /* @__PURE__ */ extend({ patchProp }, nodeOps);\nlet renderer;\nlet enabledHydration = false;\nfunction ensureRenderer() {\n  return renderer || (renderer = createRenderer(rendererOptions));\n}\nfunction ensureHydrationRenderer() {\n  renderer = enabledHydration ? renderer : createHydrationRenderer(rendererOptions);\n  enabledHydration = true;\n  return renderer;\n}\nconst render = (...args) => {\n  ensureRenderer().render(...args);\n};\nconst hydrate = (...args) => {\n  ensureHydrationRenderer().hydrate(...args);\n};\nconst createApp = (...args) => {\n  const app = ensureRenderer().createApp(...args);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    injectNativeTagCheck(app);\n    injectCompilerOptionsCheck(app);\n  }\n  const { mount } = app;\n  app.mount = (containerOrSelector) => {\n    const container = normalizeContainer(containerOrSelector);\n    if (!container)\n      return;\n    const component = app._component;\n    if (!isFunction(component) && !component.render && !component.template) {\n      component.template = container.innerHTML;\n    }\n    container.innerHTML = \"\";\n    const proxy = mount(container, false, container instanceof SVGElement);\n    if (container instanceof Element) {\n      container.removeAttribute(\"v-cloak\");\n      container.setAttribute(\"data-v-app\", \"\");\n    }\n    return proxy;\n  };\n  return app;\n};\nconst createSSRApp = (...args) => {\n  const app = ensureHydrationRenderer().createApp(...args);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    injectNativeTagCheck(app);\n    injectCompilerOptionsCheck(app);\n  }\n  const { mount } = app;\n  app.mount = (containerOrSelector) => {\n    const container = normalizeContainer(containerOrSelector);\n    if (container) {\n      return mount(container, true, container instanceof SVGElement);\n    }\n  };\n  return app;\n};\nfunction injectNativeTagCheck(app) {\n  Object.defineProperty(app.config, \"isNativeTag\", {\n    value: (tag) => isHTMLTag(tag) || isSVGTag(tag),\n    writable: false\n  });\n}\nfunction injectCompilerOptionsCheck(app) {\n  if (isRuntimeOnly()) {\n    const isCustomElement = app.config.isCustomElement;\n    Object.defineProperty(app.config, \"isCustomElement\", {\n      get() {\n        return isCustomElement;\n      },\n      set() {\n        warn(\n          `The \\`isCustomElement\\` config option is deprecated. Use \\`compilerOptions.isCustomElement\\` instead.`\n        );\n      }\n    });\n    const compilerOptions = app.config.compilerOptions;\n    const msg = `The \\`compilerOptions\\` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka \"full build\"). Since you are using the runtime-only build, \\`compilerOptions\\` must be passed to \\`@vue/compiler-dom\\` in the build setup instead.\n- For vue-loader: pass it via vue-loader's \\`compilerOptions\\` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc`;\n    Object.defineProperty(app.config, \"compilerOptions\", {\n      get() {\n        warn(msg);\n        return compilerOptions;\n      },\n      set() {\n        warn(msg);\n      }\n    });\n  }\n}\nfunction normalizeContainer(container) {\n  if (isString(container)) {\n    const res = document.querySelector(container);\n    if (!!(process.env.NODE_ENV !== \"production\") && !res) {\n      warn(\n        `Failed to mount app: mount target selector \"${container}\" returned null.`\n      );\n    }\n    return res;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && window.ShadowRoot && container instanceof window.ShadowRoot && container.mode === \"closed\") {\n    warn(\n      `mounting on a ShadowRoot with \\`{mode: \"closed\"}\\` may lead to unpredictable bugs`\n    );\n  }\n  return container;\n}\nlet ssrDirectiveInitialized = false;\nconst initDirectivesForSSR = () => {\n  if (!ssrDirectiveInitialized) {\n    ssrDirectiveInitialized = true;\n    initVModelForSSR();\n    initVShowForSSR();\n  }\n} ;\n\nexport { Transition, TransitionGroup, VueElement, createApp, createSSRApp, defineCustomElement, defineSSRCustomElement, hydrate, initDirectivesForSSR, render, useCssModule, useCssVars, vModelCheckbox, vModelDynamic, vModelRadio, vModelSelect, vModelText, vShow, withKeys, withModifiers };\n","import { isString, hyphenate, NOOP, extend, isObject, NO, isArray, makeMap, isSymbol, capitalize, camelize, EMPTY_OBJ, PatchFlagNames, slotFlagsText, isOn, isBuiltInDirective, isReservedProp, toHandlerKey } from '@vue/shared';\nexport { generateCodeFrame } from '@vue/shared';\n\nfunction defaultOnError(error) {\n  throw error;\n}\nfunction defaultOnWarn(msg) {\n  !!(process.env.NODE_ENV !== \"production\") && console.warn(`[Vue warn] ${msg.message}`);\n}\nfunction createCompilerError(code, loc, messages, additionalMessage) {\n  const msg = !!(process.env.NODE_ENV !== \"production\") || false ? (messages || errorMessages)[code] + (additionalMessage || ``) : code;\n  const error = new SyntaxError(String(msg));\n  error.code = code;\n  error.loc = loc;\n  return error;\n}\nconst errorMessages = {\n  // parse errors\n  [0]: \"Illegal comment.\",\n  [1]: \"CDATA section is allowed only in XML context.\",\n  [2]: \"Duplicate attribute.\",\n  [3]: \"End tag cannot have attributes.\",\n  [4]: \"Illegal '/' in tags.\",\n  [5]: \"Unexpected EOF in tag.\",\n  [6]: \"Unexpected EOF in CDATA section.\",\n  [7]: \"Unexpected EOF in comment.\",\n  [8]: \"Unexpected EOF in script.\",\n  [9]: \"Unexpected EOF in tag.\",\n  [10]: \"Incorrectly closed comment.\",\n  [11]: \"Incorrectly opened comment.\",\n  [12]: \"Illegal tag name. Use '&lt;' to print '<'.\",\n  [13]: \"Attribute value was expected.\",\n  [14]: \"End tag name was expected.\",\n  [15]: \"Whitespace was expected.\",\n  [16]: \"Unexpected '<!--' in comment.\",\n  [17]: `Attribute name cannot contain U+0022 (\"), U+0027 ('), and U+003C (<).`,\n  [18]: \"Unquoted attribute value cannot contain U+0022 (\\\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).\",\n  [19]: \"Attribute name cannot start with '='.\",\n  [21]: \"'<?' is allowed only in XML context.\",\n  [20]: `Unexpected null character.`,\n  [22]: \"Illegal '/' in tags.\",\n  // Vue-specific parse errors\n  [23]: \"Invalid end tag.\",\n  [24]: \"Element is missing end tag.\",\n  [25]: \"Interpolation end sign was not found.\",\n  [27]: \"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.\",\n  [26]: \"Legal directive name was expected.\",\n  // transform errors\n  [28]: `v-if/v-else-if is missing expression.`,\n  [29]: `v-if/else branches must use unique keys.`,\n  [30]: `v-else/v-else-if has no adjacent v-if or v-else-if.`,\n  [31]: `v-for is missing expression.`,\n  [32]: `v-for has invalid expression.`,\n  [33]: `<template v-for> key should be placed on the <template> tag.`,\n  [34]: `v-bind is missing expression.`,\n  [35]: `v-on is missing expression.`,\n  [36]: `Unexpected custom directive on <slot> outlet.`,\n  [37]: `Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.`,\n  [38]: `Duplicate slot names found. `,\n  [39]: `Extraneous children found when component already has explicitly named default slot. These children will be ignored.`,\n  [40]: `v-slot can only be used on components or <template> tags.`,\n  [41]: `v-model is missing expression.`,\n  [42]: `v-model value must be a valid JavaScript member expression.`,\n  [43]: `v-model cannot be used on v-for or v-slot scope variables because they are not writable.`,\n  [44]: `v-model cannot be used on a prop, because local prop bindings are not writable.\nUse a v-bind binding combined with a v-on listener that emits update:x event instead.`,\n  [45]: `Error parsing JavaScript expression: `,\n  [46]: `<KeepAlive> expects exactly one child component.`,\n  // generic errors\n  [47]: `\"prefixIdentifiers\" option is not supported in this build of compiler.`,\n  [48]: `ES module mode is not supported in this build of compiler.`,\n  [49]: `\"cacheHandlers\" option is only supported when the \"prefixIdentifiers\" option is enabled.`,\n  [50]: `\"scopeId\" option is only supported in module mode.`,\n  // deprecations\n  [51]: `@vnode-* hooks in templates are deprecated. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support will be removed in 3.4.`,\n  [52]: `v-is=\"component-name\" has been deprecated. Use is=\"vue:component-name\" instead. v-is support will be removed in 3.4.`,\n  // just to fulfill types\n  [53]: ``\n};\n\nconst FRAGMENT = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `Fragment` : ``);\nconst TELEPORT = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `Teleport` : ``);\nconst SUSPENSE = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `Suspense` : ``);\nconst KEEP_ALIVE = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `KeepAlive` : ``);\nconst BASE_TRANSITION = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `BaseTransition` : ``);\nconst OPEN_BLOCK = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `openBlock` : ``);\nconst CREATE_BLOCK = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `createBlock` : ``);\nconst CREATE_ELEMENT_BLOCK = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `createElementBlock` : ``);\nconst CREATE_VNODE = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `createVNode` : ``);\nconst CREATE_ELEMENT_VNODE = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `createElementVNode` : ``);\nconst CREATE_COMMENT = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `createCommentVNode` : ``);\nconst CREATE_TEXT = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `createTextVNode` : ``);\nconst CREATE_STATIC = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `createStaticVNode` : ``);\nconst RESOLVE_COMPONENT = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `resolveComponent` : ``);\nconst RESOLVE_DYNAMIC_COMPONENT = Symbol(\n  !!(process.env.NODE_ENV !== \"production\") ? `resolveDynamicComponent` : ``\n);\nconst RESOLVE_DIRECTIVE = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `resolveDirective` : ``);\nconst RESOLVE_FILTER = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `resolveFilter` : ``);\nconst WITH_DIRECTIVES = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `withDirectives` : ``);\nconst RENDER_LIST = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `renderList` : ``);\nconst RENDER_SLOT = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `renderSlot` : ``);\nconst CREATE_SLOTS = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `createSlots` : ``);\nconst TO_DISPLAY_STRING = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `toDisplayString` : ``);\nconst MERGE_PROPS = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `mergeProps` : ``);\nconst NORMALIZE_CLASS = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `normalizeClass` : ``);\nconst NORMALIZE_STYLE = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `normalizeStyle` : ``);\nconst NORMALIZE_PROPS = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `normalizeProps` : ``);\nconst GUARD_REACTIVE_PROPS = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `guardReactiveProps` : ``);\nconst TO_HANDLERS = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `toHandlers` : ``);\nconst CAMELIZE = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `camelize` : ``);\nconst CAPITALIZE = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `capitalize` : ``);\nconst TO_HANDLER_KEY = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `toHandlerKey` : ``);\nconst SET_BLOCK_TRACKING = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `setBlockTracking` : ``);\nconst PUSH_SCOPE_ID = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `pushScopeId` : ``);\nconst POP_SCOPE_ID = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `popScopeId` : ``);\nconst WITH_CTX = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `withCtx` : ``);\nconst UNREF = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `unref` : ``);\nconst IS_REF = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `isRef` : ``);\nconst WITH_MEMO = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `withMemo` : ``);\nconst IS_MEMO_SAME = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `isMemoSame` : ``);\nconst helperNameMap = {\n  [FRAGMENT]: `Fragment`,\n  [TELEPORT]: `Teleport`,\n  [SUSPENSE]: `Suspense`,\n  [KEEP_ALIVE]: `KeepAlive`,\n  [BASE_TRANSITION]: `BaseTransition`,\n  [OPEN_BLOCK]: `openBlock`,\n  [CREATE_BLOCK]: `createBlock`,\n  [CREATE_ELEMENT_BLOCK]: `createElementBlock`,\n  [CREATE_VNODE]: `createVNode`,\n  [CREATE_ELEMENT_VNODE]: `createElementVNode`,\n  [CREATE_COMMENT]: `createCommentVNode`,\n  [CREATE_TEXT]: `createTextVNode`,\n  [CREATE_STATIC]: `createStaticVNode`,\n  [RESOLVE_COMPONENT]: `resolveComponent`,\n  [RESOLVE_DYNAMIC_COMPONENT]: `resolveDynamicComponent`,\n  [RESOLVE_DIRECTIVE]: `resolveDirective`,\n  [RESOLVE_FILTER]: `resolveFilter`,\n  [WITH_DIRECTIVES]: `withDirectives`,\n  [RENDER_LIST]: `renderList`,\n  [RENDER_SLOT]: `renderSlot`,\n  [CREATE_SLOTS]: `createSlots`,\n  [TO_DISPLAY_STRING]: `toDisplayString`,\n  [MERGE_PROPS]: `mergeProps`,\n  [NORMALIZE_CLASS]: `normalizeClass`,\n  [NORMALIZE_STYLE]: `normalizeStyle`,\n  [NORMALIZE_PROPS]: `normalizeProps`,\n  [GUARD_REACTIVE_PROPS]: `guardReactiveProps`,\n  [TO_HANDLERS]: `toHandlers`,\n  [CAMELIZE]: `camelize`,\n  [CAPITALIZE]: `capitalize`,\n  [TO_HANDLER_KEY]: `toHandlerKey`,\n  [SET_BLOCK_TRACKING]: `setBlockTracking`,\n  [PUSH_SCOPE_ID]: `pushScopeId`,\n  [POP_SCOPE_ID]: `popScopeId`,\n  [WITH_CTX]: `withCtx`,\n  [UNREF]: `unref`,\n  [IS_REF]: `isRef`,\n  [WITH_MEMO]: `withMemo`,\n  [IS_MEMO_SAME]: `isMemoSame`\n};\nfunction registerRuntimeHelpers(helpers) {\n  Object.getOwnPropertySymbols(helpers).forEach((s) => {\n    helperNameMap[s] = helpers[s];\n  });\n}\n\nconst locStub = {\n  source: \"\",\n  start: { line: 1, column: 1, offset: 0 },\n  end: { line: 1, column: 1, offset: 0 }\n};\nfunction createRoot(children, loc = locStub) {\n  return {\n    type: 0,\n    children,\n    helpers: /* @__PURE__ */ new Set(),\n    components: [],\n    directives: [],\n    hoists: [],\n    imports: [],\n    cached: 0,\n    temps: 0,\n    codegenNode: void 0,\n    loc\n  };\n}\nfunction createVNodeCall(context, tag, props, children, patchFlag, dynamicProps, directives, isBlock = false, disableTracking = false, isComponent = false, loc = locStub) {\n  if (context) {\n    if (isBlock) {\n      context.helper(OPEN_BLOCK);\n      context.helper(getVNodeBlockHelper(context.inSSR, isComponent));\n    } else {\n      context.helper(getVNodeHelper(context.inSSR, isComponent));\n    }\n    if (directives) {\n      context.helper(WITH_DIRECTIVES);\n    }\n  }\n  return {\n    type: 13,\n    tag,\n    props,\n    children,\n    patchFlag,\n    dynamicProps,\n    directives,\n    isBlock,\n    disableTracking,\n    isComponent,\n    loc\n  };\n}\nfunction createArrayExpression(elements, loc = locStub) {\n  return {\n    type: 17,\n    loc,\n    elements\n  };\n}\nfunction createObjectExpression(properties, loc = locStub) {\n  return {\n    type: 15,\n    loc,\n    properties\n  };\n}\nfunction createObjectProperty(key, value) {\n  return {\n    type: 16,\n    loc: locStub,\n    key: isString(key) ? createSimpleExpression(key, true) : key,\n    value\n  };\n}\nfunction createSimpleExpression(content, isStatic = false, loc = locStub, constType = 0) {\n  return {\n    type: 4,\n    loc,\n    content,\n    isStatic,\n    constType: isStatic ? 3 : constType\n  };\n}\nfunction createInterpolation(content, loc) {\n  return {\n    type: 5,\n    loc,\n    content: isString(content) ? createSimpleExpression(content, false, loc) : content\n  };\n}\nfunction createCompoundExpression(children, loc = locStub) {\n  return {\n    type: 8,\n    loc,\n    children\n  };\n}\nfunction createCallExpression(callee, args = [], loc = locStub) {\n  return {\n    type: 14,\n    loc,\n    callee,\n    arguments: args\n  };\n}\nfunction createFunctionExpression(params, returns = void 0, newline = false, isSlot = false, loc = locStub) {\n  return {\n    type: 18,\n    params,\n    returns,\n    newline,\n    isSlot,\n    loc\n  };\n}\nfunction createConditionalExpression(test, consequent, alternate, newline = true) {\n  return {\n    type: 19,\n    test,\n    consequent,\n    alternate,\n    newline,\n    loc: locStub\n  };\n}\nfunction createCacheExpression(index, value, isVNode = false) {\n  return {\n    type: 20,\n    index,\n    value,\n    isVNode,\n    loc: locStub\n  };\n}\nfunction createBlockStatement(body) {\n  return {\n    type: 21,\n    body,\n    loc: locStub\n  };\n}\nfunction createTemplateLiteral(elements) {\n  return {\n    type: 22,\n    elements,\n    loc: locStub\n  };\n}\nfunction createIfStatement(test, consequent, alternate) {\n  return {\n    type: 23,\n    test,\n    consequent,\n    alternate,\n    loc: locStub\n  };\n}\nfunction createAssignmentExpression(left, right) {\n  return {\n    type: 24,\n    left,\n    right,\n    loc: locStub\n  };\n}\nfunction createSequenceExpression(expressions) {\n  return {\n    type: 25,\n    expressions,\n    loc: locStub\n  };\n}\nfunction createReturnStatement(returns) {\n  return {\n    type: 26,\n    returns,\n    loc: locStub\n  };\n}\nfunction getVNodeHelper(ssr, isComponent) {\n  return ssr || isComponent ? CREATE_VNODE : CREATE_ELEMENT_VNODE;\n}\nfunction getVNodeBlockHelper(ssr, isComponent) {\n  return ssr || isComponent ? CREATE_BLOCK : CREATE_ELEMENT_BLOCK;\n}\nfunction convertToBlock(node, { helper, removeHelper, inSSR }) {\n  if (!node.isBlock) {\n    node.isBlock = true;\n    removeHelper(getVNodeHelper(inSSR, node.isComponent));\n    helper(OPEN_BLOCK);\n    helper(getVNodeBlockHelper(inSSR, node.isComponent));\n  }\n}\n\nconst isStaticExp = (p) => p.type === 4 && p.isStatic;\nconst isBuiltInType = (tag, expected) => tag === expected || tag === hyphenate(expected);\nfunction isCoreComponent(tag) {\n  if (isBuiltInType(tag, \"Teleport\")) {\n    return TELEPORT;\n  } else if (isBuiltInType(tag, \"Suspense\")) {\n    return SUSPENSE;\n  } else if (isBuiltInType(tag, \"KeepAlive\")) {\n    return KEEP_ALIVE;\n  } else if (isBuiltInType(tag, \"BaseTransition\")) {\n    return BASE_TRANSITION;\n  }\n}\nconst nonIdentifierRE = /^\\d|[^\\$\\w]/;\nconst isSimpleIdentifier = (name) => !nonIdentifierRE.test(name);\nconst validFirstIdentCharRE = /[A-Za-z_$\\xA0-\\uFFFF]/;\nconst validIdentCharRE = /[\\.\\?\\w$\\xA0-\\uFFFF]/;\nconst whitespaceRE = /\\s+[.[]\\s*|\\s*[.[]\\s+/g;\nconst isMemberExpressionBrowser = (path) => {\n  path = path.trim().replace(whitespaceRE, (s) => s.trim());\n  let state = 0 /* inMemberExp */;\n  let stateStack = [];\n  let currentOpenBracketCount = 0;\n  let currentOpenParensCount = 0;\n  let currentStringType = null;\n  for (let i = 0; i < path.length; i++) {\n    const char = path.charAt(i);\n    switch (state) {\n      case 0 /* inMemberExp */:\n        if (char === \"[\") {\n          stateStack.push(state);\n          state = 1 /* inBrackets */;\n          currentOpenBracketCount++;\n        } else if (char === \"(\") {\n          stateStack.push(state);\n          state = 2 /* inParens */;\n          currentOpenParensCount++;\n        } else if (!(i === 0 ? validFirstIdentCharRE : validIdentCharRE).test(char)) {\n          return false;\n        }\n        break;\n      case 1 /* inBrackets */:\n        if (char === `'` || char === `\"` || char === \"`\") {\n          stateStack.push(state);\n          state = 3 /* inString */;\n          currentStringType = char;\n        } else if (char === `[`) {\n          currentOpenBracketCount++;\n        } else if (char === `]`) {\n          if (!--currentOpenBracketCount) {\n            state = stateStack.pop();\n          }\n        }\n        break;\n      case 2 /* inParens */:\n        if (char === `'` || char === `\"` || char === \"`\") {\n          stateStack.push(state);\n          state = 3 /* inString */;\n          currentStringType = char;\n        } else if (char === `(`) {\n          currentOpenParensCount++;\n        } else if (char === `)`) {\n          if (i === path.length - 1) {\n            return false;\n          }\n          if (!--currentOpenParensCount) {\n            state = stateStack.pop();\n          }\n        }\n        break;\n      case 3 /* inString */:\n        if (char === currentStringType) {\n          state = stateStack.pop();\n          currentStringType = null;\n        }\n        break;\n    }\n  }\n  return !currentOpenBracketCount && !currentOpenParensCount;\n};\nconst isMemberExpressionNode = NOOP ;\nconst isMemberExpression = isMemberExpressionBrowser ;\nfunction getInnerRange(loc, offset, length) {\n  const source = loc.source.slice(offset, offset + length);\n  const newLoc = {\n    source,\n    start: advancePositionWithClone(loc.start, loc.source, offset),\n    end: loc.end\n  };\n  if (length != null) {\n    newLoc.end = advancePositionWithClone(\n      loc.start,\n      loc.source,\n      offset + length\n    );\n  }\n  return newLoc;\n}\nfunction advancePositionWithClone(pos, source, numberOfCharacters = source.length) {\n  return advancePositionWithMutation(\n    extend({}, pos),\n    source,\n    numberOfCharacters\n  );\n}\nfunction advancePositionWithMutation(pos, source, numberOfCharacters = source.length) {\n  let linesCount = 0;\n  let lastNewLinePos = -1;\n  for (let i = 0; i < numberOfCharacters; i++) {\n    if (source.charCodeAt(i) === 10) {\n      linesCount++;\n      lastNewLinePos = i;\n    }\n  }\n  pos.offset += numberOfCharacters;\n  pos.line += linesCount;\n  pos.column = lastNewLinePos === -1 ? pos.column + numberOfCharacters : numberOfCharacters - lastNewLinePos;\n  return pos;\n}\nfunction assert(condition, msg) {\n  if (!condition) {\n    throw new Error(msg || `unexpected compiler condition`);\n  }\n}\nfunction findDir(node, name, allowEmpty = false) {\n  for (let i = 0; i < node.props.length; i++) {\n    const p = node.props[i];\n    if (p.type === 7 && (allowEmpty || p.exp) && (isString(name) ? p.name === name : name.test(p.name))) {\n      return p;\n    }\n  }\n}\nfunction findProp(node, name, dynamicOnly = false, allowEmpty = false) {\n  for (let i = 0; i < node.props.length; i++) {\n    const p = node.props[i];\n    if (p.type === 6) {\n      if (dynamicOnly)\n        continue;\n      if (p.name === name && (p.value || allowEmpty)) {\n        return p;\n      }\n    } else if (p.name === \"bind\" && (p.exp || allowEmpty) && isStaticArgOf(p.arg, name)) {\n      return p;\n    }\n  }\n}\nfunction isStaticArgOf(arg, name) {\n  return !!(arg && isStaticExp(arg) && arg.content === name);\n}\nfunction hasDynamicKeyVBind(node) {\n  return node.props.some(\n    (p) => p.type === 7 && p.name === \"bind\" && (!p.arg || // v-bind=\"obj\"\n    p.arg.type !== 4 || // v-bind:[_ctx.foo]\n    !p.arg.isStatic)\n    // v-bind:[foo]\n  );\n}\nfunction isText$1(node) {\n  return node.type === 5 || node.type === 2;\n}\nfunction isVSlot(p) {\n  return p.type === 7 && p.name === \"slot\";\n}\nfunction isTemplateNode(node) {\n  return node.type === 1 && node.tagType === 3;\n}\nfunction isSlotOutlet(node) {\n  return node.type === 1 && node.tagType === 2;\n}\nconst propsHelperSet = /* @__PURE__ */ new Set([NORMALIZE_PROPS, GUARD_REACTIVE_PROPS]);\nfunction getUnnormalizedProps(props, callPath = []) {\n  if (props && !isString(props) && props.type === 14) {\n    const callee = props.callee;\n    if (!isString(callee) && propsHelperSet.has(callee)) {\n      return getUnnormalizedProps(\n        props.arguments[0],\n        callPath.concat(props)\n      );\n    }\n  }\n  return [props, callPath];\n}\nfunction injectProp(node, prop, context) {\n  let propsWithInjection;\n  let props = node.type === 13 ? node.props : node.arguments[2];\n  let callPath = [];\n  let parentCall;\n  if (props && !isString(props) && props.type === 14) {\n    const ret = getUnnormalizedProps(props);\n    props = ret[0];\n    callPath = ret[1];\n    parentCall = callPath[callPath.length - 1];\n  }\n  if (props == null || isString(props)) {\n    propsWithInjection = createObjectExpression([prop]);\n  } else if (props.type === 14) {\n    const first = props.arguments[0];\n    if (!isString(first) && first.type === 15) {\n      if (!hasProp(prop, first)) {\n        first.properties.unshift(prop);\n      }\n    } else {\n      if (props.callee === TO_HANDLERS) {\n        propsWithInjection = createCallExpression(context.helper(MERGE_PROPS), [\n          createObjectExpression([prop]),\n          props\n        ]);\n      } else {\n        props.arguments.unshift(createObjectExpression([prop]));\n      }\n    }\n    !propsWithInjection && (propsWithInjection = props);\n  } else if (props.type === 15) {\n    if (!hasProp(prop, props)) {\n      props.properties.unshift(prop);\n    }\n    propsWithInjection = props;\n  } else {\n    propsWithInjection = createCallExpression(context.helper(MERGE_PROPS), [\n      createObjectExpression([prop]),\n      props\n    ]);\n    if (parentCall && parentCall.callee === GUARD_REACTIVE_PROPS) {\n      parentCall = callPath[callPath.length - 2];\n    }\n  }\n  if (node.type === 13) {\n    if (parentCall) {\n      parentCall.arguments[0] = propsWithInjection;\n    } else {\n      node.props = propsWithInjection;\n    }\n  } else {\n    if (parentCall) {\n      parentCall.arguments[0] = propsWithInjection;\n    } else {\n      node.arguments[2] = propsWithInjection;\n    }\n  }\n}\nfunction hasProp(prop, props) {\n  let result = false;\n  if (prop.key.type === 4) {\n    const propKeyName = prop.key.content;\n    result = props.properties.some(\n      (p) => p.key.type === 4 && p.key.content === propKeyName\n    );\n  }\n  return result;\n}\nfunction toValidAssetId(name, type) {\n  return `_${type}_${name.replace(/[^\\w]/g, (searchValue, replaceValue) => {\n    return searchValue === \"-\" ? \"_\" : name.charCodeAt(replaceValue).toString();\n  })}`;\n}\nfunction hasScopeRef(node, ids) {\n  if (!node || Object.keys(ids).length === 0) {\n    return false;\n  }\n  switch (node.type) {\n    case 1:\n      for (let i = 0; i < node.props.length; i++) {\n        const p = node.props[i];\n        if (p.type === 7 && (hasScopeRef(p.arg, ids) || hasScopeRef(p.exp, ids))) {\n          return true;\n        }\n      }\n      return node.children.some((c) => hasScopeRef(c, ids));\n    case 11:\n      if (hasScopeRef(node.source, ids)) {\n        return true;\n      }\n      return node.children.some((c) => hasScopeRef(c, ids));\n    case 9:\n      return node.branches.some((b) => hasScopeRef(b, ids));\n    case 10:\n      if (hasScopeRef(node.condition, ids)) {\n        return true;\n      }\n      return node.children.some((c) => hasScopeRef(c, ids));\n    case 4:\n      return !node.isStatic && isSimpleIdentifier(node.content) && !!ids[node.content];\n    case 8:\n      return node.children.some((c) => isObject(c) && hasScopeRef(c, ids));\n    case 5:\n    case 12:\n      return hasScopeRef(node.content, ids);\n    case 2:\n    case 3:\n      return false;\n    default:\n      if (!!(process.env.NODE_ENV !== \"production\")) ;\n      return false;\n  }\n}\nfunction getMemoedVNodeCall(node) {\n  if (node.type === 14 && node.callee === WITH_MEMO) {\n    return node.arguments[1].returns;\n  } else {\n    return node;\n  }\n}\n\nconst deprecationData = {\n  [\"COMPILER_IS_ON_ELEMENT\"]: {\n    message: `Platform-native elements with \"is\" prop will no longer be treated as components in Vue 3 unless the \"is\" value is explicitly prefixed with \"vue:\".`,\n    link: `https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html`\n  },\n  [\"COMPILER_V_BIND_SYNC\"]: {\n    message: (key) => `.sync modifier for v-bind has been removed. Use v-model with argument instead. \\`v-bind:${key}.sync\\` should be changed to \\`v-model:${key}\\`.`,\n    link: `https://v3-migration.vuejs.org/breaking-changes/v-model.html`\n  },\n  [\"COMPILER_V_BIND_PROP\"]: {\n    message: `.prop modifier for v-bind has been removed and no longer necessary. Vue 3 will automatically set a binding as DOM property when appropriate.`\n  },\n  [\"COMPILER_V_BIND_OBJECT_ORDER\"]: {\n    message: `v-bind=\"obj\" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.`,\n    link: `https://v3-migration.vuejs.org/breaking-changes/v-bind.html`\n  },\n  [\"COMPILER_V_ON_NATIVE\"]: {\n    message: `.native modifier for v-on has been removed as is no longer necessary.`,\n    link: `https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html`\n  },\n  [\"COMPILER_V_IF_V_FOR_PRECEDENCE\"]: {\n    message: `v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.`,\n    link: `https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html`\n  },\n  [\"COMPILER_NATIVE_TEMPLATE\"]: {\n    message: `<template> with no special directives will render as a native template element instead of its inner content in Vue 3.`\n  },\n  [\"COMPILER_INLINE_TEMPLATE\"]: {\n    message: `\"inline-template\" has been removed in Vue 3.`,\n    link: `https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html`\n  },\n  [\"COMPILER_FILTER\"]: {\n    message: `filters have been removed in Vue 3. The \"|\" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.`,\n    link: `https://v3-migration.vuejs.org/breaking-changes/filters.html`\n  }\n};\nfunction getCompatValue(key, context) {\n  const config = context.options ? context.options.compatConfig : context.compatConfig;\n  const value = config && config[key];\n  if (key === \"MODE\") {\n    return value || 3;\n  } else {\n    return value;\n  }\n}\nfunction isCompatEnabled(key, context) {\n  const mode = getCompatValue(\"MODE\", context);\n  const value = getCompatValue(key, context);\n  return mode === 3 ? value === true : value !== false;\n}\nfunction checkCompatEnabled(key, context, loc, ...args) {\n  const enabled = isCompatEnabled(key, context);\n  if (!!(process.env.NODE_ENV !== \"production\") && enabled) {\n    warnDeprecation(key, context, loc, ...args);\n  }\n  return enabled;\n}\nfunction warnDeprecation(key, context, loc, ...args) {\n  const val = getCompatValue(key, context);\n  if (val === \"suppress-warning\") {\n    return;\n  }\n  const { message, link } = deprecationData[key];\n  const msg = `(deprecation ${key}) ${typeof message === \"function\" ? message(...args) : message}${link ? `\n  Details: ${link}` : ``}`;\n  const err = new SyntaxError(msg);\n  err.code = key;\n  if (loc)\n    err.loc = loc;\n  context.onWarn(err);\n}\n\nconst decodeRE = /&(gt|lt|amp|apos|quot);/g;\nconst decodeMap = {\n  gt: \">\",\n  lt: \"<\",\n  amp: \"&\",\n  apos: \"'\",\n  quot: '\"'\n};\nconst defaultParserOptions = {\n  delimiters: [`{{`, `}}`],\n  getNamespace: () => 0,\n  getTextMode: () => 0,\n  isVoidTag: NO,\n  isPreTag: NO,\n  isCustomElement: NO,\n  decodeEntities: (rawText) => rawText.replace(decodeRE, (_, p1) => decodeMap[p1]),\n  onError: defaultOnError,\n  onWarn: defaultOnWarn,\n  comments: !!(process.env.NODE_ENV !== \"production\")\n};\nfunction baseParse(content, options = {}) {\n  const context = createParserContext(content, options);\n  const start = getCursor(context);\n  return createRoot(\n    parseChildren(context, 0, []),\n    getSelection(context, start)\n  );\n}\nfunction createParserContext(content, rawOptions) {\n  const options = extend({}, defaultParserOptions);\n  let key;\n  for (key in rawOptions) {\n    options[key] = rawOptions[key] === void 0 ? defaultParserOptions[key] : rawOptions[key];\n  }\n  return {\n    options,\n    column: 1,\n    line: 1,\n    offset: 0,\n    originalSource: content,\n    source: content,\n    inPre: false,\n    inVPre: false,\n    onWarn: options.onWarn\n  };\n}\nfunction parseChildren(context, mode, ancestors) {\n  const parent = last(ancestors);\n  const ns = parent ? parent.ns : 0;\n  const nodes = [];\n  while (!isEnd(context, mode, ancestors)) {\n    const s = context.source;\n    let node = void 0;\n    if (mode === 0 || mode === 1) {\n      if (!context.inVPre && startsWith(s, context.options.delimiters[0])) {\n        node = parseInterpolation(context, mode);\n      } else if (mode === 0 && s[0] === \"<\") {\n        if (s.length === 1) {\n          emitError(context, 5, 1);\n        } else if (s[1] === \"!\") {\n          if (startsWith(s, \"<!--\")) {\n            node = parseComment(context);\n          } else if (startsWith(s, \"<!DOCTYPE\")) {\n            node = parseBogusComment(context);\n          } else if (startsWith(s, \"<![CDATA[\")) {\n            if (ns !== 0) {\n              node = parseCDATA(context, ancestors);\n            } else {\n              emitError(context, 1);\n              node = parseBogusComment(context);\n            }\n          } else {\n            emitError(context, 11);\n            node = parseBogusComment(context);\n          }\n        } else if (s[1] === \"/\") {\n          if (s.length === 2) {\n            emitError(context, 5, 2);\n          } else if (s[2] === \">\") {\n            emitError(context, 14, 2);\n            advanceBy(context, 3);\n            continue;\n          } else if (/[a-z]/i.test(s[2])) {\n            emitError(context, 23);\n            parseTag(context, TagType.End, parent);\n            continue;\n          } else {\n            emitError(\n              context,\n              12,\n              2\n            );\n            node = parseBogusComment(context);\n          }\n        } else if (/[a-z]/i.test(s[1])) {\n          node = parseElement(context, ancestors);\n          if (isCompatEnabled(\n            \"COMPILER_NATIVE_TEMPLATE\",\n            context\n          ) && node && node.tag === \"template\" && !node.props.some(\n            (p) => p.type === 7 && isSpecialTemplateDirective(p.name)\n          )) {\n            !!(process.env.NODE_ENV !== \"production\") && warnDeprecation(\n              \"COMPILER_NATIVE_TEMPLATE\",\n              context,\n              node.loc\n            );\n            node = node.children;\n          }\n        } else if (s[1] === \"?\") {\n          emitError(\n            context,\n            21,\n            1\n          );\n          node = parseBogusComment(context);\n        } else {\n          emitError(context, 12, 1);\n        }\n      }\n    }\n    if (!node) {\n      node = parseText(context, mode);\n    }\n    if (isArray(node)) {\n      for (let i = 0; i < node.length; i++) {\n        pushNode(nodes, node[i]);\n      }\n    } else {\n      pushNode(nodes, node);\n    }\n  }\n  let removedWhitespace = false;\n  if (mode !== 2 && mode !== 1) {\n    const shouldCondense = context.options.whitespace !== \"preserve\";\n    for (let i = 0; i < nodes.length; i++) {\n      const node = nodes[i];\n      if (node.type === 2) {\n        if (!context.inPre) {\n          if (!/[^\\t\\r\\n\\f ]/.test(node.content)) {\n            const prev = nodes[i - 1];\n            const next = nodes[i + 1];\n            if (!prev || !next || shouldCondense && (prev.type === 3 && next.type === 3 || prev.type === 3 && next.type === 1 || prev.type === 1 && next.type === 3 || prev.type === 1 && next.type === 1 && /[\\r\\n]/.test(node.content))) {\n              removedWhitespace = true;\n              nodes[i] = null;\n            } else {\n              node.content = \" \";\n            }\n          } else if (shouldCondense) {\n            node.content = node.content.replace(/[\\t\\r\\n\\f ]+/g, \" \");\n          }\n        } else {\n          node.content = node.content.replace(/\\r\\n/g, \"\\n\");\n        }\n      } else if (node.type === 3 && !context.options.comments) {\n        removedWhitespace = true;\n        nodes[i] = null;\n      }\n    }\n    if (context.inPre && parent && context.options.isPreTag(parent.tag)) {\n      const first = nodes[0];\n      if (first && first.type === 2) {\n        first.content = first.content.replace(/^\\r?\\n/, \"\");\n      }\n    }\n  }\n  return removedWhitespace ? nodes.filter(Boolean) : nodes;\n}\nfunction pushNode(nodes, node) {\n  if (node.type === 2) {\n    const prev = last(nodes);\n    if (prev && prev.type === 2 && prev.loc.end.offset === node.loc.start.offset) {\n      prev.content += node.content;\n      prev.loc.end = node.loc.end;\n      prev.loc.source += node.loc.source;\n      return;\n    }\n  }\n  nodes.push(node);\n}\nfunction parseCDATA(context, ancestors) {\n  advanceBy(context, 9);\n  const nodes = parseChildren(context, 3, ancestors);\n  if (context.source.length === 0) {\n    emitError(context, 6);\n  } else {\n    advanceBy(context, 3);\n  }\n  return nodes;\n}\nfunction parseComment(context) {\n  const start = getCursor(context);\n  let content;\n  const match = /--(\\!)?>/.exec(context.source);\n  if (!match) {\n    content = context.source.slice(4);\n    advanceBy(context, context.source.length);\n    emitError(context, 7);\n  } else {\n    if (match.index <= 3) {\n      emitError(context, 0);\n    }\n    if (match[1]) {\n      emitError(context, 10);\n    }\n    content = context.source.slice(4, match.index);\n    const s = context.source.slice(0, match.index);\n    let prevIndex = 1, nestedIndex = 0;\n    while ((nestedIndex = s.indexOf(\"<!--\", prevIndex)) !== -1) {\n      advanceBy(context, nestedIndex - prevIndex + 1);\n      if (nestedIndex + 4 < s.length) {\n        emitError(context, 16);\n      }\n      prevIndex = nestedIndex + 1;\n    }\n    advanceBy(context, match.index + match[0].length - prevIndex + 1);\n  }\n  return {\n    type: 3,\n    content,\n    loc: getSelection(context, start)\n  };\n}\nfunction parseBogusComment(context) {\n  const start = getCursor(context);\n  const contentStart = context.source[1] === \"?\" ? 1 : 2;\n  let content;\n  const closeIndex = context.source.indexOf(\">\");\n  if (closeIndex === -1) {\n    content = context.source.slice(contentStart);\n    advanceBy(context, context.source.length);\n  } else {\n    content = context.source.slice(contentStart, closeIndex);\n    advanceBy(context, closeIndex + 1);\n  }\n  return {\n    type: 3,\n    content,\n    loc: getSelection(context, start)\n  };\n}\nfunction parseElement(context, ancestors) {\n  const wasInPre = context.inPre;\n  const wasInVPre = context.inVPre;\n  const parent = last(ancestors);\n  const element = parseTag(context, TagType.Start, parent);\n  const isPreBoundary = context.inPre && !wasInPre;\n  const isVPreBoundary = context.inVPre && !wasInVPre;\n  if (element.isSelfClosing || context.options.isVoidTag(element.tag)) {\n    if (isPreBoundary) {\n      context.inPre = false;\n    }\n    if (isVPreBoundary) {\n      context.inVPre = false;\n    }\n    return element;\n  }\n  ancestors.push(element);\n  const mode = context.options.getTextMode(element, parent);\n  const children = parseChildren(context, mode, ancestors);\n  ancestors.pop();\n  {\n    const inlineTemplateProp = element.props.find(\n      (p) => p.type === 6 && p.name === \"inline-template\"\n    );\n    if (inlineTemplateProp && checkCompatEnabled(\n      \"COMPILER_INLINE_TEMPLATE\",\n      context,\n      inlineTemplateProp.loc\n    )) {\n      const loc = getSelection(context, element.loc.end);\n      inlineTemplateProp.value = {\n        type: 2,\n        content: loc.source,\n        loc\n      };\n    }\n  }\n  element.children = children;\n  if (startsWithEndTagOpen(context.source, element.tag)) {\n    parseTag(context, TagType.End, parent);\n  } else {\n    emitError(context, 24, 0, element.loc.start);\n    if (context.source.length === 0 && element.tag.toLowerCase() === \"script\") {\n      const first = children[0];\n      if (first && startsWith(first.loc.source, \"<!--\")) {\n        emitError(context, 8);\n      }\n    }\n  }\n  element.loc = getSelection(context, element.loc.start);\n  if (isPreBoundary) {\n    context.inPre = false;\n  }\n  if (isVPreBoundary) {\n    context.inVPre = false;\n  }\n  return element;\n}\nvar TagType = /* @__PURE__ */ ((TagType2) => {\n  TagType2[TagType2[\"Start\"] = 0] = \"Start\";\n  TagType2[TagType2[\"End\"] = 1] = \"End\";\n  return TagType2;\n})(TagType || {});\nconst isSpecialTemplateDirective = /* @__PURE__ */ makeMap(\n  `if,else,else-if,for,slot`\n);\nfunction parseTag(context, type, parent) {\n  const start = getCursor(context);\n  const match = /^<\\/?([a-z][^\\t\\r\\n\\f />]*)/i.exec(context.source);\n  const tag = match[1];\n  const ns = context.options.getNamespace(tag, parent);\n  advanceBy(context, match[0].length);\n  advanceSpaces(context);\n  const cursor = getCursor(context);\n  const currentSource = context.source;\n  if (context.options.isPreTag(tag)) {\n    context.inPre = true;\n  }\n  let props = parseAttributes(context, type);\n  if (type === 0 /* Start */ && !context.inVPre && props.some((p) => p.type === 7 && p.name === \"pre\")) {\n    context.inVPre = true;\n    extend(context, cursor);\n    context.source = currentSource;\n    props = parseAttributes(context, type).filter((p) => p.name !== \"v-pre\");\n  }\n  let isSelfClosing = false;\n  if (context.source.length === 0) {\n    emitError(context, 9);\n  } else {\n    isSelfClosing = startsWith(context.source, \"/>\");\n    if (type === 1 /* End */ && isSelfClosing) {\n      emitError(context, 4);\n    }\n    advanceBy(context, isSelfClosing ? 2 : 1);\n  }\n  if (type === 1 /* End */) {\n    return;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && isCompatEnabled(\n    \"COMPILER_V_IF_V_FOR_PRECEDENCE\",\n    context\n  )) {\n    let hasIf = false;\n    let hasFor = false;\n    for (let i = 0; i < props.length; i++) {\n      const p = props[i];\n      if (p.type === 7) {\n        if (p.name === \"if\") {\n          hasIf = true;\n        } else if (p.name === \"for\") {\n          hasFor = true;\n        }\n      }\n      if (hasIf && hasFor) {\n        warnDeprecation(\n          \"COMPILER_V_IF_V_FOR_PRECEDENCE\",\n          context,\n          getSelection(context, start)\n        );\n        break;\n      }\n    }\n  }\n  let tagType = 0;\n  if (!context.inVPre) {\n    if (tag === \"slot\") {\n      tagType = 2;\n    } else if (tag === \"template\") {\n      if (props.some(\n        (p) => p.type === 7 && isSpecialTemplateDirective(p.name)\n      )) {\n        tagType = 3;\n      }\n    } else if (isComponent(tag, props, context)) {\n      tagType = 1;\n    }\n  }\n  return {\n    type: 1,\n    ns,\n    tag,\n    tagType,\n    props,\n    isSelfClosing,\n    children: [],\n    loc: getSelection(context, start),\n    codegenNode: void 0\n    // to be created during transform phase\n  };\n}\nfunction isComponent(tag, props, context) {\n  const options = context.options;\n  if (options.isCustomElement(tag)) {\n    return false;\n  }\n  if (tag === \"component\" || /^[A-Z]/.test(tag) || isCoreComponent(tag) || options.isBuiltInComponent && options.isBuiltInComponent(tag) || options.isNativeTag && !options.isNativeTag(tag)) {\n    return true;\n  }\n  for (let i = 0; i < props.length; i++) {\n    const p = props[i];\n    if (p.type === 6) {\n      if (p.name === \"is\" && p.value) {\n        if (p.value.content.startsWith(\"vue:\")) {\n          return true;\n        } else if (checkCompatEnabled(\n          \"COMPILER_IS_ON_ELEMENT\",\n          context,\n          p.loc\n        )) {\n          return true;\n        }\n      }\n    } else {\n      if (p.name === \"is\") {\n        return true;\n      } else if (\n        // :is on plain element - only treat as component in compat mode\n        p.name === \"bind\" && isStaticArgOf(p.arg, \"is\") && true && checkCompatEnabled(\n          \"COMPILER_IS_ON_ELEMENT\",\n          context,\n          p.loc\n        )\n      ) {\n        return true;\n      }\n    }\n  }\n}\nfunction parseAttributes(context, type) {\n  const props = [];\n  const attributeNames = /* @__PURE__ */ new Set();\n  while (context.source.length > 0 && !startsWith(context.source, \">\") && !startsWith(context.source, \"/>\")) {\n    if (startsWith(context.source, \"/\")) {\n      emitError(context, 22);\n      advanceBy(context, 1);\n      advanceSpaces(context);\n      continue;\n    }\n    if (type === 1 /* End */) {\n      emitError(context, 3);\n    }\n    const attr = parseAttribute(context, attributeNames);\n    if (attr.type === 6 && attr.value && attr.name === \"class\") {\n      attr.value.content = attr.value.content.replace(/\\s+/g, \" \").trim();\n    }\n    if (type === 0 /* Start */) {\n      props.push(attr);\n    }\n    if (/^[^\\t\\r\\n\\f />]/.test(context.source)) {\n      emitError(context, 15);\n    }\n    advanceSpaces(context);\n  }\n  return props;\n}\nfunction parseAttribute(context, nameSet) {\n  var _a;\n  const start = getCursor(context);\n  const match = /^[^\\t\\r\\n\\f />][^\\t\\r\\n\\f />=]*/.exec(context.source);\n  const name = match[0];\n  if (nameSet.has(name)) {\n    emitError(context, 2);\n  }\n  nameSet.add(name);\n  if (name[0] === \"=\") {\n    emitError(context, 19);\n  }\n  {\n    const pattern = /[\"'<]/g;\n    let m;\n    while (m = pattern.exec(name)) {\n      emitError(\n        context,\n        17,\n        m.index\n      );\n    }\n  }\n  advanceBy(context, name.length);\n  let value = void 0;\n  if (/^[\\t\\r\\n\\f ]*=/.test(context.source)) {\n    advanceSpaces(context);\n    advanceBy(context, 1);\n    advanceSpaces(context);\n    value = parseAttributeValue(context);\n    if (!value) {\n      emitError(context, 13);\n    }\n  }\n  const loc = getSelection(context, start);\n  if (!context.inVPre && /^(v-[A-Za-z0-9-]|:|\\.|@|#)/.test(name)) {\n    const match2 = /(?:^v-([a-z0-9-]+))?(?:(?::|^\\.|^@|^#)(\\[[^\\]]+\\]|[^\\.]+))?(.+)?$/i.exec(\n      name\n    );\n    let isPropShorthand = startsWith(name, \".\");\n    let dirName = match2[1] || (isPropShorthand || startsWith(name, \":\") ? \"bind\" : startsWith(name, \"@\") ? \"on\" : \"slot\");\n    let arg;\n    if (match2[2]) {\n      const isSlot = dirName === \"slot\";\n      const startOffset = name.lastIndexOf(\n        match2[2],\n        name.length - (((_a = match2[3]) == null ? void 0 : _a.length) || 0)\n      );\n      const loc2 = getSelection(\n        context,\n        getNewPosition(context, start, startOffset),\n        getNewPosition(\n          context,\n          start,\n          startOffset + match2[2].length + (isSlot && match2[3] || \"\").length\n        )\n      );\n      let content = match2[2];\n      let isStatic = true;\n      if (content.startsWith(\"[\")) {\n        isStatic = false;\n        if (!content.endsWith(\"]\")) {\n          emitError(\n            context,\n            27\n          );\n          content = content.slice(1);\n        } else {\n          content = content.slice(1, content.length - 1);\n        }\n      } else if (isSlot) {\n        content += match2[3] || \"\";\n      }\n      arg = {\n        type: 4,\n        content,\n        isStatic,\n        constType: isStatic ? 3 : 0,\n        loc: loc2\n      };\n    }\n    if (value && value.isQuoted) {\n      const valueLoc = value.loc;\n      valueLoc.start.offset++;\n      valueLoc.start.column++;\n      valueLoc.end = advancePositionWithClone(valueLoc.start, value.content);\n      valueLoc.source = valueLoc.source.slice(1, -1);\n    }\n    const modifiers = match2[3] ? match2[3].slice(1).split(\".\") : [];\n    if (isPropShorthand)\n      modifiers.push(\"prop\");\n    if (dirName === \"bind\" && arg) {\n      if (modifiers.includes(\"sync\") && checkCompatEnabled(\n        \"COMPILER_V_BIND_SYNC\",\n        context,\n        loc,\n        arg.loc.source\n      )) {\n        dirName = \"model\";\n        modifiers.splice(modifiers.indexOf(\"sync\"), 1);\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && modifiers.includes(\"prop\")) {\n        checkCompatEnabled(\n          \"COMPILER_V_BIND_PROP\",\n          context,\n          loc\n        );\n      }\n    }\n    return {\n      type: 7,\n      name: dirName,\n      exp: value && {\n        type: 4,\n        content: value.content,\n        isStatic: false,\n        // Treat as non-constant by default. This can be potentially set to\n        // other values by `transformExpression` to make it eligible for hoisting.\n        constType: 0,\n        loc: value.loc\n      },\n      arg,\n      modifiers,\n      loc\n    };\n  }\n  if (!context.inVPre && startsWith(name, \"v-\")) {\n    emitError(context, 26);\n  }\n  return {\n    type: 6,\n    name,\n    value: value && {\n      type: 2,\n      content: value.content,\n      loc: value.loc\n    },\n    loc\n  };\n}\nfunction parseAttributeValue(context) {\n  const start = getCursor(context);\n  let content;\n  const quote = context.source[0];\n  const isQuoted = quote === `\"` || quote === `'`;\n  if (isQuoted) {\n    advanceBy(context, 1);\n    const endIndex = context.source.indexOf(quote);\n    if (endIndex === -1) {\n      content = parseTextData(\n        context,\n        context.source.length,\n        4\n      );\n    } else {\n      content = parseTextData(context, endIndex, 4);\n      advanceBy(context, 1);\n    }\n  } else {\n    const match = /^[^\\t\\r\\n\\f >]+/.exec(context.source);\n    if (!match) {\n      return void 0;\n    }\n    const unexpectedChars = /[\"'<=`]/g;\n    let m;\n    while (m = unexpectedChars.exec(match[0])) {\n      emitError(\n        context,\n        18,\n        m.index\n      );\n    }\n    content = parseTextData(context, match[0].length, 4);\n  }\n  return { content, isQuoted, loc: getSelection(context, start) };\n}\nfunction parseInterpolation(context, mode) {\n  const [open, close] = context.options.delimiters;\n  const closeIndex = context.source.indexOf(close, open.length);\n  if (closeIndex === -1) {\n    emitError(context, 25);\n    return void 0;\n  }\n  const start = getCursor(context);\n  advanceBy(context, open.length);\n  const innerStart = getCursor(context);\n  const innerEnd = getCursor(context);\n  const rawContentLength = closeIndex - open.length;\n  const rawContent = context.source.slice(0, rawContentLength);\n  const preTrimContent = parseTextData(context, rawContentLength, mode);\n  const content = preTrimContent.trim();\n  const startOffset = preTrimContent.indexOf(content);\n  if (startOffset > 0) {\n    advancePositionWithMutation(innerStart, rawContent, startOffset);\n  }\n  const endOffset = rawContentLength - (preTrimContent.length - content.length - startOffset);\n  advancePositionWithMutation(innerEnd, rawContent, endOffset);\n  advanceBy(context, close.length);\n  return {\n    type: 5,\n    content: {\n      type: 4,\n      isStatic: false,\n      // Set `isConstant` to false by default and will decide in transformExpression\n      constType: 0,\n      content,\n      loc: getSelection(context, innerStart, innerEnd)\n    },\n    loc: getSelection(context, start)\n  };\n}\nfunction parseText(context, mode) {\n  const endTokens = mode === 3 ? [\"]]>\"] : [\"<\", context.options.delimiters[0]];\n  let endIndex = context.source.length;\n  for (let i = 0; i < endTokens.length; i++) {\n    const index = context.source.indexOf(endTokens[i], 1);\n    if (index !== -1 && endIndex > index) {\n      endIndex = index;\n    }\n  }\n  const start = getCursor(context);\n  const content = parseTextData(context, endIndex, mode);\n  return {\n    type: 2,\n    content,\n    loc: getSelection(context, start)\n  };\n}\nfunction parseTextData(context, length, mode) {\n  const rawText = context.source.slice(0, length);\n  advanceBy(context, length);\n  if (mode === 2 || mode === 3 || !rawText.includes(\"&\")) {\n    return rawText;\n  } else {\n    return context.options.decodeEntities(\n      rawText,\n      mode === 4\n    );\n  }\n}\nfunction getCursor(context) {\n  const { column, line, offset } = context;\n  return { column, line, offset };\n}\nfunction getSelection(context, start, end) {\n  end = end || getCursor(context);\n  return {\n    start,\n    end,\n    source: context.originalSource.slice(start.offset, end.offset)\n  };\n}\nfunction last(xs) {\n  return xs[xs.length - 1];\n}\nfunction startsWith(source, searchString) {\n  return source.startsWith(searchString);\n}\nfunction advanceBy(context, numberOfCharacters) {\n  const { source } = context;\n  advancePositionWithMutation(context, source, numberOfCharacters);\n  context.source = source.slice(numberOfCharacters);\n}\nfunction advanceSpaces(context) {\n  const match = /^[\\t\\r\\n\\f ]+/.exec(context.source);\n  if (match) {\n    advanceBy(context, match[0].length);\n  }\n}\nfunction getNewPosition(context, start, numberOfCharacters) {\n  return advancePositionWithClone(\n    start,\n    context.originalSource.slice(start.offset, numberOfCharacters),\n    numberOfCharacters\n  );\n}\nfunction emitError(context, code, offset, loc = getCursor(context)) {\n  if (offset) {\n    loc.offset += offset;\n    loc.column += offset;\n  }\n  context.options.onError(\n    createCompilerError(code, {\n      start: loc,\n      end: loc,\n      source: \"\"\n    })\n  );\n}\nfunction isEnd(context, mode, ancestors) {\n  const s = context.source;\n  switch (mode) {\n    case 0:\n      if (startsWith(s, \"</\")) {\n        for (let i = ancestors.length - 1; i >= 0; --i) {\n          if (startsWithEndTagOpen(s, ancestors[i].tag)) {\n            return true;\n          }\n        }\n      }\n      break;\n    case 1:\n    case 2: {\n      const parent = last(ancestors);\n      if (parent && startsWithEndTagOpen(s, parent.tag)) {\n        return true;\n      }\n      break;\n    }\n    case 3:\n      if (startsWith(s, \"]]>\")) {\n        return true;\n      }\n      break;\n  }\n  return !s;\n}\nfunction startsWithEndTagOpen(source, tag) {\n  return startsWith(source, \"</\") && source.slice(2, 2 + tag.length).toLowerCase() === tag.toLowerCase() && /[\\t\\r\\n\\f />]/.test(source[2 + tag.length] || \">\");\n}\n\nfunction hoistStatic(root, context) {\n  walk(\n    root,\n    context,\n    // Root node is unfortunately non-hoistable due to potential parent\n    // fallthrough attributes.\n    isSingleElementRoot(root, root.children[0])\n  );\n}\nfunction isSingleElementRoot(root, child) {\n  const { children } = root;\n  return children.length === 1 && child.type === 1 && !isSlotOutlet(child);\n}\nfunction walk(node, context, doNotHoistNode = false) {\n  const { children } = node;\n  const originalCount = children.length;\n  let hoistedCount = 0;\n  for (let i = 0; i < children.length; i++) {\n    const child = children[i];\n    if (child.type === 1 && child.tagType === 0) {\n      const constantType = doNotHoistNode ? 0 : getConstantType(child, context);\n      if (constantType > 0) {\n        if (constantType >= 2) {\n          child.codegenNode.patchFlag = -1 + (!!(process.env.NODE_ENV !== \"production\") ? ` /* HOISTED */` : ``);\n          child.codegenNode = context.hoist(child.codegenNode);\n          hoistedCount++;\n          continue;\n        }\n      } else {\n        const codegenNode = child.codegenNode;\n        if (codegenNode.type === 13) {\n          const flag = getPatchFlag(codegenNode);\n          if ((!flag || flag === 512 || flag === 1) && getGeneratedPropsConstantType(child, context) >= 2) {\n            const props = getNodeProps(child);\n            if (props) {\n              codegenNode.props = context.hoist(props);\n            }\n          }\n          if (codegenNode.dynamicProps) {\n            codegenNode.dynamicProps = context.hoist(codegenNode.dynamicProps);\n          }\n        }\n      }\n    }\n    if (child.type === 1) {\n      const isComponent = child.tagType === 1;\n      if (isComponent) {\n        context.scopes.vSlot++;\n      }\n      walk(child, context);\n      if (isComponent) {\n        context.scopes.vSlot--;\n      }\n    } else if (child.type === 11) {\n      walk(child, context, child.children.length === 1);\n    } else if (child.type === 9) {\n      for (let i2 = 0; i2 < child.branches.length; i2++) {\n        walk(\n          child.branches[i2],\n          context,\n          child.branches[i2].children.length === 1\n        );\n      }\n    }\n  }\n  if (hoistedCount && context.transformHoist) {\n    context.transformHoist(children, context, node);\n  }\n  if (hoistedCount && hoistedCount === originalCount && node.type === 1 && node.tagType === 0 && node.codegenNode && node.codegenNode.type === 13 && isArray(node.codegenNode.children)) {\n    node.codegenNode.children = context.hoist(\n      createArrayExpression(node.codegenNode.children)\n    );\n  }\n}\nfunction getConstantType(node, context) {\n  const { constantCache } = context;\n  switch (node.type) {\n    case 1:\n      if (node.tagType !== 0) {\n        return 0;\n      }\n      const cached = constantCache.get(node);\n      if (cached !== void 0) {\n        return cached;\n      }\n      const codegenNode = node.codegenNode;\n      if (codegenNode.type !== 13) {\n        return 0;\n      }\n      if (codegenNode.isBlock && node.tag !== \"svg\" && node.tag !== \"foreignObject\") {\n        return 0;\n      }\n      const flag = getPatchFlag(codegenNode);\n      if (!flag) {\n        let returnType2 = 3;\n        const generatedPropsType = getGeneratedPropsConstantType(node, context);\n        if (generatedPropsType === 0) {\n          constantCache.set(node, 0);\n          return 0;\n        }\n        if (generatedPropsType < returnType2) {\n          returnType2 = generatedPropsType;\n        }\n        for (let i = 0; i < node.children.length; i++) {\n          const childType = getConstantType(node.children[i], context);\n          if (childType === 0) {\n            constantCache.set(node, 0);\n            return 0;\n          }\n          if (childType < returnType2) {\n            returnType2 = childType;\n          }\n        }\n        if (returnType2 > 1) {\n          for (let i = 0; i < node.props.length; i++) {\n            const p = node.props[i];\n            if (p.type === 7 && p.name === \"bind\" && p.exp) {\n              const expType = getConstantType(p.exp, context);\n              if (expType === 0) {\n                constantCache.set(node, 0);\n                return 0;\n              }\n              if (expType < returnType2) {\n                returnType2 = expType;\n              }\n            }\n          }\n        }\n        if (codegenNode.isBlock) {\n          for (let i = 0; i < node.props.length; i++) {\n            const p = node.props[i];\n            if (p.type === 7) {\n              constantCache.set(node, 0);\n              return 0;\n            }\n          }\n          context.removeHelper(OPEN_BLOCK);\n          context.removeHelper(\n            getVNodeBlockHelper(context.inSSR, codegenNode.isComponent)\n          );\n          codegenNode.isBlock = false;\n          context.helper(getVNodeHelper(context.inSSR, codegenNode.isComponent));\n        }\n        constantCache.set(node, returnType2);\n        return returnType2;\n      } else {\n        constantCache.set(node, 0);\n        return 0;\n      }\n    case 2:\n    case 3:\n      return 3;\n    case 9:\n    case 11:\n    case 10:\n      return 0;\n    case 5:\n    case 12:\n      return getConstantType(node.content, context);\n    case 4:\n      return node.constType;\n    case 8:\n      let returnType = 3;\n      for (let i = 0; i < node.children.length; i++) {\n        const child = node.children[i];\n        if (isString(child) || isSymbol(child)) {\n          continue;\n        }\n        const childType = getConstantType(child, context);\n        if (childType === 0) {\n          return 0;\n        } else if (childType < returnType) {\n          returnType = childType;\n        }\n      }\n      return returnType;\n    default:\n      if (!!(process.env.NODE_ENV !== \"production\")) ;\n      return 0;\n  }\n}\nconst allowHoistedHelperSet = /* @__PURE__ */ new Set([\n  NORMALIZE_CLASS,\n  NORMALIZE_STYLE,\n  NORMALIZE_PROPS,\n  GUARD_REACTIVE_PROPS\n]);\nfunction getConstantTypeOfHelperCall(value, context) {\n  if (value.type === 14 && !isString(value.callee) && allowHoistedHelperSet.has(value.callee)) {\n    const arg = value.arguments[0];\n    if (arg.type === 4) {\n      return getConstantType(arg, context);\n    } else if (arg.type === 14) {\n      return getConstantTypeOfHelperCall(arg, context);\n    }\n  }\n  return 0;\n}\nfunction getGeneratedPropsConstantType(node, context) {\n  let returnType = 3;\n  const props = getNodeProps(node);\n  if (props && props.type === 15) {\n    const { properties } = props;\n    for (let i = 0; i < properties.length; i++) {\n      const { key, value } = properties[i];\n      const keyType = getConstantType(key, context);\n      if (keyType === 0) {\n        return keyType;\n      }\n      if (keyType < returnType) {\n        returnType = keyType;\n      }\n      let valueType;\n      if (value.type === 4) {\n        valueType = getConstantType(value, context);\n      } else if (value.type === 14) {\n        valueType = getConstantTypeOfHelperCall(value, context);\n      } else {\n        valueType = 0;\n      }\n      if (valueType === 0) {\n        return valueType;\n      }\n      if (valueType < returnType) {\n        returnType = valueType;\n      }\n    }\n  }\n  return returnType;\n}\nfunction getNodeProps(node) {\n  const codegenNode = node.codegenNode;\n  if (codegenNode.type === 13) {\n    return codegenNode.props;\n  }\n}\nfunction getPatchFlag(node) {\n  const flag = node.patchFlag;\n  return flag ? parseInt(flag, 10) : void 0;\n}\n\nfunction createTransformContext(root, {\n  filename = \"\",\n  prefixIdentifiers = false,\n  hoistStatic: hoistStatic2 = false,\n  cacheHandlers = false,\n  nodeTransforms = [],\n  directiveTransforms = {},\n  transformHoist = null,\n  isBuiltInComponent = NOOP,\n  isCustomElement = NOOP,\n  expressionPlugins = [],\n  scopeId = null,\n  slotted = true,\n  ssr = false,\n  inSSR = false,\n  ssrCssVars = ``,\n  bindingMetadata = EMPTY_OBJ,\n  inline = false,\n  isTS = false,\n  onError = defaultOnError,\n  onWarn = defaultOnWarn,\n  compatConfig\n}) {\n  const nameMatch = filename.replace(/\\?.*$/, \"\").match(/([^/\\\\]+)\\.\\w+$/);\n  const context = {\n    // options\n    selfName: nameMatch && capitalize(camelize(nameMatch[1])),\n    prefixIdentifiers,\n    hoistStatic: hoistStatic2,\n    cacheHandlers,\n    nodeTransforms,\n    directiveTransforms,\n    transformHoist,\n    isBuiltInComponent,\n    isCustomElement,\n    expressionPlugins,\n    scopeId,\n    slotted,\n    ssr,\n    inSSR,\n    ssrCssVars,\n    bindingMetadata,\n    inline,\n    isTS,\n    onError,\n    onWarn,\n    compatConfig,\n    // state\n    root,\n    helpers: /* @__PURE__ */ new Map(),\n    components: /* @__PURE__ */ new Set(),\n    directives: /* @__PURE__ */ new Set(),\n    hoists: [],\n    imports: [],\n    constantCache: /* @__PURE__ */ new Map(),\n    temps: 0,\n    cached: 0,\n    identifiers: /* @__PURE__ */ Object.create(null),\n    scopes: {\n      vFor: 0,\n      vSlot: 0,\n      vPre: 0,\n      vOnce: 0\n    },\n    parent: null,\n    currentNode: root,\n    childIndex: 0,\n    inVOnce: false,\n    // methods\n    helper(name) {\n      const count = context.helpers.get(name) || 0;\n      context.helpers.set(name, count + 1);\n      return name;\n    },\n    removeHelper(name) {\n      const count = context.helpers.get(name);\n      if (count) {\n        const currentCount = count - 1;\n        if (!currentCount) {\n          context.helpers.delete(name);\n        } else {\n          context.helpers.set(name, currentCount);\n        }\n      }\n    },\n    helperString(name) {\n      return `_${helperNameMap[context.helper(name)]}`;\n    },\n    replaceNode(node) {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        if (!context.currentNode) {\n          throw new Error(`Node being replaced is already removed.`);\n        }\n        if (!context.parent) {\n          throw new Error(`Cannot replace root node.`);\n        }\n      }\n      context.parent.children[context.childIndex] = context.currentNode = node;\n    },\n    removeNode(node) {\n      if (!!(process.env.NODE_ENV !== \"production\") && !context.parent) {\n        throw new Error(`Cannot remove root node.`);\n      }\n      const list = context.parent.children;\n      const removalIndex = node ? list.indexOf(node) : context.currentNode ? context.childIndex : -1;\n      if (!!(process.env.NODE_ENV !== \"production\") && removalIndex < 0) {\n        throw new Error(`node being removed is not a child of current parent`);\n      }\n      if (!node || node === context.currentNode) {\n        context.currentNode = null;\n        context.onNodeRemoved();\n      } else {\n        if (context.childIndex > removalIndex) {\n          context.childIndex--;\n          context.onNodeRemoved();\n        }\n      }\n      context.parent.children.splice(removalIndex, 1);\n    },\n    onNodeRemoved: () => {\n    },\n    addIdentifiers(exp) {\n    },\n    removeIdentifiers(exp) {\n    },\n    hoist(exp) {\n      if (isString(exp))\n        exp = createSimpleExpression(exp);\n      context.hoists.push(exp);\n      const identifier = createSimpleExpression(\n        `_hoisted_${context.hoists.length}`,\n        false,\n        exp.loc,\n        2\n      );\n      identifier.hoisted = exp;\n      return identifier;\n    },\n    cache(exp, isVNode = false) {\n      return createCacheExpression(context.cached++, exp, isVNode);\n    }\n  };\n  {\n    context.filters = /* @__PURE__ */ new Set();\n  }\n  return context;\n}\nfunction transform(root, options) {\n  const context = createTransformContext(root, options);\n  traverseNode(root, context);\n  if (options.hoistStatic) {\n    hoistStatic(root, context);\n  }\n  if (!options.ssr) {\n    createRootCodegen(root, context);\n  }\n  root.helpers = /* @__PURE__ */ new Set([...context.helpers.keys()]);\n  root.components = [...context.components];\n  root.directives = [...context.directives];\n  root.imports = context.imports;\n  root.hoists = context.hoists;\n  root.temps = context.temps;\n  root.cached = context.cached;\n  {\n    root.filters = [...context.filters];\n  }\n}\nfunction createRootCodegen(root, context) {\n  const { helper } = context;\n  const { children } = root;\n  if (children.length === 1) {\n    const child = children[0];\n    if (isSingleElementRoot(root, child) && child.codegenNode) {\n      const codegenNode = child.codegenNode;\n      if (codegenNode.type === 13) {\n        convertToBlock(codegenNode, context);\n      }\n      root.codegenNode = codegenNode;\n    } else {\n      root.codegenNode = child;\n    }\n  } else if (children.length > 1) {\n    let patchFlag = 64;\n    let patchFlagText = PatchFlagNames[64];\n    if (!!(process.env.NODE_ENV !== \"production\") && children.filter((c) => c.type !== 3).length === 1) {\n      patchFlag |= 2048;\n      patchFlagText += `, ${PatchFlagNames[2048]}`;\n    }\n    root.codegenNode = createVNodeCall(\n      context,\n      helper(FRAGMENT),\n      void 0,\n      root.children,\n      patchFlag + (!!(process.env.NODE_ENV !== \"production\") ? ` /* ${patchFlagText} */` : ``),\n      void 0,\n      void 0,\n      true,\n      void 0,\n      false\n      /* isComponent */\n    );\n  } else ;\n}\nfunction traverseChildren(parent, context) {\n  let i = 0;\n  const nodeRemoved = () => {\n    i--;\n  };\n  for (; i < parent.children.length; i++) {\n    const child = parent.children[i];\n    if (isString(child))\n      continue;\n    context.parent = parent;\n    context.childIndex = i;\n    context.onNodeRemoved = nodeRemoved;\n    traverseNode(child, context);\n  }\n}\nfunction traverseNode(node, context) {\n  context.currentNode = node;\n  const { nodeTransforms } = context;\n  const exitFns = [];\n  for (let i2 = 0; i2 < nodeTransforms.length; i2++) {\n    const onExit = nodeTransforms[i2](node, context);\n    if (onExit) {\n      if (isArray(onExit)) {\n        exitFns.push(...onExit);\n      } else {\n        exitFns.push(onExit);\n      }\n    }\n    if (!context.currentNode) {\n      return;\n    } else {\n      node = context.currentNode;\n    }\n  }\n  switch (node.type) {\n    case 3:\n      if (!context.ssr) {\n        context.helper(CREATE_COMMENT);\n      }\n      break;\n    case 5:\n      if (!context.ssr) {\n        context.helper(TO_DISPLAY_STRING);\n      }\n      break;\n    case 9:\n      for (let i2 = 0; i2 < node.branches.length; i2++) {\n        traverseNode(node.branches[i2], context);\n      }\n      break;\n    case 10:\n    case 11:\n    case 1:\n    case 0:\n      traverseChildren(node, context);\n      break;\n  }\n  context.currentNode = node;\n  let i = exitFns.length;\n  while (i--) {\n    exitFns[i]();\n  }\n}\nfunction createStructuralDirectiveTransform(name, fn) {\n  const matches = isString(name) ? (n) => n === name : (n) => name.test(n);\n  return (node, context) => {\n    if (node.type === 1) {\n      const { props } = node;\n      if (node.tagType === 3 && props.some(isVSlot)) {\n        return;\n      }\n      const exitFns = [];\n      for (let i = 0; i < props.length; i++) {\n        const prop = props[i];\n        if (prop.type === 7 && matches(prop.name)) {\n          props.splice(i, 1);\n          i--;\n          const onExit = fn(node, prop, context);\n          if (onExit)\n            exitFns.push(onExit);\n        }\n      }\n      return exitFns;\n    }\n  };\n}\n\nconst PURE_ANNOTATION = `/*#__PURE__*/`;\nconst aliasHelper = (s) => `${helperNameMap[s]}: _${helperNameMap[s]}`;\nfunction createCodegenContext(ast, {\n  mode = \"function\",\n  prefixIdentifiers = mode === \"module\",\n  sourceMap = false,\n  filename = `template.vue.html`,\n  scopeId = null,\n  optimizeImports = false,\n  runtimeGlobalName = `Vue`,\n  runtimeModuleName = `vue`,\n  ssrRuntimeModuleName = \"vue/server-renderer\",\n  ssr = false,\n  isTS = false,\n  inSSR = false\n}) {\n  const context = {\n    mode,\n    prefixIdentifiers,\n    sourceMap,\n    filename,\n    scopeId,\n    optimizeImports,\n    runtimeGlobalName,\n    runtimeModuleName,\n    ssrRuntimeModuleName,\n    ssr,\n    isTS,\n    inSSR,\n    source: ast.loc.source,\n    code: ``,\n    column: 1,\n    line: 1,\n    offset: 0,\n    indentLevel: 0,\n    pure: false,\n    map: void 0,\n    helper(key) {\n      return `_${helperNameMap[key]}`;\n    },\n    push(code, node) {\n      context.code += code;\n    },\n    indent() {\n      newline(++context.indentLevel);\n    },\n    deindent(withoutNewLine = false) {\n      if (withoutNewLine) {\n        --context.indentLevel;\n      } else {\n        newline(--context.indentLevel);\n      }\n    },\n    newline() {\n      newline(context.indentLevel);\n    }\n  };\n  function newline(n) {\n    context.push(\"\\n\" + `  `.repeat(n));\n  }\n  return context;\n}\nfunction generate(ast, options = {}) {\n  const context = createCodegenContext(ast, options);\n  if (options.onContextCreated)\n    options.onContextCreated(context);\n  const {\n    mode,\n    push,\n    prefixIdentifiers,\n    indent,\n    deindent,\n    newline,\n    scopeId,\n    ssr\n  } = context;\n  const helpers = Array.from(ast.helpers);\n  const hasHelpers = helpers.length > 0;\n  const useWithBlock = !prefixIdentifiers && mode !== \"module\";\n  const isSetupInlined = false;\n  const preambleContext = isSetupInlined ? createCodegenContext(ast, options) : context;\n  {\n    genFunctionPreamble(ast, preambleContext);\n  }\n  const functionName = ssr ? `ssrRender` : `render`;\n  const args = ssr ? [\"_ctx\", \"_push\", \"_parent\", \"_attrs\"] : [\"_ctx\", \"_cache\"];\n  const signature = args.join(\", \");\n  {\n    push(`function ${functionName}(${signature}) {`);\n  }\n  indent();\n  if (useWithBlock) {\n    push(`with (_ctx) {`);\n    indent();\n    if (hasHelpers) {\n      push(`const { ${helpers.map(aliasHelper).join(\", \")} } = _Vue`);\n      push(`\n`);\n      newline();\n    }\n  }\n  if (ast.components.length) {\n    genAssets(ast.components, \"component\", context);\n    if (ast.directives.length || ast.temps > 0) {\n      newline();\n    }\n  }\n  if (ast.directives.length) {\n    genAssets(ast.directives, \"directive\", context);\n    if (ast.temps > 0) {\n      newline();\n    }\n  }\n  if (ast.filters && ast.filters.length) {\n    newline();\n    genAssets(ast.filters, \"filter\", context);\n    newline();\n  }\n  if (ast.temps > 0) {\n    push(`let `);\n    for (let i = 0; i < ast.temps; i++) {\n      push(`${i > 0 ? `, ` : ``}_temp${i}`);\n    }\n  }\n  if (ast.components.length || ast.directives.length || ast.temps) {\n    push(`\n`);\n    newline();\n  }\n  if (!ssr) {\n    push(`return `);\n  }\n  if (ast.codegenNode) {\n    genNode(ast.codegenNode, context);\n  } else {\n    push(`null`);\n  }\n  if (useWithBlock) {\n    deindent();\n    push(`}`);\n  }\n  deindent();\n  push(`}`);\n  return {\n    ast,\n    code: context.code,\n    preamble: isSetupInlined ? preambleContext.code : ``,\n    // SourceMapGenerator does have toJSON() method but it's not in the types\n    map: context.map ? context.map.toJSON() : void 0\n  };\n}\nfunction genFunctionPreamble(ast, context) {\n  const {\n    ssr,\n    prefixIdentifiers,\n    push,\n    newline,\n    runtimeModuleName,\n    runtimeGlobalName,\n    ssrRuntimeModuleName\n  } = context;\n  const VueBinding = runtimeGlobalName;\n  const helpers = Array.from(ast.helpers);\n  if (helpers.length > 0) {\n    {\n      push(`const _Vue = ${VueBinding}\n`);\n      if (ast.hoists.length) {\n        const staticHelpers = [\n          CREATE_VNODE,\n          CREATE_ELEMENT_VNODE,\n          CREATE_COMMENT,\n          CREATE_TEXT,\n          CREATE_STATIC\n        ].filter((helper) => helpers.includes(helper)).map(aliasHelper).join(\", \");\n        push(`const { ${staticHelpers} } = _Vue\n`);\n      }\n    }\n  }\n  genHoists(ast.hoists, context);\n  newline();\n  push(`return `);\n}\nfunction genAssets(assets, type, { helper, push, newline, isTS }) {\n  const resolver = helper(\n    type === \"filter\" ? RESOLVE_FILTER : type === \"component\" ? RESOLVE_COMPONENT : RESOLVE_DIRECTIVE\n  );\n  for (let i = 0; i < assets.length; i++) {\n    let id = assets[i];\n    const maybeSelfReference = id.endsWith(\"__self\");\n    if (maybeSelfReference) {\n      id = id.slice(0, -6);\n    }\n    push(\n      `const ${toValidAssetId(id, type)} = ${resolver}(${JSON.stringify(id)}${maybeSelfReference ? `, true` : ``})${isTS ? `!` : ``}`\n    );\n    if (i < assets.length - 1) {\n      newline();\n    }\n  }\n}\nfunction genHoists(hoists, context) {\n  if (!hoists.length) {\n    return;\n  }\n  context.pure = true;\n  const { push, newline, helper, scopeId, mode } = context;\n  newline();\n  for (let i = 0; i < hoists.length; i++) {\n    const exp = hoists[i];\n    if (exp) {\n      push(\n        `const _hoisted_${i + 1} = ${``}`\n      );\n      genNode(exp, context);\n      newline();\n    }\n  }\n  context.pure = false;\n}\nfunction isText(n) {\n  return isString(n) || n.type === 4 || n.type === 2 || n.type === 5 || n.type === 8;\n}\nfunction genNodeListAsArray(nodes, context) {\n  const multilines = nodes.length > 3 || !!(process.env.NODE_ENV !== \"production\") && nodes.some((n) => isArray(n) || !isText(n));\n  context.push(`[`);\n  multilines && context.indent();\n  genNodeList(nodes, context, multilines);\n  multilines && context.deindent();\n  context.push(`]`);\n}\nfunction genNodeList(nodes, context, multilines = false, comma = true) {\n  const { push, newline } = context;\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i];\n    if (isString(node)) {\n      push(node);\n    } else if (isArray(node)) {\n      genNodeListAsArray(node, context);\n    } else {\n      genNode(node, context);\n    }\n    if (i < nodes.length - 1) {\n      if (multilines) {\n        comma && push(\",\");\n        newline();\n      } else {\n        comma && push(\", \");\n      }\n    }\n  }\n}\nfunction genNode(node, context) {\n  if (isString(node)) {\n    context.push(node);\n    return;\n  }\n  if (isSymbol(node)) {\n    context.push(context.helper(node));\n    return;\n  }\n  switch (node.type) {\n    case 1:\n    case 9:\n    case 11:\n      !!(process.env.NODE_ENV !== \"production\") && assert(\n        node.codegenNode != null,\n        `Codegen node is missing for element/if/for node. Apply appropriate transforms first.`\n      );\n      genNode(node.codegenNode, context);\n      break;\n    case 2:\n      genText(node, context);\n      break;\n    case 4:\n      genExpression(node, context);\n      break;\n    case 5:\n      genInterpolation(node, context);\n      break;\n    case 12:\n      genNode(node.codegenNode, context);\n      break;\n    case 8:\n      genCompoundExpression(node, context);\n      break;\n    case 3:\n      genComment(node, context);\n      break;\n    case 13:\n      genVNodeCall(node, context);\n      break;\n    case 14:\n      genCallExpression(node, context);\n      break;\n    case 15:\n      genObjectExpression(node, context);\n      break;\n    case 17:\n      genArrayExpression(node, context);\n      break;\n    case 18:\n      genFunctionExpression(node, context);\n      break;\n    case 19:\n      genConditionalExpression(node, context);\n      break;\n    case 20:\n      genCacheExpression(node, context);\n      break;\n    case 21:\n      genNodeList(node.body, context, true, false);\n      break;\n    case 22:\n      break;\n    case 23:\n      break;\n    case 24:\n      break;\n    case 25:\n      break;\n    case 26:\n      break;\n    case 10:\n      break;\n    default:\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        assert(false, `unhandled codegen node type: ${node.type}`);\n        const exhaustiveCheck = node;\n        return exhaustiveCheck;\n      }\n  }\n}\nfunction genText(node, context) {\n  context.push(JSON.stringify(node.content), node);\n}\nfunction genExpression(node, context) {\n  const { content, isStatic } = node;\n  context.push(isStatic ? JSON.stringify(content) : content, node);\n}\nfunction genInterpolation(node, context) {\n  const { push, helper, pure } = context;\n  if (pure)\n    push(PURE_ANNOTATION);\n  push(`${helper(TO_DISPLAY_STRING)}(`);\n  genNode(node.content, context);\n  push(`)`);\n}\nfunction genCompoundExpression(node, context) {\n  for (let i = 0; i < node.children.length; i++) {\n    const child = node.children[i];\n    if (isString(child)) {\n      context.push(child);\n    } else {\n      genNode(child, context);\n    }\n  }\n}\nfunction genExpressionAsPropertyKey(node, context) {\n  const { push } = context;\n  if (node.type === 8) {\n    push(`[`);\n    genCompoundExpression(node, context);\n    push(`]`);\n  } else if (node.isStatic) {\n    const text = isSimpleIdentifier(node.content) ? node.content : JSON.stringify(node.content);\n    push(text, node);\n  } else {\n    push(`[${node.content}]`, node);\n  }\n}\nfunction genComment(node, context) {\n  const { push, helper, pure } = context;\n  if (pure) {\n    push(PURE_ANNOTATION);\n  }\n  push(`${helper(CREATE_COMMENT)}(${JSON.stringify(node.content)})`, node);\n}\nfunction genVNodeCall(node, context) {\n  const { push, helper, pure } = context;\n  const {\n    tag,\n    props,\n    children,\n    patchFlag,\n    dynamicProps,\n    directives,\n    isBlock,\n    disableTracking,\n    isComponent\n  } = node;\n  if (directives) {\n    push(helper(WITH_DIRECTIVES) + `(`);\n  }\n  if (isBlock) {\n    push(`(${helper(OPEN_BLOCK)}(${disableTracking ? `true` : ``}), `);\n  }\n  if (pure) {\n    push(PURE_ANNOTATION);\n  }\n  const callHelper = isBlock ? getVNodeBlockHelper(context.inSSR, isComponent) : getVNodeHelper(context.inSSR, isComponent);\n  push(helper(callHelper) + `(`, node);\n  genNodeList(\n    genNullableArgs([tag, props, children, patchFlag, dynamicProps]),\n    context\n  );\n  push(`)`);\n  if (isBlock) {\n    push(`)`);\n  }\n  if (directives) {\n    push(`, `);\n    genNode(directives, context);\n    push(`)`);\n  }\n}\nfunction genNullableArgs(args) {\n  let i = args.length;\n  while (i--) {\n    if (args[i] != null)\n      break;\n  }\n  return args.slice(0, i + 1).map((arg) => arg || `null`);\n}\nfunction genCallExpression(node, context) {\n  const { push, helper, pure } = context;\n  const callee = isString(node.callee) ? node.callee : helper(node.callee);\n  if (pure) {\n    push(PURE_ANNOTATION);\n  }\n  push(callee + `(`, node);\n  genNodeList(node.arguments, context);\n  push(`)`);\n}\nfunction genObjectExpression(node, context) {\n  const { push, indent, deindent, newline } = context;\n  const { properties } = node;\n  if (!properties.length) {\n    push(`{}`, node);\n    return;\n  }\n  const multilines = properties.length > 1 || !!(process.env.NODE_ENV !== \"production\") && properties.some((p) => p.value.type !== 4);\n  push(multilines ? `{` : `{ `);\n  multilines && indent();\n  for (let i = 0; i < properties.length; i++) {\n    const { key, value } = properties[i];\n    genExpressionAsPropertyKey(key, context);\n    push(`: `);\n    genNode(value, context);\n    if (i < properties.length - 1) {\n      push(`,`);\n      newline();\n    }\n  }\n  multilines && deindent();\n  push(multilines ? `}` : ` }`);\n}\nfunction genArrayExpression(node, context) {\n  genNodeListAsArray(node.elements, context);\n}\nfunction genFunctionExpression(node, context) {\n  const { push, indent, deindent } = context;\n  const { params, returns, body, newline, isSlot } = node;\n  if (isSlot) {\n    push(`_${helperNameMap[WITH_CTX]}(`);\n  }\n  push(`(`, node);\n  if (isArray(params)) {\n    genNodeList(params, context);\n  } else if (params) {\n    genNode(params, context);\n  }\n  push(`) => `);\n  if (newline || body) {\n    push(`{`);\n    indent();\n  }\n  if (returns) {\n    if (newline) {\n      push(`return `);\n    }\n    if (isArray(returns)) {\n      genNodeListAsArray(returns, context);\n    } else {\n      genNode(returns, context);\n    }\n  } else if (body) {\n    genNode(body, context);\n  }\n  if (newline || body) {\n    deindent();\n    push(`}`);\n  }\n  if (isSlot) {\n    if (node.isNonScopedSlot) {\n      push(`, undefined, true`);\n    }\n    push(`)`);\n  }\n}\nfunction genConditionalExpression(node, context) {\n  const { test, consequent, alternate, newline: needNewline } = node;\n  const { push, indent, deindent, newline } = context;\n  if (test.type === 4) {\n    const needsParens = !isSimpleIdentifier(test.content);\n    needsParens && push(`(`);\n    genExpression(test, context);\n    needsParens && push(`)`);\n  } else {\n    push(`(`);\n    genNode(test, context);\n    push(`)`);\n  }\n  needNewline && indent();\n  context.indentLevel++;\n  needNewline || push(` `);\n  push(`? `);\n  genNode(consequent, context);\n  context.indentLevel--;\n  needNewline && newline();\n  needNewline || push(` `);\n  push(`: `);\n  const isNested = alternate.type === 19;\n  if (!isNested) {\n    context.indentLevel++;\n  }\n  genNode(alternate, context);\n  if (!isNested) {\n    context.indentLevel--;\n  }\n  needNewline && deindent(\n    true\n    /* without newline */\n  );\n}\nfunction genCacheExpression(node, context) {\n  const { push, helper, indent, deindent, newline } = context;\n  push(`_cache[${node.index}] || (`);\n  if (node.isVNode) {\n    indent();\n    push(`${helper(SET_BLOCK_TRACKING)}(-1),`);\n    newline();\n  }\n  push(`_cache[${node.index}] = `);\n  genNode(node.value, context);\n  if (node.isVNode) {\n    push(`,`);\n    newline();\n    push(`${helper(SET_BLOCK_TRACKING)}(1),`);\n    newline();\n    push(`_cache[${node.index}]`);\n    deindent();\n  }\n  push(`)`);\n}\n\nfunction walkIdentifiers(root, onIdentifier, includeAll = false, parentStack = [], knownIds = /* @__PURE__ */ Object.create(null)) {\n  {\n    return;\n  }\n}\nfunction isReferencedIdentifier(id, parent, parentStack) {\n  {\n    return false;\n  }\n}\nfunction isInDestructureAssignment(parent, parentStack) {\n  if (parent && (parent.type === \"ObjectProperty\" || parent.type === \"ArrayPattern\")) {\n    let i = parentStack.length;\n    while (i--) {\n      const p = parentStack[i];\n      if (p.type === \"AssignmentExpression\") {\n        return true;\n      } else if (p.type !== \"ObjectProperty\" && !p.type.endsWith(\"Pattern\")) {\n        break;\n      }\n    }\n  }\n  return false;\n}\nfunction walkFunctionParams(node, onIdent) {\n  for (const p of node.params) {\n    for (const id of extractIdentifiers(p)) {\n      onIdent(id);\n    }\n  }\n}\nfunction walkBlockDeclarations(block, onIdent) {\n  for (const stmt of block.body) {\n    if (stmt.type === \"VariableDeclaration\") {\n      if (stmt.declare)\n        continue;\n      for (const decl of stmt.declarations) {\n        for (const id of extractIdentifiers(decl.id)) {\n          onIdent(id);\n        }\n      }\n    } else if (stmt.type === \"FunctionDeclaration\" || stmt.type === \"ClassDeclaration\") {\n      if (stmt.declare || !stmt.id)\n        continue;\n      onIdent(stmt.id);\n    }\n  }\n}\nfunction extractIdentifiers(param, nodes = []) {\n  switch (param.type) {\n    case \"Identifier\":\n      nodes.push(param);\n      break;\n    case \"MemberExpression\":\n      let object = param;\n      while (object.type === \"MemberExpression\") {\n        object = object.object;\n      }\n      nodes.push(object);\n      break;\n    case \"ObjectPattern\":\n      for (const prop of param.properties) {\n        if (prop.type === \"RestElement\") {\n          extractIdentifiers(prop.argument, nodes);\n        } else {\n          extractIdentifiers(prop.value, nodes);\n        }\n      }\n      break;\n    case \"ArrayPattern\":\n      param.elements.forEach((element) => {\n        if (element)\n          extractIdentifiers(element, nodes);\n      });\n      break;\n    case \"RestElement\":\n      extractIdentifiers(param.argument, nodes);\n      break;\n    case \"AssignmentPattern\":\n      extractIdentifiers(param.left, nodes);\n      break;\n  }\n  return nodes;\n}\nconst isFunctionType = (node) => {\n  return /Function(?:Expression|Declaration)$|Method$/.test(node.type);\n};\nconst isStaticProperty = (node) => node && (node.type === \"ObjectProperty\" || node.type === \"ObjectMethod\") && !node.computed;\nconst isStaticPropertyKey = (node, parent) => isStaticProperty(parent) && parent.key === node;\nconst TS_NODE_TYPES = [\n  \"TSAsExpression\",\n  // foo as number\n  \"TSTypeAssertion\",\n  // (<number>foo)\n  \"TSNonNullExpression\",\n  // foo!\n  \"TSInstantiationExpression\",\n  // foo<string>\n  \"TSSatisfiesExpression\"\n  // foo satisfies T\n];\n\nconst prohibitedKeywordRE = new RegExp(\n  \"\\\\b\" + \"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield\".split(\",\").join(\"\\\\b|\\\\b\") + \"\\\\b\"\n);\nconst stripStringRE = /'(?:[^'\\\\]|\\\\.)*'|\"(?:[^\"\\\\]|\\\\.)*\"|`(?:[^`\\\\]|\\\\.)*\\$\\{|\\}(?:[^`\\\\]|\\\\.)*`|`(?:[^`\\\\]|\\\\.)*`/g;\nfunction validateBrowserExpression(node, context, asParams = false, asRawStatements = false) {\n  const exp = node.content;\n  if (!exp.trim()) {\n    return;\n  }\n  try {\n    new Function(\n      asRawStatements ? ` ${exp} ` : `return ${asParams ? `(${exp}) => {}` : `(${exp})`}`\n    );\n  } catch (e) {\n    let message = e.message;\n    const keywordMatch = exp.replace(stripStringRE, \"\").match(prohibitedKeywordRE);\n    if (keywordMatch) {\n      message = `avoid using JavaScript keyword as property name: \"${keywordMatch[0]}\"`;\n    }\n    context.onError(\n      createCompilerError(\n        45,\n        node.loc,\n        void 0,\n        message\n      )\n    );\n  }\n}\n\nconst transformExpression = (node, context) => {\n  if (node.type === 5) {\n    node.content = processExpression(\n      node.content,\n      context\n    );\n  } else if (node.type === 1) {\n    for (let i = 0; i < node.props.length; i++) {\n      const dir = node.props[i];\n      if (dir.type === 7 && dir.name !== \"for\") {\n        const exp = dir.exp;\n        const arg = dir.arg;\n        if (exp && exp.type === 4 && !(dir.name === \"on\" && arg)) {\n          dir.exp = processExpression(\n            exp,\n            context,\n            // slot args must be processed as function params\n            dir.name === \"slot\"\n          );\n        }\n        if (arg && arg.type === 4 && !arg.isStatic) {\n          dir.arg = processExpression(arg, context);\n        }\n      }\n    }\n  }\n};\nfunction processExpression(node, context, asParams = false, asRawStatements = false, localVars = Object.create(context.identifiers)) {\n  {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      validateBrowserExpression(node, context, asParams, asRawStatements);\n    }\n    return node;\n  }\n}\nfunction stringifyExpression(exp) {\n  if (isString(exp)) {\n    return exp;\n  } else if (exp.type === 4) {\n    return exp.content;\n  } else {\n    return exp.children.map(stringifyExpression).join(\"\");\n  }\n}\n\nconst transformIf = createStructuralDirectiveTransform(\n  /^(if|else|else-if)$/,\n  (node, dir, context) => {\n    return processIf(node, dir, context, (ifNode, branch, isRoot) => {\n      const siblings = context.parent.children;\n      let i = siblings.indexOf(ifNode);\n      let key = 0;\n      while (i-- >= 0) {\n        const sibling = siblings[i];\n        if (sibling && sibling.type === 9) {\n          key += sibling.branches.length;\n        }\n      }\n      return () => {\n        if (isRoot) {\n          ifNode.codegenNode = createCodegenNodeForBranch(\n            branch,\n            key,\n            context\n          );\n        } else {\n          const parentCondition = getParentCondition(ifNode.codegenNode);\n          parentCondition.alternate = createCodegenNodeForBranch(\n            branch,\n            key + ifNode.branches.length - 1,\n            context\n          );\n        }\n      };\n    });\n  }\n);\nfunction processIf(node, dir, context, processCodegen) {\n  if (dir.name !== \"else\" && (!dir.exp || !dir.exp.content.trim())) {\n    const loc = dir.exp ? dir.exp.loc : node.loc;\n    context.onError(\n      createCompilerError(28, dir.loc)\n    );\n    dir.exp = createSimpleExpression(`true`, false, loc);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && true && dir.exp) {\n    validateBrowserExpression(dir.exp, context);\n  }\n  if (dir.name === \"if\") {\n    const branch = createIfBranch(node, dir);\n    const ifNode = {\n      type: 9,\n      loc: node.loc,\n      branches: [branch]\n    };\n    context.replaceNode(ifNode);\n    if (processCodegen) {\n      return processCodegen(ifNode, branch, true);\n    }\n  } else {\n    const siblings = context.parent.children;\n    const comments = [];\n    let i = siblings.indexOf(node);\n    while (i-- >= -1) {\n      const sibling = siblings[i];\n      if (sibling && sibling.type === 3) {\n        context.removeNode(sibling);\n        !!(process.env.NODE_ENV !== \"production\") && comments.unshift(sibling);\n        continue;\n      }\n      if (sibling && sibling.type === 2 && !sibling.content.trim().length) {\n        context.removeNode(sibling);\n        continue;\n      }\n      if (sibling && sibling.type === 9) {\n        if (dir.name === \"else-if\" && sibling.branches[sibling.branches.length - 1].condition === void 0) {\n          context.onError(\n            createCompilerError(30, node.loc)\n          );\n        }\n        context.removeNode();\n        const branch = createIfBranch(node, dir);\n        if (!!(process.env.NODE_ENV !== \"production\") && comments.length && // #3619 ignore comments if the v-if is direct child of <transition>\n        !(context.parent && context.parent.type === 1 && isBuiltInType(context.parent.tag, \"transition\"))) {\n          branch.children = [...comments, ...branch.children];\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") || false) {\n          const key = branch.userKey;\n          if (key) {\n            sibling.branches.forEach(({ userKey }) => {\n              if (isSameKey(userKey, key)) {\n                context.onError(\n                  createCompilerError(\n                    29,\n                    branch.userKey.loc\n                  )\n                );\n              }\n            });\n          }\n        }\n        sibling.branches.push(branch);\n        const onExit = processCodegen && processCodegen(sibling, branch, false);\n        traverseNode(branch, context);\n        if (onExit)\n          onExit();\n        context.currentNode = null;\n      } else {\n        context.onError(\n          createCompilerError(30, node.loc)\n        );\n      }\n      break;\n    }\n  }\n}\nfunction createIfBranch(node, dir) {\n  const isTemplateIf = node.tagType === 3;\n  return {\n    type: 10,\n    loc: node.loc,\n    condition: dir.name === \"else\" ? void 0 : dir.exp,\n    children: isTemplateIf && !findDir(node, \"for\") ? node.children : [node],\n    userKey: findProp(node, `key`),\n    isTemplateIf\n  };\n}\nfunction createCodegenNodeForBranch(branch, keyIndex, context) {\n  if (branch.condition) {\n    return createConditionalExpression(\n      branch.condition,\n      createChildrenCodegenNode(branch, keyIndex, context),\n      // make sure to pass in asBlock: true so that the comment node call\n      // closes the current block.\n      createCallExpression(context.helper(CREATE_COMMENT), [\n        !!(process.env.NODE_ENV !== \"production\") ? '\"v-if\"' : '\"\"',\n        \"true\"\n      ])\n    );\n  } else {\n    return createChildrenCodegenNode(branch, keyIndex, context);\n  }\n}\nfunction createChildrenCodegenNode(branch, keyIndex, context) {\n  const { helper } = context;\n  const keyProperty = createObjectProperty(\n    `key`,\n    createSimpleExpression(\n      `${keyIndex}`,\n      false,\n      locStub,\n      2\n    )\n  );\n  const { children } = branch;\n  const firstChild = children[0];\n  const needFragmentWrapper = children.length !== 1 || firstChild.type !== 1;\n  if (needFragmentWrapper) {\n    if (children.length === 1 && firstChild.type === 11) {\n      const vnodeCall = firstChild.codegenNode;\n      injectProp(vnodeCall, keyProperty, context);\n      return vnodeCall;\n    } else {\n      let patchFlag = 64;\n      let patchFlagText = PatchFlagNames[64];\n      if (!!(process.env.NODE_ENV !== \"production\") && !branch.isTemplateIf && children.filter((c) => c.type !== 3).length === 1) {\n        patchFlag |= 2048;\n        patchFlagText += `, ${PatchFlagNames[2048]}`;\n      }\n      return createVNodeCall(\n        context,\n        helper(FRAGMENT),\n        createObjectExpression([keyProperty]),\n        children,\n        patchFlag + (!!(process.env.NODE_ENV !== \"production\") ? ` /* ${patchFlagText} */` : ``),\n        void 0,\n        void 0,\n        true,\n        false,\n        false,\n        branch.loc\n      );\n    }\n  } else {\n    const ret = firstChild.codegenNode;\n    const vnodeCall = getMemoedVNodeCall(ret);\n    if (vnodeCall.type === 13) {\n      convertToBlock(vnodeCall, context);\n    }\n    injectProp(vnodeCall, keyProperty, context);\n    return ret;\n  }\n}\nfunction isSameKey(a, b) {\n  if (!a || a.type !== b.type) {\n    return false;\n  }\n  if (a.type === 6) {\n    if (a.value.content !== b.value.content) {\n      return false;\n    }\n  } else {\n    const exp = a.exp;\n    const branchExp = b.exp;\n    if (exp.type !== branchExp.type) {\n      return false;\n    }\n    if (exp.type !== 4 || exp.isStatic !== branchExp.isStatic || exp.content !== branchExp.content) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction getParentCondition(node) {\n  while (true) {\n    if (node.type === 19) {\n      if (node.alternate.type === 19) {\n        node = node.alternate;\n      } else {\n        return node;\n      }\n    } else if (node.type === 20) {\n      node = node.value;\n    }\n  }\n}\n\nconst transformFor = createStructuralDirectiveTransform(\n  \"for\",\n  (node, dir, context) => {\n    const { helper, removeHelper } = context;\n    return processFor(node, dir, context, (forNode) => {\n      const renderExp = createCallExpression(helper(RENDER_LIST), [\n        forNode.source\n      ]);\n      const isTemplate = isTemplateNode(node);\n      const memo = findDir(node, \"memo\");\n      const keyProp = findProp(node, `key`);\n      const keyExp = keyProp && (keyProp.type === 6 ? createSimpleExpression(keyProp.value.content, true) : keyProp.exp);\n      const keyProperty = keyProp ? createObjectProperty(`key`, keyExp) : null;\n      const isStableFragment = forNode.source.type === 4 && forNode.source.constType > 0;\n      const fragmentFlag = isStableFragment ? 64 : keyProp ? 128 : 256;\n      forNode.codegenNode = createVNodeCall(\n        context,\n        helper(FRAGMENT),\n        void 0,\n        renderExp,\n        fragmentFlag + (!!(process.env.NODE_ENV !== \"production\") ? ` /* ${PatchFlagNames[fragmentFlag]} */` : ``),\n        void 0,\n        void 0,\n        true,\n        !isStableFragment,\n        false,\n        node.loc\n      );\n      return () => {\n        let childBlock;\n        const { children } = forNode;\n        if ((!!(process.env.NODE_ENV !== \"production\") || false) && isTemplate) {\n          node.children.some((c) => {\n            if (c.type === 1) {\n              const key = findProp(c, \"key\");\n              if (key) {\n                context.onError(\n                  createCompilerError(\n                    33,\n                    key.loc\n                  )\n                );\n                return true;\n              }\n            }\n          });\n        }\n        const needFragmentWrapper = children.length !== 1 || children[0].type !== 1;\n        const slotOutlet = isSlotOutlet(node) ? node : isTemplate && node.children.length === 1 && isSlotOutlet(node.children[0]) ? node.children[0] : null;\n        if (slotOutlet) {\n          childBlock = slotOutlet.codegenNode;\n          if (isTemplate && keyProperty) {\n            injectProp(childBlock, keyProperty, context);\n          }\n        } else if (needFragmentWrapper) {\n          childBlock = createVNodeCall(\n            context,\n            helper(FRAGMENT),\n            keyProperty ? createObjectExpression([keyProperty]) : void 0,\n            node.children,\n            64 + (!!(process.env.NODE_ENV !== \"production\") ? ` /* ${PatchFlagNames[64]} */` : ``),\n            void 0,\n            void 0,\n            true,\n            void 0,\n            false\n            /* isComponent */\n          );\n        } else {\n          childBlock = children[0].codegenNode;\n          if (isTemplate && keyProperty) {\n            injectProp(childBlock, keyProperty, context);\n          }\n          if (childBlock.isBlock !== !isStableFragment) {\n            if (childBlock.isBlock) {\n              removeHelper(OPEN_BLOCK);\n              removeHelper(\n                getVNodeBlockHelper(context.inSSR, childBlock.isComponent)\n              );\n            } else {\n              removeHelper(\n                getVNodeHelper(context.inSSR, childBlock.isComponent)\n              );\n            }\n          }\n          childBlock.isBlock = !isStableFragment;\n          if (childBlock.isBlock) {\n            helper(OPEN_BLOCK);\n            helper(getVNodeBlockHelper(context.inSSR, childBlock.isComponent));\n          } else {\n            helper(getVNodeHelper(context.inSSR, childBlock.isComponent));\n          }\n        }\n        if (memo) {\n          const loop = createFunctionExpression(\n            createForLoopParams(forNode.parseResult, [\n              createSimpleExpression(`_cached`)\n            ])\n          );\n          loop.body = createBlockStatement([\n            createCompoundExpression([`const _memo = (`, memo.exp, `)`]),\n            createCompoundExpression([\n              `if (_cached`,\n              ...keyExp ? [` && _cached.key === `, keyExp] : [],\n              ` && ${context.helperString(\n                IS_MEMO_SAME\n              )}(_cached, _memo)) return _cached`\n            ]),\n            createCompoundExpression([`const _item = `, childBlock]),\n            createSimpleExpression(`_item.memo = _memo`),\n            createSimpleExpression(`return _item`)\n          ]);\n          renderExp.arguments.push(\n            loop,\n            createSimpleExpression(`_cache`),\n            createSimpleExpression(String(context.cached++))\n          );\n        } else {\n          renderExp.arguments.push(\n            createFunctionExpression(\n              createForLoopParams(forNode.parseResult),\n              childBlock,\n              true\n              /* force newline */\n            )\n          );\n        }\n      };\n    });\n  }\n);\nfunction processFor(node, dir, context, processCodegen) {\n  if (!dir.exp) {\n    context.onError(\n      createCompilerError(31, dir.loc)\n    );\n    return;\n  }\n  const parseResult = parseForExpression(\n    // can only be simple expression because vFor transform is applied\n    // before expression transform.\n    dir.exp,\n    context\n  );\n  if (!parseResult) {\n    context.onError(\n      createCompilerError(32, dir.loc)\n    );\n    return;\n  }\n  const { addIdentifiers, removeIdentifiers, scopes } = context;\n  const { source, value, key, index } = parseResult;\n  const forNode = {\n    type: 11,\n    loc: dir.loc,\n    source,\n    valueAlias: value,\n    keyAlias: key,\n    objectIndexAlias: index,\n    parseResult,\n    children: isTemplateNode(node) ? node.children : [node]\n  };\n  context.replaceNode(forNode);\n  scopes.vFor++;\n  const onExit = processCodegen && processCodegen(forNode);\n  return () => {\n    scopes.vFor--;\n    if (onExit)\n      onExit();\n  };\n}\nconst forAliasRE = /([\\s\\S]*?)\\s+(?:in|of)\\s+([\\s\\S]*)/;\nconst forIteratorRE = /,([^,\\}\\]]*)(?:,([^,\\}\\]]*))?$/;\nconst stripParensRE = /^\\(|\\)$/g;\nfunction parseForExpression(input, context) {\n  const loc = input.loc;\n  const exp = input.content;\n  const inMatch = exp.match(forAliasRE);\n  if (!inMatch)\n    return;\n  const [, LHS, RHS] = inMatch;\n  const result = {\n    source: createAliasExpression(\n      loc,\n      RHS.trim(),\n      exp.indexOf(RHS, LHS.length)\n    ),\n    value: void 0,\n    key: void 0,\n    index: void 0\n  };\n  if (!!(process.env.NODE_ENV !== \"production\") && true) {\n    validateBrowserExpression(result.source, context);\n  }\n  let valueContent = LHS.trim().replace(stripParensRE, \"\").trim();\n  const trimmedOffset = LHS.indexOf(valueContent);\n  const iteratorMatch = valueContent.match(forIteratorRE);\n  if (iteratorMatch) {\n    valueContent = valueContent.replace(forIteratorRE, \"\").trim();\n    const keyContent = iteratorMatch[1].trim();\n    let keyOffset;\n    if (keyContent) {\n      keyOffset = exp.indexOf(keyContent, trimmedOffset + valueContent.length);\n      result.key = createAliasExpression(loc, keyContent, keyOffset);\n      if (!!(process.env.NODE_ENV !== \"production\") && true) {\n        validateBrowserExpression(\n          result.key,\n          context,\n          true\n        );\n      }\n    }\n    if (iteratorMatch[2]) {\n      const indexContent = iteratorMatch[2].trim();\n      if (indexContent) {\n        result.index = createAliasExpression(\n          loc,\n          indexContent,\n          exp.indexOf(\n            indexContent,\n            result.key ? keyOffset + keyContent.length : trimmedOffset + valueContent.length\n          )\n        );\n        if (!!(process.env.NODE_ENV !== \"production\") && true) {\n          validateBrowserExpression(\n            result.index,\n            context,\n            true\n          );\n        }\n      }\n    }\n  }\n  if (valueContent) {\n    result.value = createAliasExpression(loc, valueContent, trimmedOffset);\n    if (!!(process.env.NODE_ENV !== \"production\") && true) {\n      validateBrowserExpression(\n        result.value,\n        context,\n        true\n      );\n    }\n  }\n  return result;\n}\nfunction createAliasExpression(range, content, offset) {\n  return createSimpleExpression(\n    content,\n    false,\n    getInnerRange(range, offset, content.length)\n  );\n}\nfunction createForLoopParams({ value, key, index }, memoArgs = []) {\n  return createParamsList([value, key, index, ...memoArgs]);\n}\nfunction createParamsList(args) {\n  let i = args.length;\n  while (i--) {\n    if (args[i])\n      break;\n  }\n  return args.slice(0, i + 1).map((arg, i2) => arg || createSimpleExpression(`_`.repeat(i2 + 1), false));\n}\n\nconst defaultFallback = createSimpleExpression(`undefined`, false);\nconst trackSlotScopes = (node, context) => {\n  if (node.type === 1 && (node.tagType === 1 || node.tagType === 3)) {\n    const vSlot = findDir(node, \"slot\");\n    if (vSlot) {\n      vSlot.exp;\n      context.scopes.vSlot++;\n      return () => {\n        context.scopes.vSlot--;\n      };\n    }\n  }\n};\nconst trackVForSlotScopes = (node, context) => {\n  let vFor;\n  if (isTemplateNode(node) && node.props.some(isVSlot) && (vFor = findDir(node, \"for\"))) {\n    const result = vFor.parseResult = parseForExpression(\n      vFor.exp,\n      context\n    );\n    if (result) {\n      const { value, key, index } = result;\n      const { addIdentifiers, removeIdentifiers } = context;\n      value && addIdentifiers(value);\n      key && addIdentifiers(key);\n      index && addIdentifiers(index);\n      return () => {\n        value && removeIdentifiers(value);\n        key && removeIdentifiers(key);\n        index && removeIdentifiers(index);\n      };\n    }\n  }\n};\nconst buildClientSlotFn = (props, children, loc) => createFunctionExpression(\n  props,\n  children,\n  false,\n  true,\n  children.length ? children[0].loc : loc\n);\nfunction buildSlots(node, context, buildSlotFn = buildClientSlotFn) {\n  context.helper(WITH_CTX);\n  const { children, loc } = node;\n  const slotsProperties = [];\n  const dynamicSlots = [];\n  let hasDynamicSlots = context.scopes.vSlot > 0 || context.scopes.vFor > 0;\n  const onComponentSlot = findDir(node, \"slot\", true);\n  if (onComponentSlot) {\n    const { arg, exp } = onComponentSlot;\n    if (arg && !isStaticExp(arg)) {\n      hasDynamicSlots = true;\n    }\n    slotsProperties.push(\n      createObjectProperty(\n        arg || createSimpleExpression(\"default\", true),\n        buildSlotFn(exp, children, loc)\n      )\n    );\n  }\n  let hasTemplateSlots = false;\n  let hasNamedDefaultSlot = false;\n  const implicitDefaultChildren = [];\n  const seenSlotNames = /* @__PURE__ */ new Set();\n  let conditionalBranchIndex = 0;\n  for (let i = 0; i < children.length; i++) {\n    const slotElement = children[i];\n    let slotDir;\n    if (!isTemplateNode(slotElement) || !(slotDir = findDir(slotElement, \"slot\", true))) {\n      if (slotElement.type !== 3) {\n        implicitDefaultChildren.push(slotElement);\n      }\n      continue;\n    }\n    if (onComponentSlot) {\n      context.onError(\n        createCompilerError(37, slotDir.loc)\n      );\n      break;\n    }\n    hasTemplateSlots = true;\n    const { children: slotChildren, loc: slotLoc } = slotElement;\n    const {\n      arg: slotName = createSimpleExpression(`default`, true),\n      exp: slotProps,\n      loc: dirLoc\n    } = slotDir;\n    let staticSlotName;\n    if (isStaticExp(slotName)) {\n      staticSlotName = slotName ? slotName.content : `default`;\n    } else {\n      hasDynamicSlots = true;\n    }\n    const slotFunction = buildSlotFn(slotProps, slotChildren, slotLoc);\n    let vIf;\n    let vElse;\n    let vFor;\n    if (vIf = findDir(slotElement, \"if\")) {\n      hasDynamicSlots = true;\n      dynamicSlots.push(\n        createConditionalExpression(\n          vIf.exp,\n          buildDynamicSlot(slotName, slotFunction, conditionalBranchIndex++),\n          defaultFallback\n        )\n      );\n    } else if (vElse = findDir(\n      slotElement,\n      /^else(-if)?$/,\n      true\n      /* allowEmpty */\n    )) {\n      let j = i;\n      let prev;\n      while (j--) {\n        prev = children[j];\n        if (prev.type !== 3) {\n          break;\n        }\n      }\n      if (prev && isTemplateNode(prev) && findDir(prev, \"if\")) {\n        children.splice(i, 1);\n        i--;\n        let conditional = dynamicSlots[dynamicSlots.length - 1];\n        while (conditional.alternate.type === 19) {\n          conditional = conditional.alternate;\n        }\n        conditional.alternate = vElse.exp ? createConditionalExpression(\n          vElse.exp,\n          buildDynamicSlot(\n            slotName,\n            slotFunction,\n            conditionalBranchIndex++\n          ),\n          defaultFallback\n        ) : buildDynamicSlot(slotName, slotFunction, conditionalBranchIndex++);\n      } else {\n        context.onError(\n          createCompilerError(30, vElse.loc)\n        );\n      }\n    } else if (vFor = findDir(slotElement, \"for\")) {\n      hasDynamicSlots = true;\n      const parseResult = vFor.parseResult || parseForExpression(vFor.exp, context);\n      if (parseResult) {\n        dynamicSlots.push(\n          createCallExpression(context.helper(RENDER_LIST), [\n            parseResult.source,\n            createFunctionExpression(\n              createForLoopParams(parseResult),\n              buildDynamicSlot(slotName, slotFunction),\n              true\n              /* force newline */\n            )\n          ])\n        );\n      } else {\n        context.onError(\n          createCompilerError(32, vFor.loc)\n        );\n      }\n    } else {\n      if (staticSlotName) {\n        if (seenSlotNames.has(staticSlotName)) {\n          context.onError(\n            createCompilerError(\n              38,\n              dirLoc\n            )\n          );\n          continue;\n        }\n        seenSlotNames.add(staticSlotName);\n        if (staticSlotName === \"default\") {\n          hasNamedDefaultSlot = true;\n        }\n      }\n      slotsProperties.push(createObjectProperty(slotName, slotFunction));\n    }\n  }\n  if (!onComponentSlot) {\n    const buildDefaultSlotProperty = (props, children2) => {\n      const fn = buildSlotFn(props, children2, loc);\n      if (context.compatConfig) {\n        fn.isNonScopedSlot = true;\n      }\n      return createObjectProperty(`default`, fn);\n    };\n    if (!hasTemplateSlots) {\n      slotsProperties.push(buildDefaultSlotProperty(void 0, children));\n    } else if (implicitDefaultChildren.length && // #3766\n    // with whitespace: 'preserve', whitespaces between slots will end up in\n    // implicitDefaultChildren. Ignore if all implicit children are whitespaces.\n    implicitDefaultChildren.some((node2) => isNonWhitespaceContent(node2))) {\n      if (hasNamedDefaultSlot) {\n        context.onError(\n          createCompilerError(\n            39,\n            implicitDefaultChildren[0].loc\n          )\n        );\n      } else {\n        slotsProperties.push(\n          buildDefaultSlotProperty(void 0, implicitDefaultChildren)\n        );\n      }\n    }\n  }\n  const slotFlag = hasDynamicSlots ? 2 : hasForwardedSlots(node.children) ? 3 : 1;\n  let slots = createObjectExpression(\n    slotsProperties.concat(\n      createObjectProperty(\n        `_`,\n        // 2 = compiled but dynamic = can skip normalization, but must run diff\n        // 1 = compiled and static = can skip normalization AND diff as optimized\n        createSimpleExpression(\n          slotFlag + (!!(process.env.NODE_ENV !== \"production\") ? ` /* ${slotFlagsText[slotFlag]} */` : ``),\n          false\n        )\n      )\n    ),\n    loc\n  );\n  if (dynamicSlots.length) {\n    slots = createCallExpression(context.helper(CREATE_SLOTS), [\n      slots,\n      createArrayExpression(dynamicSlots)\n    ]);\n  }\n  return {\n    slots,\n    hasDynamicSlots\n  };\n}\nfunction buildDynamicSlot(name, fn, index) {\n  const props = [\n    createObjectProperty(`name`, name),\n    createObjectProperty(`fn`, fn)\n  ];\n  if (index != null) {\n    props.push(\n      createObjectProperty(`key`, createSimpleExpression(String(index), true))\n    );\n  }\n  return createObjectExpression(props);\n}\nfunction hasForwardedSlots(children) {\n  for (let i = 0; i < children.length; i++) {\n    const child = children[i];\n    switch (child.type) {\n      case 1:\n        if (child.tagType === 2 || hasForwardedSlots(child.children)) {\n          return true;\n        }\n        break;\n      case 9:\n        if (hasForwardedSlots(child.branches))\n          return true;\n        break;\n      case 10:\n      case 11:\n        if (hasForwardedSlots(child.children))\n          return true;\n        break;\n    }\n  }\n  return false;\n}\nfunction isNonWhitespaceContent(node) {\n  if (node.type !== 2 && node.type !== 12)\n    return true;\n  return node.type === 2 ? !!node.content.trim() : isNonWhitespaceContent(node.content);\n}\n\nconst directiveImportMap = /* @__PURE__ */ new WeakMap();\nconst transformElement = (node, context) => {\n  return function postTransformElement() {\n    node = context.currentNode;\n    if (!(node.type === 1 && (node.tagType === 0 || node.tagType === 1))) {\n      return;\n    }\n    const { tag, props } = node;\n    const isComponent = node.tagType === 1;\n    let vnodeTag = isComponent ? resolveComponentType(node, context) : `\"${tag}\"`;\n    const isDynamicComponent = isObject(vnodeTag) && vnodeTag.callee === RESOLVE_DYNAMIC_COMPONENT;\n    let vnodeProps;\n    let vnodeChildren;\n    let vnodePatchFlag;\n    let patchFlag = 0;\n    let vnodeDynamicProps;\n    let dynamicPropNames;\n    let vnodeDirectives;\n    let shouldUseBlock = (\n      // dynamic component may resolve to plain elements\n      isDynamicComponent || vnodeTag === TELEPORT || vnodeTag === SUSPENSE || !isComponent && // <svg> and <foreignObject> must be forced into blocks so that block\n      // updates inside get proper isSVG flag at runtime. (#639, #643)\n      // This is technically web-specific, but splitting the logic out of core\n      // leads to too much unnecessary complexity.\n      (tag === \"svg\" || tag === \"foreignObject\")\n    );\n    if (props.length > 0) {\n      const propsBuildResult = buildProps(\n        node,\n        context,\n        void 0,\n        isComponent,\n        isDynamicComponent\n      );\n      vnodeProps = propsBuildResult.props;\n      patchFlag = propsBuildResult.patchFlag;\n      dynamicPropNames = propsBuildResult.dynamicPropNames;\n      const directives = propsBuildResult.directives;\n      vnodeDirectives = directives && directives.length ? createArrayExpression(\n        directives.map((dir) => buildDirectiveArgs(dir, context))\n      ) : void 0;\n      if (propsBuildResult.shouldUseBlock) {\n        shouldUseBlock = true;\n      }\n    }\n    if (node.children.length > 0) {\n      if (vnodeTag === KEEP_ALIVE) {\n        shouldUseBlock = true;\n        patchFlag |= 1024;\n        if (!!(process.env.NODE_ENV !== \"production\") && node.children.length > 1) {\n          context.onError(\n            createCompilerError(46, {\n              start: node.children[0].loc.start,\n              end: node.children[node.children.length - 1].loc.end,\n              source: \"\"\n            })\n          );\n        }\n      }\n      const shouldBuildAsSlots = isComponent && // Teleport is not a real component and has dedicated runtime handling\n      vnodeTag !== TELEPORT && // explained above.\n      vnodeTag !== KEEP_ALIVE;\n      if (shouldBuildAsSlots) {\n        const { slots, hasDynamicSlots } = buildSlots(node, context);\n        vnodeChildren = slots;\n        if (hasDynamicSlots) {\n          patchFlag |= 1024;\n        }\n      } else if (node.children.length === 1 && vnodeTag !== TELEPORT) {\n        const child = node.children[0];\n        const type = child.type;\n        const hasDynamicTextChild = type === 5 || type === 8;\n        if (hasDynamicTextChild && getConstantType(child, context) === 0) {\n          patchFlag |= 1;\n        }\n        if (hasDynamicTextChild || type === 2) {\n          vnodeChildren = child;\n        } else {\n          vnodeChildren = node.children;\n        }\n      } else {\n        vnodeChildren = node.children;\n      }\n    }\n    if (patchFlag !== 0) {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        if (patchFlag < 0) {\n          vnodePatchFlag = patchFlag + ` /* ${PatchFlagNames[patchFlag]} */`;\n        } else {\n          const flagNames = Object.keys(PatchFlagNames).map(Number).filter((n) => n > 0 && patchFlag & n).map((n) => PatchFlagNames[n]).join(`, `);\n          vnodePatchFlag = patchFlag + ` /* ${flagNames} */`;\n        }\n      } else {\n        vnodePatchFlag = String(patchFlag);\n      }\n      if (dynamicPropNames && dynamicPropNames.length) {\n        vnodeDynamicProps = stringifyDynamicPropNames(dynamicPropNames);\n      }\n    }\n    node.codegenNode = createVNodeCall(\n      context,\n      vnodeTag,\n      vnodeProps,\n      vnodeChildren,\n      vnodePatchFlag,\n      vnodeDynamicProps,\n      vnodeDirectives,\n      !!shouldUseBlock,\n      false,\n      isComponent,\n      node.loc\n    );\n  };\n};\nfunction resolveComponentType(node, context, ssr = false) {\n  let { tag } = node;\n  const isExplicitDynamic = isComponentTag(tag);\n  const isProp = findProp(node, \"is\");\n  if (isProp) {\n    if (isExplicitDynamic || isCompatEnabled(\n      \"COMPILER_IS_ON_ELEMENT\",\n      context\n    )) {\n      const exp = isProp.type === 6 ? isProp.value && createSimpleExpression(isProp.value.content, true) : isProp.exp;\n      if (exp) {\n        return createCallExpression(context.helper(RESOLVE_DYNAMIC_COMPONENT), [\n          exp\n        ]);\n      }\n    } else if (isProp.type === 6 && isProp.value.content.startsWith(\"vue:\")) {\n      tag = isProp.value.content.slice(4);\n    }\n  }\n  const isDir = !isExplicitDynamic && findDir(node, \"is\");\n  if (isDir && isDir.exp) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      context.onWarn(\n        createCompilerError(52, isDir.loc)\n      );\n    }\n    return createCallExpression(context.helper(RESOLVE_DYNAMIC_COMPONENT), [\n      isDir.exp\n    ]);\n  }\n  const builtIn = isCoreComponent(tag) || context.isBuiltInComponent(tag);\n  if (builtIn) {\n    if (!ssr)\n      context.helper(builtIn);\n    return builtIn;\n  }\n  context.helper(RESOLVE_COMPONENT);\n  context.components.add(tag);\n  return toValidAssetId(tag, `component`);\n}\nfunction buildProps(node, context, props = node.props, isComponent, isDynamicComponent, ssr = false) {\n  const { tag, loc: elementLoc, children } = node;\n  let properties = [];\n  const mergeArgs = [];\n  const runtimeDirectives = [];\n  const hasChildren = children.length > 0;\n  let shouldUseBlock = false;\n  let patchFlag = 0;\n  let hasRef = false;\n  let hasClassBinding = false;\n  let hasStyleBinding = false;\n  let hasHydrationEventBinding = false;\n  let hasDynamicKeys = false;\n  let hasVnodeHook = false;\n  const dynamicPropNames = [];\n  const pushMergeArg = (arg) => {\n    if (properties.length) {\n      mergeArgs.push(\n        createObjectExpression(dedupeProperties(properties), elementLoc)\n      );\n      properties = [];\n    }\n    if (arg)\n      mergeArgs.push(arg);\n  };\n  const analyzePatchFlag = ({ key, value }) => {\n    if (isStaticExp(key)) {\n      const name = key.content;\n      const isEventHandler = isOn(name);\n      if (isEventHandler && (!isComponent || isDynamicComponent) && // omit the flag for click handlers because hydration gives click\n      // dedicated fast path.\n      name.toLowerCase() !== \"onclick\" && // omit v-model handlers\n      name !== \"onUpdate:modelValue\" && // omit onVnodeXXX hooks\n      !isReservedProp(name)) {\n        hasHydrationEventBinding = true;\n      }\n      if (isEventHandler && isReservedProp(name)) {\n        hasVnodeHook = true;\n      }\n      if (value.type === 20 || (value.type === 4 || value.type === 8) && getConstantType(value, context) > 0) {\n        return;\n      }\n      if (name === \"ref\") {\n        hasRef = true;\n      } else if (name === \"class\") {\n        hasClassBinding = true;\n      } else if (name === \"style\") {\n        hasStyleBinding = true;\n      } else if (name !== \"key\" && !dynamicPropNames.includes(name)) {\n        dynamicPropNames.push(name);\n      }\n      if (isComponent && (name === \"class\" || name === \"style\") && !dynamicPropNames.includes(name)) {\n        dynamicPropNames.push(name);\n      }\n    } else {\n      hasDynamicKeys = true;\n    }\n  };\n  for (let i = 0; i < props.length; i++) {\n    const prop = props[i];\n    if (prop.type === 6) {\n      const { loc, name, value } = prop;\n      let isStatic = true;\n      if (name === \"ref\") {\n        hasRef = true;\n        if (context.scopes.vFor > 0) {\n          properties.push(\n            createObjectProperty(\n              createSimpleExpression(\"ref_for\", true),\n              createSimpleExpression(\"true\")\n            )\n          );\n        }\n      }\n      if (name === \"is\" && (isComponentTag(tag) || value && value.content.startsWith(\"vue:\") || isCompatEnabled(\n        \"COMPILER_IS_ON_ELEMENT\",\n        context\n      ))) {\n        continue;\n      }\n      properties.push(\n        createObjectProperty(\n          createSimpleExpression(\n            name,\n            true,\n            getInnerRange(loc, 0, name.length)\n          ),\n          createSimpleExpression(\n            value ? value.content : \"\",\n            isStatic,\n            value ? value.loc : loc\n          )\n        )\n      );\n    } else {\n      const { name, arg, exp, loc } = prop;\n      const isVBind = name === \"bind\";\n      const isVOn = name === \"on\";\n      if (name === \"slot\") {\n        if (!isComponent) {\n          context.onError(\n            createCompilerError(40, loc)\n          );\n        }\n        continue;\n      }\n      if (name === \"once\" || name === \"memo\") {\n        continue;\n      }\n      if (name === \"is\" || isVBind && isStaticArgOf(arg, \"is\") && (isComponentTag(tag) || isCompatEnabled(\n        \"COMPILER_IS_ON_ELEMENT\",\n        context\n      ))) {\n        continue;\n      }\n      if (isVOn && ssr) {\n        continue;\n      }\n      if (\n        // #938: elements with dynamic keys should be forced into blocks\n        isVBind && isStaticArgOf(arg, \"key\") || // inline before-update hooks need to force block so that it is invoked\n        // before children\n        isVOn && hasChildren && isStaticArgOf(arg, \"vue:before-update\")\n      ) {\n        shouldUseBlock = true;\n      }\n      if (isVBind && isStaticArgOf(arg, \"ref\") && context.scopes.vFor > 0) {\n        properties.push(\n          createObjectProperty(\n            createSimpleExpression(\"ref_for\", true),\n            createSimpleExpression(\"true\")\n          )\n        );\n      }\n      if (!arg && (isVBind || isVOn)) {\n        hasDynamicKeys = true;\n        if (exp) {\n          if (isVBind) {\n            pushMergeArg();\n            {\n              if (!!(process.env.NODE_ENV !== \"production\")) {\n                const hasOverridableKeys = mergeArgs.some((arg2) => {\n                  if (arg2.type === 15) {\n                    return arg2.properties.some(({ key }) => {\n                      if (key.type !== 4 || !key.isStatic) {\n                        return true;\n                      }\n                      return key.content !== \"class\" && key.content !== \"style\" && !isOn(key.content);\n                    });\n                  } else {\n                    return true;\n                  }\n                });\n                if (hasOverridableKeys) {\n                  checkCompatEnabled(\n                    \"COMPILER_V_BIND_OBJECT_ORDER\",\n                    context,\n                    loc\n                  );\n                }\n              }\n              if (isCompatEnabled(\n                \"COMPILER_V_BIND_OBJECT_ORDER\",\n                context\n              )) {\n                mergeArgs.unshift(exp);\n                continue;\n              }\n            }\n            mergeArgs.push(exp);\n          } else {\n            pushMergeArg({\n              type: 14,\n              loc,\n              callee: context.helper(TO_HANDLERS),\n              arguments: isComponent ? [exp] : [exp, `true`]\n            });\n          }\n        } else {\n          context.onError(\n            createCompilerError(\n              isVBind ? 34 : 35,\n              loc\n            )\n          );\n        }\n        continue;\n      }\n      const directiveTransform = context.directiveTransforms[name];\n      if (directiveTransform) {\n        const { props: props2, needRuntime } = directiveTransform(prop, node, context);\n        !ssr && props2.forEach(analyzePatchFlag);\n        if (isVOn && arg && !isStaticExp(arg)) {\n          pushMergeArg(createObjectExpression(props2, elementLoc));\n        } else {\n          properties.push(...props2);\n        }\n        if (needRuntime) {\n          runtimeDirectives.push(prop);\n          if (isSymbol(needRuntime)) {\n            directiveImportMap.set(prop, needRuntime);\n          }\n        }\n      } else if (!isBuiltInDirective(name)) {\n        runtimeDirectives.push(prop);\n        if (hasChildren) {\n          shouldUseBlock = true;\n        }\n      }\n    }\n  }\n  let propsExpression = void 0;\n  if (mergeArgs.length) {\n    pushMergeArg();\n    if (mergeArgs.length > 1) {\n      propsExpression = createCallExpression(\n        context.helper(MERGE_PROPS),\n        mergeArgs,\n        elementLoc\n      );\n    } else {\n      propsExpression = mergeArgs[0];\n    }\n  } else if (properties.length) {\n    propsExpression = createObjectExpression(\n      dedupeProperties(properties),\n      elementLoc\n    );\n  }\n  if (hasDynamicKeys) {\n    patchFlag |= 16;\n  } else {\n    if (hasClassBinding && !isComponent) {\n      patchFlag |= 2;\n    }\n    if (hasStyleBinding && !isComponent) {\n      patchFlag |= 4;\n    }\n    if (dynamicPropNames.length) {\n      patchFlag |= 8;\n    }\n    if (hasHydrationEventBinding) {\n      patchFlag |= 32;\n    }\n  }\n  if (!shouldUseBlock && (patchFlag === 0 || patchFlag === 32) && (hasRef || hasVnodeHook || runtimeDirectives.length > 0)) {\n    patchFlag |= 512;\n  }\n  if (!context.inSSR && propsExpression) {\n    switch (propsExpression.type) {\n      case 15:\n        let classKeyIndex = -1;\n        let styleKeyIndex = -1;\n        let hasDynamicKey = false;\n        for (let i = 0; i < propsExpression.properties.length; i++) {\n          const key = propsExpression.properties[i].key;\n          if (isStaticExp(key)) {\n            if (key.content === \"class\") {\n              classKeyIndex = i;\n            } else if (key.content === \"style\") {\n              styleKeyIndex = i;\n            }\n          } else if (!key.isHandlerKey) {\n            hasDynamicKey = true;\n          }\n        }\n        const classProp = propsExpression.properties[classKeyIndex];\n        const styleProp = propsExpression.properties[styleKeyIndex];\n        if (!hasDynamicKey) {\n          if (classProp && !isStaticExp(classProp.value)) {\n            classProp.value = createCallExpression(\n              context.helper(NORMALIZE_CLASS),\n              [classProp.value]\n            );\n          }\n          if (styleProp && // the static style is compiled into an object,\n          // so use `hasStyleBinding` to ensure that it is a dynamic style binding\n          (hasStyleBinding || styleProp.value.type === 4 && styleProp.value.content.trim()[0] === `[` || // v-bind:style and style both exist,\n          // v-bind:style with static literal object\n          styleProp.value.type === 17)) {\n            styleProp.value = createCallExpression(\n              context.helper(NORMALIZE_STYLE),\n              [styleProp.value]\n            );\n          }\n        } else {\n          propsExpression = createCallExpression(\n            context.helper(NORMALIZE_PROPS),\n            [propsExpression]\n          );\n        }\n        break;\n      case 14:\n        break;\n      default:\n        propsExpression = createCallExpression(\n          context.helper(NORMALIZE_PROPS),\n          [\n            createCallExpression(context.helper(GUARD_REACTIVE_PROPS), [\n              propsExpression\n            ])\n          ]\n        );\n        break;\n    }\n  }\n  return {\n    props: propsExpression,\n    directives: runtimeDirectives,\n    patchFlag,\n    dynamicPropNames,\n    shouldUseBlock\n  };\n}\nfunction dedupeProperties(properties) {\n  const knownProps = /* @__PURE__ */ new Map();\n  const deduped = [];\n  for (let i = 0; i < properties.length; i++) {\n    const prop = properties[i];\n    if (prop.key.type === 8 || !prop.key.isStatic) {\n      deduped.push(prop);\n      continue;\n    }\n    const name = prop.key.content;\n    const existing = knownProps.get(name);\n    if (existing) {\n      if (name === \"style\" || name === \"class\" || isOn(name)) {\n        mergeAsArray(existing, prop);\n      }\n    } else {\n      knownProps.set(name, prop);\n      deduped.push(prop);\n    }\n  }\n  return deduped;\n}\nfunction mergeAsArray(existing, incoming) {\n  if (existing.value.type === 17) {\n    existing.value.elements.push(incoming.value);\n  } else {\n    existing.value = createArrayExpression(\n      [existing.value, incoming.value],\n      existing.loc\n    );\n  }\n}\nfunction buildDirectiveArgs(dir, context) {\n  const dirArgs = [];\n  const runtime = directiveImportMap.get(dir);\n  if (runtime) {\n    dirArgs.push(context.helperString(runtime));\n  } else {\n    {\n      context.helper(RESOLVE_DIRECTIVE);\n      context.directives.add(dir.name);\n      dirArgs.push(toValidAssetId(dir.name, `directive`));\n    }\n  }\n  const { loc } = dir;\n  if (dir.exp)\n    dirArgs.push(dir.exp);\n  if (dir.arg) {\n    if (!dir.exp) {\n      dirArgs.push(`void 0`);\n    }\n    dirArgs.push(dir.arg);\n  }\n  if (Object.keys(dir.modifiers).length) {\n    if (!dir.arg) {\n      if (!dir.exp) {\n        dirArgs.push(`void 0`);\n      }\n      dirArgs.push(`void 0`);\n    }\n    const trueExpression = createSimpleExpression(`true`, false, loc);\n    dirArgs.push(\n      createObjectExpression(\n        dir.modifiers.map(\n          (modifier) => createObjectProperty(modifier, trueExpression)\n        ),\n        loc\n      )\n    );\n  }\n  return createArrayExpression(dirArgs, dir.loc);\n}\nfunction stringifyDynamicPropNames(props) {\n  let propsNamesString = `[`;\n  for (let i = 0, l = props.length; i < l; i++) {\n    propsNamesString += JSON.stringify(props[i]);\n    if (i < l - 1)\n      propsNamesString += \", \";\n  }\n  return propsNamesString + `]`;\n}\nfunction isComponentTag(tag) {\n  return tag === \"component\" || tag === \"Component\";\n}\n\nconst transformSlotOutlet = (node, context) => {\n  if (isSlotOutlet(node)) {\n    const { children, loc } = node;\n    const { slotName, slotProps } = processSlotOutlet(node, context);\n    const slotArgs = [\n      context.prefixIdentifiers ? `_ctx.$slots` : `$slots`,\n      slotName,\n      \"{}\",\n      \"undefined\",\n      \"true\"\n    ];\n    let expectedLen = 2;\n    if (slotProps) {\n      slotArgs[2] = slotProps;\n      expectedLen = 3;\n    }\n    if (children.length) {\n      slotArgs[3] = createFunctionExpression([], children, false, false, loc);\n      expectedLen = 4;\n    }\n    if (context.scopeId && !context.slotted) {\n      expectedLen = 5;\n    }\n    slotArgs.splice(expectedLen);\n    node.codegenNode = createCallExpression(\n      context.helper(RENDER_SLOT),\n      slotArgs,\n      loc\n    );\n  }\n};\nfunction processSlotOutlet(node, context) {\n  let slotName = `\"default\"`;\n  let slotProps = void 0;\n  const nonNameProps = [];\n  for (let i = 0; i < node.props.length; i++) {\n    const p = node.props[i];\n    if (p.type === 6) {\n      if (p.value) {\n        if (p.name === \"name\") {\n          slotName = JSON.stringify(p.value.content);\n        } else {\n          p.name = camelize(p.name);\n          nonNameProps.push(p);\n        }\n      }\n    } else {\n      if (p.name === \"bind\" && isStaticArgOf(p.arg, \"name\")) {\n        if (p.exp)\n          slotName = p.exp;\n      } else {\n        if (p.name === \"bind\" && p.arg && isStaticExp(p.arg)) {\n          p.arg.content = camelize(p.arg.content);\n        }\n        nonNameProps.push(p);\n      }\n    }\n  }\n  if (nonNameProps.length > 0) {\n    const { props, directives } = buildProps(\n      node,\n      context,\n      nonNameProps,\n      false,\n      false\n    );\n    slotProps = props;\n    if (directives.length) {\n      context.onError(\n        createCompilerError(\n          36,\n          directives[0].loc\n        )\n      );\n    }\n  }\n  return {\n    slotName,\n    slotProps\n  };\n}\n\nconst fnExpRE = /^\\s*([\\w$_]+|(async\\s*)?\\([^)]*?\\))\\s*(:[^=]+)?=>|^\\s*(async\\s+)?function(?:\\s+[\\w$]+)?\\s*\\(/;\nconst transformOn = (dir, node, context, augmentor) => {\n  const { loc, modifiers, arg } = dir;\n  if (!dir.exp && !modifiers.length) {\n    context.onError(createCompilerError(35, loc));\n  }\n  let eventName;\n  if (arg.type === 4) {\n    if (arg.isStatic) {\n      let rawName = arg.content;\n      if (!!(process.env.NODE_ENV !== \"production\") && rawName.startsWith(\"vnode\")) {\n        context.onWarn(\n          createCompilerError(51, arg.loc)\n        );\n      }\n      if (rawName.startsWith(\"vue:\")) {\n        rawName = `vnode-${rawName.slice(4)}`;\n      }\n      const eventString = node.tagType !== 0 || rawName.startsWith(\"vnode\") || !/[A-Z]/.test(rawName) ? (\n        // for non-element and vnode lifecycle event listeners, auto convert\n        // it to camelCase. See issue #2249\n        toHandlerKey(camelize(rawName))\n      ) : (\n        // preserve case for plain element listeners that have uppercase\n        // letters, as these may be custom elements' custom events\n        `on:${rawName}`\n      );\n      eventName = createSimpleExpression(eventString, true, arg.loc);\n    } else {\n      eventName = createCompoundExpression([\n        `${context.helperString(TO_HANDLER_KEY)}(`,\n        arg,\n        `)`\n      ]);\n    }\n  } else {\n    eventName = arg;\n    eventName.children.unshift(`${context.helperString(TO_HANDLER_KEY)}(`);\n    eventName.children.push(`)`);\n  }\n  let exp = dir.exp;\n  if (exp && !exp.content.trim()) {\n    exp = void 0;\n  }\n  let shouldCache = context.cacheHandlers && !exp && !context.inVOnce;\n  if (exp) {\n    const isMemberExp = isMemberExpression(exp.content);\n    const isInlineStatement = !(isMemberExp || fnExpRE.test(exp.content));\n    const hasMultipleStatements = exp.content.includes(`;`);\n    if (!!(process.env.NODE_ENV !== \"production\") && true) {\n      validateBrowserExpression(\n        exp,\n        context,\n        false,\n        hasMultipleStatements\n      );\n    }\n    if (isInlineStatement || shouldCache && isMemberExp) {\n      exp = createCompoundExpression([\n        `${isInlineStatement ? `$event` : `${``}(...args)`} => ${hasMultipleStatements ? `{` : `(`}`,\n        exp,\n        hasMultipleStatements ? `}` : `)`\n      ]);\n    }\n  }\n  let ret = {\n    props: [\n      createObjectProperty(\n        eventName,\n        exp || createSimpleExpression(`() => {}`, false, loc)\n      )\n    ]\n  };\n  if (augmentor) {\n    ret = augmentor(ret);\n  }\n  if (shouldCache) {\n    ret.props[0].value = context.cache(ret.props[0].value);\n  }\n  ret.props.forEach((p) => p.key.isHandlerKey = true);\n  return ret;\n};\n\nconst transformBind = (dir, _node, context) => {\n  const { exp, modifiers, loc } = dir;\n  const arg = dir.arg;\n  if (arg.type !== 4) {\n    arg.children.unshift(`(`);\n    arg.children.push(`) || \"\"`);\n  } else if (!arg.isStatic) {\n    arg.content = `${arg.content} || \"\"`;\n  }\n  if (modifiers.includes(\"camel\")) {\n    if (arg.type === 4) {\n      if (arg.isStatic) {\n        arg.content = camelize(arg.content);\n      } else {\n        arg.content = `${context.helperString(CAMELIZE)}(${arg.content})`;\n      }\n    } else {\n      arg.children.unshift(`${context.helperString(CAMELIZE)}(`);\n      arg.children.push(`)`);\n    }\n  }\n  if (!context.inSSR) {\n    if (modifiers.includes(\"prop\")) {\n      injectPrefix(arg, \".\");\n    }\n    if (modifiers.includes(\"attr\")) {\n      injectPrefix(arg, \"^\");\n    }\n  }\n  if (!exp || exp.type === 4 && !exp.content.trim()) {\n    context.onError(createCompilerError(34, loc));\n    return {\n      props: [createObjectProperty(arg, createSimpleExpression(\"\", true, loc))]\n    };\n  }\n  return {\n    props: [createObjectProperty(arg, exp)]\n  };\n};\nconst injectPrefix = (arg, prefix) => {\n  if (arg.type === 4) {\n    if (arg.isStatic) {\n      arg.content = prefix + arg.content;\n    } else {\n      arg.content = `\\`${prefix}\\${${arg.content}}\\``;\n    }\n  } else {\n    arg.children.unshift(`'${prefix}' + (`);\n    arg.children.push(`)`);\n  }\n};\n\nconst transformText = (node, context) => {\n  if (node.type === 0 || node.type === 1 || node.type === 11 || node.type === 10) {\n    return () => {\n      const children = node.children;\n      let currentContainer = void 0;\n      let hasText = false;\n      for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        if (isText$1(child)) {\n          hasText = true;\n          for (let j = i + 1; j < children.length; j++) {\n            const next = children[j];\n            if (isText$1(next)) {\n              if (!currentContainer) {\n                currentContainer = children[i] = createCompoundExpression(\n                  [child],\n                  child.loc\n                );\n              }\n              currentContainer.children.push(` + `, next);\n              children.splice(j, 1);\n              j--;\n            } else {\n              currentContainer = void 0;\n              break;\n            }\n          }\n        }\n      }\n      if (!hasText || // if this is a plain element with a single text child, leave it\n      // as-is since the runtime has dedicated fast path for this by directly\n      // setting textContent of the element.\n      // for component root it's always normalized anyway.\n      children.length === 1 && (node.type === 0 || node.type === 1 && node.tagType === 0 && // #3756\n      // custom directives can potentially add DOM elements arbitrarily,\n      // we need to avoid setting textContent of the element at runtime\n      // to avoid accidentally overwriting the DOM elements added\n      // by the user through custom directives.\n      !node.props.find(\n        (p) => p.type === 7 && !context.directiveTransforms[p.name]\n      ) && // in compat mode, <template> tags with no special directives\n      // will be rendered as a fragment so its children must be\n      // converted into vnodes.\n      !(node.tag === \"template\"))) {\n        return;\n      }\n      for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        if (isText$1(child) || child.type === 8) {\n          const callArgs = [];\n          if (child.type !== 2 || child.content !== \" \") {\n            callArgs.push(child);\n          }\n          if (!context.ssr && getConstantType(child, context) === 0) {\n            callArgs.push(\n              1 + (!!(process.env.NODE_ENV !== \"production\") ? ` /* ${PatchFlagNames[1]} */` : ``)\n            );\n          }\n          children[i] = {\n            type: 12,\n            content: child,\n            loc: child.loc,\n            codegenNode: createCallExpression(\n              context.helper(CREATE_TEXT),\n              callArgs\n            )\n          };\n        }\n      }\n    };\n  }\n};\n\nconst seen$1 = /* @__PURE__ */ new WeakSet();\nconst transformOnce = (node, context) => {\n  if (node.type === 1 && findDir(node, \"once\", true)) {\n    if (seen$1.has(node) || context.inVOnce || context.inSSR) {\n      return;\n    }\n    seen$1.add(node);\n    context.inVOnce = true;\n    context.helper(SET_BLOCK_TRACKING);\n    return () => {\n      context.inVOnce = false;\n      const cur = context.currentNode;\n      if (cur.codegenNode) {\n        cur.codegenNode = context.cache(\n          cur.codegenNode,\n          true\n          /* isVNode */\n        );\n      }\n    };\n  }\n};\n\nconst transformModel = (dir, node, context) => {\n  const { exp, arg } = dir;\n  if (!exp) {\n    context.onError(\n      createCompilerError(41, dir.loc)\n    );\n    return createTransformProps();\n  }\n  const rawExp = exp.loc.source;\n  const expString = exp.type === 4 ? exp.content : rawExp;\n  const bindingType = context.bindingMetadata[rawExp];\n  if (bindingType === \"props\" || bindingType === \"props-aliased\") {\n    context.onError(createCompilerError(44, exp.loc));\n    return createTransformProps();\n  }\n  const maybeRef = false;\n  if (!expString.trim() || !isMemberExpression(expString) && !maybeRef) {\n    context.onError(\n      createCompilerError(42, exp.loc)\n    );\n    return createTransformProps();\n  }\n  const propName = arg ? arg : createSimpleExpression(\"modelValue\", true);\n  const eventName = arg ? isStaticExp(arg) ? `onUpdate:${camelize(arg.content)}` : createCompoundExpression(['\"onUpdate:\" + ', arg]) : `onUpdate:modelValue`;\n  let assignmentExp;\n  const eventArg = context.isTS ? `($event: any)` : `$event`;\n  {\n    assignmentExp = createCompoundExpression([\n      `${eventArg} => ((`,\n      exp,\n      `) = $event)`\n    ]);\n  }\n  const props = [\n    // modelValue: foo\n    createObjectProperty(propName, dir.exp),\n    // \"onUpdate:modelValue\": $event => (foo = $event)\n    createObjectProperty(eventName, assignmentExp)\n  ];\n  if (dir.modifiers.length && node.tagType === 1) {\n    const modifiers = dir.modifiers.map((m) => (isSimpleIdentifier(m) ? m : JSON.stringify(m)) + `: true`).join(`, `);\n    const modifiersKey = arg ? isStaticExp(arg) ? `${arg.content}Modifiers` : createCompoundExpression([arg, ' + \"Modifiers\"']) : `modelModifiers`;\n    props.push(\n      createObjectProperty(\n        modifiersKey,\n        createSimpleExpression(\n          `{ ${modifiers} }`,\n          false,\n          dir.loc,\n          2\n        )\n      )\n    );\n  }\n  return createTransformProps(props);\n};\nfunction createTransformProps(props = []) {\n  return { props };\n}\n\nconst validDivisionCharRE = /[\\w).+\\-_$\\]]/;\nconst transformFilter = (node, context) => {\n  if (!isCompatEnabled(\"COMPILER_FILTER\", context)) {\n    return;\n  }\n  if (node.type === 5) {\n    rewriteFilter(node.content, context);\n  }\n  if (node.type === 1) {\n    node.props.forEach((prop) => {\n      if (prop.type === 7 && prop.name !== \"for\" && prop.exp) {\n        rewriteFilter(prop.exp, context);\n      }\n    });\n  }\n};\nfunction rewriteFilter(node, context) {\n  if (node.type === 4) {\n    parseFilter(node, context);\n  } else {\n    for (let i = 0; i < node.children.length; i++) {\n      const child = node.children[i];\n      if (typeof child !== \"object\")\n        continue;\n      if (child.type === 4) {\n        parseFilter(child, context);\n      } else if (child.type === 8) {\n        rewriteFilter(node, context);\n      } else if (child.type === 5) {\n        rewriteFilter(child.content, context);\n      }\n    }\n  }\n}\nfunction parseFilter(node, context) {\n  const exp = node.content;\n  let inSingle = false;\n  let inDouble = false;\n  let inTemplateString = false;\n  let inRegex = false;\n  let curly = 0;\n  let square = 0;\n  let paren = 0;\n  let lastFilterIndex = 0;\n  let c, prev, i, expression, filters = [];\n  for (i = 0; i < exp.length; i++) {\n    prev = c;\n    c = exp.charCodeAt(i);\n    if (inSingle) {\n      if (c === 39 && prev !== 92)\n        inSingle = false;\n    } else if (inDouble) {\n      if (c === 34 && prev !== 92)\n        inDouble = false;\n    } else if (inTemplateString) {\n      if (c === 96 && prev !== 92)\n        inTemplateString = false;\n    } else if (inRegex) {\n      if (c === 47 && prev !== 92)\n        inRegex = false;\n    } else if (c === 124 && // pipe\n    exp.charCodeAt(i + 1) !== 124 && exp.charCodeAt(i - 1) !== 124 && !curly && !square && !paren) {\n      if (expression === void 0) {\n        lastFilterIndex = i + 1;\n        expression = exp.slice(0, i).trim();\n      } else {\n        pushFilter();\n      }\n    } else {\n      switch (c) {\n        case 34:\n          inDouble = true;\n          break;\n        case 39:\n          inSingle = true;\n          break;\n        case 96:\n          inTemplateString = true;\n          break;\n        case 40:\n          paren++;\n          break;\n        case 41:\n          paren--;\n          break;\n        case 91:\n          square++;\n          break;\n        case 93:\n          square--;\n          break;\n        case 123:\n          curly++;\n          break;\n        case 125:\n          curly--;\n          break;\n      }\n      if (c === 47) {\n        let j = i - 1;\n        let p;\n        for (; j >= 0; j--) {\n          p = exp.charAt(j);\n          if (p !== \" \")\n            break;\n        }\n        if (!p || !validDivisionCharRE.test(p)) {\n          inRegex = true;\n        }\n      }\n    }\n  }\n  if (expression === void 0) {\n    expression = exp.slice(0, i).trim();\n  } else if (lastFilterIndex !== 0) {\n    pushFilter();\n  }\n  function pushFilter() {\n    filters.push(exp.slice(lastFilterIndex, i).trim());\n    lastFilterIndex = i + 1;\n  }\n  if (filters.length) {\n    !!(process.env.NODE_ENV !== \"production\") && warnDeprecation(\n      \"COMPILER_FILTER\",\n      context,\n      node.loc\n    );\n    for (i = 0; i < filters.length; i++) {\n      expression = wrapFilter(expression, filters[i], context);\n    }\n    node.content = expression;\n  }\n}\nfunction wrapFilter(exp, filter, context) {\n  context.helper(RESOLVE_FILTER);\n  const i = filter.indexOf(\"(\");\n  if (i < 0) {\n    context.filters.add(filter);\n    return `${toValidAssetId(filter, \"filter\")}(${exp})`;\n  } else {\n    const name = filter.slice(0, i);\n    const args = filter.slice(i + 1);\n    context.filters.add(name);\n    return `${toValidAssetId(name, \"filter\")}(${exp}${args !== \")\" ? \",\" + args : args}`;\n  }\n}\n\nconst seen = /* @__PURE__ */ new WeakSet();\nconst transformMemo = (node, context) => {\n  if (node.type === 1) {\n    const dir = findDir(node, \"memo\");\n    if (!dir || seen.has(node)) {\n      return;\n    }\n    seen.add(node);\n    return () => {\n      const codegenNode = node.codegenNode || context.currentNode.codegenNode;\n      if (codegenNode && codegenNode.type === 13) {\n        if (node.tagType !== 1) {\n          convertToBlock(codegenNode, context);\n        }\n        node.codegenNode = createCallExpression(context.helper(WITH_MEMO), [\n          dir.exp,\n          createFunctionExpression(void 0, codegenNode),\n          `_cache`,\n          String(context.cached++)\n        ]);\n      }\n    };\n  }\n};\n\nfunction getBaseTransformPreset(prefixIdentifiers) {\n  return [\n    [\n      transformOnce,\n      transformIf,\n      transformMemo,\n      transformFor,\n      ...[transformFilter] ,\n      ...!!(process.env.NODE_ENV !== \"production\") ? [transformExpression] : [],\n      transformSlotOutlet,\n      transformElement,\n      trackSlotScopes,\n      transformText\n    ],\n    {\n      on: transformOn,\n      bind: transformBind,\n      model: transformModel\n    }\n  ];\n}\nfunction baseCompile(template, options = {}) {\n  const onError = options.onError || defaultOnError;\n  const isModuleMode = options.mode === \"module\";\n  {\n    if (options.prefixIdentifiers === true) {\n      onError(createCompilerError(47));\n    } else if (isModuleMode) {\n      onError(createCompilerError(48));\n    }\n  }\n  const prefixIdentifiers = false;\n  if (options.cacheHandlers) {\n    onError(createCompilerError(49));\n  }\n  if (options.scopeId && !isModuleMode) {\n    onError(createCompilerError(50));\n  }\n  const ast = isString(template) ? baseParse(template, options) : template;\n  const [nodeTransforms, directiveTransforms] = getBaseTransformPreset();\n  transform(\n    ast,\n    extend({}, options, {\n      prefixIdentifiers,\n      nodeTransforms: [\n        ...nodeTransforms,\n        ...options.nodeTransforms || []\n        // user transforms\n      ],\n      directiveTransforms: extend(\n        {},\n        directiveTransforms,\n        options.directiveTransforms || {}\n        // user transforms\n      )\n    })\n  );\n  return generate(\n    ast,\n    extend({}, options, {\n      prefixIdentifiers\n    })\n  );\n}\n\nconst noopDirectiveTransform = () => ({ props: [] });\n\nexport { BASE_TRANSITION, CAMELIZE, CAPITALIZE, CREATE_BLOCK, CREATE_COMMENT, CREATE_ELEMENT_BLOCK, CREATE_ELEMENT_VNODE, CREATE_SLOTS, CREATE_STATIC, CREATE_TEXT, CREATE_VNODE, FRAGMENT, GUARD_REACTIVE_PROPS, IS_MEMO_SAME, IS_REF, KEEP_ALIVE, MERGE_PROPS, NORMALIZE_CLASS, NORMALIZE_PROPS, NORMALIZE_STYLE, OPEN_BLOCK, POP_SCOPE_ID, PUSH_SCOPE_ID, RENDER_LIST, RENDER_SLOT, RESOLVE_COMPONENT, RESOLVE_DIRECTIVE, RESOLVE_DYNAMIC_COMPONENT, RESOLVE_FILTER, SET_BLOCK_TRACKING, SUSPENSE, TELEPORT, TO_DISPLAY_STRING, TO_HANDLERS, TO_HANDLER_KEY, TS_NODE_TYPES, UNREF, WITH_CTX, WITH_DIRECTIVES, WITH_MEMO, advancePositionWithClone, advancePositionWithMutation, assert, baseCompile, baseParse, buildDirectiveArgs, buildProps, buildSlots, checkCompatEnabled, convertToBlock, createArrayExpression, createAssignmentExpression, createBlockStatement, createCacheExpression, createCallExpression, createCompilerError, createCompoundExpression, createConditionalExpression, createForLoopParams, createFunctionExpression, createIfStatement, createInterpolation, createObjectExpression, createObjectProperty, createReturnStatement, createRoot, createSequenceExpression, createSimpleExpression, createStructuralDirectiveTransform, createTemplateLiteral, createTransformContext, createVNodeCall, extractIdentifiers, findDir, findProp, generate, getBaseTransformPreset, getConstantType, getInnerRange, getMemoedVNodeCall, getVNodeBlockHelper, getVNodeHelper, hasDynamicKeyVBind, hasScopeRef, helperNameMap, injectProp, isBuiltInType, isCoreComponent, isFunctionType, isInDestructureAssignment, isMemberExpression, isMemberExpressionBrowser, isMemberExpressionNode, isReferencedIdentifier, isSimpleIdentifier, isSlotOutlet, isStaticArgOf, isStaticExp, isStaticProperty, isStaticPropertyKey, isTemplateNode, isText$1 as isText, isVSlot, locStub, noopDirectiveTransform, processExpression, processFor, processIf, processSlotOutlet, registerRuntimeHelpers, resolveComponentType, stringifyExpression, toValidAssetId, trackSlotScopes, trackVForSlotScopes, transform, transformBind, transformElement, transformExpression, transformModel, transformOn, traverseNode, walkBlockDeclarations, walkFunctionParams, walkIdentifiers, warnDeprecation };\n","import { registerRuntimeHelpers, isBuiltInType, createSimpleExpression, createCompilerError, createObjectProperty, getConstantType, createCallExpression, TO_DISPLAY_STRING, transformModel as transformModel$1, findProp, hasDynamicKeyVBind, transformOn as transformOn$1, isStaticExp, createCompoundExpression, checkCompatEnabled, noopDirectiveTransform, baseCompile, baseParse } from '@vue/compiler-core';\nexport * from '@vue/compiler-core';\nimport { isVoidTag, isHTMLTag, isSVGTag, makeMap, parseStringStyle, capitalize, extend } from '@vue/shared';\n\nconst V_MODEL_RADIO = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `vModelRadio` : ``);\nconst V_MODEL_CHECKBOX = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `vModelCheckbox` : ``);\nconst V_MODEL_TEXT = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `vModelText` : ``);\nconst V_MODEL_SELECT = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `vModelSelect` : ``);\nconst V_MODEL_DYNAMIC = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `vModelDynamic` : ``);\nconst V_ON_WITH_MODIFIERS = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `vOnModifiersGuard` : ``);\nconst V_ON_WITH_KEYS = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `vOnKeysGuard` : ``);\nconst V_SHOW = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `vShow` : ``);\nconst TRANSITION = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `Transition` : ``);\nconst TRANSITION_GROUP = Symbol(!!(process.env.NODE_ENV !== \"production\") ? `TransitionGroup` : ``);\nregisterRuntimeHelpers({\n  [V_MODEL_RADIO]: `vModelRadio`,\n  [V_MODEL_CHECKBOX]: `vModelCheckbox`,\n  [V_MODEL_TEXT]: `vModelText`,\n  [V_MODEL_SELECT]: `vModelSelect`,\n  [V_MODEL_DYNAMIC]: `vModelDynamic`,\n  [V_ON_WITH_MODIFIERS]: `withModifiers`,\n  [V_ON_WITH_KEYS]: `withKeys`,\n  [V_SHOW]: `vShow`,\n  [TRANSITION]: `Transition`,\n  [TRANSITION_GROUP]: `TransitionGroup`\n});\n\nlet decoder;\nfunction decodeHtmlBrowser(raw, asAttr = false) {\n  if (!decoder) {\n    decoder = document.createElement(\"div\");\n  }\n  if (asAttr) {\n    decoder.innerHTML = `<div foo=\"${raw.replace(/\"/g, \"&quot;\")}\">`;\n    return decoder.children[0].getAttribute(\"foo\");\n  } else {\n    decoder.innerHTML = raw;\n    return decoder.textContent;\n  }\n}\n\nconst isRawTextContainer = /* @__PURE__ */ makeMap(\n  \"style,iframe,script,noscript\",\n  true\n);\nconst parserOptions = {\n  isVoidTag,\n  isNativeTag: (tag) => isHTMLTag(tag) || isSVGTag(tag),\n  isPreTag: (tag) => tag === \"pre\",\n  decodeEntities: decodeHtmlBrowser ,\n  isBuiltInComponent: (tag) => {\n    if (isBuiltInType(tag, `Transition`)) {\n      return TRANSITION;\n    } else if (isBuiltInType(tag, `TransitionGroup`)) {\n      return TRANSITION_GROUP;\n    }\n  },\n  // https://html.spec.whatwg.org/multipage/parsing.html#tree-construction-dispatcher\n  getNamespace(tag, parent) {\n    let ns = parent ? parent.ns : 0;\n    if (parent && ns === 2) {\n      if (parent.tag === \"annotation-xml\") {\n        if (tag === \"svg\") {\n          return 1;\n        }\n        if (parent.props.some(\n          (a) => a.type === 6 && a.name === \"encoding\" && a.value != null && (a.value.content === \"text/html\" || a.value.content === \"application/xhtml+xml\")\n        )) {\n          ns = 0;\n        }\n      } else if (/^m(?:[ions]|text)$/.test(parent.tag) && tag !== \"mglyph\" && tag !== \"malignmark\") {\n        ns = 0;\n      }\n    } else if (parent && ns === 1) {\n      if (parent.tag === \"foreignObject\" || parent.tag === \"desc\" || parent.tag === \"title\") {\n        ns = 0;\n      }\n    }\n    if (ns === 0) {\n      if (tag === \"svg\") {\n        return 1;\n      }\n      if (tag === \"math\") {\n        return 2;\n      }\n    }\n    return ns;\n  },\n  // https://html.spec.whatwg.org/multipage/parsing.html#parsing-html-fragments\n  getTextMode({ tag, ns }) {\n    if (ns === 0) {\n      if (tag === \"textarea\" || tag === \"title\") {\n        return 1;\n      }\n      if (isRawTextContainer(tag)) {\n        return 2;\n      }\n    }\n    return 0;\n  }\n};\n\nconst transformStyle = (node) => {\n  if (node.type === 1) {\n    node.props.forEach((p, i) => {\n      if (p.type === 6 && p.name === \"style\" && p.value) {\n        node.props[i] = {\n          type: 7,\n          name: `bind`,\n          arg: createSimpleExpression(`style`, true, p.loc),\n          exp: parseInlineCSS(p.value.content, p.loc),\n          modifiers: [],\n          loc: p.loc\n        };\n      }\n    });\n  }\n};\nconst parseInlineCSS = (cssText, loc) => {\n  const normalized = parseStringStyle(cssText);\n  return createSimpleExpression(\n    JSON.stringify(normalized),\n    false,\n    loc,\n    3\n  );\n};\n\nfunction createDOMCompilerError(code, loc) {\n  return createCompilerError(\n    code,\n    loc,\n    !!(process.env.NODE_ENV !== \"production\") || false ? DOMErrorMessages : void 0\n  );\n}\nconst DOMErrorMessages = {\n  [53]: `v-html is missing expression.`,\n  [54]: `v-html will override element children.`,\n  [55]: `v-text is missing expression.`,\n  [56]: `v-text will override element children.`,\n  [57]: `v-model can only be used on <input>, <textarea> and <select> elements.`,\n  [58]: `v-model argument is not supported on plain elements.`,\n  [59]: `v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.`,\n  [60]: `Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.`,\n  [61]: `v-show is missing expression.`,\n  [62]: `<Transition> expects exactly one child element or component.`,\n  [63]: `Tags with side effect (<script> and <style>) are ignored in client component templates.`\n};\n\nconst transformVHtml = (dir, node, context) => {\n  const { exp, loc } = dir;\n  if (!exp) {\n    context.onError(\n      createDOMCompilerError(53, loc)\n    );\n  }\n  if (node.children.length) {\n    context.onError(\n      createDOMCompilerError(54, loc)\n    );\n    node.children.length = 0;\n  }\n  return {\n    props: [\n      createObjectProperty(\n        createSimpleExpression(`innerHTML`, true, loc),\n        exp || createSimpleExpression(\"\", true)\n      )\n    ]\n  };\n};\n\nconst transformVText = (dir, node, context) => {\n  const { exp, loc } = dir;\n  if (!exp) {\n    context.onError(\n      createDOMCompilerError(55, loc)\n    );\n  }\n  if (node.children.length) {\n    context.onError(\n      createDOMCompilerError(56, loc)\n    );\n    node.children.length = 0;\n  }\n  return {\n    props: [\n      createObjectProperty(\n        createSimpleExpression(`textContent`, true),\n        exp ? getConstantType(exp, context) > 0 ? exp : createCallExpression(\n          context.helperString(TO_DISPLAY_STRING),\n          [exp],\n          loc\n        ) : createSimpleExpression(\"\", true)\n      )\n    ]\n  };\n};\n\nconst transformModel = (dir, node, context) => {\n  const baseResult = transformModel$1(dir, node, context);\n  if (!baseResult.props.length || node.tagType === 1) {\n    return baseResult;\n  }\n  if (dir.arg) {\n    context.onError(\n      createDOMCompilerError(\n        58,\n        dir.arg.loc\n      )\n    );\n  }\n  function checkDuplicatedValue() {\n    const value = findProp(node, \"value\");\n    if (value) {\n      context.onError(\n        createDOMCompilerError(\n          60,\n          value.loc\n        )\n      );\n    }\n  }\n  const { tag } = node;\n  const isCustomElement = context.isCustomElement(tag);\n  if (tag === \"input\" || tag === \"textarea\" || tag === \"select\" || isCustomElement) {\n    let directiveToUse = V_MODEL_TEXT;\n    let isInvalidType = false;\n    if (tag === \"input\" || isCustomElement) {\n      const type = findProp(node, `type`);\n      if (type) {\n        if (type.type === 7) {\n          directiveToUse = V_MODEL_DYNAMIC;\n        } else if (type.value) {\n          switch (type.value.content) {\n            case \"radio\":\n              directiveToUse = V_MODEL_RADIO;\n              break;\n            case \"checkbox\":\n              directiveToUse = V_MODEL_CHECKBOX;\n              break;\n            case \"file\":\n              isInvalidType = true;\n              context.onError(\n                createDOMCompilerError(\n                  59,\n                  dir.loc\n                )\n              );\n              break;\n            default:\n              !!(process.env.NODE_ENV !== \"production\") && checkDuplicatedValue();\n              break;\n          }\n        }\n      } else if (hasDynamicKeyVBind(node)) {\n        directiveToUse = V_MODEL_DYNAMIC;\n      } else {\n        !!(process.env.NODE_ENV !== \"production\") && checkDuplicatedValue();\n      }\n    } else if (tag === \"select\") {\n      directiveToUse = V_MODEL_SELECT;\n    } else {\n      !!(process.env.NODE_ENV !== \"production\") && checkDuplicatedValue();\n    }\n    if (!isInvalidType) {\n      baseResult.needRuntime = context.helper(directiveToUse);\n    }\n  } else {\n    context.onError(\n      createDOMCompilerError(\n        57,\n        dir.loc\n      )\n    );\n  }\n  baseResult.props = baseResult.props.filter(\n    (p) => !(p.key.type === 4 && p.key.content === \"modelValue\")\n  );\n  return baseResult;\n};\n\nconst isEventOptionModifier = /* @__PURE__ */ makeMap(`passive,once,capture`);\nconst isNonKeyModifier = /* @__PURE__ */ makeMap(\n  // event propagation management\n  `stop,prevent,self,ctrl,shift,alt,meta,exact,middle`\n);\nconst maybeKeyModifier = /* @__PURE__ */ makeMap(\"left,right\");\nconst isKeyboardEvent = /* @__PURE__ */ makeMap(\n  `onkeyup,onkeydown,onkeypress`,\n  true\n);\nconst resolveModifiers = (key, modifiers, context, loc) => {\n  const keyModifiers = [];\n  const nonKeyModifiers = [];\n  const eventOptionModifiers = [];\n  for (let i = 0; i < modifiers.length; i++) {\n    const modifier = modifiers[i];\n    if (modifier === \"native\" && checkCompatEnabled(\n      \"COMPILER_V_ON_NATIVE\",\n      context,\n      loc\n    )) {\n      eventOptionModifiers.push(modifier);\n    } else if (isEventOptionModifier(modifier)) {\n      eventOptionModifiers.push(modifier);\n    } else {\n      if (maybeKeyModifier(modifier)) {\n        if (isStaticExp(key)) {\n          if (isKeyboardEvent(key.content)) {\n            keyModifiers.push(modifier);\n          } else {\n            nonKeyModifiers.push(modifier);\n          }\n        } else {\n          keyModifiers.push(modifier);\n          nonKeyModifiers.push(modifier);\n        }\n      } else {\n        if (isNonKeyModifier(modifier)) {\n          nonKeyModifiers.push(modifier);\n        } else {\n          keyModifiers.push(modifier);\n        }\n      }\n    }\n  }\n  return {\n    keyModifiers,\n    nonKeyModifiers,\n    eventOptionModifiers\n  };\n};\nconst transformClick = (key, event) => {\n  const isStaticClick = isStaticExp(key) && key.content.toLowerCase() === \"onclick\";\n  return isStaticClick ? createSimpleExpression(event, true) : key.type !== 4 ? createCompoundExpression([\n    `(`,\n    key,\n    `) === \"onClick\" ? \"${event}\" : (`,\n    key,\n    `)`\n  ]) : key;\n};\nconst transformOn = (dir, node, context) => {\n  return transformOn$1(dir, node, context, (baseResult) => {\n    const { modifiers } = dir;\n    if (!modifiers.length)\n      return baseResult;\n    let { key, value: handlerExp } = baseResult.props[0];\n    const { keyModifiers, nonKeyModifiers, eventOptionModifiers } = resolveModifiers(key, modifiers, context, dir.loc);\n    if (nonKeyModifiers.includes(\"right\")) {\n      key = transformClick(key, `onContextmenu`);\n    }\n    if (nonKeyModifiers.includes(\"middle\")) {\n      key = transformClick(key, `onMouseup`);\n    }\n    if (nonKeyModifiers.length) {\n      handlerExp = createCallExpression(context.helper(V_ON_WITH_MODIFIERS), [\n        handlerExp,\n        JSON.stringify(nonKeyModifiers)\n      ]);\n    }\n    if (keyModifiers.length && // if event name is dynamic, always wrap with keys guard\n    (!isStaticExp(key) || isKeyboardEvent(key.content))) {\n      handlerExp = createCallExpression(context.helper(V_ON_WITH_KEYS), [\n        handlerExp,\n        JSON.stringify(keyModifiers)\n      ]);\n    }\n    if (eventOptionModifiers.length) {\n      const modifierPostfix = eventOptionModifiers.map(capitalize).join(\"\");\n      key = isStaticExp(key) ? createSimpleExpression(`${key.content}${modifierPostfix}`, true) : createCompoundExpression([`(`, key, `) + \"${modifierPostfix}\"`]);\n    }\n    return {\n      props: [createObjectProperty(key, handlerExp)]\n    };\n  });\n};\n\nconst transformShow = (dir, node, context) => {\n  const { exp, loc } = dir;\n  if (!exp) {\n    context.onError(\n      createDOMCompilerError(61, loc)\n    );\n  }\n  return {\n    props: [],\n    needRuntime: context.helper(V_SHOW)\n  };\n};\n\nconst transformTransition = (node, context) => {\n  if (node.type === 1 && node.tagType === 1) {\n    const component = context.isBuiltInComponent(node.tag);\n    if (component === TRANSITION) {\n      return () => {\n        if (!node.children.length) {\n          return;\n        }\n        if (hasMultipleChildren(node)) {\n          context.onError(\n            createDOMCompilerError(\n              62,\n              {\n                start: node.children[0].loc.start,\n                end: node.children[node.children.length - 1].loc.end,\n                source: \"\"\n              }\n            )\n          );\n        }\n        const child = node.children[0];\n        if (child.type === 1) {\n          for (const p of child.props) {\n            if (p.type === 7 && p.name === \"show\") {\n              node.props.push({\n                type: 6,\n                name: \"persisted\",\n                value: void 0,\n                loc: node.loc\n              });\n            }\n          }\n        }\n      };\n    }\n  }\n};\nfunction hasMultipleChildren(node) {\n  const children = node.children = node.children.filter(\n    (c) => c.type !== 3 && !(c.type === 2 && !c.content.trim())\n  );\n  const child = children[0];\n  return children.length !== 1 || child.type === 11 || child.type === 9 && child.branches.some(hasMultipleChildren);\n}\n\nconst ignoreSideEffectTags = (node, context) => {\n  if (node.type === 1 && node.tagType === 0 && (node.tag === \"script\" || node.tag === \"style\")) {\n    !!(process.env.NODE_ENV !== \"production\") && context.onError(\n      createDOMCompilerError(\n        63,\n        node.loc\n      )\n    );\n    context.removeNode();\n  }\n};\n\nconst DOMNodeTransforms = [\n  transformStyle,\n  ...!!(process.env.NODE_ENV !== \"production\") ? [transformTransition] : []\n];\nconst DOMDirectiveTransforms = {\n  cloak: noopDirectiveTransform,\n  html: transformVHtml,\n  text: transformVText,\n  model: transformModel,\n  // override compiler-core\n  on: transformOn,\n  // override compiler-core\n  show: transformShow\n};\nfunction compile(template, options = {}) {\n  return baseCompile(\n    template,\n    extend({}, parserOptions, options, {\n      nodeTransforms: [\n        // ignore <script> and <tag>\n        // this is not put inside DOMNodeTransforms because that list is used\n        // by compiler-ssr to generate vnode fallback branches\n        ignoreSideEffectTags,\n        ...DOMNodeTransforms,\n        ...options.nodeTransforms || []\n      ],\n      directiveTransforms: extend(\n        {},\n        DOMDirectiveTransforms,\n        options.directiveTransforms || {}\n      ),\n      transformHoist: null \n    })\n  );\n}\nfunction parse(template, options = {}) {\n  return baseParse(template, extend({}, parserOptions, options));\n}\n\nexport { DOMDirectiveTransforms, DOMNodeTransforms, TRANSITION, TRANSITION_GROUP, V_MODEL_CHECKBOX, V_MODEL_DYNAMIC, V_MODEL_RADIO, V_MODEL_SELECT, V_MODEL_TEXT, V_ON_WITH_KEYS, V_ON_WITH_MODIFIERS, V_SHOW, compile, createDOMCompilerError, parse, parserOptions, transformStyle };\n","import * as runtimeDom from '@vue/runtime-dom';\nimport { initCustomFormatter, registerRuntimeCompiler, warn } from '@vue/runtime-dom';\nexport * from '@vue/runtime-dom';\nimport { compile } from '@vue/compiler-dom';\nimport { isString, NOOP, extend, generateCodeFrame } from '@vue/shared';\n\nfunction initDev() {\n  {\n    initCustomFormatter();\n  }\n}\n\nif (!!(process.env.NODE_ENV !== \"production\")) {\n  initDev();\n}\nconst compileCache = /* @__PURE__ */ Object.create(null);\nfunction compileToFunction(template, options) {\n  if (!isString(template)) {\n    if (template.nodeType) {\n      template = template.innerHTML;\n    } else {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`invalid template option: `, template);\n      return NOOP;\n    }\n  }\n  const key = template;\n  const cached = compileCache[key];\n  if (cached) {\n    return cached;\n  }\n  if (template[0] === \"#\") {\n    const el = document.querySelector(template);\n    if (!!(process.env.NODE_ENV !== \"production\") && !el) {\n      warn(`Template element not found or is empty: ${template}`);\n    }\n    template = el ? el.innerHTML : ``;\n  }\n  const opts = extend(\n    {\n      hoistStatic: true,\n      onError: !!(process.env.NODE_ENV !== \"production\") ? onError : void 0,\n      onWarn: !!(process.env.NODE_ENV !== \"production\") ? (e) => onError(e, true) : NOOP\n    },\n    options\n  );\n  if (!opts.isCustomElement && typeof customElements !== \"undefined\") {\n    opts.isCustomElement = (tag) => !!customElements.get(tag);\n  }\n  const { code } = compile(template, opts);\n  function onError(err, asWarning = false) {\n    const message = asWarning ? err.message : `Template compilation error: ${err.message}`;\n    const codeFrame = err.loc && generateCodeFrame(\n      template,\n      err.loc.start.offset,\n      err.loc.end.offset\n    );\n    warn(codeFrame ? `${message}\n${codeFrame}` : message);\n  }\n  const render = new Function(\"Vue\", code)(runtimeDom);\n  render._rc = true;\n  return compileCache[key] = render;\n}\nregisterRuntimeCompiler(compileToFunction);\n\nexport { compileToFunction as compile };\n","/**\n * The interval methods don't mutate Date parameters.\n */\nexport class TimeInterval {\n    constructor(encode, decode, rangeCallback) {\n        this._encode = encode;\n        this._decode = decode;\n        this._rangeCallback = rangeCallback;\n    }\n    /**\n     * Returns a new date representing the latest interval boundary date before or equal to date.\n     * For example, `day.floor(date)` typically returns 12:00 AM local time on the given date.\n     * @param date\n     */\n    floor(date) {\n        const d = new Date(date);\n        const e = this._encode(d);\n        return this._decode(e);\n    }\n    /**\n     * Returns a new date representing the earliest interval boundary date after or equal to date.\n     * @param date\n     */\n    ceil(date) {\n        const d = new Date(Number(date) - 1);\n        const e = this._encode(d);\n        return this._decode(e + 1);\n    }\n    /**\n     * Returns an array of dates representing every interval boundary after or equal to start (inclusive) and before stop (exclusive).\n     * @param start Range start.\n     * @param stop Range end.\n     * @param extend If specified, the requested range will be extended to the closest \"nice\" values.\n     */\n    range(start, stop, extend) {\n        var _a;\n        const rangeCallback = (_a = this._rangeCallback) === null || _a === void 0 ? void 0 : _a.call(this, start, stop);\n        const e0 = this._encode(extend ? this.floor(start) : this.ceil(start));\n        const e1 = this._encode(extend ? this.ceil(stop) : this.floor(stop));\n        if (e1 < e0) {\n            return [];\n        }\n        const range = [];\n        for (let e = e0; e <= e1; e++) {\n            const d = this._decode(e);\n            range.push(d);\n        }\n        rangeCallback === null || rangeCallback === void 0 ? void 0 : rangeCallback();\n        return range;\n    }\n}\nexport class CountableTimeInterval extends TimeInterval {\n    getOffset(snapTo, step) {\n        const s = typeof snapTo === 'number' || snapTo instanceof Date ? this._encode(new Date(snapTo)) : 0;\n        return Math.floor(s) % step;\n    }\n    /**\n     * Returns a filtered view of this interval representing every step'th date.\n     * It can be a number of minutes, hours, days etc.\n     * Must be a positive integer.\n     * @param step\n     */\n    every(step, options) {\n        let offset = 0;\n        let rangeCallback;\n        const { snapTo = 'start' } = options !== null && options !== void 0 ? options : {};\n        if (typeof snapTo === 'string') {\n            const initialOffset = offset;\n            rangeCallback = (start, stop) => {\n                const s = snapTo === 'start' ? start : stop;\n                offset = this.getOffset(s, step);\n                return () => (offset = initialOffset);\n            };\n        }\n        else if (typeof snapTo === 'number') {\n            offset = this.getOffset(new Date(snapTo), step);\n        }\n        else if (snapTo instanceof Date) {\n            offset = this.getOffset(snapTo, step);\n        }\n        const encode = (date) => {\n            const e = this._encode(date);\n            return Math.floor((e - offset) / step);\n        };\n        const decode = (encoded) => {\n            return this._decode(encoded * step + offset);\n        };\n        const interval = new TimeInterval(encode, decode, rangeCallback);\n        return interval;\n    }\n}\n","import { CountableTimeInterval } from './interval.mjs';\nfunction encode(date) {\n    return date.getTime();\n}\nfunction decode(encoded) {\n    return new Date(encoded);\n}\nexport const millisecond = new CountableTimeInterval(encode, decode);\nexport default millisecond;\n","// Common time unit sizes in milliseconds.\nexport const epochYear = new Date(0).getFullYear();\nexport const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n","import { CountableTimeInterval } from './interval.mjs';\nimport { durationSecond, durationMinute } from './duration.mjs';\nconst offset = new Date().getTimezoneOffset() * durationMinute;\nfunction encode(date) {\n    return Math.floor((date.getTime() - offset) / durationSecond);\n}\nfunction decode(encoded) {\n    return new Date(offset + encoded * durationSecond);\n}\nexport const second = new CountableTimeInterval(encode, decode);\nexport default second;\n","import { CountableTimeInterval } from './interval.mjs';\nimport { durationMinute } from './duration.mjs';\nconst offset = new Date().getTimezoneOffset() * durationMinute;\nfunction encode(date) {\n    return Math.floor((date.getTime() - offset) / durationMinute);\n}\nfunction decode(encoded) {\n    return new Date(offset + encoded * durationMinute);\n}\nexport const minute = new CountableTimeInterval(encode, decode);\nexport default minute;\n","import { CountableTimeInterval } from './interval.mjs';\nimport { durationHour, durationMinute } from './duration.mjs';\nconst offset = new Date().getTimezoneOffset() * durationMinute;\nfunction encode(date) {\n    return Math.floor((date.getTime() - offset) / durationHour);\n}\nfunction decode(encoded) {\n    return new Date(offset + encoded * durationHour);\n}\nexport const hour = new CountableTimeInterval(encode, decode);\nexport default hour;\n","import { CountableTimeInterval } from './interval.mjs';\nimport { durationDay } from './duration.mjs';\nfunction encode(date) {\n    const utc = Date.UTC(date.getFullYear(), date.getMonth(), date.getDate());\n    return Math.floor(utc / durationDay);\n}\nfunction decode(encoded) {\n    const d = new Date(0);\n    d.setDate(d.getDate() + encoded);\n    d.setHours(0, 0, 0, 0);\n    return d;\n}\nexport const day = new CountableTimeInterval(encode, decode);\nexport default day;\n","import { durationWeek, durationDay } from './duration.mjs';\nimport { CountableTimeInterval } from './interval.mjs';\nconst baseSunday = new Date(2023, 0, 1);\n// Set date to n-th day of the week.\nfunction weekday(n) {\n    // Use UTC for weeks calculation to get into account time zone shifts\n    const base = Date.UTC(baseSunday.getFullYear(), baseSunday.getMonth(), baseSunday.getDate()) + n * durationDay;\n    function encode(date) {\n        const utc = Date.UTC(date.getFullYear(), date.getMonth(), date.getDate());\n        return Math.floor((utc - base) / durationWeek);\n    }\n    function decode(encoded) {\n        const d = new Date(base);\n        d.setDate(d.getDate() + encoded * 7);\n        return d;\n    }\n    return new CountableTimeInterval(encode, decode);\n}\nexport const sunday = weekday(0);\nexport const monday = weekday(1);\nexport const tuesday = weekday(2);\nexport const wednesday = weekday(3);\nexport const thursday = weekday(4);\nexport const friday = weekday(5);\nexport const saturday = weekday(6);\nexport default sunday;\n","import { CountableTimeInterval } from './interval.mjs';\nfunction encode(date) {\n    return date.getFullYear() * 12 + date.getMonth();\n}\nfunction decode(encoded) {\n    const year = Math.floor(encoded / 12);\n    const month = encoded - year * 12;\n    return new Date(year, month, 1);\n}\nexport const month = new CountableTimeInterval(encode, decode);\nexport default month;\n","import { CountableTimeInterval } from './interval.mjs';\nfunction encode(date) {\n    return date.getFullYear();\n}\nfunction decode(encoded) {\n    // Note: assigning years through the constructor\n    // will break for years 0 - 99 AD (will turn 1900's).\n    const d = new Date();\n    d.setFullYear(encoded);\n    d.setMonth(0, 1);\n    d.setHours(0, 0, 0, 0);\n    return d;\n}\nexport const year = new CountableTimeInterval(encode, decode);\nexport default year;\n","import { CountableTimeInterval } from './interval.mjs';\nimport { durationMinute } from './duration.mjs';\nfunction encode(date) {\n    return Math.floor(date.getTime() / durationMinute);\n}\nfunction decode(encoded) {\n    return new Date(encoded * durationMinute);\n}\nexport const utcMinute = new CountableTimeInterval(encode, decode);\n","import { CountableTimeInterval } from './interval.mjs';\nimport { durationHour } from './duration.mjs';\nfunction encode(date) {\n    return Math.floor(date.getTime() / durationHour);\n}\nfunction decode(encoded) {\n    return new Date(encoded * durationHour);\n}\nexport const utcHour = new CountableTimeInterval(encode, decode);\n","import { CountableTimeInterval } from './interval.mjs';\nimport { durationDay } from './duration.mjs';\nfunction encode(date) {\n    return Math.floor(date.getTime() / durationDay);\n}\nfunction decode(encoded) {\n    const d = new Date(0);\n    d.setUTCDate(d.getUTCDate() + encoded);\n    d.setUTCHours(0, 0, 0, 0);\n    return d;\n}\nexport const utcDay = new CountableTimeInterval(encode, decode);\nexport default utcDay;\n","import { CountableTimeInterval } from './interval.mjs';\nfunction encode(date) {\n    return date.getUTCFullYear() * 12 + date.getUTCMonth();\n}\nfunction decode(encoded) {\n    const year = Math.floor(encoded / 12);\n    const month = encoded - year * 12;\n    return new Date(Date.UTC(year, month, 1));\n}\nexport const utcMonth = new CountableTimeInterval(encode, decode);\n","import { CountableTimeInterval } from './interval.mjs';\nfunction encode(date) {\n    return date.getUTCFullYear();\n}\nfunction decode(encoded) {\n    // Note: assigning years through the constructor\n    // will break for years 0 - 99 AD (will turn 1900's).\n    const d = new Date();\n    d.setUTCFullYear(encoded);\n    d.setUTCMonth(0, 1);\n    d.setUTCHours(0, 0, 0, 0);\n    return d;\n}\nexport const utcYear = new CountableTimeInterval(encode, decode);\nexport default utcYear;\n","const MOBILE = [/Android/i, /webOS/i, /iPhone/i, /iPad/i, /iPod/i, /BlackBerry/i, /Windows Phone/i];\nexport function isDesktop() {\n    const userAgent = navigator.userAgent;\n    if (MOBILE.some((r) => r.test(userAgent))) {\n        return false;\n    }\n    return true;\n}\n","import { isDesktop } from '../util/userAgent.mjs';\n/**\n * Wraps the native Canvas element and overrides its CanvasRenderingContext2D to\n * provide resolution independent rendering based on `window.devicePixelRatio`.\n */\nexport class HdpiCanvas {\n    // The width/height attributes of the Canvas element default to\n    // 300/150 according to w3.org.\n    constructor({ document = window.document, width = 600, height = 300, domLayer = false, zIndex = 0, name = undefined, overrideDevicePixelRatio = undefined, }) {\n        this._container = undefined;\n        this._enabled = true;\n        // `NaN` is deliberate here, so that overrides are always applied\n        // and the `resetTransform` inside the `resize` method works in IE11.\n        this._pixelRatio = NaN;\n        this._width = 0;\n        this._height = 0;\n        this.document = document;\n        // Create canvas and immediately apply width + height to avoid out-of-memory\n        // errors on iOS/iPadOS Safari.\n        this.element = document.createElement('canvas');\n        this.element.width = width;\n        this.element.height = height;\n        this.context = this.element.getContext('2d');\n        this.imageSource = this.context.canvas;\n        const { style } = this.element;\n        style.userSelect = 'none';\n        style.display = 'block';\n        if (domLayer) {\n            style.position = 'absolute';\n            style.zIndex = String(zIndex);\n            style.top = '0';\n            style.left = '0';\n            style.pointerEvents = 'none';\n            style.opacity = `1`;\n            if (name) {\n                this.element.id = name;\n            }\n        }\n        this.setPixelRatio(overrideDevicePixelRatio);\n        this.resize(width, height);\n    }\n    set container(value) {\n        if (this._container !== value) {\n            this.remove();\n            if (value) {\n                value.appendChild(this.element);\n            }\n            this._container = value;\n        }\n    }\n    get container() {\n        return this._container;\n    }\n    set enabled(value) {\n        this.element.style.display = value ? 'block' : 'none';\n        this._enabled = !!value;\n    }\n    get enabled() {\n        return this._enabled;\n    }\n    remove() {\n        const { parentNode } = this.element;\n        if (parentNode != null) {\n            parentNode.removeChild(this.element);\n        }\n    }\n    destroy() {\n        this.element.remove();\n        // Workaround memory allocation quirks in iOS Safari by resizing to 0x0 and clearing.\n        // See https://bugs.webkit.org/show_bug.cgi?id=195325.\n        this.element.width = 0;\n        this.element.height = 0;\n        this.context.clearRect(0, 0, 0, 0);\n        Object.freeze(this);\n    }\n    snapshot() {\n        // No-op for compatibility with HdpiOffscreenCanvas.\n    }\n    clear() {\n        this.context.save();\n        this.context.resetTransform();\n        this.context.clearRect(0, 0, this.width, this.height);\n        this.context.restore();\n    }\n    toImage() {\n        const img = this.document.createElement('img');\n        img.src = this.getDataURL();\n        return img;\n    }\n    getDataURL(type) {\n        return this.element.toDataURL(type);\n    }\n    /**\n     * @param fileName The name of the downloaded file.\n     * @param fileFormat The file format, the default is `image/png`\n     */\n    download(fileName, fileFormat = 'image/png') {\n        fileName = (fileName !== null && fileName !== void 0 ? fileName : '').trim() || 'image';\n        const dataUrl = this.getDataURL(fileFormat);\n        const document = this.document;\n        const a = document.createElement('a');\n        a.href = dataUrl;\n        a.download = fileName;\n        a.style.display = 'none';\n        document.body.appendChild(a); // required for the `click` to work in Firefox\n        a.click();\n        document.body.removeChild(a);\n    }\n    get pixelRatio() {\n        return this._pixelRatio;\n    }\n    /**\n     * Changes the pixel ratio of the Canvas element to the given value,\n     * or uses the window.devicePixelRatio (default), then resizes the Canvas\n     * element accordingly (default).\n     */\n    setPixelRatio(ratio) {\n        let pixelRatio = ratio !== null && ratio !== void 0 ? ratio : window.devicePixelRatio;\n        if (!isDesktop()) {\n            // Mobile browsers have stricter memory limits, we reduce rendering resolution to\n            // improve stability on mobile browsers. iOS Safari 12->16 are pain-points since they\n            // have memory allocation quirks - see https://bugs.webkit.org/show_bug.cgi?id=195325.\n            pixelRatio = 1;\n        }\n        HdpiCanvas.overrideScale(this.context, pixelRatio);\n        this._pixelRatio = pixelRatio;\n    }\n    set pixelated(value) {\n        this.element.style.imageRendering = value ? 'pixelated' : 'auto';\n    }\n    get pixelated() {\n        return this.element.style.imageRendering === 'pixelated';\n    }\n    get width() {\n        return this._width;\n    }\n    get height() {\n        return this._height;\n    }\n    resize(width, height) {\n        if (!(width > 0 && height > 0)) {\n            return;\n        }\n        const { element, context, pixelRatio } = this;\n        element.width = Math.round(width * pixelRatio);\n        element.height = Math.round(height * pixelRatio);\n        element.style.width = width + 'px';\n        element.style.height = height + 'px';\n        context.resetTransform();\n        this._width = width;\n        this._height = height;\n    }\n    static get textMeasuringContext() {\n        if (this._textMeasuringContext) {\n            return this._textMeasuringContext;\n        }\n        const canvas = document.createElement('canvas');\n        this._textMeasuringContext = canvas.getContext('2d');\n        return this._textMeasuringContext;\n    }\n    static get svgText() {\n        if (this._svgText) {\n            return this._svgText;\n        }\n        const xmlns = 'http://www.w3.org/2000/svg';\n        const svg = document.createElementNS(xmlns, 'svg');\n        svg.setAttribute('width', '100');\n        svg.setAttribute('height', '100');\n        // Add a descriptive class name in case someone sees this SVG element\n        // in devtools and wonders about its purpose:\n        if (svg.classList) {\n            svg.classList.add('text-measuring-svg');\n        }\n        else {\n            svg.setAttribute('class', 'text-measuring-svg');\n        }\n        svg.style.position = 'absolute';\n        svg.style.top = '-1000px';\n        svg.style.visibility = 'hidden';\n        const svgText = document.createElementNS(xmlns, 'text');\n        svgText.setAttribute('x', '0');\n        svgText.setAttribute('y', '30');\n        svgText.setAttribute('text', 'black');\n        svg.appendChild(svgText);\n        document.body.appendChild(svg);\n        this._svgText = svgText;\n        return svgText;\n    }\n    static get has() {\n        if (this._has) {\n            return this._has;\n        }\n        const isChrome = navigator.userAgent.indexOf('Chrome') > -1;\n        const isFirefox = navigator.userAgent.indexOf('Firefox') > -1;\n        const isSafari = !isChrome && navigator.userAgent.indexOf('Safari') > -1;\n        this._has = Object.freeze({\n            textMetrics: this.textMeasuringContext.measureText('test').actualBoundingBoxDescent !== undefined &&\n                // Firefox implemented advanced TextMetrics object in v74:\n                // https://bugzilla.mozilla.org/show_bug.cgi?id=1102584\n                // but it's buggy, so we'll keep using the SVG for text measurement in Firefox for now.\n                !isFirefox &&\n                !isSafari,\n            getTransform: this.textMeasuringContext.getTransform !== undefined,\n        });\n        return this._has;\n    }\n    static measureText(text, font, textBaseline, textAlign) {\n        const ctx = this.textMeasuringContext;\n        ctx.font = font;\n        ctx.textBaseline = textBaseline;\n        ctx.textAlign = textAlign;\n        return ctx.measureText(text);\n    }\n    /**\n     * Returns the width and height of the measured text.\n     * @param text The single-line text to measure.\n     * @param font The font shorthand string.\n     */\n    static getTextSize(text, font) {\n        if (this.has.textMetrics) {\n            const ctx = this.textMeasuringContext;\n            ctx.font = font;\n            const metrics = ctx.measureText(text);\n            return {\n                width: metrics.width,\n                height: metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent,\n            };\n        }\n        else {\n            return this.measureSvgText(text, font);\n        }\n    }\n    static measureSvgText(text, font) {\n        const cache = this.textSizeCache;\n        const fontCache = cache[font];\n        // Note: consider not caching the size of numeric strings.\n        // For example: if (isNaN(+text)) { // skip\n        if (fontCache) {\n            const size = fontCache[text];\n            if (size) {\n                return size;\n            }\n        }\n        else {\n            cache[font] = {};\n        }\n        const svgText = this.svgText;\n        svgText.style.font = font;\n        svgText.textContent = text;\n        // `getBBox` returns an instance of `SVGRect` with the same `width` and `height`\n        // measurements as `DOMRect` instance returned by the `getBoundingClientRect`.\n        // But the `SVGRect` instance has half the properties of the `DOMRect`,\n        // so we use the `getBBox` method.\n        const bbox = svgText.getBBox();\n        const size = {\n            width: bbox.width,\n            height: bbox.height,\n        };\n        cache[font][text] = size;\n        return size;\n    }\n    static overrideScale(ctx, scale) {\n        let depth = 0;\n        const overrides = {\n            save() {\n                this.$save();\n                depth++;\n            },\n            restore() {\n                if (depth > 0) {\n                    this.$restore();\n                    depth--;\n                }\n                else {\n                    throw new Error('AG Charts - Unable to restore() past depth 0');\n                }\n            },\n            setTransform(a, b, c, d, e, f) {\n                if (typeof a === 'object') {\n                    this.$setTransform(a);\n                }\n                else {\n                    this.$setTransform(a * scale, b * scale, c * scale, d * scale, e * scale, f * scale);\n                }\n            },\n            resetTransform() {\n                // As of Jan 8, 2019, `resetTransform` is still an \"experimental technology\",\n                // and doesn't work in IE11 and Edge 44.\n                this.$setTransform(scale, 0, 0, scale, 0, 0);\n            },\n            verifyDepthZero() {\n                if (depth !== 0) {\n                    throw new Error('AG Charts - Save/restore depth is non-zero: ' + depth);\n                }\n            },\n        };\n        for (const name in overrides) {\n            if (Object.prototype.hasOwnProperty.call(overrides, name)) {\n                // Save native methods under prefixed names,\n                // if this hasn't been done by the previous overrides already.\n                if (!ctx['$' + name]) {\n                    ctx['$' + name] = ctx[name];\n                }\n                // Replace native methods with overrides,\n                // or previous overrides with the new ones.\n                ctx[name] = overrides[name];\n            }\n        }\n    }\n}\nHdpiCanvas.textSizeCache = {};\n","// For small data structs like a bounding box, objects are superior to arrays\n// in terms of performance (by 3-4% in Chrome 71, Safari 12 and by 20% in Firefox 64).\n// They are also self descriptive and harder to abuse.\n// For example, one has to do:\n// `ctx.strokeRect(bbox.x, bbox.y, bbox.width, bbox.height);`\n// rather than become enticed by the much slower:\n// `ctx.strokeRect(...bbox);`\n// https://jsperf.com/array-vs-object-create-access\nexport class BBox {\n    constructor(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    clone() {\n        const { x, y, width, height } = this;\n        return new BBox(x, y, width, height);\n    }\n    equals(other) {\n        return this.x === other.x && this.y === other.y && this.width === other.width && this.height === other.height;\n    }\n    containsPoint(x, y) {\n        return x >= this.x && x <= this.x + this.width && y >= this.y && y <= this.y + this.height;\n    }\n    collidesBBox(other) {\n        return (this.x < other.x + other.width &&\n            this.x + this.width > other.x &&\n            this.y < other.y + other.height &&\n            this.y + this.height > other.y);\n    }\n    isInfinite() {\n        return (Math.abs(this.x) === Infinity ||\n            Math.abs(this.y) === Infinity ||\n            Math.abs(this.width) === Infinity ||\n            Math.abs(this.height) === Infinity);\n    }\n    shrink(amount, position) {\n        const apply = (pos, amt) => {\n            switch (pos) {\n                case 'top':\n                    this.y += amt;\n                // eslint-disable-next-line no-fallthrough\n                case 'bottom':\n                    this.height -= amt;\n                    break;\n                case 'left':\n                    this.x += amt;\n                // eslint-disable-next-line no-fallthrough\n                case 'right':\n                    this.width -= amt;\n                    break;\n                case 'vertical':\n                    this.y += amt;\n                    this.height -= amt * 2;\n                    break;\n                case 'horizontal':\n                    this.x += amt;\n                    this.width -= amt * 2;\n                    break;\n                default:\n                    this.x += amt;\n                    this.width -= amt * 2;\n                    this.y += amt;\n                    this.height -= amt * 2;\n            }\n        };\n        if (typeof amount === 'number') {\n            apply(position, amount);\n        }\n        else {\n            Object.entries(amount).forEach(([pos, amt]) => apply(pos, amt));\n        }\n        return this;\n    }\n    grow(amount, position) {\n        if (typeof amount === 'number') {\n            this.shrink(-amount, position);\n        }\n        else {\n            const paddingCopy = Object.assign({}, amount);\n            for (const key in paddingCopy) {\n                paddingCopy[key] *= -1;\n            }\n            this.shrink(paddingCopy);\n        }\n        return this;\n    }\n    static merge(boxes) {\n        let left = Infinity;\n        let top = Infinity;\n        let right = -Infinity;\n        let bottom = -Infinity;\n        boxes.forEach((box) => {\n            if (box.x < left) {\n                left = box.x;\n            }\n            if (box.y < top) {\n                top = box.y;\n            }\n            if (box.x + box.width > right) {\n                right = box.x + box.width;\n            }\n            if (box.y + box.height > bottom) {\n                bottom = box.y + box.height;\n            }\n        });\n        return new BBox(left, top, right - left, bottom - top);\n    }\n}\n","import { BBox } from './bbox.mjs';\n/**\n * As of Jan 8, 2019, Firefox still doesn't implement\n * `getTransform(): DOMMatrix;`\n * `setTransform(transform?: DOMMatrix2DInit)`\n * in the `CanvasRenderingContext2D`.\n * Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=928150\n * IE11 and Edge 44 also don't have the support.\n * Thus this class, to keep track of the current transform and\n * combine transformations.\n * Standards:\n * https://html.spec.whatwg.org/dev/canvas.html\n * https://www.w3.org/TR/geometry-1/\n */\nexport class Matrix {\n    constructor(elements = [1, 0, 0, 1, 0, 0]) {\n        this.elements = elements;\n    }\n    get e() {\n        return [...this.elements];\n    }\n    setElements(elements) {\n        const e = this.elements;\n        // `this.elements = elements.slice()` is 4-5 times slower\n        // (in Chrome 71 and FF 64) than manually copying elements,\n        // since slicing allocates new memory.\n        // The performance of passing parameters individually\n        // vs as an array is about the same in both browsers, so we\n        // go with a single (array of elements) parameter, because\n        // `setElements(elements)` and `setElements([a, b, c, d, e, f])`\n        // calls give us roughly the same performance, versus\n        // `setElements(...elements)` and `setElements(a, b, c, d, e, f)`,\n        // where the spread operator causes a 20-30x performance drop\n        // (30x when compiled to ES5's `.apply(this, elements)`\n        //  20x when used natively).\n        e[0] = elements[0];\n        e[1] = elements[1];\n        e[2] = elements[2];\n        e[3] = elements[3];\n        e[4] = elements[4];\n        e[5] = elements[5];\n        return this;\n    }\n    get identity() {\n        const e = this.elements;\n        return e[0] === 1 && e[1] === 0 && e[2] === 0 && e[3] === 1 && e[4] === 0 && e[5] === 0;\n    }\n    /**\n     * Performs the AxB matrix multiplication and saves the result\n     * to `C`, if given, or to `A` otherwise.\n     */\n    AxB(A, B, C) {\n        const a = A[0] * B[0] + A[2] * B[1], b = A[1] * B[0] + A[3] * B[1], c = A[0] * B[2] + A[2] * B[3], d = A[1] * B[2] + A[3] * B[3], e = A[0] * B[4] + A[2] * B[5] + A[4], f = A[1] * B[4] + A[3] * B[5] + A[5];\n        C = C !== null && C !== void 0 ? C : A;\n        C[0] = a;\n        C[1] = b;\n        C[2] = c;\n        C[3] = d;\n        C[4] = e;\n        C[5] = f;\n    }\n    /**\n     * The `other` matrix gets post-multiplied to the current matrix.\n     * Returns the current matrix.\n     * @param other\n     */\n    multiplySelf(other) {\n        this.AxB(this.elements, other.elements);\n        return this;\n    }\n    /**\n     * The `other` matrix gets post-multiplied to the current matrix.\n     * Returns a new matrix.\n     * @param other\n     */\n    multiply(other) {\n        const elements = new Array(6);\n        this.AxB(this.elements, other.elements, elements);\n        return new Matrix(elements);\n    }\n    preMultiplySelf(other) {\n        this.AxB(other.elements, this.elements, this.elements);\n        return this;\n    }\n    /**\n     * Returns the inverse of this matrix as a new matrix.\n     */\n    inverse() {\n        const el = this.elements;\n        let a = el[0], b = el[1], c = el[2], d = el[3];\n        const e = el[4], f = el[5];\n        const rD = 1 / (a * d - b * c); // reciprocal of determinant\n        a *= rD;\n        b *= rD;\n        c *= rD;\n        d *= rD;\n        return new Matrix([d, -b, -c, a, c * f - d * e, b * e - a * f]);\n    }\n    /**\n     * Save the inverse of this matrix to the given matrix.\n     */\n    inverseTo(other) {\n        const el = this.elements;\n        let a = el[0], b = el[1], c = el[2], d = el[3];\n        const e = el[4], f = el[5];\n        const rD = 1 / (a * d - b * c); // reciprocal of determinant\n        a *= rD;\n        b *= rD;\n        c *= rD;\n        d *= rD;\n        other.setElements([d, -b, -c, a, c * f - d * e, b * e - a * f]);\n        return this;\n    }\n    invertSelf() {\n        const el = this.elements;\n        let a = el[0], b = el[1], c = el[2], d = el[3];\n        const e = el[4], f = el[5];\n        const rD = 1 / (a * d - b * c); // reciprocal of determinant\n        a *= rD;\n        b *= rD;\n        c *= rD;\n        d *= rD;\n        el[0] = d;\n        el[1] = -b;\n        el[2] = -c;\n        el[3] = a;\n        el[4] = c * f - d * e;\n        el[5] = b * e - a * f;\n        return this;\n    }\n    transformPoint(x, y) {\n        const e = this.elements;\n        return {\n            x: x * e[0] + y * e[2] + e[4],\n            y: x * e[1] + y * e[3] + e[5],\n        };\n    }\n    transformBBox(bbox, target) {\n        const elements = this.elements;\n        const xx = elements[0];\n        const xy = elements[1];\n        const yx = elements[2];\n        const yy = elements[3];\n        const h_w = bbox.width * 0.5;\n        const h_h = bbox.height * 0.5;\n        const cx = bbox.x + h_w;\n        const cy = bbox.y + h_h;\n        const w = Math.abs(h_w * xx) + Math.abs(h_h * yx);\n        const h = Math.abs(h_w * xy) + Math.abs(h_h * yy);\n        if (!target) {\n            target = new BBox(0, 0, 0, 0);\n        }\n        target.x = cx * xx + cy * yx + elements[4] - w;\n        target.y = cx * xy + cy * yy + elements[5] - h;\n        target.width = w + w;\n        target.height = h + h;\n        return target;\n    }\n    toContext(ctx) {\n        // It's fair to say that matrix multiplications are not cheap.\n        // However, updating path definitions on every frame isn't either, so\n        // it may be cheaper to just translate paths. It's also fair to\n        // say, that most paths will have to be re-rendered anyway, say\n        // rectangle paths in a bar chart, where an animation would happen when\n        // the data set changes and existing bars are morphed into new ones.\n        // Or a pie chart, where old sectors are also morphed into new ones.\n        // Same for the line chart. The only plausible case where translating\n        // existing paths would be enough, is the scatter chart, where marker\n        // icons, typically circles, stay the same size. But if circle radii\n        // are bound to some data points, even circle paths would have to be\n        // updated. And thus it makes sense to optimize for fewer matrix\n        // transforms, where transform matrices of paths are mostly identity\n        // matrices and `x`/`y`, `centerX`/`centerY` and similar properties\n        // are used to define a path at specific coordinates. And only groups\n        // are used to collectively apply a transform to a set of nodes.\n        // If the matrix is mostly identity (95% of the time),\n        // the `if (this.isIdentity)` check can make this call 3-4 times\n        // faster on average: https://jsperf.com/matrix-check-first-vs-always-set\n        if (this.identity) {\n            return;\n        }\n        const e = this.elements;\n        ctx.transform(e[0], e[1], e[2], e[3], e[4], e[5]);\n    }\n    static flyweight(sourceMatrix) {\n        return Matrix.instance.setElements(sourceMatrix.elements);\n    }\n    static updateTransformMatrix(matrix, scalingX, scalingY, rotation, translationX, translationY, opts) {\n        // Assume that centers of scaling and rotation are at the origin.\n        const [bbcx, bbcy] = [0, 0];\n        const sx = scalingX;\n        const sy = scalingY;\n        let scx;\n        let scy;\n        if (sx === 1 && sy === 1) {\n            scx = 0;\n            scy = 0;\n        }\n        else {\n            scx = (opts === null || opts === void 0 ? void 0 : opts.scalingCenterX) == null ? bbcx : opts === null || opts === void 0 ? void 0 : opts.scalingCenterX;\n            scy = (opts === null || opts === void 0 ? void 0 : opts.scalingCenterY) == null ? bbcy : opts === null || opts === void 0 ? void 0 : opts.scalingCenterY;\n        }\n        const r = rotation;\n        const cos = Math.cos(r);\n        const sin = Math.sin(r);\n        let rcx;\n        let rcy;\n        if (r === 0) {\n            rcx = 0;\n            rcy = 0;\n        }\n        else {\n            rcx = (opts === null || opts === void 0 ? void 0 : opts.rotationCenterX) == null ? bbcx : opts === null || opts === void 0 ? void 0 : opts.rotationCenterX;\n            rcy = (opts === null || opts === void 0 ? void 0 : opts.rotationCenterY) == null ? bbcy : opts === null || opts === void 0 ? void 0 : opts.rotationCenterY;\n        }\n        const tx = translationX;\n        const ty = translationY;\n        // The transform matrix `M` is a result of the following transformations:\n        // 1) translate the center of scaling to the origin\n        // 2) scale\n        // 3) translate back\n        // 4) translate the center of rotation to the origin\n        // 5) rotate\n        // 6) translate back\n        // 7) translate\n        //         (7)          (6)             (5)             (4)           (3)           (2)           (1)\n        //     | 1 0 tx |   | 1 0 rcx |   | cos -sin 0 |   | 1 0 -rcx |   | 1 0 scx |   | sx 0 0 |   | 1 0 -scx |\n        // M = | 0 1 ty | * | 0 1 rcy | * | sin  cos 0 | * | 0 1 -rcy | * | 0 1 scy | * | 0 sy 0 | * | 0 1 -scy |\n        //     | 0 0  1 |   | 0 0  1  |   |  0    0  1 |   | 0 0  1   |   | 0 0  1  |   | 0  0 0 |   | 0 0  1   |\n        // Translation after steps 1-4 above:\n        const tx4 = scx * (1 - sx) - rcx;\n        const ty4 = scy * (1 - sy) - rcy;\n        matrix.setElements([\n            cos * sx,\n            sin * sx,\n            -sin * sy,\n            cos * sy,\n            cos * tx4 - sin * ty4 + rcx + tx,\n            sin * tx4 + cos * ty4 + rcy + ty,\n        ]);\n        return matrix;\n    }\n    static fromContext(ctx) {\n        const domMatrix = ctx.getTransform();\n        return new Matrix([domMatrix.a, domMatrix.b, domMatrix.c, domMatrix.d, domMatrix.e, domMatrix.f]);\n    }\n}\nMatrix.instance = new Matrix();\n","const ID_MAP = {};\nexport function resetIds() {\n    for (const key in ID_MAP) {\n        delete ID_MAP[key];\n    }\n}\nexport function createId(instance) {\n    var _a;\n    const constructor = instance.constructor;\n    const className = Object.prototype.hasOwnProperty.call(constructor, 'className')\n        ? constructor.className\n        : constructor.name;\n    if (!className) {\n        throw new Error(`The ${constructor} is missing the 'className' property.`);\n    }\n    const nextId = ((_a = ID_MAP[className]) !== null && _a !== void 0 ? _a : 0) + 1;\n    ID_MAP[className] = nextId;\n    return className + '-' + nextId;\n}\n","export var RedrawType;\n(function (RedrawType) {\n    RedrawType[RedrawType[\"NONE\"] = 0] = \"NONE\";\n    // Canvas doesn't need clearing, an incremental re-rerender is sufficient.\n    RedrawType[RedrawType[\"TRIVIAL\"] = 1] = \"TRIVIAL\";\n    // Group needs clearing, a semi-incremental re-render is sufficient.\n    RedrawType[RedrawType[\"MINOR\"] = 2] = \"MINOR\";\n    // Canvas needs to be cleared for these redraw types.\n    RedrawType[RedrawType[\"MAJOR\"] = 3] = \"MAJOR\";\n})(RedrawType || (RedrawType = {}));\n/** @returns true if new Function() is disabled in the current execution context. */\nfunction functionConstructorAvailable() {\n    try {\n        new Function('return true');\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n}\nconst STRING_FUNCTION_USEABLE = functionConstructorAvailable();\nexport function SceneChangeDetection(opts) {\n    const { changeCb, convertor } = opts !== null && opts !== void 0 ? opts : {};\n    return function (target, key) {\n        // `target` is either a constructor (static member) or prototype (instance member)\n        const privateKey = `__${key}`;\n        if (target[key]) {\n            return;\n        }\n        if (STRING_FUNCTION_USEABLE && changeCb == null && convertor == null) {\n            prepareFastGetSet(target, key, privateKey, opts);\n        }\n        else {\n            prepareSlowGetSet(target, key, privateKey, opts);\n        }\n    };\n}\nfunction prepareFastGetSet(target, key, privateKey, opts) {\n    const { redraw = RedrawType.TRIVIAL, type = 'normal', checkDirtyOnAssignment = false } = opts !== null && opts !== void 0 ? opts : {};\n    // Optimised code-path.\n    // Remove all conditional logic from runtime - generate a setter with the exact necessary\n    // steps, as these setters are called a LOT during update cycles.\n    const setterJs = new Function('value', `\n        const oldValue = this.${privateKey};\n        if (value !== oldValue) {\n            this.${privateKey} = value;\n            ${type === 'normal' ? `this.markDirty(this, ${redraw});` : ''}\n            ${type === 'transform' ? `this.markDirtyTransform(${redraw});` : ''}\n            ${type === 'path'\n        ? `if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, ${redraw}); }`\n        : ''}\n            ${type === 'font'\n        ? `if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, ${redraw}); }`\n        : ''}\n        }\n        ${checkDirtyOnAssignment\n        ? `if (value != null && value._dirty > ${RedrawType.NONE}) { this.markDirty(value, value._dirty); }`\n        : ''}\n`);\n    const getterJs = new Function(`return this.${privateKey};`);\n    Object.defineProperty(target, key, {\n        set: setterJs,\n        get: getterJs,\n        enumerable: true,\n        configurable: true,\n    });\n}\nfunction prepareSlowGetSet(target, key, privateKey, opts) {\n    const { redraw = RedrawType.TRIVIAL, type = 'normal', changeCb, convertor, checkDirtyOnAssignment = false, } = opts !== null && opts !== void 0 ? opts : {};\n    // Unoptimised but 'safe' code-path, for environments with CSP headers and no 'unsafe-eval'.\n    // We deliberately do not support debug branches found in the optimised path above, since\n    // for large data-set series performance deteriorates with every extra branch here.\n    const setter = function (value) {\n        const oldValue = this[privateKey];\n        value = convertor ? convertor(value) : value;\n        if (value !== oldValue) {\n            this[privateKey] = value;\n            if (type === 'normal')\n                this.markDirty(this, redraw);\n            if (type === 'transform')\n                this.markDirtyTransform(redraw);\n            if (type === 'path' && !this._dirtyPath) {\n                this._dirtyPath = true;\n                this.markDirty(this, redraw);\n            }\n            if (type === 'font' && !this._dirtyFont) {\n                this._dirtyFont = true;\n                this.markDirty(this, redraw);\n            }\n            if (changeCb)\n                changeCb(this);\n        }\n        if (checkDirtyOnAssignment && value != null && value._dirty > RedrawType.NONE)\n            this.markDirty(value, value._dirty);\n    };\n    const getter = function () {\n        return this[privateKey];\n    };\n    Object.defineProperty(target, key, {\n        set: setter,\n        get: getter,\n        enumerable: true,\n        configurable: true,\n    });\n}\nexport class ChangeDetectable {\n    constructor() {\n        this._dirty = RedrawType.MAJOR;\n    }\n    markDirty(_source, type = RedrawType.TRIVIAL) {\n        if (this._dirty > type) {\n            return;\n        }\n        this._dirty = type;\n    }\n    markClean(_opts) {\n        this._dirty = RedrawType.NONE;\n    }\n    isDirty() {\n        return this._dirty > RedrawType.NONE;\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Matrix } from './matrix.mjs';\nimport { createId } from '../util/id.mjs';\nimport { ChangeDetectable, SceneChangeDetection, RedrawType } from './changeDetectable.mjs';\nexport { SceneChangeDetection, RedrawType };\nexport var PointerEvents;\n(function (PointerEvents) {\n    PointerEvents[PointerEvents[\"All\"] = 0] = \"All\";\n    PointerEvents[PointerEvents[\"None\"] = 1] = \"None\";\n})(PointerEvents || (PointerEvents = {}));\nconst zIndexChangedCallback = (o) => {\n    if (o.parent) {\n        o.parent.dirtyZIndex = true;\n    }\n    o.zIndexChanged();\n};\n/**\n * Abstract scene graph node.\n * Each node can have zero or one parent and belong to zero or one scene.\n */\nexport class Node extends ChangeDetectable {\n    constructor() {\n        super(...arguments);\n        /** Unique number to allow creation order to be easily determined. */\n        this.serialNumber = Node._nextSerialNumber++;\n        /**\n         * Unique node ID in the form `ClassName-NaturalNumber`.\n         */\n        this.id = createId(this);\n        /**\n         * Some number to identify this node, typically within a `Group` node.\n         * Usually this will be some enum value used as a selector.\n         */\n        this.tag = NaN;\n        /**\n         * To simplify the type system (especially in Selections) we don't have the `Parent` node\n         * (one that has children). Instead, we mimic HTML DOM, where any node can have children.\n         * But we still need to distinguish regular leaf nodes from container leafs somehow.\n         */\n        this.isContainerNode = false;\n        this._children = [];\n        // Used to check for duplicate nodes.\n        this.childSet = {}; // new Set<Node>()\n        // These matrices may need to have package level visibility\n        // for performance optimization purposes.\n        this.matrix = new Matrix();\n        this.inverseMatrix = new Matrix();\n        this._dirtyTransform = false;\n        this.scalingX = 1;\n        this.scalingY = 1;\n        /**\n         * The center of scaling.\n         * The default value of `null` means the scaling center will be\n         * determined automatically, as the center of the bounding box\n         * of a node.\n         */\n        this.scalingCenterX = null;\n        this.scalingCenterY = null;\n        this.rotationCenterX = null;\n        this.rotationCenterY = null;\n        /**\n         * Rotation angle in radians.\n         * The value is set as is. No normalization to the [-180, 180) or [0, 360)\n         * interval is performed.\n         */\n        this.rotation = 0;\n        this.translationX = 0;\n        this.translationY = 0;\n        this.visible = true;\n        this.dirtyZIndex = false;\n        this.zIndex = 0;\n        /** Discriminators for render order within a zIndex. */\n        this.zIndexSubOrder = undefined;\n        this.pointerEvents = PointerEvents.All;\n    }\n    /**\n     * Some arbitrary data bound to the node.\n     */\n    get datum() {\n        var _a;\n        if (this._datum !== undefined) {\n            return this._datum;\n        }\n        return (_a = this._parent) === null || _a === void 0 ? void 0 : _a.datum;\n    }\n    set datum(datum) {\n        this._datum = datum;\n    }\n    _setLayerManager(value) {\n        this._layerManager = value;\n        this._debug = value === null || value === void 0 ? void 0 : value.debug;\n        for (const child of this.children) {\n            child._setLayerManager(value);\n        }\n    }\n    get layerManager() {\n        return this._layerManager;\n    }\n    get parent() {\n        return this._parent;\n    }\n    get children() {\n        return this._children;\n    }\n    /**\n     * Appends one or more new node instances to this parent.\n     * If one needs to:\n     * - move a child to the end of the list of children\n     * - move a child from one parent to another (including parents in other scenes)\n     * one should use the {@link insertBefore} method instead.\n     * @param nodes A node or nodes to append.\n     */\n    append(nodes) {\n        // Passing a single parameter to an open-ended version of `append`\n        // would be 30-35% slower than this.\n        if (!Array.isArray(nodes)) {\n            nodes = [nodes];\n        }\n        for (const node of nodes) {\n            if (node.parent) {\n                throw new Error(`${node} already belongs to another parent: ${node.parent}.`);\n            }\n            if (node.layerManager) {\n                throw new Error(`${node} already belongs to a scene: ${node.layerManager}.`);\n            }\n            if (this.childSet[node.id]) {\n                // Cast to `any` to avoid `Property 'name' does not exist on type 'Function'`.\n                throw new Error(`Duplicate ${node.constructor.name} node: ${node}`);\n            }\n            this._children.push(node);\n            this.childSet[node.id] = true;\n            node._parent = this;\n            node._setLayerManager(this.layerManager);\n        }\n        this.dirtyZIndex = true;\n        this.markDirty(this, RedrawType.MAJOR);\n    }\n    appendChild(node) {\n        this.append(node);\n        return node;\n    }\n    removeChild(node) {\n        if (node.parent === this) {\n            const i = this.children.indexOf(node);\n            if (i >= 0) {\n                this._children.splice(i, 1);\n                delete this.childSet[node.id];\n                node._parent = undefined;\n                node._setLayerManager();\n                this.dirtyZIndex = true;\n                this.markDirty(node, RedrawType.MAJOR);\n                return node;\n            }\n        }\n        throw new Error(`The node to be removed is not a child of this node.`);\n    }\n    /**\n     * Inserts the node `node` before the existing child node `nextNode`.\n     * If `nextNode` is null, insert `node` at the end of the list of children.\n     * If the `node` belongs to another parent, it is first removed.\n     * Returns the `node`.\n     * @param node\n     * @param nextNode\n     */\n    insertBefore(node, nextNode) {\n        const parent = node.parent;\n        if (node.parent) {\n            node.parent.removeChild(node);\n        }\n        if (nextNode && nextNode.parent === this) {\n            const i = this.children.indexOf(nextNode);\n            if (i >= 0) {\n                this._children.splice(i, 0, node);\n                this.childSet[node.id] = true;\n                node._parent = this;\n                node._setLayerManager(this.layerManager);\n            }\n            else {\n                throw new Error(`${nextNode} has ${parent} as the parent, ` + `but is not in its list of children.`);\n            }\n            this.dirtyZIndex = true;\n            this.markDirty(node, RedrawType.MAJOR);\n        }\n        else {\n            this.append(node);\n        }\n        return node;\n    }\n    calculateCumulativeMatrix() {\n        this.computeTransformMatrix();\n        const matrix = Matrix.flyweight(this.matrix);\n        let parent = this.parent;\n        while (parent) {\n            parent.computeTransformMatrix();\n            matrix.preMultiplySelf(parent.matrix);\n            parent = parent.parent;\n        }\n        return matrix;\n    }\n    transformPoint(x, y) {\n        const matrix = this.calculateCumulativeMatrix();\n        return matrix.invertSelf().transformPoint(x, y);\n    }\n    inverseTransformPoint(x, y) {\n        const matrix = this.calculateCumulativeMatrix();\n        return matrix.transformPoint(x, y);\n    }\n    transformBBox(bbox) {\n        const matrix = this.calculateCumulativeMatrix();\n        return matrix.invertSelf().transformBBox(bbox);\n    }\n    inverseTransformBBox(bbox) {\n        const matrix = this.calculateCumulativeMatrix();\n        return matrix.transformBBox(bbox);\n    }\n    markDirtyTransform() {\n        this._dirtyTransform = true;\n        this.markDirty(this, RedrawType.MAJOR);\n    }\n    containsPoint(_x, _y) {\n        return false;\n    }\n    /**\n     * Hit testing method.\n     * Recursively checks if the given point is inside this node or any of its children.\n     * Returns the first matching node or `undefined`.\n     * Nodes that render later (show on top) are hit tested first.\n     */\n    pickNode(x, y) {\n        var _a;\n        if (!this.visible || this.pointerEvents === PointerEvents.None || !this.containsPoint(x, y)) {\n            return;\n        }\n        const children = this.children;\n        if (children.length > 1000) {\n            // Try to optimise which children to interrogate; BBox calculation is an approximation\n            // for more complex shapes, so discarding items based on this will save a lot of\n            // processing when the point is nowhere near the child.\n            for (let i = children.length - 1; i >= 0; i--) {\n                const child = children[i];\n                const containsPoint = (_a = child.computeTransformedBBox()) === null || _a === void 0 ? void 0 : _a.containsPoint(x, y);\n                const hit = containsPoint ? child.pickNode(x, y) : undefined;\n                if (hit) {\n                    return hit;\n                }\n            }\n        }\n        else if (children.length) {\n            // Nodes added later should be hit-tested first,\n            // as they are rendered on top of the previously added nodes.\n            for (let i = children.length - 1; i >= 0; i--) {\n                const hit = children[i].pickNode(x, y);\n                if (hit) {\n                    return hit;\n                }\n            }\n        }\n        else if (!this.isContainerNode) {\n            // a leaf node, but not a container leaf\n            return this;\n        }\n    }\n    findNodes(predicate) {\n        const result = predicate(this) ? [this] : [];\n        for (const child of this.children) {\n            const childResult = child.findNodes(predicate);\n            if (childResult) {\n                result.push(...childResult);\n            }\n        }\n        return result;\n    }\n    computeBBox() {\n        return;\n    }\n    computeTransformedBBox() {\n        const bbox = this.computeBBox();\n        if (!bbox) {\n            return undefined;\n        }\n        this.computeTransformMatrix();\n        const matrix = Matrix.flyweight(this.matrix);\n        let parent = this.parent;\n        while (parent) {\n            parent.computeTransformMatrix();\n            matrix.preMultiplySelf(parent.matrix);\n            parent = parent.parent;\n        }\n        matrix.transformBBox(bbox, bbox);\n        return bbox;\n    }\n    computeTransformMatrix() {\n        if (!this._dirtyTransform) {\n            return;\n        }\n        const { matrix, scalingX, scalingY, rotation, translationX, translationY, scalingCenterX, scalingCenterY, rotationCenterX, rotationCenterY, } = this;\n        Matrix.updateTransformMatrix(matrix, scalingX, scalingY, rotation, translationX, translationY, {\n            scalingCenterX,\n            scalingCenterY,\n            rotationCenterX,\n            rotationCenterY,\n        });\n        matrix.inverseTo(this.inverseMatrix);\n        this._dirtyTransform = false;\n    }\n    render(renderCtx) {\n        const { stats } = renderCtx;\n        this._dirty = RedrawType.NONE;\n        if (stats)\n            stats.nodesRendered++;\n    }\n    clearBBox(ctx) {\n        const bbox = this.computeBBox();\n        if (bbox == null) {\n            return;\n        }\n        const { x, y, width, height } = bbox;\n        const topLeft = this.transformPoint(x, y);\n        const bottomRight = this.transformPoint(x + width, y + height);\n        ctx.clearRect(topLeft.x, topLeft.y, bottomRight.x - topLeft.x, bottomRight.y - topLeft.y);\n    }\n    markDirty(_source, type = RedrawType.TRIVIAL, parentType = type) {\n        if (this._dirty > type) {\n            return;\n        }\n        if (this._dirty === type && type === parentType) {\n            return;\n        }\n        this._dirty = type;\n        if (this.parent) {\n            this.parent.markDirty(this, parentType);\n        }\n        else if (this.layerManager) {\n            this.layerManager.markDirty();\n        }\n    }\n    get dirty() {\n        return this._dirty;\n    }\n    markClean(opts) {\n        const { force = false, recursive = true } = opts !== null && opts !== void 0 ? opts : {};\n        if (this._dirty === RedrawType.NONE && !force) {\n            return;\n        }\n        this._dirty = RedrawType.NONE;\n        if (recursive) {\n            for (const child of this.children) {\n                child.markClean();\n            }\n        }\n    }\n    visibilityChanged() {\n        // Override point for sub-classes to react to visibility changes.\n    }\n    get nodeCount() {\n        let count = 1;\n        let dirtyCount = this._dirty >= RedrawType.NONE || this._dirtyTransform ? 1 : 0;\n        let visibleCount = this.visible ? 1 : 0;\n        for (const child of this._children) {\n            const { count: childCount, visibleCount: childVisibleCount, dirtyCount: childDirtyCount } = child.nodeCount;\n            count += childCount;\n            visibleCount += childVisibleCount;\n            dirtyCount += childDirtyCount;\n        }\n        return { count, visibleCount, dirtyCount };\n    }\n    zIndexChanged() {\n        // Override point for sub-classes.\n    }\n}\nNode._nextSerialNumber = 0;\n__decorate([\n    SceneChangeDetection({ type: 'transform' })\n], Node.prototype, \"scalingX\", void 0);\n__decorate([\n    SceneChangeDetection({ type: 'transform' })\n], Node.prototype, \"scalingY\", void 0);\n__decorate([\n    SceneChangeDetection({ type: 'transform' })\n], Node.prototype, \"scalingCenterX\", void 0);\n__decorate([\n    SceneChangeDetection({ type: 'transform' })\n], Node.prototype, \"scalingCenterY\", void 0);\n__decorate([\n    SceneChangeDetection({ type: 'transform' })\n], Node.prototype, \"rotationCenterX\", void 0);\n__decorate([\n    SceneChangeDetection({ type: 'transform' })\n], Node.prototype, \"rotationCenterY\", void 0);\n__decorate([\n    SceneChangeDetection({ type: 'transform' })\n], Node.prototype, \"rotation\", void 0);\n__decorate([\n    SceneChangeDetection({ type: 'transform' })\n], Node.prototype, \"translationX\", void 0);\n__decorate([\n    SceneChangeDetection({ type: 'transform' })\n], Node.prototype, \"translationY\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MAJOR, changeCb: (o) => o.visibilityChanged() })\n], Node.prototype, \"visible\", void 0);\n__decorate([\n    SceneChangeDetection({\n        redraw: RedrawType.TRIVIAL,\n        changeCb: zIndexChangedCallback,\n    })\n], Node.prototype, \"zIndex\", void 0);\n__decorate([\n    SceneChangeDetection({\n        redraw: RedrawType.TRIVIAL,\n        changeCb: zIndexChangedCallback,\n    })\n], Node.prototype, \"zIndexSubOrder\", void 0);\n","export function ascendingStringNumberUndefined(a, b) {\n    let diff = 0;\n    if (typeof a === 'number' && typeof b === 'number') {\n        diff = a - b;\n    }\n    else if (typeof a === 'string' && typeof b === 'string') {\n        diff = a.localeCompare(b);\n    }\n    else if (a == null && b == null) {\n        // Equal.\n    }\n    else if (a == null) {\n        diff = -1;\n    }\n    else if (b == null) {\n        diff = 1;\n    }\n    else {\n        diff = String(a).localeCompare(String(b));\n    }\n    return diff;\n}\nexport function compoundAscending(a, b, comparator) {\n    const toLiteral = (v) => {\n        if (typeof v === 'function') {\n            return v();\n        }\n        return v;\n    };\n    for (const idx in a) {\n        const diff = comparator(toLiteral(a[idx]), toLiteral(b[idx]));\n        if (diff !== 0) {\n            return diff;\n        }\n    }\n    return 0;\n}\n","const doOnceFlags = {};\n/**\n * If the key was passed before, then doesn't execute the func\n */\nexport function doOnce(func, key) {\n    if (doOnceFlags[key]) {\n        return;\n    }\n    func();\n    doOnceFlags[key] = true;\n}\n/** Clear doOnce() state (for test purposes). */\nexport function clearDoOnceFlags() {\n    for (const key in doOnceFlags) {\n        delete doOnceFlags[key];\n    }\n}\n","/* eslint-disable no-console */\nimport { doOnce } from './function.mjs';\nexport const Logger = {\n    debug(...logContent) {\n        console.log(...logContent);\n    },\n    warn(message, ...logContent) {\n        console.warn(`AG Charts - ${message}`, ...logContent);\n    },\n    error(message, ...logContent) {\n        if (typeof message === 'object') {\n            console.error(`AG Charts error`, message, ...logContent);\n        }\n        else {\n            console.error(`AG Charts - ${message}`, ...logContent);\n        }\n    },\n    warnOnce(message, ...logContent) {\n        doOnce(() => Logger.warn(message, ...logContent), `Logger.warn: ${message}`);\n    },\n    errorOnce(message, ...logContent) {\n        doOnce(() => Logger.error(message, ...logContent), `Logger.warn: ${message}`);\n    },\n};\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Node, RedrawType, SceneChangeDetection } from './node.mjs';\nimport { BBox } from './bbox.mjs';\nimport { compoundAscending, ascendingStringNumberUndefined } from '../util/compare.mjs';\nimport { Logger } from '../util/logger.mjs';\nexport class Group extends Node {\n    constructor(opts) {\n        var _a;\n        super();\n        this.opts = opts;\n        this.opacity = 1;\n        this.lastBBox = undefined;\n        const { zIndex, zIndexSubOrder } = opts !== null && opts !== void 0 ? opts : {};\n        this.isContainerNode = true;\n        if (zIndex !== undefined) {\n            this.zIndex = zIndex;\n        }\n        if (zIndexSubOrder !== undefined) {\n            this.zIndexSubOrder = zIndexSubOrder;\n        }\n        this.name = (_a = this.opts) === null || _a === void 0 ? void 0 : _a.name;\n    }\n    zIndexChanged() {\n        var _a;\n        if (this.layer) {\n            (_a = this._layerManager) === null || _a === void 0 ? void 0 : _a.moveLayer(this.layer, this.zIndex, this.zIndexSubOrder);\n        }\n    }\n    isLayer() {\n        return this.layer != null;\n    }\n    _setLayerManager(scene) {\n        var _a, _b;\n        if (this._layerManager && this.layer) {\n            this._layerManager.removeLayer(this.layer);\n            this.layer = undefined;\n        }\n        if (this.layer) {\n            throw new Error('AG Charts - unable to deregister scene rendering layer!');\n        }\n        super._setLayerManager(scene);\n        if (scene && ((_a = this.opts) === null || _a === void 0 ? void 0 : _a.layer)) {\n            const { zIndex, zIndexSubOrder, name } = (_b = this.opts) !== null && _b !== void 0 ? _b : {};\n            const getComputedOpacity = () => this.getComputedOpacity();\n            const getVisibility = () => this.getVisibility();\n            this.layer = scene.addLayer({ zIndex, zIndexSubOrder, name, getComputedOpacity, getVisibility });\n        }\n    }\n    getComputedOpacity() {\n        let opacity = 1;\n        let node = this;\n        do {\n            if (node instanceof Group) {\n                opacity *= node.opacity;\n            }\n        } while ((node = node.parent));\n        return opacity;\n    }\n    getVisibility() {\n        let node = this;\n        let visible = this.visible;\n        while ((node = node.parent)) {\n            if (node.visible) {\n                continue;\n            }\n            visible = node.visible;\n        }\n        return visible;\n    }\n    visibilityChanged() {\n        if (this.layer) {\n            this.layer.enabled = this.visible;\n        }\n    }\n    markDirty(source, type = RedrawType.TRIVIAL) {\n        const parentType = type <= RedrawType.MINOR ? RedrawType.TRIVIAL : type;\n        super.markDirty(source, type, parentType);\n    }\n    // We consider a group to be boundless, thus any point belongs to it.\n    containsPoint(_x, _y) {\n        return true;\n    }\n    computeBBox() {\n        this.computeTransformMatrix();\n        return Group.computeBBox(this.children);\n    }\n    computeTransformedBBox() {\n        return this.computeBBox();\n    }\n    render(renderCtx) {\n        var _a, _b;\n        const { opts: { name = undefined } = {} } = this;\n        const { _debug: { consoleLog = false } = {} } = this;\n        const { dirty, dirtyZIndex, layer, children, clipRect } = this;\n        let { ctx, forceRender, clipBBox } = renderCtx;\n        const { resized, stats } = renderCtx;\n        const canvasCtxTransform = ctx.getTransform();\n        const isDirty = dirty >= RedrawType.MINOR || dirtyZIndex || resized;\n        const isChildDirty = isDirty || children.some((n) => n.dirty >= RedrawType.TRIVIAL);\n        if (name && consoleLog) {\n            Logger.debug({ name, group: this, isDirty, isChildDirty, renderCtx, forceRender });\n        }\n        if (layer) {\n            // If bounding-box of a layer changes, force re-render.\n            const currentBBox = this.computeBBox();\n            if (this.lastBBox === undefined || !this.lastBBox.equals(currentBBox)) {\n                forceRender = true;\n                this.lastBBox = currentBBox;\n            }\n            else if (!currentBBox.isInfinite()) {\n                // bbox for path2D is currently (Infinity) not calculated\n                // If it's not a path2D, turn off forceRender\n                // By default there is no need to force redraw a group which has it's own canvas layer\n                // as the layer is independent of any other layer\n                forceRender = false;\n            }\n        }\n        if (!isDirty && !isChildDirty && !forceRender) {\n            if (name && consoleLog && stats) {\n                const counts = this.nodeCount;\n                Logger.debug({ name, result: 'skipping', renderCtx, counts, group: this });\n            }\n            if (layer && stats) {\n                stats.layersSkipped++;\n                stats.nodesSkipped += this.nodeCount.count;\n            }\n            this.markClean({ recursive: false });\n            // Nothing to do.\n            return;\n        }\n        const groupVisible = this.visible;\n        if (layer) {\n            // Switch context to the canvas layer we use for this group.\n            ctx = layer.context;\n            ctx.save();\n            ctx.resetTransform();\n            forceRender = true;\n            layer.clear();\n            if (clipBBox) {\n                // clipBBox is in the canvas coordinate space, when we hit a layer we apply the new clipping at which point there are no transforms in play\n                const { width, height, x, y } = clipBBox;\n                if (consoleLog) {\n                    Logger.debug({ name, clipBBox, ctxTransform: ctx.getTransform(), renderCtx, group: this });\n                }\n                this.clipCtx(ctx, x, y, width, height);\n            }\n            ctx.setTransform(canvasCtxTransform);\n        }\n        else {\n            // Only apply opacity if this isn't a distinct layer - opacity will be applied\n            // at composition time.\n            ctx.globalAlpha *= this.opacity;\n        }\n        // A group can have `scaling`, `rotation`, `translation` properties\n        // that are applied to the canvas context before children are rendered,\n        // so all children can be transformed at once.\n        this.computeTransformMatrix();\n        this.matrix.toContext(ctx);\n        if (clipRect) {\n            // clipRect is in the group's coordinate space\n            const { x, y, width, height } = clipRect;\n            ctx.save();\n            if (consoleLog) {\n                Logger.debug({ name, clipRect, ctxTransform: ctx.getTransform(), renderCtx, group: this });\n            }\n            this.clipCtx(ctx, x, y, width, height);\n            // clipBBox is in the canvas coordinate space, when we hit a layer we apply the new clipping at which point there are no transforms in play\n            clipBBox = this.matrix.inverse().transformBBox(clipRect);\n        }\n        if (dirtyZIndex) {\n            this.sortChildren();\n            forceRender = true;\n        }\n        // Reduce churn if renderCtx is identical.\n        const renderContextChanged = forceRender !== renderCtx.forceRender || clipBBox !== renderCtx.clipBBox || ctx !== renderCtx.ctx;\n        const childRenderContext = renderContextChanged ? Object.assign(Object.assign({}, renderCtx), { ctx, forceRender, clipBBox }) : renderCtx;\n        // Render visible children.\n        let skipped = 0;\n        for (const child of children) {\n            if (!child.visible || !groupVisible) {\n                // Skip invisible children, but make sure their dirty flag is reset.\n                child.markClean();\n                if (stats)\n                    skipped += child.nodeCount.count;\n                continue;\n            }\n            if (!forceRender && child.dirty === RedrawType.NONE) {\n                // Skip children that don't need to be redrawn.\n                if (stats)\n                    skipped += child.nodeCount.count;\n                continue;\n            }\n            // Render marks this node (and children) as clean - no need to explicitly markClean().\n            ctx.save();\n            child.render(childRenderContext);\n            ctx.restore();\n        }\n        if (stats)\n            stats.nodesSkipped += skipped;\n        // Render marks this node as clean - no need to explicitly markClean().\n        super.render(renderCtx);\n        if (clipRect) {\n            ctx.restore();\n        }\n        if (layer) {\n            if (stats)\n                stats.layersRendered++;\n            ctx.restore();\n            layer.snapshot();\n            // Check for save/restore depth of zero!\n            (_b = (_a = layer.context).verifyDepthZero) === null || _b === void 0 ? void 0 : _b.call(_a);\n        }\n        if (name && consoleLog && stats) {\n            const counts = this.nodeCount;\n            Logger.debug({ name, result: 'rendered', skipped, renderCtx, counts, group: this });\n        }\n    }\n    sortChildren() {\n        this.dirtyZIndex = false;\n        this.children.sort((a, b) => {\n            var _a, _b;\n            return compoundAscending([a.zIndex, ...((_a = a.zIndexSubOrder) !== null && _a !== void 0 ? _a : [undefined, undefined]), a.serialNumber], [b.zIndex, ...((_b = b.zIndexSubOrder) !== null && _b !== void 0 ? _b : [undefined, undefined]), b.serialNumber], ascendingStringNumberUndefined);\n        });\n    }\n    clipCtx(ctx, x, y, width, height) {\n        ctx.beginPath();\n        ctx.moveTo(x, y);\n        ctx.lineTo(x + width, y);\n        ctx.lineTo(x + width, y + height);\n        ctx.lineTo(x, y + height);\n        ctx.closePath();\n        ctx.clip();\n    }\n    static computeBBox(nodes) {\n        let left = Infinity;\n        let right = -Infinity;\n        let top = Infinity;\n        let bottom = -Infinity;\n        nodes.forEach((n) => {\n            if (!n.visible) {\n                return;\n            }\n            const bbox = n.computeTransformedBBox();\n            if (!bbox) {\n                return;\n            }\n            const x = bbox.x;\n            const y = bbox.y;\n            if (x < left) {\n                left = x;\n            }\n            if (y < top) {\n                top = y;\n            }\n            if (x + bbox.width > right) {\n                right = x + bbox.width;\n            }\n            if (y + bbox.height > bottom) {\n                bottom = y + bbox.height;\n            }\n        });\n        return new BBox(left, top, right - left, bottom - top);\n    }\n    /**\n     * Transforms bbox given in the canvas coordinate space to bbox in this group's coordinate space and\n     * sets this group's clipRect to the transformed bbox.\n     * @param bbox clipRect bbox in the canvas coordinate space.\n     */\n    setClipRectInGroupCoordinateSpace(bbox) {\n        this.clipRect = bbox ? this.transformBBox(bbox) : undefined;\n    }\n}\nGroup.className = 'Group';\n__decorate([\n    SceneChangeDetection({\n        convertor: (v) => Math.min(1, Math.max(0, v)),\n    })\n], Group.prototype, \"opacity\", void 0);\n","import { HdpiCanvas } from './hdpiCanvas.mjs';\nimport { isDesktop } from '../util/userAgent.mjs';\n/**\n * Wraps a native OffscreenCanvas and overrides its OffscreenCanvasRenderingContext2D to\n * provide resolution independent rendering based on `window.devicePixelRatio`.\n */\nexport class HdpiOffscreenCanvas {\n    // The width/height attributes of the Canvas element default to\n    // 300/150 according to w3.org.\n    constructor({ width = 600, height = 300, overrideDevicePixelRatio = undefined }) {\n        this.enabled = true;\n        // `NaN` is deliberate here, so that overrides are always applied\n        // and the `resetTransform` inside the `resize` method works in IE11.\n        this._pixelRatio = NaN;\n        this._width = 0;\n        this._height = 0;\n        this.canvas = new OffscreenCanvas(width, height);\n        this.context = this.canvas.getContext('2d');\n        this.imageSource = this.canvas.transferToImageBitmap();\n        this.setPixelRatio(overrideDevicePixelRatio);\n        this.resize(width, height);\n    }\n    static isSupported() {\n        return window['OffscreenCanvas'] != null;\n    }\n    snapshot() {\n        this.imageSource.close();\n        this.imageSource = this.canvas.transferToImageBitmap();\n    }\n    destroy() {\n        this.imageSource.close();\n        // Workaround memory allocation quirks in iOS Safari by resizing to 0x0 and clearing.\n        // See https://bugs.webkit.org/show_bug.cgi?id=195325.\n        this.canvas.width = 0;\n        this.canvas.height = 0;\n        this.context.clearRect(0, 0, 0, 0);\n    }\n    clear() {\n        this.context.save();\n        this.context.resetTransform();\n        this.context.clearRect(0, 0, this.width, this.height);\n        this.context.restore();\n    }\n    get pixelRatio() {\n        return this._pixelRatio;\n    }\n    /**\n     * Changes the pixel ratio of the Canvas element to the given value,\n     * or uses the window.devicePixelRatio (default), then resizes the Canvas\n     * element accordingly (default).\n     */\n    setPixelRatio(ratio) {\n        let pixelRatio = ratio !== null && ratio !== void 0 ? ratio : window.devicePixelRatio;\n        if (!isDesktop()) {\n            // Mobile browsers have stricter memory limits, we reduce rendering resolution to\n            // improve stability on mobile browsers. iOS Safari 12->16 are pain-points since they\n            // have memory allocation quirks - see https://bugs.webkit.org/show_bug.cgi?id=195325.\n            pixelRatio = 1;\n        }\n        HdpiCanvas.overrideScale(this.context, pixelRatio);\n        this._pixelRatio = pixelRatio;\n    }\n    get width() {\n        return this._width;\n    }\n    get height() {\n        return this._height;\n    }\n    resize(width, height) {\n        if (!(width > 0 && height > 0)) {\n            return;\n        }\n        const { canvas, context, pixelRatio } = this;\n        canvas.width = Math.round(width * pixelRatio);\n        canvas.height = Math.round(height * pixelRatio);\n        context.resetTransform();\n        this._width = width;\n        this._height = height;\n    }\n}\n","export function windowValue(name) {\n    /**\n     * Redeclaration of window that is safe for use with Gatsby server-side (webpack) compilation.\n     */\n    const WINDOW = typeof window !== 'undefined'\n        ? window\n        : // typeof global !== 'undefined' ? (global as any) :\n            undefined;\n    return WINDOW === null || WINDOW === void 0 ? void 0 : WINDOW[name];\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { HdpiCanvas } from '../canvas/hdpiCanvas.mjs';\nimport { RedrawType } from './node.mjs';\nimport { createId } from '../util/id.mjs';\nimport { Group } from './group.mjs';\nimport { HdpiOffscreenCanvas } from '../canvas/hdpiOffscreenCanvas.mjs';\nimport { windowValue } from '../util/window.mjs';\nimport { ascendingStringNumberUndefined, compoundAscending } from '../util/compare.mjs';\nimport { Logger } from '../util/logger.mjs';\nfunction buildSceneNodeHighlight() {\n    var _a;\n    let config = (_a = windowValue('agChartsSceneDebug')) !== null && _a !== void 0 ? _a : [];\n    if (typeof config === 'string') {\n        config = [config];\n    }\n    const result = [];\n    config.forEach((name) => {\n        if (name === 'layout') {\n            result.push('seriesRoot', 'legend', 'root', /.*Axis-\\d+-axis.*/);\n        }\n        else {\n            result.push(name);\n        }\n    });\n    return result;\n}\nexport class Scene {\n    constructor(opts) {\n        var _a, _b, _c;\n        this.id = createId(this);\n        this.layers = [];\n        this._nextZIndex = 0;\n        this._nextLayerId = 0;\n        this._dirty = false;\n        this._root = null;\n        this.debug = {\n            dirtyTree: false,\n            stats: false,\n            renderBoundingBoxes: false,\n            consoleLog: false,\n            sceneNodeHighlight: [],\n        };\n        const { document = window.document, mode = (_a = windowValue('agChartsSceneRenderModel')) !== null && _a !== void 0 ? _a : 'adv-composite', width, height, overrideDevicePixelRatio = undefined, } = opts;\n        this.overrideDevicePixelRatio = overrideDevicePixelRatio;\n        this.opts = { document, mode };\n        this.debug.consoleLog = windowValue('agChartsDebug') === true;\n        this.debug.stats = (_b = windowValue('agChartsSceneStats')) !== null && _b !== void 0 ? _b : false;\n        this.debug.dirtyTree = (_c = windowValue('agChartsSceneDirtyTree')) !== null && _c !== void 0 ? _c : false;\n        this.debug.sceneNodeHighlight = buildSceneNodeHighlight();\n        this.canvas = new HdpiCanvas({ document, width, height, overrideDevicePixelRatio });\n    }\n    set container(value) {\n        this.canvas.container = value;\n    }\n    get container() {\n        return this.canvas.container;\n    }\n    download(fileName, fileFormat) {\n        this.canvas.download(fileName, fileFormat);\n    }\n    getDataURL(type) {\n        return this.canvas.getDataURL(type);\n    }\n    get width() {\n        return this.pendingSize ? this.pendingSize[0] : this.canvas.width;\n    }\n    get height() {\n        return this.pendingSize ? this.pendingSize[1] : this.canvas.height;\n    }\n    resize(width, height) {\n        width = Math.round(width);\n        height = Math.round(height);\n        // HdpiCanvas doesn't allow width/height <= 0.\n        const lessThanZero = width <= 0 || height <= 0;\n        const nan = isNaN(width) || isNaN(height);\n        const unchanged = width === this.width && height === this.height;\n        if (unchanged || nan || lessThanZero) {\n            return false;\n        }\n        this.pendingSize = [width, height];\n        this.markDirty();\n        return true;\n    }\n    addLayer(opts) {\n        var _a;\n        const { mode } = this.opts;\n        const layeredModes = ['composite', 'dom-composite', 'adv-composite'];\n        if (!layeredModes.includes(mode)) {\n            return undefined;\n        }\n        const { zIndex = this._nextZIndex++, name, zIndexSubOrder, getComputedOpacity, getVisibility } = opts;\n        const { width, height, overrideDevicePixelRatio } = this;\n        const domLayer = mode === 'dom-composite';\n        const advLayer = mode === 'adv-composite';\n        const canvas = !advLayer || !HdpiOffscreenCanvas.isSupported()\n            ? new HdpiCanvas({\n                document: this.opts.document,\n                width,\n                height,\n                domLayer,\n                zIndex,\n                name,\n                overrideDevicePixelRatio,\n            })\n            : new HdpiOffscreenCanvas({\n                width,\n                height,\n                overrideDevicePixelRatio,\n            });\n        const newLayer = {\n            id: this._nextLayerId++,\n            name,\n            zIndex,\n            zIndexSubOrder,\n            canvas,\n            getComputedOpacity,\n            getVisibility,\n        };\n        if (zIndex >= this._nextZIndex) {\n            this._nextZIndex = zIndex + 1;\n        }\n        this.layers.push(newLayer);\n        this.sortLayers();\n        if (domLayer) {\n            const domCanvases = this.layers\n                .map((v) => v.canvas)\n                .filter((v) => v instanceof HdpiCanvas);\n            const newLayerIndex = domCanvases.findIndex((v) => v === canvas);\n            const lastLayer = (_a = domCanvases[newLayerIndex - 1]) !== null && _a !== void 0 ? _a : this.canvas;\n            lastLayer.element.insertAdjacentElement('afterend', canvas.element);\n        }\n        if (this.debug.consoleLog) {\n            Logger.debug({ layers: this.layers });\n        }\n        return newLayer.canvas;\n    }\n    removeLayer(canvas) {\n        const index = this.layers.findIndex((l) => l.canvas === canvas);\n        if (index >= 0) {\n            this.layers.splice(index, 1);\n            canvas.destroy();\n            this.markDirty();\n            if (this.debug.consoleLog) {\n                Logger.debug({ layers: this.layers });\n            }\n        }\n    }\n    moveLayer(canvas, newZIndex, newZIndexSubOrder) {\n        const layer = this.layers.find((l) => l.canvas === canvas);\n        if (layer) {\n            layer.zIndex = newZIndex;\n            layer.zIndexSubOrder = newZIndexSubOrder;\n            this.sortLayers();\n            this.markDirty();\n            if (this.debug.consoleLog) {\n                Logger.debug({ layers: this.layers });\n            }\n        }\n    }\n    sortLayers() {\n        this.layers.sort((a, b) => {\n            var _a, _b;\n            return compoundAscending([a.zIndex, ...((_a = a.zIndexSubOrder) !== null && _a !== void 0 ? _a : [undefined, undefined]), a.id], [b.zIndex, ...((_b = b.zIndexSubOrder) !== null && _b !== void 0 ? _b : [undefined, undefined]), b.id], ascendingStringNumberUndefined);\n        });\n    }\n    markDirty() {\n        this._dirty = true;\n    }\n    get dirty() {\n        return this._dirty;\n    }\n    set root(node) {\n        if (node === this._root) {\n            return;\n        }\n        if (this._root) {\n            this._root._setLayerManager();\n        }\n        this._root = node;\n        if (node) {\n            // If `node` is the root node of another scene ...\n            if (node.parent === null && node.layerManager && node.layerManager !== this) {\n                node.layerManager.root = null;\n            }\n            node._setLayerManager(this);\n        }\n        this.markDirty();\n    }\n    get root() {\n        return this._root;\n    }\n    /** Alternative to destroy() that preserves re-usable resources. */\n    strip() {\n        const { layers } = this;\n        for (const layer of layers) {\n            layer.canvas.destroy();\n            delete layer['canvas'];\n        }\n        layers.splice(0, layers.length);\n        this.root = null;\n        this._dirty = false;\n        this.canvas.context.resetTransform();\n    }\n    destroy() {\n        this.container = undefined;\n        this.strip();\n        this.canvas.destroy();\n        Object.assign(this, { canvas: undefined, ctx: undefined });\n    }\n    render(opts) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const { debugSplitTimes = [performance.now()], extraDebugStats = {} } = opts !== null && opts !== void 0 ? opts : {};\n            const { canvas, canvas: { context: ctx }, root, layers, pendingSize, opts: { mode }, } = this;\n            if (pendingSize) {\n                this.canvas.resize(...pendingSize);\n                this.layers.forEach((layer) => layer.canvas.resize(...pendingSize));\n                this.pendingSize = undefined;\n            }\n            if (root && !root.visible) {\n                this._dirty = false;\n                return;\n            }\n            if (root && !this.dirty) {\n                if (this.debug.consoleLog) {\n                    Logger.debug('no-op', {\n                        redrawType: RedrawType[root.dirty],\n                        tree: this.buildTree(root),\n                    });\n                }\n                this.debugStats(debugSplitTimes, ctx, undefined, extraDebugStats);\n                return;\n            }\n            const renderCtx = {\n                ctx,\n                forceRender: true,\n                resized: !!pendingSize,\n                debugNodes: {},\n            };\n            if (this.debug.stats === 'detailed') {\n                renderCtx.stats = { layersRendered: 0, layersSkipped: 0, nodesRendered: 0, nodesSkipped: 0 };\n            }\n            let canvasCleared = false;\n            if (!root || root.dirty >= RedrawType.TRIVIAL) {\n                // start with a blank canvas, clear previous drawing\n                canvasCleared = true;\n                canvas.clear();\n            }\n            if (root && this.debug.dirtyTree) {\n                const { dirtyTree, paths } = this.buildDirtyTree(root);\n                Logger.debug({ dirtyTree, paths });\n            }\n            if (root && canvasCleared) {\n                if (this.debug.consoleLog) {\n                    Logger.debug('before', {\n                        redrawType: RedrawType[root.dirty],\n                        canvasCleared,\n                        tree: this.buildTree(root),\n                    });\n                }\n                if (root.visible) {\n                    ctx.save();\n                    root.render(renderCtx);\n                    ctx.restore();\n                }\n            }\n            if (mode !== 'dom-composite' && layers.length > 0 && canvasCleared) {\n                this.sortLayers();\n                ctx.save();\n                ctx.setTransform(1 / canvas.pixelRatio, 0, 0, 1 / canvas.pixelRatio, 0, 0);\n                layers.forEach(({ canvas: { imageSource, enabled }, getComputedOpacity, getVisibility }) => {\n                    if (!enabled || !getVisibility()) {\n                        return;\n                    }\n                    ctx.globalAlpha = getComputedOpacity();\n                    ctx.drawImage(imageSource, 0, 0);\n                });\n                ctx.restore();\n            }\n            // Check for save/restore depth of zero!\n            (_a = ctx.verifyDepthZero) === null || _a === void 0 ? void 0 : _a.call(ctx);\n            this._dirty = false;\n            this.debugStats(debugSplitTimes, ctx, renderCtx.stats, extraDebugStats);\n            this.debugSceneNodeHighlight(ctx, this.debug.sceneNodeHighlight, renderCtx.debugNodes);\n            if (root && this.debug.consoleLog) {\n                Logger.debug('after', { redrawType: RedrawType[root.dirty], canvasCleared, tree: this.buildTree(root) });\n            }\n        });\n    }\n    debugStats(debugSplitTimes, ctx, renderCtxStats, extraDebugStats = {}) {\n        const end = performance.now();\n        if (this.debug.stats) {\n            const start = debugSplitTimes[0];\n            debugSplitTimes.push(end);\n            const pct = (rendered, skipped) => {\n                const total = rendered + skipped;\n                return `${rendered} / ${total} (${Math.round((100 * rendered) / total)}%)`;\n            };\n            const time = (start, end) => {\n                return `${Math.round((end - start) * 100) / 100}ms`;\n            };\n            const { layersRendered = 0, layersSkipped = 0, nodesRendered = 0, nodesSkipped = 0 } = renderCtxStats !== null && renderCtxStats !== void 0 ? renderCtxStats : {};\n            const splits = debugSplitTimes\n                .map((t, i) => (i > 0 ? time(debugSplitTimes[i - 1], t) : null))\n                .filter((v) => v != null)\n                .join(' + ');\n            const extras = Object.entries(extraDebugStats)\n                .map(([k, v]) => `${k}: ${v}`)\n                .join(' ; ');\n            const stats = [\n                `${time(start, end)} (${splits})`,\n                `${extras}`,\n                this.debug.stats === 'detailed' ? `Layers: ${pct(layersRendered, layersSkipped)}` : null,\n                this.debug.stats === 'detailed' ? `Nodes: ${pct(nodesRendered, nodesSkipped)}` : null,\n            ].filter((v) => v != null);\n            const statsSize = stats.map((t) => [t, HdpiCanvas.getTextSize(t, ctx.font)]);\n            const width = Math.max(...statsSize.map(([, { width }]) => width));\n            const height = statsSize.reduce((total, [, { height }]) => total + height, 0);\n            ctx.save();\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, width, height);\n            ctx.fillStyle = 'black';\n            let y = 0;\n            for (const [stat, size] of statsSize) {\n                y += size.height;\n                ctx.fillText(stat, 2, y);\n            }\n            ctx.restore();\n        }\n    }\n    debugSceneNodeHighlight(ctx, sceneNodeHighlight, debugNodes) {\n        var _a;\n        const regexpPredicate = (matcher) => (n) => {\n            if (matcher.test(n.id)) {\n                return true;\n            }\n            return n instanceof Group && n.name != null && matcher.test(n.name);\n        };\n        const stringPredicate = (match) => (n) => {\n            if (match === n.id) {\n                return true;\n            }\n            return n instanceof Group && n.name != null && match === n.name;\n        };\n        for (const next of sceneNodeHighlight) {\n            if (typeof next === 'string' && debugNodes[next] != null)\n                continue;\n            const predicate = typeof next === 'string' ? stringPredicate(next) : regexpPredicate(next);\n            const nodes = (_a = this.root) === null || _a === void 0 ? void 0 : _a.findNodes(predicate);\n            if (!nodes || nodes.length === 0) {\n                Logger.debug(`no debugging node with id [${next}] in scene graph.`);\n                continue;\n            }\n            for (const node of nodes) {\n                if (node instanceof Group && node.name) {\n                    debugNodes[node.name] = node;\n                }\n                else {\n                    debugNodes[node.id] = node;\n                }\n            }\n        }\n        ctx.save();\n        for (const [name, node] of Object.entries(debugNodes)) {\n            const bbox = node.computeTransformedBBox();\n            if (!bbox) {\n                Logger.debug(`no bbox for debugged node [${name}].`);\n                continue;\n            }\n            ctx.globalAlpha = 0.8;\n            ctx.strokeStyle = 'red';\n            ctx.lineWidth = 1;\n            ctx.strokeRect(bbox.x, bbox.y, bbox.width, bbox.height);\n            ctx.fillStyle = 'red';\n            ctx.strokeStyle = 'white';\n            ctx.font = '16px sans-serif';\n            ctx.textBaseline = 'top';\n            ctx.textAlign = 'left';\n            ctx.lineWidth = 2;\n            ctx.strokeText(name, bbox.x, bbox.y, bbox.width);\n            ctx.fillText(name, bbox.x, bbox.y, bbox.width);\n        }\n        ctx.restore();\n    }\n    buildTree(node) {\n        var _a;\n        const name = (_a = (node instanceof Group ? node.name : null)) !== null && _a !== void 0 ? _a : node.id;\n        return Object.assign({ name,\n            node, dirty: RedrawType[node.dirty] }, node.children\n            .map((c) => this.buildTree(c))\n            .reduce((result, childTree) => {\n            let { name: treeNodeName } = childTree;\n            const { node: { visible, opacity, zIndex, zIndexSubOrder }, node: childNode, } = childTree;\n            if (!visible || opacity <= 0) {\n                treeNodeName = `(${treeNodeName})`;\n            }\n            if (childNode instanceof Group && childNode.isLayer()) {\n                treeNodeName = `*${treeNodeName}*`;\n            }\n            const key = [\n                `${treeNodeName !== null && treeNodeName !== void 0 ? treeNodeName : '<unknown>'}`,\n                `z: ${zIndex}`,\n                zIndexSubOrder && `zo: ${zIndexSubOrder.join(' / ')}`,\n            ]\n                .filter((v) => !!v)\n                .join(' ');\n            result[key] = childTree;\n            return result;\n        }, {}));\n    }\n    buildDirtyTree(node) {\n        var _a;\n        if (node.dirty === RedrawType.NONE) {\n            return { dirtyTree: {}, paths: [] };\n        }\n        const childrenDirtyTree = node.children.map((c) => this.buildDirtyTree(c)).filter((c) => c.paths.length > 0);\n        const name = (_a = (node instanceof Group ? node.name : null)) !== null && _a !== void 0 ? _a : node.id;\n        const paths = childrenDirtyTree.length === 0\n            ? [name]\n            : childrenDirtyTree\n                .map((c) => c.paths)\n                .reduce((r, p) => r.concat(p), [])\n                .map((p) => `${name}.${p}`);\n        return {\n            dirtyTree: Object.assign({ name,\n                node, dirty: RedrawType[node.dirty] }, childrenDirtyTree\n                .map((c) => c.dirtyTree)\n                .filter((t) => t.dirty !== undefined)\n                .reduce((result, childTree) => {\n                var _a;\n                result[(_a = childTree.name) !== null && _a !== void 0 ? _a : '<unknown>'] = childTree;\n                return result;\n            }, {})),\n            paths,\n        };\n    }\n}\nScene.className = 'Scene';\n","export class Gradient {\n    constructor() {\n        this.stops = [];\n    }\n}\n","const twoPi = Math.PI * 2;\n/**\n * Normalize the given angle to be in the [0, 2) interval.\n * @param radians Angle in radians.\n */\nexport function normalizeAngle360(radians) {\n    radians %= twoPi;\n    radians += twoPi;\n    radians %= twoPi;\n    return radians;\n}\nexport function normalizeAngle360Inclusive(radians) {\n    radians %= twoPi;\n    radians += twoPi;\n    if (radians !== twoPi) {\n        radians %= twoPi;\n    }\n    return radians;\n}\n/**\n * Normalize the given angle to be in the [-, ) interval.\n * @param radians Angle in radians.\n */\nexport function normalizeAngle180(radians) {\n    radians %= twoPi;\n    if (radians < -Math.PI) {\n        radians += twoPi;\n    }\n    else if (radians >= Math.PI) {\n        radians -= twoPi;\n    }\n    return radians;\n}\nexport function toRadians(degrees) {\n    return (degrees / 180) * Math.PI;\n}\nexport function toDegrees(radians) {\n    return (radians / Math.PI) * 180;\n}\n","import { Gradient } from './gradient.mjs';\nimport { toRadians, normalizeAngle360 } from '../../util/angle.mjs';\nexport class LinearGradient extends Gradient {\n    constructor() {\n        super(...arguments);\n        this.angle = 0;\n    }\n    createGradient(ctx, bbox) {\n        // Gradient 0 angle starts at top according to CSS spec\n        const angleOffset = 90;\n        const { stops, angle } = this;\n        const radians = normalizeAngle360(toRadians(angle + angleOffset));\n        const cos = Math.cos(radians);\n        const sin = Math.sin(radians);\n        const w = bbox.width;\n        const h = bbox.height;\n        const cx = bbox.x + w * 0.5;\n        const cy = bbox.y + h * 0.5;\n        if (w > 0 && h > 0) {\n            const diagonal = Math.sqrt(h * h + w * w) / 2;\n            const diagonalAngle = Math.atan2(h, w);\n            let quarteredAngle;\n            if (radians < Math.PI / 2) {\n                quarteredAngle = radians;\n            }\n            else if (radians < Math.PI) {\n                quarteredAngle = Math.PI - radians;\n            }\n            else if (radians < (3 * Math.PI) / 2) {\n                quarteredAngle = radians - Math.PI;\n            }\n            else {\n                quarteredAngle = 2 * Math.PI - radians;\n            }\n            const l = diagonal * Math.abs(Math.cos(quarteredAngle - diagonalAngle));\n            const gradient = ctx.createLinearGradient(cx + cos * l, cy + sin * l, cx - cos * l, cy - sin * l);\n            stops.forEach((stop) => {\n                gradient.addColorStop(stop.offset, stop.color);\n            });\n            return gradient;\n        }\n        return 'black';\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Node, RedrawType, SceneChangeDetection } from '../node.mjs';\nimport { LinearGradient } from '../gradient/linearGradient.mjs';\nconst LINEAR_GRADIENT_REGEXP = /^linear-gradient\\((.*?)deg,\\s*(.*?)\\s*\\)$/i;\nexport class Shape extends Node {\n    constructor() {\n        super(...arguments);\n        this.lastInstanceId = 0;\n        this.fillOpacity = 1;\n        this.strokeOpacity = 1;\n        this.fill = Shape.defaultStyles.fill;\n        /**\n         * Note that `strokeStyle = null` means invisible stroke,\n         * while `lineWidth = 0` means no stroke, and sometimes this can mean different things.\n         * For example, a rect shape with an invisible stroke may not align to the pixel grid\n         * properly because the stroke affects the rules of alignment, and arc shapes forming\n         * a pie chart will have a gap between them if they have an invisible stroke, whereas\n         * there would be not gap if there was no stroke at all.\n         * The preferred way of making the stroke invisible is setting the `lineWidth` to zero,\n         * unless specific looks that is achieved by having an invisible stroke is desired.\n         */\n        this.stroke = Shape.defaultStyles.stroke;\n        this.strokeWidth = Shape.defaultStyles.strokeWidth;\n        this.lineDash = Shape.defaultStyles.lineDash;\n        this.lineDashOffset = Shape.defaultStyles.lineDashOffset;\n        this.lineCap = Shape.defaultStyles.lineCap;\n        this.lineJoin = Shape.defaultStyles.lineJoin;\n        this.opacity = Shape.defaultStyles.opacity;\n        this.fillShadow = Shape.defaultStyles.fillShadow;\n    }\n    /**\n     * Creates a light-weight instance of the given shape (that serves as a template).\n     * The created instance only stores the properites set on the instance itself\n     * and the rest of the properties come via the prototype chain from the template.\n     * This can greatly reduce memory usage in cases where one has many similar shapes,\n     * for example, circles of different size, position and color. The exact memory usage\n     * reduction will depend on the size of the template and the number of own properties\n     * set on its lightweight instances, but will typically be around an order of magnitude\n     * or more.\n     *\n     * Note: template shapes are not supposed to be part of the scene graph (they should not\n     * have a parent).\n     *\n     * @param template\n     */\n    static createInstance(template) {\n        const shape = Object.create(template);\n        shape._setParent(undefined);\n        shape.id = template.id + '-Instance-' + String(++template.lastInstanceId);\n        return shape;\n    }\n    /**\n     * Restores the default styles introduced by this subclass.\n     */\n    restoreOwnStyles() {\n        const styles = this.constructor.defaultStyles;\n        const keys = Object.getOwnPropertyNames(styles);\n        // getOwnPropertyNames is about 2.5 times faster than\n        // for..in with the hasOwnProperty check and in this\n        // case, where most properties are inherited, can be\n        // more then an order of magnitude faster.\n        for (let i = 0, n = keys.length; i < n; i++) {\n            const key = keys[i];\n            this[key] = styles[key];\n        }\n    }\n    restoreAllStyles() {\n        const styles = this.constructor.defaultStyles;\n        for (const property in styles) {\n            this[property] = styles[property];\n        }\n    }\n    /**\n     * Restores the base class default styles that have been overridden by this subclass.\n     */\n    restoreOverriddenStyles() {\n        const styles = this.constructor.defaultStyles;\n        const protoStyles = Object.getPrototypeOf(styles);\n        for (const property in styles) {\n            if (Object.prototype.hasOwnProperty.call(styles, property) &&\n                Object.prototype.hasOwnProperty.call(protoStyles, property)) {\n                this[property] = styles[property];\n            }\n        }\n    }\n    updateGradient() {\n        const { fill } = this;\n        let linearGradientMatch;\n        if ((fill === null || fill === void 0 ? void 0 : fill.startsWith('linear-gradient')) && (linearGradientMatch = LINEAR_GRADIENT_REGEXP.exec(fill))) {\n            const angle = parseFloat(linearGradientMatch[1]);\n            const colors = [];\n            const colorsPart = linearGradientMatch[2];\n            const colorRegex = /(#[0-9a-f]+)|(rgba?\\(.+?\\))|([a-z]+)/gi;\n            let c;\n            while ((c = colorRegex.exec(colorsPart))) {\n                colors.push(c[0]);\n            }\n            this.gradient = new LinearGradient();\n            this.gradient.angle = angle;\n            this.gradient.stops = colors.map((color, index) => {\n                const offset = index / (colors.length - 1);\n                return { offset, color };\n            });\n        }\n        else {\n            this.gradient = undefined;\n        }\n    }\n    /**\n     * Returns a device-pixel aligned coordinate (or length if length is supplied).\n     *\n     * NOTE: Not suitable for strokes, since the stroke needs to be offset to the middle\n     * of a device pixel.\n     */\n    align(start, length) {\n        var _a, _b, _c;\n        const pixelRatio = (_c = (_b = (_a = this.layerManager) === null || _a === void 0 ? void 0 : _a.canvas) === null || _b === void 0 ? void 0 : _b.pixelRatio) !== null && _c !== void 0 ? _c : 1;\n        const alignedStart = Math.round(start * pixelRatio) / pixelRatio;\n        if (length == undefined) {\n            return alignedStart;\n        }\n        if (length === 0) {\n            return 0;\n        }\n        if (length < 1) {\n            // Avoid hiding crisp shapes\n            return Math.ceil(length * pixelRatio) / pixelRatio;\n        }\n        // Account for the rounding of alignedStart by increasing length to compensate before\n        // alignment.\n        return Math.round((length + start) * pixelRatio) / pixelRatio - alignedStart;\n    }\n    fillStroke(ctx) {\n        this.renderFill(ctx);\n        this.renderStroke(ctx);\n    }\n    renderFill(ctx) {\n        if (this.fill) {\n            const { globalAlpha } = ctx;\n            this.applyFill(ctx);\n            this.applyFillAlpha(ctx);\n            this.applyShadow(ctx);\n            ctx.fill();\n            ctx.globalAlpha = globalAlpha;\n        }\n        ctx.shadowColor = 'rgba(0, 0, 0, 0)';\n    }\n    applyFill(ctx) {\n        if (this.gradient) {\n            ctx.fillStyle = this.gradient.createGradient(ctx, this.computeBBox());\n        }\n        else {\n            ctx.fillStyle = this.fill;\n        }\n    }\n    applyFillAlpha(ctx) {\n        const { globalAlpha } = ctx;\n        ctx.globalAlpha = globalAlpha * this.opacity * this.fillOpacity;\n    }\n    applyShadow(ctx) {\n        var _a, _b;\n        // The canvas context scaling (depends on the device's pixel ratio)\n        // has no effect on shadows, so we have to account for the pixel ratio\n        // manually here.\n        const pixelRatio = (_b = (_a = this.layerManager) === null || _a === void 0 ? void 0 : _a.canvas.pixelRatio) !== null && _b !== void 0 ? _b : 1;\n        const fillShadow = this.fillShadow;\n        if (fillShadow === null || fillShadow === void 0 ? void 0 : fillShadow.enabled) {\n            ctx.shadowColor = fillShadow.color;\n            ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n            ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n            ctx.shadowBlur = fillShadow.blur * pixelRatio;\n        }\n    }\n    renderStroke(ctx) {\n        if (this.stroke && this.strokeWidth) {\n            const { globalAlpha } = ctx;\n            ctx.strokeStyle = this.stroke;\n            ctx.globalAlpha = globalAlpha * this.opacity * this.strokeOpacity;\n            ctx.lineWidth = this.strokeWidth;\n            if (this.lineDash) {\n                ctx.setLineDash(this.lineDash);\n            }\n            if (this.lineDashOffset) {\n                ctx.lineDashOffset = this.lineDashOffset;\n            }\n            if (this.lineCap) {\n                ctx.lineCap = this.lineCap;\n            }\n            if (this.lineJoin) {\n                ctx.lineJoin = this.lineJoin;\n            }\n            ctx.stroke();\n            ctx.globalAlpha = globalAlpha;\n        }\n    }\n    containsPoint(x, y) {\n        return this.isPointInPath(x, y);\n    }\n}\n/**\n * Defaults for style properties. Note that properties that affect the position\n * and shape of the node are not considered style properties, for example:\n * `x`, `y`, `width`, `height`, `radius`, `rotation`, etc.\n * Can be used to reset to the original styling after some custom styling\n * has been applied (using the `restoreOwnStyles` and `restoreAllStyles` methods).\n * These static defaults are meant to be inherited by subclasses.\n */\nShape.defaultStyles = Object.assign({}, {\n    fill: 'black',\n    stroke: undefined,\n    strokeWidth: 0,\n    lineDash: undefined,\n    lineDashOffset: 0,\n    lineCap: undefined,\n    lineJoin: undefined,\n    opacity: 1,\n    fillShadow: undefined,\n});\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MINOR })\n], Shape.prototype, \"fillOpacity\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MINOR })\n], Shape.prototype, \"strokeOpacity\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MINOR, changeCb: (s) => s.updateGradient() })\n], Shape.prototype, \"fill\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MINOR })\n], Shape.prototype, \"stroke\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MINOR })\n], Shape.prototype, \"strokeWidth\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MINOR })\n], Shape.prototype, \"lineDash\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MINOR })\n], Shape.prototype, \"lineDashOffset\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MINOR })\n], Shape.prototype, \"lineCap\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MINOR })\n], Shape.prototype, \"lineJoin\", void 0);\n__decorate([\n    SceneChangeDetection({\n        redraw: RedrawType.MINOR,\n        convertor: (v) => Math.min(1, Math.max(0, v)),\n    })\n], Shape.prototype, \"opacity\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MINOR, checkDirtyOnAssignment: true })\n], Shape.prototype, \"fillShadow\", void 0);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Shape } from './shape.mjs';\nimport { BBox } from '../bbox.mjs';\nimport { HdpiCanvas } from '../../canvas/hdpiCanvas.mjs';\nimport { RedrawType, SceneChangeDetection } from '../node.mjs';\nconst ellipsis = '\\u2026';\nfunction SceneFontChangeDetection(opts) {\n    const { redraw = RedrawType.MAJOR, changeCb } = opts !== null && opts !== void 0 ? opts : {};\n    return SceneChangeDetection({ redraw, type: 'font', changeCb });\n}\nexport class Text extends Shape {\n    constructor() {\n        super(...arguments);\n        this.x = 0;\n        this.y = 0;\n        this.lines = [];\n        this.text = undefined;\n        this._dirtyFont = true;\n        this.fontSize = 10;\n        this.fontFamily = 'sans-serif';\n        this.textAlign = Text.defaultStyles.textAlign;\n        this.textBaseline = Text.defaultStyles.textBaseline;\n        // TextMetrics are used if lineHeight is not defined.\n        this.lineHeight = undefined;\n    }\n    _setLines() {\n        this.lines = splitText(this.text);\n    }\n    get font() {\n        if (this._dirtyFont) {\n            this._dirtyFont = false;\n            this._font = getFont(this);\n        }\n        return this._font;\n    }\n    computeBBox() {\n        return HdpiCanvas.has.textMetrics\n            ? getPreciseBBox(this.lines, this.x, this.y, this)\n            : getApproximateBBox(this.lines, this.x, this.y, this);\n    }\n    getLineHeight(line) {\n        var _a, _b;\n        if (this.lineHeight)\n            return this.lineHeight;\n        if (HdpiCanvas.has.textMetrics) {\n            const metrics = HdpiCanvas.measureText(line, this.font, this.textBaseline, this.textAlign);\n            return (((_a = metrics.fontBoundingBoxAscent) !== null && _a !== void 0 ? _a : metrics.emHeightAscent) +\n                ((_b = metrics.fontBoundingBoxDescent) !== null && _b !== void 0 ? _b : metrics.emHeightDescent));\n        }\n        return HdpiCanvas.getTextSize(line, this.font).height;\n    }\n    isPointInPath(x, y) {\n        const point = this.transformPoint(x, y);\n        const bbox = this.computeBBox();\n        return bbox ? bbox.containsPoint(point.x, point.y) : false;\n    }\n    render(renderCtx) {\n        const { ctx, forceRender, stats } = renderCtx;\n        if (this.dirty === RedrawType.NONE && !forceRender) {\n            if (stats)\n                stats.nodesSkipped += this.nodeCount.count;\n            return;\n        }\n        if (!this.lines.length || !this.layerManager) {\n            if (stats)\n                stats.nodesSkipped += this.nodeCount.count;\n            return;\n        }\n        this.computeTransformMatrix();\n        this.matrix.toContext(ctx);\n        const { fill, stroke, strokeWidth } = this;\n        ctx.font = this.font;\n        ctx.textAlign = this.textAlign;\n        ctx.textBaseline = this.textBaseline;\n        const pixelRatio = this.layerManager.canvas.pixelRatio || 1;\n        const { globalAlpha } = ctx;\n        if (fill) {\n            ctx.fillStyle = fill;\n            ctx.globalAlpha = globalAlpha * this.opacity * this.fillOpacity;\n            const { fillShadow } = this;\n            if (fillShadow === null || fillShadow === void 0 ? void 0 : fillShadow.enabled) {\n                ctx.shadowColor = fillShadow.color;\n                ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n                ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n                ctx.shadowBlur = fillShadow.blur * pixelRatio;\n            }\n            this.renderLines((line, x, y) => ctx.fillText(line, x, y));\n        }\n        if (stroke && strokeWidth) {\n            ctx.strokeStyle = stroke;\n            ctx.lineWidth = strokeWidth;\n            ctx.globalAlpha = globalAlpha * this.opacity * this.strokeOpacity;\n            const { lineDash, lineDashOffset, lineCap, lineJoin } = this;\n            if (lineDash) {\n                ctx.setLineDash(lineDash);\n            }\n            if (lineDashOffset) {\n                ctx.lineDashOffset = lineDashOffset;\n            }\n            if (lineCap) {\n                ctx.lineCap = lineCap;\n            }\n            if (lineJoin) {\n                ctx.lineJoin = lineJoin;\n            }\n            this.renderLines((line, x, y) => ctx.strokeText(line, x, y));\n        }\n        super.render(renderCtx);\n    }\n    renderLines(renderCallback) {\n        const { lines, x, y } = this;\n        const lineHeights = this.lines.map((line) => this.getLineHeight(line));\n        const totalHeight = lineHeights.reduce((a, b) => a + b, 0);\n        let offsetY = -(totalHeight - lineHeights[0]) * getVerticalOffset(this.textBaseline);\n        for (let i = 0; i < lines.length; i++) {\n            renderCallback(lines[i], x, y + offsetY);\n            offsetY += lineHeights[i];\n        }\n    }\n    static wrap(text, maxWidth, maxHeight, textProps, wrapping) {\n        const font = getFont(textProps);\n        const measurer = createTextMeasurer(font);\n        const lines = text.split(/\\r?\\n/g);\n        if (lines.length === 0) {\n            return '';\n        }\n        if (wrapping === 'never') {\n            return Text.truncateLine(lines[0], maxWidth, measurer, false);\n        }\n        const result = [];\n        let cumulativeHeight = 0;\n        for (const line of lines) {\n            const wrappedLine = Text.wrapLine(line, maxWidth, maxHeight, measurer, textProps, wrapping, cumulativeHeight);\n            result.push(wrappedLine.result);\n            cumulativeHeight = wrappedLine.cumulativeHeight;\n            if (wrappedLine.truncated) {\n                break;\n            }\n        }\n        return result.join('\\n').trim();\n    }\n    static wrapLine(text, maxWidth, maxHeight, measurer, textProps, wrapping, cumulativeHeight) {\n        text = text.trim();\n        if (!text) {\n            return { result: '', truncated: false, cumulativeHeight };\n        }\n        const initialSize = measurer.size(text);\n        if (initialSize.width <= maxWidth) {\n            // Text fits into a single line\n            return { result: text, truncated: false, cumulativeHeight: cumulativeHeight + initialSize.height };\n        }\n        if (initialSize.height > maxHeight || measurer.width('W') > maxWidth) {\n            // Not enough space for a single line or character\n            return { result: '', truncated: true, cumulativeHeight };\n        }\n        const words = text.split(/\\s+/g);\n        const wrapResult = Text.wrapLineSequentially(words, maxWidth, maxHeight, measurer, textProps, wrapping, cumulativeHeight);\n        cumulativeHeight = wrapResult.cumulativeHeight;\n        let { lines } = wrapResult;\n        if (!(wrapResult.wordsBrokenOrTruncated || wrapResult.linesTruncated)) {\n            // If no word breaks or truncations, try the balanced wrapping\n            const linesCount = wrapResult.lines.length;\n            const balanced = Text.wrapLineBalanced(words, maxWidth, measurer, linesCount);\n            if (balanced.length === lines.length) {\n                // Some lines can't be balanced properly because of unusually long words\n                lines = balanced;\n            }\n        }\n        const wrappedText = lines.map((ln) => ln.join(' ')).join('\\n');\n        return { result: wrappedText, truncated: wrapResult.linesTruncated, cumulativeHeight };\n    }\n    static breakWord(word, firstLineWidth, maxWidth, hyphens, measurer) {\n        const isPunctuationAt = (index) => Text.punctuationMarks.includes(word[index]);\n        const h = hyphens ? measurer.width('-') : 0;\n        const breaks = [];\n        let partWidth = 0;\n        let p = 0;\n        for (let i = 0; i < word.length; i++) {\n            const c = word[i];\n            const w = measurer.width(c);\n            const limit = p === 0 ? firstLineWidth : maxWidth;\n            if (partWidth + w + h > limit) {\n                breaks.push(i);\n                partWidth = 0;\n                p++;\n            }\n            partWidth += w;\n        }\n        const parts = [];\n        let start = 0;\n        for (const index of breaks) {\n            let part = word.substring(start, index);\n            if (hyphens && part.length > 0 && !isPunctuationAt(index - 1) && !isPunctuationAt(index)) {\n                part += '-';\n            }\n            parts.push(part);\n            start = index;\n        }\n        parts.push(word.substring(start));\n        return parts;\n    }\n    static truncateLine(text, maxWidth, measurer, forceEllipsis) {\n        const lineWidth = measurer.width(text);\n        if (lineWidth < maxWidth && !forceEllipsis) {\n            return text;\n        }\n        const ellipsisWidth = measurer.width(ellipsis);\n        if (lineWidth + ellipsisWidth <= maxWidth) {\n            return `${text}${ellipsis}`;\n        }\n        let index = Math.floor((text.length * maxWidth) / lineWidth) + 1;\n        let trunc;\n        let truncWidth;\n        do {\n            trunc = text.substring(0, index);\n            truncWidth = measurer.width(trunc);\n        } while (--index >= 0 && truncWidth + ellipsisWidth > maxWidth);\n        return `${trunc}${ellipsis}`;\n    }\n    static wrapLineSequentially(words, maxWidth, maxHeight, measurer, textProps, wrapping, cumulativeHeight) {\n        const { fontSize, lineHeight = fontSize * Text.defaultLineHeightRatio } = textProps;\n        const breakWord = wrapping === 'always' || wrapping === 'hyphenate';\n        const hyphenate = wrapping === 'hyphenate';\n        const spaceWidth = measurer.width(' ');\n        let wordsBrokenOrTruncated = false;\n        let linesTruncated = false;\n        const lines = [];\n        let currentLine = [];\n        let lineWidth = 0;\n        const addNewLine = () => {\n            const expectedHeight = cumulativeHeight + lineHeight;\n            if (expectedHeight >= maxHeight) {\n                // Truncate the last line\n                const lastLine = currentLine.join(' ');\n                const trunc = Text.truncateLine(lastLine, maxWidth, measurer, true);\n                currentLine.splice(0, currentLine.length, trunc);\n                linesTruncated = true;\n                return false;\n            }\n            // Add new line\n            currentLine = [];\n            lineWidth = 0;\n            cumulativeHeight = expectedHeight;\n            lines.push(currentLine);\n            return true;\n        };\n        if (!addNewLine()) {\n            return { lines, linesTruncated: true, wordsBrokenOrTruncated, cumulativeHeight };\n        }\n        for (let i = 0; i < words.length; i++) {\n            const word = words[i];\n            const wordWidth = measurer.width(word);\n            const expectedSpaceWidth = currentLine.length === 0 ? 0 : spaceWidth;\n            const expectedLineWidth = lineWidth + expectedSpaceWidth + wordWidth;\n            if (expectedLineWidth <= maxWidth) {\n                // If the word fits, add it to the current line\n                currentLine.push(word);\n                lineWidth = expectedLineWidth;\n                continue;\n            }\n            if (wordWidth <= maxWidth) {\n                // If the word is not too long, put it onto new line\n                if (!addNewLine()) {\n                    break;\n                }\n                currentLine.push(word);\n                lineWidth = wordWidth;\n                continue;\n            }\n            // Handle a long word\n            wordsBrokenOrTruncated = true;\n            if (breakWord) {\n                // Break the word into parts\n                const availWidth = maxWidth - lineWidth - expectedSpaceWidth;\n                const parts = Text.breakWord(word, availWidth, maxWidth, hyphenate, measurer);\n                let breakLoop = false;\n                for (let p = 0; p < parts.length; p++) {\n                    const part = parts[p];\n                    part && currentLine.push(part);\n                    if (p === parts.length - 1) {\n                        lineWidth = measurer.width(part);\n                    }\n                    else if (!addNewLine()) {\n                        breakLoop = true;\n                        break;\n                    }\n                }\n                if (breakLoop)\n                    break;\n            }\n            else {\n                // Truncate the word\n                if (!addNewLine()) {\n                    break;\n                }\n                const trunc = Text.truncateLine(word, maxWidth, measurer, true);\n                currentLine.push(trunc);\n                if (i < words.length - 1) {\n                    linesTruncated = true;\n                }\n                break;\n            }\n        }\n        return { lines, linesTruncated, wordsBrokenOrTruncated, cumulativeHeight };\n    }\n    static wrapLineBalanced(words, maxWidth, measurer, linesCount) {\n        const totalWordsWidth = words.reduce((sum, w) => sum + measurer.width(w), 0);\n        const spaceWidth = measurer.width(' ');\n        const totalSpaceWidth = spaceWidth * (words.length - linesCount - 2);\n        const averageLineWidth = (totalWordsWidth + totalSpaceWidth) / linesCount;\n        const lines = [];\n        let currentLine = [];\n        let lineWidth = measurer.width(words[0]);\n        let newLine = true;\n        for (const word of words) {\n            const width = measurer.width(word);\n            if (newLine) {\n                // New line\n                currentLine = [];\n                currentLine.push(word);\n                lineWidth = width;\n                newLine = false;\n                lines.push(currentLine);\n                continue;\n            }\n            const expectedLineWidth = lineWidth + spaceWidth + width;\n            if (expectedLineWidth <= averageLineWidth) {\n                // Keep adding words to the line\n                currentLine.push(word);\n                lineWidth = expectedLineWidth;\n            }\n            else if (expectedLineWidth <= maxWidth) {\n                // Add the last word to the line\n                currentLine.push(word);\n                newLine = true;\n            }\n            else {\n                // Put the word onto the next line\n                currentLine = [word];\n                lineWidth = width;\n                lines.push(currentLine);\n            }\n        }\n        return lines;\n    }\n}\nText.className = 'Text';\n// The default line spacing for document editors is usually 1.15\nText.defaultLineHeightRatio = 1.15;\nText.defaultStyles = Object.assign({}, Shape.defaultStyles, {\n    textAlign: 'start',\n    fontStyle: undefined,\n    fontWeight: undefined,\n    fontSize: 10,\n    fontFamily: 'sans-serif',\n    textBaseline: 'alphabetic',\n});\nText.punctuationMarks = ['.', ',', '-', ':', ';', '!', '?', `'`, '\"', '(', ')'];\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], Text.prototype, \"x\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], Text.prototype, \"y\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MAJOR, changeCb: (o) => o._setLines() })\n], Text.prototype, \"text\", void 0);\n__decorate([\n    SceneFontChangeDetection()\n], Text.prototype, \"fontStyle\", void 0);\n__decorate([\n    SceneFontChangeDetection()\n], Text.prototype, \"fontWeight\", void 0);\n__decorate([\n    SceneFontChangeDetection()\n], Text.prototype, \"fontSize\", void 0);\n__decorate([\n    SceneFontChangeDetection()\n], Text.prototype, \"fontFamily\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], Text.prototype, \"textAlign\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], Text.prototype, \"textBaseline\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], Text.prototype, \"lineHeight\", void 0);\nexport function createTextMeasurer(font) {\n    const cache = new Map();\n    const getTextSize = (text) => HdpiCanvas.getTextSize(text, font);\n    const getLineWidth = (text) => {\n        if (cache.has(text)) {\n            return cache.get(text);\n        }\n        const { width } = getTextSize(text);\n        cache.set(text, width);\n        return width;\n    };\n    return { size: getTextSize, width: getLineWidth };\n}\nexport function getFont(fontProps) {\n    const { fontFamily, fontSize, fontStyle, fontWeight } = fontProps;\n    return [fontStyle !== null && fontStyle !== void 0 ? fontStyle : '', fontWeight !== null && fontWeight !== void 0 ? fontWeight : '', fontSize + 'px', fontFamily].join(' ').trim();\n}\nexport function measureText(lines, x, y, textProps) {\n    return HdpiCanvas.has.textMetrics\n        ? getPreciseBBox(lines, x, y, textProps)\n        : getApproximateBBox(lines, x, y, textProps);\n}\nfunction getPreciseBBox(lines, x, y, textProps) {\n    var _a, _b;\n    let left = 0;\n    let top = 0;\n    let width = 0;\n    let height = 0;\n    // Distance between first and last base lines.\n    let baselineDistance = 0;\n    const font = getFont(textProps);\n    const { lineHeight, textBaseline = Text.defaultStyles.textBaseline, textAlign = Text.defaultStyles.textAlign, } = textProps;\n    for (let i = 0; i < lines.length; i++) {\n        const metrics = HdpiCanvas.measureText(lines[i], font, textBaseline, textAlign);\n        left = Math.max(left, metrics.actualBoundingBoxLeft);\n        width = Math.max(width, metrics.width);\n        if (i == 0) {\n            top += metrics.actualBoundingBoxAscent;\n            height += metrics.actualBoundingBoxAscent;\n        }\n        else {\n            baselineDistance += (_a = metrics.fontBoundingBoxAscent) !== null && _a !== void 0 ? _a : metrics.emHeightAscent;\n        }\n        if (i == lines.length - 1) {\n            height += metrics.actualBoundingBoxDescent;\n        }\n        else {\n            baselineDistance += (_b = metrics.fontBoundingBoxDescent) !== null && _b !== void 0 ? _b : metrics.emHeightDescent;\n        }\n    }\n    if (lineHeight !== undefined) {\n        baselineDistance = (lines.length - 1) * lineHeight;\n    }\n    height += baselineDistance;\n    top += baselineDistance * getVerticalOffset(textBaseline);\n    return new BBox(x - left, y - top, width, height);\n}\nfunction getApproximateBBox(lines, x, y, textProps) {\n    let width = 0;\n    let firstLineHeight = 0;\n    // Distance between first and last base lines.\n    let baselineDistance = 0;\n    const font = getFont(textProps);\n    const { lineHeight, textBaseline = Text.defaultStyles.textBaseline, textAlign = Text.defaultStyles.textAlign, } = textProps;\n    if (lines.length > 0) {\n        const lineSize = HdpiCanvas.getTextSize(lines[0], font);\n        width = lineSize.width;\n        firstLineHeight = lineSize.height;\n    }\n    for (let i = 1; i < lines.length; i++) {\n        const lineSize = HdpiCanvas.getTextSize(lines[i], font);\n        width = Math.max(width, lineSize.width);\n        baselineDistance += lineHeight !== null && lineHeight !== void 0 ? lineHeight : lineSize.height;\n    }\n    switch (textAlign) {\n        case 'end':\n        case 'right':\n            x -= width;\n            break;\n        case 'center':\n            x -= width / 2;\n    }\n    switch (textBaseline) {\n        case 'alphabetic':\n            y -= firstLineHeight * 0.7 + baselineDistance * 0.5;\n            break;\n        case 'middle':\n            y -= firstLineHeight * 0.45 + baselineDistance * 0.5;\n            break;\n        case 'ideographic':\n            y -= firstLineHeight + baselineDistance;\n            break;\n        case 'hanging':\n            y -= firstLineHeight * 0.2 + baselineDistance * 0.5;\n            break;\n        case 'bottom':\n            y -= firstLineHeight + baselineDistance;\n            break;\n    }\n    return new BBox(x, y, width, firstLineHeight + baselineDistance);\n}\nfunction getVerticalOffset(textBaseline) {\n    switch (textBaseline) {\n        case 'top':\n        case 'hanging':\n            return 0;\n        case 'bottom':\n        case 'alphabetic':\n        case 'ideographic':\n            return 1;\n        case 'middle':\n            return 0.5;\n    }\n}\nexport function splitText(text) {\n    return typeof text === 'string' ? text.split(/\\r?\\n/g) : [];\n}\n","export class Observable {\n    constructor() {\n        this.allEventListeners = new Map();\n    }\n    addEventListener(type, listener) {\n        if (typeof listener !== 'function') {\n            throw new Error('AG Charts - listener must be a Function');\n        }\n        const { allEventListeners } = this;\n        let eventListeners = allEventListeners.get(type);\n        if (!eventListeners) {\n            eventListeners = new Set();\n            allEventListeners.set(type, eventListeners);\n        }\n        if (!eventListeners.has(listener)) {\n            eventListeners.add(listener);\n        }\n    }\n    removeEventListener(type, listener) {\n        const { allEventListeners } = this;\n        const eventListeners = allEventListeners.get(type);\n        if (!eventListeners) {\n            return;\n        }\n        eventListeners.delete(listener);\n        if (eventListeners.size === 0) {\n            allEventListeners.delete(type);\n        }\n    }\n    hasEventListener(type) {\n        return this.allEventListeners.has(type);\n    }\n    clearEventListeners() {\n        this.allEventListeners.clear();\n    }\n    fireEvent(event) {\n        const listeners = this.allEventListeners.get(event.type);\n        listeners === null || listeners === void 0 ? void 0 : listeners.forEach((listener) => listener(event));\n    }\n}\n","export const isString = (v) => typeof v === 'string';\nexport const isStringObject = (v) => !!v && Object.prototype.hasOwnProperty.call(v, 'toString') && isString(v.toString());\nexport const isDate = (v) => v instanceof Date && !isNaN(+v);\nexport function isDiscrete(value) {\n    return isString(value) || isStringObject(value);\n}\nexport function isContinuous(value) {\n    const isNumberObject = (v) => !!v && Object.prototype.hasOwnProperty.call(v, 'valueOf') && isNumber(v.valueOf());\n    const isDate = (v) => v instanceof Date && !isNaN(+v);\n    return isNumber(value) || isNumberObject(value) || isDate(value);\n}\nexport function checkDatum(value, isContinuousScale) {\n    if (isContinuousScale && isContinuous(value)) {\n        return value;\n    }\n    else if (!isContinuousScale) {\n        if (!isDiscrete(value)) {\n            return String(value);\n        }\n        return value;\n    }\n    return undefined;\n}\nexport const isNumber = (v) => typeof v === 'number' && Number.isFinite(v);\n","import { Logger } from './logger.mjs';\nexport class Color {\n    /**\n     * Every color component should be in the [0, 1] range.\n     * Some easing functions (such as elastic easing) can overshoot the target value by some amount.\n     * So, when animating colors, if the source or target color components are already near\n     * or at the edge of the allowed [0, 1] range, it is possible for the intermediate color\n     * component value to end up outside of that range mid-animation. For this reason the constructor\n     * performs range checking/constraining.\n     * @param r Red component.\n     * @param g Green component.\n     * @param b Blue component.\n     * @param a Alpha (opacity) component.\n     */\n    constructor(r, g, b, a = 1) {\n        // NaN is treated as 0.\n        this.r = Math.min(1, Math.max(0, r || 0));\n        this.g = Math.min(1, Math.max(0, g || 0));\n        this.b = Math.min(1, Math.max(0, b || 0));\n        this.a = Math.min(1, Math.max(0, a || 0));\n    }\n    /**\n     * A color string can be in one of the following formats to be valid:\n     * - #rgb\n     * - #rrggbb\n     * - rgb(r, g, b)\n     * - rgba(r, g, b, a)\n     * - CSS color name such as 'white', 'orange', 'cyan', etc.\n     */\n    static validColorString(str) {\n        if (str.indexOf('#') >= 0) {\n            return !!Color.parseHex(str);\n        }\n        if (str.indexOf('rgb') >= 0) {\n            return !!Color.stringToRgba(str);\n        }\n        return !!Color.nameToHex[str.toLowerCase()];\n    }\n    /**\n     * The given string can be in one of the following formats:\n     * - #rgb\n     * - #rrggbb\n     * - rgb(r, g, b)\n     * - rgba(r, g, b, a)\n     * - CSS color name such as 'white', 'orange', 'cyan', etc.\n     * @param str\n     */\n    static fromString(str) {\n        // hexadecimal notation\n        if (str.indexOf('#') >= 0) {\n            // there can be some leading whitespace\n            return Color.fromHexString(str);\n        }\n        // color name\n        const hex = Color.nameToHex[str.toLowerCase()];\n        if (hex) {\n            return Color.fromHexString(hex);\n        }\n        // rgb(a) notation\n        if (str.indexOf('rgb') >= 0) {\n            return Color.fromRgbaString(str);\n        }\n        throw new Error(`Invalid color string: '${str}'`);\n    }\n    static tryParseFromString(str) {\n        try {\n            return Color.fromString(str);\n        }\n        catch (e) {\n            Logger.warnOnce(`invalid color string: '${str}'.`);\n            return Color.fromArray([0, 0, 0]);\n        }\n    }\n    // See https://drafts.csswg.org/css-color/#hex-notation\n    static parseHex(input) {\n        input = input.replace(/ /g, '').slice(1);\n        let parts;\n        switch (input.length) {\n            case 6:\n            case 8:\n                parts = [];\n                for (let i = 0; i < input.length; i += 2) {\n                    parts.push(parseInt(`${input[i]}${input[i + 1]}`, 16));\n                }\n                break;\n            case 3:\n            case 4:\n                parts = input\n                    .split('')\n                    .map((p) => parseInt(p, 16))\n                    .map((p) => p + p * 16);\n                break;\n        }\n        if ((parts === null || parts === void 0 ? void 0 : parts.length) >= 3) {\n            if (parts.every((p) => p >= 0)) {\n                if (parts.length === 3) {\n                    parts.push(255);\n                }\n                return parts;\n            }\n        }\n    }\n    static fromHexString(str) {\n        const values = Color.parseHex(str);\n        if (values) {\n            const [r, g, b, a] = values;\n            return new Color(r / 255, g / 255, b / 255, a / 255);\n        }\n        throw new Error(`Malformed hexadecimal color string: '${str}'`);\n    }\n    static stringToRgba(str) {\n        // Find positions of opening and closing parentheses.\n        let [po, pc] = [NaN, NaN];\n        for (let i = 0; i < str.length; i++) {\n            const c = str[i];\n            if (!po && c === '(') {\n                po = i;\n            }\n            else if (c === ')') {\n                pc = i;\n                break;\n            }\n        }\n        const contents = po && pc && str.substring(po + 1, pc);\n        if (!contents) {\n            return;\n        }\n        const parts = contents.split(',');\n        const rgba = [];\n        for (let i = 0; i < parts.length; i++) {\n            const part = parts[i];\n            let value = parseFloat(part);\n            if (isNaN(value)) {\n                return;\n            }\n            if (part.indexOf('%') >= 0) {\n                // percentage r, g, or b value\n                value = Math.max(0, Math.min(100, value));\n                value /= 100;\n            }\n            else {\n                if (i === 3) {\n                    // alpha component\n                    value = Math.max(0, Math.min(1, value));\n                }\n                else {\n                    // absolute r, g, or b value\n                    value = Math.max(0, Math.min(255, value));\n                    value /= 255;\n                }\n            }\n            rgba.push(value);\n        }\n        return rgba;\n    }\n    static fromRgbaString(str) {\n        const rgba = Color.stringToRgba(str);\n        if (rgba) {\n            if (rgba.length === 3) {\n                return new Color(rgba[0], rgba[1], rgba[2]);\n            }\n            else if (rgba.length === 4) {\n                return new Color(rgba[0], rgba[1], rgba[2], rgba[3]);\n            }\n        }\n        throw new Error(`Malformed rgb/rgba color string: '${str}'`);\n    }\n    static fromArray(arr) {\n        if (arr.length === 4) {\n            return new Color(arr[0], arr[1], arr[2], arr[3]);\n        }\n        if (arr.length === 3) {\n            return new Color(arr[0], arr[1], arr[2]);\n        }\n        throw new Error('The given array should contain 3 or 4 color components (numbers).');\n    }\n    static fromHSB(h, s, b, alpha = 1) {\n        const rgb = Color.HSBtoRGB(h, s, b);\n        return new Color(rgb[0], rgb[1], rgb[2], alpha);\n    }\n    static padHex(str) {\n        // Can't use `padStart(2, '0')` here because of IE.\n        return str.length === 1 ? '0' + str : str;\n    }\n    toHexString() {\n        let hex = '#' +\n            Color.padHex(Math.round(this.r * 255).toString(16)) +\n            Color.padHex(Math.round(this.g * 255).toString(16)) +\n            Color.padHex(Math.round(this.b * 255).toString(16));\n        if (this.a < 1) {\n            hex += Color.padHex(Math.round(this.a * 255).toString(16));\n        }\n        return hex;\n    }\n    toRgbaString(fractionDigits = 3) {\n        const components = [Math.round(this.r * 255), Math.round(this.g * 255), Math.round(this.b * 255)];\n        const k = Math.pow(10, fractionDigits);\n        if (this.a !== 1) {\n            components.push(Math.round(this.a * k) / k);\n            return `rgba(${components.join(', ')})`;\n        }\n        return `rgb(${components.join(', ')})`;\n    }\n    toString() {\n        if (this.a === 1) {\n            return this.toHexString();\n        }\n        return this.toRgbaString();\n    }\n    toHSB() {\n        return Color.RGBtoHSB(this.r, this.g, this.b);\n    }\n    /**\n     * Converts the given RGB triple to an array of HSB (HSV) components.\n     * The hue component will be `NaN` for achromatic colors.\n     */\n    static RGBtoHSB(r, g, b) {\n        const min = Math.min(r, g, b);\n        const max = Math.max(r, g, b);\n        const S = max !== 0 ? (max - min) / max : 0;\n        let H = NaN;\n        // min == max, means all components are the same\n        // and the color is a shade of gray with no hue (H is NaN)\n        if (min !== max) {\n            const delta = max - min;\n            const rc = (max - r) / delta;\n            const gc = (max - g) / delta;\n            const bc = (max - b) / delta;\n            if (r === max) {\n                H = bc - gc;\n            }\n            else if (g === max) {\n                H = 2.0 + rc - bc;\n            }\n            else {\n                H = 4.0 + gc - rc;\n            }\n            H /= 6.0;\n            if (H < 0) {\n                H = H + 1.0;\n            }\n        }\n        return [H * 360, S, max];\n    }\n    /**\n     * Converts the given HSB (HSV) triple to an array of RGB components.\n     */\n    static HSBtoRGB(H, S, B) {\n        if (isNaN(H)) {\n            H = 0;\n        }\n        H = (((H % 360) + 360) % 360) / 360; // normalize hue to [0, 360] interval, then scale to [0, 1]\n        let r = 0;\n        let g = 0;\n        let b = 0;\n        if (S === 0) {\n            r = g = b = B;\n        }\n        else {\n            const h = (H - Math.floor(H)) * 6;\n            const f = h - Math.floor(h);\n            const p = B * (1 - S);\n            const q = B * (1 - S * f);\n            const t = B * (1 - S * (1 - f));\n            switch (h >> 0 // discard the floating point part of the number\n            ) {\n                case 0:\n                    r = B;\n                    g = t;\n                    b = p;\n                    break;\n                case 1:\n                    r = q;\n                    g = B;\n                    b = p;\n                    break;\n                case 2:\n                    r = p;\n                    g = B;\n                    b = t;\n                    break;\n                case 3:\n                    r = p;\n                    g = q;\n                    b = B;\n                    break;\n                case 4:\n                    r = t;\n                    g = p;\n                    b = B;\n                    break;\n                case 5:\n                    r = B;\n                    g = p;\n                    b = q;\n                    break;\n            }\n        }\n        return [r, g, b];\n    }\n    derive(hueShift, saturationFactor, brightnessFactor, opacityFactor) {\n        const hsb = Color.RGBtoHSB(this.r, this.g, this.b);\n        let b = hsb[2];\n        if (b == 0 && brightnessFactor > 1.0) {\n            b = 0.05;\n        }\n        const h = (((hsb[0] + hueShift) % 360) + 360) % 360;\n        const s = Math.max(Math.min(hsb[1] * saturationFactor, 1.0), 0.0);\n        b = Math.max(Math.min(b * brightnessFactor, 1.0), 0.0);\n        const a = Math.max(Math.min(this.a * opacityFactor, 1.0), 0.0);\n        const rgba = Color.HSBtoRGB(h, s, b);\n        rgba.push(a);\n        return Color.fromArray(rgba);\n    }\n    brighter() {\n        return this.derive(0, 1.0, 1.0 / 0.7, 1.0);\n    }\n    darker() {\n        return this.derive(0, 1.0, 0.7, 1.0);\n    }\n    static interpolate(color, other) {\n        const c0 = Color.tryParseFromString(color);\n        const c1 = Color.tryParseFromString(other);\n        return (t) => {\n            const i = (x, y) => x * (1 - t) + y * t;\n            const c = new Color(i(c0.r, c1.r), i(c0.g, c1.g), i(c0.b, c1.b), i(c0.a, c1.a));\n            return c.toString();\n        };\n    }\n}\n/**\n * CSS Color Module Level 4:\n * https://drafts.csswg.org/css-color/#named-colors\n */\nColor.nameToHex = Object.freeze({\n    aliceblue: '#F0F8FF',\n    antiquewhite: '#FAEBD7',\n    aqua: '#00FFFF',\n    aquamarine: '#7FFFD4',\n    azure: '#F0FFFF',\n    beige: '#F5F5DC',\n    bisque: '#FFE4C4',\n    black: '#000000',\n    blanchedalmond: '#FFEBCD',\n    blue: '#0000FF',\n    blueviolet: '#8A2BE2',\n    brown: '#A52A2A',\n    burlywood: '#DEB887',\n    cadetblue: '#5F9EA0',\n    chartreuse: '#7FFF00',\n    chocolate: '#D2691E',\n    coral: '#FF7F50',\n    cornflowerblue: '#6495ED',\n    cornsilk: '#FFF8DC',\n    crimson: '#DC143C',\n    cyan: '#00FFFF',\n    darkblue: '#00008B',\n    darkcyan: '#008B8B',\n    darkgoldenrod: '#B8860B',\n    darkgray: '#A9A9A9',\n    darkgreen: '#006400',\n    darkgrey: '#A9A9A9',\n    darkkhaki: '#BDB76B',\n    darkmagenta: '#8B008B',\n    darkolivegreen: '#556B2F',\n    darkorange: '#FF8C00',\n    darkorchid: '#9932CC',\n    darkred: '#8B0000',\n    darksalmon: '#E9967A',\n    darkseagreen: '#8FBC8F',\n    darkslateblue: '#483D8B',\n    darkslategray: '#2F4F4F',\n    darkslategrey: '#2F4F4F',\n    darkturquoise: '#00CED1',\n    darkviolet: '#9400D3',\n    deeppink: '#FF1493',\n    deepskyblue: '#00BFFF',\n    dimgray: '#696969',\n    dimgrey: '#696969',\n    dodgerblue: '#1E90FF',\n    firebrick: '#B22222',\n    floralwhite: '#FFFAF0',\n    forestgreen: '#228B22',\n    fuchsia: '#FF00FF',\n    gainsboro: '#DCDCDC',\n    ghostwhite: '#F8F8FF',\n    gold: '#FFD700',\n    goldenrod: '#DAA520',\n    gray: '#808080',\n    green: '#008000',\n    greenyellow: '#ADFF2F',\n    grey: '#808080',\n    honeydew: '#F0FFF0',\n    hotpink: '#FF69B4',\n    indianred: '#CD5C5C',\n    indigo: '#4B0082',\n    ivory: '#FFFFF0',\n    khaki: '#F0E68C',\n    lavender: '#E6E6FA',\n    lavenderblush: '#FFF0F5',\n    lawngreen: '#7CFC00',\n    lemonchiffon: '#FFFACD',\n    lightblue: '#ADD8E6',\n    lightcoral: '#F08080',\n    lightcyan: '#E0FFFF',\n    lightgoldenrodyellow: '#FAFAD2',\n    lightgray: '#D3D3D3',\n    lightgreen: '#90EE90',\n    lightgrey: '#D3D3D3',\n    lightpink: '#FFB6C1',\n    lightsalmon: '#FFA07A',\n    lightseagreen: '#20B2AA',\n    lightskyblue: '#87CEFA',\n    lightslategray: '#778899',\n    lightslategrey: '#778899',\n    lightsteelblue: '#B0C4DE',\n    lightyellow: '#FFFFE0',\n    lime: '#00FF00',\n    limegreen: '#32CD32',\n    linen: '#FAF0E6',\n    magenta: '#FF00FF',\n    maroon: '#800000',\n    mediumaquamarine: '#66CDAA',\n    mediumblue: '#0000CD',\n    mediumorchid: '#BA55D3',\n    mediumpurple: '#9370DB',\n    mediumseagreen: '#3CB371',\n    mediumslateblue: '#7B68EE',\n    mediumspringgreen: '#00FA9A',\n    mediumturquoise: '#48D1CC',\n    mediumvioletred: '#C71585',\n    midnightblue: '#191970',\n    mintcream: '#F5FFFA',\n    mistyrose: '#FFE4E1',\n    moccasin: '#FFE4B5',\n    navajowhite: '#FFDEAD',\n    navy: '#000080',\n    oldlace: '#FDF5E6',\n    olive: '#808000',\n    olivedrab: '#6B8E23',\n    orange: '#FFA500',\n    orangered: '#FF4500',\n    orchid: '#DA70D6',\n    palegoldenrod: '#EEE8AA',\n    palegreen: '#98FB98',\n    paleturquoise: '#AFEEEE',\n    palevioletred: '#DB7093',\n    papayawhip: '#FFEFD5',\n    peachpuff: '#FFDAB9',\n    peru: '#CD853F',\n    pink: '#FFC0CB',\n    plum: '#DDA0DD',\n    powderblue: '#B0E0E6',\n    purple: '#800080',\n    rebeccapurple: '#663399',\n    red: '#FF0000',\n    rosybrown: '#BC8F8F',\n    royalblue: '#4169E1',\n    saddlebrown: '#8B4513',\n    salmon: '#FA8072',\n    sandybrown: '#F4A460',\n    seagreen: '#2E8B57',\n    seashell: '#FFF5EE',\n    sienna: '#A0522D',\n    silver: '#C0C0C0',\n    skyblue: '#87CEEB',\n    slateblue: '#6A5ACD',\n    slategray: '#708090',\n    slategrey: '#708090',\n    snow: '#FFFAFA',\n    springgreen: '#00FF7F',\n    steelblue: '#4682B4',\n    tan: '#D2B48C',\n    teal: '#008080',\n    thistle: '#D8BFD8',\n    tomato: '#FF6347',\n    transparent: '#00000000',\n    turquoise: '#40E0D0',\n    violet: '#EE82EE',\n    wheat: '#F5DEB3',\n    white: '#FFFFFF',\n    whitesmoke: '#F5F5F5',\n    yellow: '#FFFF00',\n    yellowgreen: '#9ACD32',\n});\n","export const BREAK_TRANSFORM_CHAIN = Symbol('BREAK');\nconst CONFIG_KEY = '__decorator_config';\nfunction initialiseConfig(target, propertyKeyOrSymbol, propertyKey, valueStoreKey) {\n    if (Object.getOwnPropertyDescriptor(target, CONFIG_KEY) == null) {\n        Object.defineProperty(target, CONFIG_KEY, { value: {} });\n    }\n    const config = target[CONFIG_KEY];\n    if (config[propertyKey] != null) {\n        return config[propertyKey];\n    }\n    config[propertyKey] = { setters: [], getters: [] };\n    const descriptor = Object.getOwnPropertyDescriptor(target, propertyKeyOrSymbol);\n    const prevSet = descriptor === null || descriptor === void 0 ? void 0 : descriptor.set;\n    const prevGet = descriptor === null || descriptor === void 0 ? void 0 : descriptor.get;\n    const getter = function () {\n        var _a, _b;\n        let value = prevGet ? prevGet.call(this) : this[valueStoreKey];\n        for (const transformFn of (_b = (_a = config[propertyKey]) === null || _a === void 0 ? void 0 : _a.getters) !== null && _b !== void 0 ? _b : []) {\n            value = transformFn(this, propertyKeyOrSymbol, value);\n            if (value === BREAK_TRANSFORM_CHAIN) {\n                return undefined;\n            }\n        }\n        return value;\n    };\n    const setter = function (value) {\n        var _a, _b;\n        const setters = (_b = (_a = config[propertyKey]) === null || _a === void 0 ? void 0 : _a.setters) !== null && _b !== void 0 ? _b : [];\n        let oldValue;\n        if (setters.some((f) => f.length > 2)) {\n            // Lazily retrieve old value.\n            oldValue = prevGet ? prevGet.call(this) : this[valueStoreKey];\n        }\n        for (const transformFn of setters) {\n            value = transformFn(this, propertyKeyOrSymbol, value, oldValue);\n            if (value === BREAK_TRANSFORM_CHAIN) {\n                return;\n            }\n        }\n        if (prevSet) {\n            prevSet.call(this, value);\n        }\n        else {\n            this[valueStoreKey] = value;\n        }\n    };\n    Object.defineProperty(target, propertyKeyOrSymbol, {\n        set: setter,\n        get: getter,\n        enumerable: true,\n        configurable: false,\n    });\n    return config[propertyKey];\n}\nexport function addTransformToInstanceProperty(setTransform, getTransform) {\n    return (target, propertyKeyOrSymbol) => {\n        const propertyKey = propertyKeyOrSymbol.toString();\n        const valueStoreKey = `__${propertyKey}`;\n        const { getters, setters } = initialiseConfig(target, propertyKeyOrSymbol, propertyKey, valueStoreKey);\n        setters.push(setTransform);\n        if (getTransform) {\n            getters.splice(0, 0, getTransform);\n        }\n    };\n}\n","import { Color } from './color.mjs';\nimport { addTransformToInstanceProperty, BREAK_TRANSFORM_CHAIN } from './decorator.mjs';\nimport { Logger } from './logger.mjs';\nexport function Validate(predicate) {\n    return addTransformToInstanceProperty((target, prop, v) => {\n        var _a, _b, _c;\n        if (predicate(v, { target })) {\n            return v;\n        }\n        const cleanKey = prop.toString().replace(/^_*/, '');\n        let targetClass = (_b = (_a = target.constructor) === null || _a === void 0 ? void 0 : _a.className) !== null && _b !== void 0 ? _b : (_c = target.constructor) === null || _c === void 0 ? void 0 : _c.name;\n        if ((targetClass === null || targetClass === void 0 ? void 0 : targetClass.length) < 3) {\n            targetClass = null;\n        }\n        const targetClassName = targetClass ? `of [${targetClass}] ` : '';\n        if (predicate.message) {\n            Logger.warn(`Property [${cleanKey}] ${targetClassName}cannot be set to [${JSON.stringify(v)}]; ${predicate.message}, ignoring.`);\n        }\n        else {\n            Logger.warn(`Property [${cleanKey}] ${targetClassName}cannot be set to [${JSON.stringify(v)}], ignoring.`);\n        }\n        return BREAK_TRANSFORM_CHAIN;\n    });\n}\nexport function predicateWithMessage(predicate, message) {\n    predicate.message = message;\n    return predicate;\n}\nexport const OPTIONAL = (v, ctx, predicate) => v === undefined || predicate(v, ctx);\nexport const ARRAY = (length, predicate) => {\n    return predicateWithMessage((v, ctx) => Array.isArray(v) &&\n        (length ? v.length === length : true) &&\n        (predicate ? v.every((e) => predicate(e, ctx)) : true), `expecting an Array`);\n};\nexport const OPT_ARRAY = (length) => {\n    return predicateWithMessage((v, ctx) => OPTIONAL(v, ctx, ARRAY(length)), 'expecting an optional Array');\n};\nexport const AND = (...predicates) => {\n    return predicateWithMessage((v, ctx) => predicates.every((p) => p(v, ctx)), predicates\n        .map((p) => p.message)\n        .filter((m) => m != null)\n        .join(' AND '));\n};\nexport const OR = (...predicates) => {\n    return predicateWithMessage((v, ctx) => predicates.some((p) => p(v, ctx)), predicates\n        .map((p) => p.message)\n        .filter((m) => m != null)\n        .join(' OR '));\n};\nconst isComparable = (v) => {\n    return v != null && !isNaN(v);\n};\nexport const LESS_THAN = (otherField) => predicateWithMessage((v, ctx) => !isComparable(v) || !isComparable(ctx.target[otherField]) || v < ctx.target[otherField], `expected to be less than ${otherField}`);\nexport const GREATER_THAN = (otherField) => predicateWithMessage((v, ctx) => !isComparable(v) || !isComparable(ctx.target[otherField]) || v > ctx.target[otherField], `expected to be greater than ${otherField}`);\nexport const FUNCTION = predicateWithMessage((v) => typeof v === 'function', 'expecting a Function');\nexport const OPT_FUNCTION = predicateWithMessage((v, ctx) => OPTIONAL(v, ctx, FUNCTION), `expecting an optional Function`);\nexport const BOOLEAN = predicateWithMessage((v) => v === true || v === false, 'expecting a Boolean');\nexport const OPT_BOOLEAN = predicateWithMessage((v, ctx) => OPTIONAL(v, ctx, BOOLEAN), 'expecting an optional Boolean');\nexport const STRING = predicateWithMessage((v) => typeof v === 'string', 'expecting a String');\nexport const OPT_STRING = predicateWithMessage((v, ctx) => OPTIONAL(v, ctx, STRING), 'expecting an optional String');\nexport const DATE = predicateWithMessage((v) => v instanceof Date && !isNaN(+v), 'expecting a Date object');\nexport const OPT_DATE = predicateWithMessage((v, ctx) => OPTIONAL(v, ctx, DATE), 'expecting an optional Date');\nexport const DATE_ARRAY = predicateWithMessage(ARRAY(undefined, DATE), 'expecting an Array of Date objects');\nexport const DATETIME_MS = NUMBER(0);\nexport const OPT_DATETIME_MS = predicateWithMessage((v, ctx) => OPTIONAL(v, ctx, DATETIME_MS), 'expecting an optional number');\nexport const OPT_DATE_OR_DATETIME_MS = OR(OPT_DATE, OPT_DATETIME_MS);\nconst colorMessage = `A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc`;\nexport const COLOR_STRING = predicateWithMessage((v) => {\n    if (typeof v !== 'string') {\n        return false;\n    }\n    return Color.validColorString(v);\n}, `expecting a color String. ${colorMessage}`);\nexport const OPT_COLOR_STRING = predicateWithMessage((v, ctx) => OPTIONAL(v, ctx, COLOR_STRING), `expecting an optional color String. ${colorMessage}`);\nexport const COLOR_STRING_ARRAY = predicateWithMessage(ARRAY(undefined, COLOR_STRING), `expecting an Array of color strings. ${colorMessage}`);\nexport const OPT_COLOR_STRING_ARRAY = predicateWithMessage((v, ctx) => OPTIONAL(v, ctx, COLOR_STRING_ARRAY), `expecting an optional Array of color strings. ${colorMessage}`);\nexport function NUMBER(min, max) {\n    const message = `expecting a finite Number${(min !== undefined ? ', more than or equal to ' + min : '') +\n        (max !== undefined ? ', less than or equal to ' + max : '')}`;\n    return predicateWithMessage((v) => typeof v === 'number' &&\n        Number.isFinite(v) &&\n        (min !== undefined ? v >= min : true) &&\n        (max !== undefined ? v <= max : true), message);\n}\nexport function OPT_NUMBER(min, max) {\n    const message = `expecting an optional finite Number${(min !== undefined ? ', more than or equal to ' + min : '') +\n        (max !== undefined ? ', less than or equal to ' + max : '')}`;\n    return predicateWithMessage((v, ctx) => OPTIONAL(v, ctx, NUMBER(min, max)), message);\n}\nexport function NUMBER_OR_NAN(min, max) {\n    // Can be NaN or finite number\n    const message = `expecting a finite Number${(min !== undefined ? ', more than or equal to ' + min : '') +\n        (max !== undefined ? ', less than or equal to ' + max : '')}`;\n    return predicateWithMessage((v) => typeof v === 'number' &&\n        (isNaN(v) ||\n            (Number.isFinite(v) && (min !== undefined ? v >= min : true) && (max !== undefined ? v <= max : true))), message);\n}\nexport const NUMBER_ARRAY = predicateWithMessage(ARRAY(undefined, NUMBER()), 'expecting an Array of numbers');\nexport const OPT_NUMBER_ARRAY = predicateWithMessage((v, ctx) => OPTIONAL(v, ctx, NUMBER_ARRAY), 'expecting an optional Array of numbers');\nexport const STRING_ARRAY = predicateWithMessage(ARRAY(undefined, STRING), 'expecting an Array of strings');\nexport const OPT_STRING_ARRAY = predicateWithMessage((v, ctx) => OPTIONAL(v, ctx, STRING_ARRAY), 'expecting an optional Array of strings');\nexport function STRING_UNION(...values) {\n    const message = `expecting one of: ${values.join(', ')}`;\n    return predicateWithMessage((v) => typeof v === 'string' && values.indexOf(v) >= 0, message);\n}\nexport const BOOLEAN_ARRAY = predicateWithMessage(ARRAY(undefined, BOOLEAN), 'expecting an Array of boolean values');\nexport const OPT_BOOLEAN_ARRAY = predicateWithMessage((v, ctx) => OPTIONAL(v, ctx, BOOLEAN_ARRAY), 'expecting an optional Array of boolean values');\nconst FONT_WEIGHTS = [\n    'normal',\n    'bold',\n    'bolder',\n    'lighter',\n    '100',\n    '200',\n    '300',\n    '400',\n    '500',\n    '600',\n    '700',\n    '800',\n    '900',\n];\nexport const FONT_STYLE = predicateWithMessage((v) => v === 'normal' || v === 'italic' || v === 'oblique', `expecting a font style keyword such as 'normal', 'italic' or 'oblique'`);\nexport const OPT_FONT_STYLE = predicateWithMessage((v, ctx) => OPTIONAL(v, ctx, FONT_STYLE), `expecting an optional font style keyword such as 'normal', 'italic' or 'oblique'`);\nexport const FONT_WEIGHT = predicateWithMessage((v) => FONT_WEIGHTS.includes(v), `expecting a font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600`);\nexport const OPT_FONT_WEIGHT = predicateWithMessage((v, ctx) => OPTIONAL(v, ctx, FONT_WEIGHT), `expecting an optional font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600`);\nexport const LINE_DASH = predicateWithMessage(ARRAY(undefined, NUMBER(0)), 'expecting an Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels.');\nexport const OPT_LINE_DASH = predicateWithMessage((v, ctx) => OPTIONAL(v, ctx, LINE_DASH), 'expecting an optional Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels.');\nconst LINE_CAPS = ['butt', 'round', 'square'];\nexport const LINE_CAP = predicateWithMessage((v) => LINE_CAPS.includes(v), `expecting a line cap keyword such as 'butt', 'round' or 'square'`);\nexport const OPT_LINE_CAP = predicateWithMessage((v, ctx) => OPTIONAL(v, ctx, LINE_CAP), `expecting an optional line cap keyword such as 'butt', 'round' or 'square'`);\nconst LINE_JOINS = ['round', 'bevel', 'miter'];\nexport const LINE_JOIN = predicateWithMessage((v) => LINE_JOINS.includes(v), `expecting a line join keyword such as 'round', 'bevel' or 'miter'`);\nexport const OPT_LINE_JOIN = predicateWithMessage((v, ctx) => OPTIONAL(v, ctx, LINE_JOIN), `expecting an optional line join keyword such as 'round', 'bevel' or 'miter'`);\nconst POSITIONS = ['top', 'right', 'bottom', 'left'];\nexport const POSITION = predicateWithMessage((v) => POSITIONS.includes(v), `expecting a position keyword such as 'top', 'right', 'bottom' or 'left`);\nconst INTERACTION_RANGES = ['exact', 'nearest'];\nexport const INTERACTION_RANGE = predicateWithMessage((v) => (typeof v === 'number' && Number.isFinite(v)) || INTERACTION_RANGES.includes(v), `expecting an interaction range of 'exact', 'nearest' or a number`);\nconst TEXT_WRAPS = ['never', 'always', 'hyphenate', 'on-space'];\nexport const TEXT_WRAP = predicateWithMessage((v) => TEXT_WRAPS.includes(v), `expecting a text wrap strategy keyword such as 'never', 'always', 'hyphenate', 'on-space'`);\n","/**\n * Constants to declare the expected nominal zIndex for all types of layer in chart rendering.\n */\nexport var Layers;\n(function (Layers) {\n    Layers[Layers[\"SERIES_BACKGROUND_ZINDEX\"] = -10] = \"SERIES_BACKGROUND_ZINDEX\";\n    Layers[Layers[\"AXIS_GRID_ZINDEX\"] = 0] = \"AXIS_GRID_ZINDEX\";\n    Layers[Layers[\"AXIS_ZINDEX\"] = 20] = \"AXIS_ZINDEX\";\n    Layers[Layers[\"SERIES_CROSSLINE_RANGE_ZINDEX\"] = 30] = \"SERIES_CROSSLINE_RANGE_ZINDEX\";\n    Layers[Layers[\"SERIES_LAYER_ZINDEX\"] = 500] = \"SERIES_LAYER_ZINDEX\";\n    Layers[Layers[\"SERIES_CROSSHAIR_ZINDEX\"] = 1000] = \"SERIES_CROSSHAIR_ZINDEX\";\n    Layers[Layers[\"SERIES_LABEL_ZINDEX\"] = 1500] = \"SERIES_LABEL_ZINDEX\";\n    Layers[Layers[\"SERIES_CROSSLINE_LINE_ZINDEX\"] = 2500] = \"SERIES_CROSSLINE_LINE_ZINDEX\";\n    Layers[Layers[\"LEGEND_ZINDEX\"] = 3000] = \"LEGEND_ZINDEX\";\n})(Layers || (Layers = {}));\n","export var ChartAxisDirection;\n(function (ChartAxisDirection) {\n    ChartAxisDirection[\"X\"] = \"x\";\n    ChartAxisDirection[\"Y\"] = \"y\";\n})(ChartAxisDirection || (ChartAxisDirection = {}));\n","export function extendDomain(values, domain = [Infinity, -Infinity]) {\n    for (const value of values) {\n        if (typeof value !== 'number') {\n            continue;\n        }\n        if (value < domain[0]) {\n            domain[0] = value;\n        }\n        if (value > domain[1]) {\n            domain[1] = value;\n        }\n    }\n    return domain;\n}\n","import { Logger } from '../../util/logger.mjs';\nimport { isNumber } from '../../util/value.mjs';\nimport { windowValue } from '../../util/window.mjs';\nimport { extendDomain } from './utilFunctions.mjs';\nfunction toKeyString(keys) {\n    return keys\n        .map((v) => {\n        if (v == null) {\n            return v;\n        }\n        else if (typeof v === 'number' || typeof v === 'string' || typeof v === 'boolean') {\n            return v;\n        }\n        else if (typeof v === 'object') {\n            return JSON.stringify(v);\n        }\n        return v;\n    })\n        .join('-');\n}\nfunction round(val) {\n    const accuracy = 10000;\n    if (Number.isInteger(val)) {\n        return val;\n    }\n    else if (Math.abs(val) > accuracy) {\n        return Math.trunc(val);\n    }\n    return Math.round(val * accuracy) / accuracy;\n}\nexport function fixNumericExtent(extent) {\n    if (extent === undefined) {\n        // Don't return a range, there is no range.\n        return [];\n    }\n    let [min, max] = extent;\n    min = +min;\n    max = +max;\n    if (min === 0 && max === 0) {\n        // domain has zero length and the single valid value is 0. Use the default of [0, 1].\n        return [0, 1];\n    }\n    if (min === Infinity && max === -Infinity) {\n        // There's no data in the domain.\n        return [];\n    }\n    if (min === Infinity) {\n        min = 0;\n    }\n    if (max === -Infinity) {\n        max = 0;\n    }\n    if (!(isNumber(min) && isNumber(max))) {\n        return [];\n    }\n    return [min, max];\n}\nconst INVALID_VALUE = Symbol('invalid');\nexport class DataModel {\n    constructor(opts) {\n        var _a;\n        const { props } = opts;\n        // Validate that keys appear before values in the definitions, as output ordering depends\n        // on configuration ordering, but we process keys before values.\n        let keys = true;\n        for (const next of props) {\n            if (next.type === 'key' && !keys) {\n                throw new Error('AG Charts - internal config error: keys must come before values.');\n            }\n            if (next.type === 'value' && keys) {\n                keys = false;\n            }\n        }\n        this.opts = Object.assign({ dataVisible: true }, opts);\n        this.keys = props\n            .filter((def) => def.type === 'key')\n            .map((def, index) => (Object.assign(Object.assign({}, def), { index, missing: false })));\n        this.values = props\n            .filter((def) => def.type === 'value')\n            .map((def, index) => (Object.assign(Object.assign({}, def), { index, missing: false })));\n        this.aggregates = props.filter((def) => def.type === 'aggregate');\n        this.groupProcessors = props.filter((def) => def.type === 'group-value-processor');\n        this.propertyProcessors = props.filter((def) => def.type === 'property-value-processor');\n        this.reducers = props.filter((def) => def.type === 'reducer');\n        this.processors = props.filter((def) => def.type === 'processor');\n        for (const { properties } of (_a = this.aggregates) !== null && _a !== void 0 ? _a : []) {\n            if (properties.length === 0)\n                continue;\n            for (const property of properties) {\n                if (typeof property === 'string' && !this.values.some((def) => def.property === property)) {\n                    throw new Error(`AG Charts - internal config error: aggregate properties must match defined properties (${properties}).`);\n                }\n                if (typeof property !== 'string' && !this.values.some((def) => def.id === property.id)) {\n                    throw new Error(`AG Charts - internal config error: aggregate properties must match defined properties (${properties}).`);\n                }\n            }\n        }\n    }\n    resolveProcessedDataIndexById(searchId) {\n        const { keys, values } = this;\n        const def = [...keys, ...values].find(({ id }) => id === searchId);\n        if (!def)\n            return undefined;\n        if ((def === null || def === void 0 ? void 0 : def.type) === 'key' || (def === null || def === void 0 ? void 0 : def.type) === 'value') {\n            return { type: def.type, index: def.index };\n        }\n    }\n    resolveProcessedDataDefById(searchId) {\n        const { keys, values } = this;\n        const def = [...keys, ...values].find(({ id }) => id === searchId);\n        if (!def)\n            return undefined;\n        return def;\n    }\n    getDomain(searchId, processedData) {\n        const idx = this.resolveProcessedDataIndexById(searchId);\n        if (!idx) {\n            return [];\n        }\n        return processedData.domain[idx.type === 'key' ? 'keys' : 'values'][idx.index];\n    }\n    processData(data) {\n        const { opts: { groupByKeys, groupByFn }, aggregates, groupProcessors, reducers, processors, propertyProcessors, } = this;\n        const start = performance.now();\n        for (const def of [...this.keys, ...this.values]) {\n            def.missing = false;\n        }\n        if (groupByKeys && this.keys.length === 0) {\n            return undefined;\n        }\n        let processedData = this.extractData(data);\n        if (groupByKeys) {\n            processedData = this.groupData(processedData);\n        }\n        else if (groupByFn) {\n            processedData = this.groupData(processedData, groupByFn(processedData));\n        }\n        if (groupProcessors.length > 0) {\n            this.postProcessGroups(processedData);\n        }\n        if (aggregates.length > 0) {\n            this.aggregateData(processedData);\n        }\n        if (propertyProcessors.length > 0) {\n            this.postProcessProperties(processedData);\n        }\n        if (reducers.length > 0) {\n            this.reduceData(processedData);\n        }\n        if (processors.length > 0) {\n            this.postProcessData(processedData);\n        }\n        for (const def of [...this.keys, ...this.values]) {\n            if (def.missing) {\n                Logger.warnOnce(`the key '${def.property}' was not found in at least one data element.`);\n            }\n        }\n        const end = performance.now();\n        processedData.time = end - start;\n        if (DataModel.DEBUG()) {\n            logProcessedData(processedData);\n        }\n        return processedData;\n    }\n    valueIdxLookup(prop) {\n        let result;\n        if (typeof prop === 'string') {\n            result = this.values.findIndex((def) => def.property === prop);\n        }\n        else {\n            result = this.values.findIndex((def) => def.id === prop.id);\n        }\n        if (result >= 0) {\n            return result;\n        }\n        throw new Error('AG Charts - configuration error, unknown property: ' + prop);\n    }\n    extractData(data) {\n        const { keys: keyDefs, values: valueDefs, opts: { dataVisible }, } = this;\n        const { dataDomain, processValue } = this.initDataDomainProcessor();\n        const resultData = new Array(dataVisible ? data.length : 0);\n        let resultDataIdx = 0;\n        for (const datum of data) {\n            const keys = dataVisible ? new Array(keyDefs.length) : undefined;\n            let keyIdx = 0;\n            let key;\n            for (const def of keyDefs) {\n                key = processValue(def, datum, key);\n                if (key === INVALID_VALUE)\n                    break;\n                if (keys) {\n                    keys[keyIdx++] = key;\n                }\n            }\n            if (key === INVALID_VALUE)\n                continue;\n            const values = dataVisible && valueDefs.length > 0 ? new Array(valueDefs.length) : undefined;\n            let valueIdx = 0;\n            let value;\n            for (const def of valueDefs) {\n                value = processValue(def, datum, value);\n                if (value === INVALID_VALUE)\n                    break;\n                if (values) {\n                    values[valueIdx++] = value;\n                }\n            }\n            if (value === INVALID_VALUE)\n                continue;\n            if (dataVisible) {\n                resultData[resultDataIdx++] = {\n                    datum,\n                    keys,\n                    values,\n                };\n            }\n        }\n        resultData.length = resultDataIdx;\n        const propertyDomain = (def) => {\n            var _a;\n            const result = dataDomain.get((_a = def.id) !== null && _a !== void 0 ? _a : def.property).domain;\n            if (Array.isArray(result) && result[0] > result[1]) {\n                // Ignore starting values.\n                return [];\n            }\n            return [...result];\n        };\n        return {\n            type: 'ungrouped',\n            data: resultData,\n            domain: {\n                keys: keyDefs.map((def) => propertyDomain(def)),\n                values: valueDefs.map((def) => propertyDomain(def)),\n            },\n            indices: {\n                keys: keyDefs.reduce((r, { property, index }) => {\n                    r[property] = index;\n                    return r;\n                }, {}),\n                values: valueDefs.reduce((r, { property, index }) => {\n                    r[property] = index;\n                    return r;\n                }, {}),\n            },\n            defs: {\n                keys: keyDefs,\n                values: valueDefs,\n            },\n            time: 0,\n        };\n    }\n    groupData(data, groupingFn) {\n        const processedData = new Map();\n        for (const dataEntry of data.data) {\n            const { keys, values, datum } = dataEntry;\n            const group = groupingFn ? groupingFn(dataEntry) : keys;\n            const groupStr = toKeyString(group);\n            if (processedData.has(groupStr)) {\n                const existingData = processedData.get(groupStr);\n                existingData.values.push(values);\n                existingData.datum.push(datum);\n            }\n            else {\n                processedData.set(groupStr, { keys: group, values: [values], datum: [datum] });\n            }\n        }\n        const resultData = new Array(processedData.size);\n        const resultGroups = new Array(processedData.size);\n        let dataIndex = 0;\n        for (const [, { keys, values, datum }] of processedData.entries()) {\n            resultGroups[dataIndex] = keys;\n            resultData[dataIndex++] = {\n                keys,\n                values,\n                datum,\n            };\n        }\n        return Object.assign(Object.assign({}, data), { type: 'grouped', data: resultData, domain: Object.assign(Object.assign({}, data.domain), { groups: resultGroups }) });\n    }\n    aggregateData(processedData) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        const { aggregates: aggDefs } = this;\n        if (!aggDefs)\n            return;\n        const resultAggValues = aggDefs.map(() => [Infinity, -Infinity]);\n        const resultAggValueIndices = aggDefs.map((defs) => defs.properties.map((prop) => this.valueIdxLookup(prop)));\n        const resultAggFns = aggDefs.map((def) => def.aggregateFunction);\n        const resultGroupAggFns = aggDefs.map((def) => def.groupAggregateFunction);\n        const resultFinalFns = aggDefs.map((def) => def.finalFunction);\n        for (const group of processedData.data) {\n            let { values } = group;\n            (_a = group.aggValues) !== null && _a !== void 0 ? _a : (group.aggValues = new Array(resultAggValueIndices.length));\n            if (processedData.type === 'ungrouped') {\n                values = [values];\n            }\n            let resultIdx = 0;\n            for (const indices of resultAggValueIndices) {\n                let groupAggValues = (_c = (_b = resultGroupAggFns[resultIdx]) === null || _b === void 0 ? void 0 : _b.call(resultGroupAggFns)) !== null && _c !== void 0 ? _c : extendDomain([]);\n                for (const distinctValues of values) {\n                    const valuesToAgg = indices.map((valueIdx) => distinctValues[valueIdx]);\n                    const valuesAgg = resultAggFns[resultIdx](valuesToAgg, group.keys);\n                    if (valuesAgg) {\n                        groupAggValues =\n                            (_e = (_d = resultGroupAggFns[resultIdx]) === null || _d === void 0 ? void 0 : _d.call(resultGroupAggFns, valuesAgg, groupAggValues)) !== null && _e !== void 0 ? _e : extendDomain(valuesAgg, groupAggValues);\n                    }\n                }\n                const finalValues = ((_g = (_f = resultFinalFns[resultIdx]) === null || _f === void 0 ? void 0 : _f.call(resultFinalFns, groupAggValues)) !== null && _g !== void 0 ? _g : groupAggValues).map((v) => round(v));\n                extendDomain(finalValues, resultAggValues[resultIdx]);\n                group.aggValues[resultIdx++] = finalValues;\n            }\n        }\n        processedData.domain.aggValues = resultAggValues;\n    }\n    postProcessGroups(processedData) {\n        const { groupProcessors } = this;\n        if (!groupProcessors)\n            return;\n        for (const processor of groupProcessors) {\n            const valueIndexes = processor.properties.map((p) => this.valueIdxLookup(p));\n            const adjustFn = processor.adjust();\n            if (processedData.type === 'grouped') {\n                for (const group of processedData.data) {\n                    for (const values of group.values) {\n                        if (values) {\n                            adjustFn(values, valueIndexes);\n                        }\n                    }\n                }\n            }\n            else {\n                for (const group of processedData.data) {\n                    if (group.values) {\n                        adjustFn(group.values, valueIndexes);\n                    }\n                }\n            }\n        }\n    }\n    postProcessProperties(processedData) {\n        const { propertyProcessors } = this;\n        if (!propertyProcessors)\n            return;\n        for (const { adjust, property } of propertyProcessors) {\n            adjust()(processedData, this.valueIdxLookup(property));\n        }\n    }\n    reduceData(processedData) {\n        var _a;\n        const { reducers: reducerDefs } = this;\n        const reducers = reducerDefs.map((def) => def.reducer());\n        const accValues = reducerDefs.map((def) => def.initialValue);\n        for (const group of processedData.data) {\n            let reducerIndex = 0;\n            for (const reducer of reducers) {\n                accValues[reducerIndex] = reducer(accValues[reducerIndex], group);\n                reducerIndex++;\n            }\n        }\n        for (let accIdx = 0; accIdx < accValues.length; accIdx++) {\n            (_a = processedData.reduced) !== null && _a !== void 0 ? _a : (processedData.reduced = {});\n            processedData.reduced[reducerDefs[accIdx].property] = accValues[accIdx];\n        }\n    }\n    postProcessData(processedData) {\n        var _a;\n        const { processors: processorDefs } = this;\n        for (const def of processorDefs) {\n            (_a = processedData.reduced) !== null && _a !== void 0 ? _a : (processedData.reduced = {});\n            processedData.reduced[def.property] = def.calculate(processedData);\n        }\n    }\n    initDataDomainProcessor() {\n        const { keys: keyDefs, values: valueDefs } = this;\n        const dataDomain = new Map();\n        const processorFns = new Map();\n        const initDataDomainKey = (key, type, updateDataDomain) => {\n            if (type === 'category') {\n                updateDataDomain.set(key, { type, domain: new Set() });\n            }\n            else {\n                updateDataDomain.set(key, { type, domain: [Infinity, -Infinity] });\n            }\n        };\n        const initDataDomain = (updateDataDomain = dataDomain) => {\n            keyDefs.forEach((def) => { var _a; return initDataDomainKey((_a = def.id) !== null && _a !== void 0 ? _a : def.property, def.valueType, updateDataDomain); });\n            valueDefs.forEach((def) => { var _a; return initDataDomainKey((_a = def.id) !== null && _a !== void 0 ? _a : def.property, def.valueType, updateDataDomain); });\n            return updateDataDomain;\n        };\n        initDataDomain();\n        const processValue = (def, datum, previousDatum) => {\n            var _a, _b, _c, _d, _e;\n            const valueInDatum = def.property in datum;\n            const missingValueDef = 'missingValue' in def;\n            if (!def.missing && !valueInDatum && !missingValueDef) {\n                def.missing = true;\n            }\n            if (!dataDomain.has((_a = def.id) !== null && _a !== void 0 ? _a : def.property)) {\n                initDataDomain(dataDomain);\n            }\n            let value = valueInDatum ? datum[def.property] : def.missingValue;\n            if (valueInDatum) {\n                const valid = (_c = (_b = def.validation) === null || _b === void 0 ? void 0 : _b.call(def, value)) !== null && _c !== void 0 ? _c : true;\n                if (!valid) {\n                    if ('invalidValue' in def) {\n                        value = def.invalidValue;\n                    }\n                    else {\n                        return INVALID_VALUE;\n                    }\n                }\n            }\n            if (def.processor) {\n                if (!processorFns.has(def)) {\n                    processorFns.set(def, def.processor());\n                }\n                value = (_d = processorFns.get(def)) === null || _d === void 0 ? void 0 : _d(value, previousDatum !== INVALID_VALUE ? previousDatum : undefined);\n            }\n            const meta = dataDomain.get((_e = def.id) !== null && _e !== void 0 ? _e : def.property);\n            if ((meta === null || meta === void 0 ? void 0 : meta.type) === 'category') {\n                meta.domain.add(value);\n            }\n            else if ((meta === null || meta === void 0 ? void 0 : meta.type) === 'range') {\n                if (meta.domain[0] > value) {\n                    meta.domain[0] = value;\n                }\n                if (meta.domain[1] < value) {\n                    meta.domain[1] = value;\n                }\n            }\n            return value;\n        };\n        return { dataDomain, processValue, initDataDomain };\n    }\n}\nDataModel.DEBUG = () => { var _a; return (_a = [true, 'data-model'].includes(windowValue('agChartsDebug'))) !== null && _a !== void 0 ? _a : false; };\nfunction logProcessedData(processedData) {\n    var _a, _b;\n    const log = (name, data) => {\n        if (data.length > 0) {\n            // eslint-disable-next-line no-console\n            console.log(name);\n            // eslint-disable-next-line no-console\n            console.table(data);\n        }\n    };\n    // eslint-disable-next-line no-console\n    console.log({ processedData });\n    log('Key Domains', processedData.domain.keys);\n    log('Group Domains', (_a = processedData.domain.groups) !== null && _a !== void 0 ? _a : []);\n    log('Value Domains', processedData.domain.values);\n    log('Aggregate Domains', (_b = processedData.domain.aggValues) !== null && _b !== void 0 ? _b : []);\n    if (processedData.type === 'grouped') {\n        const flattenedValues = processedData.data.reduce((acc, next) => {\n            var _a, _b;\n            const keys = (_a = next.keys) !== null && _a !== void 0 ? _a : [];\n            const aggValues = (_b = next.aggValues) !== null && _b !== void 0 ? _b : [];\n            const skipKeys = next.keys.map(() => undefined);\n            const skipAggValues = aggValues === null || aggValues === void 0 ? void 0 : aggValues.map(() => undefined);\n            acc.push(...next.values.map((v, i) => [\n                ...(i === 0 ? keys : skipKeys),\n                ...(v !== null && v !== void 0 ? v : []),\n                ...(i == 0 ? aggValues : skipAggValues),\n            ]));\n            return acc;\n        }, []);\n        log('Values', flattenedValues);\n    }\n    else {\n        const flattenedValues = processedData.data.reduce((acc, next) => {\n            var _a;\n            const aggValues = (_a = next.aggValues) !== null && _a !== void 0 ? _a : [];\n            acc.push([...next.keys, ...next.values, ...aggValues]);\n            return acc;\n        }, []);\n        log('Values', flattenedValues);\n    }\n}\n","import { addTransformToInstanceProperty, BREAK_TRANSFORM_CHAIN } from './decorator.mjs';\nimport { Logger } from './logger.mjs';\nfunction createDeprecationWarning() {\n    return (key, message) => {\n        const msg = [`Property [${key}] is deprecated.`, message].filter((v) => v != null).join(' ');\n        Logger.warnOnce(msg);\n    };\n}\nexport function Deprecated(message, opts) {\n    const def = opts === null || opts === void 0 ? void 0 : opts.default;\n    const warn = createDeprecationWarning();\n    return addTransformToInstanceProperty((_, key, value) => {\n        if (value !== def) {\n            warn(key.toString(), message);\n        }\n        return value;\n    });\n}\nexport function DeprecatedAndRenamedTo(newPropName, mapValue) {\n    const warnDeprecated = createDeprecationWarning();\n    return addTransformToInstanceProperty((target, key, value) => {\n        if (value !== target[newPropName]) {\n            warnDeprecated(key.toString(), `Use [${newPropName}] instead.`);\n            target[newPropName] = mapValue ? mapValue(value) : value;\n        }\n        return BREAK_TRANSFORM_CHAIN;\n    }, (target, key) => {\n        warnDeprecated(key.toString(), `Use [${newPropName}] instead.`);\n        return target[newPropName];\n    });\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { BBox } from '../../scene/bbox.mjs';\nimport { DeprecatedAndRenamedTo } from '../../util/deprecation.mjs';\nimport { Validate, BOOLEAN, NUMBER, OPT_STRING, INTERACTION_RANGE, predicateWithMessage, OPT_BOOLEAN, } from '../../util/validation.mjs';\nconst DEFAULT_TOOLTIP_CLASS = 'ag-chart-tooltip';\nconst defaultTooltipCss = `\n.${DEFAULT_TOOLTIP_CLASS} {\n    transition: transform 0.1s ease;\n    display: table;\n    position: fixed;\n    left: 0px;\n    top: 0px;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-no-interaction {\n    pointer-events: none;\n    user-select: none;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-no-animation {\n    transition: none !important;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-hidden {\n    visibility: hidden;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    overflow: hidden;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-content:empty {\n    padding: 0;\n    height: 7px;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-arrow::before {\n    content: \"\";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.${DEFAULT_TOOLTIP_CLASS}-arrow::after {\n    content: \"\";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n`;\nexport function toTooltipHtml(input, defaults) {\n    var _a, _b, _c, _d;\n    if (typeof input === 'string') {\n        return input;\n    }\n    defaults = defaults !== null && defaults !== void 0 ? defaults : {};\n    const { content = (_a = defaults.content) !== null && _a !== void 0 ? _a : '', title = (_b = defaults.title) !== null && _b !== void 0 ? _b : undefined, color = (_c = defaults.color) !== null && _c !== void 0 ? _c : 'white', backgroundColor = (_d = defaults.backgroundColor) !== null && _d !== void 0 ? _d : '#888', } = input;\n    const titleHtml = title\n        ? `<div class=\"${DEFAULT_TOOLTIP_CLASS}-title\"\n        style=\"color: ${color}; background-color: ${backgroundColor}\">${title}</div>`\n        : '';\n    return `${titleHtml}<div class=\"${DEFAULT_TOOLTIP_CLASS}-content\">${content}</div>`;\n}\nconst POSITION_TYPES = ['pointer', 'node'];\nconst POSITION_TYPE = predicateWithMessage((v) => POSITION_TYPES.includes(v), `expecting a position type keyword such as 'pointer' or 'node'`);\nexport class TooltipPosition {\n    constructor() {\n        /** The type of positioning for the tooltip. By default, the tooltip follows the pointer. */\n        this.type = 'pointer';\n        /** The horizontal offset in pixels for the position of the tooltip. */\n        this.xOffset = 0;\n        /** The vertical offset in pixels for the position of the tooltip. */\n        this.yOffset = 0;\n    }\n}\n__decorate([\n    Validate(POSITION_TYPE)\n], TooltipPosition.prototype, \"type\", void 0);\n__decorate([\n    Validate(NUMBER())\n], TooltipPosition.prototype, \"xOffset\", void 0);\n__decorate([\n    Validate(NUMBER())\n], TooltipPosition.prototype, \"yOffset\", void 0);\nexport class Tooltip {\n    constructor(canvasElement, document, container) {\n        this.enableInteraction = false;\n        this.enabled = true;\n        this.showArrow = undefined;\n        this.class = undefined;\n        this.lastClass = undefined;\n        this.delay = 0;\n        this.range = 'nearest';\n        this.position = new TooltipPosition();\n        this.showTimeout = 0;\n        this._showArrow = true;\n        this.tooltipRoot = container;\n        const element = document.createElement('div');\n        this.element = this.tooltipRoot.appendChild(element);\n        this.element.classList.add(DEFAULT_TOOLTIP_CLASS);\n        this.canvasElement = canvasElement;\n        // Detect when the chart becomes invisible and hide the tooltip as well.\n        if (window.IntersectionObserver) {\n            const observer = new IntersectionObserver((entries) => {\n                for (const entry of entries) {\n                    if (entry.target === this.canvasElement && entry.intersectionRatio === 0) {\n                        this.toggle(false);\n                    }\n                }\n            }, { root: this.tooltipRoot });\n            observer.observe(this.canvasElement);\n            this.observer = observer;\n        }\n        if (Tooltip.tooltipDocuments.indexOf(document) < 0) {\n            const styleElement = document.createElement('style');\n            styleElement.innerHTML = defaultTooltipCss;\n            // Make sure the default tooltip style goes before other styles so it can be overridden.\n            document.head.insertBefore(styleElement, document.head.querySelector('style'));\n            Tooltip.tooltipDocuments.push(document);\n        }\n    }\n    destroy() {\n        const { parentNode } = this.element;\n        if (parentNode) {\n            parentNode.removeChild(this.element);\n        }\n        if (this.observer) {\n            this.observer.unobserve(this.canvasElement);\n        }\n    }\n    isVisible() {\n        const { element } = this;\n        return !element.classList.contains(DEFAULT_TOOLTIP_CLASS + '-hidden');\n    }\n    updateClass(visible, showArrow) {\n        const { element, class: newClass, lastClass, enableInteraction } = this;\n        const wasVisible = this.isVisible();\n        const toggleClass = (name, include) => {\n            const className = `${DEFAULT_TOOLTIP_CLASS}-${name}`;\n            if (include) {\n                element.classList.add(className);\n            }\n            else {\n                element.classList.remove(className);\n            }\n        };\n        toggleClass('no-animation', !wasVisible && !!visible); // No animation on first show.\n        toggleClass('no-interaction', !enableInteraction); // Prevent interaction.\n        toggleClass('hidden', !visible); // Hide if not visible.\n        toggleClass('arrow', !!showArrow); // Add arrow if tooltip is constrained.\n        if (newClass !== lastClass) {\n            if (lastClass) {\n                element.classList.remove(lastClass);\n            }\n            if (newClass) {\n                element.classList.add(newClass);\n            }\n            this.lastClass = newClass;\n        }\n    }\n    /**\n     * Shows tooltip at the given event's coordinates.\n     * If the `html` parameter is missing, moves the existing tooltip to the new position.\n     */\n    show(meta, html, instantly = false) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        const { element, canvasElement } = this;\n        if (html !== undefined) {\n            element.innerHTML = html;\n        }\n        else if (!element.innerHTML) {\n            return;\n        }\n        const limit = (low, actual, high) => {\n            return Math.max(Math.min(actual, high), low);\n        };\n        const xOffset = (_b = (_a = meta.position) === null || _a === void 0 ? void 0 : _a.xOffset) !== null && _b !== void 0 ? _b : 0;\n        const yOffset = (_d = (_c = meta.position) === null || _c === void 0 ? void 0 : _c.yOffset) !== null && _d !== void 0 ? _d : 0;\n        const canvasRect = canvasElement.getBoundingClientRect();\n        const naiveLeft = canvasRect.left + meta.offsetX - element.clientWidth / 2 + xOffset;\n        const naiveTop = canvasRect.top + meta.offsetY - element.clientHeight - 8 + yOffset;\n        const windowBounds = this.getWindowBoundingBox();\n        const maxLeft = windowBounds.x + windowBounds.width - element.clientWidth - 1;\n        const maxTop = windowBounds.y + windowBounds.height - element.clientHeight;\n        const left = limit(windowBounds.x, naiveLeft, maxLeft);\n        const top = limit(windowBounds.y, naiveTop, maxTop);\n        const constrained = left !== naiveLeft || top !== naiveTop;\n        const defaultShowArrow = !constrained && !xOffset && !yOffset;\n        const showArrow = (_f = (_e = meta.showArrow) !== null && _e !== void 0 ? _e : this.showArrow) !== null && _f !== void 0 ? _f : defaultShowArrow;\n        this.updateShowArrow(showArrow);\n        element.style.transform = `translate(${Math.round(left)}px, ${Math.round(top)}px)`;\n        this.enableInteraction = (_g = meta.enableInteraction) !== null && _g !== void 0 ? _g : false;\n        if (this.delay > 0 && !instantly) {\n            this.toggle(false);\n            this.showTimeout = window.setTimeout(() => {\n                this.toggle(true);\n            }, this.delay);\n            return;\n        }\n        this.toggle(true);\n    }\n    getWindowBoundingBox() {\n        return new BBox(0, 0, window.innerWidth, window.innerHeight);\n    }\n    toggle(visible) {\n        if (!visible) {\n            window.clearTimeout(this.showTimeout);\n        }\n        this.updateClass(visible, this._showArrow);\n    }\n    pointerLeftOntoTooltip(event) {\n        var _a;\n        if (!this.enableInteraction)\n            return false;\n        const classList = (_a = event.sourceEvent.relatedTarget) === null || _a === void 0 ? void 0 : _a.classList;\n        const classes = ['', '-title', '-content'];\n        const classListContains = Boolean(classes.filter((c) => classList === null || classList === void 0 ? void 0 : classList.contains(`${DEFAULT_TOOLTIP_CLASS}${c}`)));\n        return classList !== undefined && classListContains;\n    }\n    updateShowArrow(show) {\n        this._showArrow = show;\n    }\n}\nTooltip.tooltipDocuments = [];\n__decorate([\n    Validate(BOOLEAN)\n], Tooltip.prototype, \"enabled\", void 0);\n__decorate([\n    Validate(OPT_BOOLEAN)\n], Tooltip.prototype, \"showArrow\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], Tooltip.prototype, \"class\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], Tooltip.prototype, \"delay\", void 0);\n__decorate([\n    DeprecatedAndRenamedTo('range', (value) => (value ? 'nearest' : 'exact'))\n], Tooltip.prototype, \"tracking\", void 0);\n__decorate([\n    Validate(INTERACTION_RANGE)\n], Tooltip.prototype, \"range\", void 0);\n","import { extendDomain } from './utilFunctions.mjs';\nfunction sumValues(values, accumulator = [0, 0]) {\n    for (const value of values) {\n        if (typeof value !== 'number') {\n            continue;\n        }\n        if (value < 0) {\n            accumulator[0] += value;\n        }\n        if (value > 0) {\n            accumulator[1] += value;\n        }\n    }\n    return accumulator;\n}\nexport function sum(props) {\n    const result = {\n        properties: props,\n        type: 'aggregate',\n        aggregateFunction: (values) => sumValues(values),\n    };\n    return result;\n}\nexport function groupSum(props) {\n    return {\n        type: 'aggregate',\n        properties: props,\n        aggregateFunction: (values) => sumValues(values),\n        groupAggregateFunction: (next, acc = [0, 0]) => {\n            var _a, _b;\n            acc[0] += (_a = next === null || next === void 0 ? void 0 : next[0]) !== null && _a !== void 0 ? _a : 0;\n            acc[1] += (_b = next === null || next === void 0 ? void 0 : next[1]) !== null && _b !== void 0 ? _b : 0;\n            return acc;\n        },\n    };\n}\nexport function range(props) {\n    const result = {\n        properties: props,\n        type: 'aggregate',\n        aggregateFunction: (values) => extendDomain(values),\n    };\n    return result;\n}\nexport function count() {\n    const result = {\n        properties: [],\n        type: 'aggregate',\n        aggregateFunction: () => [0, 1],\n    };\n    return result;\n}\nexport function groupCount() {\n    return {\n        type: 'aggregate',\n        properties: [],\n        aggregateFunction: () => [0, 1],\n        groupAggregateFunction: (next, acc = [0, 0]) => {\n            var _a, _b;\n            acc[0] += (_a = next === null || next === void 0 ? void 0 : next[0]) !== null && _a !== void 0 ? _a : 0;\n            acc[1] += (_b = next === null || next === void 0 ? void 0 : next[1]) !== null && _b !== void 0 ? _b : 0;\n            return acc;\n        },\n    };\n}\nexport function average(props) {\n    const result = {\n        properties: props,\n        type: 'aggregate',\n        aggregateFunction: (values) => sumValues(values).map((v) => v / values.length),\n    };\n    return result;\n}\nexport function groupAverage(props) {\n    const result = {\n        properties: props,\n        type: 'aggregate',\n        aggregateFunction: (values) => sumValues(values),\n        groupAggregateFunction: (next, acc = [0, 0, -1]) => {\n            var _a, _b;\n            acc[0] += (_a = next === null || next === void 0 ? void 0 : next[0]) !== null && _a !== void 0 ? _a : 0;\n            acc[1] += (_b = next === null || next === void 0 ? void 0 : next[1]) !== null && _b !== void 0 ? _b : 0;\n            acc[2]++;\n            return acc;\n        },\n        finalFunction: (acc = [0, 0, 0]) => {\n            const result = acc[0] + acc[1];\n            if (result >= 0) {\n                return [0, result / acc[2]];\n            }\n            return [result / acc[2], 0];\n        },\n    };\n    return result;\n}\nexport function area(props, aggFn) {\n    const result = {\n        properties: props,\n        type: 'aggregate',\n        aggregateFunction: (values, keyRange = []) => {\n            const keyWidth = keyRange[1] - keyRange[0];\n            return aggFn.aggregateFunction(values).map((v) => v / keyWidth);\n        },\n    };\n    if (aggFn.groupAggregateFunction) {\n        result.groupAggregateFunction = aggFn.groupAggregateFunction;\n    }\n    return result;\n}\nexport function accumulatedValue() {\n    return () => {\n        let value = 0;\n        return (datum) => {\n            if (typeof datum !== 'number')\n                return datum;\n            if (isNaN(datum))\n                return datum;\n            value += datum;\n            return value;\n        };\n    };\n}\nexport function trailingAccumulatedValue() {\n    return () => {\n        let value = 0;\n        return (datum) => {\n            if (typeof datum !== 'number')\n                return datum;\n            if (isNaN(datum))\n                return datum;\n            const trailingValue = value;\n            value += datum;\n            return trailingValue;\n        };\n    };\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Group } from '../../scene/group.mjs';\nimport { Observable } from '../../util/observable.mjs';\nimport { createId } from '../../util/id.mjs';\nimport { checkDatum } from '../../util/value.mjs';\nimport { BOOLEAN, OPT_BOOLEAN, OPT_NUMBER, OPT_COLOR_STRING, INTERACTION_RANGE, STRING, Validate, } from '../../util/validation.mjs';\nimport { Layers } from '../layers.mjs';\nimport { ChartAxisDirection } from '../chartAxisDirection.mjs';\nimport { fixNumericExtent } from '../data/dataModel.mjs';\nimport { TooltipPosition } from '../tooltip/tooltip.mjs';\nimport { accumulatedValue, trailingAccumulatedValue } from '../data/aggregateFunctions.mjs';\n/** Modes of matching user interactions to rendered nodes (e.g. hover or click) */\nexport var SeriesNodePickMode;\n(function (SeriesNodePickMode) {\n    /** Pick matches based upon pick coordinates being inside a matching shape/marker. */\n    SeriesNodePickMode[SeriesNodePickMode[\"EXACT_SHAPE_MATCH\"] = 0] = \"EXACT_SHAPE_MATCH\";\n    /** Pick matches by nearest category/X-axis value, then distance within that category/X-value. */\n    SeriesNodePickMode[SeriesNodePickMode[\"NEAREST_BY_MAIN_AXIS_FIRST\"] = 1] = \"NEAREST_BY_MAIN_AXIS_FIRST\";\n    /** Pick matches by nearest category value, then distance within that category. */\n    SeriesNodePickMode[SeriesNodePickMode[\"NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST\"] = 2] = \"NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST\";\n    /** Pick matches based upon distance to ideal position */\n    SeriesNodePickMode[SeriesNodePickMode[\"NEAREST_NODE\"] = 3] = \"NEAREST_NODE\";\n})(SeriesNodePickMode || (SeriesNodePickMode = {}));\nexport function keyProperty(propName, continuous, opts = {}) {\n    const result = Object.assign({ property: propName, type: 'key', valueType: continuous ? 'range' : 'category', validation: (v) => checkDatum(v, continuous) != null }, opts);\n    return result;\n}\nexport function valueProperty(propName, continuous, opts = {}) {\n    const result = Object.assign({ property: propName, type: 'value', valueType: continuous ? 'range' : 'category', validation: (v) => checkDatum(v, continuous) != null }, opts);\n    return result;\n}\nexport function rangedValueProperty(propName, opts = {}) {\n    const { min = -Infinity, max = Infinity } = opts, defOpts = __rest(opts, [\"min\", \"max\"]);\n    return Object.assign({ type: 'value', property: propName, valueType: 'range', validation: (v) => checkDatum(v, true) != null, processor: () => (datum) => {\n            if (typeof datum !== 'number')\n                return datum;\n            if (isNaN(datum))\n                return datum;\n            return Math.min(Math.max(datum, min), max);\n        } }, defOpts);\n}\nexport function accumulativeValueProperty(propName, continuous, opts = {}) {\n    const result = Object.assign(Object.assign({}, valueProperty(propName, continuous, opts)), { processor: accumulatedValue() });\n    return result;\n}\nexport function trailingAccumulatedValueProperty(propName, continuous, opts = {}) {\n    const result = Object.assign(Object.assign({}, valueProperty(propName, continuous, opts)), { processor: trailingAccumulatedValue() });\n    return result;\n}\nexport class SeriesNodeBaseClickEvent {\n    constructor(nativeEvent, datum, series) {\n        this.type = 'nodeClick';\n        this.event = nativeEvent;\n        this.datum = datum.datum;\n        this.seriesId = series.id;\n    }\n}\nexport class SeriesNodeClickEvent extends SeriesNodeBaseClickEvent {\n}\nexport class SeriesNodeDoubleClickEvent extends SeriesNodeBaseClickEvent {\n    constructor() {\n        super(...arguments);\n        this.type = 'nodeDoubleClick';\n    }\n}\nexport class SeriesItemHighlightStyle {\n    constructor() {\n        this.fill = 'yellow';\n        this.fillOpacity = undefined;\n        this.stroke = undefined;\n        this.strokeWidth = undefined;\n    }\n}\n__decorate([\n    Validate(OPT_COLOR_STRING)\n], SeriesItemHighlightStyle.prototype, \"fill\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0, 1))\n], SeriesItemHighlightStyle.prototype, \"fillOpacity\", void 0);\n__decorate([\n    Validate(OPT_COLOR_STRING)\n], SeriesItemHighlightStyle.prototype, \"stroke\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0))\n], SeriesItemHighlightStyle.prototype, \"strokeWidth\", void 0);\nclass SeriesHighlightStyle {\n    constructor() {\n        this.strokeWidth = undefined;\n        this.dimOpacity = undefined;\n        this.enabled = undefined;\n    }\n}\n__decorate([\n    Validate(OPT_NUMBER(0))\n], SeriesHighlightStyle.prototype, \"strokeWidth\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0, 1))\n], SeriesHighlightStyle.prototype, \"dimOpacity\", void 0);\n__decorate([\n    Validate(OPT_BOOLEAN)\n], SeriesHighlightStyle.prototype, \"enabled\", void 0);\nclass TextHighlightStyle {\n    constructor() {\n        this.color = 'black';\n    }\n}\n__decorate([\n    Validate(OPT_COLOR_STRING)\n], TextHighlightStyle.prototype, \"color\", void 0);\nexport class HighlightStyle {\n    constructor() {\n        this.item = new SeriesItemHighlightStyle();\n        this.series = new SeriesHighlightStyle();\n        this.text = new TextHighlightStyle();\n    }\n}\nexport class SeriesTooltip {\n    constructor() {\n        this.enabled = true;\n        this.showArrow = undefined;\n        this.interaction = new SeriesTooltipInteraction();\n        this.position = new TooltipPosition();\n    }\n}\n__decorate([\n    Validate(BOOLEAN)\n], SeriesTooltip.prototype, \"enabled\", void 0);\n__decorate([\n    Validate(OPT_BOOLEAN)\n], SeriesTooltip.prototype, \"showArrow\", void 0);\nexport class SeriesTooltipInteraction {\n    constructor() {\n        this.enabled = false;\n    }\n}\n__decorate([\n    Validate(BOOLEAN)\n], SeriesTooltipInteraction.prototype, \"enabled\", void 0);\nexport class Series extends Observable {\n    constructor(opts) {\n        super();\n        this.id = createId(this);\n        // The group node that contains all the nodes used to render this series.\n        this.rootGroup = new Group({ name: 'seriesRoot' });\n        this.directions = [ChartAxisDirection.X, ChartAxisDirection.Y];\n        // Flag to determine if we should recalculate node data.\n        this.nodeDataRefresh = true;\n        this._data = undefined;\n        this._visible = true;\n        this.showInLegend = true;\n        this.cursor = 'default';\n        this.nodeClickRange = 'exact';\n        this._declarationOrder = -1;\n        this.highlightStyle = new HighlightStyle();\n        this.ctx = opts.moduleCtx;\n        const { useSeriesGroupLayer = true, useLabelLayer = false, pickModes = [SeriesNodePickMode.NEAREST_BY_MAIN_AXIS_FIRST], directionKeys = {}, directionNames = {}, } = opts;\n        const { rootGroup } = this;\n        this.directionKeys = directionKeys;\n        this.directionNames = directionNames;\n        this.contentGroup = rootGroup.appendChild(new Group({\n            name: `${this.id}-content`,\n            layer: useSeriesGroupLayer,\n            zIndex: Layers.SERIES_LAYER_ZINDEX,\n            zIndexSubOrder: [() => this._declarationOrder, 0],\n        }));\n        this.highlightGroup = rootGroup.appendChild(new Group({\n            name: `${this.id}-highlight`,\n            layer: true,\n            zIndex: Layers.SERIES_LAYER_ZINDEX,\n            zIndexSubOrder: [() => this._declarationOrder, 15000],\n        }));\n        this.highlightNode = this.highlightGroup.appendChild(new Group({ name: 'highlightNode' }));\n        this.highlightLabel = this.highlightGroup.appendChild(new Group({ name: 'highlightLabel' }));\n        this.highlightNode.zIndex = 0;\n        this.highlightLabel.zIndex = 10;\n        this.pickModes = pickModes;\n        if (useLabelLayer) {\n            this.labelGroup = rootGroup.appendChild(new Group({\n                name: `${this.id}-series-labels`,\n                layer: true,\n                zIndex: Layers.SERIES_LABEL_ZINDEX,\n            }));\n        }\n    }\n    get type() {\n        var _a;\n        return (_a = this.constructor.type) !== null && _a !== void 0 ? _a : '';\n    }\n    set data(input) {\n        this._data = input;\n        this.nodeDataRefresh = true;\n    }\n    get data() {\n        return this._data;\n    }\n    hasData() {\n        const { data } = this;\n        return data && (!Array.isArray(data) || data.length > 0);\n    }\n    set visible(value) {\n        this._visible = value;\n        this.visibleChanged();\n    }\n    get visible() {\n        return this._visible;\n    }\n    getBandScalePadding() {\n        return { inner: 1, outer: 0 };\n    }\n    addChartEventListeners() {\n        return;\n    }\n    destroy() {\n        // Override point for sub-classes.\n    }\n    getDirectionValues(direction, properties) {\n        const resolvedDirection = this.resolveKeyDirection(direction);\n        const keys = properties === null || properties === void 0 ? void 0 : properties[resolvedDirection];\n        const values = [];\n        const flatten = (...array) => {\n            for (const value of array) {\n                addValue(value);\n            }\n        };\n        const addValue = (value) => {\n            if (Array.isArray(value)) {\n                flatten(...value);\n            }\n            else if (typeof value === 'object') {\n                flatten(Object.values(value));\n            }\n            else {\n                values.push(value);\n            }\n        };\n        if (!keys)\n            return values;\n        keys.forEach((key) => {\n            const value = this[key];\n            addValue(value);\n        });\n        return values;\n    }\n    getKeys(direction) {\n        return this.getDirectionValues(direction, this.directionKeys);\n    }\n    getNames(direction) {\n        return this.getDirectionValues(direction, this.directionNames);\n    }\n    resolveKeyDirection(direction) {\n        return direction;\n    }\n    // Indicate that something external changed and we should recalculate nodeData.\n    markNodeDataDirty() {\n        this.nodeDataRefresh = true;\n    }\n    visibleChanged() {\n        // Override point for this.visible change post-processing.\n    }\n    getOpacity(datum) {\n        const { highlightStyle: { series: { dimOpacity = 1, enabled = true }, }, } = this;\n        const defaultOpacity = 1;\n        if (enabled === false || dimOpacity === defaultOpacity) {\n            return defaultOpacity;\n        }\n        switch (this.isItemIdHighlighted(datum)) {\n            case 'no-highlight':\n            case 'highlighted':\n                return defaultOpacity;\n            case 'peer-highlighted':\n            case 'other-highlighted':\n                return dimOpacity;\n        }\n    }\n    getStrokeWidth(defaultStrokeWidth, datum) {\n        const { highlightStyle: { series: { strokeWidth, enabled = true }, }, } = this;\n        if (enabled === false || strokeWidth === undefined) {\n            // No change in styling for highlight cases.\n            return defaultStrokeWidth;\n        }\n        switch (this.isItemIdHighlighted(datum)) {\n            case 'highlighted':\n                return strokeWidth;\n            case 'no-highlight':\n            case 'other-highlighted':\n            case 'peer-highlighted':\n                return defaultStrokeWidth;\n        }\n    }\n    isItemIdHighlighted(datum) {\n        var _a;\n        const highlightedDatum = (_a = this.highlightManager) === null || _a === void 0 ? void 0 : _a.getActiveHighlight();\n        const { series, itemId } = highlightedDatum !== null && highlightedDatum !== void 0 ? highlightedDatum : {};\n        const highlighting = series != null;\n        if (!highlighting) {\n            // Highlighting not active.\n            return 'no-highlight';\n        }\n        if (series !== this) {\n            // Highlighting active, this series not highlighted.\n            return 'other-highlighted';\n        }\n        if (itemId === undefined) {\n            // Series doesn't use itemIds - so no further refinement needed, series is highlighted.\n            return 'highlighted';\n        }\n        if (datum && highlightedDatum !== datum && itemId !== datum.itemId) {\n            // A peer (in same Series instance) sub-series has highlight active, but this sub-series\n            // does not.\n            return 'peer-highlighted';\n        }\n        return 'highlighted';\n    }\n    pickNode(point, limitPickModes) {\n        const { pickModes, visible, rootGroup } = this;\n        if (!visible || !rootGroup.visible) {\n            return;\n        }\n        for (const pickMode of pickModes) {\n            if (limitPickModes && !limitPickModes.includes(pickMode)) {\n                continue;\n            }\n            let match = undefined;\n            switch (pickMode) {\n                case SeriesNodePickMode.EXACT_SHAPE_MATCH:\n                    match = this.pickNodeExactShape(point);\n                    break;\n                case SeriesNodePickMode.NEAREST_BY_MAIN_AXIS_FIRST:\n                case SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST:\n                    match = this.pickNodeMainAxisFirst(point, pickMode === SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST);\n                    break;\n                case SeriesNodePickMode.NEAREST_NODE:\n                    match = this.pickNodeClosestDatum(point);\n                    break;\n            }\n            if (match) {\n                return { pickMode, match: match.datum, distance: match.distance };\n            }\n        }\n    }\n    pickNodeExactShape(point) {\n        const match = this.contentGroup.pickNode(point.x, point.y);\n        if (match) {\n            return {\n                datum: match.datum,\n                distance: 0,\n            };\n        }\n    }\n    pickNodeClosestDatum(_point) {\n        // Override point for sub-classes - but if this is invoked, the sub-class specified it wants\n        // to use this feature.\n        throw new Error('AG Charts - Series.pickNodeClosestDatum() not implemented');\n    }\n    pickNodeMainAxisFirst(_point, _requireCategoryAxis) {\n        // Override point for sub-classes - but if this is invoked, the sub-class specified it wants\n        // to use this feature.\n        throw new Error('AG Charts - Series.pickNodeMainAxisFirst() not implemented');\n    }\n    fireNodeClickEvent(event, _datum) {\n        const eventObject = this.getNodeClickEvent(event, _datum);\n        this.fireEvent(eventObject);\n    }\n    fireNodeDoubleClickEvent(event, _datum) {\n        const eventObject = this.getNodeDoubleClickEvent(event, _datum);\n        this.fireEvent(eventObject);\n    }\n    getNodeClickEvent(event, datum) {\n        return new SeriesNodeClickEvent(event, datum, this);\n    }\n    getNodeDoubleClickEvent(event, datum) {\n        return new SeriesNodeDoubleClickEvent(event, datum, this);\n    }\n    toggleSeriesItem(_itemId, enabled) {\n        this.visible = enabled;\n        this.nodeDataRefresh = true;\n    }\n    isEnabled() {\n        return this.visible;\n    }\n    fixNumericExtent(extent, axis) {\n        var _a;\n        const fixedExtent = fixNumericExtent(extent);\n        if (fixedExtent.length === 0) {\n            return fixedExtent;\n        }\n        let [min, max] = fixedExtent;\n        if (min === max) {\n            // domain has zero length, there is only a single valid value in data\n            const padding = (_a = axis === null || axis === void 0 ? void 0 : axis.calculatePadding(min, max)) !== null && _a !== void 0 ? _a : 1;\n            min -= padding;\n            max += padding;\n        }\n        return [min, max];\n    }\n}\nSeries.highlightedZIndex = 1000000000000;\n__decorate([\n    Validate(STRING)\n], Series.prototype, \"id\", void 0);\n__decorate([\n    Validate(BOOLEAN)\n], Series.prototype, \"_visible\", void 0);\n__decorate([\n    Validate(BOOLEAN)\n], Series.prototype, \"showInLegend\", void 0);\n__decorate([\n    Validate(STRING)\n], Series.prototype, \"cursor\", void 0);\n__decorate([\n    Validate(INTERACTION_RANGE)\n], Series.prototype, \"nodeClickRange\", void 0);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { NUMBER, Validate } from './validation.mjs';\nexport class Padding {\n    constructor(top = 0, right = top, bottom = top, left = right) {\n        this.top = top;\n        this.right = right;\n        this.bottom = bottom;\n        this.left = left;\n    }\n    clear() {\n        this.top = this.right = this.bottom = this.left = 0;\n    }\n}\n__decorate([\n    Validate(NUMBER(0))\n], Padding.prototype, \"top\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], Padding.prototype, \"right\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], Padding.prototype, \"bottom\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], Padding.prototype, \"left\", void 0);\n","export class SizeMonitor {\n    static init() {\n        const NativeResizeObserver = window.ResizeObserver;\n        if (NativeResizeObserver) {\n            this.resizeObserver = new NativeResizeObserver((entries) => {\n                for (const entry of entries) {\n                    const { width, height } = entry.contentRect;\n                    this.checkSize(this.elements.get(entry.target), entry.target, width, height);\n                }\n            });\n        }\n        else {\n            // polyfill (more reliable even in browsers that support ResizeObserver)\n            const step = () => {\n                this.elements.forEach((entry, element) => {\n                    this.checkClientSize(element, entry);\n                });\n            };\n            window.setInterval(step, 100);\n        }\n        this.ready = true;\n    }\n    static checkSize(entry, element, width, height) {\n        if (entry) {\n            if (!entry.size || width !== entry.size.width || height !== entry.size.height) {\n                entry.size = { width, height };\n                entry.cb(entry.size, element);\n            }\n        }\n    }\n    // Only a single callback is supported.\n    static observe(element, cb) {\n        if (!this.ready) {\n            this.init();\n        }\n        this.unobserve(element);\n        if (this.resizeObserver) {\n            this.resizeObserver.observe(element);\n        }\n        this.elements.set(element, { cb });\n        // Ensure first size callback happens synchronously.\n        this.checkClientSize(element, { cb });\n    }\n    static unobserve(element) {\n        if (this.resizeObserver) {\n            this.resizeObserver.unobserve(element);\n        }\n        this.elements.delete(element);\n    }\n    static checkClientSize(element, entry) {\n        const width = element.clientWidth ? element.clientWidth : 0;\n        const height = element.clientHeight ? element.clientHeight : 0;\n        this.checkSize(entry, element, width, height);\n    }\n}\nSizeMonitor.elements = new Map();\nSizeMonitor.ready = false;\n","function circleRectOverlap(c, x, y, w, h) {\n    // Find closest horizontal and vertical edges.\n    let edgeX = c.x;\n    if (c.x < x) {\n        edgeX = x;\n    }\n    else if (c.x > x + w) {\n        edgeX = x + w;\n    }\n    let edgeY = c.y;\n    if (c.y < y) {\n        edgeY = y;\n    }\n    else if (c.y > y + h) {\n        edgeY = y + h;\n    }\n    // Find distance to closest edges.\n    const dx = c.x - edgeX;\n    const dy = c.y - edgeY;\n    const d = Math.sqrt(dx * dx + dy * dy);\n    return d <= c.size * 0.5;\n}\nfunction rectRectOverlap(r1, x2, y2, w2, h2) {\n    const xOverlap = r1.x + r1.width > x2 && r1.x < x2 + w2;\n    const yOverlap = r1.y + r1.height > y2 && r1.y < y2 + h2;\n    return xOverlap && yOverlap;\n}\nfunction rectContainsRect(r1, r2x, r2y, r2w, r2h) {\n    return r2x + r2w < r1.x + r1.width && r2x > r1.x && r2y > r1.y && r2y + r2h < r1.y + r1.height;\n}\nexport function isPointLabelDatum(x) {\n    return x != null && typeof x.point === 'object' && typeof x.label === 'object';\n}\n/**\n * @param data Points and labels for one or more series. The order of series determines label placement precedence.\n * @param bounds Bounds to fit the labels into. If a label can't be fully contained, it doesn't fit.\n * @returns Placed labels for the given series (in the given order).\n */\nexport function placeLabels(data, bounds, padding = 5) {\n    const result = [];\n    data = data.map((d) => d.slice().sort((a, b) => b.point.size - a.point.size));\n    for (let j = 0; j < data.length; j++) {\n        const labels = (result[j] = []);\n        const datum = data[j];\n        if (!((datum === null || datum === void 0 ? void 0 : datum.length) && datum[0].label)) {\n            continue;\n        }\n        for (let i = 0, ln = datum.length; i < ln; i++) {\n            const d = datum[i];\n            const l = d.label;\n            const r = d.point.size * 0.5;\n            const x = d.point.x - l.width * 0.5;\n            const y = d.point.y - r - l.height - padding;\n            const { width, height } = l;\n            const withinBounds = !bounds || rectContainsRect(bounds, x, y, width, height);\n            if (!withinBounds) {\n                continue;\n            }\n            const overlapPoints = data.some((datum) => datum.some((d) => circleRectOverlap(d.point, x, y, width, height)));\n            if (overlapPoints) {\n                continue;\n            }\n            const overlapLabels = result.some((labels) => labels.some((l) => rectRectOverlap(l, x, y, width, height)));\n            if (overlapLabels) {\n                continue;\n            }\n            labels.push({\n                index: i,\n                text: l.text,\n                x,\n                y,\n                width,\n                height,\n                datum: d,\n            });\n        }\n    }\n    return result;\n}\nexport function axisLabelsOverlap(data, padding) {\n    const result = [];\n    for (let i = 0; i < data.length; i++) {\n        const datum = data[i];\n        const { point: { x, y }, label: { text }, } = datum;\n        let { label: { width, height }, } = datum;\n        width += padding !== null && padding !== void 0 ? padding : 0;\n        height += padding !== null && padding !== void 0 ? padding : 0;\n        const overlapLabels = result.some((l) => {\n            const overlap = rectRectOverlap(l, x, y, width, height);\n            return overlap;\n        });\n        if (overlapLabels) {\n            return true;\n        }\n        result.push({\n            index: i,\n            text,\n            x,\n            y,\n            width,\n            height,\n            datum,\n        });\n    }\n    return false;\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/**\n * Wrap a function in debouncing trigger function. A requestAnimationFrame() is scheduled\n * after the first schedule() call, and subsequent schedule() calls will be ignored until the\n * animation callback executes.\n */\nexport function debouncedAnimationFrame(cb) {\n    return buildScheduler((cb) => requestAnimationFrame(cb), cb);\n}\nexport function debouncedCallback(cb) {\n    return buildScheduler((cb) => setTimeout(cb, 0), cb);\n}\nfunction buildScheduler(scheduleFn, cb) {\n    let scheduleCount = 0;\n    let promiseRunning = false;\n    let awaitingPromise;\n    let awaitingDone;\n    const busy = () => {\n        return promiseRunning;\n    };\n    const done = () => {\n        promiseRunning = false;\n        awaitingDone === null || awaitingDone === void 0 ? void 0 : awaitingDone();\n        awaitingDone = undefined;\n        awaitingPromise = undefined;\n        if (scheduleCount > 0) {\n            scheduleFn(scheduleCb);\n        }\n    };\n    const scheduleCb = () => {\n        const count = scheduleCount;\n        scheduleCount = 0;\n        promiseRunning = true;\n        const maybePromise = cb({ count });\n        if (!maybePromise) {\n            done();\n            return;\n        }\n        maybePromise.then(done).catch(done);\n    };\n    return {\n        schedule() {\n            if (scheduleCount === 0 && !busy()) {\n                scheduleFn(scheduleCb);\n            }\n            scheduleCount++;\n        },\n        await() {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (!busy()) {\n                    return;\n                }\n                if (!awaitingPromise) {\n                    awaitingPromise = new Promise((resolve) => {\n                        awaitingDone = resolve;\n                    });\n                }\n                while (busy()) {\n                    yield awaitingPromise;\n                }\n            });\n        },\n    };\n}\n","import { cubicSegmentIntersections, segmentIntersection, arcIntersections } from './intersection.mjs';\nvar Command;\n(function (Command) {\n    Command[Command[\"Move\"] = 0] = \"Move\";\n    Command[Command[\"Line\"] = 1] = \"Line\";\n    Command[Command[\"Arc\"] = 2] = \"Arc\";\n    Command[Command[\"Curve\"] = 3] = \"Curve\";\n    Command[Command[\"ClosePath\"] = 4] = \"ClosePath\";\n})(Command || (Command = {}));\nexport class Path2D {\n    constructor() {\n        // The methods of this class will likely be called many times per animation frame,\n        // and any allocation can trigger a GC cycle during animation, so we attempt\n        // to minimize the number of allocations.\n        this.previousCommands = [];\n        this.previousParams = [];\n        this.previousClosedPath = false;\n        this.commands = [];\n        this.params = [];\n        this._closedPath = false;\n    }\n    isDirty() {\n        if (this._closedPath !== this.previousClosedPath) {\n            return true;\n        }\n        if (this.previousCommands.length !== this.commands.length) {\n            return true;\n        }\n        if (this.previousParams.length !== this.params.length) {\n            return true;\n        }\n        for (let i = 0; i < this.commands.length; i++) {\n            if (this.commands[i] !== this.previousCommands[i]) {\n                return true;\n            }\n        }\n        for (let i = 0; i < this.params.length; i++) {\n            if (this.params[i] !== this.previousParams[i]) {\n                return true;\n            }\n        }\n        return false;\n    }\n    draw(ctx) {\n        const commands = this.commands;\n        const params = this.params;\n        let j = 0;\n        ctx.beginPath();\n        for (const command of commands) {\n            switch (command) {\n                case Command.Move:\n                    ctx.moveTo(params[j++], params[j++]);\n                    break;\n                case Command.Line:\n                    ctx.lineTo(params[j++], params[j++]);\n                    break;\n                case Command.Curve:\n                    ctx.bezierCurveTo(params[j++], params[j++], params[j++], params[j++], params[j++], params[j++]);\n                    break;\n                case Command.Arc:\n                    ctx.arc(params[j++], params[j++], params[j++], params[j++], params[j++], params[j++] === 1);\n                    break;\n                case Command.ClosePath:\n                    ctx.closePath();\n                    break;\n            }\n        }\n        if (commands.length === 0) {\n            ctx.closePath();\n        }\n    }\n    moveTo(x, y) {\n        if (this.xy) {\n            this.xy[0] = x;\n            this.xy[1] = y;\n        }\n        else {\n            this.xy = [x, y];\n        }\n        this.commands.push(Command.Move);\n        this.params.push(x, y);\n    }\n    lineTo(x, y) {\n        if (this.xy) {\n            this.commands.push(Command.Line);\n            this.params.push(x, y);\n            this.xy[0] = x;\n            this.xy[1] = y;\n        }\n        else {\n            this.moveTo(x, y);\n        }\n    }\n    rect(x, y, width, height) {\n        this.moveTo(x, y);\n        this.lineTo(x + width, y);\n        this.lineTo(x + width, y + height);\n        this.lineTo(x, y + height);\n        this.closePath();\n    }\n    arc(x, y, r, sAngle, eAngle, antiClockwise = false) {\n        const endX = x + r * Math.cos(eAngle);\n        const endY = y + r * Math.sin(eAngle);\n        if (this.xy) {\n            this.xy[0] = endX;\n            this.xy[1] = endY;\n        }\n        else {\n            this.xy = [endX, endY];\n        }\n        this.commands.push(Command.Arc);\n        this.params.push(x, y, r, sAngle, eAngle, antiClockwise ? 1 : 0);\n    }\n    cubicCurveTo(cx1, cy1, cx2, cy2, x, y) {\n        if (!this.xy) {\n            this.moveTo(cx1, cy1);\n        }\n        this.commands.push(Command.Curve);\n        this.params.push(cx1, cy1, cx2, cy2, x, y);\n        this.xy[0] = x;\n        this.xy[1] = y;\n    }\n    get closedPath() {\n        return this._closedPath;\n    }\n    closePath() {\n        if (this.xy) {\n            this.xy = undefined;\n            this.commands.push(Command.ClosePath);\n            this._closedPath = true;\n        }\n    }\n    clear({ trackChanges } = { trackChanges: false }) {\n        if (trackChanges) {\n            this.previousCommands = this.commands;\n            this.previousParams = this.params;\n            this.previousClosedPath = this._closedPath;\n            this.commands = [];\n            this.params = [];\n        }\n        else {\n            this.commands.length = 0;\n            this.params.length = 0;\n        }\n        this.xy = undefined;\n        this._closedPath = false;\n    }\n    isPointInPath(x, y) {\n        const commands = this.commands;\n        const params = this.params;\n        const cn = commands.length;\n        // Hit testing using ray casting method, where the ray's origin is some point\n        // outside the path. In this case, an offscreen point that is remote enough, so that\n        // even if the path itself is large and is partially offscreen, the ray's origin\n        // will likely be outside the path anyway. To test if the given point is inside the\n        // path or not, we cast a ray from the origin to the given point and check the number\n        // of intersections of this segment with the path. If the number of intersections is\n        // even, then the ray both entered and exited the path an equal number of times,\n        // therefore the point is outside the path, and inside the path, if the number of\n        // intersections is odd. Since the path is compound, we check if the ray segment\n        // intersects with each of the path's segments, which can be either a line segment\n        // (one or no intersection points) or a Bzier curve segment (up to 3 intersection\n        // points).\n        const ox = -10000;\n        const oy = -10000;\n        // the starting point of the  current path\n        let sx = NaN;\n        let sy = NaN;\n        // the previous point of the current path\n        let px = 0;\n        let py = 0;\n        let intersectionCount = 0;\n        for (let ci = 0, pi = 0; ci < cn; ci++) {\n            switch (commands[ci]) {\n                case Command.Move:\n                    if (!isNaN(sx)) {\n                        if (segmentIntersection(sx, sy, px, py, ox, oy, x, y)) {\n                            intersectionCount++;\n                        }\n                    }\n                    px = params[pi++];\n                    sx = px;\n                    py = params[pi++];\n                    sy = py;\n                    break;\n                case Command.Line:\n                    if (segmentIntersection(px, py, params[pi++], params[pi++], ox, oy, x, y)) {\n                        intersectionCount++;\n                    }\n                    px = params[pi - 2];\n                    py = params[pi - 1];\n                    break;\n                case Command.Curve:\n                    intersectionCount += cubicSegmentIntersections(px, py, params[pi++], params[pi++], params[pi++], params[pi++], params[pi++], params[pi++], ox, oy, x, y).length;\n                    px = params[pi - 2];\n                    py = params[pi - 1];\n                    break;\n                case Command.Arc:\n                    intersectionCount += arcIntersections(params[pi++], params[pi++], params[pi++], params[pi++], params[pi++], Boolean(params[pi++]), ox, oy, x, y).length;\n                    px = params[pi - 2];\n                    py = params[pi - 1];\n                    break;\n                case Command.ClosePath:\n                    if (!isNaN(sx)) {\n                        if (segmentIntersection(sx, sy, px, py, ox, oy, x, y)) {\n                            intersectionCount++;\n                        }\n                    }\n                    break;\n            }\n        }\n        return intersectionCount % 2 === 1;\n    }\n}\n","/**\n * Finds the roots of a parametric linear equation in `t`,\n * where `t` lies in the interval of `[0,1]`.\n */\nfunction linearRoot(a, b) {\n    const t = -b / a;\n    return a !== 0 && t >= 0 && t <= 1 ? [t] : [];\n}\n/**\n * Finds the roots of a parametric quadratic equation in `t`,\n * where `t` lies in the interval of `[0,1]`.\n */\nfunction quadraticRoots(a, b, c) {\n    if (a === 0) {\n        return linearRoot(b, c);\n    }\n    const D = b * b - 4 * a * c; // The polynomial's discriminant.\n    const roots = [];\n    if (D === 0) {\n        // A single real root.\n        const t = -b / (2 * a);\n        if (t >= 0 && t <= 1) {\n            roots.push(t);\n        }\n    }\n    else if (D > 0) {\n        // A pair of distinct real roots.\n        const rD = Math.sqrt(D);\n        const t1 = (-b - rD) / (2 * a);\n        const t2 = (-b + rD) / (2 * a);\n        if (t1 >= 0 && t1 <= 1) {\n            roots.push(t1);\n        }\n        if (t2 >= 0 && t2 <= 1) {\n            roots.push(t2);\n        }\n    }\n    // else -> Complex roots.\n    return roots;\n}\n/**\n * Finds the roots of a parametric cubic equation in `t`,\n * where `t` lies in the interval of `[0,1]`.\n * Returns an array of parametric intersection locations along the cubic,\n * excluding out-of-bounds intersections (before or after the end point\n * or in the imaginary plane).\n * An adaptation of http://www.particleincell.com/blog/2013/cubic-line-intersection/\n */\nexport function cubicRoots(a, b, c, d) {\n    if (a === 0) {\n        return quadraticRoots(b, c, d);\n    }\n    const A = b / a;\n    const B = c / a;\n    const C = d / a;\n    const Q = (3 * B - A * A) / 9;\n    const R = (9 * A * B - 27 * C - 2 * A * A * A) / 54;\n    const D = Q * Q * Q + R * R; // The polynomial's discriminant.\n    const third = 1 / 3;\n    const roots = [];\n    if (D >= 0) {\n        // Complex or duplicate roots.\n        const rD = Math.sqrt(D);\n        const S = Math.sign(R + rD) * Math.pow(Math.abs(R + rD), third);\n        const T = Math.sign(R - rD) * Math.pow(Math.abs(R - rD), third);\n        const Im = Math.abs((Math.sqrt(3) * (S - T)) / 2); // Complex part of the root pair.\n        const t = -third * A + (S + T); // A real root.\n        if (t >= 0 && t <= 1) {\n            roots.push(t);\n        }\n        if (Im === 0) {\n            const t = -third * A - (S + T) / 2; // The real part of a complex root.\n            if (t >= 0 && t <= 1) {\n                roots.push(t);\n            }\n        }\n    }\n    else {\n        // Distinct real roots.\n        const theta = Math.acos(R / Math.sqrt(-Q * Q * Q));\n        const thirdA = third * A;\n        const twoSqrtQ = 2 * Math.sqrt(-Q);\n        const t1 = twoSqrtQ * Math.cos(third * theta) - thirdA;\n        const t2 = twoSqrtQ * Math.cos(third * (theta + 2 * Math.PI)) - thirdA;\n        const t3 = twoSqrtQ * Math.cos(third * (theta + 4 * Math.PI)) - thirdA;\n        if (t1 >= 0 && t1 <= 1) {\n            roots.push(t1);\n        }\n        if (t2 >= 0 && t2 <= 1) {\n            roots.push(t2);\n        }\n        if (t3 >= 0 && t3 <= 1) {\n            roots.push(t3);\n        }\n    }\n    return roots;\n}\n","import { normalizeAngle360 } from '../util/angle.mjs';\nimport { cubicRoots } from './polyRoots.mjs';\n/**\n * Returns the intersection point for the given pair of line segments, or null,\n * if the segments are parallel or don't intersect.\n * Based on http://paulbourke.net/geometry/pointlineplane/\n */\nexport function segmentIntersection(ax1, ay1, ax2, ay2, bx1, by1, bx2, by2) {\n    const d = (ax2 - ax1) * (by2 - by1) - (ay2 - ay1) * (bx2 - bx1);\n    if (d === 0) {\n        // The lines are parallel.\n        return null;\n    }\n    const ua = ((bx2 - bx1) * (ay1 - by1) - (ax1 - bx1) * (by2 - by1)) / d;\n    const ub = ((ax2 - ax1) * (ay1 - by1) - (ay2 - ay1) * (ax1 - bx1)) / d;\n    if (ua >= 0 && ua <= 1 && ub >= 0 && ub <= 1) {\n        return {\n            x: ax1 + ua * (ax2 - ax1),\n            y: ay1 + ua * (ay2 - ay1),\n        };\n    }\n    return null; // The intersection point is outside either or both segments.\n}\n/**\n * Returns intersection points of the given cubic curve and the line segment.\n * Takes in x/y components of cubic control points and line segment start/end points\n * as parameters.\n */\nexport function cubicSegmentIntersections(px1, py1, px2, py2, px3, py3, px4, py4, x1, y1, x2, y2) {\n    const intersections = [];\n    // Find line equation coefficients.\n    const A = y1 - y2;\n    const B = x2 - x1;\n    const C = x1 * (y2 - y1) - y1 * (x2 - x1);\n    // Find cubic Bezier curve equation coefficients from control points.\n    const bx = bezierCoefficients(px1, px2, px3, px4);\n    const by = bezierCoefficients(py1, py2, py3, py4);\n    const a = A * bx[0] + B * by[0]; // t^3\n    const b = A * bx[1] + B * by[1]; // t^2\n    const c = A * bx[2] + B * by[2]; // t\n    const d = A * bx[3] + B * by[3] + C; // 1\n    const roots = cubicRoots(a, b, c, d);\n    // Verify that the roots are within bounds of the linear segment.\n    for (const t of roots) {\n        const tt = t * t;\n        const ttt = t * tt;\n        // Find the cartesian plane coordinates for the parametric root `t`.\n        const x = bx[0] * ttt + bx[1] * tt + bx[2] * t + bx[3];\n        const y = by[0] * ttt + by[1] * tt + by[2] * t + by[3];\n        // The parametric cubic roots we found are intersection points\n        // with an infinite line, and so the x/y coordinates above are as well.\n        // Make sure the x/y is also within the bounds of the given segment.\n        let s;\n        if (x1 !== x2) {\n            s = (x - x1) / (x2 - x1);\n        }\n        else {\n            // the line is vertical\n            s = (y - y1) / (y2 - y1);\n        }\n        if (s >= 0 && s <= 1) {\n            intersections.push({ x, y });\n        }\n    }\n    return intersections;\n}\n/**\n * Returns the given coordinates vector multiplied by the coefficient matrix\n * of the parametric cubic Bzier equation.\n */\nfunction bezierCoefficients(P1, P2, P3, P4) {\n    return [\n        // Bzier expressed as matrix operations:\n        -P1 + 3 * P2 - 3 * P3 + P4,\n        3 * P1 - 6 * P2 + 3 * P3,\n        -3 * P1 + 3 * P2,\n        P1, //                 | 1  0  0  0| |P4|\n    ];\n}\n/**\n * Returns intersection points of the arc and the line segment.\n * Takes in arc parameters and line segment start/end points.\n */\nexport function arcIntersections(cx, cy, r, startAngle, endAngle, counterClockwise, x1, y1, x2, y2) {\n    // Solving the quadratic equation:\n    // 1. y = k * x + y0\n    // 2. (x - cx)^2 + (y - cy)^2 = r^2\n    const k = (y2 - y1) / (x2 - x1);\n    const y0 = y1 - k * x1;\n    const a = Math.pow(k, 2) + 1;\n    const b = 2 * (k * (y0 - cy) - cx);\n    const c = Math.pow(cx, 2) + Math.pow(y0 - cy, 2) - Math.pow(r, 2);\n    const d = Math.pow(b, 2) - 4 * a * c;\n    if (d < 0) {\n        return [];\n    }\n    const i1x = (-b + Math.sqrt(d)) / 2 / a;\n    const i2x = (-b - Math.sqrt(d)) / 2 / a;\n    const intersections = [];\n    [i1x, i2x].forEach((x) => {\n        const isXInsideLine = x >= Math.min(x1, x2) && x <= Math.max(x1, x2);\n        if (!isXInsideLine) {\n            return;\n        }\n        const y = k * x;\n        const a1 = normalizeAngle360(counterClockwise ? endAngle : startAngle);\n        let a2 = normalizeAngle360(counterClockwise ? startAngle : endAngle);\n        let intersectionAngle = normalizeAngle360(Math.atan2(y, x));\n        // Order angles clockwise after the start angle\n        // (end angle if counter-clockwise)\n        if (a2 <= a1) {\n            a2 += 2 * Math.PI;\n        }\n        if (intersectionAngle < a1) {\n            intersectionAngle += 2 * Math.PI;\n        }\n        if (intersectionAngle >= a1 && intersectionAngle <= a2) {\n            intersections.push({ x, y });\n        }\n    });\n    return intersections;\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Shape } from './shape.mjs';\nimport { Path2D } from '../path2D.mjs';\nimport { RedrawType, SceneChangeDetection } from '../node.mjs';\nexport function ScenePathChangeDetection(opts) {\n    const { redraw = RedrawType.MAJOR, changeCb, convertor } = opts !== null && opts !== void 0 ? opts : {};\n    return SceneChangeDetection({ redraw, type: 'path', convertor, changeCb });\n}\nexport class Path extends Shape {\n    constructor() {\n        super(...arguments);\n        /**\n         * Declare a path to retain for later rendering and hit testing\n         * using custom Path2D class. Think of it as a TypeScript version\n         * of the native Path2D (with some differences) that works in all browsers.\n         */\n        this.path = new Path2D();\n        /**\n         * The path only has to be updated when certain attributes change.\n         * For example, if transform attributes (such as `translationX`)\n         * are changed, we don't have to update the path. The `dirtyPath` flag\n         * is how we keep track if the path has to be updated or not.\n         */\n        this._dirtyPath = true;\n    }\n    set dirtyPath(value) {\n        if (this._dirtyPath !== value) {\n            this._dirtyPath = value;\n            if (value) {\n                this.markDirty(this, RedrawType.MAJOR);\n            }\n        }\n    }\n    get dirtyPath() {\n        return this._dirtyPath;\n    }\n    checkPathDirty() {\n        var _a, _b;\n        if (this._dirtyPath) {\n            return;\n        }\n        this.dirtyPath = this.path.isDirty() || ((_b = (_a = this.fillShadow) === null || _a === void 0 ? void 0 : _a.isDirty()) !== null && _b !== void 0 ? _b : false);\n    }\n    isPointInPath(x, y) {\n        const point = this.transformPoint(x, y);\n        return this.path.closedPath && this.path.isPointInPath(point.x, point.y);\n    }\n    isDirtyPath() {\n        // Override point for more expensive dirty checks.\n        return false;\n    }\n    updatePath() {\n        // Override point for subclasses.\n    }\n    render(renderCtx) {\n        var _a, _b;\n        const { ctx, forceRender, stats } = renderCtx;\n        if (this.dirty === RedrawType.NONE && !forceRender) {\n            if (stats)\n                stats.nodesSkipped += this.nodeCount.count;\n            return;\n        }\n        this.computeTransformMatrix();\n        this.matrix.toContext(ctx);\n        if (this.dirtyPath || this.isDirtyPath()) {\n            this.updatePath();\n            this.dirtyPath = false;\n        }\n        if (this.clipPath) {\n            ctx.save();\n            if (this.clipMode === 'normal') {\n                // Bound the shape rendered to the clipping path.\n                this.clipPath.draw(ctx);\n                ctx.clip();\n            }\n            this.path.draw(ctx);\n            this.fillStroke(ctx);\n            if (this.clipMode === 'punch-out') {\n                // Bound the shape rendered to outside the clipping path.\n                this.clipPath.draw(ctx);\n                ctx.clip();\n                // Fallback values, but practically these should never be used.\n                const { x = -10000, y = -10000, width = 20000, height = 20000 } = (_a = this.computeBBox()) !== null && _a !== void 0 ? _a : {};\n                ctx.clearRect(x, y, width, height);\n            }\n            ctx.restore();\n        }\n        else {\n            this.path.draw(ctx);\n            this.fillStroke(ctx);\n        }\n        (_b = this.fillShadow) === null || _b === void 0 ? void 0 : _b.markClean();\n        super.render(renderCtx);\n    }\n}\nPath.className = 'Path';\n__decorate([\n    ScenePathChangeDetection()\n], Path.prototype, \"clipPath\", void 0);\n__decorate([\n    ScenePathChangeDetection()\n], Path.prototype, \"clipMode\", void 0);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Path, ScenePathChangeDetection } from '../../scene/shape/path.mjs';\nimport { BBox } from '../../scene/bbox.mjs';\nexport class Marker extends Path {\n    constructor() {\n        super(...arguments);\n        this.x = 0;\n        this.y = 0;\n        this.size = 12;\n    }\n    computeBBox() {\n        const { x, y, size } = this;\n        const half = size / 2;\n        return new BBox(x - half, y - half, size, size);\n    }\n    applyPath(s, moves) {\n        const { path } = this;\n        let { x, y } = this;\n        path.clear();\n        for (const { x: mx, y: my, t } of moves) {\n            x += mx * s;\n            y += my * s;\n            if (t === 'move') {\n                path.moveTo(x, y);\n            }\n            else {\n                path.lineTo(x, y);\n            }\n        }\n        path.closePath();\n    }\n}\n__decorate([\n    ScenePathChangeDetection()\n], Marker.prototype, \"x\", void 0);\n__decorate([\n    ScenePathChangeDetection()\n], Marker.prototype, \"y\", void 0);\n__decorate([\n    ScenePathChangeDetection({ convertor: Math.abs })\n], Marker.prototype, \"size\", void 0);\n","import { Marker } from './marker.mjs';\nexport class Circle extends Marker {\n    updatePath() {\n        const { x, y, path, size } = this;\n        const r = size / 2;\n        path.clear();\n        path.arc(x, y, r, 0, Math.PI * 2);\n        path.closePath();\n    }\n}\nCircle.className = 'Circle';\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Marker } from '../marker/marker.mjs';\nimport { Circle } from '../marker/circle.mjs';\nimport { ChangeDetectable, RedrawType, SceneChangeDetection } from '../../scene/changeDetectable.mjs';\nimport { BOOLEAN, NUMBER, OPT_COLOR_STRING, OPT_NUMBER, OPT_NUMBER_ARRAY, predicateWithMessage, Validate, } from '../../util/validation.mjs';\nconst MARKER_SHAPES = ['circle', 'cross', 'diamond', 'heart', 'plus', 'square', 'triangle'];\nconst MARKER_SHAPE = predicateWithMessage((v) => MARKER_SHAPES.includes(v) || Object.getPrototypeOf(v) === Marker, `expecting a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class`);\nexport class SeriesMarker extends ChangeDetectable {\n    constructor() {\n        super(...arguments);\n        this.enabled = true;\n        /**\n         * One of the predefined marker names, or a marker constructor function (for user-defined markers).\n         * A series will create one marker instance per data point.\n         */\n        this.shape = Circle;\n        this.size = 6;\n        /**\n         * In case a series has the `sizeKey` set, the `sizeKey` values along with the `size` and `maxSize` configs\n         * will be used to determine the size of the marker. All values will be mapped to a marker size\n         * within the `[size, maxSize]` range, where the largest values will correspond to the `maxSize`\n         * and the lowest to the `size`.\n         */\n        this.maxSize = 30;\n        this.domain = undefined;\n        this.fill = undefined;\n        this.stroke = undefined;\n        this.strokeWidth = 1;\n        this.fillOpacity = undefined;\n        this.strokeOpacity = undefined;\n    }\n}\n__decorate([\n    Validate(BOOLEAN),\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], SeriesMarker.prototype, \"enabled\", void 0);\n__decorate([\n    Validate(MARKER_SHAPE),\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], SeriesMarker.prototype, \"shape\", void 0);\n__decorate([\n    Validate(NUMBER(0)),\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], SeriesMarker.prototype, \"size\", void 0);\n__decorate([\n    Validate(NUMBER(0)),\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], SeriesMarker.prototype, \"maxSize\", void 0);\n__decorate([\n    Validate(OPT_NUMBER_ARRAY),\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], SeriesMarker.prototype, \"domain\", void 0);\n__decorate([\n    Validate(OPT_COLOR_STRING),\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], SeriesMarker.prototype, \"fill\", void 0);\n__decorate([\n    Validate(OPT_COLOR_STRING),\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], SeriesMarker.prototype, \"stroke\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0)),\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], SeriesMarker.prototype, \"strokeWidth\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0, 1)),\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], SeriesMarker.prototype, \"fillOpacity\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0, 1)),\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], SeriesMarker.prototype, \"strokeOpacity\", void 0);\n","import { Node } from './node.mjs';\nexport class Selection {\n    constructor(parent, classOrFactory) {\n        this._nodes = [];\n        this._data = [];\n        this._parent = parent;\n        this._factory = Object.prototype.isPrototypeOf.call(Node, classOrFactory)\n            ? () => new classOrFactory()\n            : classOrFactory;\n    }\n    static select(parent, classOrFactory) {\n        return new Selection(parent, classOrFactory);\n    }\n    each(iterate) {\n        this._nodes.forEach((node, i) => iterate(node, node.datum, i));\n        return this;\n    }\n    update(data, init) {\n        const old = this._data;\n        const parent = this._parent;\n        const factory = this._factory;\n        if (data.length > old.length) {\n            data.slice(old.length).forEach((datum) => {\n                const node = factory(datum);\n                node.datum = datum;\n                init === null || init === void 0 ? void 0 : init(node);\n                parent.appendChild(node);\n                this._nodes.push(node);\n            });\n        }\n        else if (data.length < old.length) {\n            this._nodes.splice(data.length).forEach((node) => {\n                parent.removeChild(node);\n            });\n        }\n        this._data = data.slice(0);\n        for (let i = 0; i < data.length; i++) {\n            this._nodes[i].datum = this._data[i];\n        }\n        return this;\n    }\n    clear() {\n        this.update([]);\n        return this;\n    }\n    static selectAll(parent, predicate) {\n        const results = [];\n        const traverse = (node) => {\n            if (predicate(node)) {\n                results.push(node);\n            }\n            node.children.forEach(traverse);\n        };\n        traverse(parent);\n        return results;\n    }\n    static selectByClass(node, Class) {\n        return Selection.selectAll(node, (node) => node instanceof Class);\n    }\n    static selectByTag(node, tag) {\n        return Selection.selectAll(node, (node) => node.tag === tag);\n    }\n    select(predicate) {\n        return Selection.selectAll(this._parent, predicate);\n    }\n    selectByClass(Class) {\n        return this.select((node) => node instanceof Class);\n    }\n    selectByTag(tag) {\n        return this.select((node) => node.tag === tag);\n    }\n    nodes() {\n        return this._nodes;\n    }\n}\n","function clamp(x, min, max) {\n    return Math.max(min, Math.min(max, x));\n}\n/**\n * Maps a discrete domain to a continuous numeric range.\n */\nexport class BandScale {\n    constructor() {\n        this.type = 'band';\n        this.cache = null;\n        this.cacheProps = ['_domain', 'range', '_paddingInner', '_paddingOuter', 'round', 'interval'];\n        /**\n         * Maps datum to its index in the {@link domain} array.\n         * Used to check for duplicate datums (not allowed).\n         */\n        this.index = new Map();\n        /**\n         * The output range values for datum at each index.\n         */\n        this.ordinalRange = [];\n        /**\n         * Contains unique datums only. Since `{}` is used in place of `Map`\n         * for IE11 compatibility, the datums are converted `toString` before\n         * the uniqueness check.\n         */\n        this._domain = [];\n        this.range = [0, 1];\n        this._bandwidth = 1;\n        this._rawBandwidth = 1;\n        /**\n         * The ratio of the range that is reserved for space between bands.\n         */\n        this._paddingInner = 0;\n        /**\n         * The ratio of the range that is reserved for space before the first\n         * and after the last band.\n         */\n        this._paddingOuter = 0;\n        this.round = false;\n    }\n    didChange() {\n        const { cache } = this;\n        const didChange = !cache || this.cacheProps.some((p) => this[p] !== cache[p]);\n        if (didChange) {\n            this.cache = {};\n            this.cacheProps.forEach((p) => (this.cache[p] = this[p]));\n            return true;\n        }\n        return false;\n    }\n    refresh() {\n        if (this.didChange()) {\n            this.update();\n        }\n    }\n    set domain(values) {\n        const domain = [];\n        this.index = new Map();\n        const index = this.index;\n        // In case one wants to have duplicate domain values, for example, two 'Italy' categories,\n        // one should use objects rather than strings for domain values like so:\n        // { toString: () => 'Italy' }\n        // { toString: () => 'Italy' }\n        values.forEach((value) => {\n            if (index.get(value) === undefined) {\n                index.set(value, domain.push(value) - 1);\n            }\n        });\n        this._domain = domain;\n    }\n    get domain() {\n        return this._domain;\n    }\n    ticks() {\n        this.refresh();\n        const { interval = 1 } = this;\n        const step = Math.abs(Math.round(interval));\n        return this._domain.filter((_, i) => i % step === 0);\n    }\n    convert(d) {\n        this.refresh();\n        const i = this.index.get(d);\n        if (i === undefined) {\n            return NaN;\n        }\n        const r = this.ordinalRange[i];\n        if (r === undefined) {\n            return NaN;\n        }\n        return r;\n    }\n    invert(position) {\n        this.refresh();\n        const index = this.ordinalRange.findIndex((p) => p === position);\n        return this.domain[index];\n    }\n    get bandwidth() {\n        this.refresh();\n        return this._bandwidth;\n    }\n    get rawBandwidth() {\n        this.refresh();\n        return this._rawBandwidth;\n    }\n    set padding(value) {\n        value = clamp(value, 0, 1);\n        this._paddingInner = value;\n        this._paddingOuter = value;\n    }\n    get padding() {\n        return this._paddingInner;\n    }\n    set paddingInner(value) {\n        this._paddingInner = clamp(value, 0, 1);\n    }\n    get paddingInner() {\n        return this._paddingInner;\n    }\n    set paddingOuter(value) {\n        this._paddingOuter = clamp(value, 0, 1);\n    }\n    get paddingOuter() {\n        return this._paddingOuter;\n    }\n    update() {\n        const count = this._domain.length;\n        if (count === 0) {\n            return;\n        }\n        const round = this.round;\n        const paddingInner = this._paddingInner;\n        const paddingOuter = this._paddingOuter;\n        const [r0, r1] = this.range;\n        const width = r1 - r0;\n        const rawStep = width / Math.max(1, count + 2 * paddingOuter - paddingInner);\n        const step = round ? Math.floor(rawStep) : rawStep;\n        const fullBandWidth = step * (count - paddingInner);\n        const x0 = r0 + (width - fullBandWidth) / 2;\n        const start = round ? Math.round(x0) : x0;\n        const bw = step * (1 - paddingInner);\n        const bandwidth = round ? Math.round(bw) : bw;\n        const rawBandwidth = rawStep * (1 - paddingInner);\n        const values = [];\n        for (let i = 0; i < count; i++) {\n            values.push(start + step * i);\n        }\n        this._bandwidth = bandwidth;\n        this._rawBandwidth = rawBandwidth;\n        this.ordinalRange = values;\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Shape } from './shape.mjs';\nimport { BBox } from '../bbox.mjs';\nimport { RedrawType, SceneChangeDetection } from '../node.mjs';\nexport class Line extends Shape {\n    constructor() {\n        super();\n        this.x1 = 0;\n        this.y1 = 0;\n        this.x2 = 0;\n        this.y2 = 0;\n        this.restoreOwnStyles();\n    }\n    computeBBox() {\n        return new BBox(this.x1, this.y1, this.x2 - this.x1, this.y2 - this.y1);\n    }\n    isPointInPath(_x, _y) {\n        return false;\n    }\n    render(renderCtx) {\n        var _a;\n        const { ctx, forceRender, stats } = renderCtx;\n        if (this.dirty === RedrawType.NONE && !forceRender) {\n            if (stats)\n                stats.nodesSkipped += this.nodeCount.count;\n            return;\n        }\n        this.computeTransformMatrix();\n        this.matrix.toContext(ctx);\n        let x1 = this.x1;\n        let y1 = this.y1;\n        let x2 = this.x2;\n        let y2 = this.y2;\n        // Align to the pixel grid if the line is strictly vertical\n        // or horizontal (but not both, i.e. a dot).\n        if (x1 === x2) {\n            const x = Math.round(x1) + (Math.floor(this.strokeWidth) % 2) / 2;\n            x1 = x;\n            x2 = x;\n        }\n        else if (y1 === y2) {\n            const y = Math.round(y1) + (Math.floor(this.strokeWidth) % 2) / 2;\n            y1 = y;\n            y2 = y;\n        }\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        this.fillStroke(ctx);\n        (_a = this.fillShadow) === null || _a === void 0 ? void 0 : _a.markClean();\n        super.render(renderCtx);\n    }\n}\nLine.className = 'Line';\nLine.defaultStyles = Object.assign({}, Shape.defaultStyles, {\n    fill: undefined,\n    strokeWidth: 1,\n});\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], Line.prototype, \"x1\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], Line.prototype, \"y1\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], Line.prototype, \"x2\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], Line.prototype, \"y2\", void 0);\n","export function isEqual(a, b, epsilon = 1e-10) {\n    return Math.abs(a - b) < epsilon;\n}\n/**\n * `Number.toFixed(n)` always formats a number so that it has `n` digits after the decimal point.\n * For example, `Number(0.00003427).toFixed(2)` returns `0.00`.\n * That's not very helpful, because all the meaningful information is lost.\n * In this case we would want the formatted value to have at least two significant digits: `0.000034`,\n * not two fraction digits.\n * @param value\n * @param fractionOrSignificantDigits\n */\nexport function toFixed(value, fractionOrSignificantDigits = 2) {\n    const power = Math.floor(Math.log(Math.abs(value)) / Math.LN10);\n    if (power >= 0 || !isFinite(power)) {\n        return value.toFixed(fractionOrSignificantDigits); // fraction digits\n    }\n    return value.toFixed(Math.abs(power) - 1 + fractionOrSignificantDigits); // significant digits\n}\n/**\n * Returns the mathematically correct n modulus of m. For context, the JS % operator is remainder\n * NOT modulus, which is why this is needed.\n */\nexport function mod(n, m) {\n    if (n >= 0) {\n        return Math.floor(n % m);\n    }\n    return Math.floor((n % m) + m);\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Shape } from './shape.mjs';\nimport { Path, ScenePathChangeDetection } from './path.mjs';\nimport { BBox } from '../bbox.mjs';\nimport { normalizeAngle360 } from '../../util/angle.mjs';\nimport { isEqual } from '../../util/number.mjs';\nvar ArcType;\n(function (ArcType) {\n    ArcType[ArcType[\"Open\"] = 0] = \"Open\";\n    ArcType[ArcType[\"Chord\"] = 1] = \"Chord\";\n    ArcType[ArcType[\"Round\"] = 2] = \"Round\";\n})(ArcType || (ArcType = {}));\n/**\n * Elliptical arc node.\n */\nexport class Arc extends Path {\n    constructor() {\n        super();\n        this.centerX = 0;\n        this.centerY = 0;\n        this.radius = 10;\n        this.startAngle = 0;\n        this.endAngle = Math.PI * 2;\n        this.counterClockwise = false;\n        /**\n         * The type of arc to render:\n         * - {@link ArcType.Open} - end points of the arc segment are not connected (default)\n         * - {@link ArcType.Chord} - end points of the arc segment are connected by a line segment\n         * - {@link ArcType.Round} - each of the end points of the arc segment are connected\n         *                           to the center of the arc\n         * Arcs with {@link ArcType.Open} do not support hit testing, even if they have their\n         * {@link Shape.fillStyle} set, because they are not closed paths. Hit testing support\n         * would require using two paths - one for rendering, another for hit testing - and there\n         * doesn't seem to be a compelling reason to do that, when one can just use {@link ArcType.Chord}\n         * to create a closed path.\n         */\n        this.type = ArcType.Open;\n        this.restoreOwnStyles();\n    }\n    get fullPie() {\n        return isEqual(normalizeAngle360(this.startAngle), normalizeAngle360(this.endAngle));\n    }\n    updatePath() {\n        const path = this.path;\n        path.clear(); // No need to recreate the Path, can simply clear the existing one.\n        path.arc(this.centerX, this.centerY, this.radius, this.startAngle, this.endAngle, this.counterClockwise);\n        if (this.type === ArcType.Chord) {\n            path.closePath();\n        }\n        else if (this.type === ArcType.Round && !this.fullPie) {\n            path.lineTo(this.centerX, this.centerY);\n            path.closePath();\n        }\n    }\n    computeBBox() {\n        // Only works with full arcs (circles) and untransformed ellipses.\n        return new BBox(this.centerX - this.radius, this.centerY - this.radius, this.radius * 2, this.radius * 2);\n    }\n    isPointInPath(x, y) {\n        const point = this.transformPoint(x, y);\n        const bbox = this.computeBBox();\n        return (this.type !== ArcType.Open &&\n            bbox.containsPoint(point.x, point.y) &&\n            this.path.isPointInPath(point.x, point.y));\n    }\n}\nArc.className = 'Arc';\nArc.defaultStyles = Object.assign({}, Shape.defaultStyles, {\n    lineWidth: 1,\n    fillStyle: null,\n});\n__decorate([\n    ScenePathChangeDetection()\n], Arc.prototype, \"centerX\", void 0);\n__decorate([\n    ScenePathChangeDetection()\n], Arc.prototype, \"centerY\", void 0);\n__decorate([\n    ScenePathChangeDetection()\n], Arc.prototype, \"radius\", void 0);\n__decorate([\n    ScenePathChangeDetection()\n], Arc.prototype, \"startAngle\", void 0);\n__decorate([\n    ScenePathChangeDetection()\n], Arc.prototype, \"endAngle\", void 0);\n__decorate([\n    ScenePathChangeDetection()\n], Arc.prototype, \"counterClockwise\", void 0);\n__decorate([\n    ScenePathChangeDetection()\n], Arc.prototype, \"type\", void 0);\n","import { addTransformToInstanceProperty } from './decorator.mjs';\nexport function ProxyOnWrite(proxyProperty) {\n    return addTransformToInstanceProperty((target, _, value) => {\n        target[proxyProperty] = value;\n        return value;\n    });\n}\nexport function ProxyPropertyOnWrite(childName, childProperty) {\n    return addTransformToInstanceProperty((target, key, value) => {\n        target[childName][childProperty !== null && childProperty !== void 0 ? childProperty : key] = value;\n        return value;\n    });\n}\n/**\n * Allows side-effects to be triggered on property write.\n *\n * @param opts.newValue called when a new value is set - never called for undefined values.\n * @param opts.oldValue called with the old value before a new value is set - never called for\n *                      undefined values.\n * @param opts.changeValue called on any change to the value - always called.\n */\nexport function ActionOnSet(opts) {\n    const { newValue: newValueFn, oldValue: oldValueFn, changeValue: changeValueFn } = opts;\n    return addTransformToInstanceProperty((target, _, newValue, oldValue) => {\n        if (newValue !== oldValue) {\n            if (oldValue !== undefined) {\n                oldValueFn === null || oldValueFn === void 0 ? void 0 : oldValueFn.call(target, oldValue);\n            }\n            if (newValue !== undefined) {\n                newValueFn === null || newValueFn === void 0 ? void 0 : newValueFn.call(target, newValue);\n            }\n            changeValueFn === null || changeValueFn === void 0 ? void 0 : changeValueFn.call(target, newValue, oldValue);\n        }\n        return newValue;\n    });\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Text } from './scene/shape/text.mjs';\nimport { PointerEvents } from './scene/node.mjs';\nimport { BOOLEAN, NUMBER, OPT_COLOR_STRING, OPT_FONT_STYLE, OPT_FONT_WEIGHT, OPT_NUMBER, OPT_STRING, STRING, TEXT_WRAP, Validate, } from './util/validation.mjs';\nimport { ProxyPropertyOnWrite } from './util/proxy.mjs';\nexport class Caption {\n    constructor() {\n        this.node = new Text();\n        this.enabled = false;\n        this.text = undefined;\n        this.fontSize = 10;\n        this.fontFamily = 'sans-serif';\n        this.spacing = Caption.PADDING;\n        this.lineHeight = undefined;\n        this.maxWidth = undefined;\n        this.maxHeight = undefined;\n        this.wrapping = 'always';\n        const node = this.node;\n        node.textAlign = 'center';\n        node.pointerEvents = PointerEvents.None;\n    }\n    computeTextWrap(containerWidth, containerHeight) {\n        var _a, _b;\n        const { text, wrapping } = this;\n        const maxWidth = Math.min((_a = this.maxWidth) !== null && _a !== void 0 ? _a : Infinity, containerWidth);\n        const maxHeight = (_b = this.maxHeight) !== null && _b !== void 0 ? _b : containerHeight;\n        if (!isFinite(maxWidth) && !isFinite(maxHeight)) {\n            this.node.text = text;\n            return;\n        }\n        const wrapped = Text.wrap(text !== null && text !== void 0 ? text : '', maxWidth, maxHeight, this, wrapping);\n        this.node.text = wrapped;\n    }\n}\nCaption.PADDING = 10;\n__decorate([\n    Validate(BOOLEAN)\n], Caption.prototype, \"enabled\", void 0);\n__decorate([\n    Validate(OPT_STRING),\n    ProxyPropertyOnWrite('node')\n], Caption.prototype, \"text\", void 0);\n__decorate([\n    Validate(OPT_FONT_STYLE),\n    ProxyPropertyOnWrite('node')\n], Caption.prototype, \"fontStyle\", void 0);\n__decorate([\n    Validate(OPT_FONT_WEIGHT),\n    ProxyPropertyOnWrite('node')\n], Caption.prototype, \"fontWeight\", void 0);\n__decorate([\n    Validate(NUMBER(0)),\n    ProxyPropertyOnWrite('node')\n], Caption.prototype, \"fontSize\", void 0);\n__decorate([\n    Validate(STRING),\n    ProxyPropertyOnWrite('node')\n], Caption.prototype, \"fontFamily\", void 0);\n__decorate([\n    Validate(OPT_COLOR_STRING),\n    ProxyPropertyOnWrite('node', 'fill')\n], Caption.prototype, \"color\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0))\n], Caption.prototype, \"spacing\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0))\n], Caption.prototype, \"lineHeight\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0))\n], Caption.prototype, \"maxWidth\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0))\n], Caption.prototype, \"maxHeight\", void 0);\n__decorate([\n    Validate(TEXT_WRAP)\n], Caption.prototype, \"wrapping\", void 0);\n","export function areArrayItemsStrictlyEqual(arrA, arrB) {\n    return (arrA.length === arrB.length &&\n        arrA.every((a, i) => {\n            const b = arrB[i];\n            if (Array.isArray(a) && Array.isArray(b)) {\n                return areArrayItemsStrictlyEqual(a, b);\n            }\n            return a === b;\n        }));\n}\nexport function areArrayNumbersEqual(arrA, arrB) {\n    return arrA.length === arrB.length && arrA.every((item, i) => Number(item) === Number(arrB[i]));\n}\n","import { Logger } from '../util/logger.mjs';\nexport class ContinuousScale {\n    constructor(domain, range) {\n        this.domain = domain;\n        this.range = range;\n        this.nice = false;\n        this.tickCount = ContinuousScale.defaultTickCount;\n        this.minTickCount = 0;\n        this.maxTickCount = Infinity;\n        this.niceDomain = null;\n        this.strictClampByDefault = false;\n        this.cache = null;\n        this.cacheProps = ['domain', 'range', 'nice', 'tickCount', 'minTickCount', 'maxTickCount'];\n    }\n    transform(x) {\n        return x;\n    }\n    transformInvert(x) {\n        return x;\n    }\n    fromDomain(d) {\n        if (typeof d === 'number') {\n            return d;\n        }\n        else if (d instanceof Date) {\n            return d.getTime();\n        }\n        return NaN;\n    }\n    getDomain() {\n        if (this.nice) {\n            this.refresh();\n            if (this.niceDomain) {\n                return this.niceDomain;\n            }\n        }\n        return this.domain;\n    }\n    convert(x, params) {\n        var _a;\n        if (!this.domain || this.domain.length < 2) {\n            return NaN;\n        }\n        this.refresh();\n        const strict = (_a = params === null || params === void 0 ? void 0 : params.strict) !== null && _a !== void 0 ? _a : this.strictClampByDefault;\n        const domain = this.getDomain().map((d) => this.transform(d));\n        const [d0, d1] = domain;\n        const { range } = this;\n        const [r0, r1] = range;\n        x = this.transform(x);\n        if (x < d0) {\n            return strict ? NaN : r0;\n        }\n        else if (x > d1) {\n            return strict ? NaN : r1;\n        }\n        if (d0 === d1) {\n            return (r0 + r1) / 2;\n        }\n        else if (x === d0) {\n            return r0;\n        }\n        else if (x === d1) {\n            return r1;\n        }\n        return (r0 + ((this.fromDomain(x) - this.fromDomain(d0)) / (this.fromDomain(d1) - this.fromDomain(d0))) * (r1 - r0));\n    }\n    invert(x) {\n        this.refresh();\n        const domain = this.getDomain().map((d) => this.transform(d));\n        const [d0, d1] = domain;\n        const { range } = this;\n        const [r0, r1] = range;\n        const isReversed = r0 > r1;\n        const rMin = isReversed ? r1 : r0;\n        const rMax = isReversed ? r0 : r1;\n        let d;\n        if (x < rMin) {\n            return isReversed ? d1 : d0;\n        }\n        else if (x > rMax) {\n            return isReversed ? d0 : d1;\n        }\n        else if (r0 === r1) {\n            d = this.toDomain((this.fromDomain(d0) + this.fromDomain(d1)) / 2);\n        }\n        else {\n            d = this.toDomain(this.fromDomain(d0) + ((x - r0) / (r1 - r0)) * (this.fromDomain(d1) - this.fromDomain(d0)));\n        }\n        return this.transformInvert(d);\n    }\n    didChange() {\n        const { cache } = this;\n        const didChange = !cache || this.cacheProps.some((p) => this[p] !== cache[p]);\n        if (didChange) {\n            this.cache = {};\n            this.cacheProps.forEach((p) => (this.cache[p] = this[p]));\n            return true;\n        }\n        return false;\n    }\n    refresh() {\n        if (this.didChange()) {\n            this.update();\n        }\n    }\n    isDenseInterval({ start, stop, interval, count, }) {\n        const { range } = this;\n        const domain = stop - start;\n        const min = Math.min(range[0], range[1]);\n        const max = Math.max(range[0], range[1]);\n        const availableRange = max - min;\n        const step = typeof interval === 'number' ? interval : 1;\n        count !== null && count !== void 0 ? count : (count = domain / step);\n        if (count >= availableRange) {\n            Logger.warn(`the configured tick interval results in more than 1 tick per pixel, ignoring. Supply a larger tick interval or omit this configuration.`);\n            return true;\n        }\n        return false;\n    }\n}\nContinuousScale.defaultTickCount = 5;\nContinuousScale.defaultMaxTickCount = 6;\n","export default function (start, stop, count, minCount, maxCount) {\n    if (count < 2) {\n        return range(start, stop, stop - start);\n    }\n    const step = tickStep(start, stop, count, minCount, maxCount);\n    if (isNaN(step)) {\n        return new NumericTicks(0);\n    }\n    start = Math.ceil(start / step) * step;\n    stop = Math.floor(stop / step) * step;\n    return range(start, stop, step);\n}\nconst tickMultipliers = [1, 2, 5, 10];\nexport function tickStep(a, b, count, minCount = 0, maxCount = Infinity) {\n    const rawStep = (b - a) / count;\n    const power = Math.floor(Math.log10(rawStep));\n    const step = Math.pow(10, power);\n    const m = tickMultipliers\n        .map((multiplier) => {\n        const s = multiplier * step;\n        const c = Math.ceil((b - a) / s);\n        const isWithinBounds = c >= minCount && c <= maxCount;\n        const diffCount = Math.abs(c - count);\n        return { multiplier, isWithinBounds, diffCount };\n    })\n        .sort((a, b) => {\n        if (a.isWithinBounds !== b.isWithinBounds) {\n            return a.isWithinBounds ? -1 : 1;\n        }\n        return a.diffCount - b.diffCount;\n    })[0].multiplier;\n    if (!m || isNaN(m)) {\n        return NaN;\n    }\n    return m * step;\n}\nexport function singleTickDomain(a, b) {\n    const power = Math.floor(Math.log10(b - a));\n    const step = Math.pow(10, power);\n    return tickMultipliers\n        .map((multiplier) => {\n        const s = multiplier * step;\n        const start = Math.floor(a / s) * s;\n        const end = Math.ceil(b / s) * s;\n        const error = 1 - (b - a) / (end - start);\n        const domain = [start, end];\n        return { error, domain };\n    })\n        .sort((a, b) => a.error - b.error)[0].domain;\n}\nexport class NumericTicks extends Array {\n    constructor(fractionDigits, elements) {\n        super();\n        if (elements) {\n            for (let i = 0, n = elements.length; i < n; i++) {\n                this[i] = elements[i];\n            }\n        }\n        this.fractionDigits = fractionDigits;\n    }\n}\nexport function range(start, stop, step) {\n    const countDigits = (expNo) => {\n        var _a, _b;\n        const parts = expNo.split('e');\n        return Math.max(((_b = (_a = parts[0].split('.')[1]) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) - Number(parts[1]), 0);\n    };\n    const fractionalDigits = countDigits((step % 1).toExponential());\n    const f = Math.pow(10, fractionalDigits);\n    const n = Math.ceil((stop - start) / step);\n    const values = new NumericTicks(fractionalDigits);\n    for (let i = 0; i <= n; i++) {\n        const value = start + step * i;\n        values.push(Math.round(value * f) / f);\n    }\n    return values;\n}\n","const CONSTANTS = {\n    periods: ['AM', 'PM'],\n    days: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n    shortDays: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    months: [\n        'January',\n        'February',\n        'March',\n        'April',\n        'May',\n        'June',\n        'July',\n        'August',\n        'September',\n        'October',\n        'November',\n        'December',\n    ],\n    shortMonths: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n};\nfunction dayOfYear(date, startOfYear = new Date(date.getFullYear(), 0, 1)) {\n    const startOffset = date.getTimezoneOffset() - startOfYear.getTimezoneOffset();\n    const timeDiff = date.getTime() - startOfYear.getTime() + startOffset * 60000;\n    const timeOneDay = 3600000 * 24;\n    return Math.floor(timeDiff / timeOneDay);\n}\nfunction weekOfYear(date, startDay) {\n    const startOfYear = new Date(date.getFullYear(), 0, 1);\n    const startOfYearDay = startOfYear.getDay();\n    const firstWeekStartOffset = (startDay - startOfYearDay + 7) % 7;\n    const startOffset = new Date(date.getFullYear(), 0, firstWeekStartOffset + 1);\n    if (startOffset <= date) {\n        return Math.floor(dayOfYear(date, startOffset) / 7) + 1;\n    }\n    // Days before week 1 are in week 0.\n    return 0;\n}\nconst SUNDAY = 0;\nconst MONDAY = 1;\nconst THURSDAY = 4;\nfunction isoWeekOfYear(date, year = date.getFullYear()) {\n    const firstOfYear = new Date(year, 0, 1);\n    const firstOfYearDay = firstOfYear.getDay();\n    const firstThursdayOffset = (THURSDAY - firstOfYearDay + 7) % 7;\n    const startOffset = new Date(year, 0, firstThursdayOffset - (THURSDAY - MONDAY) + 1);\n    if (startOffset <= date) {\n        return Math.floor(dayOfYear(date, startOffset) / 7) + 1;\n    }\n    // Days before week 1 are in week 52/53 of previous year.\n    return isoWeekOfYear(date, year - 1);\n}\nfunction timezone(date) {\n    const offset = date.getTimezoneOffset();\n    const unsignedOffset = Math.abs(offset);\n    const sign = offset > 0 ? '-' : '+';\n    return `${sign}${pad(Math.floor(unsignedOffset / 60), 2, '0')}${pad(Math.floor(unsignedOffset % 60), 2, '0')}`;\n}\nconst FORMATTERS = {\n    a: (d) => CONSTANTS.shortDays[d.getDay()],\n    A: (d) => CONSTANTS.days[d.getDay()],\n    b: (d) => CONSTANTS.shortMonths[d.getMonth()],\n    B: (d) => CONSTANTS.months[d.getMonth()],\n    c: '%x, %X',\n    d: (d, p) => pad(d.getDate(), 2, p !== null && p !== void 0 ? p : '0'),\n    e: '%_d',\n    f: (d, p) => pad(d.getMilliseconds() * 1000, 6, p !== null && p !== void 0 ? p : '0'),\n    H: (d, p) => pad(d.getHours(), 2, p !== null && p !== void 0 ? p : '0'),\n    I: (d, p) => {\n        const hours = d.getHours() % 12;\n        return hours === 0 ? '12' : pad(hours, 2, p !== null && p !== void 0 ? p : '0');\n    },\n    j: (d, p) => pad(dayOfYear(d) + 1, 3, p !== null && p !== void 0 ? p : '0'),\n    m: (d, p) => pad(d.getMonth() + 1, 2, p !== null && p !== void 0 ? p : '0'),\n    M: (d, p) => pad(d.getMinutes(), 2, p !== null && p !== void 0 ? p : '0'),\n    L: (d, p) => pad(d.getMilliseconds(), 3, p !== null && p !== void 0 ? p : '0'),\n    p: (d) => (d.getHours() < 12 ? 'AM' : 'PM'),\n    Q: (d) => String(d.getTime()),\n    s: (d) => String(Math.floor(d.getTime() / 1000)),\n    S: (d, p) => pad(d.getSeconds(), 2, p !== null && p !== void 0 ? p : '0'),\n    u: (d) => {\n        let day = d.getDay();\n        if (day < 1)\n            day += 7;\n        return String(day % 7);\n    },\n    U: (d, p) => pad(weekOfYear(d, SUNDAY), 2, p !== null && p !== void 0 ? p : '0'),\n    V: (d, p) => pad(isoWeekOfYear(d), 2, p !== null && p !== void 0 ? p : '0'),\n    w: (d, p) => pad(d.getDay(), 2, p !== null && p !== void 0 ? p : '0'),\n    W: (d, p) => pad(weekOfYear(d, MONDAY), 2, p !== null && p !== void 0 ? p : '0'),\n    x: '%-m/%-d/%Y',\n    X: '%-I:%M:%S %p',\n    y: (d, p) => pad(d.getFullYear() % 100, 2, p !== null && p !== void 0 ? p : '0'),\n    Y: (d, p) => pad(d.getFullYear(), 4, p !== null && p !== void 0 ? p : '0'),\n    Z: (d) => timezone(d),\n    '%': () => '%',\n};\nconst PADS = {\n    _: ' ',\n    '0': '0',\n    '-': '',\n};\nfunction pad(value, size, padChar) {\n    const output = String(Math.floor(value));\n    if (output.length >= size) {\n        return output;\n    }\n    return `${padChar.repeat(size - output.length)}${output}`;\n}\nexport function buildFormatter(formatString) {\n    const formatParts = [];\n    while (formatString.length > 0) {\n        let nextEscapeIdx = formatString.indexOf('%');\n        if (nextEscapeIdx !== 0) {\n            const literalPart = nextEscapeIdx > 0 ? formatString.substring(0, nextEscapeIdx) : formatString;\n            formatParts.push(literalPart);\n        }\n        if (nextEscapeIdx < 0)\n            break;\n        const maybePadSpecifier = formatString[nextEscapeIdx + 1];\n        const maybePad = PADS[maybePadSpecifier];\n        if (maybePad != null) {\n            nextEscapeIdx++;\n        }\n        const maybeFormatterSpecifier = formatString[nextEscapeIdx + 1];\n        const maybeFormatter = FORMATTERS[maybeFormatterSpecifier];\n        if (typeof maybeFormatter === 'function') {\n            formatParts.push([maybeFormatter, maybePad]);\n        }\n        else if (typeof maybeFormatter === 'string') {\n            const formatter = buildFormatter(maybeFormatter);\n            formatParts.push([formatter, maybePad]);\n        }\n        else {\n            formatParts.push(`${maybePad !== null && maybePad !== void 0 ? maybePad : ''}${maybeFormatterSpecifier}`);\n        }\n        formatString = formatString.substring(nextEscapeIdx + 2);\n    }\n    return (dateTime) => {\n        const dateTimeAsDate = typeof dateTime === 'number' ? new Date(dateTime) : dateTime;\n        return formatParts.map((c) => (typeof c === 'string' ? c : c[0](dateTimeAsDate, c[1]))).join('');\n    };\n}\n","import { ContinuousScale } from './continuousScale.mjs';\nimport timeMillisecond from '../util/time/millisecond.mjs';\nimport timeSecond from '../util/time/second.mjs';\nimport timeMinute from '../util/time/minute.mjs';\nimport timeHour from '../util/time/hour.mjs';\nimport timeDay from '../util/time/day.mjs';\nimport timeWeek from '../util/time/week.mjs';\nimport timeMonth from '../util/time/month.mjs';\nimport timeYear from '../util/time/year.mjs';\nimport { durationSecond, durationMinute, durationHour, durationDay, durationWeek, durationMonth, durationYear, } from '../util/time/duration.mjs';\nimport { TimeInterval } from '../util/time/interval.mjs';\nimport { tickStep } from '../util/ticks.mjs';\nimport { buildFormatter } from '../util/timeFormat.mjs';\nvar DefaultTimeFormats;\n(function (DefaultTimeFormats) {\n    DefaultTimeFormats[DefaultTimeFormats[\"MILLISECOND\"] = 0] = \"MILLISECOND\";\n    DefaultTimeFormats[DefaultTimeFormats[\"SECOND\"] = 1] = \"SECOND\";\n    DefaultTimeFormats[DefaultTimeFormats[\"MINUTE\"] = 2] = \"MINUTE\";\n    DefaultTimeFormats[DefaultTimeFormats[\"HOUR\"] = 3] = \"HOUR\";\n    DefaultTimeFormats[DefaultTimeFormats[\"WEEK_DAY\"] = 4] = \"WEEK_DAY\";\n    DefaultTimeFormats[DefaultTimeFormats[\"SHORT_MONTH\"] = 5] = \"SHORT_MONTH\";\n    DefaultTimeFormats[DefaultTimeFormats[\"MONTH\"] = 6] = \"MONTH\";\n    DefaultTimeFormats[DefaultTimeFormats[\"SHORT_YEAR\"] = 7] = \"SHORT_YEAR\";\n    DefaultTimeFormats[DefaultTimeFormats[\"YEAR\"] = 8] = \"YEAR\";\n})(DefaultTimeFormats || (DefaultTimeFormats = {}));\nconst formatStrings = {\n    [DefaultTimeFormats.MILLISECOND]: '.%L',\n    [DefaultTimeFormats.SECOND]: ':%S',\n    [DefaultTimeFormats.MINUTE]: '%I:%M',\n    [DefaultTimeFormats.HOUR]: '%I %p',\n    [DefaultTimeFormats.WEEK_DAY]: '%a',\n    [DefaultTimeFormats.SHORT_MONTH]: '%b %d',\n    [DefaultTimeFormats.MONTH]: '%B',\n    [DefaultTimeFormats.SHORT_YEAR]: '%y',\n    [DefaultTimeFormats.YEAR]: '%Y',\n};\nfunction toNumber(x) {\n    return x instanceof Date ? x.getTime() : x;\n}\nexport class TimeScale extends ContinuousScale {\n    constructor() {\n        super([new Date(2022, 11, 7), new Date(2022, 11, 8)], [0, 1]);\n        this.type = 'time';\n        this.cacheProps = [\n            'domain',\n            'range',\n            'nice',\n            'tickCount',\n            'interval',\n            'minTickCount',\n            'maxTickCount',\n        ];\n        this.year = timeYear;\n        this.month = timeMonth;\n        this.week = timeWeek;\n        this.day = timeDay;\n        this.hour = timeHour;\n        this.minute = timeMinute;\n        this.second = timeSecond;\n        this.millisecond = timeMillisecond;\n        /**\n         * Array of default tick intervals in the following format:\n         *\n         *     [\n         *         interval (unit of time),\n         *         number of units (step),\n         *         the length of that number of units in milliseconds\n         *     ]\n         */\n        this.tickIntervals = [\n            [this.second, 1, durationSecond],\n            [this.second, 5, 5 * durationSecond],\n            [this.second, 15, 15 * durationSecond],\n            [this.second, 30, 30 * durationSecond],\n            [this.minute, 1, durationMinute],\n            [this.minute, 5, 5 * durationMinute],\n            [this.minute, 15, 15 * durationMinute],\n            [this.minute, 30, 30 * durationMinute],\n            [this.hour, 1, durationHour],\n            [this.hour, 3, 3 * durationHour],\n            [this.hour, 6, 6 * durationHour],\n            [this.hour, 12, 12 * durationHour],\n            [this.day, 1, durationDay],\n            [this.day, 2, 2 * durationDay],\n            [this.week, 1, durationWeek],\n            [this.week, 2, 2 * durationWeek],\n            [this.week, 3, 3 * durationWeek],\n            [this.month, 1, durationMonth],\n            [this.month, 2, 2 * durationMonth],\n            [this.month, 3, 3 * durationMonth],\n            [this.month, 4, 4 * durationMonth],\n            [this.month, 6, 6 * durationMonth],\n            [this.year, 1, durationYear],\n        ];\n    }\n    toDomain(d) {\n        return new Date(d);\n    }\n    calculateDefaultTickFormat(ticks = []) {\n        let defaultTimeFormat = DefaultTimeFormats.YEAR;\n        const updateFormat = (format) => {\n            if (format < defaultTimeFormat) {\n                defaultTimeFormat = format;\n            }\n        };\n        for (const value of ticks) {\n            const format = this.getLowestGranularityFormat(value);\n            updateFormat(format);\n        }\n        const firstTick = toNumber(ticks[0]);\n        const lastTick = toNumber(ticks[ticks.length - 1]);\n        const startYear = new Date(firstTick).getFullYear();\n        const stopYear = new Date(lastTick).getFullYear();\n        const yearChange = stopYear - startYear > 0;\n        return this.buildFormatString(defaultTimeFormat, yearChange);\n    }\n    buildFormatString(defaultTimeFormat, yearChange) {\n        let formatStringArray = [formatStrings[defaultTimeFormat]];\n        let timeEndIndex = 0;\n        const domain = this.getDomain();\n        const start = Math.min(...domain.map(toNumber));\n        const stop = Math.max(...domain.map(toNumber));\n        const extent = stop - start;\n        switch (defaultTimeFormat) {\n            case DefaultTimeFormats.SECOND:\n                if (extent / durationMinute > 1) {\n                    formatStringArray.push(formatStrings[DefaultTimeFormats.MINUTE]);\n                }\n            // fall through deliberately\n            case DefaultTimeFormats.MINUTE:\n                if (extent / durationHour > 1) {\n                    formatStringArray.push(formatStrings[DefaultTimeFormats.HOUR]);\n                }\n            // fall through deliberately\n            case DefaultTimeFormats.HOUR:\n                timeEndIndex = formatStringArray.length;\n                if (extent / durationDay > 1) {\n                    formatStringArray.push(formatStrings[DefaultTimeFormats.WEEK_DAY]);\n                }\n            // fall through deliberately\n            case DefaultTimeFormats.WEEK_DAY:\n                if (extent / durationWeek > 1 || yearChange) {\n                    // if it's more than a week or there is a year change, don't show week day\n                    const weekDayIndex = formatStringArray.indexOf(formatStrings[DefaultTimeFormats.WEEK_DAY]);\n                    if (weekDayIndex > -1) {\n                        formatStringArray.splice(weekDayIndex, 1, formatStrings[DefaultTimeFormats.SHORT_MONTH]);\n                    }\n                }\n            // fall through deliberately\n            case DefaultTimeFormats.SHORT_MONTH:\n            case DefaultTimeFormats.MONTH:\n                if (extent / durationYear > 1 || yearChange) {\n                    formatStringArray.push(formatStrings[DefaultTimeFormats.YEAR]);\n                }\n            // fall through deliberately\n            default:\n                break;\n        }\n        if (timeEndIndex < formatStringArray.length) {\n            // Insert a gap between all date components.\n            formatStringArray = [\n                ...formatStringArray.slice(0, timeEndIndex),\n                formatStringArray.slice(timeEndIndex).join(' '),\n            ];\n        }\n        if (timeEndIndex > 0) {\n            // Reverse order of time components, since they should be displayed in descending\n            // granularity.\n            formatStringArray = [\n                ...formatStringArray.slice(0, timeEndIndex).reverse(),\n                ...formatStringArray.slice(timeEndIndex),\n            ];\n            if (timeEndIndex < formatStringArray.length) {\n                // Insert a gap between time and date components.\n                formatStringArray.splice(timeEndIndex, 0, ' ');\n            }\n        }\n        return formatStringArray.join('');\n    }\n    getLowestGranularityFormat(value) {\n        if (this.second.floor(value) < value) {\n            return DefaultTimeFormats.MILLISECOND;\n        }\n        else if (this.minute.floor(value) < value) {\n            return DefaultTimeFormats.SECOND;\n        }\n        else if (this.hour.floor(value) < value) {\n            return DefaultTimeFormats.MINUTE;\n        }\n        else if (this.day.floor(value) < value) {\n            return DefaultTimeFormats.HOUR;\n        }\n        else if (this.month.floor(value) < value) {\n            if (this.week.floor(value) < value) {\n                return DefaultTimeFormats.WEEK_DAY;\n            }\n            return DefaultTimeFormats.SHORT_MONTH;\n        }\n        else if (this.year.floor(value) < value) {\n            return DefaultTimeFormats.MONTH;\n        }\n        return DefaultTimeFormats.YEAR;\n    }\n    defaultTickFormat(ticks) {\n        const formatString = this.calculateDefaultTickFormat(ticks);\n        return (date) => buildFormatter(formatString)(date);\n    }\n    /**\n     * @param options Tick interval options.\n     * @param options.start The start time (timestamp).\n     * @param options.stop The end time (timestamp).\n     * @param options.count Number of intervals between ticks.\n     */\n    getTickInterval({ start, stop, count, minCount, maxCount, }) {\n        const { tickIntervals } = this;\n        let countableTimeInterval;\n        let step;\n        const tickCount = count !== null && count !== void 0 ? count : ContinuousScale.defaultTickCount;\n        const target = Math.abs(stop - start) / Math.max(tickCount, 1);\n        let i = 0;\n        while (i < tickIntervals.length && target > tickIntervals[i][2]) {\n            i++;\n        }\n        if (i === 0) {\n            step = Math.max(tickStep(start, stop, tickCount, minCount, maxCount), 1);\n            countableTimeInterval = this.millisecond;\n        }\n        else if (i === tickIntervals.length) {\n            const y0 = start / durationYear;\n            const y1 = stop / durationYear;\n            step = tickStep(y0, y1, tickCount, minCount, maxCount);\n            countableTimeInterval = this.year;\n        }\n        else {\n            const diff0 = target - tickIntervals[i - 1][2];\n            const diff1 = tickIntervals[i][2] - target;\n            const index = diff0 < diff1 ? i - 1 : i;\n            [countableTimeInterval, step] = tickIntervals[index];\n        }\n        return countableTimeInterval.every(step);\n    }\n    invert(y) {\n        return new Date(super.invert(y));\n    }\n    /**\n     * Returns uniformly-spaced dates that represent the scale's domain.\n     */\n    ticks() {\n        if (!this.domain || this.domain.length < 2) {\n            return [];\n        }\n        this.refresh();\n        const [t0, t1] = this.getDomain().map(toNumber);\n        if (this.interval !== undefined) {\n            return this.getTicksForInterval({ start: t0, stop: t1 });\n        }\n        if (this.nice) {\n            const { tickCount } = this;\n            if (tickCount === 2) {\n                return this.niceDomain;\n            }\n            if (tickCount === 1) {\n                return this.niceDomain.slice(0, 1);\n            }\n        }\n        return this.getDefaultTicks({ start: t0, stop: t1 });\n    }\n    getDefaultTicks({ start, stop }) {\n        const t = this.getTickInterval({\n            start,\n            stop,\n            count: this.tickCount,\n            minCount: this.minTickCount,\n            maxCount: this.maxTickCount,\n        });\n        return t ? t.range(new Date(start), new Date(stop)) : []; // inclusive stop\n    }\n    getTicksForInterval({ start, stop }) {\n        const { interval, tickIntervals } = this;\n        if (!interval) {\n            return [];\n        }\n        if (interval instanceof TimeInterval) {\n            const ticks = interval.range(new Date(start), new Date(stop));\n            if (this.isDenseInterval({ start, stop, interval, count: ticks.length })) {\n                return this.getDefaultTicks({ start, stop });\n            }\n            return ticks;\n        }\n        const absInterval = Math.abs(interval);\n        if (this.isDenseInterval({ start, stop, interval: absInterval })) {\n            return this.getDefaultTicks({ start, stop });\n        }\n        const reversedInterval = [...tickIntervals];\n        reversedInterval.reverse();\n        const timeInterval = reversedInterval.find((tickInterval) => absInterval % tickInterval[2] === 0);\n        if (timeInterval) {\n            const i = timeInterval[0].every(absInterval / (timeInterval[2] / timeInterval[1]));\n            return i.range(new Date(start), new Date(stop));\n        }\n        let date = new Date(start);\n        const stopDate = new Date(stop);\n        const ticks = [];\n        while (date <= stopDate) {\n            ticks.push(date);\n            date = new Date(date);\n            date.setMilliseconds(date.getMilliseconds() + absInterval);\n        }\n        return ticks;\n    }\n    /**\n     * Returns a time format function suitable for displaying tick values.\n     * @param specifier If the specifier string is provided, this method is equivalent to\n     * the {@link TimeLocaleObject.format} method.\n     * If no specifier is provided, this method returns the default time format function.\n     */\n    tickFormat({ ticks, specifier }) {\n        return specifier == undefined ? this.defaultTickFormat(ticks) : buildFormatter(specifier);\n    }\n    update() {\n        if (!this.domain || this.domain.length < 2) {\n            return;\n        }\n        if (this.nice) {\n            this.updateNiceDomain();\n        }\n    }\n    /**\n     * Extends the domain so that it starts and ends on nice round values.\n     * This method typically modifies the scales domain, and may only extend the bounds to the nearest round value.\n     */\n    updateNiceDomain() {\n        const maxAttempts = 4;\n        let [d0, d1] = this.domain;\n        for (let i = 0; i < maxAttempts; i++) {\n            this.updateNiceDomainIteration(d0, d1);\n            const [n0, n1] = this.niceDomain;\n            if (toNumber(d0) === toNumber(n0) && toNumber(d1) === toNumber(n1)) {\n                break;\n            }\n            d0 = n0;\n            d1 = n1;\n        }\n    }\n    updateNiceDomainIteration(d0, d1) {\n        const start = toNumber(d0);\n        const stop = toNumber(d1);\n        const { interval } = this;\n        let i;\n        if (interval instanceof TimeInterval) {\n            i = interval;\n        }\n        else {\n            const tickCount = typeof interval === 'number' ? (stop - start) / Math.max(interval, 1) : this.tickCount;\n            i = this.getTickInterval({\n                start,\n                stop,\n                count: tickCount,\n                minCount: this.minTickCount,\n                maxCount: this.maxTickCount,\n            });\n        }\n        if (i) {\n            const intervalRange = i.range(d0, d1, true);\n            const n0 = intervalRange[0];\n            const n1 = intervalRange[intervalRange.length - 1];\n            this.niceDomain = [n0, n1];\n        }\n    }\n}\n","const group = (content) => `(${content})`;\nconst optionalGroup = (content) => `${group(content)}?`;\nconst nonCapturingGroup = (content) => optionalGroup(`?:${content}`);\nconst formatRegEx = (() => {\n    const fill = '.';\n    const align = '[<>=^]';\n    const sign = '[+\\\\-( ]';\n    const symbol = '[$#]';\n    const zero = '0';\n    const width = '\\\\d+';\n    const comma = ',';\n    const precision = '\\\\d+';\n    const tilde = '~';\n    const type = '[%a-z]';\n    return new RegExp([\n        '^',\n        nonCapturingGroup(`${optionalGroup(fill)}${group(align)}`),\n        optionalGroup(sign),\n        optionalGroup(symbol),\n        optionalGroup(zero),\n        optionalGroup(width),\n        optionalGroup(comma),\n        nonCapturingGroup(`\\\\.${group(precision)}`),\n        optionalGroup(tilde),\n        optionalGroup(type),\n        '$',\n    ].join(''), 'i');\n})();\nconst surroundedRegEx = (() => {\n    const prefix = '.*?';\n    const content = '.+?';\n    const suffix = '.*?';\n    return new RegExp(['^', group(prefix), `#\\\\{${group(content)}\\\\}`, group(suffix), '$'].join(''));\n})();\nfunction parseFormatter(formatter) {\n    let prefix;\n    let suffix;\n    const surrounded = surroundedRegEx.exec(formatter);\n    if (surrounded) {\n        [, prefix, formatter, suffix] = surrounded;\n    }\n    const match = formatRegEx.exec(formatter);\n    if (!match) {\n        throw new Error(`The number formatter is invalid: ${formatter}`);\n    }\n    const [, fill, align, sign, symbol, zero, width, comma, precision, trim, type] = match;\n    return {\n        fill,\n        align,\n        sign,\n        symbol,\n        zero,\n        width: parseInt(width),\n        comma,\n        precision: parseInt(precision),\n        trim: Boolean(trim),\n        type,\n        prefix,\n        suffix,\n    };\n}\nexport function format(formatter) {\n    const options = typeof formatter === 'string' ? parseFormatter(formatter) : formatter;\n    const { fill, align, sign = '-', symbol, zero, width, comma, type, prefix = '', suffix = '' } = options;\n    let { precision, trim } = options;\n    let formatBody;\n    if (!type) {\n        formatBody = decimalTypes['g'];\n        trim = true;\n    }\n    else if (type in decimalTypes && type in integerTypes) {\n        formatBody = isNaN(precision) ? integerTypes[type] : decimalTypes[type];\n    }\n    else if (type in decimalTypes) {\n        formatBody = decimalTypes[type];\n    }\n    else if (type in integerTypes) {\n        formatBody = integerTypes[type];\n    }\n    else {\n        throw new Error(`The number formatter type is invalid: ${type}`);\n    }\n    if (isNaN(precision)) {\n        precision = type ? 6 : 12;\n    }\n    return (n) => {\n        let result = formatBody(n, precision);\n        if (trim) {\n            result = removeTrailingZeros(result);\n        }\n        if (comma) {\n            result = insertSeparator(result, comma);\n        }\n        result = addSign(n, result, sign);\n        if (symbol && symbol !== '#') {\n            result = `${symbol}${result}`;\n        }\n        if (symbol === '#' && type === 'x') {\n            result = `0x${result}`;\n        }\n        if (type === 's') {\n            result = `${result}${getSIPrefix(n)}`;\n        }\n        if (type === '%' || type === 'p') {\n            result = `${result}%`;\n        }\n        if (!isNaN(width)) {\n            result = addPadding(result, width, fill !== null && fill !== void 0 ? fill : zero, align);\n        }\n        result = `${prefix}${result}${suffix}`;\n        return result;\n    };\n}\nconst absFloor = (n) => Math.floor(Math.abs(n));\nconst integerTypes = {\n    b: (n) => absFloor(n).toString(2),\n    c: (n) => String.fromCharCode(n),\n    d: (n) => Math.round(Math.abs(n)).toFixed(0),\n    o: (n) => absFloor(n).toString(8),\n    x: (n) => absFloor(n).toString(16),\n    X: (n) => integerTypes.x(n).toUpperCase(),\n    n: (n) => integerTypes.d(n),\n    '%': (n) => `${absFloor(n * 100).toFixed(0)}`,\n};\nconst decimalTypes = {\n    e: (n, f) => Math.abs(n).toExponential(f),\n    E: (n, f) => decimalTypes.e(n, f).toUpperCase(),\n    f: (n, f) => Math.abs(n).toFixed(f),\n    F: (n, f) => decimalTypes.f(n, f).toUpperCase(),\n    g: (n, f) => {\n        if (n === 0) {\n            return '0';\n        }\n        const a = Math.abs(n);\n        const p = Math.floor(Math.log10(a));\n        if (p >= -4 && p < f) {\n            return a.toFixed(f - 1 - p);\n        }\n        return a.toExponential(f - 1);\n    },\n    G: (n, f) => decimalTypes.g(n, f).toUpperCase(),\n    n: (n, f) => decimalTypes.g(n, f),\n    p: (n, f) => decimalTypes.r(n * 100, f),\n    r: (n, f) => {\n        if (n === 0) {\n            return '0';\n        }\n        const a = Math.abs(n);\n        const p = Math.floor(Math.log10(a));\n        const q = p - (f - 1);\n        if (q <= 0) {\n            return a.toFixed(-q);\n        }\n        const x = Math.pow(10, q);\n        return (Math.round(a / x) * x).toFixed();\n    },\n    s: (n, f) => {\n        const p = getSIPrefixPower(n);\n        return decimalTypes.r(n / Math.pow(10, p), f);\n    },\n    '%': (n, f) => decimalTypes.f(n * 100, f),\n};\nfunction removeTrailingZeros(numString) {\n    return numString.replace(/\\.0+$/, '').replace(/(\\.[1-9])0+$/, '$1');\n}\nfunction insertSeparator(numString, separator) {\n    let dotIndex = numString.indexOf('.');\n    if (dotIndex < 0) {\n        dotIndex = numString.length;\n    }\n    const integerChars = numString.substring(0, dotIndex).split('');\n    const fractionalPart = numString.substring(dotIndex);\n    for (let i = integerChars.length - 3; i > 0; i -= 3) {\n        integerChars.splice(i, 0, separator);\n    }\n    return `${integerChars.join('')}${fractionalPart}`;\n}\nfunction getSIPrefix(n) {\n    return siPrefixes[getSIPrefixPower(n)];\n}\nfunction getSIPrefixPower(n) {\n    const power = Math.log10(Math.abs(n));\n    const p = Math.floor(power / 3) * 3;\n    return Math.max(minSIPrefix, Math.min(maxSIPrefix, p));\n}\nconst minSIPrefix = -24;\nconst maxSIPrefix = 24;\nconst siPrefixes = {\n    [minSIPrefix]: 'y',\n    [-21]: 'z',\n    [-18]: 'a',\n    [-15]: 'f',\n    [-12]: 'p',\n    [-9]: 'n',\n    [-6]: '',\n    [-3]: 'm',\n    [0]: '',\n    [3]: 'k',\n    [6]: 'M',\n    [9]: 'G',\n    [12]: 'T',\n    [15]: 'P',\n    [18]: 'E',\n    [21]: 'Z',\n    [maxSIPrefix]: 'Y',\n};\nconst minusSign = '\\u2212';\nfunction addSign(num, numString, signType = '') {\n    if (signType === '(') {\n        return num >= 0 ? numString : `(${numString})`;\n    }\n    const plusSign = signType === '+' ? '+' : '';\n    return `${num >= 0 ? plusSign : minusSign}${numString}`;\n}\nfunction addPadding(numString, width, fill = ' ', align = '>') {\n    let result = numString;\n    if (align === '>' || !align) {\n        result = result.padStart(width, fill);\n    }\n    else if (align === '<') {\n        result = result.padEnd(width, fill);\n    }\n    else if (align === '^') {\n        const padWidth = Math.max(0, width - result.length);\n        const padLeft = Math.ceil(padWidth / 2);\n        const padRight = Math.floor(padWidth / 2);\n        result = result.padStart(padLeft + result.length, fill);\n        result = result.padEnd(padRight + result.length, fill);\n    }\n    return result;\n}\nexport function tickFormat(ticks, formatter) {\n    const options = parseFormatter(formatter !== null && formatter !== void 0 ? formatter : ',f');\n    if (isNaN(options.precision)) {\n        if (options.type === 'f' || options.type === '%') {\n            options.precision = Math.max(...ticks.map((x) => {\n                if (typeof x !== 'number' || x === 0) {\n                    return 0;\n                }\n                const l = Math.floor(Math.log10(Math.abs(x)));\n                const digits = options.type ? 6 : 12;\n                const exp = x.toExponential(digits - 1).replace(/\\.?0+e/, 'e');\n                const dotIndex = exp.indexOf('.');\n                if (dotIndex < 0) {\n                    return l >= 0 ? 0 : -l;\n                }\n                const s = exp.indexOf('e') - dotIndex;\n                return Math.max(0, s - l - 1);\n            }));\n        }\n        else if (!options.type || options.type in decimalTypes) {\n            options.precision = Math.max(...ticks.map((x) => {\n                if (typeof x !== 'number') {\n                    return 0;\n                }\n                const exp = x.toExponential((options.type ? 6 : 12) - 1).replace(/\\.?0+e/, 'e');\n                return exp.substring(0, exp.indexOf('e')).replace('.', '').length;\n            }));\n        }\n    }\n    const f = format(options);\n    return (n) => f(Number(n));\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ContinuousScale } from './continuousScale.mjs';\nimport generateTicks, { range } from '../util/ticks.mjs';\nimport { format } from '../util/numberFormat.mjs';\nimport { NUMBER, Validate } from '../util/validation.mjs';\nconst identity = (x) => x;\nexport class LogScale extends ContinuousScale {\n    constructor() {\n        super([1, 10], [0, 1]);\n        this.type = 'log';\n        this.base = 10;\n        this.cacheProps = ['domain', 'range', 'nice', 'tickCount', 'base'];\n        this.baseLog = identity;\n        this.basePow = identity;\n        this.log = (x) => {\n            return this.domain[0] >= 0 ? this.baseLog(x) : -this.baseLog(-x);\n        };\n        this.pow = (x) => {\n            return this.domain[0] >= 0 ? this.basePow(x) : -this.basePow(-x);\n        };\n    }\n    toDomain(d) {\n        return d;\n    }\n    transform(x) {\n        return this.domain[0] >= 0 ? Math.log(x) : -Math.log(-x);\n    }\n    transformInvert(x) {\n        return this.domain[0] >= 0 ? Math.exp(x) : -Math.exp(-x);\n    }\n    update() {\n        if (!this.domain || this.domain.length < 2) {\n            return;\n        }\n        this.updateLogFn();\n        this.updatePowFn();\n        if (this.nice) {\n            this.updateNiceDomain();\n        }\n    }\n    updateLogFn() {\n        const { base } = this;\n        let log;\n        if (base === 10) {\n            log = Math.log10;\n        }\n        else if (base === Math.E) {\n            log = Math.log;\n        }\n        else if (base === 2) {\n            log = Math.log2;\n        }\n        else {\n            const logBase = Math.log(base);\n            log = (x) => Math.log(x) / logBase;\n        }\n        this.baseLog = log;\n    }\n    updatePowFn() {\n        const { base } = this;\n        let pow;\n        if (base === 10) {\n            pow = LogScale.pow10;\n        }\n        else if (base === Math.E) {\n            pow = Math.exp;\n        }\n        else {\n            pow = (x) => Math.pow(base, x);\n        }\n        this.basePow = pow;\n    }\n    updateNiceDomain() {\n        const [d0, d1] = this.domain;\n        const n0 = this.pow(Math.floor(this.log(d0)));\n        const n1 = this.pow(Math.ceil(this.log(d1)));\n        this.niceDomain = [n0, n1];\n    }\n    static pow10(x) {\n        return x >= 0 ? Math.pow(10, x) : 1 / Math.pow(10, -x);\n    }\n    ticks() {\n        var _a;\n        const count = (_a = this.tickCount) !== null && _a !== void 0 ? _a : 10;\n        if (!this.domain || this.domain.length < 2 || count < 1) {\n            return [];\n        }\n        this.refresh();\n        const base = this.base;\n        const [d0, d1] = this.getDomain();\n        let p0 = this.log(d0);\n        let p1 = this.log(d1);\n        if (this.interval) {\n            const step = Math.abs(this.interval);\n            const absDiff = Math.abs(p1 - p0);\n            const ticks = range(p0, p1, Math.min(absDiff, step))\n                .map((x) => this.pow(x))\n                .filter((t) => t >= d0 && t <= d1);\n            if (!this.isDenseInterval({ start: d0, stop: d1, interval: step, count: ticks.length })) {\n                return ticks;\n            }\n        }\n        const isBaseInteger = base % 1 === 0;\n        const isDiffLarge = p1 - p0 >= count;\n        if (!isBaseInteger || isDiffLarge) {\n            // Returns [10^1, 10^2, 10^3, 10^4, ...]\n            return generateTicks(p0, p1, Math.min(p1 - p0, count)).map((x) => this.pow(x));\n        }\n        const ticks = [];\n        const isPositive = d0 > 0;\n        p0 = Math.floor(p0) - 1;\n        p1 = Math.round(p1) + 1;\n        const min = Math.min(...this.range);\n        const max = Math.max(...this.range);\n        const availableSpacing = (max - min) / count;\n        let lastTickPosition = Infinity;\n        for (let p = p0; p <= p1; p++) {\n            const nextMagnitudeTickPosition = this.convert(this.pow(p + 1));\n            for (let k = 1; k < base; k++) {\n                const q = isPositive ? k : base - k + 1;\n                const t = this.pow(p) * q;\n                const tickPosition = this.convert(t);\n                const prevSpacing = Math.abs(lastTickPosition - tickPosition);\n                const nextSpacing = Math.abs(tickPosition - nextMagnitudeTickPosition);\n                const fits = prevSpacing >= availableSpacing && nextSpacing >= availableSpacing;\n                if (t >= d0 && t <= d1 && (k === 1 || fits)) {\n                    ticks.push(t);\n                    lastTickPosition = tickPosition;\n                }\n            }\n        }\n        return ticks;\n    }\n    tickFormat({ count, ticks, specifier, }) {\n        const { base } = this;\n        if (specifier == null) {\n            specifier = (base === 10 ? '.0e' : ',');\n        }\n        if (typeof specifier !== 'function') {\n            specifier = format(specifier);\n        }\n        if (count === Infinity) {\n            return specifier;\n        }\n        if (ticks == null) {\n            this.ticks();\n        }\n        return (d) => {\n            return specifier(d);\n        };\n    }\n}\n__decorate([\n    Validate(NUMBER(0))\n], LogScale.prototype, \"base\", void 0);\n","import { addTransformToInstanceProperty } from './decorator.mjs';\nexport function Default(defaultValue, replaces = [undefined]) {\n    return addTransformToInstanceProperty((_, __, v) => {\n        if (replaces.includes(v)) {\n            return defaultValue;\n        }\n        return v;\n    });\n}\n","export function extent(values) {\n    const { length } = values;\n    if (length === 0) {\n        return undefined;\n    }\n    let min = Infinity;\n    let max = -Infinity;\n    for (let i = 0; i < length; i++) {\n        let v = values[i];\n        if (v instanceof Date) {\n            v = v.getTime();\n        }\n        if (typeof v !== 'number') {\n            continue;\n        }\n        if (v < min) {\n            min = v;\n        }\n        if (v > max) {\n            max = v;\n        }\n    }\n    const extent = [min, max];\n    if (extent.some((v) => !isFinite(v))) {\n        return undefined;\n    }\n    return extent;\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { BOOLEAN, NUMBER, OPT_FONT_STYLE, OPT_FONT_WEIGHT, COLOR_STRING, STRING, Validate } from '../util/validation.mjs';\nimport { getFont } from '../scene/shape/text.mjs';\nimport { normalizeAngle360, toRadians } from '../util/angle.mjs';\nimport { BBox } from '../scene/bbox.mjs';\nexport class Label {\n    constructor() {\n        this.enabled = true;\n        this.fontSize = 12;\n        this.fontFamily = 'Verdana, sans-serif';\n        this.fontStyle = undefined;\n        this.fontWeight = undefined;\n        this.color = 'rgba(70, 70, 70, 1)';\n    }\n    getFont() {\n        return getFont(this);\n    }\n}\n__decorate([\n    Validate(BOOLEAN)\n], Label.prototype, \"enabled\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], Label.prototype, \"fontSize\", void 0);\n__decorate([\n    Validate(STRING)\n], Label.prototype, \"fontFamily\", void 0);\n__decorate([\n    Validate(OPT_FONT_STYLE)\n], Label.prototype, \"fontStyle\", void 0);\n__decorate([\n    Validate(OPT_FONT_WEIGHT)\n], Label.prototype, \"fontWeight\", void 0);\n__decorate([\n    Validate(COLOR_STRING)\n], Label.prototype, \"color\", void 0);\nexport function calculateLabelRotation(opts) {\n    const { parallelFlipRotation = 0, regularFlipRotation = 0 } = opts;\n    const configuredRotation = opts.rotation ? normalizeAngle360(toRadians(opts.rotation)) : 0;\n    const parallelFlipFlag = !configuredRotation && parallelFlipRotation >= 0 && parallelFlipRotation <= Math.PI ? -1 : 1;\n    // Flip if the axis rotation angle is in the top hemisphere.\n    const regularFlipFlag = !configuredRotation && regularFlipRotation >= 0 && regularFlipRotation <= Math.PI ? -1 : 1;\n    let defaultRotation = 0;\n    if (opts.parallel) {\n        defaultRotation = (parallelFlipFlag * Math.PI) / 2;\n    }\n    else if (regularFlipFlag === -1) {\n        defaultRotation = Math.PI;\n    }\n    return { configuredRotation, defaultRotation, parallelFlipFlag, regularFlipFlag };\n}\nexport function getLabelSpacing(minSpacing, rotated) {\n    if (!isNaN(minSpacing)) {\n        return minSpacing;\n    }\n    return rotated ? 0 : 10;\n}\nexport function getTextBaseline(parallel, labelRotation, sideFlag, parallelFlipFlag) {\n    if (parallel && !labelRotation) {\n        if (sideFlag * parallelFlipFlag === -1) {\n            return 'hanging';\n        }\n        else {\n            return 'bottom';\n        }\n    }\n    return 'middle';\n}\nexport function getTextAlign(parallel, labelRotation, labelAutoRotation, sideFlag, regularFlipFlag) {\n    const labelRotated = labelRotation > 0 && labelRotation <= Math.PI;\n    const labelAutoRotated = labelAutoRotation > 0 && labelAutoRotation <= Math.PI;\n    const alignFlag = labelRotated || labelAutoRotated ? -1 : 1;\n    if (parallel) {\n        if (labelRotation || labelAutoRotation) {\n            if (sideFlag * alignFlag === -1) {\n                return 'end';\n            }\n        }\n        else {\n            return 'center';\n        }\n    }\n    else if (sideFlag * regularFlipFlag === -1) {\n        return 'end';\n    }\n    return 'start';\n}\nexport function calculateLabelBBox(text, bbox, labelX, labelY, labelMatrix) {\n    // Text.computeBBox() does not take into account any of the transformations that have been applied to the label nodes, only the width and height are useful.\n    // Rather than taking into account all transformations including those of parent nodes which would be the result of `computeTransformedBBox()`, giving the x and y in the entire axis coordinate space,\n    // take into account only the rotation and translation applied to individual label nodes to get the x y coordinates of the labels relative to each other\n    // this makes label collision detection a lot simpler\n    const { width, height } = bbox;\n    const translatedBBox = new BBox(labelX, labelY, 0, 0);\n    labelMatrix.transformBBox(translatedBBox, bbox);\n    const { x = 0, y = 0 } = bbox;\n    bbox.width = width;\n    bbox.height = height;\n    return {\n        point: {\n            x,\n            y,\n            size: 0,\n        },\n        label: {\n            width,\n            height,\n            text,\n        },\n    };\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Group } from './scene/group.mjs';\nimport { Selection } from './scene/selection.mjs';\nimport { Line } from './scene/shape/line.mjs';\nimport { getFont, measureText, Text, splitText } from './scene/shape/text.mjs';\nimport { Arc } from './scene/shape/arc.mjs';\nimport { BBox } from './scene/bbox.mjs';\nimport { Caption } from './caption.mjs';\nimport { createId } from './util/id.mjs';\nimport { normalizeAngle360, normalizeAngle360Inclusive, toRadians } from './util/angle.mjs';\nimport { TimeInterval } from './util/time/interval.mjs';\nimport { areArrayNumbersEqual } from './util/equal.mjs';\nimport { Validate, BOOLEAN, OPT_BOOLEAN, NUMBER, OPT_NUMBER, OPT_FONT_STYLE, OPT_FONT_WEIGHT, STRING, OPT_COLOR_STRING, OPTIONAL, ARRAY, predicateWithMessage, OPT_STRING, OPT_ARRAY, LESS_THAN, NUMBER_OR_NAN, AND, TEXT_WRAP, OPT_FUNCTION, } from './util/validation.mjs';\nimport { Layers } from './chart/layers.mjs';\nimport { axisLabelsOverlap } from './util/labelPlacement.mjs';\nimport { ContinuousScale } from './scale/continuousScale.mjs';\nimport { Matrix } from './scene/matrix.mjs';\nimport { TimeScale } from './scale/timeScale.mjs';\nimport { LogScale } from './scale/logScale.mjs';\nimport { Default } from './util/default.mjs';\nimport { Deprecated } from './util/deprecation.mjs';\nimport { extent } from './util/array.mjs';\nimport { ChartAxisDirection } from './chart/chartAxisDirection.mjs';\nimport { calculateLabelRotation, calculateLabelBBox, getLabelSpacing, getTextAlign, getTextBaseline, } from './chart/label.mjs';\nimport { Logger } from './util/logger.mjs';\nconst TICK_COUNT = predicateWithMessage((v, ctx) => NUMBER(0)(v, ctx) || v instanceof TimeInterval, `expecting a tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'`);\nconst OPT_TICK_COUNT = predicateWithMessage((v, ctx) => OPTIONAL(v, ctx, TICK_COUNT), `expecting an optional tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'`);\nconst OPT_TICK_INTERVAL = predicateWithMessage((v, ctx) => OPTIONAL(v, ctx, (v, ctx) => (v !== 0 && NUMBER(0)(v, ctx)) || v instanceof TimeInterval), `expecting an optional non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'`);\nconst GRID_STYLE_KEYS = ['stroke', 'lineDash'];\nconst GRID_STYLE = predicateWithMessage(ARRAY(undefined, (o) => {\n    for (const key in o) {\n        if (!GRID_STYLE_KEYS.includes(key)) {\n            return false;\n        }\n    }\n    return true;\n}), `expecting an Array of objects with gridline style properties such as 'stroke' and 'lineDash'`);\nexport var Tags;\n(function (Tags) {\n    Tags[Tags[\"TickLine\"] = 0] = \"TickLine\";\n    Tags[Tags[\"TickLabel\"] = 1] = \"TickLabel\";\n    Tags[Tags[\"GridLine\"] = 2] = \"GridLine\";\n    Tags[Tags[\"GridArc\"] = 3] = \"GridArc\";\n    Tags[Tags[\"AxisLine\"] = 4] = \"AxisLine\";\n})(Tags || (Tags = {}));\nvar TickGenerationType;\n(function (TickGenerationType) {\n    TickGenerationType[TickGenerationType[\"CREATE\"] = 0] = \"CREATE\";\n    TickGenerationType[TickGenerationType[\"CREATE_SECONDARY\"] = 1] = \"CREATE_SECONDARY\";\n    TickGenerationType[TickGenerationType[\"FILTER\"] = 2] = \"FILTER\";\n    TickGenerationType[TickGenerationType[\"VALUES\"] = 3] = \"VALUES\";\n})(TickGenerationType || (TickGenerationType = {}));\nexport class AxisLine {\n    constructor() {\n        this.width = 1;\n        this.color = 'rgba(195, 195, 195, 1)';\n    }\n}\n__decorate([\n    Validate(NUMBER(0))\n], AxisLine.prototype, \"width\", void 0);\n__decorate([\n    Validate(OPT_COLOR_STRING)\n], AxisLine.prototype, \"color\", void 0);\nexport class BaseAxisTick {\n    constructor() {\n        this.enabled = true;\n        /**\n         * The line width to be used by axis ticks.\n         */\n        this.width = 1;\n        /**\n         * The line length to be used by axis ticks.\n         */\n        this.size = 6;\n        /**\n         * The color of the axis ticks.\n         * Use `undefined` rather than `rgba(0, 0, 0, 0)` to make the ticks invisible.\n         */\n        this.color = 'rgba(195, 195, 195, 1)';\n        /**\n         * A hint of how many ticks to use (the exact number of ticks might differ),\n         * a `TimeInterval` or a `CountableTimeInterval`.\n         * For example:\n         *\n         *     axis.tick.count = 5;\n         *     axis.tick.count = year;\n         *     axis.tick.count = month.every(6);\n         */\n        this.count = undefined;\n        this.interval = undefined;\n        this.values = undefined;\n        this.minSpacing = NaN;\n    }\n}\n__decorate([\n    Validate(BOOLEAN)\n], BaseAxisTick.prototype, \"enabled\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], BaseAxisTick.prototype, \"width\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], BaseAxisTick.prototype, \"size\", void 0);\n__decorate([\n    Validate(OPT_COLOR_STRING)\n], BaseAxisTick.prototype, \"color\", void 0);\n__decorate([\n    Validate(OPT_TICK_COUNT),\n    Deprecated('Use tick.interval or tick.minSpacing and tick.maxSpacing instead')\n], BaseAxisTick.prototype, \"count\", void 0);\n__decorate([\n    Validate(OPT_TICK_INTERVAL)\n], BaseAxisTick.prototype, \"interval\", void 0);\n__decorate([\n    Validate(OPT_ARRAY())\n], BaseAxisTick.prototype, \"values\", void 0);\n__decorate([\n    Validate(AND(NUMBER_OR_NAN(1), LESS_THAN('maxSpacing'))),\n    Default(NaN)\n], BaseAxisTick.prototype, \"minSpacing\", void 0);\nexport class AxisLabel {\n    constructor() {\n        this.enabled = true;\n        /** If set to `false`, axis labels will not be wrapped on multiple lines. */\n        this.autoWrap = false;\n        /** Used to constrain the width of the label when `autoWrap` is `true`, if the label text width exceeds the `maxWidth`, it will be wrapped on multiple lines automatically. If `maxWidth` is omitted, a default width constraint will be applied. */\n        this.maxWidth = undefined;\n        /** Used to constrain the height of the multiline label, if the label text height exceeds the `maxHeight`, it will be truncated automatically. If `maxHeight` is omitted, a default height constraint will be applied. */\n        this.maxHeight = undefined;\n        this.fontStyle = undefined;\n        this.fontWeight = undefined;\n        this.fontSize = 12;\n        this.fontFamily = 'Verdana, sans-serif';\n        /**\n         * The padding between the labels and the ticks.\n         */\n        this.padding = 5;\n        /**\n         * Minimum gap in pixels between the axis labels before being removed to avoid collisions.\n         */\n        this.minSpacing = NaN;\n        /**\n         * The color of the labels.\n         * Use `undefined` rather than `rgba(0, 0, 0, 0)` to make labels invisible.\n         */\n        this.color = 'rgba(87, 87, 87, 1)';\n        /**\n         * Custom label rotation in degrees.\n         * Labels are rendered perpendicular to the axis line by default.\n         * Or parallel to the axis line, if the {@link parallel} is set to `true`.\n         * The value of this config is used as the angular offset/deflection\n         * from the default rotation.\n         */\n        this.rotation = undefined;\n        /**\n         * If specified and axis labels may collide, they are rotated to reduce collisions. If the\n         * `rotation` property is specified, it takes precedence.\n         */\n        this.autoRotate = undefined;\n        /**\n         * Rotation angle to use when autoRotate is applied.\n         */\n        this.autoRotateAngle = 335;\n        /**\n         * Avoid axis label collision by automatically reducing the number of ticks displayed. If set to `false`, axis labels may collide.\n         */\n        this.avoidCollisions = true;\n        /**\n         * By default labels and ticks are positioned to the left of the axis line.\n         * `true` positions the labels to the right of the axis line.\n         * However, if the axis is rotated, it's easier to think in terms\n         * of this side or the opposite side, rather than left and right.\n         * We use the term `mirror` for conciseness, although it's not\n         * true mirroring - for example, when a label is rotated, so that\n         * it is inclined at the 45 degree angle, text flowing from north-west\n         * to south-east, ending at the tick to the left of the axis line,\n         * and then we set this config to `true`, the text will still be flowing\n         * from north-west to south-east, _starting_ at the tick to the right\n         * of the axis line.\n         */\n        this.mirrored = false;\n        /**\n         * Labels are rendered perpendicular to the axis line by default.\n         * Setting this config to `true` makes labels render parallel to the axis line\n         * and center aligns labels' text at the ticks.\n         */\n        this.parallel = false;\n        /**\n         * In case {@param value} is a number, the {@param fractionDigits} parameter will\n         * be provided as well. The `fractionDigits` corresponds to the number of fraction\n         * digits used by the tick step. For example, if the tick step is `0.0005`,\n         * the `fractionDigits` is 4.\n         */\n        this.formatter = undefined;\n        this.format = undefined;\n    }\n    /**\n     * The side of the axis line to position the labels on.\n     * -1 = left (default)\n     * 1 = right\n     */\n    getSideFlag() {\n        return this.mirrored ? 1 : -1;\n    }\n    getFont() {\n        return getFont(this);\n    }\n}\n__decorate([\n    Validate(BOOLEAN)\n], AxisLabel.prototype, \"enabled\", void 0);\n__decorate([\n    Validate(OPT_BOOLEAN)\n], AxisLabel.prototype, \"autoWrap\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0))\n], AxisLabel.prototype, \"maxWidth\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0))\n], AxisLabel.prototype, \"maxHeight\", void 0);\n__decorate([\n    Validate(OPT_FONT_STYLE)\n], AxisLabel.prototype, \"fontStyle\", void 0);\n__decorate([\n    Validate(OPT_FONT_WEIGHT)\n], AxisLabel.prototype, \"fontWeight\", void 0);\n__decorate([\n    Validate(NUMBER(1))\n], AxisLabel.prototype, \"fontSize\", void 0);\n__decorate([\n    Validate(STRING)\n], AxisLabel.prototype, \"fontFamily\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], AxisLabel.prototype, \"padding\", void 0);\n__decorate([\n    Validate(NUMBER_OR_NAN()),\n    Default(NaN)\n], AxisLabel.prototype, \"minSpacing\", void 0);\n__decorate([\n    Validate(OPT_COLOR_STRING)\n], AxisLabel.prototype, \"color\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(-360, 360))\n], AxisLabel.prototype, \"rotation\", void 0);\n__decorate([\n    Validate(OPT_BOOLEAN)\n], AxisLabel.prototype, \"autoRotate\", void 0);\n__decorate([\n    Validate(NUMBER(-360, 360))\n], AxisLabel.prototype, \"autoRotateAngle\", void 0);\n__decorate([\n    Validate(BOOLEAN)\n], AxisLabel.prototype, \"avoidCollisions\", void 0);\n__decorate([\n    Validate(BOOLEAN)\n], AxisLabel.prototype, \"mirrored\", void 0);\n__decorate([\n    Validate(BOOLEAN)\n], AxisLabel.prototype, \"parallel\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], AxisLabel.prototype, \"format\", void 0);\nexport class AxisTitle {\n    constructor() {\n        this.enabled = false;\n        this.text = undefined;\n        this.fontStyle = undefined;\n        this.fontWeight = undefined;\n        this.fontSize = 10;\n        this.fontFamily = 'sans-serif';\n        this.color = undefined;\n        this.wrapping = 'always';\n        this.formatter = undefined;\n    }\n}\n__decorate([\n    Validate(BOOLEAN)\n], AxisTitle.prototype, \"enabled\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], AxisTitle.prototype, \"text\", void 0);\n__decorate([\n    Validate(OPT_FONT_STYLE)\n], AxisTitle.prototype, \"fontStyle\", void 0);\n__decorate([\n    Validate(OPT_FONT_WEIGHT)\n], AxisTitle.prototype, \"fontWeight\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], AxisTitle.prototype, \"fontSize\", void 0);\n__decorate([\n    Validate(STRING)\n], AxisTitle.prototype, \"fontFamily\", void 0);\n__decorate([\n    Validate(OPT_COLOR_STRING)\n], AxisTitle.prototype, \"color\", void 0);\n__decorate([\n    Validate(TEXT_WRAP)\n], AxisTitle.prototype, \"wrapping\", void 0);\n__decorate([\n    Validate(OPT_FUNCTION)\n], AxisTitle.prototype, \"formatter\", void 0);\n/**\n * A general purpose linear axis with no notion of orientation.\n * The axis is always rendered vertically, with horizontal labels positioned to the left\n * of the axis line by default. The axis can be {@link rotation | rotated} by an arbitrary angle,\n * so that it can be used as a top, right, bottom, left, radial or any other kind\n * of linear axis.\n * The generic `D` parameter is the type of the domain of the axis' scale.\n * The output range of the axis' scale is always numeric (screen coordinates).\n */\nexport class Axis {\n    constructor(moduleCtx, scale) {\n        this.moduleCtx = moduleCtx;\n        this.id = createId(this);\n        this.nice = true;\n        this.dataDomain = [];\n        this.axisGroup = new Group({ name: `${this.id}-axis`, zIndex: Layers.AXIS_ZINDEX });\n        this.lineNode = this.axisGroup.appendChild(new Line());\n        this.tickLineGroup = this.axisGroup.appendChild(new Group({ name: `${this.id}-Axis-tick-lines`, zIndex: Layers.AXIS_ZINDEX }));\n        this.tickLabelGroup = this.axisGroup.appendChild(new Group({ name: `${this.id}-Axis-tick-labels`, zIndex: Layers.AXIS_ZINDEX }));\n        this.crossLineGroup = new Group({ name: `${this.id}-CrossLines` });\n        this.gridGroup = new Group({ name: `${this.id}-Axis-grid` });\n        this.gridLineGroup = this.gridGroup.appendChild(new Group({\n            name: `${this.id}-gridLines`,\n            zIndex: Layers.AXIS_GRID_ZINDEX,\n        }));\n        this.gridArcGroup = this.gridGroup.appendChild(new Group({\n            name: `${this.id}-gridArcs`,\n            zIndex: Layers.AXIS_GRID_ZINDEX,\n        }));\n        this.tickLineGroupSelection = Selection.select(this.tickLineGroup, Line);\n        this.tickLabelGroupSelection = Selection.select(this.tickLabelGroup, Text);\n        this.gridLineGroupSelection = Selection.select(this.gridLineGroup, Line);\n        this.gridArcGroupSelection = Selection.select(this.gridArcGroup, Arc);\n        this._crossLines = [];\n        this.line = new AxisLine();\n        this.tick = this.createTick();\n        this.label = new AxisLabel();\n        this.translation = { x: 0, y: 0 };\n        this.rotation = 0; // axis rotation angle in degrees\n        this.layout = {\n            label: {\n                fractionDigits: 0,\n                padding: this.label.padding,\n                format: this.label.format,\n            },\n        };\n        this.range = [0, 1];\n        this.visibleRange = [0, 1];\n        this.title = undefined;\n        this._titleCaption = new Caption();\n        /**\n         * The length of the grid. The grid is only visible in case of a non-zero value.\n         * In case {@link radialGrid} is `true`, the value is interpreted as an angle\n         * (in degrees).\n         */\n        this._gridLength = 0;\n        /**\n         * The array of styles to cycle through when rendering grid lines.\n         * For example, use two {@link GridStyle} objects for alternating styles.\n         * Contains only one {@link GridStyle} object by default, meaning all grid lines\n         * have the same style.\n         */\n        this.gridStyle = [\n            {\n                stroke: 'rgba(219, 219, 219, 1)',\n                lineDash: [4, 2],\n            },\n        ];\n        /**\n         * `false` - render grid as lines of {@link gridLength} that extend the ticks\n         *           on the opposite side of the axis\n         * `true` - render grid as concentric circles that go through the ticks\n         */\n        this._radialGrid = false;\n        this.fractionDigits = 0;\n        /**\n         * The distance between the grid ticks and the axis ticks.\n         */\n        this.gridPadding = 0;\n        /**\n         * Is used to avoid collisions between axis labels and series.\n         */\n        this.seriesAreaPadding = 0;\n        this.thickness = 0;\n        this.maxThickness = Infinity;\n        this._scale = scale;\n        this.refreshScale();\n        this._titleCaption.node.rotation = -Math.PI / 2;\n        this.axisGroup.appendChild(this._titleCaption.node);\n    }\n    get scale() {\n        return this._scale;\n    }\n    set crossLines(value) {\n        var _a, _b;\n        (_a = this._crossLines) === null || _a === void 0 ? void 0 : _a.forEach((crossLine) => this.detachCrossLine(crossLine));\n        this._crossLines = value;\n        (_b = this._crossLines) === null || _b === void 0 ? void 0 : _b.forEach((crossLine) => {\n            this.attachCrossLine(crossLine);\n            this.initCrossLine(crossLine);\n        });\n    }\n    get crossLines() {\n        return this._crossLines;\n    }\n    attachCrossLine(crossLine) {\n        this.crossLineGroup.appendChild(crossLine.group);\n    }\n    detachCrossLine(crossLine) {\n        this.crossLineGroup.removeChild(crossLine.group);\n    }\n    destroy() {\n        // For override by sub-classes.\n    }\n    refreshScale() {\n        var _a;\n        this.range = this.scale.range.slice();\n        (_a = this.crossLines) === null || _a === void 0 ? void 0 : _a.forEach((crossLine) => {\n            this.initCrossLine(crossLine);\n        });\n    }\n    updateRange() {\n        var _a;\n        const { range: rr, visibleRange: vr, scale } = this;\n        const span = (rr[1] - rr[0]) / (vr[1] - vr[0]);\n        const shift = span * vr[0];\n        const start = rr[0] - shift;\n        scale.range = [start, start + span];\n        (_a = this.crossLines) === null || _a === void 0 ? void 0 : _a.forEach((crossLine) => {\n            crossLine.clippedRange = [rr[0], rr[1]];\n        });\n    }\n    setCrossLinesVisible(visible) {\n        this.crossLineGroup.visible = visible;\n    }\n    attachAxis(node, nextNode) {\n        node.insertBefore(this.gridGroup, nextNode);\n        node.insertBefore(this.axisGroup, nextNode);\n        node.insertBefore(this.crossLineGroup, nextNode);\n    }\n    detachAxis(node) {\n        node.removeChild(this.gridGroup);\n        node.removeChild(this.axisGroup);\n        node.removeChild(this.crossLineGroup);\n    }\n    /**\n     * Checks if a point or an object is in range.\n     * @param x A point (or object's starting point).\n     * @param width Object's width.\n     * @param tolerance Expands the range on both ends by this amount.\n     */\n    inRange(x, width = 0, tolerance = 0) {\n        return this.inRangeEx(x, width, tolerance) === 0;\n    }\n    inRangeEx(x, width = 0, tolerance = 0) {\n        const { range } = this;\n        // Account for inverted ranges, for example [500, 100] as well as [100, 500]\n        const min = Math.min(range[0], range[1]);\n        const max = Math.max(range[0], range[1]);\n        if (x + width < min - tolerance) {\n            return -1; // left of range\n        }\n        if (x > max + tolerance) {\n            return 1; // right of range\n        }\n        return 0; // in range\n    }\n    onLabelFormatChange(ticks, format) {\n        const { scale, fractionDigits } = this;\n        const logScale = scale instanceof LogScale;\n        const defaultLabelFormatter = !logScale && fractionDigits > 0\n            ? (x) => (typeof x === 'number' ? x.toFixed(fractionDigits) : String(x))\n            : (x) => String(x);\n        if (format && scale && scale.tickFormat) {\n            try {\n                this.labelFormatter = scale.tickFormat({\n                    ticks,\n                    specifier: format,\n                });\n            }\n            catch (e) {\n                this.labelFormatter = defaultLabelFormatter;\n                Logger.warnOnce(`the axis label format string ${format} is invalid. No formatting will be applied`);\n            }\n        }\n        else {\n            this.labelFormatter = defaultLabelFormatter;\n        }\n    }\n    setDomain() {\n        var _a;\n        const { scale, dataDomain, tick: { values: tickValues }, } = this;\n        if (tickValues && scale instanceof ContinuousScale) {\n            const [tickMin, tickMax] = (_a = extent(tickValues)) !== null && _a !== void 0 ? _a : [Infinity, -Infinity];\n            const min = Math.min(scale.fromDomain(dataDomain[0]), tickMin);\n            const max = Math.max(scale.fromDomain(dataDomain[1]), tickMax);\n            scale.domain = [scale.toDomain(min), scale.toDomain(max)];\n        }\n        else {\n            scale.domain = dataDomain;\n        }\n    }\n    setTickInterval(interval) {\n        var _a;\n        this.scale.interval = (_a = this.tick.interval) !== null && _a !== void 0 ? _a : interval;\n    }\n    setTickCount(count, minTickCount, maxTickCount) {\n        const { scale } = this;\n        if (!(count && scale instanceof ContinuousScale)) {\n            return;\n        }\n        if (typeof count === 'number') {\n            scale.tickCount = count;\n            scale.minTickCount = minTickCount !== null && minTickCount !== void 0 ? minTickCount : 0;\n            scale.maxTickCount = maxTickCount !== null && maxTickCount !== void 0 ? maxTickCount : Infinity;\n            return;\n        }\n        if (scale instanceof TimeScale) {\n            this.setTickInterval(count);\n        }\n    }\n    set gridLength(value) {\n        var _a;\n        // Was visible and now invisible, or was invisible and now visible.\n        if ((this._gridLength && !value) || (!this._gridLength && value)) {\n            this.gridLineGroupSelection = this.gridLineGroupSelection.clear();\n            this.gridArcGroupSelection = this.gridArcGroupSelection.clear();\n        }\n        this._gridLength = value;\n        (_a = this.crossLines) === null || _a === void 0 ? void 0 : _a.forEach((crossLine) => {\n            this.initCrossLine(crossLine);\n        });\n    }\n    get gridLength() {\n        return this._gridLength;\n    }\n    set radialGrid(value) {\n        if (this._radialGrid !== value) {\n            this._radialGrid = value;\n            this.gridLineGroupSelection = this.gridLineGroupSelection.clear();\n            this.gridArcGroupSelection = this.gridArcGroupSelection.clear();\n        }\n    }\n    get radialGrid() {\n        return this._radialGrid;\n    }\n    createTick() {\n        return new BaseAxisTick();\n    }\n    /**\n     * Creates/removes/updates the scene graph nodes that constitute the axis.\n     */\n    update(primaryTickCount) {\n        const { rotation, parallelFlipRotation, regularFlipRotation } = this.calculateRotations();\n        const sideFlag = this.label.getSideFlag();\n        const labelX = sideFlag * (this.tick.size + this.label.padding + this.seriesAreaPadding);\n        this.updateScale();\n        this.updatePosition({ rotation, sideFlag });\n        this.updateLine();\n        const _a = this.generateTicks({\n            primaryTickCount,\n            parallelFlipRotation,\n            regularFlipRotation,\n            labelX,\n            sideFlag,\n        }), { tickData, combinedRotation, textBaseline, textAlign } = _a, ticksResult = __rest(_a, [\"tickData\", \"combinedRotation\", \"textBaseline\", \"textAlign\"]);\n        this.updateSelections(tickData.ticks);\n        this.updateLabels({\n            tickLabelGroupSelection: this.tickLabelGroupSelection,\n            combinedRotation,\n            textBaseline,\n            textAlign,\n            labelX,\n        });\n        this.updateVisibility();\n        this.updateGridLines(sideFlag);\n        this.updateTickLines(sideFlag);\n        this.updateTitle({ anyTickVisible: tickData.ticks.length > 0, sideFlag });\n        this.updateCrossLines({ rotation, parallelFlipRotation, regularFlipRotation, sideFlag });\n        this.updateLayoutState();\n        primaryTickCount = ticksResult.primaryTickCount;\n        return primaryTickCount;\n    }\n    updateLayoutState() {\n        this.layout.label = {\n            fractionDigits: this.fractionDigits,\n            padding: this.label.padding,\n            format: this.label.format,\n        };\n    }\n    updateScale() {\n        this.updateRange();\n        this.calculateDomain();\n        this.setDomain();\n        this.setTickInterval(this.tick.interval);\n        const { scale, nice } = this;\n        if (!(scale instanceof ContinuousScale)) {\n            return;\n        }\n        this.setTickCount(this.tick.count);\n        scale.nice = nice;\n        scale.update();\n    }\n    calculateRotations() {\n        const rotation = toRadians(this.rotation);\n        // When labels are parallel to the axis line, the `parallelFlipFlag` is used to\n        // flip the labels to avoid upside-down text, when the axis is rotated\n        // such that it is in the right hemisphere, i.e. the angle of rotation\n        // is in the [0, ] interval.\n        // The rotation angle is normalized, so that we have an easier time checking\n        // if it's in the said interval. Since the axis is always rendered vertically\n        // and then rotated, zero rotation means 12 (not 3) o-clock.\n        // -1 = flip\n        //  1 = don't flip (default)\n        const parallelFlipRotation = normalizeAngle360(rotation);\n        const regularFlipRotation = normalizeAngle360(rotation - Math.PI / 2);\n        return { rotation, parallelFlipRotation, regularFlipRotation };\n    }\n    generateTicks({ primaryTickCount, parallelFlipRotation, regularFlipRotation, labelX, sideFlag, }) {\n        var _a;\n        const { scale, tick, label: { parallel, rotation, fontFamily, fontSize, fontStyle, fontWeight }, } = this;\n        const secondaryAxis = primaryTickCount !== undefined;\n        const { defaultRotation, configuredRotation, parallelFlipFlag, regularFlipFlag } = calculateLabelRotation({\n            rotation,\n            parallel,\n            regularFlipRotation,\n            parallelFlipRotation,\n        });\n        const initialRotation = configuredRotation + defaultRotation;\n        const labelMatrix = new Matrix();\n        const { maxTickCount } = this.estimateTickCount({\n            minSpacing: tick.minSpacing,\n            maxSpacing: (_a = tick.maxSpacing) !== null && _a !== void 0 ? _a : NaN,\n        });\n        const continuous = scale instanceof ContinuousScale;\n        const maxIterations = tick.count || !continuous || isNaN(maxTickCount) ? 10 : maxTickCount;\n        let textAlign = getTextAlign(parallel, configuredRotation, 0, sideFlag, regularFlipFlag);\n        const textBaseline = getTextBaseline(parallel, configuredRotation, sideFlag, parallelFlipFlag);\n        const textProps = {\n            fontFamily,\n            fontSize,\n            fontStyle,\n            fontWeight,\n            textBaseline,\n            textAlign,\n        };\n        let tickData = {\n            rawTicks: [],\n            ticks: [],\n            labelCount: 0,\n        };\n        let index = 0;\n        let autoRotation = 0;\n        let labelOverlap = true;\n        let terminate = false;\n        while (labelOverlap && index <= maxIterations) {\n            if (terminate) {\n                break;\n            }\n            autoRotation = 0;\n            textAlign = getTextAlign(parallel, configuredRotation, 0, sideFlag, regularFlipFlag);\n            const tickStrategies = this.getTickStrategies({ secondaryAxis, index });\n            for (const strategy of tickStrategies) {\n                ({ tickData, index, autoRotation, terminate } = strategy({\n                    index,\n                    tickData,\n                    textProps,\n                    labelOverlap,\n                    terminate,\n                    primaryTickCount,\n                }));\n                const ticksResult = tickData.ticks;\n                textAlign = getTextAlign(parallel, configuredRotation, autoRotation, sideFlag, regularFlipFlag);\n                const rotated = configuredRotation !== 0 || autoRotation !== 0;\n                const rotation = initialRotation + autoRotation;\n                labelOverlap = this.checkLabelOverlap(rotation, rotated, labelMatrix, ticksResult, labelX, Object.assign(Object.assign({}, textProps), { textAlign }));\n            }\n        }\n        const combinedRotation = defaultRotation + configuredRotation + autoRotation;\n        if (!secondaryAxis && tickData.rawTicks.length > 0) {\n            primaryTickCount = tickData.rawTicks.length;\n        }\n        return { tickData, primaryTickCount, combinedRotation, textBaseline, textAlign };\n    }\n    getTickStrategies({ index, secondaryAxis }) {\n        const { scale, label, tick } = this;\n        const continuous = scale instanceof ContinuousScale;\n        const avoidLabelCollisions = label.enabled && label.avoidCollisions;\n        const filterTicks = !(continuous && this.tick.count === undefined) && index !== 0 && avoidLabelCollisions;\n        const autoRotate = label.autoRotate === true && label.rotation === undefined;\n        const strategies = [];\n        let tickGenerationType;\n        if (this.tick.values) {\n            tickGenerationType = TickGenerationType.VALUES;\n        }\n        else if (secondaryAxis) {\n            tickGenerationType = TickGenerationType.CREATE_SECONDARY;\n        }\n        else if (filterTicks) {\n            tickGenerationType = TickGenerationType.FILTER;\n        }\n        else {\n            tickGenerationType = TickGenerationType.CREATE;\n        }\n        const tickGenerationStrategy = ({ index, tickData, primaryTickCount, terminate }) => this.createTickData(tickGenerationType, index, tickData, terminate, primaryTickCount);\n        strategies.push(tickGenerationStrategy);\n        if (!continuous && !isNaN(tick.minSpacing)) {\n            const tickFilterStrategy = ({ index, tickData, primaryTickCount, terminate }) => this.createTickData(TickGenerationType.FILTER, index, tickData, terminate, primaryTickCount);\n            strategies.push(tickFilterStrategy);\n        }\n        if (!avoidLabelCollisions) {\n            return strategies;\n        }\n        if (label.autoWrap) {\n            const autoWrapStrategy = ({ index, tickData, textProps }) => this.wrapLabels(tickData, index, textProps);\n            strategies.push(autoWrapStrategy);\n        }\n        else if (autoRotate) {\n            const autoRotateStrategy = ({ index, tickData, labelOverlap, terminate }) => ({\n                index,\n                tickData,\n                autoRotation: this.getAutoRotation(labelOverlap),\n                terminate,\n            });\n            strategies.push(autoRotateStrategy);\n        }\n        return strategies;\n    }\n    createTickData(tickGenerationType, index, tickData, terminate, primaryTickCount) {\n        var _a, _b, _c;\n        const { scale, tick } = this;\n        const { maxTickCount, minTickCount, defaultTickCount } = this.estimateTickCount({\n            minSpacing: tick.minSpacing,\n            maxSpacing: (_a = tick.maxSpacing) !== null && _a !== void 0 ? _a : NaN,\n        });\n        const continuous = scale instanceof ContinuousScale;\n        const maxIterations = tick.count || !continuous || isNaN(maxTickCount) ? 10 : maxTickCount;\n        let tickCount = (_b = tick.count) !== null && _b !== void 0 ? _b : (continuous ? Math.max(defaultTickCount - index, minTickCount) : maxTickCount);\n        const regenerateTicks = tick.interval === undefined &&\n            tick.values === undefined &&\n            tick.count === undefined &&\n            tickCount > minTickCount &&\n            (continuous || tickGenerationType === TickGenerationType.FILTER);\n        let unchanged = true;\n        while (unchanged && index <= maxIterations) {\n            const prevTicks = tickData.rawTicks;\n            tickCount = (_c = tick.count) !== null && _c !== void 0 ? _c : (continuous ? Math.max(defaultTickCount - index, minTickCount) : maxTickCount);\n            const { rawTicks, ticks, labelCount } = this.getTicks({\n                tickGenerationType,\n                previousTicks: prevTicks,\n                tickCount,\n                minTickCount,\n                maxTickCount,\n                primaryTickCount,\n            });\n            tickData.rawTicks = rawTicks;\n            tickData.ticks = ticks;\n            tickData.labelCount = labelCount;\n            unchanged = regenerateTicks ? areArrayNumbersEqual(rawTicks, prevTicks) : false;\n            index++;\n        }\n        const shouldTerminate = tick.interval !== undefined || tick.values !== undefined;\n        terminate || (terminate = shouldTerminate);\n        return { tickData, index, autoRotation: 0, terminate };\n    }\n    checkLabelOverlap(rotation, rotated, labelMatrix, tickData, labelX, textProps) {\n        Matrix.updateTransformMatrix(labelMatrix, 1, 1, rotation, 0, 0);\n        const labelData = this.createLabelData(tickData, labelX, textProps, labelMatrix);\n        const labelSpacing = getLabelSpacing(this.label.minSpacing, rotated);\n        return axisLabelsOverlap(labelData, labelSpacing);\n    }\n    createLabelData(tickData, labelX, textProps, labelMatrix) {\n        const labelData = [];\n        for (const tickDatum of tickData) {\n            const { tickLabel, translationY } = tickDatum;\n            if (tickLabel === '' || tickLabel == undefined) {\n                // skip user hidden ticks\n                continue;\n            }\n            const lines = splitText(tickLabel);\n            const { width, height } = measureText(lines, labelX, translationY, textProps);\n            const bbox = new BBox(labelX, translationY, width, height);\n            const labelDatum = calculateLabelBBox(tickLabel, bbox, labelX, translationY, labelMatrix);\n            labelData.push(labelDatum);\n        }\n        return labelData;\n    }\n    getAutoRotation(labelOveralap) {\n        return labelOveralap ? normalizeAngle360(toRadians(this.label.autoRotateAngle)) : 0;\n    }\n    getTicks({ tickGenerationType, previousTicks, tickCount, minTickCount, maxTickCount, primaryTickCount, }) {\n        var _a;\n        const { scale } = this;\n        let rawTicks = [];\n        switch (tickGenerationType) {\n            case TickGenerationType.VALUES:\n                rawTicks = this.tick.values;\n                break;\n            case TickGenerationType.CREATE_SECONDARY:\n                // `updateSecondaryAxisTicks` mutates `scale.domain` based on `primaryTickCount`\n                rawTicks = this.updateSecondaryAxisTicks(primaryTickCount);\n                break;\n            case TickGenerationType.FILTER:\n                rawTicks = this.filterTicks(previousTicks, tickCount);\n                break;\n            default:\n                rawTicks = this.createTicks(tickCount, minTickCount, maxTickCount);\n                break;\n        }\n        // When the scale domain or the ticks change, the label format may change\n        this.onLabelFormatChange(rawTicks, this.label.format);\n        // `ticks instanceof NumericTicks` doesn't work here, so we feature detect.\n        this.fractionDigits = rawTicks.fractionDigits >= 0 ? rawTicks.fractionDigits : 0;\n        const halfBandwidth = ((_a = this.scale.bandwidth) !== null && _a !== void 0 ? _a : 0) / 2;\n        const ticks = [];\n        let labelCount = 0;\n        for (let i = 0; i < rawTicks.length; i++) {\n            const rawTick = rawTicks[i];\n            const translationY = scale.convert(rawTick) + halfBandwidth;\n            const tickLabel = this.formatTick(rawTick, i);\n            ticks.push({ tick: rawTick, tickLabel, translationY });\n            if (tickLabel === '' || tickLabel == undefined) {\n                continue;\n            }\n            labelCount++;\n        }\n        return { rawTicks, ticks, labelCount };\n    }\n    filterTicks(ticks, tickCount) {\n        var _a;\n        const tickSpacing = !isNaN(this.tick.minSpacing) || !isNaN((_a = this.tick.maxSpacing) !== null && _a !== void 0 ? _a : NaN);\n        const keepEvery = tickSpacing ? Math.ceil(ticks.length / tickCount) : 2;\n        return ticks.filter((_, i) => i % keepEvery === 0);\n    }\n    createTicks(tickCount, minTickCount, maxTickCount) {\n        this.setTickCount(tickCount, minTickCount, maxTickCount);\n        return this.scale.ticks();\n    }\n    estimateTickCount({ minSpacing, maxSpacing }) {\n        const availableRange = this.calculateAvailableRange();\n        const defaultMinSpacing = Math.max(Axis.defaultTickMinSpacing, availableRange / ContinuousScale.defaultMaxTickCount);\n        if (isNaN(minSpacing) && isNaN(maxSpacing)) {\n            minSpacing = defaultMinSpacing;\n            maxSpacing = availableRange;\n            if (minSpacing > maxSpacing) {\n                // Take automatic minSpacing if there is a conflict.\n                maxSpacing = minSpacing;\n            }\n        }\n        else if (isNaN(minSpacing)) {\n            minSpacing = defaultMinSpacing;\n            if (minSpacing > maxSpacing) {\n                // Take user-suplied maxSpacing if there is a conflict.\n                minSpacing = maxSpacing;\n            }\n        }\n        else if (isNaN(maxSpacing)) {\n            maxSpacing = availableRange;\n            if (minSpacing > maxSpacing) {\n                // Take user-suplied minSpacing if there is a conflict.\n                maxSpacing = minSpacing;\n            }\n        }\n        const maxTickCount = Math.max(1, Math.floor(availableRange / minSpacing));\n        const minTickCount = Math.min(maxTickCount, Math.ceil(availableRange / maxSpacing));\n        let defaultTickCount = ContinuousScale.defaultTickCount;\n        if (defaultTickCount > maxTickCount) {\n            defaultTickCount = maxTickCount;\n        }\n        else if (defaultTickCount < minTickCount) {\n            defaultTickCount = minTickCount;\n        }\n        return { minTickCount, maxTickCount, defaultTickCount };\n    }\n    updateVisibility() {\n        const { range: requestedRange } = this;\n        const requestedRangeMin = Math.min(...requestedRange);\n        const requestedRangeMax = Math.max(...requestedRange);\n        const visibleFn = (node) => {\n            const min = Math.floor(requestedRangeMin);\n            const max = Math.ceil(requestedRangeMax);\n            if (min === max) {\n                node.visible = false;\n                return;\n            }\n            // Fix an effect of rounding error\n            if (node.translationY >= min - 1 && node.translationY < min) {\n                node.translationY = min;\n            }\n            if (node.translationY > max && node.translationY <= max + 1) {\n                node.translationY = max;\n            }\n            const visible = node.translationY >= min && node.translationY <= max;\n            node.visible = visible;\n        };\n        const { gridLineGroupSelection, gridArcGroupSelection, tickLineGroupSelection, tickLabelGroupSelection } = this;\n        gridLineGroupSelection.each(visibleFn);\n        gridArcGroupSelection.each(visibleFn);\n        tickLineGroupSelection.each(visibleFn);\n        tickLabelGroupSelection.each(visibleFn);\n        this.tickLineGroup.visible = this.tick.enabled;\n        this.tickLabelGroup.visible = this.label.enabled;\n    }\n    updateCrossLines({ rotation, parallelFlipRotation, regularFlipRotation, sideFlag, }) {\n        var _a;\n        const anySeriesActive = this.isAnySeriesActive();\n        (_a = this.crossLines) === null || _a === void 0 ? void 0 : _a.forEach((crossLine) => {\n            var _a;\n            crossLine.sideFlag = -sideFlag;\n            crossLine.direction = rotation === -Math.PI / 2 ? ChartAxisDirection.X : ChartAxisDirection.Y;\n            crossLine.label.parallel = (_a = crossLine.label.parallel) !== null && _a !== void 0 ? _a : this.label.parallel;\n            crossLine.parallelFlipRotation = parallelFlipRotation;\n            crossLine.regularFlipRotation = regularFlipRotation;\n            crossLine.update(anySeriesActive);\n        });\n    }\n    updateTickLines(sideFlag) {\n        const { tick } = this;\n        this.tickLineGroupSelection.each((line) => {\n            line.strokeWidth = tick.width;\n            line.stroke = tick.color;\n            line.x1 = sideFlag * tick.size;\n            line.x2 = 0;\n            line.y1 = 0;\n            line.y2 = 0;\n        });\n    }\n    calculateAvailableRange() {\n        const { range: requestedRange } = this;\n        const min = Math.min(...requestedRange);\n        const max = Math.max(...requestedRange);\n        return max - min;\n    }\n    calculateDomain() {\n        // Placeholder for subclasses to override.\n    }\n    updatePosition({ rotation, sideFlag }) {\n        const { crossLineGroup, axisGroup, gridGroup, translation, gridLineGroupSelection, gridPadding, gridLength } = this;\n        const translationX = Math.floor(translation.x);\n        const translationY = Math.floor(translation.y);\n        crossLineGroup.translationX = translationX;\n        crossLineGroup.translationY = translationY;\n        crossLineGroup.rotation = rotation;\n        axisGroup.translationX = translationX;\n        axisGroup.translationY = translationY;\n        axisGroup.rotation = rotation;\n        gridGroup.translationX = translationX;\n        gridGroup.translationY = translationY;\n        gridGroup.rotation = rotation;\n        gridLineGroupSelection.each((line) => {\n            line.x1 = gridPadding;\n            line.x2 = -sideFlag * gridLength + gridPadding;\n            line.y1 = 0;\n            line.y2 = 0;\n        });\n    }\n    updateSecondaryAxisTicks(_primaryTickCount) {\n        throw new Error('AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.');\n    }\n    updateSelections(data) {\n        const gridData = this.gridLength ? data : [];\n        const gridLineGroupSelection = this.radialGrid\n            ? this.gridLineGroupSelection\n            : this.gridLineGroupSelection.update(gridData, (group) => {\n                const node = new Line();\n                node.tag = Tags.GridLine;\n                group.append(node);\n            });\n        const gridArcGroupSelection = this.radialGrid\n            ? this.gridArcGroupSelection.update(gridData, (group) => {\n                const node = new Arc();\n                node.tag = Tags.GridArc;\n                group.append(node);\n            })\n            : this.gridArcGroupSelection;\n        const tickLineGroupSelection = this.tickLineGroupSelection.update(data, (group) => {\n            const line = new Line();\n            line.tag = Tags.TickLine;\n            group.appendChild(line);\n        });\n        const tickLabelGroupSelection = this.tickLabelGroupSelection.update(data, (group) => {\n            const text = new Text();\n            text.tag = Tags.TickLabel;\n            group.appendChild(text);\n        });\n        // We need raw `translationY` values on `datum` for accurate label collision detection in axes.update()\n        // But node `translationY` values must be rounded to get pixel grid alignment\n        const translationFn = (node) => (node.translationY = Math.round(node.datum.translationY));\n        gridLineGroupSelection.each(translationFn);\n        gridArcGroupSelection.each(translationFn);\n        tickLineGroupSelection.each(translationFn);\n        tickLabelGroupSelection.each(translationFn);\n        this.tickLineGroupSelection = tickLineGroupSelection;\n        this.tickLabelGroupSelection = tickLabelGroupSelection;\n        this.gridLineGroupSelection = gridLineGroupSelection;\n        this.gridArcGroupSelection = gridArcGroupSelection;\n    }\n    updateGridLines(sideFlag) {\n        var _a;\n        const { gridStyle, scale, tick, gridPadding, gridLength } = this;\n        if (gridLength && gridStyle.length) {\n            const styleCount = gridStyle.length;\n            let grid;\n            if (this.radialGrid) {\n                const angularGridLength = normalizeAngle360Inclusive(toRadians(gridLength));\n                const halfBandwidth = ((_a = this.scale.bandwidth) !== null && _a !== void 0 ? _a : 0) / 2;\n                grid = this.gridArcGroupSelection.each((arc, datum) => {\n                    const radius = Math.round(scale.convert(datum) + halfBandwidth);\n                    arc.centerX = 0;\n                    arc.centerY = scale.range[0] - radius;\n                    arc.endAngle = angularGridLength;\n                    arc.radius = radius;\n                });\n            }\n            else {\n                grid = this.gridLineGroupSelection.each((line) => {\n                    line.x1 = gridPadding;\n                    line.x2 = -sideFlag * gridLength + gridPadding;\n                    line.y1 = 0;\n                    line.y2 = 0;\n                });\n            }\n            grid.each((node, _, index) => {\n                const style = gridStyle[index % styleCount];\n                node.stroke = style.stroke;\n                node.strokeWidth = tick.width;\n                node.lineDash = style.lineDash;\n                node.fill = undefined;\n            });\n        }\n    }\n    updateLabels({ tickLabelGroupSelection, combinedRotation, textBaseline, textAlign, labelX, }) {\n        const { label, label: { enabled: labelsEnabled }, } = this;\n        if (!labelsEnabled) {\n            return { labelData: [], rotated: false };\n        }\n        // Apply label option values\n        tickLabelGroupSelection.each((node, datum) => {\n            const { tickLabel } = datum;\n            node.fontStyle = label.fontStyle;\n            node.fontWeight = label.fontWeight;\n            node.fontSize = label.fontSize;\n            node.fontFamily = label.fontFamily;\n            node.fill = label.color;\n            node.text = tickLabel;\n            const userHidden = node.text === '' || node.text == undefined;\n            if (userHidden) {\n                node.visible = false; // hide empty labels\n                return;\n            }\n            // Position labels\n            node.textBaseline = textBaseline;\n            node.textAlign = textAlign;\n            node.x = labelX;\n            node.rotationCenterX = labelX;\n            node.rotation = combinedRotation;\n            node.visible = true;\n        });\n    }\n    wrapLabels(tickData, index, labelProps) {\n        const { label: { parallel, maxWidth, maxHeight }, } = this;\n        const defaultMaxLabelWidth = parallel\n            ? Math.round(this.calculateAvailableRange() / tickData.labelCount)\n            : this.maxThickness;\n        const maxLabelWidth = maxWidth !== null && maxWidth !== void 0 ? maxWidth : defaultMaxLabelWidth;\n        const defaultMaxLabelHeight = parallel\n            ? this.maxThickness\n            : Math.round(this.calculateAvailableRange() / tickData.labelCount);\n        const maxLabelHeight = maxHeight !== null && maxHeight !== void 0 ? maxHeight : defaultMaxLabelHeight;\n        tickData.ticks.forEach((tickDatum) => {\n            const { tickLabel } = tickDatum;\n            const wrapping = 'hyphenate';\n            const wrappedTickLabel = Text.wrap(tickLabel, maxLabelWidth, maxLabelHeight, labelProps, wrapping);\n            tickDatum.tickLabel = wrappedTickLabel;\n        });\n        return { tickData, index, autoRotation: 0, terminate: true };\n    }\n    updateLine() {\n        // Render axis line.\n        const { lineNode, range: requestedRange } = this;\n        lineNode.x1 = 0;\n        lineNode.x2 = 0;\n        lineNode.y1 = requestedRange[0];\n        lineNode.y2 = requestedRange[1];\n        lineNode.strokeWidth = this.line.width;\n        lineNode.stroke = this.line.color;\n        lineNode.visible = true;\n    }\n    updateTitle({ anyTickVisible, sideFlag }) {\n        var _a;\n        const identityFormatter = (params) => params.defaultValue;\n        const { rotation, title, _titleCaption, lineNode, range: requestedRange, tickLineGroup, tickLabelGroup, moduleCtx: { callbackCache }, } = this;\n        const { formatter = identityFormatter } = (_a = this.title) !== null && _a !== void 0 ? _a : {};\n        if (!title) {\n            _titleCaption.enabled = false;\n            return;\n        }\n        _titleCaption.enabled = title.enabled;\n        _titleCaption.fontFamily = title.fontFamily;\n        _titleCaption.fontSize = title.fontSize;\n        _titleCaption.fontStyle = title.fontStyle;\n        _titleCaption.fontWeight = title.fontWeight;\n        _titleCaption.color = title.color;\n        _titleCaption.wrapping = title.wrapping;\n        let titleVisible = false;\n        const titleNode = _titleCaption.node;\n        if (title.enabled && lineNode.visible) {\n            titleVisible = true;\n            const parallelFlipRotation = normalizeAngle360(rotation);\n            const padding = Caption.PADDING;\n            const titleRotationFlag = sideFlag === -1 && parallelFlipRotation > Math.PI && parallelFlipRotation < Math.PI * 2 ? -1 : 1;\n            titleNode.rotation = (titleRotationFlag * sideFlag * Math.PI) / 2;\n            titleNode.x = Math.floor((titleRotationFlag * sideFlag * (requestedRange[0] + requestedRange[1])) / 2);\n            let bboxYDimension = 0;\n            if (anyTickVisible) {\n                const tickBBox = Group.computeBBox([tickLineGroup, tickLabelGroup]);\n                const tickWidth = rotation === 0 ? tickBBox.width : tickBBox.height;\n                if (Math.abs(tickWidth) < Infinity) {\n                    bboxYDimension += tickWidth;\n                }\n            }\n            if (sideFlag === -1) {\n                titleNode.y = Math.floor(titleRotationFlag * (-padding - bboxYDimension));\n            }\n            else {\n                titleNode.y = Math.floor(-padding - bboxYDimension);\n            }\n            titleNode.textBaseline = titleRotationFlag === 1 ? 'bottom' : 'top';\n            titleNode.text = callbackCache.call(formatter, this.getTitleFormatterParams());\n        }\n        titleNode.visible = titleVisible;\n    }\n    // For formatting (nice rounded) tick values.\n    formatTick(datum, index) {\n        var _a, _b;\n        const { label, labelFormatter, fractionDigits, moduleCtx: { callbackCache }, } = this;\n        if (label.formatter) {\n            const defaultValue = fractionDigits > 0 ? datum : String(datum);\n            return ((_a = callbackCache.call(label.formatter, {\n                value: defaultValue,\n                index,\n                fractionDigits,\n                formatter: labelFormatter,\n            })) !== null && _a !== void 0 ? _a : defaultValue);\n        }\n        else if (labelFormatter) {\n            return (_b = callbackCache.call(labelFormatter, datum)) !== null && _b !== void 0 ? _b : String(datum);\n        }\n        // The axis is using a logScale or the`datum` is an integer, a string or an object\n        return String(datum);\n    }\n    // For formatting arbitrary values between the ticks.\n    formatDatum(datum) {\n        return String(datum);\n    }\n    computeBBox() {\n        return this.axisGroup.computeBBox();\n    }\n    initCrossLine(crossLine) {\n        crossLine.scale = this.scale;\n        crossLine.gridLength = this.gridLength;\n    }\n    isAnySeriesActive() {\n        return false;\n    }\n    clipTickLines(x, y, width, height) {\n        this.tickLineGroup.setClipRectInGroupCoordinateSpace(new BBox(x, y, width, height));\n    }\n    clipGrid(x, y, width, height) {\n        this.gridGroup.setClipRectInGroupCoordinateSpace(new BBox(x, y, width, height));\n    }\n    calculatePadding(min, _max) {\n        return Math.abs(min * 0.01);\n    }\n}\nAxis.defaultTickMinSpacing = 50;\n__decorate([\n    Validate(BOOLEAN)\n], Axis.prototype, \"nice\", void 0);\n__decorate([\n    Validate(GRID_STYLE)\n], Axis.prototype, \"gridStyle\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], Axis.prototype, \"thickness\", void 0);\n","import { ContinuousScale } from './continuousScale.mjs';\nimport ticks, { range, tickStep, singleTickDomain } from '../util/ticks.mjs';\nimport { tickFormat } from '../util/numberFormat.mjs';\n/**\n * Maps continuous domain to a continuous range.\n */\nexport class LinearScale extends ContinuousScale {\n    constructor() {\n        super([0, 1], [0, 1]);\n        this.type = 'linear';\n    }\n    toDomain(d) {\n        return d;\n    }\n    ticks() {\n        var _a;\n        const count = (_a = this.tickCount) !== null && _a !== void 0 ? _a : ContinuousScale.defaultTickCount;\n        if (!this.domain || this.domain.length < 2 || count < 1 || this.domain.some((d) => !isFinite(d))) {\n            return [];\n        }\n        this.refresh();\n        const [d0, d1] = this.getDomain();\n        const { interval } = this;\n        if (interval) {\n            const step = Math.abs(interval);\n            if (!this.isDenseInterval({ start: d0, stop: d1, interval: step })) {\n                return range(d0, d1, step);\n            }\n        }\n        return ticks(d0, d1, count, this.minTickCount, this.maxTickCount);\n    }\n    update() {\n        if (!this.domain || this.domain.length < 2) {\n            return;\n        }\n        if (this.nice) {\n            this.updateNiceDomain();\n        }\n    }\n    /**\n     * Extends the domain so that it starts and ends on nice round values.\n     * @param count Tick count.\n     */\n    updateNiceDomain() {\n        var _a, _b;\n        const count = (_a = this.tickCount) !== null && _a !== void 0 ? _a : ContinuousScale.defaultTickCount;\n        let [start, stop] = this.domain;\n        if (count < 1) {\n            this.niceDomain = [start, stop];\n            return;\n        }\n        if (count === 1) {\n            this.niceDomain = singleTickDomain(start, stop);\n            return;\n        }\n        const maxAttempts = 4;\n        let prev0 = start;\n        let prev1 = stop;\n        for (let i = 0; i < maxAttempts; i++) {\n            const step = (_b = this.interval) !== null && _b !== void 0 ? _b : tickStep(start, stop, count, this.minTickCount, this.maxTickCount);\n            const [d0, d1] = this.domain;\n            if (step >= 1) {\n                start = Math.floor(d0 / step) * step;\n                stop = Math.ceil(d1 / step) * step;\n            }\n            else {\n                // Prevent floating point error\n                const s = 1 / step;\n                start = Math.floor(d0 * s) / s;\n                stop = Math.ceil(d1 * s) / s;\n            }\n            if (start === prev0 && stop === prev1) {\n                break;\n            }\n            prev0 = start;\n            prev1 = stop;\n        }\n        this.niceDomain = [start, stop];\n    }\n    tickFormat({ ticks, specifier }) {\n        return tickFormat(ticks !== null && ticks !== void 0 ? ticks : this.ticks(), specifier);\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Axis } from '../axis.mjs';\nimport { ChartAxisDirection } from './chartAxisDirection.mjs';\nimport { LinearScale } from '../scale/linearScale.mjs';\nimport { ContinuousScale } from '../scale/continuousScale.mjs';\nimport { POSITION, STRING_ARRAY, Validate } from '../util/validation.mjs';\nexport class ChartAxis extends Axis {\n    constructor(moduleCtx, scale) {\n        super(moduleCtx, scale);\n        this.keys = [];\n        this.boundSeries = [];\n        this.includeInvisibleDomains = false;\n        this.modules = {};\n        this.position = 'left';\n    }\n    get type() {\n        var _a;\n        return (_a = this.constructor.type) !== null && _a !== void 0 ? _a : '';\n    }\n    get direction() {\n        return ['top', 'bottom'].includes(this.position) ? ChartAxisDirection.X : ChartAxisDirection.Y;\n    }\n    useCalculatedTickCount() {\n        // We only want to use the new algorithm for number axes. Category axes don't use a\n        // calculated or user-supplied tick-count, and time axes need special handling depending on\n        // the time-range involved.\n        return this.scale instanceof LinearScale;\n    }\n    update(primaryTickCount) {\n        this.updateDirection();\n        return super.update(primaryTickCount);\n    }\n    updateDirection() {\n        switch (this.position) {\n            case 'top':\n                this.rotation = -90;\n                this.label.mirrored = true;\n                this.label.parallel = true;\n                break;\n            case 'right':\n                this.rotation = 0;\n                this.label.mirrored = true;\n                this.label.parallel = false;\n                break;\n            case 'bottom':\n                this.rotation = -90;\n                this.label.mirrored = false;\n                this.label.parallel = true;\n                break;\n            case 'left':\n                this.rotation = 0;\n                this.label.mirrored = false;\n                this.label.parallel = false;\n                break;\n        }\n        if (this.axisContext) {\n            this.axisContext.position = this.position;\n            this.axisContext.direction = this.direction;\n        }\n    }\n    calculateDomain() {\n        const { direction, boundSeries, includeInvisibleDomains } = this;\n        if (this.linkedTo) {\n            this.dataDomain = this.linkedTo.dataDomain;\n        }\n        else {\n            const domains = [];\n            const visibleSeries = boundSeries.filter((s) => includeInvisibleDomains || s.isEnabled());\n            for (const series of visibleSeries) {\n                domains.push(series.getDomain(direction));\n            }\n            const domain = new Array().concat(...domains);\n            this.dataDomain = this.normaliseDataDomain(domain);\n        }\n    }\n    normaliseDataDomain(d) {\n        return d;\n    }\n    isAnySeriesActive() {\n        return this.boundSeries.some((s) => this.includeInvisibleDomains || s.isEnabled());\n    }\n    getLayoutState() {\n        return Object.assign({ rect: this.computeBBox(), gridPadding: this.gridPadding, seriesAreaPadding: this.seriesAreaPadding, tickSize: this.tick.size }, this.layout);\n    }\n    addModule(module) {\n        if (this.modules[module.optionsKey] != null) {\n            throw new Error('AG Charts - module already initialised: ' + module.optionsKey);\n        }\n        if (this.axisContext == null) {\n            const keys = () => {\n                return this.boundSeries\n                    .map((s) => s.getKeys(this.direction))\n                    .reduce((keys, seriesKeys) => {\n                    keys.push(...seriesKeys);\n                    return keys;\n                }, []);\n            };\n            this.axisContext = {\n                axisId: this.id,\n                position: this.position,\n                direction: this.direction,\n                continuous: this.scale instanceof ContinuousScale,\n                keys,\n                scaleValueFormatter: (specifier) => { var _a, _b, _c; return (_c = (_b = (_a = this.scale).tickFormat) === null || _b === void 0 ? void 0 : _b.call(_a, { specifier })) !== null && _c !== void 0 ? _c : undefined; },\n                scaleBandwidth: () => { var _a; return (_a = this.scale.bandwidth) !== null && _a !== void 0 ? _a : 0; },\n                scaleConvert: (val) => this.scale.convert(val),\n                scaleInvert: (val) => { var _a, _b, _c; return (_c = (_b = (_a = this.scale).invert) === null || _b === void 0 ? void 0 : _b.call(_a, val)) !== null && _c !== void 0 ? _c : undefined; },\n            };\n        }\n        const moduleInstance = new module.instanceConstructor(Object.assign(Object.assign({}, this.moduleCtx), { parent: this.axisContext }));\n        this.modules[module.optionsKey] = { instance: moduleInstance };\n        this[module.optionsKey] = moduleInstance;\n    }\n    removeModule(module) {\n        var _a, _b;\n        (_b = (_a = this.modules[module.optionsKey]) === null || _a === void 0 ? void 0 : _a.instance) === null || _b === void 0 ? void 0 : _b.destroy();\n        delete this.modules[module.optionsKey];\n        delete this[module.optionsKey];\n    }\n    isModuleEnabled(module) {\n        return this.modules[module.optionsKey] != null;\n    }\n    destroy() {\n        super.destroy();\n        for (const [key, module] of Object.entries(this.modules)) {\n            module.instance.destroy();\n            delete this.modules[key];\n            delete this[key];\n        }\n    }\n    getTitleFormatterParams() {\n        var _a;\n        const boundSeries = this.boundSeries.reduce((acc, next) => {\n            const keys = next.getKeys(this.direction);\n            const names = next.getNames(this.direction);\n            for (let idx = 0; idx < keys.length; idx++) {\n                acc.push({\n                    key: keys[idx],\n                    name: names[idx],\n                });\n            }\n            return acc;\n        }, []);\n        return {\n            direction: this.direction,\n            boundSeries,\n            defaultValue: (_a = this.title) === null || _a === void 0 ? void 0 : _a.text,\n        };\n    }\n}\n__decorate([\n    Validate(STRING_ARRAY)\n], ChartAxis.prototype, \"keys\", void 0);\n__decorate([\n    Validate(POSITION)\n], ChartAxis.prototype, \"position\", void 0);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { NUMBER, Validate } from '../../util/validation.mjs';\nimport { BandScale } from '../../scale/bandScale.mjs';\nimport { ChartAxis } from '../chartAxis.mjs';\nexport class CategoryAxis extends ChartAxis {\n    constructor(moduleCtx) {\n        super(moduleCtx, new BandScale());\n        this._paddingOverrideEnabled = false;\n        this.groupPaddingInner = 0.1;\n        this.includeInvisibleDomains = true;\n    }\n    set paddingInner(value) {\n        this._paddingOverrideEnabled = true;\n        this.scale.paddingInner = value;\n    }\n    get paddingInner() {\n        this._paddingOverrideEnabled = true;\n        return this.scale.paddingInner;\n    }\n    set paddingOuter(value) {\n        this.scale.paddingOuter = value;\n    }\n    get paddingOuter() {\n        return this.scale.paddingOuter;\n    }\n    normaliseDataDomain(d) {\n        // Prevent duplicate categories.\n        const valuesSet = new Set(d);\n        return new Array(...valuesSet.values());\n    }\n    calculateDomain() {\n        if (!this._paddingOverrideEnabled) {\n            const { boundSeries } = this;\n            const paddings = boundSeries.map((s) => { var _a; return (_a = s.getBandScalePadding) === null || _a === void 0 ? void 0 : _a.call(s); }).filter((p) => p != null);\n            if (paddings.length > 0) {\n                this.scale.paddingInner = Math.min(...paddings.map((p) => p.inner));\n                this.scale.paddingOuter = Math.max(...paddings.map((p) => p.outer));\n            }\n        }\n        return super.calculateDomain();\n    }\n}\nCategoryAxis.className = 'CategoryAxis';\nCategoryAxis.type = 'category';\n__decorate([\n    Validate(NUMBER(0, 1))\n], CategoryAxis.prototype, \"groupPaddingInner\", void 0);\n","import { Logger } from './logger.mjs';\n/**\n * Performs a JSON-diff between a source and target JSON structure.\n *\n * On a per property basis, takes the target property value where:\n * - types are different.\n * - type is primitive.\n * - type is array and length or content have changed.\n *\n * Recurses for object types.\n *\n * @param source starting point for diff\n * @param target target for diff vs. source\n *\n * @returns `null` if no differences, or an object with the subset of properties that have changed.\n */\nexport function jsonDiff(source, target) {\n    const sourceType = classify(source);\n    const targetType = classify(target);\n    if (targetType === 'array') {\n        const targetArray = target;\n        if (sourceType !== 'array' || source.length !== targetArray.length) {\n            return [...targetArray];\n        }\n        if (targetArray.some((targetElement, i) => { var _a; return jsonDiff((_a = source) === null || _a === void 0 ? void 0 : _a[i], targetElement) != null; })) {\n            return [...targetArray];\n        }\n        return null;\n    }\n    if (targetType === 'primitive') {\n        if (sourceType !== 'primitive') {\n            return Object.assign({}, target);\n        }\n        if (source !== target) {\n            return target;\n        }\n        return null;\n    }\n    const lhs = source || {};\n    const rhs = target || {};\n    const allProps = new Set([...Object.keys(lhs), ...Object.keys(rhs)]);\n    let propsChangedCount = 0;\n    const result = {};\n    for (const prop of allProps) {\n        // Cheap-and-easy equality check.\n        if (lhs[prop] === rhs[prop]) {\n            continue;\n        }\n        const take = (v) => {\n            result[prop] = v;\n            propsChangedCount++;\n        };\n        const lhsType = classify(lhs[prop]);\n        const rhsType = classify(rhs[prop]);\n        if (lhsType !== rhsType) {\n            // Types changed, just take RHS.\n            take(rhs[prop]);\n            continue;\n        }\n        if (rhsType === 'primitive' || rhsType === null) {\n            take(rhs[prop]);\n            continue;\n        }\n        if (rhsType === 'array' && lhs[prop].length !== rhs[prop].length) {\n            // Arrays are different sizes, so just take target array.\n            take(rhs[prop]);\n            continue;\n        }\n        if (rhsType === 'class-instance') {\n            // Don't try to do anything tricky with array diffs!\n            take(rhs[prop]);\n            continue;\n        }\n        if (rhsType === 'function' && lhs[prop] !== rhs[prop]) {\n            take(rhs[prop]);\n            continue;\n        }\n        const diff = jsonDiff(lhs[prop], rhs[prop]);\n        if (diff !== null) {\n            take(diff);\n        }\n    }\n    return propsChangedCount === 0 ? null : result;\n}\n/**\n * Special value used by `jsonMerge` to signal that a property should be removed from the merged\n * output.\n */\nexport const DELETE = Symbol('<delete-property>');\nconst NOT_SPECIFIED = Symbol('<unspecified-property>');\n/**\n * Merge together the provide JSON object structures, with the precedence of application running\n * from higher indexes to lower indexes.\n *\n * Deep-clones all objects to avoid mutation of the inputs changing the output object. For arrays,\n * just performs a deep-clone of the entire array, no merging of elements attempted.\n *\n * @param json all json objects to merge\n * @param opts merge options\n * @param opts.avoidDeepClone contains a list of properties where deep clones should be avoided\n *\n * @returns the combination of all of the json inputs\n */\nexport function jsonMerge(json, opts) {\n    var _a;\n    const avoidDeepClone = (_a = opts === null || opts === void 0 ? void 0 : opts.avoidDeepClone) !== null && _a !== void 0 ? _a : [];\n    const jsonTypes = json.map((v) => classify(v));\n    if (jsonTypes.some((v) => v === 'array')) {\n        // Clone final array.\n        const finalValue = json[json.length - 1];\n        if (finalValue instanceof Array) {\n            return finalValue.map((v) => {\n                const type = classify(v);\n                if (type === 'array')\n                    return jsonMerge([[], v], opts);\n                if (type === 'object')\n                    return jsonMerge([{}, v], opts);\n                return v;\n            });\n        }\n        return finalValue;\n    }\n    const result = {};\n    const props = new Set(json.map((v) => (v != null ? Object.keys(v) : [])).reduce((r, n) => r.concat(n), []));\n    for (const nextProp of props) {\n        const values = json\n            .map((j) => (j != null && nextProp in j ? j[nextProp] : NOT_SPECIFIED))\n            .filter((v) => v !== NOT_SPECIFIED);\n        if (values.length === 0) {\n            continue;\n        }\n        const lastValue = values[values.length - 1];\n        if (lastValue === DELETE) {\n            continue;\n        }\n        const types = values.map((v) => classify(v));\n        const type = types[0];\n        if (types.some((t) => t !== type)) {\n            // Short-circuit if mismatching types.\n            result[nextProp] = lastValue;\n            continue;\n        }\n        if ((type === 'array' || type === 'object') && !avoidDeepClone.includes(nextProp)) {\n            result[nextProp] = jsonMerge(values, opts);\n        }\n        else if (type === 'array') {\n            // Arrays need to be shallow copied to avoid external mutation and allow jsonDiff to\n            // detect changes.\n            result[nextProp] = [...lastValue];\n        }\n        else {\n            // Just directly assign/overwrite.\n            result[nextProp] = lastValue;\n        }\n    }\n    return result;\n}\n/**\n * Recursively apply a JSON object into a class-hierarchy, optionally instantiating certain classes\n * by property name.\n *\n * @param target to apply source JSON properties into\n * @param source to be applied\n * @param params.path path for logging/error purposes, to aid with pinpointing problems\n * @param params.matcherPath path for pattern matching, to lookup allowedTypes override.\n * @param params.skip property names to skip from the source\n * @param params.constructors dictionary of property name to class constructors for properties that\n *                            require object construction\n * @param params.allowedTypes overrides by path for allowed property types\n */\nexport function jsonApply(target, source, params = {}) {\n    var _a, _b;\n    const { path = undefined, matcherPath = path ? path.replace(/(\\[[0-9+]+\\])/i, '[]') : undefined, skip = [], constructors = {}, allowedTypes = {}, idx, } = params;\n    if (target == null) {\n        throw new Error(`AG Charts - target is uninitialised: ${path !== null && path !== void 0 ? path : '<root>'}`);\n    }\n    if (source == null) {\n        return target;\n    }\n    const targetAny = target;\n    if (idx != null && '_declarationOrder' in targetAny) {\n        targetAny['_declarationOrder'] = idx;\n    }\n    const targetType = classify(target);\n    for (const property in source) {\n        const propertyMatcherPath = `${matcherPath ? matcherPath + '.' : ''}${property}`;\n        if (skip.indexOf(propertyMatcherPath) >= 0) {\n            continue;\n        }\n        const newValue = source[property];\n        const propertyPath = `${path ? path + '.' : ''}${property}`;\n        const targetClass = targetAny.constructor;\n        const currentValue = targetAny[property];\n        let ctr = (_a = constructors[propertyMatcherPath]) !== null && _a !== void 0 ? _a : constructors[property];\n        try {\n            const currentValueType = classify(currentValue);\n            const newValueType = classify(newValue);\n            if (targetType === 'class-instance' &&\n                !(property in target || Object.prototype.hasOwnProperty.call(targetAny, property))) {\n                Logger.warn(`unable to set [${propertyPath}] in ${targetClass === null || targetClass === void 0 ? void 0 : targetClass.name} - property is unknown`);\n                continue;\n            }\n            const allowableTypes = (_b = allowedTypes[propertyMatcherPath]) !== null && _b !== void 0 ? _b : [currentValueType];\n            if (currentValueType === 'class-instance' && newValueType === 'object') {\n                // Allowed, this is the common case! - do not error.\n            }\n            else if (currentValueType != null && newValueType != null && !allowableTypes.includes(newValueType)) {\n                Logger.warn(`unable to set [${propertyPath}] in ${targetClass === null || targetClass === void 0 ? void 0 : targetClass.name} - can't apply type of [${newValueType}], allowed types are: [${allowableTypes}]`);\n                continue;\n            }\n            if (newValueType === 'array') {\n                ctr = ctr !== null && ctr !== void 0 ? ctr : constructors[`${propertyMatcherPath}[]`];\n                if (ctr != null) {\n                    const newValueArray = newValue;\n                    targetAny[property] = newValueArray.map((v, idx) => jsonApply(new ctr(), v, Object.assign(Object.assign({}, params), { path: propertyPath, matcherPath: propertyMatcherPath + '[]', idx })));\n                }\n                else {\n                    targetAny[property] = newValue;\n                }\n            }\n            else if (newValueType === 'class-instance') {\n                targetAny[property] = newValue;\n            }\n            else if (newValueType === 'object') {\n                if (currentValue != null) {\n                    jsonApply(currentValue, newValue, Object.assign(Object.assign({}, params), { path: propertyPath, matcherPath: propertyMatcherPath, idx: undefined }));\n                }\n                else if (ctr != null) {\n                    targetAny[property] = jsonApply(new ctr(), newValue, Object.assign(Object.assign({}, params), { path: propertyPath, matcherPath: propertyMatcherPath, idx: undefined }));\n                }\n                else {\n                    targetAny[property] = newValue;\n                }\n            }\n            else {\n                targetAny[property] = newValue;\n            }\n        }\n        catch (error) {\n            const err = error;\n            Logger.warn(`unable to set [${propertyPath}] in [${targetClass === null || targetClass === void 0 ? void 0 : targetClass.name}]; nested error is: ${err.message}`);\n            continue;\n        }\n    }\n    return target;\n}\n/**\n * Walk the given JSON object graphs, invoking the visit() callback for every object encountered.\n * Arrays are descended into without a callback, however their elements will have the visit()\n * callback invoked if they are objects.\n *\n * @param json to traverse\n * @param visit callback for each non-primitive and non-array object found\n * @param opts.skip property names to skip when walking\n * @param jsons to traverse in parallel\n */\nexport function jsonWalk(json, visit, opts, ...jsons) {\n    var _a;\n    const jsonType = classify(json);\n    const skip = (_a = opts.skip) !== null && _a !== void 0 ? _a : [];\n    if (jsonType === 'array') {\n        json.forEach((element, index) => {\n            jsonWalk(element, visit, opts, ...(jsons !== null && jsons !== void 0 ? jsons : []).map((o) => o === null || o === void 0 ? void 0 : o[index]));\n        });\n        return;\n    }\n    else if (jsonType !== 'object') {\n        return;\n    }\n    visit(jsonType, json, ...jsons);\n    for (const property in json) {\n        if (skip.indexOf(property) >= 0) {\n            continue;\n        }\n        const value = json[property];\n        const otherValues = jsons === null || jsons === void 0 ? void 0 : jsons.map((o) => o === null || o === void 0 ? void 0 : o[property]);\n        const valueType = classify(value);\n        if (valueType === 'object' || valueType === 'array') {\n            jsonWalk(value, visit, opts, ...otherValues);\n        }\n    }\n}\nconst isBrowser = typeof window !== 'undefined';\n/**\n * Classify the type of a value to assist with handling for merge purposes.\n */\nfunction classify(value) {\n    if (value == null) {\n        return null;\n    }\n    else if (isBrowser && value instanceof HTMLElement) {\n        return 'primitive';\n    }\n    else if (value instanceof Array) {\n        return 'array';\n    }\n    else if (value instanceof Date) {\n        return 'primitive';\n    }\n    else if (typeof value === 'object' && value.constructor === Object) {\n        return 'object';\n    }\n    else if (typeof value === 'function') {\n        return 'function';\n    }\n    else if (typeof value === 'object' && value.constructor != null) {\n        return 'class-instance';\n    }\n    return 'primitive';\n}\n","import { Marker } from './marker.mjs';\nexport class Square extends Marker {\n    updatePath() {\n        const { path, x, y } = this;\n        const hs = this.size / 2;\n        path.clear();\n        path.moveTo(this.align(x - hs), this.align(y - hs));\n        path.lineTo(this.align(x + hs), this.align(y - hs));\n        path.lineTo(this.align(x + hs), this.align(y + hs));\n        path.lineTo(this.align(x - hs), this.align(y + hs));\n        path.closePath();\n    }\n}\nSquare.className = 'Square';\n","import { Marker } from './marker.mjs';\nexport class Cross extends Marker {\n    updatePath() {\n        const s = this.size / 4.2;\n        super.applyPath(s, Cross.moves);\n    }\n}\nCross.className = 'Cross';\nCross.moves = [\n    { x: -1, y: 0, t: 'move' },\n    { x: -1, y: -1 },\n    { x: +1, y: -1 },\n    { x: +1, y: +1 },\n    { x: +1, y: -1 },\n    { x: +1, y: +1 },\n    { x: -1, y: +1 },\n    { x: +1, y: +1 },\n    { x: -1, y: +1 },\n    { x: -1, y: -1 },\n    { x: -1, y: +1 },\n    { x: -1, y: -1 },\n];\n","import { Marker } from './marker.mjs';\nexport class Diamond extends Marker {\n    updatePath() {\n        const s = this.size / 2;\n        super.applyPath(s, Diamond.moves);\n    }\n}\nDiamond.className = 'Diamond';\nDiamond.moves = [\n    { x: 0, y: -1, t: 'move' },\n    { x: +1, y: +1 },\n    { x: -1, y: +1 },\n    { x: -1, y: -1 },\n    { x: +1, y: -1 },\n];\n","import { Marker } from './marker.mjs';\nexport class Heart extends Marker {\n    rad(degree) {\n        return (degree / 180) * Math.PI;\n    }\n    updatePath() {\n        const { x, path, size, rad } = this;\n        const r = size / 4;\n        const y = this.y + r / 2;\n        path.clear();\n        path.arc(x - r, y - r, r, rad(130), rad(330));\n        path.arc(x + r, y - r, r, rad(220), rad(50));\n        path.lineTo(x, y + r);\n        path.closePath();\n    }\n}\nHeart.className = 'Heart';\n","import { Marker } from './marker.mjs';\nexport class Plus extends Marker {\n    updatePath() {\n        const s = this.size / 3;\n        super.applyPath(s, Plus.moves);\n    }\n}\nPlus.className = 'Plus';\nPlus.moves = [\n    { x: -0.5, y: -0.5, t: 'move' },\n    { x: 0, y: -1 },\n    { x: +1, y: 0 },\n    { x: 0, y: +1 },\n    { x: +1, y: 0 },\n    { x: 0, y: +1 },\n    { x: -1, y: 0 },\n    { x: 0, y: +1 },\n    { x: -1, y: 0 },\n    { x: 0, y: -1 },\n    { x: -1, y: 0 },\n    { x: 0, y: -1 },\n];\n","import { Marker } from './marker.mjs';\nexport class Triangle extends Marker {\n    updatePath() {\n        const s = this.size * 1.1;\n        super.applyPath(s, Triangle.moves);\n    }\n}\nTriangle.className = 'Triangle';\nTriangle.moves = [\n    { x: 0, y: -0.48, t: 'move' },\n    { x: 0.5, y: 0.87 },\n    { x: -1, y: 0 },\n];\n","import { Square } from './square.mjs';\nimport { Circle } from './circle.mjs';\nimport { Cross } from './cross.mjs';\nimport { Diamond } from './diamond.mjs';\nimport { Heart } from './heart.mjs';\nimport { Plus } from './plus.mjs';\nimport { Triangle } from './triangle.mjs';\n// This function is in its own file because putting it into SeriesMarker makes the Legend\n// suddenly aware of the series (it's an agnostic component), and putting it into Marker\n// introduces circular dependencies.\nexport function getMarker(shape = Square) {\n    if (typeof shape === 'string') {\n        switch (shape) {\n            case 'circle':\n                return Circle;\n            case 'cross':\n                return Cross;\n            case 'diamond':\n                return Diamond;\n            case 'heart':\n                return Heart;\n            case 'plus':\n                return Plus;\n            case 'triangle':\n                return Triangle;\n            default:\n                return Square;\n        }\n    }\n    if (typeof shape === 'function') {\n        return shape;\n    }\n    return Square;\n}\n","import { Logger } from '../util/logger.mjs';\nexport class StateMachine {\n    constructor(initialState, states) {\n        this.debug = false;\n        this.state = initialState;\n        this.states = states;\n        if (this.debug)\n            Logger.debug(`%c${this.constructor.name} | init -> ${initialState}`, 'color: green');\n    }\n    transition(event, data) {\n        var _a, _b, _c, _d, _e;\n        const currentStateConfig = this.states[this.state];\n        const destinationTransition = (_a = currentStateConfig === null || currentStateConfig === void 0 ? void 0 : currentStateConfig.on) === null || _a === void 0 ? void 0 : _a[event];\n        if (!destinationTransition) {\n            if (this.debug) {\n                Logger.debug(`%c${this.constructor.name} | ${this.state} -> ${event} -> ${this.state}`, 'color: grey');\n            }\n            return;\n        }\n        const destinationState = destinationTransition.target;\n        const destinationStateConfig = this.states[destinationState];\n        if (this.debug) {\n            Logger.debug(`%c${this.constructor.name} | ${this.state} -> ${event} -> ${destinationState}`, 'color: green');\n        }\n        destinationTransition.action(data);\n        (_c = (_b = currentStateConfig === null || currentStateConfig === void 0 ? void 0 : currentStateConfig.actions) === null || _b === void 0 ? void 0 : _b.onExit) === null || _c === void 0 ? void 0 : _c.call(_b);\n        (_e = (_d = destinationStateConfig === null || destinationStateConfig === void 0 ? void 0 : destinationStateConfig.actions) === null || _d === void 0 ? void 0 : _d.onEnter) === null || _e === void 0 ? void 0 : _e.call(_d);\n        this.state = destinationState;\n        return this.state;\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Series, SeriesNodeBaseClickEvent, } from '../series.mjs';\nimport { SeriesMarker } from '../seriesMarker.mjs';\nimport { isContinuous, isDiscrete } from '../../../util/value.mjs';\nimport { Path } from '../../../scene/shape/path.mjs';\nimport { Selection } from '../../../scene/selection.mjs';\nimport { Group } from '../../../scene/group.mjs';\nimport { Text } from '../../../scene/shape/text.mjs';\nimport { RedrawType, SceneChangeDetection } from '../../../scene/changeDetectable.mjs';\nimport { CategoryAxis } from '../../axis/categoryAxis.mjs';\nimport { Layers } from '../../layers.mjs';\nimport { OPT_FUNCTION, Validate } from '../../../util/validation.mjs';\nimport { jsonDiff } from '../../../util/json.mjs';\nimport { ChartAxisDirection } from '../../chartAxisDirection.mjs';\nimport { getMarker } from '../../marker/util.mjs';\nimport { StateMachine } from '../../../motion/states.mjs';\nconst DEFAULT_DIRECTION_KEYS = {\n    [ChartAxisDirection.X]: ['xKey'],\n    [ChartAxisDirection.Y]: ['yKey'],\n};\nconst DEFAULT_DIRECTION_NAMES = {\n    [ChartAxisDirection.X]: ['xName'],\n    [ChartAxisDirection.Y]: ['yName'],\n};\nexport class CartesianSeriesNodeBaseClickEvent extends SeriesNodeBaseClickEvent {\n    constructor(xKey, yKey, nativeEvent, datum, series) {\n        super(nativeEvent, datum, series);\n        this.xKey = xKey;\n        this.yKey = yKey;\n    }\n}\nexport class CartesianSeriesNodeClickEvent extends CartesianSeriesNodeBaseClickEvent {\n    constructor() {\n        super(...arguments);\n        this.type = 'nodeClick';\n    }\n}\nexport class CartesianSeriesNodeDoubleClickEvent extends CartesianSeriesNodeBaseClickEvent {\n    constructor() {\n        super(...arguments);\n        this.type = 'nodeDoubleClick';\n    }\n}\nclass CartesianStateMachine extends StateMachine {\n}\nexport class CartesianSeries extends Series {\n    constructor(opts) {\n        var _a, _b;\n        super(Object.assign(Object.assign({}, opts), { useSeriesGroupLayer: true, directionKeys: (_a = opts.directionKeys) !== null && _a !== void 0 ? _a : DEFAULT_DIRECTION_KEYS, directionNames: (_b = opts.directionNames) !== null && _b !== void 0 ? _b : DEFAULT_DIRECTION_NAMES }));\n        this._contextNodeData = [];\n        this.nodeDataDependencies = {};\n        this.highlightSelection = Selection.select(this.highlightNode, () => this.opts.hasMarkers ? this.markerFactory() : this.nodeFactory());\n        this.highlightLabelSelection = Selection.select(this.highlightLabel, Text);\n        this.subGroups = [];\n        this.subGroupId = 0;\n        /**\n         * The assumption is that the values will be reset (to `true`)\n         * in the {@link yKeys} setter.\n         */\n        this.seriesItemEnabled = new Map();\n        const { pathsPerSeries = 1, hasMarkers = false, pathsZIndexSubOrderOffset = [] } = opts;\n        this.opts = { pathsPerSeries, hasMarkers, pathsZIndexSubOrderOffset };\n        this.animationState = new CartesianStateMachine('empty', {\n            empty: {\n                on: {\n                    update: {\n                        target: 'ready',\n                        action: (data) => this.animateEmptyUpdateReady(data),\n                    },\n                },\n            },\n            ready: {\n                on: {\n                    update: {\n                        target: 'ready',\n                        action: (data) => this.animateReadyUpdate(data),\n                    },\n                    highlight: {\n                        target: 'ready',\n                        action: (data) => this.animateReadyHighlight(data),\n                    },\n                    highlightMarkers: {\n                        target: 'ready',\n                        action: (data) => this.animateReadyHighlightMarkers(data),\n                    },\n                    resize: {\n                        target: 'ready',\n                        action: (data) => this.animateReadyResize(data),\n                    },\n                },\n            },\n        });\n    }\n    get contextNodeData() {\n        var _a;\n        return (_a = this._contextNodeData) === null || _a === void 0 ? void 0 : _a.slice();\n    }\n    addChartEventListeners() {\n        var _a, _b;\n        (_a = this.chartEventManager) === null || _a === void 0 ? void 0 : _a.addListener('legend-item-click', (event) => this.onLegendItemClick(event));\n        (_b = this.chartEventManager) === null || _b === void 0 ? void 0 : _b.addListener('legend-item-double-click', (event) => this.onLegendItemDoubleClick(event));\n    }\n    destroy() {\n        super.destroy();\n        this._contextNodeData.splice(0, this._contextNodeData.length);\n        this.subGroups.splice(0, this.subGroups.length);\n    }\n    /**\n     * Note: we are passing `isContinuousX` and `isContinuousY` into this method because it will\n     *       typically be called inside a loop and this check only needs to happen once.\n     * @param x A domain value to be plotted along the x-axis.\n     * @param y A domain value to be plotted along the y-axis.\n     * @param isContinuousX Typically this will be the value of `xAxis.scale instanceof ContinuousScale`.\n     * @param isContinuousY Typically this will be the value of `yAxis.scale instanceof ContinuousScale`.\n     * @returns `[x, y]`, if both x and y are valid domain values for their respective axes/scales, or `undefined`.\n     */\n    checkDomainXY(x, y, isContinuousX, isContinuousY) {\n        const isValidDatum = ((isContinuousX && isContinuous(x)) || (!isContinuousX && isDiscrete(x))) &&\n            ((isContinuousY && isContinuous(y)) || (!isContinuousY && isDiscrete(y)));\n        return isValidDatum ? [x, y] : undefined;\n    }\n    /**\n     * Note: we are passing the xAxis and yAxis because the calling code is supposed to make sure\n     *       that series has both of them defined, and also to avoid one level of indirection,\n     *       e.g. `this.xAxis!.inRange(x)`, both of which are suboptimal in tight loops where this method is used.\n     * @param x A range value to be plotted along the x-axis.\n     * @param y A range value to be plotted along the y-axis.\n     * @param xAxis The series' x-axis.\n     * @param yAxis The series' y-axis.\n     * @returns\n     */\n    checkRangeXY(x, y, xAxis, yAxis) {\n        return !isNaN(x) && !isNaN(y) && xAxis.inRange(x) && yAxis.inRange(y);\n    }\n    update({ seriesRect }) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            const { seriesItemEnabled, visible } = this;\n            const { series } = (_b = (_a = this.highlightManager) === null || _a === void 0 ? void 0 : _a.getActiveHighlight()) !== null && _b !== void 0 ? _b : {};\n            const seriesHighlighted = series ? series === this : undefined;\n            const anySeriesItemEnabled = (visible && seriesItemEnabled.size === 0) || [...seriesItemEnabled.values()].some((v) => v === true);\n            const newNodeDataDependencies = {\n                seriesRectWidth: seriesRect === null || seriesRect === void 0 ? void 0 : seriesRect.width,\n                seriesRectHeight: seriesRect === null || seriesRect === void 0 ? void 0 : seriesRect.height,\n            };\n            if (jsonDiff(this.nodeDataDependencies, newNodeDataDependencies) != null) {\n                this.nodeDataDependencies = newNodeDataDependencies;\n                this.markNodeDataDirty();\n                this.animationState.transition('resize', {\n                    datumSelections: this.subGroups.map(({ datumSelection }) => datumSelection),\n                    markerSelections: this.subGroups.map(({ markerSelection }) => markerSelection),\n                    contextData: this._contextNodeData,\n                    paths: this.subGroups.map(({ paths }) => paths),\n                });\n            }\n            yield this.updateSelections(seriesHighlighted, anySeriesItemEnabled);\n            yield this.updateNodes(seriesHighlighted, anySeriesItemEnabled);\n            this.animationState.transition('update', {\n                datumSelections: this.subGroups.map(({ datumSelection }) => datumSelection),\n                markerSelections: this.subGroups.map(({ markerSelection }) => markerSelection),\n                labelSelections: this.subGroups.map(({ labelSelection }) => labelSelection),\n                contextData: this._contextNodeData,\n                paths: this.subGroups.map(({ paths }) => paths),\n                seriesRect,\n            });\n        });\n    }\n    updateSelections(seriesHighlighted, anySeriesItemEnabled) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.updateHighlightSelection(seriesHighlighted);\n            if (!anySeriesItemEnabled) {\n                return;\n            }\n            if (!this.nodeDataRefresh && !this.isPathOrSelectionDirty()) {\n                return;\n            }\n            if (this.nodeDataRefresh) {\n                this.nodeDataRefresh = false;\n                this._contextNodeData = yield this.createNodeData();\n                yield this.updateSeriesGroups();\n            }\n            yield Promise.all(this.subGroups.map((g, i) => this.updateSeriesGroupSelections(g, i)));\n        });\n    }\n    updateSeriesGroupSelections(subGroup, seriesIdx) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { datumSelection, labelSelection, markerSelection } = subGroup;\n            const contextData = this._contextNodeData[seriesIdx];\n            const { nodeData, labelData } = contextData;\n            subGroup.datumSelection = yield this.updateDatumSelection({ nodeData, datumSelection, seriesIdx });\n            subGroup.labelSelection = yield this.updateLabelSelection({ labelData, labelSelection, seriesIdx });\n            if (markerSelection) {\n                subGroup.markerSelection = yield this.updateMarkerSelection({\n                    nodeData,\n                    markerSelection,\n                    seriesIdx,\n                });\n            }\n        });\n    }\n    nodeFactory() {\n        return new Group();\n    }\n    markerFactory() {\n        const MarkerShape = getMarker();\n        return new MarkerShape();\n    }\n    updateSeriesGroups() {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const { _contextNodeData: contextNodeData, contentGroup, subGroups, opts: { pathsPerSeries, hasMarkers, pathsZIndexSubOrderOffset }, } = this;\n            if (contextNodeData.length === subGroups.length) {\n                return;\n            }\n            if (contextNodeData.length < subGroups.length) {\n                subGroups.splice(contextNodeData.length).forEach(({ dataNodeGroup, markerGroup, labelGroup, paths }) => {\n                    contentGroup.removeChild(dataNodeGroup);\n                    if (markerGroup) {\n                        contentGroup.removeChild(markerGroup);\n                    }\n                    if (labelGroup) {\n                        contentGroup.removeChild(labelGroup);\n                    }\n                    for (const path of paths) {\n                        contentGroup.removeChild(path);\n                    }\n                });\n            }\n            const totalGroups = contextNodeData.length;\n            while (totalGroups > subGroups.length) {\n                const layer = false;\n                const subGroupId = this.subGroupId++;\n                const subGroupZOffset = subGroupId;\n                const dataNodeGroup = new Group({\n                    name: `${this.id}-series-sub${subGroupId}-dataNodes`,\n                    layer,\n                    zIndex: Layers.SERIES_LAYER_ZINDEX,\n                    zIndexSubOrder: [() => this._declarationOrder, subGroupZOffset],\n                });\n                const markerGroup = hasMarkers\n                    ? new Group({\n                        name: `${this.id}-series-sub${this.subGroupId++}-markers`,\n                        layer,\n                        zIndex: Layers.SERIES_LAYER_ZINDEX,\n                        zIndexSubOrder: [() => this._declarationOrder, 10000 + subGroupId],\n                    })\n                    : undefined;\n                const labelGroup = new Group({\n                    name: `${this.id}-series-sub${this.subGroupId++}-labels`,\n                    layer,\n                    zIndex: Layers.SERIES_LABEL_ZINDEX,\n                    zIndexSubOrder: [() => this._declarationOrder, subGroupId],\n                });\n                contentGroup.appendChild(dataNodeGroup);\n                contentGroup.appendChild(labelGroup);\n                if (markerGroup) {\n                    contentGroup.appendChild(markerGroup);\n                }\n                const paths = [];\n                for (let index = 0; index < pathsPerSeries; index++) {\n                    paths[index] = new Path();\n                    paths[index].zIndex = Layers.SERIES_LAYER_ZINDEX;\n                    paths[index].zIndexSubOrder = [\n                        () => this._declarationOrder,\n                        ((_a = pathsZIndexSubOrderOffset[index]) !== null && _a !== void 0 ? _a : 0) + subGroupZOffset,\n                    ];\n                    contentGroup.appendChild(paths[index]);\n                }\n                subGroups.push({\n                    paths,\n                    dataNodeGroup,\n                    markerGroup,\n                    labelGroup,\n                    labelSelection: Selection.select(labelGroup, Text),\n                    datumSelection: Selection.select(dataNodeGroup, () => this.nodeFactory()),\n                    markerSelection: markerGroup ? Selection.select(markerGroup, () => this.markerFactory()) : undefined,\n                });\n            }\n        });\n    }\n    updateNodes(seriesHighlighted, anySeriesItemEnabled) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const { highlightSelection, highlightLabelSelection, _contextNodeData: contextNodeData, seriesItemEnabled, opts: { hasMarkers }, } = this;\n            const visible = this.visible && ((_a = this._contextNodeData) === null || _a === void 0 ? void 0 : _a.length) > 0 && anySeriesItemEnabled;\n            this.rootGroup.visible = visible;\n            this.contentGroup.visible = visible;\n            this.highlightGroup.visible = visible && !!seriesHighlighted;\n            const seriesOpacity = this.getOpacity();\n            const subGroupOpacities = this.subGroups.map((_, index) => {\n                const { itemId } = contextNodeData[index];\n                return this.getOpacity({ itemId });\n            });\n            const isSubGroupOpacityDifferent = subGroupOpacities.some((subOp) => subOp !== seriesOpacity);\n            this.contentGroup.opacity = isSubGroupOpacityDifferent ? 1 : seriesOpacity;\n            if (hasMarkers) {\n                yield this.updateMarkerNodes({\n                    markerSelection: highlightSelection,\n                    isHighlight: true,\n                    seriesIdx: -1,\n                });\n                this.animationState.transition('highlightMarkers', highlightSelection);\n            }\n            else {\n                yield this.updateDatumNodes({ datumSelection: highlightSelection, isHighlight: true, seriesIdx: -1 });\n                this.animationState.transition('highlight', highlightSelection);\n            }\n            yield this.updateLabelNodes({ labelSelection: highlightLabelSelection, seriesIdx: -1 });\n            yield Promise.all(this.subGroups.map((subGroup, seriesIdx) => __awaiter(this, void 0, void 0, function* () {\n                var _b;\n                const { dataNodeGroup, markerGroup, datumSelection, labelSelection, markerSelection, paths, labelGroup, } = subGroup;\n                const { itemId } = contextNodeData[seriesIdx];\n                const subGroupVisible = visible && ((_b = seriesItemEnabled.get(itemId)) !== null && _b !== void 0 ? _b : true);\n                const subGroupOpacity = isSubGroupOpacityDifferent ? subGroupOpacities[seriesIdx] : 1;\n                dataNodeGroup.opacity = subGroupOpacity;\n                dataNodeGroup.visible = subGroupVisible;\n                labelGroup.visible = subGroupVisible;\n                if (markerGroup) {\n                    markerGroup.opacity = subGroupOpacity;\n                    markerGroup.zIndex =\n                        dataNodeGroup.zIndex >= Layers.SERIES_LAYER_ZINDEX\n                            ? dataNodeGroup.zIndex\n                            : dataNodeGroup.zIndex + 1;\n                    markerGroup.visible = subGroupVisible;\n                }\n                if (labelGroup) {\n                    labelGroup.opacity = subGroupOpacity;\n                }\n                for (const path of paths) {\n                    path.opacity = subGroupOpacity;\n                    path.visible = subGroupVisible;\n                }\n                if (!dataNodeGroup.visible) {\n                    return;\n                }\n                yield this.updateDatumNodes({ datumSelection, isHighlight: false, seriesIdx });\n                yield this.updateLabelNodes({ labelSelection, seriesIdx });\n                if (hasMarkers && markerSelection) {\n                    yield this.updateMarkerNodes({ markerSelection, isHighlight: false, seriesIdx });\n                }\n            })));\n        });\n    }\n    updateHighlightSelection(seriesHighlighted) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const { highlightSelection, highlightLabelSelection, _contextNodeData: contextNodeData } = this;\n            const highlightedDatum = (_a = this.highlightManager) === null || _a === void 0 ? void 0 : _a.getActiveHighlight();\n            const item = seriesHighlighted && (highlightedDatum === null || highlightedDatum === void 0 ? void 0 : highlightedDatum.datum) ? highlightedDatum : undefined;\n            this.highlightSelection = yield this.updateHighlightSelectionItem({ item, highlightSelection });\n            let labelItem;\n            if (this.isLabelEnabled() && item != null) {\n                const { itemId = undefined } = item;\n                for (const { labelData } of contextNodeData) {\n                    labelItem = labelData.find((ld) => ld.datum === item.datum && ld.itemId === itemId);\n                    if (labelItem != null) {\n                        break;\n                    }\n                }\n            }\n            this.highlightLabelSelection = yield this.updateHighlightSelectionLabel({\n                item: labelItem,\n                highlightLabelSelection,\n            });\n        });\n    }\n    pickNodeExactShape(point) {\n        const result = super.pickNodeExactShape(point);\n        if (result) {\n            return result;\n        }\n        const { x, y } = point;\n        const { opts: { hasMarkers }, } = this;\n        for (const { dataNodeGroup, markerGroup } of this.subGroups) {\n            let match = dataNodeGroup.pickNode(x, y);\n            if (!match && hasMarkers) {\n                match = markerGroup === null || markerGroup === void 0 ? void 0 : markerGroup.pickNode(x, y);\n            }\n            if (match) {\n                return { datum: match.datum, distance: 0 };\n            }\n        }\n    }\n    pickNodeClosestDatum(point) {\n        var _a, _b;\n        const { x, y } = point;\n        const { xAxis, yAxis, rootGroup, _contextNodeData: contextNodeData } = this;\n        const hitPoint = rootGroup.transformPoint(x, y);\n        let minDistance = Infinity;\n        let closestDatum;\n        for (const context of contextNodeData) {\n            for (const datum of context.nodeData) {\n                const { point: { x: datumX = NaN, y: datumY = NaN } = {} } = datum;\n                if (isNaN(datumX) || isNaN(datumY)) {\n                    continue;\n                }\n                const isInRange = (xAxis === null || xAxis === void 0 ? void 0 : xAxis.inRange(datumX)) && (yAxis === null || yAxis === void 0 ? void 0 : yAxis.inRange(datumY));\n                if (!isInRange) {\n                    continue;\n                }\n                // No need to use Math.sqrt() since x < y implies Math.sqrt(x) < Math.sqrt(y) for\n                // values > 1\n                const distance = Math.max(Math.pow((hitPoint.x - datumX), 2) + Math.pow((hitPoint.y - datumY), 2), 0);\n                if (distance < minDistance) {\n                    minDistance = distance;\n                    closestDatum = datum;\n                }\n            }\n        }\n        if (closestDatum) {\n            const distance = Math.max(Math.sqrt(minDistance) - ((_b = (_a = closestDatum.point) === null || _a === void 0 ? void 0 : _a.size) !== null && _b !== void 0 ? _b : 0), 0);\n            return { datum: closestDatum, distance };\n        }\n    }\n    pickNodeMainAxisFirst(point, requireCategoryAxis) {\n        var _a, _b;\n        const { x, y } = point;\n        const { xAxis, yAxis, rootGroup, _contextNodeData: contextNodeData } = this;\n        // Prefer to start search with any available category axis.\n        const directions = [xAxis, yAxis]\n            .filter((a) => a instanceof CategoryAxis)\n            .map((a) => a.direction);\n        if (requireCategoryAxis && directions.length === 0) {\n            return;\n        }\n        // Default to X-axis unless we found a suitable category axis.\n        const [primaryDirection = ChartAxisDirection.X] = directions;\n        const hitPoint = rootGroup.transformPoint(x, y);\n        const hitPointCoords = primaryDirection === ChartAxisDirection.X ? [hitPoint.x, hitPoint.y] : [hitPoint.y, hitPoint.x];\n        const minDistance = [Infinity, Infinity];\n        let closestDatum = undefined;\n        for (const context of contextNodeData) {\n            for (const datum of context.nodeData) {\n                const { point: { x: datumX = NaN, y: datumY = NaN } = {} } = datum;\n                if (isNaN(datumX) || isNaN(datumY)) {\n                    continue;\n                }\n                const isInRange = (xAxis === null || xAxis === void 0 ? void 0 : xAxis.inRange(datumX)) && (yAxis === null || yAxis === void 0 ? void 0 : yAxis.inRange(datumY));\n                if (!isInRange) {\n                    continue;\n                }\n                const point = primaryDirection === ChartAxisDirection.X ? [datumX, datumY] : [datumY, datumX];\n                // Compare distances from most significant dimension to least.\n                let newMinDistance = true;\n                for (let i = 0; i < point.length; i++) {\n                    const dist = Math.abs(point[i] - hitPointCoords[i]);\n                    if (dist > minDistance[i]) {\n                        newMinDistance = false;\n                        break;\n                    }\n                    if (dist < minDistance[i]) {\n                        minDistance[i] = dist;\n                        minDistance.fill(Infinity, i + 1, minDistance.length);\n                    }\n                }\n                if (newMinDistance) {\n                    closestDatum = datum;\n                }\n            }\n        }\n        if (closestDatum) {\n            const distance = Math.max(Math.sqrt(Math.pow(minDistance[0], 2) + Math.pow(minDistance[1], 2)) - ((_b = (_a = closestDatum.point) === null || _a === void 0 ? void 0 : _a.size) !== null && _b !== void 0 ? _b : 0), 0);\n            return { datum: closestDatum, distance };\n        }\n    }\n    onLegendItemClick(event) {\n        const { enabled, itemId, series } = event;\n        if (series.id !== this.id)\n            return;\n        this.toggleSeriesItem(itemId, enabled);\n    }\n    onLegendItemDoubleClick(event) {\n        const { enabled, itemId, series, numVisibleItems } = event;\n        const totalVisibleItems = Object.values(numVisibleItems).reduce((p, v) => p + v, 0);\n        const wasClicked = series.id === this.id;\n        const newEnabled = wasClicked || (enabled && totalVisibleItems === 1);\n        this.toggleSeriesItem(itemId, newEnabled);\n    }\n    toggleSeriesItem(itemId, enabled) {\n        if (this.seriesItemEnabled.size > 0) {\n            this.seriesItemEnabled.set(itemId, enabled);\n            this.nodeDataRefresh = true;\n        }\n        else {\n            super.toggleSeriesItem(itemId, enabled);\n        }\n    }\n    isEnabled() {\n        if (this.seriesItemEnabled.size > 0) {\n            for (const [, enabled] of this.seriesItemEnabled) {\n                if (enabled) {\n                    return true;\n                }\n            }\n            return false;\n        }\n        return super.isEnabled();\n    }\n    isPathOrSelectionDirty() {\n        // Override point to allow more sophisticated dirty selection detection.\n        return false;\n    }\n    getLabelData() {\n        return [];\n    }\n    isAnySeriesVisible() {\n        for (const visible of this.seriesItemEnabled.values()) {\n            if (visible) {\n                return true;\n            }\n        }\n        return false;\n    }\n    updateHighlightSelectionItem(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { opts: { hasMarkers }, } = this;\n            const { item, highlightSelection } = opts;\n            const nodeData = item ? [item] : [];\n            if (hasMarkers) {\n                const markerSelection = highlightSelection;\n                return this.updateMarkerSelection({ nodeData, markerSelection, seriesIdx: -1 });\n            }\n            else {\n                return this.updateDatumSelection({ nodeData, datumSelection: highlightSelection, seriesIdx: -1 });\n            }\n        });\n    }\n    updateHighlightSelectionLabel(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { item, highlightLabelSelection } = opts;\n            const labelData = item ? [item] : [];\n            return this.updateLabelSelection({ labelData, labelSelection: highlightLabelSelection, seriesIdx: -1 });\n        });\n    }\n    updateDatumSelection(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Override point for sub-classes.\n            return opts.datumSelection;\n        });\n    }\n    updateDatumNodes(_opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Override point for sub-classes.\n        });\n    }\n    updateMarkerSelection(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Override point for sub-classes.\n            return opts.markerSelection;\n        });\n    }\n    updateMarkerNodes(_opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Override point for sub-classes.\n        });\n    }\n    animateEmptyUpdateReady(_data) {\n        // Override point for sub-classes.\n    }\n    animateReadyUpdate(_data) {\n        // Override point for sub-classes.\n    }\n    animateReadyHighlight(_data) {\n        // Override point for sub-classes.\n    }\n    animateReadyHighlightMarkers(_data) {\n        // Override point for sub-classes.\n    }\n    animateReadyResize(_data) {\n        // Override point for sub-classes.\n    }\n}\nexport class CartesianSeriesMarker extends SeriesMarker {\n    constructor() {\n        super(...arguments);\n        this.formatter = undefined;\n    }\n}\n__decorate([\n    Validate(OPT_FUNCTION),\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], CartesianSeriesMarker.prototype, \"formatter\", void 0);\n","export function sleep(sleepTimeoutMs) {\n    return new Promise((resolve) => {\n        setTimeout(() => resolve(undefined), sleepTimeoutMs);\n    });\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { OPT_FUNCTION, OPT_STRING, Validate } from '../../util/validation.mjs';\nexport class Overlay {\n    constructor(className, parent) {\n        this.renderer = undefined;\n        this.text = undefined;\n        this.className = className;\n        this.parentElement = parent;\n    }\n    show(rect) {\n        var _a, _b;\n        let element = this.element;\n        if (!this.element) {\n            element = document.createElement('div');\n            element.className = this.className;\n            this.element = element;\n        }\n        element.style.position = 'absolute';\n        element.style.left = `${rect.x}px`;\n        element.style.top = `${rect.y}px`;\n        element.style.width = `${rect.width}px`;\n        element.style.height = `${rect.height}px`;\n        if (this.renderer) {\n            this.element.innerHTML = this.renderer();\n        }\n        else {\n            const content = document.createElement('div');\n            content.style.alignItems = 'center';\n            content.style.boxSizing = 'border-box';\n            content.style.display = 'flex';\n            content.style.justifyContent = 'center';\n            content.style.margin = '8px';\n            content.style.height = '100%';\n            content.style.font = '12px Verdana, sans-serif';\n            content.innerText = (_a = this.text) !== null && _a !== void 0 ? _a : 'No data to display';\n            element.append(content);\n        }\n        (_b = this.parentElement) === null || _b === void 0 ? void 0 : _b.append(element);\n    }\n    hide() {\n        var _a;\n        (_a = this.element) === null || _a === void 0 ? void 0 : _a.remove();\n        this.element = undefined;\n    }\n}\n__decorate([\n    Validate(OPT_FUNCTION)\n], Overlay.prototype, \"renderer\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], Overlay.prototype, \"text\", void 0);\n","import { Overlay } from './overlay.mjs';\nexport class ChartOverlays {\n    constructor(parent) {\n        this.noData = new Overlay('ag-chart-no-data-overlay', parent);\n    }\n}\n","import { Logger } from './logger.mjs';\nexport class Listeners {\n    constructor() {\n        this.registeredListeners = {};\n    }\n    addListener(type, cb) {\n        var _a;\n        const symbol = Symbol(type);\n        if (!this.registeredListeners[type]) {\n            this.registeredListeners[type] = [];\n        }\n        (_a = this.registeredListeners[type]) === null || _a === void 0 ? void 0 : _a.push({ symbol, handler: cb });\n        return symbol;\n    }\n    dispatch(type, ...params) {\n        var _a;\n        const listeners = (_a = this.registeredListeners[type]) !== null && _a !== void 0 ? _a : [];\n        const results = [];\n        for (const listener of listeners) {\n            try {\n                results.push(listener.handler(...params));\n            }\n            catch (e) {\n                Logger.errorOnce(e);\n                results.push(undefined);\n            }\n        }\n        return results;\n    }\n    cancellableDispatch(type, cancelled, ...params) {\n        var _a;\n        const listeners = (_a = this.registeredListeners[type]) !== null && _a !== void 0 ? _a : [];\n        const results = [];\n        for (const listener of listeners) {\n            if (cancelled())\n                break;\n            results.push(listener.handler(...params));\n        }\n        return results;\n    }\n    reduceDispatch(type, reduceFn, ...params) {\n        var _a;\n        const listeners = (_a = this.registeredListeners[type]) !== null && _a !== void 0 ? _a : [];\n        let listenerResult = undefined;\n        for (const listener of listeners) {\n            listenerResult = listener.handler(...params);\n            params = reduceFn(listenerResult, ...params);\n        }\n        return listenerResult;\n    }\n    removeListener(listenerSymbol) {\n        for (const type in this.registeredListeners) {\n            const listeners = this.registeredListeners[type];\n            const match = listeners === null || listeners === void 0 ? void 0 : listeners.findIndex((entry) => entry.symbol === listenerSymbol);\n            if (match != null && match >= 0) {\n                listeners === null || listeners === void 0 ? void 0 : listeners.splice(match, 1);\n            }\n            if (match != null && (listeners === null || listeners === void 0 ? void 0 : listeners.length) === 0) {\n                delete this.registeredListeners[type];\n            }\n        }\n    }\n}\n","import { Listeners } from '../../util/listeners.mjs';\nexport class BaseManager {\n    constructor() {\n        this.listeners = new Listeners();\n    }\n    addListener(type, cb) {\n        return this.listeners.addListener(type, cb);\n    }\n    removeListener(listenerSymbol) {\n        this.listeners.removeListener(listenerSymbol);\n    }\n}\n","export default function (a, b) {\n    a = +a;\n    b = +b;\n    return (t) => a * (1 - t) + b * t;\n}\n","import number from './number.mjs';\nimport { Color } from '../util/color.mjs';\nexport default function (a, b) {\n    if (typeof a === 'string') {\n        try {\n            a = Color.fromString(a);\n        }\n        catch (e) {\n            a = Color.fromArray([0, 0, 0]);\n        }\n    }\n    if (typeof b === 'string') {\n        try {\n            b = Color.fromString(b);\n        }\n        catch (e) {\n            b = Color.fromArray([0, 0, 0]);\n        }\n    }\n    const red = number(a.r, b.r);\n    const green = number(a.g, b.g);\n    const blue = number(a.b, b.b);\n    const alpha = number(a.a, b.a);\n    return function (t) {\n        return Color.fromArray([red(t), green(t), blue(t), alpha(t)]).toRgbaString();\n    };\n}\n","import number from './number.mjs';\nimport color from './color.mjs';\nimport { Color } from '../util/color.mjs';\nexport default function (a, b) {\n    const t = typeof b;\n    let c;\n    if (t === 'number') {\n        return number(a, b);\n    }\n    if (t === 'string') {\n        try {\n            c = Color.fromString(b);\n            b = c;\n            return color(a, b);\n        }\n        catch (e) {\n            // Error-case handled below.\n        }\n    }\n    throw new Error('Unable to interpolate values');\n}\n","import interpolate from '../interpolate/value.mjs';\nfunction createEase(fn) {\n    return ({ from, to }) => {\n        const interp = interpolate(from, to);\n        return (time) => interp(fn(time));\n    };\n}\nexport function linear({ from, to }) {\n    return interpolate(from, to);\n}\n// https://easings.net/\nexport const easeIn = createEase((x) => 1 - Math.cos((x * Math.PI) / 2));\nexport const easeOut = createEase((x) => Math.sin((x * Math.PI) / 2));\nexport const easeInOut = createEase((x) => -(Math.cos(x * Math.PI) - 1) / 2);\nexport const easeOutElastic = createEase((x) => {\n    if (x === 0 || x === 1)\n        return x;\n    const scale = Math.pow(2, -10 * x);\n    const position = x * 10 - 0.75;\n    const arc = (2 * Math.PI) / 3;\n    return scale * Math.sin(position * arc) + 1;\n});\n","import { linear } from './easing.mjs';\nexport var RepeatType;\n(function (RepeatType) {\n    RepeatType[\"Loop\"] = \"loop\";\n    RepeatType[\"Reverse\"] = \"reverse\";\n})(RepeatType || (RepeatType = {}));\nexport function animate({ driver, duration, from, to, autoplay = true, delay = 0, ease = linear, repeat: repeatMax = Infinity, repeatType = RepeatType.Loop, onComplete, onPlay, onRepeat, onStop, onUpdate, }) {\n    let state;\n    let delayElapsed = 0;\n    let elapsed = 0;\n    let iteration = 0;\n    let isForward = true;\n    let isComplete = false;\n    const easing = ease({ from, to });\n    const controls = { isPlaying: false, play, pause, stop, reset };\n    const driverControls = driver(update);\n    function play() {\n        controls.isPlaying = true;\n        driverControls.start();\n        onPlay === null || onPlay === void 0 ? void 0 : onPlay();\n        return controls;\n    }\n    function pause() {\n        controls.isPlaying = false;\n        return controls;\n    }\n    function stop() {\n        controls.isPlaying = false;\n        driverControls.stop();\n        onStop === null || onStop === void 0 ? void 0 : onStop();\n        return controls;\n    }\n    function reset() {\n        isComplete = false;\n        elapsed = 0;\n        iteration = 0;\n        driverControls.reset();\n        return controls;\n    }\n    function repeat() {\n        iteration++;\n        if (repeatType === RepeatType.Reverse) {\n            isForward = iteration % 2 === 0;\n            elapsed = isForward ? elapsed % duration : duration - (elapsed % duration);\n        }\n        else {\n            elapsed = elapsed % duration;\n        }\n        isComplete = false;\n        onRepeat === null || onRepeat === void 0 ? void 0 : onRepeat();\n    }\n    function complete() {\n        stop();\n        onComplete === null || onComplete === void 0 ? void 0 : onComplete();\n    }\n    function update(delta) {\n        if (!isForward)\n            delta = -delta;\n        if (delayElapsed >= delay) {\n            elapsed += delta;\n        }\n        else {\n            delayElapsed += delta;\n            return;\n        }\n        if (!isComplete) {\n            state = easing(Math.min(1, Math.max(0, elapsed / duration)));\n            isComplete = isForward ? elapsed >= duration : elapsed <= 0;\n        }\n        onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(state);\n        if (isComplete) {\n            if (iteration < repeatMax) {\n                repeat();\n            }\n            else {\n                complete();\n            }\n        }\n    }\n    if (autoplay)\n        play();\n    return controls;\n}\nexport function tween(opts) {\n    let handleUpdate;\n    const animateOpts = Object.assign(Object.assign({}, opts), { repeat: 0, autoplay: false, onUpdate: (value) => {\n            handleUpdate === null || handleUpdate === void 0 ? void 0 : handleUpdate(value);\n        } });\n    const animationControls = animate(animateOpts);\n    const controls = {\n        start: (onUpdate) => {\n            animationControls.stop();\n            animationControls.reset();\n            animationControls.play();\n            handleUpdate = onUpdate;\n            return controls;\n        },\n        stop: () => {\n            animationControls.stop();\n            return controls;\n        },\n    };\n    return controls;\n}\n","import { BaseManager } from './baseManager.mjs';\nimport { animate as baseAnimate, tween, } from '../../motion/animate.mjs';\nconst DEBOUNCE_DELAY = 300;\nexport class AnimationManager extends BaseManager {\n    constructor(interactionManager) {\n        super();\n        this.controllers = {};\n        this.debouncers = {};\n        this.updaters = [];\n        this.isPlaying = false;\n        this.readyToPlay = false;\n        this.skipAnimations = false;\n        this.interactionManager = interactionManager;\n        window.addEventListener('DOMContentLoaded', () => {\n            this.readyToPlay = true;\n        });\n        // Fallback if `DOMContentLoaded` event is not fired, e.g. in an iframe\n        setTimeout(() => {\n            this.readyToPlay = true;\n        }, 10);\n    }\n    play() {\n        if (this.isPlaying)\n            return;\n        this.isPlaying = true;\n        for (const id in this.controllers) {\n            this.controllers[id].play();\n        }\n        this.startAnimationCycle();\n    }\n    pause() {\n        if (!this.isPlaying)\n            return;\n        this.isPlaying = false;\n        this.cancelAnimationFrame();\n        for (const id in this.controllers) {\n            this.controllers[id].pause();\n        }\n    }\n    stop() {\n        this.isPlaying = false;\n        this.cancelAnimationFrame();\n        for (const id in this.controllers) {\n            this.controllers[id].stop();\n        }\n    }\n    animate(id, opts) {\n        var _a, _b;\n        const optsExtra = Object.assign(Object.assign({}, opts), { autoplay: this.isPlaying ? opts.autoplay : false, driver: this.createDriver(id, opts.disableInteractions) });\n        const controller = baseAnimate(optsExtra);\n        if (this.controllers[id]) {\n            this.controllers[id].stop();\n            delete this.controllers[id];\n        }\n        this.controllers[id] = controller;\n        if (this.skipAnimations) {\n            // Initialise the animation with the final values immediately and then stop the animation\n            (_a = opts.onUpdate) === null || _a === void 0 ? void 0 : _a.call(opts, opts.to);\n            controller.stop();\n        }\n        else {\n            // Initialise the animation immediately without requesting a frame to prevent flashes\n            (_b = opts.onUpdate) === null || _b === void 0 ? void 0 : _b.call(opts, opts.from);\n        }\n        return controller;\n    }\n    animateMany(id, props, opts) {\n        const state = props.map((prop) => prop.from);\n        let updateBatch = 0;\n        let completeBatch = 0;\n        const onUpdate = (index) => (v) => {\n            var _a;\n            state[index] = v;\n            if (++updateBatch >= props.length) {\n                (_a = opts.onUpdate) === null || _a === void 0 ? void 0 : _a.call(opts, state);\n                updateBatch = 0;\n            }\n        };\n        const onComplete = () => {\n            var _a;\n            if (++completeBatch >= props.length) {\n                (_a = opts.onComplete) === null || _a === void 0 ? void 0 : _a.call(opts);\n            }\n        };\n        const drivers = props.map((prop, index) => {\n            const inner_id = `${id}-${index}`;\n            return this.animate(inner_id, Object.assign(Object.assign(Object.assign({}, opts), prop), { onUpdate: onUpdate(index), onComplete: onComplete }));\n        });\n        const controls = {\n            get isPlaying() {\n                return drivers.some((driver) => driver.isPlaying);\n            },\n            play() {\n                drivers.forEach((driver) => driver.play());\n                return controls;\n            },\n            pause() {\n                drivers.forEach((driver) => driver.pause());\n                return controls;\n            },\n            stop() {\n                drivers.forEach((driver) => driver.stop());\n                return controls;\n            },\n            reset() {\n                drivers.forEach((driver) => driver.reset());\n                return controls;\n            },\n        };\n        return controls;\n    }\n    debouncedAnimate(id, opts) {\n        var _a;\n        if (this.debouncers[id] && Date.now() - this.debouncers[id] < ((_a = opts.duration) !== null && _a !== void 0 ? _a : DEBOUNCE_DELAY)) {\n            return this.controllers[id];\n        }\n        this.debouncers[id] = Date.now();\n        return this.animate(id, opts);\n    }\n    tween(opts) {\n        const id = `tween-${btoa(JSON.stringify(opts))}`;\n        const optsExtra = Object.assign(Object.assign({}, opts), { driver: this.createDriver(id) });\n        return tween(optsExtra);\n    }\n    createDriver(id, disableInteractions) {\n        return (update) => {\n            return {\n                start: () => {\n                    this.updaters.push([id, update]);\n                    if (this.requestId == null) {\n                        this.startAnimationCycle();\n                    }\n                    if (disableInteractions) {\n                        this.interactionManager.pause(`animation_${id}`);\n                    }\n                },\n                stop: () => {\n                    this.updaters = this.updaters.filter(([uid]) => uid !== id);\n                    if (this.updaters.length <= 0) {\n                        this.cancelAnimationFrame();\n                    }\n                    if (disableInteractions) {\n                        this.interactionManager.resume(`animation_${id}`);\n                    }\n                },\n                reset: () => { },\n            };\n        };\n    }\n    startAnimationCycle() {\n        const frame = (time) => {\n            this.requestId = requestAnimationFrame(frame);\n            if (!this.readyToPlay) {\n                return;\n            }\n            if (this.lastTime === undefined)\n                this.lastTime = time;\n            const deltaMs = time - this.lastTime;\n            this.lastTime = time;\n            this.updaters.forEach(([_, update]) => {\n                update(deltaMs);\n            });\n            this.listeners.dispatch('animation-frame', { type: 'animation-frame', deltaMs });\n        };\n        this.requestId = requestAnimationFrame(frame);\n    }\n    cancelAnimationFrame() {\n        if (!this.requestId)\n            return;\n        cancelAnimationFrame(this.requestId);\n        this.requestId = undefined;\n    }\n}\n","/**\n * Manages the cursor styling for an element. Tracks the requested styling from distinct\n * dependents and handles conflicting styling requests.\n */\nexport class CursorManager {\n    constructor(element) {\n        this.states = {};\n        this.element = element;\n    }\n    updateCursor(callerId, style) {\n        delete this.states[callerId];\n        if (style != null) {\n            this.states[callerId] = { style };\n        }\n        this.applyStates();\n    }\n    applyStates() {\n        let styleToApply = 'default';\n        // Last added entry wins.\n        Object.entries(this.states)\n            .reverse()\n            .slice(0, 1)\n            .forEach(([_, { style }]) => (styleToApply = style));\n        this.element.style.cursor = styleToApply;\n    }\n}\n","import { BaseManager } from './baseManager.mjs';\nexport class ChartEventManager extends BaseManager {\n    legendItemClick(series, itemId, enabled) {\n        const event = {\n            type: 'legend-item-click',\n            series,\n            itemId,\n            enabled,\n        };\n        this.listeners.dispatch('legend-item-click', event);\n    }\n    legendItemDoubleClick(series, itemId, enabled, numVisibleItems) {\n        const event = {\n            type: 'legend-item-double-click',\n            series,\n            itemId,\n            enabled,\n            numVisibleItems,\n        };\n        this.listeners.dispatch('legend-item-double-click', event);\n    }\n}\n","import { BaseManager } from './baseManager.mjs';\nfunction isEqual(a, b) {\n    if (a === b)\n        return true;\n    if ((a === null || a === void 0 ? void 0 : a.series) !== (b === null || b === void 0 ? void 0 : b.series))\n        return false;\n    if ((a === null || a === void 0 ? void 0 : a.itemId) !== (b === null || b === void 0 ? void 0 : b.itemId))\n        return false;\n    if ((a === null || a === void 0 ? void 0 : a.datum) !== (b === null || b === void 0 ? void 0 : b.datum))\n        return false;\n    return true;\n}\n/**\n * Manages the actively highlighted series/datum for a chart. Tracks the requested highlights from\n * distinct dependents and handles conflicting highlight requests.\n */\nexport class HighlightManager extends BaseManager {\n    constructor() {\n        super();\n        this.states = {};\n        this.activeHighlight = undefined;\n    }\n    updateHighlight(callerId, highlightedDatum) {\n        delete this.states[callerId];\n        if (highlightedDatum != null) {\n            this.states[callerId] = { highlightedDatum };\n        }\n        this.applyStates();\n    }\n    getActiveHighlight() {\n        return this.activeHighlight;\n    }\n    applyStates() {\n        const previousHighlight = this.activeHighlight;\n        let highlightToApply = undefined;\n        // Last added entry wins.\n        Object.entries(this.states)\n            .reverse()\n            .slice(0, 1)\n            .forEach(([_, { highlightedDatum }]) => (highlightToApply = highlightedDatum));\n        this.activeHighlight = highlightToApply;\n        const changed = !isEqual(previousHighlight, this.activeHighlight);\n        if (changed) {\n            const event = {\n                type: 'highlight-change',\n                previousHighlight,\n                currentHighlight: this.activeHighlight,\n            };\n            this.listeners.dispatch('highlight-change', event);\n        }\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Logger } from '../../util/logger.mjs';\nimport { isNumber } from '../../util/value.mjs';\nimport { BaseManager } from './baseManager.mjs';\nconst WINDOW_EVENT_HANDLERS = ['pagehide', 'mousemove', 'mouseup', 'wheel'];\nconst EVENT_HANDLERS = [\n    'click',\n    'dblclick',\n    'contextmenu',\n    'mousedown',\n    'mouseout',\n    'mouseenter',\n    'touchstart',\n    'touchmove',\n    'touchend',\n    'touchcancel',\n];\nconst CSS = `\n.ag-chart-wrapper {\n    touch-action: none;\n}\n`;\n/**\n * Manages user interactions with a specific HTMLElement (or interactions that bubble from it's\n * children)\n */\nexport class InteractionManager extends BaseManager {\n    constructor(element, doc = document) {\n        super();\n        this.eventHandler = (event) => this.processEvent(event);\n        this.mouseDown = false;\n        this.touchDown = false;\n        this.enabled = true;\n        this.pausers = [];\n        this.rootElement = doc.body;\n        this.element = element;\n        for (const type of EVENT_HANDLERS) {\n            if (type.startsWith('touch')) {\n                element.addEventListener(type, this.eventHandler, { passive: true });\n            }\n            else {\n                element.addEventListener(type, this.eventHandler);\n            }\n        }\n        for (const type of WINDOW_EVENT_HANDLERS) {\n            if (type === 'wheel') {\n                window.addEventListener(type, this.eventHandler, { passive: false });\n            }\n            else {\n                window.addEventListener(type, this.eventHandler);\n            }\n        }\n        if (InteractionManager.interactionDocuments.indexOf(doc) < 0) {\n            const styleElement = document.createElement('style');\n            styleElement.innerHTML = CSS;\n            document.head.insertBefore(styleElement, document.head.querySelector('style'));\n            InteractionManager.interactionDocuments.push(doc);\n        }\n    }\n    destroy() {\n        for (const type of WINDOW_EVENT_HANDLERS) {\n            window.removeEventListener(type, this.eventHandler);\n        }\n        for (const type of EVENT_HANDLERS) {\n            this.element.removeEventListener(type, this.eventHandler);\n        }\n    }\n    resume(callerId) {\n        this.pausers = this.pausers.filter((id) => id !== callerId);\n        this.enabled = this.pausers.length <= 0;\n        return this.enabled;\n    }\n    pause(callerId) {\n        this.enabled = false;\n        this.pausers.push(callerId);\n    }\n    processEvent(event) {\n        const types = this.decideInteractionEventTypes(event);\n        if (types.length > 0 && this.enabled) {\n            // Async dispatch to avoid blocking the event-processing thread.\n            this.dispatchEvent(event, types).catch((e) => Logger.errorOnce(e));\n        }\n    }\n    dispatchEvent(event, types) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const coords = this.calculateCoordinates(event);\n            if (coords == null) {\n                return;\n            }\n            for (const type of types) {\n                const interactionEvent = this.buildEvent(Object.assign(Object.assign({ event }, coords), { type }));\n                this.listeners.cancellableDispatch(type, () => interactionEvent.consumed, interactionEvent);\n            }\n        });\n    }\n    decideInteractionEventTypes(event) {\n        switch (event.type) {\n            case 'click':\n                return ['click'];\n            case 'dblclick':\n                return ['dblclick'];\n            case 'contextmenu':\n                return ['contextmenu'];\n            case 'mousedown':\n                this.mouseDown = true;\n                this.dragStartElement = event.target;\n                return ['drag-start'];\n            case 'touchstart':\n                this.touchDown = true;\n                this.dragStartElement = event.target;\n                return ['drag-start'];\n            case 'touchmove':\n            case 'mousemove':\n                if (!this.mouseDown && !this.touchDown && !this.isEventOverElement(event)) {\n                    // We only care about these events if the target is the canvas, unless\n                    // we're in the middle of a drag/slide.\n                    return [];\n                }\n                return this.mouseDown || this.touchDown ? ['drag'] : ['hover'];\n            case 'mouseup':\n                if (!this.mouseDown && !this.isEventOverElement(event)) {\n                    // We only care about these events if the target is the canvas, unless\n                    // we're in the middle of a drag.\n                    return [];\n                }\n                this.mouseDown = false;\n                this.dragStartElement = undefined;\n                return ['drag-end'];\n            case 'touchend':\n                if (!this.touchDown && !this.isEventOverElement(event)) {\n                    // We only care about these events if the target is the canvas, unless\n                    // we're in the middle of a slide.\n                    return [];\n                }\n                this.touchDown = false;\n                this.dragStartElement = undefined;\n                return ['drag-end'];\n            case 'mouseout':\n            case 'touchcancel':\n                return ['leave'];\n            case 'mouseenter':\n                const mouseButtonDown = event instanceof MouseEvent && (event.buttons & 1) === 1;\n                if (this.mouseDown !== mouseButtonDown) {\n                    this.mouseDown = mouseButtonDown;\n                    return [mouseButtonDown ? 'drag-start' : 'drag-end'];\n                }\n                return [];\n            case 'pagehide':\n                return ['page-left'];\n            case 'wheel':\n                return ['wheel'];\n        }\n        return [];\n    }\n    isEventOverElement(event) {\n        var _a;\n        return event.target === this.element || ((_a = event.target) === null || _a === void 0 ? void 0 : _a.parentElement) === this.element;\n    }\n    calculateCoordinates(event) {\n        var _a;\n        if (event instanceof MouseEvent) {\n            const { clientX, clientY, pageX, pageY, offsetX, offsetY } = event;\n            return this.fixOffsets(event, { clientX, clientY, pageX, pageY, offsetX, offsetY });\n        }\n        else if (typeof TouchEvent !== 'undefined' && event instanceof TouchEvent) {\n            const lastTouch = (_a = event.touches[0]) !== null && _a !== void 0 ? _a : event.changedTouches[0];\n            const { clientX, clientY, pageX, pageY } = lastTouch;\n            return Object.assign(Object.assign({}, InteractionManager.NULL_COORDS), { clientX, clientY, pageX, pageY });\n        }\n        else if (event instanceof PageTransitionEvent) {\n            if (event.persisted) {\n                // Don't fire the page-left event since the page maybe revisited.\n                return;\n            }\n            return InteractionManager.NULL_COORDS;\n        }\n        // Unsupported event - abort.\n    }\n    fixOffsets(event, coords) {\n        const offsets = (el) => {\n            let x = 0;\n            let y = 0;\n            while (el) {\n                x += el.offsetLeft;\n                y += el.offsetTop;\n                el = el.offsetParent;\n            }\n            return { x, y };\n        };\n        if (this.dragStartElement != null && event.target !== this.dragStartElement) {\n            // Offsets need to be relative to the drag-start element to avoid jumps when\n            // the pointer moves between element boundaries.\n            const offsetDragStart = offsets(this.dragStartElement);\n            const offsetEvent = offsets(event.target);\n            coords.offsetX -= offsetDragStart.x - offsetEvent.x;\n            coords.offsetY -= offsetDragStart.y - offsetEvent.y;\n        }\n        return coords;\n    }\n    buildEvent(opts) {\n        const { type, event, clientX, clientY } = opts;\n        let { offsetX, offsetY, pageX, pageY } = opts;\n        if (!isNumber(offsetX) || !isNumber(offsetY)) {\n            const rect = this.element.getBoundingClientRect();\n            offsetX = clientX - rect.left;\n            offsetY = clientY - rect.top;\n        }\n        if (!isNumber(pageX) || !isNumber(pageY)) {\n            const pageRect = this.rootElement.getBoundingClientRect();\n            pageX = clientX - pageRect.left;\n            pageY = clientY - pageRect.top;\n        }\n        const builtEvent = {\n            type,\n            offsetX: offsetX,\n            offsetY: offsetY,\n            pageX: pageX,\n            pageY: pageY,\n            sourceEvent: event,\n            consumed: false,\n            consume: () => (builtEvent.consumed = true),\n        };\n        return builtEvent;\n    }\n}\nInteractionManager.interactionDocuments = [];\nInteractionManager.NULL_COORDS = {\n    clientX: -Infinity,\n    clientY: -Infinity,\n    pageX: -Infinity,\n    pageY: -Infinity,\n    offsetX: -Infinity,\n    offsetY: -Infinity,\n};\n","/**\n * Manages the tooltip HTML an element. Tracks the requested HTML from distinct dependents and\n * handles conflicting tooltip requests.\n */\nexport class TooltipManager {\n    constructor(tooltip, interactionManager) {\n        this.states = {};\n        this.exclusiveAreas = {};\n        this.destroyFns = [];\n        this.tooltip = tooltip;\n        const hoverRef = interactionManager.addListener('hover', (e) => this.checkExclusiveRects(e));\n        this.destroyFns.push(() => interactionManager.removeListener(hoverRef));\n    }\n    updateTooltip(callerId, meta, content) {\n        var _a;\n        if (content == null) {\n            content = (_a = this.states[callerId]) === null || _a === void 0 ? void 0 : _a.content;\n        }\n        if (!content) {\n            delete this.states[callerId];\n        }\n        else {\n            this.states[callerId] = { content, meta };\n        }\n        this.applyStates();\n    }\n    updateExclusiveRect(callerId, area) {\n        if (area) {\n            this.exclusiveAreas[callerId] = area;\n        }\n        else {\n            delete this.exclusiveAreas[callerId];\n        }\n    }\n    removeTooltip(callerId) {\n        delete this.states[callerId];\n        this.applyStates();\n    }\n    getTooltipMeta(callerId) {\n        var _a;\n        return (_a = this.states[callerId]) === null || _a === void 0 ? void 0 : _a.meta;\n    }\n    destroy() {\n        for (const destroyFn of this.destroyFns) {\n            destroyFn();\n        }\n    }\n    checkExclusiveRects(e) {\n        let newAppliedExclusiveArea;\n        for (const [entryId, area] of Object.entries(this.exclusiveAreas)) {\n            if (!area.containsPoint(e.offsetX, e.offsetY)) {\n                continue;\n            }\n            newAppliedExclusiveArea = entryId;\n            break;\n        }\n        if (newAppliedExclusiveArea === this.appliedExclusiveArea) {\n            return;\n        }\n        this.appliedExclusiveArea = newAppliedExclusiveArea;\n        this.applyStates();\n    }\n    applyStates() {\n        var _a;\n        const ids = this.appliedExclusiveArea ? [this.appliedExclusiveArea] : Object.keys(this.states);\n        let contentToApply = undefined;\n        let metaToApply = undefined;\n        // Last added entry wins.\n        ids.reverse();\n        ids.slice(0, 1).forEach((id) => {\n            var _a;\n            const { content, meta } = (_a = this.states[id]) !== null && _a !== void 0 ? _a : {};\n            contentToApply = content;\n            metaToApply = meta;\n        });\n        if (metaToApply === undefined || contentToApply === undefined) {\n            this.appliedState = undefined;\n            this.tooltip.toggle(false);\n            return;\n        }\n        if (((_a = this.appliedState) === null || _a === void 0 ? void 0 : _a.content) === contentToApply) {\n            const renderInstantly = this.tooltip.isVisible();\n            this.tooltip.show(metaToApply, undefined, renderInstantly);\n        }\n        else {\n            this.tooltip.show(metaToApply, contentToApply);\n        }\n        this.appliedState = { content: contentToApply, meta: metaToApply };\n    }\n}\n","import { BaseManager } from './baseManager.mjs';\nfunction isEqual(a, b) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    if (a === b)\n        return true;\n    if (((_a = a === null || a === void 0 ? void 0 : a.x) === null || _a === void 0 ? void 0 : _a.min) !== ((_b = b === null || b === void 0 ? void 0 : b.x) === null || _b === void 0 ? void 0 : _b.min))\n        return false;\n    if (((_c = a === null || a === void 0 ? void 0 : a.x) === null || _c === void 0 ? void 0 : _c.max) !== ((_d = b === null || b === void 0 ? void 0 : b.x) === null || _d === void 0 ? void 0 : _d.max))\n        return false;\n    if (((_e = a === null || a === void 0 ? void 0 : a.y) === null || _e === void 0 ? void 0 : _e.max) !== ((_f = b === null || b === void 0 ? void 0 : b.y) === null || _f === void 0 ? void 0 : _f.max))\n        return false;\n    if (((_g = a === null || a === void 0 ? void 0 : a.y) === null || _g === void 0 ? void 0 : _g.min) !== ((_h = b === null || b === void 0 ? void 0 : b.y) === null || _h === void 0 ? void 0 : _h.min))\n        return false;\n    return true;\n}\n/**\n * Manages the current zoom state for a chart. Tracks the requested zoom from distinct dependents\n * and handles conflicting zoom requests.\n */\nexport class ZoomManager extends BaseManager {\n    constructor() {\n        super();\n        this.states = {};\n        this.currentZoom = undefined;\n    }\n    updateZoom(callerId, newZoom) {\n        delete this.states[callerId];\n        if (newZoom != null) {\n            this.states[callerId] = Object.assign({}, newZoom);\n        }\n        this.applyStates();\n    }\n    getZoom() {\n        return this.currentZoom;\n    }\n    applyStates() {\n        const currentZoom = this.currentZoom;\n        const zoomToApply = {};\n        // Last added entry wins.\n        for (const [_, { x, y }] of Object.entries(this.states)) {\n            zoomToApply.x = x !== null && x !== void 0 ? x : zoomToApply.x;\n            zoomToApply.y = y !== null && y !== void 0 ? y : zoomToApply.y;\n        }\n        this.currentZoom = zoomToApply.x != null || zoomToApply.y != null ? zoomToApply : undefined;\n        const changed = !isEqual(currentZoom, this.currentZoom);\n        if (!changed) {\n            return;\n        }\n        const event = Object.assign({ type: 'zoom-change' }, (currentZoom !== null && currentZoom !== void 0 ? currentZoom : {}));\n        this.listeners.dispatch('zoom-change', event);\n    }\n}\n","import { Listeners } from '../../util/listeners.mjs';\nfunction isLayoutStage(t) {\n    return t !== 'layout-complete';\n}\nfunction isLayoutComplete(t) {\n    return t === 'layout-complete';\n}\nexport class LayoutService {\n    constructor() {\n        this.layoutProcessors = new Listeners();\n        this.listeners = new Listeners();\n    }\n    addListener(type, cb) {\n        if (isLayoutStage(type)) {\n            return this.layoutProcessors.addListener(type, cb);\n        }\n        else if (isLayoutComplete(type)) {\n            return this.listeners.addListener(type, cb);\n        }\n        throw new Error('AG Charts - unsupported listener type: ' + type);\n    }\n    removeListener(listenerSymbol) {\n        this.listeners.removeListener(listenerSymbol);\n        this.layoutProcessors.removeListener(listenerSymbol);\n    }\n    dispatchPerformLayout(stage, ctx) {\n        const result = this.layoutProcessors.reduceDispatch(stage, ({ shrinkRect }, ctx) => [Object.assign(Object.assign({}, ctx), { shrinkRect })], ctx);\n        return result !== null && result !== void 0 ? result : ctx;\n    }\n    dispatchLayoutComplete(event) {\n        this.listeners.dispatch('layout-complete', event);\n    }\n}\n","export class DataService {\n    constructor(getSeries) {\n        this.getSeries = getSeries;\n    }\n}\n","/** Types of chart-update, in pipeline execution order. */\nexport var ChartUpdateType;\n(function (ChartUpdateType) {\n    ChartUpdateType[ChartUpdateType[\"FULL\"] = 0] = \"FULL\";\n    ChartUpdateType[ChartUpdateType[\"PROCESS_DATA\"] = 1] = \"PROCESS_DATA\";\n    ChartUpdateType[ChartUpdateType[\"PERFORM_LAYOUT\"] = 2] = \"PERFORM_LAYOUT\";\n    ChartUpdateType[ChartUpdateType[\"SERIES_UPDATE\"] = 3] = \"SERIES_UPDATE\";\n    ChartUpdateType[ChartUpdateType[\"TOOLTIP_RECALCULATION\"] = 4] = \"TOOLTIP_RECALCULATION\";\n    ChartUpdateType[ChartUpdateType[\"SCENE_RENDER\"] = 5] = \"SCENE_RENDER\";\n    ChartUpdateType[ChartUpdateType[\"NONE\"] = 6] = \"NONE\";\n})(ChartUpdateType || (ChartUpdateType = {}));\n","import { ChartUpdateType } from './chartUpdateType.mjs';\nexport class UpdateService {\n    constructor(updateCallback) {\n        this.updateCallback = updateCallback;\n    }\n    update(type = ChartUpdateType.FULL, { forceNodeDataRefresh = false } = {}) {\n        this.updateCallback(type, { forceNodeDataRefresh });\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { STRING_UNION, Validate } from '../util/validation.mjs';\nexport class ChartHighlight {\n    constructor() {\n        this.range = 'tooltip';\n    }\n}\n__decorate([\n    Validate(STRING_UNION('tooltip', 'node'))\n], ChartHighlight.prototype, \"range\", void 0);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Group } from '../scene/group.mjs';\nimport { Text } from '../scene/shape/text.mjs';\nimport { Square } from './marker/square.mjs';\nimport { HdpiCanvas } from '../canvas/hdpiCanvas.mjs';\nimport { ProxyPropertyOnWrite } from '../util/proxy.mjs';\nexport class MarkerLabel extends Group {\n    constructor() {\n        super({ name: 'markerLabelGroup' });\n        this.label = new Text();\n        this._marker = new Square();\n        this._markerSize = 15;\n        this._spacing = 8;\n        const label = this.label;\n        label.textBaseline = 'middle';\n        label.fontSize = 12;\n        label.fontFamily = 'Verdana, sans-serif';\n        label.fill = 'black';\n        // For better looking vertical alignment of labels to markers.\n        label.y = HdpiCanvas.has.textMetrics ? 1 : 0;\n        this.append([this.marker, label]);\n        this.update();\n    }\n    set marker(value) {\n        if (this._marker !== value) {\n            this.removeChild(this._marker);\n            this._marker = value;\n            this.appendChild(value);\n            this.update();\n        }\n    }\n    get marker() {\n        return this._marker;\n    }\n    set markerSize(value) {\n        if (this._markerSize !== value) {\n            this._markerSize = value;\n            this.update();\n        }\n    }\n    get markerSize() {\n        return this._markerSize;\n    }\n    set spacing(value) {\n        if (this._spacing !== value) {\n            this._spacing = value;\n            this.update();\n        }\n    }\n    get spacing() {\n        return this._spacing;\n    }\n    update() {\n        const marker = this.marker;\n        const markerSize = this.markerSize;\n        marker.size = markerSize;\n        this.label.x = markerSize / 2 + this.spacing;\n    }\n    render(renderCtx) {\n        // Cannot override field Group.opacity with get/set pair, so\n        // propagate opacity changes here.\n        this.marker.opacity = this.opacity;\n        this.label.opacity = this.opacity;\n        super.render(renderCtx);\n    }\n}\nMarkerLabel.className = 'MarkerLabel';\n__decorate([\n    ProxyPropertyOnWrite('label')\n], MarkerLabel.prototype, \"text\", void 0);\n__decorate([\n    ProxyPropertyOnWrite('label')\n], MarkerLabel.prototype, \"fontStyle\", void 0);\n__decorate([\n    ProxyPropertyOnWrite('label')\n], MarkerLabel.prototype, \"fontWeight\", void 0);\n__decorate([\n    ProxyPropertyOnWrite('label')\n], MarkerLabel.prototype, \"fontSize\", void 0);\n__decorate([\n    ProxyPropertyOnWrite('label')\n], MarkerLabel.prototype, \"fontFamily\", void 0);\n__decorate([\n    ProxyPropertyOnWrite('label', 'fill')\n], MarkerLabel.prototype, \"color\", void 0);\n__decorate([\n    ProxyPropertyOnWrite('marker', 'fill')\n], MarkerLabel.prototype, \"markerFill\", void 0);\n__decorate([\n    ProxyPropertyOnWrite('marker', 'stroke')\n], MarkerLabel.prototype, \"markerStroke\", void 0);\n__decorate([\n    ProxyPropertyOnWrite('marker', 'strokeWidth')\n], MarkerLabel.prototype, \"markerStrokeWidth\", void 0);\n__decorate([\n    ProxyPropertyOnWrite('marker', 'fillOpacity')\n], MarkerLabel.prototype, \"markerFillOpacity\", void 0);\n__decorate([\n    ProxyPropertyOnWrite('marker', 'strokeOpacity')\n], MarkerLabel.prototype, \"markerStrokeOpacity\", void 0);\n","export function gridLayout({ orientation, bboxes, maxHeight, maxWidth, itemPaddingY = 0, itemPaddingX = 0, forceResult = false, }) {\n    const horizontal = orientation === 'horizontal';\n    const primary = {\n        max: horizontal ? maxWidth : maxHeight,\n        fn: horizontal ? (b) => b.width : (b) => b.height,\n        padding: horizontal ? itemPaddingX : itemPaddingY,\n    };\n    const secondary = {\n        max: !horizontal ? maxWidth : maxHeight,\n        fn: !horizontal ? (b) => b.width : (b) => b.height,\n        padding: !horizontal ? itemPaddingX : itemPaddingY,\n    };\n    let processedBBoxCount = 0;\n    const rawPages = [];\n    while (processedBBoxCount < bboxes.length) {\n        const unprocessedBBoxes = bboxes.slice(processedBBoxCount);\n        const result = processBBoxes(unprocessedBBoxes, processedBBoxCount, primary, secondary, forceResult);\n        if (!result) {\n            return;\n        }\n        processedBBoxCount += result.processedBBoxCount;\n        rawPages.push(result.pageIndices);\n    }\n    return buildPages(rawPages, orientation, bboxes, itemPaddingY, itemPaddingX);\n}\nfunction processBBoxes(bboxes, indexOffset, primary, secondary, forceResult) {\n    // If calculatePage() fails on the first guess, we could use the number of items that fit\n    // as a good guess for the next iteration.\n    const minGuess = 1;\n    let startingGuess = estimateStartingGuess(bboxes, primary);\n    if (startingGuess < minGuess) {\n        if (!forceResult) {\n            return undefined;\n        }\n        // Legend constraints too small! Display at least one row/column if forceResult is true\n        startingGuess = minGuess;\n    }\n    for (let guess = startingGuess; guess >= minGuess; guess--) {\n        const pageIndices = calculatePage(bboxes, indexOffset, guess, primary, secondary, forceResult);\n        if (pageIndices == null && guess <= minGuess) {\n            // Can't layout!\n            return undefined;\n        }\n        if (pageIndices == null) {\n            // Guess again!\n            continue;\n        }\n        if (typeof pageIndices === 'number') {\n            // calculatePage() suggested a better guess, use that if it's more than minGuess.\n            if (pageIndices <= minGuess) {\n                // Can't layout!\n                return undefined;\n            }\n            guess = pageIndices < guess && pageIndices > minGuess ? pageIndices : guess;\n            continue;\n        }\n        const processedBBoxCount = pageIndices.length * pageIndices[0].length; // this is an estimate, not all rows/columns will have the same length\n        return { processedBBoxCount, pageIndices };\n    }\n}\nfunction calculatePage(bboxes, indexOffset, primaryCount, primary, secondary, forceResult) {\n    var _a;\n    const result = [];\n    let sumSecondary = 0;\n    let currentMaxSecondary = 0;\n    let currentPrimaryIndices = [];\n    const maxPrimaryValues = [];\n    for (let bboxIndex = 0; bboxIndex < bboxes.length; bboxIndex++) {\n        const primaryValueIdx = (bboxIndex + primaryCount) % primaryCount;\n        if (primaryValueIdx === 0) {\n            sumSecondary += currentMaxSecondary;\n            currentMaxSecondary = 0;\n            if (currentPrimaryIndices.length > 0) {\n                result.push(currentPrimaryIndices);\n            }\n            currentPrimaryIndices = [];\n        }\n        const primaryValue = primary.fn(bboxes[bboxIndex]) + primary.padding;\n        maxPrimaryValues[primaryValueIdx] = Math.max((_a = maxPrimaryValues[primaryValueIdx]) !== null && _a !== void 0 ? _a : 0, primaryValue);\n        currentMaxSecondary = Math.max(currentMaxSecondary, secondary.fn(bboxes[bboxIndex]) + secondary.padding);\n        const currentSecondaryDimension = sumSecondary + currentMaxSecondary;\n        const returnResult = !forceResult || result.length > 0;\n        if (currentSecondaryDimension > secondary.max && returnResult) {\n            // Breached max secondary dimension size, return indices accumlated so far (but not in-progress row/column).\n            currentPrimaryIndices = [];\n            break;\n        }\n        const sumPrimary = maxPrimaryValues.reduce((sum, next) => sum + next, 0);\n        if (sumPrimary > primary.max && !forceResult) {\n            // Breached max main dimension size.\n            if (maxPrimaryValues.length < primaryCount) {\n                // Feedback as guess for next iteration if we're on the first round still.\n                return maxPrimaryValues.length;\n            }\n            return undefined;\n        }\n        currentPrimaryIndices.push(bboxIndex + indexOffset);\n    }\n    if (currentPrimaryIndices.length > 0) {\n        result.push(currentPrimaryIndices);\n    }\n    return result.length > 0 ? result : undefined;\n}\nfunction buildPages(rawPages, orientation, bboxes, itemPaddingY, itemPaddingX) {\n    let maxPageWidth = 0;\n    let maxPageHeight = 0;\n    const pages = rawPages.map((indices) => {\n        if (orientation === 'horizontal') {\n            indices = transpose(indices);\n        }\n        let endIndex = 0;\n        const columns = indices.map((colIndices) => {\n            const colBBoxes = colIndices.map((bboxIndex) => {\n                endIndex = Math.max(bboxIndex, endIndex);\n                return bboxes[bboxIndex];\n            });\n            let columnHeight = 0;\n            let columnWidth = 0;\n            colBBoxes.forEach((bbox) => {\n                columnHeight += bbox.height + itemPaddingY;\n                columnWidth = Math.max(columnWidth, bbox.width + itemPaddingX);\n            });\n            return {\n                indices: colIndices,\n                bboxes: colBBoxes,\n                columnHeight,\n                columnWidth,\n            };\n        });\n        let pageWidth = 0;\n        let pageHeight = 0;\n        columns.forEach((column) => {\n            pageWidth += column.columnWidth;\n            pageHeight = Math.max(pageHeight, column.columnHeight);\n        });\n        maxPageWidth = Math.max(pageWidth, maxPageWidth);\n        maxPageHeight = Math.max(pageHeight, maxPageHeight);\n        return {\n            columns,\n            startIndex: indices[0][0],\n            endIndex,\n            pageWidth,\n            pageHeight,\n        };\n    });\n    return { pages, maxPageWidth, maxPageHeight };\n}\nfunction transpose(data) {\n    const result = [];\n    for (const _ of data[0]) {\n        result.push([]);\n    }\n    data.forEach((innerData, dataIdx) => {\n        innerData.forEach((item, itemIdx) => {\n            result[itemIdx][dataIdx] = item;\n        });\n    });\n    return result;\n}\nfunction estimateStartingGuess(bboxes, primary) {\n    const n = bboxes.length;\n    let primarySum = 0;\n    for (let bboxIndex = 0; bboxIndex < n; bboxIndex++) {\n        primarySum += primary.fn(bboxes[bboxIndex]) + primary.padding;\n        if (primarySum > primary.max) {\n            const ratio = n / bboxIndex;\n            if (ratio < 2) {\n                return Math.ceil(n / 2);\n            }\n            return bboxIndex;\n        }\n    }\n    return n;\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Group } from '../../scene/group.mjs';\nimport { Triangle } from '../marker/triangle.mjs';\nimport { Text } from '../../scene/shape/text.mjs';\nimport { HdpiCanvas } from '../../canvas/hdpiCanvas.mjs';\nimport { getMarker } from '../marker/util.mjs';\nimport { createId } from '../../util/id.mjs';\nimport { ChartUpdateType } from '../chartUpdateType.mjs';\nimport { COLOR_STRING, NUMBER, OPT_COLOR_STRING, OPT_FONT_STYLE, OPT_FONT_WEIGHT, OPT_NUMBER, STRING, Validate, } from '../../util/validation.mjs';\nclass PaginationLabel {\n    constructor() {\n        this.color = 'black';\n        this.fontStyle = undefined;\n        this.fontWeight = undefined;\n        this.fontSize = 12;\n        this.fontFamily = 'Verdana, sans-serif';\n    }\n}\n__decorate([\n    Validate(COLOR_STRING)\n], PaginationLabel.prototype, \"color\", void 0);\n__decorate([\n    Validate(OPT_FONT_STYLE)\n], PaginationLabel.prototype, \"fontStyle\", void 0);\n__decorate([\n    Validate(OPT_FONT_WEIGHT)\n], PaginationLabel.prototype, \"fontWeight\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], PaginationLabel.prototype, \"fontSize\", void 0);\n__decorate([\n    Validate(STRING)\n], PaginationLabel.prototype, \"fontFamily\", void 0);\nclass PaginationMarkerStyle {\n    constructor() {\n        this.size = 15;\n        this.fill = undefined;\n        this.fillOpacity = undefined;\n        this.stroke = undefined;\n        this.strokeWidth = 1;\n        this.strokeOpacity = 1;\n    }\n}\n__decorate([\n    Validate(NUMBER(0))\n], PaginationMarkerStyle.prototype, \"size\", void 0);\n__decorate([\n    Validate(OPT_COLOR_STRING)\n], PaginationMarkerStyle.prototype, \"fill\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0, 1))\n], PaginationMarkerStyle.prototype, \"fillOpacity\", void 0);\n__decorate([\n    Validate(OPT_COLOR_STRING)\n], PaginationMarkerStyle.prototype, \"stroke\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], PaginationMarkerStyle.prototype, \"strokeWidth\", void 0);\n__decorate([\n    Validate(NUMBER(0, 1))\n], PaginationMarkerStyle.prototype, \"strokeOpacity\", void 0);\nclass PaginationMarker {\n    constructor() {\n        this.size = 15;\n        this._shape = Triangle;\n        /**\n         * Inner padding between a pagination button and the label.\n         */\n        this.padding = 8;\n    }\n    set shape(value) {\n        var _a;\n        this._shape = value;\n        (_a = this.parent) === null || _a === void 0 ? void 0 : _a.onMarkerShapeChange();\n    }\n    get shape() {\n        return this._shape;\n    }\n}\n__decorate([\n    Validate(NUMBER(0))\n], PaginationMarker.prototype, \"size\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], PaginationMarker.prototype, \"padding\", void 0);\nexport class Pagination {\n    constructor(chartUpdateCallback, pageUpdateCallback, interactionManager, cursorManager) {\n        this.chartUpdateCallback = chartUpdateCallback;\n        this.pageUpdateCallback = pageUpdateCallback;\n        this.interactionManager = interactionManager;\n        this.cursorManager = cursorManager;\n        this.id = createId(this);\n        this.group = new Group({ name: 'pagination' });\n        this.labelNode = new Text();\n        this.marker = new PaginationMarker();\n        this.activeStyle = new PaginationMarkerStyle();\n        this.inactiveStyle = new PaginationMarkerStyle();\n        this.highlightStyle = new PaginationMarkerStyle();\n        this.label = new PaginationLabel();\n        this.totalPages = 0;\n        this.currentPage = 0;\n        this.translationX = 0;\n        this.translationY = 0;\n        this.nextButtonDisabled = false;\n        this.previousButtonDisabled = false;\n        this._visible = true;\n        this._enabled = true;\n        this._orientation = 'vertical';\n        this._nextButton = new Triangle();\n        this._previousButton = new Triangle();\n        const { labelNode } = this;\n        labelNode.textBaseline = 'middle';\n        labelNode.fontSize = 12;\n        labelNode.fontFamily = 'Verdana, sans-serif';\n        labelNode.fill = 'black';\n        labelNode.y = HdpiCanvas.has.textMetrics ? 1 : 0;\n        this.group.append([this.nextButton, this.previousButton, labelNode]);\n        this.interactionManager.addListener('click', (event) => this.onPaginationClick(event));\n        this.interactionManager.addListener('hover', (event) => this.onPaginationMouseMove(event));\n        this.marker.parent = this;\n        this.update();\n        this.updateMarkers();\n    }\n    set visible(value) {\n        this._visible = value;\n        this.updateGroupVisibility();\n    }\n    get visible() {\n        return this._visible;\n    }\n    set enabled(value) {\n        this._enabled = value;\n        this.updateGroupVisibility();\n    }\n    get enabled() {\n        return this._enabled;\n    }\n    updateGroupVisibility() {\n        this.group.visible = this.enabled && this.visible;\n    }\n    set orientation(value) {\n        this._orientation = value;\n        switch (value) {\n            case 'horizontal': {\n                this.previousButton.rotation = -Math.PI / 2;\n                this.nextButton.rotation = Math.PI / 2;\n                break;\n            }\n            case 'vertical':\n            default: {\n                this.previousButton.rotation = 0;\n                this.nextButton.rotation = Math.PI;\n            }\n        }\n    }\n    get orientation() {\n        return this._orientation;\n    }\n    set nextButton(value) {\n        if (this._nextButton !== value) {\n            this.group.removeChild(this._nextButton);\n            this._nextButton = value;\n            this.group.appendChild(value);\n        }\n    }\n    get nextButton() {\n        return this._nextButton;\n    }\n    set previousButton(value) {\n        if (this._previousButton !== value) {\n            this.group.removeChild(this._previousButton);\n            this._previousButton = value;\n            this.group.appendChild(value);\n        }\n    }\n    get previousButton() {\n        return this._previousButton;\n    }\n    update() {\n        this.updateLabel();\n        this.updatePositions();\n        this.enableOrDisableButtons();\n    }\n    updatePositions() {\n        this.group.translationX = this.translationX;\n        this.group.translationY = this.translationY;\n        this.updateLabelPosition();\n        this.updateNextButtonPosition();\n    }\n    updateLabelPosition() {\n        const { size: markerSize, padding: markerPadding } = this.marker;\n        this.nextButton.size = markerSize;\n        this.previousButton.size = markerSize;\n        this.labelNode.x = markerSize / 2 + markerPadding;\n    }\n    updateNextButtonPosition() {\n        const labelBBox = this.labelNode.computeBBox();\n        this.nextButton.translationX = labelBBox.x + labelBBox.width + this.marker.size / 2 + this.marker.padding;\n    }\n    updateLabel() {\n        const { currentPage, totalPages: pages, labelNode, label: { color, fontStyle, fontWeight, fontSize, fontFamily }, } = this;\n        labelNode.text = `${currentPage + 1} / ${pages}`;\n        labelNode.fill = color;\n        labelNode.fontStyle = fontStyle;\n        labelNode.fontWeight = fontWeight;\n        labelNode.fontSize = fontSize;\n        labelNode.fontFamily = fontFamily;\n    }\n    updateMarkers() {\n        const { nextButton, previousButton, nextButtonDisabled, previousButtonDisabled, activeStyle, inactiveStyle, highlightStyle, highlightActive, } = this;\n        const buttonStyle = (button, disabled) => {\n            if (disabled) {\n                return inactiveStyle;\n            }\n            else if (button === highlightActive) {\n                return highlightStyle;\n            }\n            return activeStyle;\n        };\n        this.updateMarker(nextButton, buttonStyle('next', nextButtonDisabled));\n        this.updateMarker(previousButton, buttonStyle('previous', previousButtonDisabled));\n    }\n    updateMarker(marker, style) {\n        var _a;\n        const { size } = this.marker;\n        marker.size = size;\n        marker.fill = style.fill;\n        marker.fillOpacity = (_a = style.fillOpacity) !== null && _a !== void 0 ? _a : 1;\n        marker.stroke = style.stroke;\n        marker.strokeWidth = style.strokeWidth;\n        marker.strokeOpacity = style.strokeOpacity;\n    }\n    enableOrDisableButtons() {\n        const { currentPage, totalPages } = this;\n        const zeroPagesToDisplay = totalPages === 0;\n        const onLastPage = currentPage === totalPages - 1;\n        const onFirstPage = currentPage === 0;\n        this.nextButtonDisabled = onLastPage || zeroPagesToDisplay;\n        this.previousButtonDisabled = onFirstPage || zeroPagesToDisplay;\n    }\n    nextButtonContainsPoint(offsetX, offsetY) {\n        return !this.nextButtonDisabled && this.nextButton.containsPoint(offsetX, offsetY);\n    }\n    previousButtonContainsPoint(offsetX, offsetY) {\n        return !this.previousButtonDisabled && this.previousButton.containsPoint(offsetX, offsetY);\n    }\n    onPaginationClick(event) {\n        const { offsetX, offsetY } = event;\n        if (this.nextButtonContainsPoint(offsetX, offsetY)) {\n            this.incrementPage();\n            this.onPaginationChanged();\n            event.consume();\n        }\n        else if (this.previousButtonContainsPoint(offsetX, offsetY)) {\n            this.decrementPage();\n            this.onPaginationChanged();\n            event.consume();\n        }\n    }\n    onPaginationMouseMove(event) {\n        const { offsetX, offsetY } = event;\n        if (this.nextButtonContainsPoint(offsetX, offsetY)) {\n            this.cursorManager.updateCursor(this.id, 'pointer');\n            this.highlightActive = 'next';\n        }\n        else if (this.previousButtonContainsPoint(offsetX, offsetY)) {\n            this.cursorManager.updateCursor(this.id, 'pointer');\n            this.highlightActive = 'previous';\n        }\n        else {\n            this.cursorManager.updateCursor(this.id);\n            this.highlightActive = undefined;\n        }\n        this.updateMarkers();\n        this.chartUpdateCallback(ChartUpdateType.SCENE_RENDER);\n    }\n    onPaginationChanged() {\n        this.pageUpdateCallback(this.currentPage);\n    }\n    incrementPage() {\n        this.currentPage = Math.min(this.currentPage + 1, this.totalPages - 1);\n    }\n    decrementPage() {\n        this.currentPage = Math.max(this.currentPage - 1, 0);\n    }\n    onMarkerShapeChange() {\n        const Marker = getMarker(this.marker.shape || Triangle);\n        this.previousButton = new Marker();\n        this.nextButton = new Marker();\n        this.updatePositions();\n        this.updateMarkers();\n        this.chartUpdateCallback(ChartUpdateType.SCENE_RENDER);\n    }\n    attachPagination(node) {\n        node.append(this.group);\n    }\n    computeBBox() {\n        return this.group.computeBBox();\n    }\n}\nPagination.className = 'Pagination';\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { RedrawType } from '../scene/node.mjs';\nimport { Group } from '../scene/group.mjs';\nimport { Selection } from '../scene/selection.mjs';\nimport { MarkerLabel } from './markerLabel.mjs';\nimport { BBox } from '../scene/bbox.mjs';\nimport { getFont } from '../scene/shape/text.mjs';\nimport { getMarker } from './marker/util.mjs';\nimport { createId } from '../util/id.mjs';\nimport { HdpiCanvas } from '../canvas/hdpiCanvas.mjs';\nimport { BOOLEAN, NUMBER, OPT_BOOLEAN, OPT_FONT_STYLE, OPT_FONT_WEIGHT, OPT_FUNCTION, OPT_NUMBER, POSITION, COLOR_STRING, STRING, Validate, predicateWithMessage, OPTIONAL, } from '../util/validation.mjs';\nimport { Layers } from './layers.mjs';\nimport { ChartUpdateType } from './chartUpdateType.mjs';\nimport { gridLayout } from './gridLayout.mjs';\nimport { Pagination } from './pagination/pagination.mjs';\nimport { toTooltipHtml } from './tooltip/tooltip.mjs';\nimport { Logger } from '../util/logger.mjs';\nconst ORIENTATIONS = ['horizontal', 'vertical'];\nconst OPT_ORIENTATION = predicateWithMessage((v, ctx) => OPTIONAL(v, ctx, (v) => ORIENTATIONS.includes(v)), `expecting an orientation keyword such as 'horizontal' or 'vertical'`);\nclass LegendLabel {\n    constructor() {\n        this.maxLength = undefined;\n        this.color = 'black';\n        this.fontStyle = undefined;\n        this.fontWeight = undefined;\n        this.fontSize = 12;\n        this.fontFamily = 'Verdana, sans-serif';\n        this.formatter = undefined;\n    }\n}\n__decorate([\n    Validate(OPT_NUMBER(0))\n], LegendLabel.prototype, \"maxLength\", void 0);\n__decorate([\n    Validate(COLOR_STRING)\n], LegendLabel.prototype, \"color\", void 0);\n__decorate([\n    Validate(OPT_FONT_STYLE)\n], LegendLabel.prototype, \"fontStyle\", void 0);\n__decorate([\n    Validate(OPT_FONT_WEIGHT)\n], LegendLabel.prototype, \"fontWeight\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], LegendLabel.prototype, \"fontSize\", void 0);\n__decorate([\n    Validate(STRING)\n], LegendLabel.prototype, \"fontFamily\", void 0);\n__decorate([\n    Validate(OPT_FUNCTION)\n], LegendLabel.prototype, \"formatter\", void 0);\nclass LegendMarker {\n    constructor() {\n        this.size = 15;\n        /**\n         * If the marker type is set, the legend will always use that marker type for all its items,\n         * regardless of the type that comes from the `data`.\n         */\n        this._shape = undefined;\n        /**\n         * Padding between the marker and the label within each legend item.\n         */\n        this.padding = 8;\n        this.strokeWidth = 1;\n    }\n    set shape(value) {\n        var _a;\n        this._shape = value;\n        (_a = this.parent) === null || _a === void 0 ? void 0 : _a.onMarkerShapeChange();\n    }\n    get shape() {\n        return this._shape;\n    }\n}\n__decorate([\n    Validate(NUMBER(0))\n], LegendMarker.prototype, \"size\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], LegendMarker.prototype, \"padding\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], LegendMarker.prototype, \"strokeWidth\", void 0);\nclass LegendItem {\n    constructor() {\n        this.marker = new LegendMarker();\n        this.label = new LegendLabel();\n        /** Used to constrain the width of legend items. */\n        this.maxWidth = undefined;\n        /**\n         * The legend uses grid layout for its items, occupying as few columns as possible when positioned to left or right,\n         * and as few rows as possible when positioned to top or bottom. This config specifies the amount of horizontal\n         * padding between legend items.\n         */\n        this.paddingX = 16;\n        /**\n         * The legend uses grid layout for its items, occupying as few columns as possible when positioned to left or right,\n         * and as few rows as possible when positioned to top or bottom. This config specifies the amount of vertical\n         * padding between legend items.\n         */\n        this.paddingY = 8;\n        this.toggleSeriesVisible = true;\n    }\n}\n__decorate([\n    Validate(OPT_NUMBER(0))\n], LegendItem.prototype, \"maxWidth\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], LegendItem.prototype, \"paddingX\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], LegendItem.prototype, \"paddingY\", void 0);\n__decorate([\n    Validate(BOOLEAN)\n], LegendItem.prototype, \"toggleSeriesVisible\", void 0);\nclass LegendListeners {\n    constructor() {\n        this.legendItemClick = undefined;\n        this.legendItemDoubleClick = undefined;\n    }\n}\n__decorate([\n    Validate(OPT_FUNCTION)\n], LegendListeners.prototype, \"legendItemClick\", void 0);\nexport class Legend {\n    constructor(ctx) {\n        this.ctx = ctx;\n        this.id = createId(this);\n        this.group = new Group({ name: 'legend', layer: true, zIndex: Layers.LEGEND_ZINDEX });\n        this.itemSelection = Selection.select(this.group, MarkerLabel);\n        this.oldSize = [0, 0];\n        this.pages = [];\n        this.maxPageSize = [0, 0];\n        /** Item index to track on re-pagination, so current page updates appropriately. */\n        this.paginationTrackingIndex = 0;\n        this.item = new LegendItem();\n        this.listeners = new LegendListeners();\n        this.truncatedItems = new Set();\n        this._data = [];\n        this._enabled = true;\n        this.position = 'bottom';\n        /** Used to constrain the width of the legend. */\n        this.maxWidth = undefined;\n        /** Used to constrain the height of the legend. */\n        this.maxHeight = undefined;\n        /** Reverse the display order of legend items if `true`. */\n        this.reverseOrder = undefined;\n        this.destroyFns = [];\n        /**\n         * Spacing between the legend and the edge of the chart's element.\n         */\n        this.spacing = 20;\n        this.characterWidths = new Map();\n        this.size = [0, 0];\n        this._visible = true;\n        this.item.marker.parent = this;\n        this.pagination = new Pagination((type) => ctx.updateService.update(type), (page) => this.updatePageNumber(page), ctx.interactionManager, ctx.cursorManager);\n        this.pagination.attachPagination(this.group);\n        this.item.marker.parent = this;\n        const interactionListeners = [\n            ctx.interactionManager.addListener('click', (e) => this.checkLegendClick(e)),\n            ctx.interactionManager.addListener('dblclick', (e) => this.checkLegendDoubleClick(e)),\n            ctx.interactionManager.addListener('hover', (e) => this.handleLegendMouseMove(e)),\n        ];\n        const layoutListeners = [\n            ctx.layoutService.addListener('start-layout', (e) => this.positionLegend(e.shrinkRect)),\n        ];\n        this.destroyFns.push(...interactionListeners.map((s) => () => ctx.interactionManager.removeListener(s)), ...layoutListeners.map((s) => () => ctx.layoutService.removeListener(s)), () => this.detachLegend());\n    }\n    set data(value) {\n        this._data = value;\n        this.updateGroupVisibility();\n    }\n    get data() {\n        return this._data;\n    }\n    set enabled(value) {\n        this._enabled = value;\n        this.updateGroupVisibility();\n    }\n    get enabled() {\n        return this._enabled;\n    }\n    getOrientation() {\n        if (this.orientation !== undefined) {\n            return this.orientation;\n        }\n        switch (this.position) {\n            case 'right':\n            case 'left':\n                return 'vertical';\n            case 'bottom':\n            case 'top':\n                return 'horizontal';\n        }\n    }\n    destroy() {\n        this.destroyFns.forEach((f) => f());\n    }\n    onMarkerShapeChange() {\n        this.itemSelection.clear();\n        this.group.markDirty(this.group, RedrawType.MINOR);\n    }\n    getCharacterWidths(font) {\n        const { characterWidths } = this;\n        if (characterWidths.has(font)) {\n            return characterWidths.get(font);\n        }\n        const cw = {\n            '...': HdpiCanvas.getTextSize('...', font).width,\n        };\n        characterWidths.set(font, cw);\n        return cw;\n    }\n    set visible(value) {\n        this._visible = value;\n        this.updateGroupVisibility();\n    }\n    get visible() {\n        return this._visible;\n    }\n    updateGroupVisibility() {\n        this.group.visible = this.enabled && this.visible && this.data.length > 0;\n    }\n    attachLegend(node) {\n        node.append(this.group);\n    }\n    detachLegend() {\n        var _a;\n        (_a = this.group.parent) === null || _a === void 0 ? void 0 : _a.removeChild(this.group);\n    }\n    getItemLabel(datum) {\n        const { ctx: { callbackCache }, } = this;\n        const { formatter } = this.item.label;\n        if (formatter) {\n            return callbackCache.call(formatter, {\n                itemId: datum.itemId,\n                value: datum.label.text,\n                seriesId: datum.seriesId,\n            });\n        }\n        return datum.label.text;\n    }\n    /**\n     * The method is given the desired size of the legend, which only serves as a hint.\n     * The vertically oriented legend will take as much horizontal space as needed, but will\n     * respect the height constraints, and the horizontal legend will take as much vertical\n     * space as needed in an attempt not to exceed the given width.\n     * After the layout is done, the {@link size} will contain the actual size of the legend.\n     * If the actual size is not the same as the previous actual size, the legend will fire\n     * the 'layoutChange' event to communicate that another layout is needed, and the above\n     * process should be repeated.\n     * @param width\n     * @param height\n     */\n    performLayout(width, height) {\n        const { paddingX, paddingY, label, maxWidth, marker: { size: markerSize, padding: markerPadding, shape: markerShape }, label: { maxLength = Infinity, fontStyle, fontWeight, fontSize, fontFamily }, } = this.item;\n        const data = [...this.data];\n        if (this.reverseOrder) {\n            data.reverse();\n        }\n        this.itemSelection.update(data);\n        // Update properties that affect the size of the legend items and measure them.\n        const bboxes = [];\n        const font = getFont(label);\n        const itemMaxWidthPercentage = 0.8;\n        const maxItemWidth = maxWidth !== null && maxWidth !== void 0 ? maxWidth : width * itemMaxWidthPercentage;\n        const paddedMarkerWidth = markerSize + markerPadding + paddingX;\n        this.itemSelection.each((markerLabel, datum) => {\n            var _a;\n            const Marker = getMarker(markerShape !== null && markerShape !== void 0 ? markerShape : datum.marker.shape);\n            if (!(markerLabel.marker && markerLabel.marker instanceof Marker)) {\n                markerLabel.marker = new Marker();\n            }\n            markerLabel.markerSize = markerSize;\n            markerLabel.spacing = markerPadding;\n            markerLabel.fontStyle = fontStyle;\n            markerLabel.fontWeight = fontWeight;\n            markerLabel.fontSize = fontSize;\n            markerLabel.fontFamily = fontFamily;\n            const id = (_a = datum.itemId) !== null && _a !== void 0 ? _a : datum.id;\n            const labelText = this.getItemLabel(datum);\n            const text = (labelText !== null && labelText !== void 0 ? labelText : '<unknown>').replace(/\\r?\\n/g, ' ');\n            markerLabel.text = this.truncate(text, maxLength, maxItemWidth, paddedMarkerWidth, font, id);\n            bboxes.push(markerLabel.computeBBox());\n        });\n        width = Math.max(1, width);\n        height = Math.max(1, height);\n        if (!isFinite(width)) {\n            return false;\n        }\n        const size = this.size;\n        const oldSize = this.oldSize;\n        size[0] = width;\n        size[1] = height;\n        if (size[0] !== oldSize[0] || size[1] !== oldSize[1]) {\n            oldSize[0] = size[0];\n            oldSize[1] = size[1];\n        }\n        const { pages, maxPageHeight, maxPageWidth } = this.updatePagination(bboxes, width, height);\n        this.pages = pages;\n        this.maxPageSize = [maxPageWidth - paddingX, maxPageHeight - paddingY];\n        const pageNumber = this.pagination.currentPage;\n        const page = this.pages[pageNumber];\n        if (this.pages.length < 1 || !page) {\n            this.visible = false;\n            return;\n        }\n        this.visible = true;\n        // Position legend items\n        this.updatePositions(pageNumber);\n        // Update legend item properties that don't affect the layout.\n        this.update();\n    }\n    truncate(text, maxCharLength, maxItemWidth, paddedMarkerWidth, font, id) {\n        const ellipsis = `...`;\n        const textChars = text.split('');\n        let addEllipsis = false;\n        if (text.length > maxCharLength) {\n            text = `${text.substring(0, maxCharLength)}`;\n            addEllipsis = true;\n        }\n        const labelWidth = Math.floor(paddedMarkerWidth + HdpiCanvas.getTextSize(text, font).width);\n        if (labelWidth > maxItemWidth) {\n            let truncatedText = '';\n            const characterWidths = this.getCharacterWidths(font);\n            let cumulativeWidth = paddedMarkerWidth + characterWidths[ellipsis];\n            for (const char of textChars) {\n                if (!characterWidths[char]) {\n                    characterWidths[char] = HdpiCanvas.getTextSize(char, font).width;\n                }\n                cumulativeWidth += characterWidths[char];\n                if (cumulativeWidth > maxItemWidth) {\n                    break;\n                }\n                truncatedText += char;\n            }\n            text = truncatedText;\n            addEllipsis = true;\n        }\n        if (addEllipsis) {\n            text += ellipsis;\n            this.truncatedItems.add(id);\n        }\n        else {\n            this.truncatedItems.delete(id);\n        }\n        return text;\n    }\n    updatePagination(bboxes, width, height) {\n        const orientation = this.getOrientation();\n        const trackingIndex = Math.min(this.paginationTrackingIndex, bboxes.length);\n        this.pagination.orientation = orientation;\n        this.pagination.translationX = 0;\n        this.pagination.translationY = 0;\n        const { pages, maxPageHeight, maxPageWidth, paginationBBox, paginationVertical } = this.calculatePagination(bboxes, width, height);\n        const newCurrentPage = pages.findIndex((p) => p.endIndex >= trackingIndex);\n        this.pagination.currentPage = Math.min(Math.max(newCurrentPage, 0), pages.length - 1);\n        const { paddingX: itemPaddingX, paddingY: itemPaddingY } = this.item;\n        const paginationComponentPadding = 8;\n        const legendItemsWidth = maxPageWidth - itemPaddingX;\n        const legendItemsHeight = maxPageHeight - itemPaddingY;\n        let paginationX = 0;\n        let paginationY = -paginationBBox.y - this.item.marker.size / 2;\n        if (paginationVertical) {\n            paginationY += legendItemsHeight + paginationComponentPadding;\n        }\n        else {\n            paginationX += -paginationBBox.x + legendItemsWidth + paginationComponentPadding;\n            paginationY += (legendItemsHeight - paginationBBox.height) / 2;\n        }\n        this.pagination.translationX = paginationX;\n        this.pagination.translationY = paginationY;\n        this.pagination.update();\n        this.pagination.updateMarkers();\n        return {\n            maxPageHeight,\n            maxPageWidth,\n            pages,\n        };\n    }\n    calculatePagination(bboxes, width, height) {\n        var _a, _b, _c;\n        const { paddingX: itemPaddingX, paddingY: itemPaddingY } = this.item;\n        const orientation = this.getOrientation();\n        const paginationVertical = ['left', 'right'].includes(this.position);\n        let paginationBBox = this.pagination.computeBBox();\n        let lastPassPaginationBBox = new BBox(0, 0, 0, 0);\n        let pages = [];\n        let maxPageWidth = 0;\n        let maxPageHeight = 0;\n        let count = 0;\n        const stableOutput = (lastPassPaginationBBox) => {\n            const { width, height } = lastPassPaginationBBox;\n            return width === paginationBBox.width && height === paginationBBox.height;\n        };\n        const forceResult = this.maxWidth !== undefined || this.maxHeight !== undefined;\n        do {\n            if (count++ > 10) {\n                Logger.warn('unable to find stable legend layout.');\n                break;\n            }\n            paginationBBox = lastPassPaginationBBox;\n            const maxWidth = width - (paginationVertical ? 0 : paginationBBox.width);\n            const maxHeight = height - (paginationVertical ? paginationBBox.height : 0);\n            const layout = gridLayout({\n                orientation,\n                bboxes,\n                maxHeight,\n                maxWidth,\n                itemPaddingY,\n                itemPaddingX,\n                forceResult,\n            });\n            pages = (_a = layout === null || layout === void 0 ? void 0 : layout.pages) !== null && _a !== void 0 ? _a : [];\n            maxPageWidth = (_b = layout === null || layout === void 0 ? void 0 : layout.maxPageWidth) !== null && _b !== void 0 ? _b : 0;\n            maxPageHeight = (_c = layout === null || layout === void 0 ? void 0 : layout.maxPageHeight) !== null && _c !== void 0 ? _c : 0;\n            const totalPages = pages.length;\n            this.pagination.visible = totalPages > 1;\n            this.pagination.totalPages = totalPages;\n            this.pagination.update();\n            lastPassPaginationBBox = this.pagination.computeBBox();\n            if (!this.pagination.visible) {\n                break;\n            }\n        } while (!stableOutput(lastPassPaginationBBox));\n        return { maxPageWidth, maxPageHeight, pages, paginationBBox, paginationVertical };\n    }\n    updatePositions(pageNumber = 0) {\n        const { item: { paddingY }, itemSelection, pages, } = this;\n        if (pages.length < 1 || !pages[pageNumber]) {\n            return;\n        }\n        const { columns, startIndex: visibleStart, endIndex: visibleEnd } = pages[pageNumber];\n        // Position legend items using the layout computed above.\n        let x = 0;\n        let y = 0;\n        const columnCount = columns.length;\n        const rowCount = columns[0].indices.length;\n        const horizontal = this.getOrientation() === 'horizontal';\n        const itemHeight = columns[0].bboxes[0].height + paddingY;\n        const rowSumColumnWidths = [];\n        itemSelection.each((markerLabel, _, i) => {\n            var _a, _b;\n            if (i < visibleStart || i > visibleEnd) {\n                markerLabel.visible = false;\n                return;\n            }\n            const pageIndex = i - visibleStart;\n            let columnIndex = 0;\n            let rowIndex = 0;\n            if (horizontal) {\n                columnIndex = pageIndex % columnCount;\n                rowIndex = Math.floor(pageIndex / columnCount);\n            }\n            else {\n                columnIndex = Math.floor(pageIndex / rowCount);\n                rowIndex = pageIndex % rowCount;\n            }\n            markerLabel.visible = true;\n            const column = columns[columnIndex];\n            if (!column) {\n                return;\n            }\n            y = itemHeight * rowIndex;\n            x = (_a = rowSumColumnWidths[rowIndex]) !== null && _a !== void 0 ? _a : 0;\n            rowSumColumnWidths[rowIndex] = ((_b = rowSumColumnWidths[rowIndex]) !== null && _b !== void 0 ? _b : 0) + column.columnWidth;\n            // Round off for pixel grid alignment to work properly.\n            markerLabel.translationX = Math.floor(x);\n            markerLabel.translationY = Math.floor(y);\n        });\n    }\n    updatePageNumber(pageNumber) {\n        const { pages } = this;\n        // Track an item on the page in re-pagination cases (e.g. resize).\n        const { startIndex, endIndex } = pages[pageNumber];\n        if (startIndex === 0) {\n            // Stay on first page on pagination update.\n            this.paginationTrackingIndex = 0;\n        }\n        else if (pageNumber === pages.length - 1) {\n            // Stay on last page on pagination update.\n            this.paginationTrackingIndex = endIndex;\n        }\n        else {\n            // Track the middle item on the page).\n            this.paginationTrackingIndex = Math.floor((startIndex + endIndex) / 2);\n        }\n        this.pagination.update();\n        this.pagination.updateMarkers();\n        this.updatePositions(pageNumber);\n        this.ctx.updateService.update(ChartUpdateType.SCENE_RENDER);\n    }\n    update() {\n        const { marker: { strokeWidth }, label: { color }, } = this.item;\n        this.itemSelection.each((markerLabel, datum) => {\n            const marker = datum.marker;\n            markerLabel.markerFill = marker.fill;\n            markerLabel.markerStroke = marker.stroke;\n            markerLabel.markerStrokeWidth = strokeWidth;\n            markerLabel.markerFillOpacity = marker.fillOpacity;\n            markerLabel.markerStrokeOpacity = marker.strokeOpacity;\n            markerLabel.opacity = datum.enabled ? 1 : 0.5;\n            markerLabel.color = color;\n        });\n    }\n    getDatumForPoint(x, y) {\n        const visibleChildBBoxes = [];\n        const closestLeftTop = { dist: Infinity, datum: undefined };\n        for (const child of this.group.children) {\n            if (!child.visible)\n                continue;\n            if (!(child instanceof MarkerLabel))\n                continue;\n            const childBBox = child.computeBBox();\n            childBBox.grow(this.item.paddingX / 2, 'horizontal');\n            childBBox.grow(this.item.paddingY / 2, 'vertical');\n            if (childBBox.containsPoint(x, y)) {\n                return child.datum;\n            }\n            const distX = x - childBBox.x - this.item.paddingX / 2;\n            const distY = y - childBBox.y - this.item.paddingY / 2;\n            const dist = Math.pow(distX, 2) + Math.pow(distY, 2);\n            const toTheLeftTop = distX >= 0 && distY >= 0;\n            if (toTheLeftTop && dist < closestLeftTop.dist) {\n                closestLeftTop.dist = dist;\n                closestLeftTop.datum = child.datum;\n            }\n            visibleChildBBoxes.push(childBBox);\n        }\n        const pageBBox = BBox.merge(visibleChildBBoxes);\n        if (!pageBBox.containsPoint(x, y)) {\n            // We're not in-between legend items.\n            return undefined;\n        }\n        // Fallback to returning closest match to the left/up.\n        return closestLeftTop.datum;\n    }\n    computeBBox() {\n        return this.group.computeBBox();\n    }\n    computePagedBBox() {\n        const actualBBox = this.group.computeBBox();\n        if (this.pages.length <= 1) {\n            return actualBBox;\n        }\n        const [maxPageWidth, maxPageHeight] = this.maxPageSize;\n        actualBBox.height = Math.max(maxPageHeight, actualBBox.height);\n        actualBBox.width = Math.max(maxPageWidth, actualBBox.width);\n        return actualBBox;\n    }\n    checkLegendClick(event) {\n        const { listeners: { legendItemClick }, ctx: { dataService, highlightManager }, item: { toggleSeriesVisible }, } = this;\n        const { offsetX, offsetY } = event;\n        const legendBBox = this.computeBBox();\n        const pointerInsideLegend = this.group.visible && legendBBox.containsPoint(offsetX, offsetY);\n        const datum = this.getDatumForPoint(offsetX, offsetY);\n        if (!pointerInsideLegend || !datum) {\n            return;\n        }\n        const { id, itemId, enabled } = datum;\n        const chartSeries = dataService.getSeries();\n        const series = chartSeries.find((s) => s.id === id);\n        if (!series) {\n            return;\n        }\n        event.consume();\n        let newEnabled = enabled;\n        if (toggleSeriesVisible) {\n            newEnabled = !enabled;\n            this.ctx.chartEventManager.legendItemClick(series, itemId, newEnabled);\n        }\n        if (!newEnabled) {\n            highlightManager.updateHighlight(this.id);\n        }\n        else {\n            highlightManager.updateHighlight(this.id, {\n                series,\n                itemId,\n                datum: undefined,\n            });\n        }\n        this.ctx.updateService.update(ChartUpdateType.PROCESS_DATA, { forceNodeDataRefresh: true });\n        legendItemClick === null || legendItemClick === void 0 ? void 0 : legendItemClick({ type: 'click', enabled: newEnabled, itemId, seriesId: series.id });\n    }\n    checkLegendDoubleClick(event) {\n        var _a;\n        const { listeners: { legendItemDoubleClick }, ctx: { dataService }, item: { toggleSeriesVisible }, } = this;\n        const { offsetX, offsetY } = event;\n        // Integrated charts do not handle double click behaviour correctly due to multiple instances of the\n        // chart being created. See https://ag-grid.atlassian.net/browse/RTI-1381\n        if (this.ctx.mode === 'integrated') {\n            return;\n        }\n        const legendBBox = this.computeBBox();\n        const pointerInsideLegend = this.group.visible && legendBBox.containsPoint(offsetX, offsetY);\n        const datum = this.getDatumForPoint(offsetX, offsetY);\n        if (!pointerInsideLegend || !datum) {\n            return;\n        }\n        const { id, itemId, seriesId } = datum;\n        const chartSeries = dataService.getSeries();\n        const series = chartSeries.find((s) => s.id === id);\n        if (!series) {\n            return;\n        }\n        event.consume();\n        if (toggleSeriesVisible) {\n            const legendData = chartSeries.reduce((ls, s) => [\n                ...ls,\n                ...s.getLegendData().filter((d) => d.legendType === 'category'),\n            ], []);\n            const numVisibleItems = {};\n            legendData.forEach((d) => {\n                var _a;\n                var _b;\n                (_a = numVisibleItems[_b = d.seriesId]) !== null && _a !== void 0 ? _a : (numVisibleItems[_b] = 0);\n                if (d.enabled)\n                    numVisibleItems[d.seriesId]++;\n            });\n            const clickedItem = legendData.find((d) => d.itemId === itemId && d.seriesId === seriesId);\n            this.ctx.chartEventManager.legendItemDoubleClick(series, itemId, (_a = clickedItem === null || clickedItem === void 0 ? void 0 : clickedItem.enabled) !== null && _a !== void 0 ? _a : false, numVisibleItems);\n        }\n        this.ctx.updateService.update(ChartUpdateType.PROCESS_DATA, { forceNodeDataRefresh: true });\n        legendItemDoubleClick === null || legendItemDoubleClick === void 0 ? void 0 : legendItemDoubleClick({ type: 'dblclick', enabled: true, itemId, seriesId: series.id });\n    }\n    handleLegendMouseMove(event) {\n        var _a;\n        const { enabled, item: { toggleSeriesVisible }, listeners, } = this;\n        if (!enabled) {\n            return;\n        }\n        const legendBBox = this.computeBBox();\n        const { pageX, pageY, offsetX, offsetY } = event;\n        const pointerInsideLegend = this.group.visible && legendBBox.containsPoint(offsetX, offsetY);\n        if (!pointerInsideLegend) {\n            this.ctx.cursorManager.updateCursor(this.id);\n            this.ctx.highlightManager.updateHighlight(this.id);\n            this.ctx.tooltipManager.removeTooltip(this.id);\n            return;\n        }\n        // Prevent other handlers from consuming this event if it's generated inside the legend\n        // boundaries.\n        event.consume();\n        const datum = this.getDatumForPoint(offsetX, offsetY);\n        const pointerOverLegendDatum = pointerInsideLegend && datum !== undefined;\n        if (!pointerOverLegendDatum) {\n            this.ctx.cursorManager.updateCursor(this.id);\n            this.ctx.highlightManager.updateHighlight(this.id);\n            return;\n        }\n        const series = datum ? this.ctx.dataService.getSeries().find((series) => series.id === (datum === null || datum === void 0 ? void 0 : datum.id)) : undefined;\n        if (datum && this.truncatedItems.has((_a = datum.itemId) !== null && _a !== void 0 ? _a : datum.id)) {\n            const labelText = this.getItemLabel(datum);\n            this.ctx.tooltipManager.updateTooltip(this.id, { pageX, pageY, offsetX, offsetY, event, showArrow: false }, toTooltipHtml({ content: labelText }));\n        }\n        else {\n            this.ctx.tooltipManager.removeTooltip(this.id);\n        }\n        if (toggleSeriesVisible || listeners.legendItemClick != null || listeners.legendItemDoubleClick != null) {\n            this.ctx.cursorManager.updateCursor(this.id, 'pointer');\n        }\n        if ((datum === null || datum === void 0 ? void 0 : datum.enabled) && series) {\n            this.ctx.highlightManager.updateHighlight(this.id, {\n                series,\n                itemId: datum === null || datum === void 0 ? void 0 : datum.itemId,\n                datum: undefined,\n            });\n        }\n        else {\n            this.ctx.highlightManager.updateHighlight(this.id);\n        }\n    }\n    positionLegend(shrinkRect) {\n        const newShrinkRect = shrinkRect.clone();\n        if (!this.enabled || !this.data.length) {\n            return { shrinkRect: newShrinkRect };\n        }\n        const [legendWidth, legendHeight] = this.calculateLegendDimensions(shrinkRect);\n        this.group.translationX = 0;\n        this.group.translationY = 0;\n        this.performLayout(legendWidth, legendHeight);\n        const legendBBox = this.computePagedBBox();\n        const calculateTranslationPerpendicularDimension = () => {\n            switch (this.position) {\n                case 'top':\n                    return 0;\n                case 'bottom':\n                    return shrinkRect.height - legendBBox.height;\n                case 'left':\n                    return 0;\n                case 'right':\n                default:\n                    return shrinkRect.width - legendBBox.width;\n            }\n        };\n        if (this.visible) {\n            let translationX;\n            let translationY;\n            switch (this.position) {\n                case 'top':\n                case 'bottom':\n                    translationX = (shrinkRect.width - legendBBox.width) / 2;\n                    translationY = calculateTranslationPerpendicularDimension();\n                    newShrinkRect.shrink(legendBBox.height, this.position);\n                    break;\n                case 'left':\n                case 'right':\n                default:\n                    translationX = calculateTranslationPerpendicularDimension();\n                    translationY = (shrinkRect.height - legendBBox.height) / 2;\n                    newShrinkRect.shrink(legendBBox.width, this.position);\n            }\n            // Round off for pixel grid alignment to work properly.\n            this.group.translationX = Math.floor(-legendBBox.x + shrinkRect.x + translationX);\n            this.group.translationY = Math.floor(-legendBBox.y + shrinkRect.y + translationY);\n        }\n        if (this.visible && this.enabled && this.data.length) {\n            const legendPadding = this.spacing;\n            newShrinkRect.shrink(legendPadding, this.position);\n            const legendPositionedBBox = legendBBox.clone();\n            legendPositionedBBox.x += this.group.translationX;\n            legendPositionedBBox.y += this.group.translationY;\n            this.ctx.tooltipManager.updateExclusiveRect(this.id, legendPositionedBBox);\n        }\n        else {\n            this.ctx.tooltipManager.updateExclusiveRect(this.id);\n        }\n        return { shrinkRect: newShrinkRect };\n    }\n    calculateLegendDimensions(shrinkRect) {\n        const { width, height } = shrinkRect;\n        const aspectRatio = width / height;\n        const maxCoefficient = 0.5;\n        const minHeightCoefficient = 0.2;\n        const minWidthCoefficient = 0.25;\n        let legendWidth = 0;\n        let legendHeight = 0;\n        switch (this.position) {\n            case 'top':\n            case 'bottom':\n                // A horizontal legend should take maximum between 20 to 50 percent of the chart height if height is larger than width\n                // and maximum 20 percent of the chart height if height is smaller than width.\n                const heightCoefficient = aspectRatio < 1\n                    ? Math.min(maxCoefficient, minHeightCoefficient * (1 / aspectRatio))\n                    : minHeightCoefficient;\n                legendWidth = this.maxWidth ? Math.min(this.maxWidth, width) : width;\n                legendHeight = this.maxHeight\n                    ? Math.min(this.maxHeight, height)\n                    : Math.round(height * heightCoefficient);\n                break;\n            case 'left':\n            case 'right':\n            default:\n                // A vertical legend should take maximum between 25 to 50 percent of the chart width if width is larger than height\n                // and maximum 25 percent of the chart width if width is smaller than height.\n                const widthCoefficient = aspectRatio > 1 ? Math.min(maxCoefficient, minWidthCoefficient * aspectRatio) : minWidthCoefficient;\n                legendWidth = this.maxWidth ? Math.min(this.maxWidth, width) : Math.round(width * widthCoefficient);\n                legendHeight = this.maxHeight ? Math.min(this.maxHeight, height) : height;\n        }\n        return [legendWidth, legendHeight];\n    }\n}\nLegend.className = 'Legend';\n__decorate([\n    Validate(BOOLEAN)\n], Legend.prototype, \"_enabled\", void 0);\n__decorate([\n    Validate(POSITION)\n], Legend.prototype, \"position\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0))\n], Legend.prototype, \"maxWidth\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0))\n], Legend.prototype, \"maxHeight\", void 0);\n__decorate([\n    Validate(OPT_BOOLEAN)\n], Legend.prototype, \"reverseOrder\", void 0);\n__decorate([\n    Validate(OPT_ORIENTATION)\n], Legend.prototype, \"orientation\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], Legend.prototype, \"spacing\", void 0);\n","import { Legend } from '../legend.mjs';\nconst LEGEND_FACTORIES = {\n    category: Legend,\n};\nexport function registerLegend(type, ctr) {\n    if (LEGEND_FACTORIES[type]) {\n        throw new Error(`AG Charts - already registered legend type: ${type}`);\n    }\n    LEGEND_FACTORIES[type] = ctr;\n}\nexport function getLegend(type, ctx) {\n    if (LEGEND_FACTORIES[type]) {\n        return new LEGEND_FACTORIES[type](ctx);\n    }\n    throw new Error(`AG Charts - unknown legend type: ${type}`);\n}\n","import { Logger } from './logger.mjs';\nexport class CallbackCache {\n    constructor() {\n        this.cache = new Map();\n    }\n    call(f, ...params) {\n        let serialisedParams;\n        let paramCache = this.cache.get(f);\n        const invoke = () => {\n            try {\n                const result = f(...params);\n                if (paramCache && serialisedParams != null) {\n                    paramCache.set(serialisedParams, result);\n                }\n                return result;\n            }\n            catch (e) {\n                Logger.warnOnce(`User callback errored, ignoring`, e);\n                return undefined;\n            }\n        };\n        try {\n            serialisedParams = JSON.stringify(params);\n        }\n        catch (e) {\n            // Unable to serialise params!\n            // No caching possible.\n            return invoke();\n        }\n        if (paramCache == null) {\n            paramCache = new Map();\n            this.cache.set(f, paramCache);\n        }\n        if (!paramCache.has(serialisedParams)) {\n            return invoke();\n        }\n        return paramCache.get(serialisedParams);\n    }\n    invalidateCache() {\n        this.cache = new Map();\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Scene } from '../scene/scene.mjs';\nimport { Group } from '../scene/group.mjs';\nimport { Text } from '../scene/shape/text.mjs';\nimport { SeriesNodePickMode } from './series/series.mjs';\nimport { Padding } from '../util/padding.mjs';\nimport { BBox } from '../scene/bbox.mjs';\nimport { SizeMonitor } from '../util/sizeMonitor.mjs';\nimport { Observable } from '../util/observable.mjs';\nimport { ChartAxisDirection } from './chartAxisDirection.mjs';\nimport { createId } from '../util/id.mjs';\nimport { isPointLabelDatum, placeLabels } from '../util/labelPlacement.mjs';\nimport { debouncedAnimationFrame, debouncedCallback } from '../util/render.mjs';\nimport { CartesianSeries } from './series/cartesian/cartesianSeries.mjs';\nimport { BOOLEAN, STRING_UNION, Validate } from '../util/validation.mjs';\nimport { sleep } from '../util/async.mjs';\nimport { Tooltip } from './tooltip/tooltip.mjs';\nimport { ChartOverlays } from './overlay/chartOverlays.mjs';\nimport { jsonMerge } from '../util/json.mjs';\nimport { Layers } from './layers.mjs';\nimport { AnimationManager } from './interaction/animationManager.mjs';\nimport { CursorManager } from './interaction/cursorManager.mjs';\nimport { ChartEventManager } from './interaction/chartEventManager.mjs';\nimport { HighlightManager } from './interaction/highlightManager.mjs';\nimport { InteractionManager } from './interaction/interactionManager.mjs';\nimport { TooltipManager } from './interaction/tooltipManager.mjs';\nimport { ZoomManager } from './interaction/zoomManager.mjs';\nimport { LayoutService } from './layout/layoutService.mjs';\nimport { DataService } from './dataService.mjs';\nimport { UpdateService } from './updateService.mjs';\nimport { ChartUpdateType } from './chartUpdateType.mjs';\nimport { Logger } from '../util/logger.mjs';\nimport { ActionOnSet } from '../util/proxy.mjs';\nimport { ChartHighlight } from './chartHighlight.mjs';\nimport { getLegend } from './factory/legendTypes.mjs';\nimport { CallbackCache } from '../util/callbackCache.mjs';\nexport class Chart extends Observable {\n    constructor(document = window.document, overrideDevicePixelRatio, resources) {\n        var _a;\n        super();\n        this.id = createId(this);\n        this.processedOptions = {};\n        this.userOptions = {};\n        this.queuedUserOptions = [];\n        this.seriesRoot = new Group({ name: `${this.id}-Series-root` });\n        this.extraDebugStats = {};\n        this._container = undefined;\n        this.data = [];\n        this.padding = new Padding(20);\n        this.seriesAreaPadding = new Padding(0);\n        this.title = undefined;\n        this.subtitle = undefined;\n        this.footnote = undefined;\n        this.mode = 'standalone';\n        this._destroyed = false;\n        this.modules = {};\n        this.legendModules = {};\n        this._pendingFactoryUpdates = [];\n        this._performUpdateNoRenderCount = 0;\n        this._performUpdateType = ChartUpdateType.NONE;\n        this.seriesToUpdate = new Set();\n        this.performUpdateTrigger = debouncedCallback(({ count }) => __awaiter(this, void 0, void 0, function* () {\n            if (this._destroyed)\n                return;\n            try {\n                yield this.performUpdate(count);\n            }\n            catch (error) {\n                this._lastPerformUpdateError = error;\n                Logger.error('update error', error);\n            }\n        }));\n        this._axes = [];\n        this._series = [];\n        this.applyLegendOptions = undefined;\n        this.lastInteractionEvent = undefined;\n        this.pointerScheduler = debouncedAnimationFrame(() => {\n            if (this.lastInteractionEvent) {\n                this.handlePointer(this.lastInteractionEvent);\n            }\n            this.lastInteractionEvent = undefined;\n        });\n        this.onSeriesNodeClick = (event) => {\n            const seriesNodeClickEvent = Object.assign(Object.assign({}, event), { type: 'seriesNodeClick' });\n            Object.defineProperty(seriesNodeClickEvent, 'series', {\n                enumerable: false,\n                // Should display the deprecation warning\n                get: () => event.series,\n            });\n            this.fireEvent(seriesNodeClickEvent);\n        };\n        this.onSeriesNodeDoubleClick = (event) => {\n            const seriesNodeDoubleClick = Object.assign(Object.assign({}, event), { type: 'seriesNodeDoubleClick' });\n            this.fireEvent(seriesNodeDoubleClick);\n        };\n        const scene = resources === null || resources === void 0 ? void 0 : resources.scene;\n        const element = (_a = resources === null || resources === void 0 ? void 0 : resources.element) !== null && _a !== void 0 ? _a : document.createElement('div');\n        const container = resources === null || resources === void 0 ? void 0 : resources.container;\n        const root = new Group({ name: 'root' });\n        // Prevent the scene from rendering chart components in an invalid state\n        // (before first layout is performed).\n        root.visible = false;\n        root.append(this.seriesRoot);\n        this.axisGroup = new Group({ name: 'Axes', layer: true, zIndex: Layers.AXIS_ZINDEX });\n        root.appendChild(this.axisGroup);\n        this.element = element;\n        element.classList.add('ag-chart-wrapper');\n        element.style.position = 'relative';\n        this.scene = scene !== null && scene !== void 0 ? scene : new Scene({ document, overrideDevicePixelRatio });\n        this.debug = false;\n        this.scene.debug.consoleLog = false;\n        this.scene.root = root;\n        this.scene.container = element;\n        this.autoSize = true;\n        this.chartEventManager = new ChartEventManager();\n        this.cursorManager = new CursorManager(element);\n        this.highlightManager = new HighlightManager();\n        this.interactionManager = new InteractionManager(element);\n        this.zoomManager = new ZoomManager();\n        this.dataService = new DataService(() => this.series);\n        this.layoutService = new LayoutService();\n        this.updateService = new UpdateService((type = ChartUpdateType.FULL, { forceNodeDataRefresh }) => this.update(type, { forceNodeDataRefresh }));\n        this.callbackCache = new CallbackCache();\n        this.animationManager = new AnimationManager(this.interactionManager);\n        this.animationManager.skipAnimations = true;\n        this.animationManager.play();\n        this.tooltip = new Tooltip(this.scene.canvas.element, document, document.body);\n        this.tooltipManager = new TooltipManager(this.tooltip, this.interactionManager);\n        this.overlays = new ChartOverlays(this.element);\n        this.highlight = new ChartHighlight();\n        this.container = container;\n        SizeMonitor.observe(this.element, (size) => {\n            var _a;\n            const { width, height } = size;\n            if (!this.autoSize) {\n                return;\n            }\n            if (width === 0 && height === 0) {\n                return;\n            }\n            const [autoWidth = 0, authHeight = 0] = (_a = this._lastAutoSize) !== null && _a !== void 0 ? _a : [];\n            if (autoWidth === width && authHeight === height) {\n                return;\n            }\n            this._lastAutoSize = [width, height];\n            this.resize();\n        });\n        this.layoutService.addListener('start-layout', (e) => this.positionPadding(e.shrinkRect));\n        this.layoutService.addListener('start-layout', (e) => this.positionCaptions(e.shrinkRect));\n        // Add interaction listeners last so child components are registered first.\n        this.interactionManager.addListener('click', (event) => this.onClick(event));\n        this.interactionManager.addListener('dblclick', (event) => this.onDoubleClick(event));\n        this.interactionManager.addListener('hover', (event) => this.onMouseMove(event));\n        this.interactionManager.addListener('leave', (event) => this.onLeave(event));\n        this.interactionManager.addListener('page-left', () => this.destroy());\n        this.interactionManager.addListener('wheel', () => this.disablePointer());\n        this.animationManager.addListener('animation-frame', (_) => {\n            this.update(ChartUpdateType.SCENE_RENDER);\n        });\n        this.highlightManager.addListener('highlight-change', (event) => this.changeHighlightDatum(event));\n        this.zoomManager.addListener('zoom-change', (_) => this.update(ChartUpdateType.PROCESS_DATA, { forceNodeDataRefresh: true }));\n        this.attachLegend('category');\n    }\n    getOptions() {\n        var _a;\n        const { queuedUserOptions } = this;\n        const lastUpdateOptions = (_a = queuedUserOptions[queuedUserOptions.length - 1]) !== null && _a !== void 0 ? _a : this.userOptions;\n        return jsonMerge([lastUpdateOptions]);\n    }\n    set container(value) {\n        if (this._container !== value) {\n            const { parentNode } = this.element;\n            if (parentNode != null) {\n                parentNode.removeChild(this.element);\n            }\n            if (value && !this.destroyed) {\n                value.appendChild(this.element);\n            }\n            this._container = value;\n        }\n    }\n    get container() {\n        return this._container;\n    }\n    autoSizeChanged(value) {\n        const { style } = this.element;\n        if (value) {\n            style.display = 'block';\n            style.width = '100%';\n            style.height = '100%';\n            if (!this._lastAutoSize) {\n                return;\n            }\n            this.resize();\n        }\n        else {\n            style.display = 'inline-block';\n            style.width = 'auto';\n            style.height = 'auto';\n        }\n    }\n    download(fileName, fileFormat) {\n        this.scene.download(fileName, fileFormat);\n    }\n    get destroyed() {\n        return this._destroyed;\n    }\n    addModule(module) {\n        if (this.modules[module.optionsKey] != null) {\n            throw new Error('AG Charts - module already initialised: ' + module.optionsKey);\n        }\n        const moduleInstance = new module.instanceConstructor(this.getModuleContext());\n        this.modules[module.optionsKey] = { instance: moduleInstance };\n        this[module.optionsKey] = moduleInstance;\n    }\n    removeModule(module) {\n        var _a, _b;\n        (_b = (_a = this.modules[module.optionsKey]) === null || _a === void 0 ? void 0 : _a.instance) === null || _b === void 0 ? void 0 : _b.destroy();\n        delete this.modules[module.optionsKey];\n        delete this[module.optionsKey];\n    }\n    isModuleEnabled(module) {\n        return this.modules[module.optionsKey] != null;\n    }\n    getModuleContext() {\n        const { scene, animationManager, chartEventManager, cursorManager, highlightManager, interactionManager, tooltipManager, zoomManager, dataService, layoutService, updateService, mode, callbackCache, } = this;\n        return {\n            scene,\n            animationManager,\n            chartEventManager,\n            cursorManager,\n            highlightManager,\n            interactionManager,\n            tooltipManager,\n            zoomManager,\n            dataService,\n            layoutService,\n            updateService,\n            mode,\n            callbackCache,\n        };\n    }\n    destroy(opts) {\n        var _a;\n        if (this._destroyed) {\n            return;\n        }\n        const keepTransferableResources = opts === null || opts === void 0 ? void 0 : opts.keepTransferableResources;\n        let result = undefined;\n        this._performUpdateType = ChartUpdateType.NONE;\n        this._pendingFactoryUpdates.splice(0);\n        this.tooltipManager.destroy();\n        this.tooltip.destroy();\n        (_a = this.legend) === null || _a === void 0 ? void 0 : _a.destroy();\n        this.overlays.noData.hide();\n        SizeMonitor.unobserve(this.element);\n        for (const [key, module] of Object.entries(this.modules)) {\n            module.instance.destroy();\n            delete this.modules[key];\n            delete this[key];\n        }\n        this.interactionManager.destroy();\n        if (keepTransferableResources) {\n            this.scene.strip();\n            result = { container: this.container, scene: this.scene, element: this.element };\n        }\n        else {\n            this.scene.destroy();\n            this.container = undefined;\n        }\n        this.series.forEach((s) => s.destroy());\n        this.series = [];\n        this.axes.forEach((a) => a.destroy());\n        this.axes = [];\n        this.callbackCache.invalidateCache();\n        this._destroyed = true;\n        return result;\n    }\n    log(opts) {\n        if (this.debug) {\n            Logger.debug(opts);\n        }\n    }\n    disablePointer(highlightOnly = false) {\n        if (!highlightOnly) {\n            this.tooltipManager.removeTooltip(this.id);\n        }\n        this.highlightManager.updateHighlight(this.id);\n        if (this.lastInteractionEvent) {\n            this.lastInteractionEvent = undefined;\n        }\n    }\n    requestFactoryUpdate(cb) {\n        const callbacks = this._pendingFactoryUpdates;\n        const count = callbacks.length;\n        if (count === 0) {\n            callbacks.push(cb);\n            this._processCallbacks().catch((e) => Logger.errorOnce(e));\n        }\n        else {\n            // Factory callback process already running, the callback will be invoked asynchronously.\n            // Clear the queue after the first callback to prevent unnecessary re-renderings.\n            callbacks.splice(1, count - 1, cb);\n        }\n    }\n    _processCallbacks() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const callbacks = this._pendingFactoryUpdates;\n            while (callbacks.length > 0) {\n                if (this.updatePending) {\n                    yield sleep(1);\n                    continue; // Make sure to check queue has an item before continuing.\n                }\n                try {\n                    yield callbacks[0]();\n                    this.callbackCache.invalidateCache();\n                }\n                catch (e) {\n                    Logger.error('update error', e);\n                }\n                callbacks.shift();\n            }\n        });\n    }\n    get performUpdateType() {\n        return this._performUpdateType;\n    }\n    get updatePending() {\n        return this._performUpdateType !== ChartUpdateType.NONE || this.lastInteractionEvent != null;\n    }\n    get lastPerformUpdateError() {\n        return this._lastPerformUpdateError;\n    }\n    awaitUpdateCompletion() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.performUpdateTrigger.await();\n        });\n    }\n    update(type = ChartUpdateType.FULL, opts) {\n        const { forceNodeDataRefresh = false, seriesToUpdate = this.series } = opts !== null && opts !== void 0 ? opts : {};\n        if (forceNodeDataRefresh) {\n            this.series.forEach((series) => series.markNodeDataDirty());\n        }\n        for (const series of seriesToUpdate) {\n            this.seriesToUpdate.add(series);\n        }\n        if (type < this._performUpdateType) {\n            this._performUpdateType = type;\n            this.performUpdateTrigger.schedule();\n        }\n    }\n    performUpdate(count) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const { _performUpdateType: performUpdateType, extraDebugStats } = this;\n            const splits = [performance.now()];\n            switch (performUpdateType) {\n                case ChartUpdateType.FULL:\n                case ChartUpdateType.PROCESS_DATA:\n                    yield this.processData();\n                    this.disablePointer(true);\n                    splits.push(performance.now());\n                // eslint-disable-next-line no-fallthrough\n                case ChartUpdateType.PERFORM_LAYOUT:\n                    if (this.autoSize && !this._lastAutoSize) {\n                        const count = this._performUpdateNoRenderCount++;\n                        if (count < 5) {\n                            // Reschedule if canvas size hasn't been set yet to avoid a race.\n                            this._performUpdateType = ChartUpdateType.PERFORM_LAYOUT;\n                            this.performUpdateTrigger.schedule();\n                            break;\n                        }\n                        // After several failed passes, continue and accept there maybe a redundant\n                        // render. Sometimes this case happens when we already have the correct\n                        // width/height, and we end up never rendering the chart in that scenario.\n                    }\n                    this._performUpdateNoRenderCount = 0;\n                    yield this.performLayout();\n                    this.handleOverlays();\n                    splits.push(performance.now());\n                // eslint-disable-next-line no-fallthrough\n                case ChartUpdateType.SERIES_UPDATE:\n                    const { seriesRect } = this;\n                    const seriesUpdates = [...this.seriesToUpdate].map((series) => series.update({ seriesRect }));\n                    this.seriesToUpdate.clear();\n                    yield Promise.all(seriesUpdates);\n                    splits.push(performance.now());\n                // eslint-disable-next-line no-fallthrough\n                case ChartUpdateType.TOOLTIP_RECALCULATION:\n                    const tooltipMeta = this.tooltipManager.getTooltipMeta(this.id);\n                    if (performUpdateType < ChartUpdateType.SERIES_UPDATE && ((_a = tooltipMeta === null || tooltipMeta === void 0 ? void 0 : tooltipMeta.event) === null || _a === void 0 ? void 0 : _a.type) === 'hover') {\n                        this.handlePointer(tooltipMeta.event);\n                    }\n                // eslint-disable-next-line no-fallthrough\n                case ChartUpdateType.SCENE_RENDER:\n                    yield this.scene.render({ debugSplitTimes: splits, extraDebugStats });\n                    this.extraDebugStats = {};\n                // eslint-disable-next-line no-fallthrough\n                case ChartUpdateType.NONE:\n                    // Do nothing.\n                    this._performUpdateType = ChartUpdateType.NONE;\n            }\n            const end = performance.now();\n            this.log({\n                chart: this,\n                durationMs: Math.round((end - splits[0]) * 100) / 100,\n                count,\n                performUpdateType: ChartUpdateType[performUpdateType],\n            });\n        });\n    }\n    set axes(values) {\n        const removedAxes = new Set();\n        this._axes.forEach((axis) => {\n            axis.detachAxis(this.axisGroup);\n            removedAxes.add(axis);\n        });\n        // make linked axes go after the regular ones (simulates stable sort by `linkedTo` property)\n        this._axes = values.filter((a) => !a.linkedTo).concat(values.filter((a) => a.linkedTo));\n        this._axes.forEach((axis) => {\n            axis.attachAxis(this.axisGroup);\n            removedAxes.delete(axis);\n        });\n        removedAxes.forEach((axis) => axis.destroy());\n    }\n    get axes() {\n        return this._axes;\n    }\n    set series(values) {\n        this.removeAllSeries();\n        values.forEach((series) => this.addSeries(series));\n    }\n    get series() {\n        return this._series;\n    }\n    addSeries(series, before) {\n        const { series: allSeries, seriesRoot } = this;\n        const canAdd = allSeries.indexOf(series) < 0;\n        if (canAdd) {\n            const beforeIndex = before ? allSeries.indexOf(before) : -1;\n            if (beforeIndex >= 0) {\n                allSeries.splice(beforeIndex, 0, series);\n                seriesRoot.insertBefore(series.rootGroup, before.rootGroup);\n            }\n            else {\n                allSeries.push(series);\n                seriesRoot.append(series.rootGroup);\n            }\n            this.initSeries(series);\n            return true;\n        }\n        return false;\n    }\n    initSeries(series) {\n        series.chart = this;\n        series.highlightManager = this.highlightManager;\n        series.animationManager = this.animationManager;\n        if (!series.data) {\n            series.data = this.data;\n        }\n        this.addSeriesListeners(series);\n        series.chartEventManager = this.chartEventManager;\n        series.addChartEventListeners();\n    }\n    freeSeries(series) {\n        series.chart = undefined;\n        series.removeEventListener('nodeClick', this.onSeriesNodeClick);\n        series.removeEventListener('nodeDoubleClick', this.onSeriesNodeDoubleClick);\n    }\n    removeAllSeries() {\n        this.series.forEach((series) => {\n            this.freeSeries(series);\n            this.seriesRoot.removeChild(series.rootGroup);\n        });\n        this._series = []; // using `_series` instead of `series` to prevent infinite recursion\n    }\n    addSeriesListeners(series) {\n        if (this.hasEventListener('seriesNodeClick')) {\n            series.addEventListener('nodeClick', this.onSeriesNodeClick);\n        }\n        if (this.hasEventListener('seriesNodeDoubleClick')) {\n            series.addEventListener('nodeDoubleClick', this.onSeriesNodeDoubleClick);\n        }\n    }\n    updateAllSeriesListeners() {\n        this.series.forEach((series) => {\n            series.removeEventListener('nodeClick', this.onSeriesNodeClick);\n            series.removeEventListener('nodeDoubleClick', this.onSeriesNodeDoubleClick);\n            this.addSeriesListeners(series);\n        });\n    }\n    assignSeriesToAxes() {\n        this.axes.forEach((axis) => {\n            axis.boundSeries = this.series.filter((s) => {\n                const seriesAxis = axis.direction === ChartAxisDirection.X ? s.xAxis : s.yAxis;\n                return seriesAxis === axis;\n            });\n        });\n    }\n    assignAxesToSeries(force = false) {\n        // This method has to run before `assignSeriesToAxes`.\n        const directionToAxesMap = {};\n        this.axes.forEach((axis) => {\n            var _a;\n            const direction = axis.direction;\n            const directionAxes = ((_a = directionToAxesMap[direction]) !== null && _a !== void 0 ? _a : (directionToAxesMap[direction] = []));\n            directionAxes.push(axis);\n        });\n        this.series.forEach((series) => {\n            series.directions.forEach((direction) => {\n                const currentAxis = direction === ChartAxisDirection.X ? series.xAxis : series.yAxis;\n                if (currentAxis && !force) {\n                    return;\n                }\n                const directionAxes = directionToAxesMap[direction];\n                if (!directionAxes) {\n                    Logger.warn(`no available axis for direction [${direction}]; check series and axes configuration.`);\n                    return;\n                }\n                const seriesKeys = series.getKeys(direction);\n                const newAxis = this.findMatchingAxis(directionAxes, series.getKeys(direction));\n                if (!newAxis) {\n                    Logger.warn(`no matching axis for direction [${direction}] and keys [${seriesKeys}]; check series and axes configuration.`);\n                    return;\n                }\n                if (direction === ChartAxisDirection.X) {\n                    series.xAxis = newAxis;\n                }\n                else {\n                    series.yAxis = newAxis;\n                }\n            });\n        });\n    }\n    findMatchingAxis(directionAxes, directionKeys) {\n        for (const axis of directionAxes) {\n            const axisKeys = axis.keys;\n            if (!axisKeys.length) {\n                return axis;\n            }\n            if (!directionKeys) {\n                continue;\n            }\n            for (const directionKey of directionKeys) {\n                if (axisKeys.indexOf(directionKey) >= 0) {\n                    return axis;\n                }\n            }\n        }\n    }\n    resize(width, height) {\n        var _a, _b, _c, _d;\n        width !== null && width !== void 0 ? width : (width = (_a = this.width) !== null && _a !== void 0 ? _a : (this.autoSize ? (_b = this._lastAutoSize) === null || _b === void 0 ? void 0 : _b[0] : this.scene.canvas.width));\n        height !== null && height !== void 0 ? height : (height = (_c = this.height) !== null && _c !== void 0 ? _c : (this.autoSize ? (_d = this._lastAutoSize) === null || _d === void 0 ? void 0 : _d[1] : this.scene.canvas.height));\n        if (!width || !height || !Number.isFinite(width) || !Number.isFinite(height))\n            return;\n        if (this.scene.resize(width, height)) {\n            this.disablePointer();\n            this.update(ChartUpdateType.PERFORM_LAYOUT, { forceNodeDataRefresh: true });\n        }\n    }\n    processData() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.axes.length > 0 || this.series.some((s) => s instanceof CartesianSeries)) {\n                this.assignAxesToSeries(true);\n                this.assignSeriesToAxes();\n            }\n            yield Promise.all(this.series.map((s) => s.processData()));\n            yield this.updateLegend();\n        });\n    }\n    placeLabels() {\n        const visibleSeries = [];\n        const data = [];\n        for (const series of this.series) {\n            if (!series.visible) {\n                continue;\n            }\n            const labelData = series.getLabelData();\n            if (!(labelData && isPointLabelDatum(labelData[0]))) {\n                continue;\n            }\n            data.push(labelData);\n            visibleSeries.push(series);\n        }\n        const { seriesRect } = this;\n        const labels = seriesRect && data.length > 0\n            ? placeLabels(data, { x: 0, y: 0, width: seriesRect.width, height: seriesRect.height })\n            : [];\n        return new Map(labels.map((l, i) => [visibleSeries[i], l]));\n    }\n    attachLegend(legendType) {\n        var _a;\n        if (this.legendType === legendType) {\n            return;\n        }\n        (_a = this.legend) === null || _a === void 0 ? void 0 : _a.destroy();\n        this.legend = undefined;\n        const ctx = this.getModuleContext();\n        this.legend = getLegend(legendType, ctx);\n        this.legend.attachLegend(this.scene.root);\n        this.legendType = legendType;\n    }\n    setLegendInit(initLegend) {\n        this.applyLegendOptions = initLegend;\n    }\n    updateLegend() {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const legendData = [];\n            this.series\n                .filter((s) => s.showInLegend)\n                .forEach((series) => {\n                const data = series.getLegendData();\n                legendData.push(...data);\n            });\n            const legendType = legendData.length > 0 ? legendData[0].legendType : 'category';\n            this.attachLegend(legendType);\n            (_a = this.applyLegendOptions) === null || _a === void 0 ? void 0 : _a.call(this, this.legend);\n            if (legendType === 'category') {\n                this.validateLegendData(legendData);\n            }\n            this.legend.data = legendData;\n        });\n    }\n    validateLegendData(legendData) {\n        // Validate each series that shares a legend item label uses the same fill colour\n        const labelMarkerFills = {};\n        legendData.forEach((d) => {\n            var _a, _b, _c;\n            var _d, _e;\n            const seriesType = (_a = this.series.find((s) => s.id === d.seriesId)) === null || _a === void 0 ? void 0 : _a.type;\n            if (!seriesType)\n                return;\n            const dc = d;\n            (_b = labelMarkerFills[seriesType]) !== null && _b !== void 0 ? _b : (labelMarkerFills[seriesType] = { [dc.label.text]: new Set() });\n            (_c = (_d = labelMarkerFills[seriesType])[_e = dc.label.text]) !== null && _c !== void 0 ? _c : (_d[_e] = new Set());\n            if (dc.marker.fill != null) {\n                labelMarkerFills[seriesType][dc.label.text].add(dc.marker.fill);\n            }\n        });\n        Object.keys(labelMarkerFills).forEach((seriesType) => {\n            Object.keys(labelMarkerFills[seriesType]).forEach((name) => {\n                const fills = labelMarkerFills[seriesType][name];\n                if (fills.size > 1) {\n                    Logger.warnOnce(`legend item '${name}' has multiple fill colors, this may cause unexpected behaviour.`);\n                }\n            });\n        });\n    }\n    performLayout() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.scene.root.visible = true;\n            const { scene: { width, height }, } = this;\n            let shrinkRect = new BBox(0, 0, width, height);\n            ({ shrinkRect } = this.layoutService.dispatchPerformLayout('start-layout', { shrinkRect }));\n            ({ shrinkRect } = this.layoutService.dispatchPerformLayout('before-series', { shrinkRect }));\n            return shrinkRect;\n        });\n    }\n    positionPadding(shrinkRect) {\n        const { padding } = this;\n        shrinkRect.shrink(padding.left, 'left');\n        shrinkRect.shrink(padding.top, 'top');\n        shrinkRect.shrink(padding.right, 'right');\n        shrinkRect.shrink(padding.bottom, 'bottom');\n        return { shrinkRect };\n    }\n    positionCaptions(shrinkRect) {\n        var _a;\n        const { title, subtitle, footnote } = this;\n        const newShrinkRect = shrinkRect.clone();\n        const updateCaption = (caption) => {\n            var _a;\n            const defaultCaptionHeight = shrinkRect.height / 10;\n            const captionLineHeight = (_a = caption.lineHeight) !== null && _a !== void 0 ? _a : caption.fontSize * Text.defaultLineHeightRatio;\n            const maxWidth = shrinkRect.width;\n            const maxHeight = Math.max(captionLineHeight, defaultCaptionHeight);\n            caption.computeTextWrap(maxWidth, maxHeight);\n        };\n        const positionTopAndShrinkBBox = (caption) => {\n            var _a;\n            const baseY = newShrinkRect.y;\n            caption.node.x = newShrinkRect.x + newShrinkRect.width / 2;\n            caption.node.y = baseY;\n            caption.node.textBaseline = 'top';\n            updateCaption(caption);\n            const bbox = caption.node.computeBBox();\n            // As the bbox (x,y) ends up at a different location than specified above, we need to\n            // take it into consideration when calculating how much space needs to be reserved to\n            // accommodate the caption.\n            const bboxHeight = Math.ceil(bbox.y - baseY + bbox.height + ((_a = caption.spacing) !== null && _a !== void 0 ? _a : 0));\n            newShrinkRect.shrink(bboxHeight, 'top');\n        };\n        const positionBottomAndShrinkBBox = (caption) => {\n            var _a;\n            const baseY = newShrinkRect.y + newShrinkRect.height;\n            caption.node.x = newShrinkRect.x + newShrinkRect.width / 2;\n            caption.node.y = baseY;\n            caption.node.textBaseline = 'bottom';\n            updateCaption(caption);\n            const bbox = caption.node.computeBBox();\n            const bboxHeight = Math.ceil(baseY - bbox.y + ((_a = caption.spacing) !== null && _a !== void 0 ? _a : 0));\n            newShrinkRect.shrink(bboxHeight, 'bottom');\n        };\n        if (title) {\n            title.node.visible = title.enabled;\n            if (title.node.visible) {\n                positionTopAndShrinkBBox(title);\n            }\n        }\n        if (subtitle) {\n            subtitle.node.visible = (_a = ((title === null || title === void 0 ? void 0 : title.enabled) && subtitle.enabled)) !== null && _a !== void 0 ? _a : false;\n            if (subtitle.node.visible) {\n                positionTopAndShrinkBBox(subtitle);\n            }\n        }\n        if (footnote) {\n            footnote.node.visible = footnote.enabled;\n            if (footnote.node.visible) {\n                positionBottomAndShrinkBBox(footnote);\n            }\n        }\n        return { shrinkRect: newShrinkRect };\n    }\n    getSeriesRect() {\n        return this.seriesRect;\n    }\n    // x/y are local canvas coordinates in CSS pixels, not actual pixels\n    pickSeriesNode(point, exactMatchOnly, maxDistance) {\n        var _a, _b;\n        const start = performance.now();\n        // Disable 'nearest match' options if looking for exact matches only\n        const pickModes = exactMatchOnly ? [SeriesNodePickMode.EXACT_SHAPE_MATCH] : undefined;\n        // Iterate through series in reverse, as later declared series appears on top of earlier\n        // declared series.\n        const reverseSeries = [...this.series].reverse();\n        let result = undefined;\n        for (const series of reverseSeries) {\n            if (!series.visible || !series.rootGroup.visible) {\n                continue;\n            }\n            const { match, distance } = (_a = series.pickNode(point, pickModes)) !== null && _a !== void 0 ? _a : {};\n            if (!match || distance == null) {\n                continue;\n            }\n            if ((!result || result.distance > distance) && distance <= (maxDistance !== null && maxDistance !== void 0 ? maxDistance : Infinity)) {\n                result = { series, distance, datum: match };\n            }\n            if (distance === 0) {\n                break;\n            }\n        }\n        this.extraDebugStats['pickSeriesNode'] = Math.round(((_b = this.extraDebugStats['pickSeriesNode']) !== null && _b !== void 0 ? _b : 0) + (performance.now() - start));\n        return result;\n    }\n    onMouseMove(event) {\n        this.lastInteractionEvent = event;\n        this.pointerScheduler.schedule();\n        this.extraDebugStats['mouseX'] = event.offsetX;\n        this.extraDebugStats['mouseY'] = event.offsetY;\n        this.update(ChartUpdateType.SCENE_RENDER);\n    }\n    onLeave(event) {\n        if (this.tooltip.pointerLeftOntoTooltip(event)) {\n            return;\n        }\n        this.disablePointer();\n    }\n    handlePointer(event) {\n        const { lastPick, hoverRect } = this;\n        const { offsetX, offsetY } = event;\n        const disablePointer = (highlightOnly = false) => {\n            if (lastPick) {\n                // Cursor moved from a non-marker node to empty space.\n                this.disablePointer(highlightOnly);\n            }\n        };\n        if (!(hoverRect === null || hoverRect === void 0 ? void 0 : hoverRect.containsPoint(offsetX, offsetY))) {\n            disablePointer();\n            return;\n        }\n        // Handle node highlighting and tooltip toggling when pointer within `tooltip.range`\n        this.handlePointerTooltip(event, disablePointer);\n        // Handle node highlighting and mouse cursor when pointer withing `series[].nodeClickRange`\n        this.handlePointerNode(event);\n    }\n    handlePointerTooltip(event, disablePointer) {\n        var _a, _b;\n        const { lastPick, tooltip } = this;\n        const { range } = tooltip;\n        const { pageX, pageY, offsetX, offsetY } = event;\n        let pixelRange;\n        if (typeof range === 'number' && Number.isFinite(range)) {\n            pixelRange = range;\n        }\n        const pick = this.pickSeriesNode({ x: offsetX, y: offsetY }, range === 'exact', pixelRange);\n        if (!pick) {\n            this.tooltipManager.updateTooltip(this.id);\n            if (this.highlight.range === 'tooltip')\n                disablePointer(true);\n            return;\n        }\n        const isNewDatum = this.highlight.range === 'node' || !lastPick || lastPick.datum !== pick.datum;\n        let html;\n        if (isNewDatum) {\n            html = pick.series.getTooltipHtml(pick.datum);\n            if (this.highlight.range === 'tooltip') {\n                this.highlightManager.updateHighlight(this.id, pick.datum);\n            }\n        }\n        else if (lastPick) {\n            lastPick.event = event.sourceEvent;\n        }\n        const isPixelRange = pixelRange != null;\n        const tooltipEnabled = this.tooltip.enabled && pick.series.tooltip.enabled;\n        const exactlyMatched = range === 'exact' && pick.distance === 0;\n        const rangeMatched = range === 'nearest' || isPixelRange || exactlyMatched;\n        const shouldUpdateTooltip = tooltipEnabled && rangeMatched && (!isNewDatum || html !== undefined);\n        const position = {\n            xOffset: pick.datum.series.tooltip.position.xOffset,\n            yOffset: pick.datum.series.tooltip.position.yOffset,\n        };\n        const meta = this.mergePointerDatum({ pageX, pageY, offsetX, offsetY, event: event, showArrow: pick.series.tooltip.showArrow, position }, pick.datum);\n        meta.enableInteraction = (_b = (_a = pick.series.tooltip.interaction) === null || _a === void 0 ? void 0 : _a.enabled) !== null && _b !== void 0 ? _b : false;\n        if (shouldUpdateTooltip) {\n            this.tooltipManager.updateTooltip(this.id, meta, html);\n        }\n    }\n    handlePointerNode(event) {\n        const found = this.checkSeriesNodeRange(event, (series, datum) => {\n            if (series.hasEventListener('nodeClick') || series.hasEventListener('nodeDoubleClick')) {\n                this.cursorManager.updateCursor('chart', 'pointer');\n            }\n            if (this.highlight.range === 'node') {\n                this.highlightManager.updateHighlight(this.id, datum);\n            }\n        });\n        if (!found) {\n            this.cursorManager.updateCursor('chart');\n            if (this.highlight.range === 'node') {\n                this.highlightManager.updateHighlight(this.id);\n            }\n        }\n    }\n    onClick(event) {\n        if (this.checkSeriesNodeClick(event)) {\n            this.update(ChartUpdateType.SERIES_UPDATE);\n            return;\n        }\n        this.fireEvent({\n            type: 'click',\n            event: event.sourceEvent,\n        });\n    }\n    onDoubleClick(event) {\n        if (this.checkSeriesNodeDoubleClick(event)) {\n            this.update(ChartUpdateType.SERIES_UPDATE);\n            return;\n        }\n        this.fireEvent({\n            type: 'doubleClick',\n            event: event.sourceEvent,\n        });\n    }\n    checkSeriesNodeClick(event) {\n        return this.checkSeriesNodeRange(event, (series, datum) => series.fireNodeClickEvent(event.sourceEvent, datum));\n    }\n    checkSeriesNodeDoubleClick(event) {\n        return this.checkSeriesNodeRange(event, (series, datum) => series.fireNodeDoubleClickEvent(event.sourceEvent, datum));\n    }\n    checkSeriesNodeRange(event, callback) {\n        const nearestNode = this.pickSeriesNode({ x: event.offsetX, y: event.offsetY }, false);\n        const datum = nearestNode === null || nearestNode === void 0 ? void 0 : nearestNode.datum;\n        const nodeClickRange = datum === null || datum === void 0 ? void 0 : datum.series.nodeClickRange;\n        // First check if we should trigger the callback based on nearest node\n        if (datum && nodeClickRange === 'nearest') {\n            callback(datum.series, datum);\n            return true;\n        }\n        // Then check for an exact match or within the given range\n        let pixelRange;\n        if (typeof nodeClickRange === 'number' && Number.isFinite(nodeClickRange)) {\n            pixelRange = nodeClickRange;\n        }\n        const pick = this.pickSeriesNode({ x: event.offsetX, y: event.offsetY }, nodeClickRange === 'exact', pixelRange);\n        if (!pick)\n            return false;\n        // Then if we've picked a node within the pixel range, or exactly, trigger the callback\n        const isPixelRange = pixelRange != null;\n        const exactlyMatched = nodeClickRange === 'exact' && pick.distance === 0;\n        if (isPixelRange || exactlyMatched) {\n            callback(pick.series, pick.datum);\n            return true;\n        }\n        return false;\n    }\n    mergePointerDatum(meta, datum) {\n        const { type } = datum.series.tooltip.position;\n        if (type === 'node' && datum.nodeMidPoint) {\n            const { x, y } = datum.nodeMidPoint;\n            const { canvas } = this.scene;\n            const point = datum.series.rootGroup.inverseTransformPoint(x, y);\n            const canvasRect = canvas.element.getBoundingClientRect();\n            return Object.assign(Object.assign({}, meta), { pageX: Math.round(canvasRect.left + window.scrollX + point.x), pageY: Math.round(canvasRect.top + window.scrollY + point.y), offsetX: Math.round(point.x), offsetY: Math.round(point.y) });\n        }\n        return meta;\n    }\n    changeHighlightDatum(event) {\n        var _a, _b;\n        const seriesToUpdate = new Set();\n        const { series: newSeries = undefined, datum: newDatum } = (_a = event.currentHighlight) !== null && _a !== void 0 ? _a : {};\n        const { series: lastSeries = undefined, datum: lastDatum } = (_b = event.previousHighlight) !== null && _b !== void 0 ? _b : {};\n        if (lastSeries) {\n            seriesToUpdate.add(lastSeries);\n        }\n        if (newSeries) {\n            seriesToUpdate.add(newSeries);\n        }\n        // Adjust cursor if a specific datum is highlighted, rather than just a series.\n        if ((lastSeries === null || lastSeries === void 0 ? void 0 : lastSeries.cursor) && lastDatum) {\n            this.cursorManager.updateCursor(lastSeries.id);\n        }\n        if ((newSeries === null || newSeries === void 0 ? void 0 : newSeries.cursor) && newDatum) {\n            this.cursorManager.updateCursor(newSeries.id, newSeries.cursor);\n        }\n        this.lastPick = event.currentHighlight ? { datum: event.currentHighlight } : undefined;\n        const updateAll = newSeries == null || lastSeries == null;\n        if (updateAll) {\n            this.update(ChartUpdateType.SERIES_UPDATE);\n        }\n        else {\n            this.update(ChartUpdateType.SERIES_UPDATE, { seriesToUpdate });\n        }\n    }\n    waitForUpdate(timeoutMs = 5000) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const start = performance.now();\n            while (this._pendingFactoryUpdates.length > 0 || this.updatePending) {\n                if (performance.now() - start > timeoutMs) {\n                    throw new Error('waitForUpdate() timeout reached.');\n                }\n                yield sleep(5);\n            }\n            yield this.awaitUpdateCompletion();\n        });\n    }\n    handleOverlays() {\n        this.handleNoDataOverlay();\n    }\n    handleNoDataOverlay() {\n        const shouldDisplayNoDataOverlay = !this.series.some((s) => s.hasData());\n        const rect = this.getSeriesRect();\n        if (shouldDisplayNoDataOverlay && rect) {\n            this.overlays.noData.show(rect);\n        }\n        else {\n            this.overlays.noData.hide();\n        }\n    }\n}\n__decorate([\n    ActionOnSet({\n        newValue(value) {\n            this.scene.debug.consoleLog = value;\n        },\n    })\n], Chart.prototype, \"debug\", void 0);\n__decorate([\n    ActionOnSet({\n        newValue(value) {\n            var _a;\n            (_a = this.series) === null || _a === void 0 ? void 0 : _a.forEach((series) => (series.data = value));\n        },\n    })\n], Chart.prototype, \"data\", void 0);\n__decorate([\n    ActionOnSet({\n        newValue(value) {\n            this.resize(value);\n        },\n    })\n], Chart.prototype, \"width\", void 0);\n__decorate([\n    ActionOnSet({\n        newValue(value) {\n            this.resize(undefined, value);\n        },\n    })\n], Chart.prototype, \"height\", void 0);\n__decorate([\n    ActionOnSet({\n        changeValue(value) {\n            this.autoSizeChanged(value);\n        },\n    }),\n    Validate(BOOLEAN)\n], Chart.prototype, \"autoSize\", void 0);\n__decorate([\n    ActionOnSet({\n        newValue(value) {\n            var _a;\n            (_a = this.scene.root) === null || _a === void 0 ? void 0 : _a.appendChild(value.node);\n        },\n        oldValue(oldValue) {\n            var _a;\n            (_a = this.scene.root) === null || _a === void 0 ? void 0 : _a.removeChild(oldValue.node);\n        },\n    })\n], Chart.prototype, \"title\", void 0);\n__decorate([\n    ActionOnSet({\n        newValue(value) {\n            var _a;\n            (_a = this.scene.root) === null || _a === void 0 ? void 0 : _a.appendChild(value.node);\n        },\n        oldValue(oldValue) {\n            var _a;\n            (_a = this.scene.root) === null || _a === void 0 ? void 0 : _a.removeChild(oldValue.node);\n        },\n    })\n], Chart.prototype, \"subtitle\", void 0);\n__decorate([\n    ActionOnSet({\n        newValue(value) {\n            var _a;\n            (_a = this.scene.root) === null || _a === void 0 ? void 0 : _a.appendChild(value.node);\n        },\n        oldValue(oldValue) {\n            var _a;\n            (_a = this.scene.root) === null || _a === void 0 ? void 0 : _a.removeChild(oldValue.node);\n        },\n    })\n], Chart.prototype, \"footnote\", void 0);\n__decorate([\n    Validate(STRING_UNION('standalone', 'integrated'))\n], Chart.prototype, \"mode\", void 0);\n","/**\n * The tree layout is calculated in abstract x/y coordinates, where the root is at (0, 0)\n * and the tree grows downward from the root.\n */\nclass TreeNode {\n    constructor(label = '', parent, number = 0) {\n        this.x = 0;\n        this.y = 0;\n        this.subtreeLeft = NaN;\n        this.subtreeRight = NaN;\n        this.screenX = 0;\n        this.screenY = 0;\n        this.children = [];\n        this.leafCount = 0;\n        this.prelim = 0;\n        this.mod = 0;\n        this.ancestor = this;\n        this.change = 0;\n        this.shift = 0;\n        this.label = label;\n        // screenX and screenY are meant to be recomputed from (layout) x and y\n        // when the tree is resized (without performing another layout)\n        this.parent = parent;\n        this.depth = parent ? parent.depth + 1 : 0;\n        this.number = number;\n    }\n    getLeftSibling() {\n        return this.number > 0 && this.parent ? this.parent.children[this.number - 1] : undefined;\n    }\n    getLeftmostSibling() {\n        return this.number > 0 && this.parent ? this.parent.children[0] : undefined;\n    }\n    // traverse the left contour of a subtree, return the successor of v on this contour\n    nextLeft() {\n        return this.children ? this.children[0] : this.thread;\n    }\n    // traverse the right contour of a subtree, return the successor of v on this contour\n    nextRight() {\n        return this.children ? this.children[this.children.length - 1] : this.thread;\n    }\n    getSiblings() {\n        return this.parent ? this.parent.children.filter((_, i) => i !== this.number) : [];\n    }\n}\n/**\n * Converts an array of ticks, where each tick has an array of labels, to a label tree.\n * If `pad` is `true`, will ensure that every branch matches the depth of the tree by\n * creating empty labels.\n */\nexport function ticksToTree(ticks, pad = true) {\n    const root = new TreeNode();\n    let depth = 0;\n    if (pad) {\n        ticks.forEach((tick) => (depth = Math.max(depth, tick.labels.length)));\n    }\n    ticks.forEach((tick) => {\n        if (pad) {\n            while (tick.labels.length < depth) {\n                tick.labels.unshift('');\n            }\n        }\n        insertTick(root, tick);\n    });\n    return root;\n}\nfunction insertTick(root, tick) {\n    const pathParts = tick.labels.slice().reverse(); // path elements from root to leaf label\n    const lastPartIndex = pathParts.length - 1;\n    pathParts.forEach((pathPart, partIndex) => {\n        const children = root.children;\n        const existingNode = children.find((child) => child.label === pathPart);\n        const isNotLeaf = partIndex !== lastPartIndex;\n        if (existingNode && isNotLeaf) {\n            // the isNotLeaf check is to allow duplicate leafs\n            root = existingNode;\n        }\n        else {\n            const node = new TreeNode(pathPart, root);\n            node.number = children.length;\n            children.push(node);\n            if (isNotLeaf) {\n                root = node;\n            }\n        }\n    });\n}\n// Shift the subtree.\nfunction moveSubtree(wm, wp, shift) {\n    const subtrees = wp.number - wm.number;\n    const ratio = shift / subtrees;\n    wp.change -= ratio;\n    wp.shift += shift;\n    wm.change += ratio;\n    wp.prelim += shift;\n    wp.mod += shift;\n}\nfunction ancestor(vim, v, defaultAncestor) {\n    return v.getSiblings().indexOf(vim.ancestor) >= 0 ? vim.ancestor : defaultAncestor;\n}\n// Spaces out the children.\nfunction executeShifts(v) {\n    const children = v.children;\n    if (children) {\n        let shift = 0;\n        let change = 0;\n        for (let i = children.length - 1; i >= 0; i--) {\n            const w = children[i];\n            w.prelim += shift;\n            w.mod += shift;\n            change += w.change;\n            shift += w.shift + change;\n        }\n    }\n}\n// Moves current subtree with v as the root if some nodes are conflicting in space.\nfunction apportion(v, defaultAncestor, distance) {\n    const w = v.getLeftSibling();\n    if (w) {\n        let vop = v;\n        let vip = v;\n        let vim = w;\n        let vom = vip.getLeftmostSibling();\n        let sip = vip.mod;\n        let sop = vop.mod;\n        let sim = vim.mod;\n        let som = vom.mod;\n        while (vim.nextRight() && vip.nextLeft()) {\n            vim = vim.nextRight();\n            vip = vip.nextLeft();\n            vom = vom.nextLeft();\n            vop = vop.nextRight();\n            vop.ancestor = v;\n            const shift = vim.prelim + sim - (vip.prelim + sip) + distance;\n            if (shift > 0) {\n                moveSubtree(ancestor(vim, v, defaultAncestor), v, shift);\n                sip += shift;\n                sop += shift;\n            }\n            sim += vim.mod;\n            sip += vip.mod;\n            som += vom.mod;\n            sop += vop.mod;\n        }\n        if (vim.nextRight() && !vop.nextRight()) {\n            vop.thread = vim.nextRight();\n            vop.mod += sim - sop;\n        }\n        else {\n            if (vip.nextLeft() && !vom.nextLeft()) {\n                vom.thread = vip.nextLeft();\n                vom.mod += sip - som;\n            }\n            defaultAncestor = v;\n        }\n    }\n    return defaultAncestor;\n}\n// Compute the preliminary x-coordinate of node and its children (recursively).\nfunction firstWalk(node, distance) {\n    const children = node.children;\n    if (children.length) {\n        let defaultAncestor = children[0];\n        children.forEach((child) => {\n            firstWalk(child, distance);\n            defaultAncestor = apportion(child, defaultAncestor, distance);\n        });\n        executeShifts(node);\n        const midpoint = (children[0].prelim + children[children.length - 1].prelim) / 2;\n        const leftSibling = node.getLeftSibling();\n        if (leftSibling) {\n            node.prelim = leftSibling.prelim + distance;\n            node.mod = node.prelim - midpoint;\n        }\n        else {\n            node.prelim = midpoint;\n        }\n    }\n    else {\n        const leftSibling = node.getLeftSibling();\n        node.prelim = leftSibling ? leftSibling.prelim + distance : 0;\n    }\n}\nclass Dimensions {\n    constructor() {\n        this.top = Infinity;\n        this.right = -Infinity;\n        this.bottom = -Infinity;\n        this.left = Infinity;\n    }\n    update(node, xy) {\n        const { x, y } = xy(node);\n        if (x > this.right) {\n            this.right = x;\n        }\n        if (x < this.left) {\n            this.left = x;\n        }\n        if (y > this.bottom) {\n            this.bottom = y;\n        }\n        if (y < this.top) {\n            this.top = y;\n        }\n    }\n}\nfunction secondWalk(v, m, layout) {\n    v.x = v.prelim + m;\n    v.y = v.depth;\n    layout.update(v);\n    v.children.forEach((w) => secondWalk(w, m + v.mod, layout));\n}\n// After the second walk the parent nodes are positioned at the center of their immediate children.\n// If we want the parent nodes to be positioned at the center of the subtree for which they are roots,\n// we need a third walk to adjust the positions.\nfunction thirdWalk(v) {\n    const children = v.children;\n    let leafCount = 0;\n    children.forEach((w) => {\n        thirdWalk(w);\n        if (w.children.length) {\n            leafCount += w.leafCount;\n        }\n        else {\n            leafCount++;\n        }\n    });\n    v.leafCount = leafCount;\n    if (children.length) {\n        v.subtreeLeft = children[0].subtreeLeft;\n        v.subtreeRight = children[v.children.length - 1].subtreeRight;\n        v.x = (v.subtreeLeft + v.subtreeRight) / 2;\n    }\n    else {\n        v.subtreeLeft = v.x;\n        v.subtreeRight = v.x;\n    }\n}\nexport function treeLayout(root) {\n    const layout = new TreeLayout();\n    firstWalk(root, 1);\n    secondWalk(root, -root.prelim, layout);\n    thirdWalk(root);\n    return layout;\n}\nexport class TreeLayout {\n    constructor() {\n        this.dimensions = new Dimensions();\n        this.leafCount = 0;\n        this.nodes = [];\n        // One might want to process leaf nodes separately from the rest of the tree.\n        // For example, position labels corresponding to leafs vertically, rather than horizontally.\n        this.leafNodes = [];\n        this.nonLeafNodes = [];\n        this.depth = 0;\n    }\n    update(node) {\n        this.dimensions.update(node, (node) => ({ x: node.x, y: node.y }));\n        if (!node.children.length) {\n            this.leafCount++;\n            this.leafNodes.push(node);\n        }\n        else {\n            this.nonLeafNodes.push(node);\n        }\n        if (node.depth > this.depth) {\n            this.depth = node.depth;\n        }\n        this.nodes.push(node);\n    }\n    resize(width, height, shiftX = 0, shiftY = 0, flipX = false) {\n        const xSteps = this.leafCount - 1;\n        const ySteps = this.depth;\n        const dimensions = this.dimensions;\n        let scalingX = 1;\n        let scalingY = 1;\n        if (width > 0 && xSteps) {\n            const existingSpacingX = (dimensions.right - dimensions.left) / xSteps;\n            const desiredSpacingX = width / xSteps;\n            scalingX = desiredSpacingX / existingSpacingX;\n            if (flipX) {\n                scalingX = -scalingX;\n            }\n        }\n        if (height > 0 && ySteps) {\n            const existingSpacingY = (dimensions.bottom - dimensions.top) / ySteps;\n            const desiredSpacingY = height / ySteps;\n            scalingY = desiredSpacingY / existingSpacingY;\n        }\n        const screenDimensions = new Dimensions();\n        this.nodes.forEach((node) => {\n            node.screenX = node.x * scalingX;\n            node.screenY = node.y * scalingY;\n            screenDimensions.update(node, (node) => ({ x: node.screenX, y: node.screenY }));\n        });\n        // Normalize so that root top and leftmost leaf left start at zero.\n        const offsetX = -screenDimensions.left;\n        const offsetY = -screenDimensions.top;\n        this.nodes.forEach((node) => {\n            node.screenX += offsetX + shiftX;\n            node.screenY += offsetY + shiftY;\n        });\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Selection } from '../../scene/selection.mjs';\nimport { Line } from '../../scene/shape/line.mjs';\nimport { normalizeAngle360, toRadians } from '../../util/angle.mjs';\nimport { Text } from '../../scene/shape/text.mjs';\nimport { BandScale } from '../../scale/bandScale.mjs';\nimport { ticksToTree, treeLayout } from '../../layout/tree.mjs';\nimport { AxisLabel, AxisLine } from '../../axis.mjs';\nimport { ChartAxis } from '../chartAxis.mjs';\nimport { ChartAxisDirection } from '../chartAxisDirection.mjs';\nimport { extent } from '../../util/array.mjs';\nimport { BOOLEAN, OPT_COLOR_STRING, Validate } from '../../util/validation.mjs';\nimport { calculateLabelRotation } from '../label.mjs';\nclass GroupedCategoryAxisLabel extends AxisLabel {\n    constructor() {\n        super(...arguments);\n        this.grid = false;\n    }\n}\n__decorate([\n    Validate(BOOLEAN)\n], GroupedCategoryAxisLabel.prototype, \"grid\", void 0);\nexport class GroupedCategoryAxis extends ChartAxis {\n    constructor(moduleCtx) {\n        super(moduleCtx, new BandScale());\n        // Label scale (labels are positioned between ticks, tick count = label count + 1).\n        // We don't call is `labelScale` for consistency with other axes.\n        this.tickScale = new BandScale();\n        this.translation = {\n            x: 0,\n            y: 0,\n        };\n        this.line = new AxisLine();\n        this.label = new GroupedCategoryAxisLabel();\n        /**\n         * The color of the labels.\n         * Use `undefined` rather than `rgba(0, 0, 0, 0)` to make labels invisible.\n         */\n        this.labelColor = 'rgba(87, 87, 87, 1)';\n        this.includeInvisibleDomains = true;\n        const { tickLineGroup, tickLabelGroup, gridLineGroup, tickScale, scale } = this;\n        scale.paddingOuter = 0.1;\n        scale.paddingInner = scale.paddingOuter * 2;\n        this.range = scale.range.slice();\n        this.refreshScale();\n        tickScale.paddingInner = 1;\n        tickScale.paddingOuter = 0;\n        this.gridLineSelection = Selection.select(gridLineGroup, Line);\n        this.axisLineSelection = Selection.select(tickLineGroup, Line);\n        this.separatorSelection = Selection.select(tickLineGroup, Line);\n        this.labelSelection = Selection.select(tickLabelGroup, Text);\n    }\n    updateRange() {\n        const { range: rr, visibleRange: vr, scale } = this;\n        const span = (rr[1] - rr[0]) / (vr[1] - vr[0]);\n        const shift = span * vr[0];\n        const start = rr[0] - shift;\n        this.tickScale.range = scale.range = [start, start + span];\n        this.resizeTickTree();\n    }\n    resizeTickTree() {\n        var _a;\n        const s = this.scale;\n        const range = s.domain.length ? [s.convert(s.domain[0]), s.convert(s.domain[s.domain.length - 1])] : s.range;\n        const layout = this.tickTreeLayout;\n        const lineHeight = this.lineHeight;\n        if (layout) {\n            layout.resize(Math.abs(range[1] - range[0]), layout.depth * lineHeight, (Math.min(range[0], range[1]) || 0) + ((_a = s.bandwidth) !== null && _a !== void 0 ? _a : 0) / 2, -layout.depth * lineHeight, range[1] - range[0] < 0);\n        }\n    }\n    get lineHeight() {\n        return this.label.fontSize * 1.5;\n    }\n    /**\n     * The length of the grid. The grid is only visible in case of a non-zero value.\n     */\n    set gridLength(value) {\n        // Was visible and now invisible, or was invisible and now visible.\n        if ((this._gridLength && !value) || (!this._gridLength && value)) {\n            this.gridLineSelection.clear();\n            this.labelSelection.clear();\n        }\n        this._gridLength = value;\n    }\n    get gridLength() {\n        return this._gridLength;\n    }\n    calculateDomain() {\n        var _a;\n        const { direction, boundSeries } = this;\n        const domains = [];\n        let isNumericX = undefined;\n        boundSeries\n            .filter((s) => s.visible)\n            .forEach((series) => {\n            if (direction === ChartAxisDirection.X) {\n                if (isNumericX === undefined) {\n                    // always add first X domain\n                    const domain = series.getDomain(direction);\n                    domains.push(domain);\n                    isNumericX = typeof domain[0] === 'number';\n                }\n                else if (isNumericX) {\n                    // only add further X domains if the axis is numeric\n                    domains.push(series.getDomain(direction));\n                }\n            }\n            else {\n                domains.push(series.getDomain(direction));\n            }\n        });\n        const domain = new Array().concat(...domains);\n        const values = (_a = extent(domain)) !== null && _a !== void 0 ? _a : domain;\n        this.dataDomain = this.normaliseDataDomain(values);\n        this.scale.domain = this.dataDomain;\n    }\n    normaliseDataDomain(d) {\n        // Prevent duplicate categories.\n        const values = d.filter((s, i, arr) => arr.indexOf(s) === i);\n        const tickTree = ticksToTree(values);\n        this.tickTreeLayout = treeLayout(tickTree);\n        const tickScaleDomain = values.slice();\n        tickScaleDomain.push('');\n        this.tickScale.domain = tickScaleDomain;\n        this.resizeTickTree();\n        return values;\n    }\n    /**\n     * Creates/removes/updates the scene graph nodes that constitute the axis.\n     * Supposed to be called _manually_ after changing _any_ of the axis properties.\n     * This allows to bulk set axis properties before updating the nodes.\n     * The node changes made by this method are rendered on the next animation frame.\n     * We could schedule this method call automatically on the next animation frame\n     * when any of the axis properties change (the way we do when properties of scene graph's\n     * nodes change), but this will mean that we first wait for the next animation\n     * frame to make changes to the nodes of the axis, then wait for another animation\n     * frame to render those changes. It's nice to have everything update automatically,\n     * but this extra level of async indirection will not just introduce an unwanted delay,\n     * it will also make it harder to reason about the program.\n     */\n    update(primaryTickCount) {\n        this.updateDirection();\n        this.calculateDomain();\n        this.updateRange();\n        const { scale, label, label: { parallel }, moduleCtx: { callbackCache }, tickScale, range: requestedRange, title, title: { formatter = (p) => p.defaultValue } = {}, _titleCaption, } = this;\n        const rangeStart = scale.range[0];\n        const rangeEnd = scale.range[1];\n        const rangeLength = Math.abs(rangeEnd - rangeStart);\n        const bandwidth = rangeLength / scale.domain.length || 0;\n        const rotation = toRadians(this.rotation);\n        const isHorizontal = Math.abs(Math.cos(rotation)) < 1e-8;\n        const sideFlag = label.getSideFlag();\n        this.updatePosition({ rotation, sideFlag });\n        // The Text `node` of the Caption is not used to render the title of the grouped category axis.\n        // The phantom root of the tree layout is used instead.\n        _titleCaption.node.visible = false;\n        const lineHeight = this.lineHeight;\n        // Render ticks and labels.\n        const tickTreeLayout = this.tickTreeLayout;\n        const labels = scale.ticks();\n        const treeLabels = tickTreeLayout ? tickTreeLayout.nodes : [];\n        const isLabelTree = tickTreeLayout ? tickTreeLayout.depth > 1 : false;\n        const ticks = tickScale.ticks();\n        // When labels are parallel to the axis line, the `parallelFlipFlag` is used to\n        // flip the labels to avoid upside-down text, when the axis is rotated\n        // such that it is in the right hemisphere, i.e. the angle of rotation\n        // is in the [0, ] interval.\n        // The rotation angle is normalized, so that we have an easier time checking\n        // if it's in the said interval. Since the axis is always rendered vertically\n        // and then rotated, zero rotation means 12 (not 3) o-clock.\n        // -1 = flip\n        //  1 = don't flip (default)\n        const { defaultRotation, configuredRotation, parallelFlipFlag } = calculateLabelRotation({\n            rotation: label.rotation,\n            parallel,\n            regularFlipRotation: normalizeAngle360(rotation - Math.PI / 2),\n            parallelFlipRotation: normalizeAngle360(rotation),\n        });\n        const gridLineSelection = this.gridLineSelection.update(this.gridLength ? ticks : []);\n        const labelSelection = this.labelSelection.update(treeLabels);\n        const labelFormatter = label.formatter;\n        const labelBBoxes = new Map();\n        let maxLeafLabelWidth = 0;\n        labelSelection.each((node, datum, index) => {\n            var _a;\n            node.fontStyle = label.fontStyle;\n            node.fontWeight = label.fontWeight;\n            node.fontSize = label.fontSize;\n            node.fontFamily = label.fontFamily;\n            node.fill = label.color;\n            node.textBaseline = parallelFlipFlag === -1 ? 'bottom' : 'hanging';\n            node.textAlign = 'center';\n            node.translationX = datum.screenY - label.fontSize * 0.25;\n            node.translationY = datum.screenX;\n            if (index === 0) {\n                // use the phantom root as the axis title\n                if ((title === null || title === void 0 ? void 0 : title.enabled) && labels.length > 0) {\n                    node.visible = true;\n                    node.text = callbackCache.call(formatter, this.getTitleFormatterParams());\n                    node.fontSize = title.fontSize;\n                    node.fontStyle = title.fontStyle;\n                    node.fontWeight = title.fontWeight;\n                    node.fontFamily = title.fontFamily;\n                    node.textBaseline = 'hanging';\n                }\n                else {\n                    node.visible = false;\n                }\n            }\n            else if (labelFormatter) {\n                node.text =\n                    (_a = callbackCache.call(labelFormatter, {\n                        value: String(datum.label),\n                        index,\n                    })) !== null && _a !== void 0 ? _a : String(datum.label);\n                node.visible = datum.screenX >= requestedRange[0] && datum.screenX <= requestedRange[1];\n            }\n            else {\n                node.text = String(datum.label);\n                node.visible = datum.screenX >= requestedRange[0] && datum.screenX <= requestedRange[1];\n            }\n            const bbox = node.computeBBox();\n            labelBBoxes.set(node.id, bbox);\n            if (bbox.width > maxLeafLabelWidth) {\n                maxLeafLabelWidth = bbox.width;\n            }\n        });\n        const labelX = sideFlag * label.padding;\n        const labelGrid = this.label.grid;\n        const separatorData = [];\n        labelSelection.each((label, datum, index) => {\n            label.x = labelX;\n            label.rotationCenterX = labelX;\n            if (!datum.children.length) {\n                label.rotation = configuredRotation;\n                label.textAlign = 'end';\n                label.textBaseline = 'middle';\n                const bbox = labelBBoxes.get(label.id);\n                if (bbox && bbox.height > bandwidth) {\n                    label.visible = false;\n                }\n            }\n            else {\n                label.translationX -= maxLeafLabelWidth - lineHeight + this.label.padding;\n                const availableRange = datum.leafCount * bandwidth;\n                const bbox = labelBBoxes.get(label.id);\n                if (bbox && bbox.width > availableRange) {\n                    label.visible = false;\n                }\n                else if (isHorizontal) {\n                    label.rotation = defaultRotation;\n                }\n                else {\n                    label.rotation = -Math.PI / 2;\n                }\n            }\n            // Calculate positions of label separators for all nodes except the root.\n            // Each separator is placed to the top of the current label.\n            if (datum.parent && isLabelTree) {\n                const y = !datum.children.length\n                    ? datum.screenX - bandwidth / 2\n                    : datum.screenX - (datum.leafCount * bandwidth) / 2;\n                if (!datum.children.length) {\n                    if (datum.number !== datum.children.length - 1 || labelGrid) {\n                        separatorData.push({\n                            y,\n                            x1: 0,\n                            x2: -maxLeafLabelWidth - this.label.padding * 2,\n                            toString: () => String(index),\n                        });\n                    }\n                }\n                else {\n                    const x = -maxLeafLabelWidth - this.label.padding * 2 + datum.screenY;\n                    separatorData.push({\n                        y,\n                        x1: x + lineHeight,\n                        x2: x,\n                        toString: () => String(index),\n                    });\n                }\n            }\n        });\n        // Calculate the position of the long separator on the far bottom of the axis.\n        let minX = 0;\n        separatorData.forEach((d) => (minX = Math.min(minX, d.x2)));\n        separatorData.push({\n            y: Math.max(rangeStart, rangeEnd),\n            x1: 0,\n            x2: minX,\n            toString: () => String(separatorData.length),\n        });\n        const separatorSelection = this.separatorSelection.update(separatorData);\n        const epsilon = 0.0000001;\n        separatorSelection.each((line, datum) => {\n            line.x1 = datum.x1;\n            line.x2 = datum.x2;\n            line.y1 = datum.y;\n            line.y2 = datum.y;\n            line.visible = datum.y >= requestedRange[0] - epsilon && datum.y <= requestedRange[1] + epsilon;\n            line.stroke = this.tick.color;\n            line.fill = undefined;\n            line.strokeWidth = 1;\n        });\n        this.gridLineSelection = gridLineSelection;\n        this.labelSelection = labelSelection;\n        // Render axis lines.\n        const lineCount = tickTreeLayout ? tickTreeLayout.depth + 1 : 1;\n        const lines = [];\n        for (let i = 0; i < lineCount; i++) {\n            lines.push(i);\n        }\n        const axisLineSelection = this.axisLineSelection.update(lines);\n        axisLineSelection.each((line, _, index) => {\n            const x = index > 0 ? -maxLeafLabelWidth - this.label.padding * 2 - (index - 1) * lineHeight : 0;\n            line.x1 = x;\n            line.x2 = x;\n            line.y1 = requestedRange[0];\n            line.y2 = requestedRange[1];\n            line.strokeWidth = this.line.width;\n            line.stroke = this.line.color;\n            line.visible = labels.length > 0 && (index === 0 || (labelGrid && isLabelTree));\n        });\n        if (this.gridLength) {\n            const styles = this.gridStyle;\n            const styleCount = styles.length;\n            gridLineSelection.each((line, datum, index) => {\n                const y = Math.round(tickScale.convert(datum));\n                line.x1 = 0;\n                line.x2 = -sideFlag * this.gridLength;\n                line.y1 = y;\n                line.y2 = y;\n                line.visible = y >= requestedRange[0] && y <= requestedRange[1];\n                const style = styles[index % styleCount];\n                line.stroke = style.stroke;\n                line.strokeWidth = this.tick.width;\n                line.lineDash = style.lineDash;\n                line.fill = undefined;\n            });\n        }\n        return primaryTickCount;\n    }\n}\nGroupedCategoryAxis.className = 'GroupedCategoryAxis';\nGroupedCategoryAxis.type = 'groupedCategory';\n__decorate([\n    Validate(OPT_COLOR_STRING)\n], GroupedCategoryAxis.prototype, \"labelColor\", void 0);\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Chart } from './chart.mjs';\nimport { CategoryAxis } from './axis/categoryAxis.mjs';\nimport { GroupedCategoryAxis } from './axis/groupedCategoryAxis.mjs';\nimport { ChartAxisDirection } from './chartAxisDirection.mjs';\nimport { Logger } from '../util/logger.mjs';\nimport { toRadians } from '../util/angle.mjs';\nconst directions = ['top', 'right', 'bottom', 'left'];\nexport class CartesianChart extends Chart {\n    constructor(document = window.document, overrideDevicePixelRatio, resources) {\n        super(document, overrideDevicePixelRatio, resources);\n        /** Integrated Charts feature state - not used in Standalone Charts. */\n        this.paired = true;\n        this._lastAxisWidths = {\n            top: 0,\n            bottom: 0,\n            left: 0,\n            right: 0,\n        };\n        this._lastVisibility = {\n            crossLines: true,\n            series: true,\n        };\n    }\n    performLayout() {\n        const _super = Object.create(null, {\n            performLayout: { get: () => super.performLayout }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            const shrinkRect = yield _super.performLayout.call(this);\n            const { seriesRect, visibility, clipSeries } = this.updateAxes(shrinkRect);\n            this.seriesRoot.visible = visibility.series;\n            this.seriesRect = seriesRect;\n            this.series.forEach((series) => {\n                series.rootGroup.translationX = Math.floor(seriesRect.x);\n                series.rootGroup.translationY = Math.floor(seriesRect.y);\n            });\n            const { seriesRoot, seriesAreaPadding } = this;\n            const seriesPaddedRect = seriesRect.clone().grow(seriesAreaPadding);\n            const hoverRectPadding = 20;\n            const hoverRect = seriesPaddedRect.clone().grow(hoverRectPadding);\n            this.hoverRect = hoverRect;\n            this.layoutService.dispatchLayoutComplete({\n                type: 'layout-complete',\n                chart: { width: this.scene.width, height: this.scene.height },\n                series: { rect: seriesRect, paddedRect: seriesPaddedRect, hoverRect, visible: visibility.series },\n                axes: this.axes.map((axis) => (Object.assign({ id: axis.id }, axis.getLayoutState()))),\n            });\n            if (clipSeries) {\n                seriesRoot.setClipRectInGroupCoordinateSpace(seriesPaddedRect);\n            }\n            else {\n                seriesRoot.setClipRectInGroupCoordinateSpace();\n            }\n            return shrinkRect;\n        });\n    }\n    updateAxes(inputShrinkRect) {\n        var _a;\n        // Start with a good approximation from the last update - this should mean that in many resize\n        // cases that only a single pass is needed \\o/.\n        const axisWidths = Object.assign({}, this._lastAxisWidths);\n        const visibility = Object.assign({}, this._lastVisibility);\n        // Clean any positions which aren't valid with the current axis status (otherwise we end up\n        // never being able to find a stable result).\n        const liveAxisWidths = new Set(this._axes.map((a) => a.position));\n        for (const position of Object.keys(axisWidths)) {\n            if (!liveAxisWidths.has(position)) {\n                delete axisWidths[position];\n            }\n        }\n        const stableOutputs = (otherAxisWidths, otherVisibility) => {\n            // Check for new axis positions.\n            if (Object.keys(otherAxisWidths).some((k) => axisWidths[k] == null)) {\n                return false;\n            }\n            return (visibility.crossLines === otherVisibility.crossLines &&\n                visibility.series === otherVisibility.series &&\n                // Check for existing axis positions and equality.\n                Object.entries(axisWidths).every(([p, w]) => {\n                    const otherW = otherAxisWidths[p];\n                    if (w != null || otherW != null) {\n                        return w === otherW;\n                    }\n                    return true;\n                }));\n        };\n        const ceilValues = (records) => {\n            return Object.entries(records).reduce((out, [key, value]) => {\n                if (value && Math.abs(value) === Infinity) {\n                    value = 0;\n                }\n                out[key] = value != null ? Math.ceil(value) : value;\n                return out;\n            }, {});\n        };\n        // Iteratively try to resolve axis widths - since X axis width affects Y axis range,\n        // and vice-versa, we need to iteratively try and find a fit for the axes and their\n        // ticks/labels.\n        let lastPassAxisWidths = {};\n        let lastPassVisibility = {};\n        let clipSeries = false;\n        let seriesRect = (_a = this.seriesRect) === null || _a === void 0 ? void 0 : _a.clone();\n        let count = 0;\n        do {\n            Object.assign(axisWidths, lastPassAxisWidths);\n            Object.assign(visibility, lastPassVisibility);\n            const result = this.updateAxesPass(axisWidths, inputShrinkRect.clone(), seriesRect);\n            lastPassAxisWidths = ceilValues(result.axisWidths);\n            lastPassVisibility = result.visibility;\n            clipSeries = result.clipSeries;\n            seriesRect = result.seriesRect;\n            if (count++ > 10) {\n                Logger.warn('unable to find stable axis layout.');\n                break;\n            }\n        } while (!stableOutputs(lastPassAxisWidths, lastPassVisibility));\n        const clipRectPadding = 5;\n        this.axes.forEach((axis) => {\n            // update visibility of crosslines\n            axis.setCrossLinesVisible(visibility.crossLines);\n            if (!seriesRect) {\n                return;\n            }\n            axis.clipGrid(seriesRect.x, seriesRect.y, seriesRect.width + clipRectPadding, seriesRect.height + clipRectPadding);\n            switch (axis.position) {\n                case 'left':\n                case 'right':\n                    axis.clipTickLines(inputShrinkRect.x, seriesRect.y, inputShrinkRect.width + clipRectPadding, seriesRect.height + clipRectPadding);\n                    break;\n                case 'top':\n                case 'bottom':\n                    axis.clipTickLines(seriesRect.x, inputShrinkRect.y, seriesRect.width + clipRectPadding, inputShrinkRect.height + clipRectPadding);\n                    break;\n            }\n        });\n        this._lastAxisWidths = axisWidths;\n        this._lastVisibility = visibility;\n        return { seriesRect, visibility, clipSeries };\n    }\n    updateAxesPass(axisWidths, bounds, lastPassSeriesRect) {\n        const { axes } = this;\n        const visited = {};\n        const newAxisWidths = {};\n        const visibility = {\n            series: true,\n            crossLines: true,\n        };\n        let clipSeries = false;\n        const primaryTickCounts = {};\n        const paddedBounds = this.applySeriesPadding(bounds);\n        const crossLinePadding = lastPassSeriesRect ? this.buildCrossLinePadding(axisWidths) : {};\n        const axisBound = this.buildAxisBound(paddedBounds, axisWidths, crossLinePadding, visibility);\n        const seriesRect = this.buildSeriesRect(axisBound, axisWidths);\n        // Set the number of ticks for continuous axes based on the available range\n        // before updating the axis domain via `this.updateAxes()` as the tick count has an effect on the calculated `nice` domain extent\n        axes.forEach((axis) => {\n            var _a, _b;\n            const { position } = axis;\n            const { clipSeries: newClipSeries, axisThickness, axisOffset, } = this.calculateAxisDimensions({\n                axis,\n                seriesRect,\n                paddedBounds,\n                axisWidths,\n                newAxisWidths,\n                primaryTickCounts,\n                clipSeries,\n                addInterAxisPadding: ((_a = visited[position]) !== null && _a !== void 0 ? _a : 0) > 0,\n            });\n            visited[position] = ((_b = visited[position]) !== null && _b !== void 0 ? _b : 0) + 1;\n            clipSeries = clipSeries || newClipSeries;\n            this.positionAxis({\n                axis,\n                axisBound,\n                axisOffset,\n                axisThickness,\n                axisWidths,\n                primaryTickCounts,\n                seriesRect,\n            });\n        });\n        return { clipSeries, seriesRect, axisWidths: newAxisWidths, visibility };\n    }\n    buildCrossLinePadding(axisWidths) {\n        var _a;\n        const crossLinePadding = {};\n        this.axes.forEach((axis) => {\n            if (axis.crossLines) {\n                axis.crossLines.forEach((crossLine) => {\n                    crossLine.calculatePadding(crossLinePadding);\n                });\n            }\n        });\n        // Reduce cross-line padding to account for overlap with axes.\n        for (const [side, padding = 0] of Object.entries(crossLinePadding)) {\n            crossLinePadding[side] = Math.max(padding - ((_a = axisWidths[side]) !== null && _a !== void 0 ? _a : 0), 0);\n        }\n        return crossLinePadding;\n    }\n    applySeriesPadding(bounds) {\n        const paddedRect = bounds.clone();\n        const reversedAxes = this.axes.slice().reverse();\n        directions.forEach((dir) => {\n            const padding = this.seriesAreaPadding[dir];\n            const axis = reversedAxes.find((axis) => axis.position === dir);\n            if (axis) {\n                axis.seriesAreaPadding = padding;\n            }\n            else {\n                paddedRect.shrink(padding, dir);\n            }\n        });\n        return paddedRect;\n    }\n    buildAxisBound(bounds, axisWidths, crossLinePadding, visibility) {\n        var _a, _b, _c, _d;\n        const result = bounds.clone();\n        const { top = 0, right = 0, bottom = 0, left = 0 } = crossLinePadding;\n        const horizontalPadding = left + right;\n        const verticalPadding = top + bottom;\n        const totalWidth = ((_a = axisWidths.left) !== null && _a !== void 0 ? _a : 0) + ((_b = axisWidths.right) !== null && _b !== void 0 ? _b : 0) + horizontalPadding;\n        const totalHeight = ((_c = axisWidths.top) !== null && _c !== void 0 ? _c : 0) + ((_d = axisWidths.bottom) !== null && _d !== void 0 ? _d : 0) + verticalPadding;\n        if (result.width <= totalWidth || result.height <= totalHeight) {\n            // Not enough space for crossLines and series\n            visibility.crossLines = false;\n            visibility.series = false;\n            return result;\n        }\n        result.x += left;\n        result.y += top;\n        result.width -= horizontalPadding;\n        result.height -= verticalPadding;\n        return result;\n    }\n    buildSeriesRect(axisBound, axisWidths) {\n        const result = axisBound.clone();\n        const { top, bottom, left, right } = axisWidths;\n        result.x += left !== null && left !== void 0 ? left : 0;\n        result.y += top !== null && top !== void 0 ? top : 0;\n        result.width -= (left !== null && left !== void 0 ? left : 0) + (right !== null && right !== void 0 ? right : 0);\n        result.height -= (top !== null && top !== void 0 ? top : 0) + (bottom !== null && bottom !== void 0 ? bottom : 0);\n        // Width and height should not be negative.\n        result.width = Math.max(0, result.width);\n        result.height = Math.max(0, result.height);\n        return result;\n    }\n    clampToOutsideSeriesRect(seriesRect, value, dimension, direction) {\n        const { x, y, width, height } = seriesRect;\n        const clampBounds = [x, y, x + width, y + height];\n        const fn = direction === 1 ? Math.min : Math.max;\n        const compareTo = clampBounds[(dimension === 'x' ? 0 : 1) + (direction === 1 ? 0 : 2)];\n        return fn(value, compareTo);\n    }\n    calculateAxisDimensions(opts) {\n        var _a, _b, _c, _d, _e, _f;\n        const { axis, seriesRect, paddedBounds, axisWidths, newAxisWidths, primaryTickCounts, addInterAxisPadding } = opts;\n        let { clipSeries } = opts;\n        const { position, direction } = axis;\n        const axisLeftRightRange = (axis) => {\n            if (axis instanceof CategoryAxis || axis instanceof GroupedCategoryAxis) {\n                return [0, seriesRect.height];\n            }\n            return [seriesRect.height, 0];\n        };\n        const axisOffset = (_a = newAxisWidths[position]) !== null && _a !== void 0 ? _a : 0;\n        switch (position) {\n            case 'top':\n            case 'bottom':\n                axis.range = [0, seriesRect.width];\n                axis.gridLength = seriesRect.height;\n                break;\n            case 'right':\n            case 'left':\n                axis.range = axisLeftRightRange(axis);\n                axis.gridLength = seriesRect.width;\n                break;\n        }\n        const zoom = (_b = this.zoomManager.getZoom()) === null || _b === void 0 ? void 0 : _b[axis.direction];\n        const { min = 0, max = 1 } = zoom !== null && zoom !== void 0 ? zoom : {};\n        axis.visibleRange = [min, max];\n        if (!clipSeries && (axis.visibleRange[0] > 0 || axis.visibleRange[1] < 1)) {\n            clipSeries = true;\n        }\n        let primaryTickCount = axis.nice ? primaryTickCounts[direction] : undefined;\n        const paddedBoundsCoefficient = 0.3;\n        if (axis.thickness > 0) {\n            axis.maxThickness = axis.thickness;\n        }\n        else if (direction === ChartAxisDirection.Y) {\n            axis.maxThickness = paddedBounds.width * paddedBoundsCoefficient;\n        }\n        else {\n            axis.maxThickness = paddedBounds.height * paddedBoundsCoefficient;\n        }\n        primaryTickCount = axis.update(primaryTickCount);\n        primaryTickCounts[direction] = (_c = primaryTickCounts[direction]) !== null && _c !== void 0 ? _c : primaryTickCount;\n        let axisThickness = 0;\n        if (axis.thickness) {\n            axisThickness = axis.thickness;\n        }\n        else {\n            const bbox = axis.computeBBox();\n            axisThickness = direction === ChartAxisDirection.X ? bbox.height : bbox.width;\n        }\n        // for multiple axes in the same direction and position, apply padding at the top of each inner axis (i.e. between axes).\n        const axisPadding = 15;\n        if (addInterAxisPadding) {\n            axisThickness += axisPadding;\n        }\n        axisThickness = Math.ceil(axisThickness);\n        newAxisWidths[position] = ((_d = newAxisWidths[position]) !== null && _d !== void 0 ? _d : 0) + axisThickness;\n        axis.gridPadding = ((_e = axisWidths[position]) !== null && _e !== void 0 ? _e : 0) - ((_f = newAxisWidths[position]) !== null && _f !== void 0 ? _f : 0);\n        return { clipSeries, axisThickness, axisOffset };\n    }\n    positionAxis(opts) {\n        var _a, _b, _c, _d;\n        const { axis, axisBound, axisWidths, seriesRect, axisOffset, axisThickness } = opts;\n        const { position } = axis;\n        switch (position) {\n            case 'top':\n                axis.translation.x = axisBound.x + ((_a = axisWidths.left) !== null && _a !== void 0 ? _a : 0);\n                axis.translation.y = this.clampToOutsideSeriesRect(seriesRect, axisBound.y + 1 + axisOffset + axisThickness, 'y', 1);\n                break;\n            case 'bottom':\n                axis.translation.x = axisBound.x + ((_b = axisWidths.left) !== null && _b !== void 0 ? _b : 0);\n                axis.translation.y = this.clampToOutsideSeriesRect(seriesRect, axisBound.y + axisBound.height + 1 - axisThickness - axisOffset, 'y', -1);\n                break;\n            case 'left':\n                axis.translation.y = axisBound.y + ((_c = axisWidths.top) !== null && _c !== void 0 ? _c : 0);\n                axis.translation.x = this.clampToOutsideSeriesRect(seriesRect, axisBound.x + axisOffset + axisThickness, 'x', 1);\n                break;\n            case 'right':\n                axis.translation.y = axisBound.y + ((_d = axisWidths.top) !== null && _d !== void 0 ? _d : 0);\n                axis.translation.x = this.clampToOutsideSeriesRect(seriesRect, axisBound.x + axisBound.width - axisThickness - axisOffset, 'x', -1);\n                break;\n        }\n        axis.updatePosition({ rotation: toRadians(axis.rotation), sideFlag: axis.label.getSideFlag() });\n    }\n}\nCartesianChart.className = 'CartesianChart';\nCartesianChart.type = 'cartesian';\n","import { Series, SeriesNodePickMode } from '../series.mjs';\nimport { ChartAxisDirection } from '../../chartAxisDirection.mjs';\nexport class PolarSeries extends Series {\n    constructor({ moduleCtx, useLabelLayer = false, pickModes = [SeriesNodePickMode.EXACT_SHAPE_MATCH], }) {\n        super({\n            moduleCtx,\n            useLabelLayer,\n            pickModes,\n            directionKeys: {\n                [ChartAxisDirection.X]: ['angleKey'],\n                [ChartAxisDirection.Y]: ['radiusKey'],\n            },\n            directionNames: {\n                [ChartAxisDirection.X]: ['angleName'],\n                [ChartAxisDirection.Y]: ['radiusName'],\n            },\n        });\n        /**\n         * The center of the polar series (for example, the center of a pie).\n         * If the polar chart has multiple series, all of them will have their\n         * center set to the same value as a result of the polar chart layout.\n         * The center coordinates are not supposed to be set by the user.\n         */\n        this.centerX = 0;\n        this.centerY = 0;\n        /**\n         * The maximum radius the series can use.\n         * This value is set automatically as a result of the polar chart layout\n         * and is not supposed to be set by the user.\n         */\n        this.radius = 0;\n    }\n    getLabelData() {\n        return [];\n    }\n    computeLabelsBBox(_options, _seriesRect) {\n        return null;\n    }\n}\n","import { segmentIntersection, arcIntersections } from '../scene/intersection.mjs';\nexport function isPointInSector(x, y, sector) {\n    const radius = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n    const { innerRadius, outerRadius } = sector;\n    if (radius < Math.min(innerRadius, outerRadius) || radius > Math.max(innerRadius, outerRadius)) {\n        return false;\n    }\n    // Start and End angles are expected to be [-90, 270]\n    // while Math.atan2 returns [-180, 180]\n    let angle = Math.atan2(y, x);\n    if (angle < -Math.PI / 2) {\n        angle += 2 * Math.PI;\n    }\n    // Start is actually bigger than End clock-wise\n    const { startAngle, endAngle } = sector;\n    if (endAngle === -Math.PI / 2) {\n        return angle < startAngle;\n    }\n    if (startAngle === (3 * Math.PI) / 2) {\n        return angle > endAngle;\n    }\n    return angle <= endAngle && angle >= startAngle;\n}\nfunction lineCollidesSector(line, sector) {\n    const { startAngle, endAngle, innerRadius, outerRadius } = sector;\n    const outerStart = { x: outerRadius * Math.cos(startAngle), y: outerRadius * Math.sin(startAngle) };\n    const outerEnd = { x: outerRadius * Math.cos(endAngle), y: outerRadius * Math.sin(endAngle) };\n    const innerStart = innerRadius === 0\n        ? { x: 0, y: 0 }\n        : { x: innerRadius * Math.cos(startAngle), y: innerRadius * Math.sin(startAngle) };\n    const innerEnd = innerRadius === 0\n        ? { x: 0, y: 0 }\n        : { x: innerRadius * Math.cos(endAngle), y: innerRadius * Math.sin(endAngle) };\n    return (segmentIntersection(line.start.x, line.start.y, line.end.x, line.end.y, outerStart.x, outerStart.y, innerStart.x, innerStart.y) != null ||\n        segmentIntersection(line.start.x, line.start.y, line.end.x, line.end.y, outerEnd.x, outerEnd.y, innerEnd.x, innerEnd.y) != null ||\n        arcIntersections(0, 0, outerRadius, startAngle, endAngle, true, line.start.x, line.start.y, line.end.x, line.end.y).length > 0);\n}\nexport function boxCollidesSector(box, sector) {\n    const topLeft = { x: box.x, y: box.y };\n    const topRight = { x: box.x + box.width, y: box.y };\n    const bottomLeft = { x: box.x, y: box.y + box.height };\n    const bottomRight = { x: box.x + box.width, y: box.y + box.height };\n    return (lineCollidesSector({ start: topLeft, end: topRight }, sector) ||\n        lineCollidesSector({ start: bottomLeft, end: bottomRight }, sector));\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Path, ScenePathChangeDetection } from './path.mjs';\nimport { normalizeAngle360 } from '../../util/angle.mjs';\nimport { isEqual } from '../../util/number.mjs';\nimport { isPointInSector } from '../../util/sector.mjs';\nimport { BBox } from '../bbox.mjs';\nexport class Sector extends Path {\n    constructor() {\n        super(...arguments);\n        this.centerX = 0;\n        this.centerY = 0;\n        this.innerRadius = 10;\n        this.outerRadius = 20;\n        this.startAngle = 0;\n        this.endAngle = Math.PI * 2;\n        this.angleOffset = 0;\n    }\n    computeBBox() {\n        const radius = this.outerRadius;\n        return new BBox(this.centerX - radius, this.centerY - radius, radius * 2, radius * 2);\n    }\n    updatePath() {\n        const path = this.path;\n        const angleOffset = this.angleOffset;\n        const startAngle = Math.min(this.startAngle, this.endAngle) + angleOffset;\n        const endAngle = Math.max(this.startAngle, this.endAngle) + angleOffset;\n        const innerRadius = Math.min(this.innerRadius, this.outerRadius);\n        const outerRadius = Math.max(this.innerRadius, this.outerRadius);\n        const fullPie = isEqual(normalizeAngle360(this.startAngle), normalizeAngle360(this.endAngle));\n        const centerX = this.centerX;\n        const centerY = this.centerY;\n        path.clear();\n        if (fullPie) {\n            path.arc(centerX, centerY, outerRadius, startAngle, endAngle);\n            if (innerRadius > 0) {\n                path.moveTo(centerX + innerRadius * Math.cos(endAngle), centerY + innerRadius * Math.sin(endAngle));\n                path.arc(centerX, centerY, innerRadius, endAngle, startAngle, true);\n            }\n        }\n        else {\n            path.moveTo(centerX + innerRadius * Math.cos(startAngle), centerY + innerRadius * Math.sin(startAngle));\n            path.arc(centerX, centerY, outerRadius, startAngle, endAngle);\n            if (innerRadius > 0) {\n                path.arc(centerX, centerY, innerRadius, endAngle, startAngle, true);\n            }\n            else {\n                path.lineTo(centerX, centerY);\n            }\n        }\n        path.closePath();\n        this.dirtyPath = false;\n    }\n    isPointInPath(x, y) {\n        const { angleOffset } = this;\n        const startAngle = this.startAngle + angleOffset;\n        const endAngle = this.endAngle + angleOffset;\n        const innerRadius = Math.min(this.innerRadius, this.outerRadius);\n        const outerRadius = Math.max(this.innerRadius, this.outerRadius);\n        const point = this.transformPoint(x, y);\n        return isPointInSector(point.x, point.y, { startAngle, endAngle, innerRadius, outerRadius });\n    }\n}\nSector.className = 'Sector';\n__decorate([\n    ScenePathChangeDetection()\n], Sector.prototype, \"centerX\", void 0);\n__decorate([\n    ScenePathChangeDetection()\n], Sector.prototype, \"centerY\", void 0);\n__decorate([\n    ScenePathChangeDetection()\n], Sector.prototype, \"innerRadius\", void 0);\n__decorate([\n    ScenePathChangeDetection()\n], Sector.prototype, \"outerRadius\", void 0);\n__decorate([\n    ScenePathChangeDetection()\n], Sector.prototype, \"startAngle\", void 0);\n__decorate([\n    ScenePathChangeDetection()\n], Sector.prototype, \"endAngle\", void 0);\n__decorate([\n    ScenePathChangeDetection()\n], Sector.prototype, \"angleOffset\", void 0);\n","export const SMALLEST_KEY_INTERVAL = {\n    type: 'reducer',\n    property: 'smallestKeyInterval',\n    initialValue: Infinity,\n    reducer: () => {\n        let prevX = NaN;\n        return (smallestSoFar, next) => {\n            const nextX = next.keys[0];\n            const interval = Math.abs(nextX - prevX);\n            prevX = nextX;\n            if (!isNaN(interval) && interval > 0 && interval < smallestSoFar) {\n                return interval;\n            }\n            return smallestSoFar;\n        };\n    },\n};\nexport const AGG_VALUES_EXTENT = {\n    type: 'processor',\n    property: 'aggValuesExtent',\n    calculate: (processedData) => {\n        var _a, _b, _c, _d;\n        const result = [...((_b = (_a = processedData.domain.aggValues) === null || _a === void 0 ? void 0 : _a[0]) !== null && _b !== void 0 ? _b : [0, 0])];\n        for (const [min, max] of (_d = (_c = processedData.domain.aggValues) === null || _c === void 0 ? void 0 : _c.slice(1)) !== null && _d !== void 0 ? _d : []) {\n            if (min < result[0]) {\n                result[0] = min;\n            }\n            if (max > result[1]) {\n                result[1] = max;\n            }\n        }\n        return result;\n    },\n};\nexport const SORT_DOMAIN_GROUPS = {\n    type: 'processor',\n    property: 'sortedGroupDomain',\n    calculate: ({ domain: { groups } }) => {\n        if (groups == null)\n            return undefined;\n        return [...groups].sort((a, b) => {\n            for (let i = 0; i < a.length; i++) {\n                const result = a[i] - b[i];\n                if (result !== 0) {\n                    return result;\n                }\n            }\n            return 0;\n        });\n    },\n};\nexport function normaliseGroupTo(properties, normaliseTo, mode = 'sum') {\n    const normalise = (val, extent) => {\n        const result = (val * normaliseTo) / extent;\n        if (result >= 0) {\n            return Math.min(normaliseTo, result);\n        }\n        return Math.max(-normaliseTo, result);\n    };\n    return {\n        type: 'group-value-processor',\n        properties,\n        adjust: () => (values, valueIndexes) => {\n            const valuesExtent = [0, 0];\n            for (const valueIdx of valueIndexes) {\n                const value = values[valueIdx];\n                const valIdx = value < 0 ? 0 : 1;\n                if (mode === 'sum') {\n                    valuesExtent[valIdx] += value;\n                }\n                else if (valIdx === 0) {\n                    valuesExtent[valIdx] = Math.min(valuesExtent[valIdx], value);\n                }\n                else {\n                    valuesExtent[valIdx] = Math.max(valuesExtent[valIdx], value);\n                }\n            }\n            const extent = Math.max(Math.abs(valuesExtent[0]), valuesExtent[1]);\n            for (const valueIdx of valueIndexes) {\n                values[valueIdx] = normalise(values[valueIdx], extent);\n            }\n        },\n    };\n}\nexport function normalisePropertyTo(property, normaliseTo, rangeMin, rangeMax) {\n    const normaliseSpan = normaliseTo[1] - normaliseTo[0];\n    const normalise = (val, start, span) => {\n        const result = normaliseTo[0] + ((val - start) / span) * normaliseSpan;\n        if (span === 0)\n            return normaliseTo[1];\n        if (result >= normaliseTo[1])\n            return normaliseTo[1];\n        if (result < normaliseTo[0])\n            return normaliseTo[0];\n        return result;\n    };\n    return {\n        type: 'property-value-processor',\n        property,\n        adjust: () => (pData, pIdx) => {\n            let [start, end] = pData.domain.values[pIdx];\n            if (rangeMin != null)\n                start = rangeMin;\n            if (rangeMax != null)\n                end = rangeMax;\n            const span = end - start;\n            pData.domain.values[pIdx] = [normaliseTo[0], normaliseTo[1]];\n            for (const group of pData.data) {\n                let groupValues = group.values;\n                if (pData.type === 'ungrouped') {\n                    groupValues = [groupValues];\n                }\n                for (const values of groupValues) {\n                    values[pIdx] = normalise(values[pIdx], start, span);\n                }\n            }\n        },\n    };\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Group } from '../../../scene/group.mjs';\nimport { Line } from '../../../scene/shape/line.mjs';\nimport { Text } from '../../../scene/shape/text.mjs';\nimport { Circle } from '../../marker/circle.mjs';\nimport { Selection } from '../../../scene/selection.mjs';\nimport { LinearScale } from '../../../scale/linearScale.mjs';\nimport { Sector } from '../../../scene/shape/sector.mjs';\nimport { BBox } from '../../../scene/bbox.mjs';\nimport { HighlightStyle, SeriesTooltip, SeriesNodeBaseClickEvent, valueProperty, rangedValueProperty, accumulativeValueProperty, } from './../series.mjs';\nimport { Label } from '../../label.mjs';\nimport { PointerEvents } from '../../../scene/node.mjs';\nimport { normalizeAngle180, toRadians } from '../../../util/angle.mjs';\nimport { toFixed, mod } from '../../../util/number.mjs';\nimport { Layers } from '../../layers.mjs';\nimport { Caption } from '../../../caption.mjs';\nimport { PolarSeries } from './polarSeries.mjs';\nimport { ChartAxisDirection } from '../../chartAxisDirection.mjs';\nimport { toTooltipHtml } from '../../tooltip/tooltip.mjs';\nimport { isPointInSector, boxCollidesSector } from '../../../util/sector.mjs';\nimport { BOOLEAN, NUMBER, OPT_FUNCTION, OPT_LINE_DASH, OPT_NUMBER, OPT_STRING, STRING, COLOR_STRING_ARRAY, OPT_COLOR_STRING_ARRAY, Validate, COLOR_STRING, } from '../../../util/validation.mjs';\nimport { StateMachine } from '../../../motion/states.mjs';\nimport * as easing from '../../../motion/easing.mjs';\nimport { DataModel } from '../../data/dataModel.mjs';\nimport { normalisePropertyTo } from '../../data/processors.mjs';\nclass PieSeriesNodeBaseClickEvent extends SeriesNodeBaseClickEvent {\n    constructor(angleKey, calloutLabelKey, sectorLabelKey, radiusKey, nativeEvent, datum, series) {\n        super(nativeEvent, datum, series);\n        this.angleKey = angleKey;\n        this.calloutLabelKey = calloutLabelKey;\n        this.sectorLabelKey = sectorLabelKey;\n        this.radiusKey = radiusKey;\n    }\n}\nclass PieSeriesNodeClickEvent extends PieSeriesNodeBaseClickEvent {\n    constructor() {\n        super(...arguments);\n        this.type = 'nodeClick';\n    }\n}\nclass PieSeriesNodeDoubleClickEvent extends PieSeriesNodeBaseClickEvent {\n    constructor() {\n        super(...arguments);\n        this.type = 'nodeDoubleClick';\n    }\n}\nvar PieNodeTag;\n(function (PieNodeTag) {\n    PieNodeTag[PieNodeTag[\"Sector\"] = 0] = \"Sector\";\n    PieNodeTag[PieNodeTag[\"Callout\"] = 1] = \"Callout\";\n    PieNodeTag[PieNodeTag[\"Label\"] = 2] = \"Label\";\n})(PieNodeTag || (PieNodeTag = {}));\nclass PieSeriesCalloutLabel extends Label {\n    constructor() {\n        super(...arguments);\n        this.offset = 3; // from the callout line\n        this.minAngle = 0; // in degrees\n        this.formatter = undefined;\n        this.minSpacing = 4;\n        this.maxCollisionOffset = 50;\n    }\n}\n__decorate([\n    Validate(NUMBER(0))\n], PieSeriesCalloutLabel.prototype, \"offset\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], PieSeriesCalloutLabel.prototype, \"minAngle\", void 0);\n__decorate([\n    Validate(OPT_FUNCTION)\n], PieSeriesCalloutLabel.prototype, \"formatter\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], PieSeriesCalloutLabel.prototype, \"minSpacing\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], PieSeriesCalloutLabel.prototype, \"maxCollisionOffset\", void 0);\nclass PieSeriesSectorLabel extends Label {\n    constructor() {\n        super(...arguments);\n        this.positionOffset = 0;\n        this.positionRatio = 0.5;\n        this.formatter = undefined;\n    }\n}\n__decorate([\n    Validate(NUMBER())\n], PieSeriesSectorLabel.prototype, \"positionOffset\", void 0);\n__decorate([\n    Validate(NUMBER(0, 1))\n], PieSeriesSectorLabel.prototype, \"positionRatio\", void 0);\n__decorate([\n    Validate(OPT_FUNCTION)\n], PieSeriesSectorLabel.prototype, \"formatter\", void 0);\nclass PieSeriesCalloutLine {\n    constructor() {\n        this.colors = undefined;\n        this.length = 10;\n        this.strokeWidth = 1;\n    }\n}\n__decorate([\n    Validate(OPT_COLOR_STRING_ARRAY)\n], PieSeriesCalloutLine.prototype, \"colors\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], PieSeriesCalloutLine.prototype, \"length\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], PieSeriesCalloutLine.prototype, \"strokeWidth\", void 0);\nclass PieSeriesTooltip extends SeriesTooltip {\n    constructor() {\n        super(...arguments);\n        this.renderer = undefined;\n    }\n}\n__decorate([\n    Validate(OPT_FUNCTION)\n], PieSeriesTooltip.prototype, \"renderer\", void 0);\nexport class PieTitle extends Caption {\n    constructor() {\n        super(...arguments);\n        this.showInLegend = false;\n    }\n}\n__decorate([\n    Validate(BOOLEAN)\n], PieTitle.prototype, \"showInLegend\", void 0);\nexport class DoughnutInnerLabel extends Label {\n    constructor() {\n        super(...arguments);\n        this.text = '';\n        this.margin = 2;\n    }\n}\n__decorate([\n    Validate(STRING)\n], DoughnutInnerLabel.prototype, \"text\", void 0);\n__decorate([\n    Validate(NUMBER())\n], DoughnutInnerLabel.prototype, \"margin\", void 0);\nexport class DoughnutInnerCircle {\n    constructor() {\n        this.fill = 'transparent';\n        this.fillOpacity = 1;\n    }\n}\n__decorate([\n    Validate(COLOR_STRING)\n], DoughnutInnerCircle.prototype, \"fill\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0, 1))\n], DoughnutInnerCircle.prototype, \"fillOpacity\", void 0);\nclass PieStateMachine extends StateMachine {\n}\nexport class PieSeries extends PolarSeries {\n    constructor(moduleCtx) {\n        super({ moduleCtx, useLabelLayer: true });\n        this.radiusScale = new LinearScale();\n        this.groupSelection = Selection.select(this.contentGroup, Group);\n        this.highlightSelection = Selection.select(this.highlightGroup, Group);\n        this.nodeData = [];\n        // When a user toggles a series item (e.g. from the legend), its boolean state is recorded here.\n        this.seriesItemEnabled = [];\n        this.title = undefined;\n        this.calloutLabel = new PieSeriesCalloutLabel();\n        this.sectorLabel = new PieSeriesSectorLabel();\n        this.calloutLine = new PieSeriesCalloutLine();\n        this.tooltip = new PieSeriesTooltip();\n        /**\n         * The key of the numeric field to use to determine the angle (for example,\n         * a pie sector angle).\n         */\n        this.angleKey = '';\n        this.angleName = '';\n        this.innerLabels = [];\n        this.innerCircle = undefined;\n        /**\n         * The key of the numeric field to use to determine the radii of pie sectors.\n         * The largest value will correspond to the full radius and smaller values to\n         * proportionally smaller radii.\n         */\n        this.radiusKey = undefined;\n        this.radiusName = undefined;\n        this.radiusMin = undefined;\n        this.radiusMax = undefined;\n        this.calloutLabelKey = undefined;\n        this.calloutLabelName = undefined;\n        this.sectorLabelKey = undefined;\n        this.sectorLabelName = undefined;\n        this.legendItemKey = undefined;\n        this.fills = ['#c16068', '#a2bf8a', '#ebcc87', '#80a0c3', '#b58dae', '#85c0d1'];\n        this.strokes = ['#874349', '#718661', '#a48f5f', '#5a7088', '#7f637a', '#5d8692'];\n        this.fillOpacity = 1;\n        this.strokeOpacity = 1;\n        this.lineDash = [0];\n        this.lineDashOffset = 0;\n        this.formatter = undefined;\n        /**\n         * The series rotation in degrees.\n         */\n        this.rotation = 0;\n        this.outerRadiusOffset = 0;\n        this.outerRadiusRatio = 1;\n        this.innerRadiusOffset = 0;\n        this.innerRadiusRatio = 1;\n        this.strokeWidth = 1;\n        this.shadow = undefined;\n        this.highlightStyle = new HighlightStyle();\n        this.surroundingRadius = undefined;\n        this.angleScale = new LinearScale();\n        // Each sector is a ratio of the whole, where all ratios add up to 1.\n        this.angleScale.domain = [0, 1];\n        // Add 90 deg to start the first pie at 12 o'clock.\n        this.angleScale.range = [-Math.PI, Math.PI].map((angle) => angle + Math.PI / 2);\n        this.backgroundGroup = this.rootGroup.appendChild(new Group({\n            name: `${this.id}-background`,\n            layer: true,\n            zIndex: Layers.SERIES_BACKGROUND_ZINDEX,\n        }));\n        const pieCalloutLabels = new Group({ name: 'pieCalloutLabels' });\n        const pieSectorLabels = new Group({ name: 'pieSectorLabels' });\n        const innerLabels = new Group({ name: 'innerLabels' });\n        this.labelGroup.append(pieCalloutLabels);\n        this.labelGroup.append(pieSectorLabels);\n        this.labelGroup.append(innerLabels);\n        this.calloutLabelSelection = Selection.select(pieCalloutLabels, Group);\n        this.sectorLabelSelection = Selection.select(pieSectorLabels, Text);\n        this.innerLabelsSelection = Selection.select(innerLabels, Text);\n        this.animationState = new PieStateMachine('empty', {\n            empty: {\n                on: {\n                    update: {\n                        target: 'ready',\n                        action: () => this.animateEmptyUpdateReady(),\n                    },\n                },\n            },\n            ready: {\n                on: {\n                    update: {\n                        target: 'ready',\n                        action: () => this.animateReadyUpdateReady(),\n                    },\n                },\n            },\n        });\n    }\n    set data(input) {\n        this._data = input;\n        this.processSeriesItemEnabled();\n    }\n    get data() {\n        return this._data;\n    }\n    addChartEventListeners() {\n        var _a;\n        (_a = this.chartEventManager) === null || _a === void 0 ? void 0 : _a.addListener('legend-item-click', (event) => this.onLegendItemClick(event));\n    }\n    visibleChanged() {\n        this.processSeriesItemEnabled();\n    }\n    processSeriesItemEnabled() {\n        var _a;\n        const { data, visible } = this;\n        this.seriesItemEnabled = (_a = data === null || data === void 0 ? void 0 : data.map(() => visible)) !== null && _a !== void 0 ? _a : [];\n    }\n    getDomain(direction) {\n        if (direction === ChartAxisDirection.X) {\n            return this.angleScale.domain;\n        }\n        else {\n            return this.radiusScale.domain;\n        }\n    }\n    processData() {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            let { data = [] } = this;\n            const { angleKey, radiusKey, seriesItemEnabled } = this;\n            if (!angleKey)\n                return;\n            const extraProps = [];\n            if (radiusKey) {\n                extraProps.push(rangedValueProperty(radiusKey, { id: 'radiusValue', min: (_a = this.radiusMin) !== null && _a !== void 0 ? _a : 0, max: this.radiusMax }), valueProperty(radiusKey, true, { id: `radiusRaw` }), // Raw value pass-through.\n                normalisePropertyTo({ id: 'radiusValue' }, [0, 1], (_b = this.radiusMin) !== null && _b !== void 0 ? _b : 0, this.radiusMax));\n                extraProps.push();\n            }\n            data = data.map((d, idx) => (seriesItemEnabled[idx] ? d : Object.assign(Object.assign({}, d), { [angleKey]: 0 })));\n            this.dataModel = new DataModel({\n                props: [\n                    accumulativeValueProperty(angleKey, true, { id: `angleValue` }),\n                    valueProperty(angleKey, true, { id: `angleRaw` }),\n                    normalisePropertyTo({ id: 'angleValue' }, [0, 1], 0),\n                    ...extraProps,\n                ],\n            });\n            this.processedData = this.dataModel.processData(data);\n        });\n    }\n    maybeRefreshNodeData() {\n        if (!this.nodeDataRefresh)\n            return;\n        const [{ nodeData = [] } = {}] = this._createNodeData();\n        this.nodeData = nodeData;\n        this.nodeDataRefresh = false;\n    }\n    createNodeData() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._createNodeData();\n        });\n    }\n    _createNodeData() {\n        var _a, _b, _c, _d;\n        const { id: seriesId, processedData, dataModel, rotation, angleScale } = this;\n        if (!processedData || !dataModel || processedData.type !== 'ungrouped')\n            return [];\n        const angleIdx = (_b = (_a = dataModel.resolveProcessedDataIndexById(`angleValue`)) === null || _a === void 0 ? void 0 : _a.index) !== null && _b !== void 0 ? _b : -1;\n        const radiusIdx = (_d = (_c = dataModel.resolveProcessedDataIndexById(`radiusValue`)) === null || _c === void 0 ? void 0 : _c.index) !== null && _d !== void 0 ? _d : -1;\n        if (angleIdx < 0)\n            return [];\n        let currentStart = 0;\n        const nodeData = processedData.data.map((group, index) => {\n            var _a;\n            const { datum, values } = group;\n            const currentValue = values[angleIdx];\n            const startAngle = angleScale.convert(currentStart) + toRadians(rotation);\n            currentStart = currentValue;\n            const endAngle = angleScale.convert(currentStart) + toRadians(rotation);\n            const span = Math.abs(endAngle - startAngle);\n            const midAngle = startAngle + span / 2;\n            const angleValue = values[angleIdx + 1];\n            const radius = radiusIdx >= 0 ? (_a = values[radiusIdx]) !== null && _a !== void 0 ? _a : 1 : 1;\n            const radiusValue = radiusIdx >= 0 ? values[radiusIdx + 1] : undefined;\n            const labels = this.getLabels(datum, midAngle, span, true);\n            const sectorFormat = this.getSectorFormat(datum, index, index, false);\n            return Object.assign({ itemId: index, series: this, datum,\n                index,\n                angleValue,\n                midAngle, midCos: Math.cos(midAngle), midSin: Math.sin(midAngle), startAngle,\n                endAngle,\n                sectorFormat,\n                radius,\n                radiusValue }, labels);\n        });\n        return [\n            {\n                itemId: seriesId,\n                nodeData,\n                labelData: nodeData,\n            },\n        ];\n    }\n    getLabels(datum, midAngle, span, skipDisabled) {\n        const { calloutLabel, sectorLabel, legendItemKey, ctx: { callbackCache }, } = this;\n        const calloutLabelKey = !skipDisabled || calloutLabel.enabled ? this.calloutLabelKey : undefined;\n        const sectorLabelKey = !skipDisabled || sectorLabel.enabled ? this.sectorLabelKey : undefined;\n        if (!calloutLabelKey && !sectorLabelKey && !legendItemKey)\n            return {};\n        const labelFormatterParams = this.getLabelFormatterParams(datum);\n        let calloutLabelText;\n        if (calloutLabelKey) {\n            const calloutLabelMinAngle = toRadians(calloutLabel.minAngle);\n            const calloutLabelVisible = span > calloutLabelMinAngle;\n            if (!calloutLabelVisible) {\n                calloutLabelText = undefined;\n            }\n            else if (calloutLabel.formatter) {\n                calloutLabelText = callbackCache.call(calloutLabel.formatter, labelFormatterParams);\n            }\n            else {\n                calloutLabelText = String(datum[calloutLabelKey]);\n            }\n        }\n        let sectorLabelText;\n        if (sectorLabelKey) {\n            if (sectorLabel.formatter) {\n                sectorLabelText = callbackCache.call(sectorLabel.formatter, labelFormatterParams);\n            }\n            else {\n                sectorLabelText = String(datum[sectorLabelKey]);\n            }\n        }\n        let legendItemText;\n        if (legendItemKey) {\n            legendItemText = String(datum[legendItemKey]);\n        }\n        return Object.assign(Object.assign(Object.assign({}, (calloutLabelText != null\n            ? {\n                calloutLabel: Object.assign(Object.assign({}, this.getTextAlignment(midAngle)), { text: calloutLabelText, hidden: false, collisionTextAlign: undefined, collisionOffsetY: 0, box: undefined }),\n            }\n            : {})), (sectorLabelText != null ? { sectorLabel: { text: sectorLabelText } } : {})), (legendItemKey != null && legendItemText != null\n            ? { legendItem: { key: legendItemKey, text: legendItemText } }\n            : {}));\n    }\n    getLabelFormatterParams(datum) {\n        const { id: seriesId, radiusKey, radiusName, angleKey, angleName, calloutLabelKey, calloutLabelName, sectorLabelKey, sectorLabelName, } = this;\n        return {\n            datum,\n            angleKey,\n            angleValue: datum[angleKey],\n            angleName,\n            radiusKey,\n            radiusValue: radiusKey ? datum[radiusKey] : undefined,\n            radiusName,\n            calloutLabelKey,\n            calloutLabelValue: calloutLabelKey ? datum[calloutLabelKey] : undefined,\n            calloutLabelName,\n            sectorLabelKey,\n            sectorLabelValue: sectorLabelKey ? datum[sectorLabelKey] : undefined,\n            sectorLabelName,\n            seriesId,\n        };\n    }\n    getTextAlignment(midAngle) {\n        const quadrantTextOpts = [\n            { textAlign: 'center', textBaseline: 'bottom' },\n            { textAlign: 'left', textBaseline: 'middle' },\n            { textAlign: 'center', textBaseline: 'hanging' },\n            { textAlign: 'right', textBaseline: 'middle' },\n        ];\n        const midAngle180 = normalizeAngle180(midAngle);\n        // Split the circle into quadrants like so: \n        const quadrantStart = (-3 * Math.PI) / 4; // same as `normalizeAngle180(toRadians(-135))`\n        const quadrantOffset = midAngle180 - quadrantStart;\n        const quadrant = Math.floor(quadrantOffset / (Math.PI / 2));\n        const quadrantIndex = mod(quadrant, quadrantTextOpts.length);\n        return quadrantTextOpts[quadrantIndex];\n    }\n    getSectorFormat(datum, itemId, index, highlight) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n        const { angleKey, radiusKey, fills, strokes, fillOpacity: seriesFillOpacity, formatter, id: seriesId, ctx: { callbackCache }, } = this;\n        const highlightedDatum = (_a = this.highlightManager) === null || _a === void 0 ? void 0 : _a.getActiveHighlight();\n        const isDatumHighlighted = highlight && (highlightedDatum === null || highlightedDatum === void 0 ? void 0 : highlightedDatum.series) === this && itemId === highlightedDatum.itemId;\n        const highlightedStyle = isDatumHighlighted ? this.highlightStyle.item : null;\n        const fill = (_b = highlightedStyle === null || highlightedStyle === void 0 ? void 0 : highlightedStyle.fill) !== null && _b !== void 0 ? _b : fills[index % fills.length];\n        const fillOpacity = (_c = highlightedStyle === null || highlightedStyle === void 0 ? void 0 : highlightedStyle.fillOpacity) !== null && _c !== void 0 ? _c : seriesFillOpacity;\n        const stroke = (_d = highlightedStyle === null || highlightedStyle === void 0 ? void 0 : highlightedStyle.stroke) !== null && _d !== void 0 ? _d : strokes[index % strokes.length];\n        const strokeWidth = (_e = highlightedStyle === null || highlightedStyle === void 0 ? void 0 : highlightedStyle.strokeWidth) !== null && _e !== void 0 ? _e : this.getStrokeWidth(this.strokeWidth);\n        let format;\n        if (formatter) {\n            format = callbackCache.call(formatter, {\n                datum,\n                angleKey,\n                radiusKey,\n                fill,\n                stroke,\n                strokeWidth,\n                highlighted: isDatumHighlighted,\n                seriesId,\n            });\n        }\n        return {\n            fill: (_f = format === null || format === void 0 ? void 0 : format.fill) !== null && _f !== void 0 ? _f : fill,\n            fillOpacity: (_g = format === null || format === void 0 ? void 0 : format.fillOpacity) !== null && _g !== void 0 ? _g : fillOpacity,\n            stroke: (_h = format === null || format === void 0 ? void 0 : format.stroke) !== null && _h !== void 0 ? _h : stroke,\n            strokeWidth: (_j = format === null || format === void 0 ? void 0 : format.strokeWidth) !== null && _j !== void 0 ? _j : strokeWidth,\n        };\n    }\n    getInnerRadius() {\n        const { radius, innerRadiusRatio, innerRadiusOffset } = this;\n        const innerRadius = radius * (innerRadiusRatio !== null && innerRadiusRatio !== void 0 ? innerRadiusRatio : 1) + (innerRadiusOffset ? innerRadiusOffset : 0);\n        if (innerRadius === radius || innerRadius < 0) {\n            return 0;\n        }\n        return innerRadius;\n    }\n    getOuterRadius() {\n        const { radius, outerRadiusRatio, outerRadiusOffset } = this;\n        const outerRadius = radius * (outerRadiusRatio !== null && outerRadiusRatio !== void 0 ? outerRadiusRatio : 1) + (outerRadiusOffset ? outerRadiusOffset : 0);\n        if (outerRadius < 0) {\n            return 0;\n        }\n        return outerRadius;\n    }\n    updateRadiusScale() {\n        const innerRadius = this.getInnerRadius();\n        const outerRadius = this.getOuterRadius();\n        this.radiusScale.range = [innerRadius, outerRadius];\n    }\n    getTitleTranslationY() {\n        var _a, _b;\n        const outerRadius = Math.max(0, this.radiusScale.range[1]);\n        if (outerRadius === 0) {\n            return NaN;\n        }\n        const spacing = (_b = (_a = this.title) === null || _a === void 0 ? void 0 : _a.spacing) !== null && _b !== void 0 ? _b : 0;\n        const titleOffset = 2 + spacing;\n        const dy = Math.max(0, -outerRadius);\n        return -outerRadius - titleOffset - dy;\n    }\n    update({ seriesRect }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { title } = this;\n            this.maybeRefreshNodeData();\n            this.updateTitleNodes();\n            this.updateRadiusScale();\n            this.updateInnerCircleNodes();\n            this.rootGroup.translationX = this.centerX;\n            this.rootGroup.translationY = this.centerY;\n            if (title) {\n                const dy = this.getTitleTranslationY();\n                const titleBox = title.node.computeBBox();\n                title.node.visible =\n                    title.enabled && isFinite(dy) && !this.bboxIntersectsSurroundingSeries(titleBox, 0, dy);\n                title.node.translationY = isFinite(dy) ? dy : 0;\n            }\n            this.updateNodeMidPoint();\n            yield this.updateSelections();\n            yield this.updateNodes(seriesRect);\n        });\n    }\n    updateTitleNodes() {\n        var _a, _b;\n        const { title, oldTitle } = this;\n        if (oldTitle !== title) {\n            if (oldTitle) {\n                (_a = this.labelGroup) === null || _a === void 0 ? void 0 : _a.removeChild(oldTitle.node);\n            }\n            if (title) {\n                title.node.textBaseline = 'bottom';\n                (_b = this.labelGroup) === null || _b === void 0 ? void 0 : _b.appendChild(title.node);\n            }\n            this.oldTitle = title;\n        }\n    }\n    updateInnerCircleNodes() {\n        var _a;\n        const { innerCircle, oldInnerCircle, innerCircleNode: oldNode } = this;\n        if (oldInnerCircle !== innerCircle) {\n            let circle;\n            if (oldNode) {\n                this.backgroundGroup.removeChild(oldNode);\n            }\n            if (innerCircle) {\n                circle = new Circle();\n                circle.fill = innerCircle.fill;\n                circle.fillOpacity = (_a = innerCircle.fillOpacity) !== null && _a !== void 0 ? _a : 1;\n                this.backgroundGroup.appendChild(circle);\n            }\n            this.oldInnerCircle = innerCircle;\n            this.innerCircleNode = circle;\n        }\n    }\n    updateNodeMidPoint() {\n        this.nodeData.forEach((d) => {\n            const radius = this.radiusScale.convert(d.radius);\n            d.nodeMidPoint = {\n                x: d.midCos * Math.max(0, radius / 2),\n                y: d.midSin * Math.max(0, radius / 2),\n            };\n        });\n    }\n    updateSelections() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.updateGroupSelection();\n        });\n    }\n    updateGroupSelection() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { groupSelection, highlightSelection, calloutLabelSelection, sectorLabelSelection, innerLabelsSelection, } = this;\n            const update = (selection) => {\n                return selection.update(this.nodeData, (group) => {\n                    const sector = new Sector();\n                    sector.tag = PieNodeTag.Sector;\n                    group.appendChild(sector);\n                });\n            };\n            this.groupSelection = update(groupSelection);\n            this.highlightSelection = update(highlightSelection);\n            calloutLabelSelection.update(this.nodeData, (group) => {\n                const line = new Line();\n                line.tag = PieNodeTag.Callout;\n                line.pointerEvents = PointerEvents.None;\n                group.appendChild(line);\n                const text = new Text();\n                text.tag = PieNodeTag.Label;\n                text.pointerEvents = PointerEvents.None;\n                group.appendChild(text);\n            });\n            sectorLabelSelection.update(this.nodeData, (node) => {\n                node.pointerEvents = PointerEvents.None;\n            });\n            innerLabelsSelection.update(this.innerLabels, (node) => {\n                node.pointerEvents = PointerEvents.None;\n            });\n        });\n    }\n    updateNodes(seriesRect) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const highlightedDatum = (_a = this.highlightManager) === null || _a === void 0 ? void 0 : _a.getActiveHighlight();\n            const isVisible = this.seriesItemEnabled.indexOf(true) >= 0;\n            this.rootGroup.visible = isVisible;\n            this.backgroundGroup.visible = isVisible;\n            this.contentGroup.visible = isVisible;\n            this.highlightGroup.visible = isVisible && (highlightedDatum === null || highlightedDatum === void 0 ? void 0 : highlightedDatum.series) === this;\n            this.labelGroup.visible = isVisible;\n            this.contentGroup.opacity = this.getOpacity();\n            this.updateInnerCircle();\n            const { radiusScale } = this;\n            const innerRadius = radiusScale.convert(0);\n            const updateSectorFn = (sector, datum, index, isDatumHighlighted) => {\n                const radius = radiusScale.convert(datum.radius);\n                // Bring highlighted sector's parent group to front.\n                const sectorParent = sector.parent;\n                const sectorGrandParent = sectorParent === null || sectorParent === void 0 ? void 0 : sectorParent.parent;\n                if (isDatumHighlighted && sectorParent && sectorGrandParent) {\n                    sectorGrandParent.removeChild(sectorParent);\n                    sectorGrandParent.appendChild(sectorParent);\n                }\n                sector.innerRadius = Math.max(0, innerRadius);\n                sector.outerRadius = Math.max(0, radius);\n                if (isDatumHighlighted) {\n                    sector.startAngle = datum.startAngle;\n                    sector.endAngle = datum.endAngle;\n                }\n                const format = this.getSectorFormat(datum.datum, datum.itemId, index, isDatumHighlighted);\n                sector.fill = format.fill;\n                sector.stroke = format.stroke;\n                sector.strokeWidth = format.strokeWidth;\n                sector.fillOpacity = format.fillOpacity;\n                sector.strokeOpacity = this.strokeOpacity;\n                sector.lineDash = this.lineDash;\n                sector.lineDashOffset = this.lineDashOffset;\n                sector.fillShadow = this.shadow;\n                sector.lineJoin = 'round';\n                sector.visible = this.seriesItemEnabled[index];\n            };\n            this.groupSelection\n                .selectByTag(PieNodeTag.Sector)\n                .forEach((node, index) => updateSectorFn(node, node.datum, index, false));\n            this.highlightSelection.selectByTag(PieNodeTag.Sector).forEach((node, index) => {\n                const isDatumHighlighted = (highlightedDatum === null || highlightedDatum === void 0 ? void 0 : highlightedDatum.series) === this && node.datum.itemId === highlightedDatum.itemId;\n                node.visible = isDatumHighlighted;\n                if (node.visible) {\n                    updateSectorFn(node, node.datum, index, isDatumHighlighted);\n                }\n            });\n            this.animationState.transition('update');\n            this.updateCalloutLineNodes();\n            this.updateCalloutLabelNodes(seriesRect);\n            this.updateSectorLabelNodes();\n            this.updateInnerLabelNodes();\n        });\n    }\n    updateCalloutLineNodes() {\n        var _a;\n        const { radiusScale, calloutLine } = this;\n        const calloutLength = calloutLine.length;\n        const calloutStrokeWidth = calloutLine.strokeWidth;\n        const calloutColors = (_a = calloutLine.colors) !== null && _a !== void 0 ? _a : this.strokes;\n        const { offset } = this.calloutLabel;\n        this.calloutLabelSelection.selectByTag(PieNodeTag.Callout).forEach((line, index) => {\n            const datum = line.datum;\n            const radius = radiusScale.convert(datum.radius);\n            const outerRadius = Math.max(0, radius);\n            const label = datum.calloutLabel;\n            if ((label === null || label === void 0 ? void 0 : label.text) && !label.hidden && outerRadius !== 0) {\n                line.visible = true;\n                line.strokeWidth = calloutStrokeWidth;\n                line.stroke = calloutColors[index % calloutColors.length];\n                line.fill = undefined;\n                const x1 = datum.midCos * outerRadius;\n                const y1 = datum.midSin * outerRadius;\n                let x2 = datum.midCos * (outerRadius + calloutLength);\n                let y2 = datum.midSin * (outerRadius + calloutLength);\n                if (label.collisionTextAlign || label.collisionOffsetY !== 0) {\n                    // Get the closest point to the text bounding box\n                    const box = label.box;\n                    let cx = x2;\n                    let cy = y2;\n                    if (x2 < box.x) {\n                        cx = box.x;\n                    }\n                    else if (x2 > box.x + box.width) {\n                        cx = box.x + box.width;\n                    }\n                    if (y2 < box.y) {\n                        cy = box.y;\n                    }\n                    else if (y2 > box.y + box.height) {\n                        cy = box.y + box.height;\n                    }\n                    // Apply label offset\n                    const dx = cx - x2;\n                    const dy = cy - y2;\n                    const length = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n                    const paddedLength = length - offset;\n                    if (paddedLength > 0) {\n                        x2 = x2 + (dx * paddedLength) / length;\n                        y2 = y2 + (dy * paddedLength) / length;\n                    }\n                }\n                line.x1 = x1;\n                line.y1 = y1;\n                line.x2 = x2;\n                line.y2 = y2;\n            }\n            else {\n                line.visible = false;\n            }\n        });\n    }\n    getLabelOverflow(text, box, seriesRect) {\n        const seriesLeft = seriesRect.x - this.centerX;\n        const seriesRight = seriesRect.x + seriesRect.width - this.centerX;\n        const seriesTop = seriesRect.y - this.centerY;\n        const seriesBottom = seriesRect.y + seriesRect.height - this.centerY;\n        const errPx = 1; // Prevents errors related to floating point calculations\n        let visibleTextPart = 1;\n        if (box.x + errPx < seriesLeft) {\n            visibleTextPart = (box.x + box.width - seriesLeft) / box.width;\n        }\n        else if (box.x + box.width - errPx > seriesRight) {\n            visibleTextPart = (seriesRight - box.x) / box.width;\n        }\n        const hasVerticalOverflow = box.y + errPx < seriesTop || box.y + box.height - errPx > seriesBottom;\n        const textLength = Math.floor(text.length * visibleTextPart) - 1;\n        const hasSurroundingSeriesOverflow = this.bboxIntersectsSurroundingSeries(box);\n        return { visibleTextPart, textLength, hasVerticalOverflow, hasSurroundingSeriesOverflow };\n    }\n    bboxIntersectsSurroundingSeries(box, dx = 0, dy = 0) {\n        const { surroundingRadius } = this;\n        if (surroundingRadius == null) {\n            return false;\n        }\n        const corners = [\n            { x: box.x + dx, y: box.y + dy },\n            { x: box.x + box.width + dx, y: box.y + dy },\n            { x: box.x + box.width + dx, y: box.y + box.height + dy },\n            { x: box.x + dx, y: box.y + box.height + dy },\n        ];\n        const sur2 = Math.pow(surroundingRadius, 2);\n        return corners.some((corner) => Math.pow(corner.x, 2) + Math.pow(corner.y, 2) > sur2);\n    }\n    computeCalloutLabelCollisionOffsets() {\n        const { radiusScale, calloutLabel, calloutLine } = this;\n        const { offset, minSpacing } = calloutLabel;\n        const innerRadius = radiusScale.convert(0);\n        const shouldSkip = (datum) => {\n            const label = datum.calloutLabel;\n            const radius = radiusScale.convert(datum.radius);\n            const outerRadius = Math.max(0, radius);\n            return !label || outerRadius === 0;\n        };\n        const fullData = this.nodeData;\n        const data = this.nodeData.filter((text) => !shouldSkip(text));\n        data.forEach((datum) => {\n            const label = datum.calloutLabel;\n            label.hidden = false;\n            label.collisionTextAlign = undefined;\n            label.collisionOffsetY = 0;\n        });\n        if (data.length <= 1) {\n            return;\n        }\n        const leftLabels = data.filter((d) => d.midCos < 0).sort((a, b) => a.midSin - b.midSin);\n        const rightLabels = data.filter((d) => d.midCos >= 0).sort((a, b) => a.midSin - b.midSin);\n        const topLabels = data\n            .filter((d) => d.midSin < 0 && d.calloutLabel.textAlign === 'center')\n            .sort((a, b) => a.midCos - b.midCos);\n        const bottomLabels = data\n            .filter((d) => d.midSin >= 0 && d.calloutLabel.textAlign === 'center')\n            .sort((a, b) => a.midCos - b.midCos);\n        const tempTextNode = new Text();\n        const getTextBBox = (datum) => {\n            const label = datum.calloutLabel;\n            const radius = radiusScale.convert(datum.radius);\n            const outerRadius = Math.max(0, radius);\n            const labelRadius = outerRadius + calloutLine.length + offset;\n            const x = datum.midCos * labelRadius;\n            const y = datum.midSin * labelRadius + label.collisionOffsetY;\n            this.setTextDimensionalProps(tempTextNode, x, y, this.calloutLabel, label);\n            return tempTextNode.computeBBox();\n        };\n        const avoidNeighbourYCollision = (label, next, direction) => {\n            const box = getTextBBox(label).grow(minSpacing / 2);\n            const other = getTextBBox(next).grow(minSpacing / 2);\n            // The full collision is not detected, because sometimes\n            // the next label can appear behind the label with offset\n            const collidesOrBehind = box.x < other.x + other.width &&\n                box.x + box.width > other.x &&\n                (direction === 'to-top' ? box.y < other.y + other.height : box.y + box.height > other.y);\n            if (collidesOrBehind) {\n                const dy = direction === 'to-top' ? box.y - other.y - other.height : box.y + box.height - other.y;\n                next.calloutLabel.collisionOffsetY = dy;\n            }\n        };\n        const avoidYCollisions = (labels) => {\n            const midLabel = labels.slice().sort((a, b) => Math.abs(a.midSin) - Math.abs(b.midSin))[0];\n            const midIndex = labels.indexOf(midLabel);\n            for (let i = midIndex - 1; i >= 0; i--) {\n                const prev = labels[i + 1];\n                const next = labels[i];\n                avoidNeighbourYCollision(prev, next, 'to-top');\n            }\n            for (let i = midIndex + 1; i < labels.length; i++) {\n                const prev = labels[i - 1];\n                const next = labels[i];\n                avoidNeighbourYCollision(prev, next, 'to-bottom');\n            }\n        };\n        const avoidXCollisions = (labels) => {\n            const labelsCollideLabelsByY = data.some((datum) => datum.calloutLabel.collisionOffsetY !== 0);\n            const boxes = labels.map((label) => getTextBBox(label));\n            const paddedBoxes = boxes.map((box) => box.clone().grow(minSpacing / 2));\n            let labelsCollideLabelsByX = false;\n            for (let i = 0; i < paddedBoxes.length && !labelsCollideLabelsByX; i++) {\n                const box = paddedBoxes[i];\n                for (let j = i + 1; j < labels.length; j++) {\n                    const other = paddedBoxes[j];\n                    if (box.collidesBBox(other)) {\n                        labelsCollideLabelsByX = true;\n                        break;\n                    }\n                }\n            }\n            const sectors = fullData.map((datum) => {\n                const { startAngle, endAngle } = datum;\n                const radius = radiusScale.convert(datum.radius);\n                const outerRadius = Math.max(0, radius);\n                return { startAngle, endAngle, innerRadius, outerRadius };\n            });\n            const labelsCollideSectors = boxes.some((box) => {\n                return sectors.some((sector) => boxCollidesSector(box, sector));\n            });\n            if (!labelsCollideLabelsByX && !labelsCollideLabelsByY && !labelsCollideSectors) {\n                return;\n            }\n            labels\n                .filter((datum) => datum.calloutLabel.textAlign === 'center')\n                .forEach((datum) => {\n                const label = datum.calloutLabel;\n                if (datum.midCos < 0) {\n                    label.collisionTextAlign = 'right';\n                }\n                else if (datum.midCos > 0) {\n                    label.collisionTextAlign = 'left';\n                }\n                else {\n                    label.collisionTextAlign = 'center';\n                }\n            });\n        };\n        avoidYCollisions(leftLabels);\n        avoidYCollisions(rightLabels);\n        avoidXCollisions(topLabels);\n        avoidXCollisions(bottomLabels);\n    }\n    updateCalloutLabelNodes(seriesRect) {\n        const { radiusScale, calloutLabel, calloutLine } = this;\n        const calloutLength = calloutLine.length;\n        const { offset, color } = calloutLabel;\n        const tempTextNode = new Text();\n        this.calloutLabelSelection.selectByTag(PieNodeTag.Label).forEach((text) => {\n            const { datum } = text;\n            const label = datum.calloutLabel;\n            const radius = radiusScale.convert(datum.radius);\n            const outerRadius = Math.max(0, radius);\n            if (!(label === null || label === void 0 ? void 0 : label.text) || outerRadius === 0 || label.hidden) {\n                text.visible = false;\n                return;\n            }\n            const labelRadius = outerRadius + calloutLength + offset;\n            const x = datum.midCos * labelRadius;\n            const y = datum.midSin * labelRadius + label.collisionOffsetY;\n            // Detect text overflow\n            this.setTextDimensionalProps(tempTextNode, x, y, this.calloutLabel, label);\n            const box = tempTextNode.computeBBox();\n            const { visibleTextPart, textLength, hasVerticalOverflow } = this.getLabelOverflow(label.text, box, seriesRect);\n            const displayText = visibleTextPart === 1 ? label.text : `${label.text.substring(0, textLength)}`;\n            this.setTextDimensionalProps(text, x, y, this.calloutLabel, Object.assign(Object.assign({}, label), { text: displayText }));\n            text.fill = color;\n            text.visible = !hasVerticalOverflow;\n        });\n    }\n    computeLabelsBBox(options, seriesRect) {\n        var _a;\n        const { radiusScale, calloutLabel, calloutLine } = this;\n        const calloutLength = calloutLine.length;\n        const { offset, maxCollisionOffset, minSpacing } = calloutLabel;\n        this.maybeRefreshNodeData();\n        this.updateRadiusScale();\n        this.computeCalloutLabelCollisionOffsets();\n        const textBoxes = [];\n        const text = new Text();\n        let titleBox;\n        if (((_a = this.title) === null || _a === void 0 ? void 0 : _a.text) && this.title.enabled) {\n            const dy = this.getTitleTranslationY();\n            if (isFinite(dy)) {\n                this.setTextDimensionalProps(text, 0, dy, this.title, {\n                    text: this.title.text,\n                    textBaseline: 'bottom',\n                    textAlign: 'center',\n                    hidden: false,\n                    collisionTextAlign: undefined,\n                    collisionOffsetY: 0,\n                });\n                titleBox = text.computeBBox();\n                textBoxes.push(titleBox);\n            }\n        }\n        this.nodeData.forEach((datum) => {\n            const label = datum.calloutLabel;\n            const radius = radiusScale.convert(datum.radius);\n            const outerRadius = Math.max(0, radius);\n            if (!label || outerRadius === 0) {\n                return null;\n            }\n            const labelRadius = outerRadius + calloutLength + offset;\n            const x = datum.midCos * labelRadius;\n            const y = datum.midSin * labelRadius + label.collisionOffsetY;\n            this.setTextDimensionalProps(text, x, y, this.calloutLabel, label);\n            const box = text.computeBBox();\n            label.box = box;\n            // Hide labels that where pushed to far by the collision avoidance algorithm\n            if (Math.abs(label.collisionOffsetY) > maxCollisionOffset) {\n                label.hidden = true;\n                return;\n            }\n            // Hide labels intersecting or above the title\n            if (titleBox) {\n                const seriesTop = seriesRect.y - this.centerY;\n                const titleCleanArea = new BBox(titleBox.x - minSpacing, seriesTop, titleBox.width + 2 * minSpacing, titleBox.y + titleBox.height + minSpacing - seriesTop);\n                if (box.collidesBBox(titleCleanArea)) {\n                    label.hidden = true;\n                    return;\n                }\n            }\n            if (options.hideWhenNecessary) {\n                const { textLength, hasVerticalOverflow, hasSurroundingSeriesOverflow } = this.getLabelOverflow(label.text, box, seriesRect);\n                const isTooShort = label.text.length > 2 && textLength < 2;\n                if (hasVerticalOverflow || isTooShort || hasSurroundingSeriesOverflow) {\n                    label.hidden = true;\n                    return;\n                }\n            }\n            label.hidden = false;\n            textBoxes.push(box);\n        });\n        if (textBoxes.length === 0) {\n            return null;\n        }\n        return BBox.merge(textBoxes);\n    }\n    setTextDimensionalProps(textNode, x, y, style, label) {\n        var _a, _b;\n        const { fontStyle, fontWeight, fontSize, fontFamily } = style;\n        textNode.fontStyle = fontStyle;\n        textNode.fontWeight = fontWeight;\n        textNode.fontSize = fontSize;\n        textNode.fontFamily = fontFamily;\n        textNode.text = label.text;\n        textNode.x = x;\n        textNode.y = y;\n        textNode.textAlign = (_b = (_a = label === null || label === void 0 ? void 0 : label.collisionTextAlign) !== null && _a !== void 0 ? _a : label === null || label === void 0 ? void 0 : label.textAlign) !== null && _b !== void 0 ? _b : 'center';\n        textNode.textBaseline = label.textBaseline;\n    }\n    updateSectorLabelNodes() {\n        const { radiusScale } = this;\n        const innerRadius = radiusScale.convert(0);\n        const { fontSize, fontStyle, fontWeight, fontFamily, positionOffset, positionRatio, color } = this.sectorLabel;\n        const isDoughnut = innerRadius > 0;\n        const singleVisibleSector = this.seriesItemEnabled.filter(Boolean).length === 1;\n        this.sectorLabelSelection.each((text, datum) => {\n            const sectorLabel = datum.sectorLabel;\n            const radius = radiusScale.convert(datum.radius);\n            const outerRadius = Math.max(0, radius);\n            let isTextVisible = false;\n            if (sectorLabel && outerRadius !== 0) {\n                const labelRadius = innerRadius * (1 - positionRatio) + radius * positionRatio + positionOffset;\n                text.fill = color;\n                text.fontStyle = fontStyle;\n                text.fontWeight = fontWeight;\n                text.fontSize = fontSize;\n                text.fontFamily = fontFamily;\n                text.text = sectorLabel.text;\n                const shouldPutTextInCenter = !isDoughnut && singleVisibleSector;\n                if (shouldPutTextInCenter) {\n                    text.x = 0;\n                    text.y = 0;\n                }\n                else {\n                    text.x = datum.midCos * labelRadius;\n                    text.y = datum.midSin * labelRadius;\n                }\n                text.textAlign = 'center';\n                text.textBaseline = 'middle';\n                const bbox = text.computeBBox();\n                const corners = [\n                    [bbox.x, bbox.y],\n                    [bbox.x + bbox.width, bbox.y],\n                    [bbox.x + bbox.width, bbox.y + bbox.height],\n                    [bbox.x, bbox.y + bbox.height],\n                ];\n                const { startAngle, endAngle } = datum;\n                const sectorBounds = { startAngle, endAngle, innerRadius, outerRadius };\n                if (corners.every(([x, y]) => isPointInSector(x, y, sectorBounds))) {\n                    isTextVisible = true;\n                }\n            }\n            text.visible = isTextVisible;\n        });\n    }\n    updateInnerCircle() {\n        const circle = this.innerCircleNode;\n        if (!circle) {\n            return;\n        }\n        const innerRadius = this.getInnerRadius();\n        if (innerRadius === 0) {\n            circle.size = 0;\n        }\n        else {\n            const circleRadius = Math.min(innerRadius, this.getOuterRadius());\n            const antiAliasingPadding = 1;\n            circle.size = Math.ceil(circleRadius * 2 + antiAliasingPadding);\n        }\n    }\n    updateInnerLabelNodes() {\n        const textBBoxes = [];\n        const margins = [];\n        this.innerLabelsSelection.each((text, datum) => {\n            const { fontStyle, fontWeight, fontSize, fontFamily, color } = datum;\n            text.fontStyle = fontStyle;\n            text.fontWeight = fontWeight;\n            text.fontSize = fontSize;\n            text.fontFamily = fontFamily;\n            text.text = datum.text;\n            text.x = 0;\n            text.y = 0;\n            text.fill = color;\n            text.textAlign = 'center';\n            text.textBaseline = 'alphabetic';\n            textBBoxes.push(text.computeBBox());\n            margins.push(datum.margin);\n        });\n        const getMarginTop = (index) => (index === 0 ? 0 : margins[index]);\n        const getMarginBottom = (index) => (index === margins.length - 1 ? 0 : margins[index]);\n        const totalHeight = textBBoxes.reduce((sum, bbox, i) => {\n            return sum + bbox.height + getMarginTop(i) + getMarginBottom(i);\n        }, 0);\n        const totalWidth = Math.max(...textBBoxes.map((bbox) => bbox.width));\n        const innerRadius = this.getInnerRadius();\n        const labelRadius = Math.sqrt(Math.pow(totalWidth / 2, 2) + Math.pow(totalHeight / 2, 2));\n        const labelsVisible = labelRadius <= (innerRadius > 0 ? innerRadius : this.getOuterRadius());\n        const textBottoms = [];\n        for (let i = 0, prev = -totalHeight / 2; i < textBBoxes.length; i++) {\n            const bbox = textBBoxes[i];\n            const bottom = bbox.height + prev + getMarginTop(i);\n            textBottoms.push(bottom);\n            prev = bottom + getMarginBottom(i);\n        }\n        this.innerLabelsSelection.each((text, _datum, index) => {\n            text.y = textBottoms[index];\n            text.visible = labelsVisible;\n        });\n    }\n    getNodeClickEvent(event, datum) {\n        return new PieSeriesNodeClickEvent(this.angleKey, this.calloutLabelKey, this.sectorLabelKey, this.radiusKey, event, datum, this);\n    }\n    getNodeDoubleClickEvent(event, datum) {\n        return new PieSeriesNodeDoubleClickEvent(this.angleKey, this.calloutLabelKey, this.sectorLabelKey, this.radiusKey, event, datum, this);\n    }\n    getTooltipHtml(nodeDatum) {\n        var _a;\n        const { angleKey } = this;\n        if (!angleKey) {\n            return '';\n        }\n        const { tooltip, angleName, radiusKey, radiusName, calloutLabelKey, sectorLabelKey, calloutLabelName, sectorLabelName, id: seriesId, } = this;\n        const { renderer: tooltipRenderer } = tooltip;\n        const { datum, angleValue, radiusValue, sectorFormat: { fill: color }, calloutLabel: { text: label = '' } = {}, } = nodeDatum;\n        const formattedAngleValue = typeof angleValue === 'number' ? toFixed(angleValue) : String(angleValue);\n        const title = (_a = this.title) === null || _a === void 0 ? void 0 : _a.text;\n        const content = `${label ? `${label}: ` : ''}${formattedAngleValue}`;\n        const defaults = {\n            title,\n            backgroundColor: color,\n            content,\n        };\n        if (tooltipRenderer) {\n            return toTooltipHtml(tooltipRenderer({\n                datum,\n                angleKey,\n                angleValue,\n                angleName,\n                radiusKey,\n                radiusValue,\n                radiusName,\n                calloutLabelKey,\n                calloutLabelName,\n                sectorLabelKey,\n                sectorLabelName,\n                title,\n                color,\n                seriesId,\n            }), defaults);\n        }\n        return toTooltipHtml(defaults);\n    }\n    getLegendData() {\n        var _a, _b, _c;\n        const { calloutLabelKey, legendItemKey, id, data } = this;\n        if (!data || data.length === 0)\n            return [];\n        if (!legendItemKey && !calloutLabelKey)\n            return [];\n        const titleText = ((_a = this.title) === null || _a === void 0 ? void 0 : _a.showInLegend) && this.title.text;\n        const legendData = [];\n        for (let index = 0; index < data.length; index++) {\n            const datum = data[index];\n            const labelParts = [];\n            if (titleText) {\n                labelParts.push(titleText);\n            }\n            const labels = this.getLabels(datum, 2 * Math.PI, 2 * Math.PI, false);\n            if (legendItemKey && labels.legendItem !== undefined) {\n                labelParts.push(labels.legendItem.text);\n            }\n            else if (calloutLabelKey && ((_b = labels.calloutLabel) === null || _b === void 0 ? void 0 : _b.text) !== undefined) {\n                labelParts.push((_c = labels.calloutLabel) === null || _c === void 0 ? void 0 : _c.text);\n            }\n            if (labelParts.length === 0)\n                continue;\n            const sectorFormat = this.getSectorFormat(datum, index, index, false);\n            legendData.push({\n                legendType: 'category',\n                id,\n                itemId: index,\n                seriesId: id,\n                enabled: this.seriesItemEnabled[index],\n                label: {\n                    text: labelParts.join(' - '),\n                },\n                marker: {\n                    fill: sectorFormat.fill,\n                    stroke: sectorFormat.stroke,\n                    fillOpacity: this.fillOpacity,\n                    strokeOpacity: this.strokeOpacity,\n                },\n            });\n        }\n        return legendData;\n    }\n    onLegendItemClick(event) {\n        const { enabled, itemId, series } = event;\n        if (series.id === this.id) {\n            this.toggleSeriesItem(itemId, enabled);\n        }\n        else if (series.type === 'pie') {\n            this.toggleOtherSeriesItems(series, itemId, enabled);\n        }\n    }\n    toggleSeriesItem(itemId, enabled) {\n        this.seriesItemEnabled[itemId] = enabled;\n        this.nodeDataRefresh = true;\n    }\n    toggleOtherSeriesItems(series, itemId, enabled) {\n        var _a, _b;\n        const { legendItemKey } = this;\n        if (!legendItemKey)\n            return;\n        const datumToggledLegendItemValue = series.legendItemKey && ((_a = series.data) === null || _a === void 0 ? void 0 : _a.find((_, index) => index === itemId)[series.legendItemKey]);\n        if (!datumToggledLegendItemValue)\n            return;\n        (_b = this.data) === null || _b === void 0 ? void 0 : _b.forEach((datum, datumItemId) => {\n            if (datum[legendItemKey] === datumToggledLegendItemValue) {\n                this.toggleSeriesItem(datumItemId, enabled);\n            }\n        });\n    }\n    animateEmptyUpdateReady() {\n        const duration = 1000;\n        const labelDuration = 200;\n        const rotation = Math.PI / -2 + toRadians(this.rotation);\n        this.groupSelection.selectByTag(PieNodeTag.Sector).forEach((node) => {\n            var _a;\n            const datum = node.datum;\n            (_a = this.animationManager) === null || _a === void 0 ? void 0 : _a.animateMany(`${this.id}_empty-update-ready_${node.id}`, [\n                { from: rotation, to: datum.startAngle },\n                { from: rotation, to: datum.endAngle },\n            ], {\n                disableInteractions: true,\n                duration,\n                ease: easing.easeOut,\n                repeat: 0,\n                onUpdate([startAngle, endAngle]) {\n                    node.startAngle = startAngle;\n                    node.endAngle = endAngle;\n                },\n            });\n        });\n        const labelAnimationOptions = {\n            from: 0,\n            to: 1,\n            delay: duration,\n            duration: labelDuration,\n            ease: easing.linear,\n            repeat: 0,\n        };\n        this.calloutLabelSelection.each((label) => {\n            var _a;\n            (_a = this.animationManager) === null || _a === void 0 ? void 0 : _a.animate(`${this.id}_empty-update-ready_${label.id}`, Object.assign(Object.assign({}, labelAnimationOptions), { onUpdate(opacity) {\n                    label.opacity = opacity;\n                } }));\n        });\n        this.sectorLabelSelection.each((label) => {\n            var _a;\n            (_a = this.animationManager) === null || _a === void 0 ? void 0 : _a.animate(`${this.id}_empty-update-ready_${label.id}`, Object.assign(Object.assign({}, labelAnimationOptions), { onUpdate(opacity) {\n                    label.opacity = opacity;\n                } }));\n        });\n        this.innerLabelsSelection.each((label) => {\n            var _a;\n            (_a = this.animationManager) === null || _a === void 0 ? void 0 : _a.animate(`${this.id}_empty-update-ready_${label.id}`, Object.assign(Object.assign({}, labelAnimationOptions), { onUpdate(opacity) {\n                    label.opacity = opacity;\n                } }));\n        });\n    }\n    animateReadyUpdateReady() {\n        this.groupSelection.selectByTag(PieNodeTag.Sector).forEach((node) => {\n            const { datum } = node;\n            node.startAngle = datum.startAngle;\n            node.endAngle = datum.endAngle;\n        });\n    }\n}\nPieSeries.className = 'PieSeries';\nPieSeries.type = 'pie';\n__decorate([\n    Validate(STRING)\n], PieSeries.prototype, \"angleKey\", void 0);\n__decorate([\n    Validate(STRING)\n], PieSeries.prototype, \"angleName\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], PieSeries.prototype, \"radiusKey\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], PieSeries.prototype, \"radiusName\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0))\n], PieSeries.prototype, \"radiusMin\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0))\n], PieSeries.prototype, \"radiusMax\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], PieSeries.prototype, \"calloutLabelKey\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], PieSeries.prototype, \"calloutLabelName\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], PieSeries.prototype, \"sectorLabelKey\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], PieSeries.prototype, \"sectorLabelName\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], PieSeries.prototype, \"legendItemKey\", void 0);\n__decorate([\n    Validate(COLOR_STRING_ARRAY)\n], PieSeries.prototype, \"fills\", void 0);\n__decorate([\n    Validate(COLOR_STRING_ARRAY)\n], PieSeries.prototype, \"strokes\", void 0);\n__decorate([\n    Validate(NUMBER(0, 1))\n], PieSeries.prototype, \"fillOpacity\", void 0);\n__decorate([\n    Validate(NUMBER(0, 1))\n], PieSeries.prototype, \"strokeOpacity\", void 0);\n__decorate([\n    Validate(OPT_LINE_DASH)\n], PieSeries.prototype, \"lineDash\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], PieSeries.prototype, \"lineDashOffset\", void 0);\n__decorate([\n    Validate(OPT_FUNCTION)\n], PieSeries.prototype, \"formatter\", void 0);\n__decorate([\n    Validate(NUMBER(-360, 360))\n], PieSeries.prototype, \"rotation\", void 0);\n__decorate([\n    Validate(NUMBER())\n], PieSeries.prototype, \"outerRadiusOffset\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], PieSeries.prototype, \"outerRadiusRatio\", void 0);\n__decorate([\n    Validate(NUMBER())\n], PieSeries.prototype, \"innerRadiusOffset\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], PieSeries.prototype, \"innerRadiusRatio\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], PieSeries.prototype, \"strokeWidth\", void 0);\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Chart } from './chart.mjs';\nimport { PolarSeries } from './series/polar/polarSeries.mjs';\nimport { Padding } from '../util/padding.mjs';\nimport { BBox } from '../scene/bbox.mjs';\nimport { PieSeries } from './series/polar/pieSeries.mjs';\nexport class PolarChart extends Chart {\n    constructor(document = window.document, overrideDevicePixelRatio, resources) {\n        super(document, overrideDevicePixelRatio, resources);\n        this.padding = new Padding(40);\n    }\n    performLayout() {\n        const _super = Object.create(null, {\n            performLayout: { get: () => super.performLayout }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            const shrinkRect = yield _super.performLayout.call(this);\n            const fullSeriesRect = shrinkRect.clone();\n            this.computeSeriesRect(shrinkRect);\n            this.computeCircle();\n            const hoverRectPadding = 20;\n            const hoverRect = shrinkRect.clone().grow(hoverRectPadding);\n            this.hoverRect = hoverRect;\n            this.layoutService.dispatchLayoutComplete({\n                type: 'layout-complete',\n                chart: { width: this.scene.width, height: this.scene.height },\n                series: { rect: fullSeriesRect, paddedRect: shrinkRect, hoverRect, visible: true },\n                axes: [],\n            });\n            return shrinkRect;\n        });\n    }\n    computeSeriesRect(shrinkRect) {\n        const { seriesAreaPadding } = this;\n        shrinkRect.shrink(seriesAreaPadding.left, 'left');\n        shrinkRect.shrink(seriesAreaPadding.top, 'top');\n        shrinkRect.shrink(seriesAreaPadding.right, 'right');\n        shrinkRect.shrink(seriesAreaPadding.bottom, 'bottom');\n        this.seriesRect = shrinkRect;\n    }\n    computeCircle() {\n        const seriesBox = this.seriesRect;\n        const polarSeries = this.series.filter((series) => {\n            return series instanceof PolarSeries;\n        });\n        const setSeriesCircle = (cx, cy, r) => {\n            polarSeries.forEach((series) => {\n                series.centerX = cx;\n                series.centerY = cy;\n                series.radius = r;\n            });\n            const pieSeries = polarSeries.filter((series) => series instanceof PieSeries);\n            if (pieSeries.length > 1) {\n                const innerRadii = pieSeries\n                    .map((series) => {\n                    const innerRadius = series.getInnerRadius();\n                    return { series, innerRadius };\n                })\n                    .sort((a, b) => a.innerRadius - b.innerRadius);\n                innerRadii[innerRadii.length - 1].series.surroundingRadius = undefined;\n                for (let i = 0; i < innerRadii.length - 1; i++) {\n                    innerRadii[i].series.surroundingRadius = innerRadii[i + 1].innerRadius;\n                }\n            }\n        };\n        const centerX = seriesBox.x + seriesBox.width / 2;\n        const centerY = seriesBox.y + seriesBox.height / 2;\n        const initialRadius = Math.max(0, Math.min(seriesBox.width, seriesBox.height) / 2);\n        let radius = initialRadius;\n        setSeriesCircle(centerX, centerY, radius);\n        const shake = ({ hideWhenNecessary = false } = {}) => {\n            const labelBoxes = [];\n            for (const series of polarSeries) {\n                const box = series.computeLabelsBBox({ hideWhenNecessary }, seriesBox);\n                if (box == null)\n                    continue;\n                labelBoxes.push(box);\n            }\n            if (labelBoxes.length === 0) {\n                setSeriesCircle(centerX, centerY, initialRadius);\n                return;\n            }\n            const labelBox = BBox.merge(labelBoxes);\n            const refined = this.refineCircle(labelBox, radius);\n            setSeriesCircle(refined.centerX, refined.centerY, refined.radius);\n            if (refined.radius === radius) {\n                return;\n            }\n            radius = refined.radius;\n        };\n        shake(); // Initial attempt\n        shake(); // Precise attempt\n        shake(); // Just in case\n        shake({ hideWhenNecessary: true }); // Hide unnecessary labels\n        shake({ hideWhenNecessary: true }); // Final result\n    }\n    refineCircle(labelsBox, radius) {\n        const minCircleRatio = 0.5; // Prevents reduced circle to be too small\n        const seriesBox = this.seriesRect;\n        const circleLeft = -radius;\n        const circleTop = -radius;\n        const circleRight = radius;\n        const circleBottom = radius;\n        // Label padding around the circle\n        let padLeft = Math.max(0, circleLeft - labelsBox.x);\n        let padTop = Math.max(0, circleTop - labelsBox.y);\n        let padRight = Math.max(0, labelsBox.x + labelsBox.width - circleRight);\n        let padBottom = Math.max(0, labelsBox.y + labelsBox.height - circleBottom);\n        // Available area for the circle (after the padding will be applied)\n        const availCircleWidth = seriesBox.width - padLeft - padRight;\n        const availCircleHeight = seriesBox.height - padTop - padBottom;\n        let newRadius = Math.min(availCircleWidth, availCircleHeight) / 2;\n        const minHorizontalRadius = (minCircleRatio * seriesBox.width) / 2;\n        const minVerticalRadius = (minCircleRatio * seriesBox.height) / 2;\n        const minRadius = Math.min(minHorizontalRadius, minVerticalRadius);\n        if (newRadius < minRadius) {\n            // If the radius is too small, reduce the label padding\n            newRadius = minRadius;\n            const horizontalPadding = padLeft + padRight;\n            const verticalPadding = padTop + padBottom;\n            if (2 * newRadius + verticalPadding > seriesBox.height) {\n                const padHeight = seriesBox.height - 2 * newRadius;\n                if (Math.min(padTop, padBottom) * 2 > padHeight) {\n                    padTop = padHeight / 2;\n                    padBottom = padHeight / 2;\n                }\n                else if (padTop > padBottom) {\n                    padTop = padHeight - padBottom;\n                }\n                else {\n                    padBottom = padHeight - padTop;\n                }\n            }\n            if (2 * newRadius + horizontalPadding > seriesBox.width) {\n                const padWidth = seriesBox.width - 2 * newRadius;\n                if (Math.min(padLeft, padRight) * 2 > padWidth) {\n                    padLeft = padWidth / 2;\n                    padRight = padWidth / 2;\n                }\n                else if (padLeft > padRight) {\n                    padLeft = padWidth - padRight;\n                }\n                else {\n                    padRight = padWidth - padLeft;\n                }\n            }\n        }\n        const newWidth = padLeft + 2 * newRadius + padRight;\n        const newHeight = padTop + 2 * newRadius + padBottom;\n        return {\n            centerX: seriesBox.x + (seriesBox.width - newWidth) / 2 + padLeft + newRadius,\n            centerY: seriesBox.y + (seriesBox.height - newHeight) / 2 + padTop + newRadius,\n            radius: newRadius,\n        };\n    }\n}\nPolarChart.className = 'PolarChart';\nPolarChart.type = 'polar';\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { BBox } from '../scene/bbox.mjs';\nimport { Chart } from './chart.mjs';\nexport class HierarchyChart extends Chart {\n    constructor(document = window.document, overrideDevicePixelRatio, resources) {\n        super(document, overrideDevicePixelRatio, resources);\n        this._data = {};\n    }\n    performLayout() {\n        const _super = Object.create(null, {\n            performLayout: { get: () => super.performLayout }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            const shrinkRect = yield _super.performLayout.call(this);\n            const { seriesAreaPadding } = this;\n            const fullSeriesRect = shrinkRect.clone();\n            shrinkRect.shrink(seriesAreaPadding.left, 'left');\n            shrinkRect.shrink(seriesAreaPadding.top, 'top');\n            shrinkRect.shrink(seriesAreaPadding.right, 'right');\n            shrinkRect.shrink(seriesAreaPadding.bottom, 'bottom');\n            this.seriesRect = shrinkRect;\n            const hoverRectPadding = 20;\n            const hoverRect = shrinkRect.clone().grow(hoverRectPadding);\n            this.hoverRect = hoverRect;\n            yield Promise.all(this.series.map((series) => __awaiter(this, void 0, void 0, function* () {\n                series.rootGroup.translationX = Math.floor(shrinkRect.x);\n                series.rootGroup.translationY = Math.floor(shrinkRect.y);\n                yield series.update({ seriesRect: shrinkRect }); // this has to happen after the `updateAxes` call\n            })));\n            const { seriesRoot } = this;\n            seriesRoot.setClipRectInGroupCoordinateSpace(new BBox(shrinkRect.x, shrinkRect.y, shrinkRect.width, shrinkRect.height));\n            this.layoutService.dispatchLayoutComplete({\n                type: 'layout-complete',\n                chart: { width: this.scene.width, height: this.scene.height },\n                series: { rect: fullSeriesRect, paddedRect: shrinkRect, hoverRect, visible: true },\n                axes: [],\n            });\n            return shrinkRect;\n        });\n    }\n}\nHierarchyChart.className = 'HierarchyChart';\nHierarchyChart.type = 'hierarchy';\n","import { buildFormatter } from './timeFormat.mjs';\nconst interpolatePattern = /(#\\{(.*?)\\})/g;\nexport function interpolate(input, values, formats) {\n    return input.replace(interpolatePattern, function (...args) {\n        const name = args[2];\n        const [valueName, formatName] = name.split(':');\n        const value = values[valueName];\n        if (typeof value === 'number') {\n            const format = formatName && formats && formats[formatName];\n            if (format) {\n                const { locales, options } = format;\n                return value.toLocaleString(locales, options);\n            }\n            return String(value);\n        }\n        if (value instanceof Date) {\n            const format = formatName && formats && formats[formatName];\n            if (typeof format === 'string') {\n                const formatter = buildFormatter(format);\n                return formatter(value);\n            }\n            return value.toDateString();\n        }\n        if (typeof value === 'string' || (value === null || value === void 0 ? void 0 : value.toString)) {\n            return String(value);\n        }\n        return '';\n    });\n}\n","let element = null;\nexport function sanitizeHtml(text) {\n    element = element !== null && element !== void 0 ? element : document.createElement('div');\n    if (!text) {\n        return '';\n    }\n    element.textContent = text;\n    return element.innerHTML;\n}\n","import { NumericTicks } from './ticks.mjs';\nexport function calculateNiceSecondaryAxis(domain, primaryTickCount) {\n    // Make secondary axis domain nice using strict tick count, matching the tick count from the primary axis.\n    // This is to make the secondary axis grid lines/ tick positions align with the ones from the primary axis.\n    let start = Math.floor(domain[0]);\n    let stop = domain[1];\n    start = calculateNiceStart(start, stop, primaryTickCount);\n    const step = getTickStep(start, stop, primaryTickCount);\n    const segments = primaryTickCount - 1;\n    stop = start + segments * step;\n    const d = [start, stop];\n    const ticks = getTicks(start, step, primaryTickCount);\n    return [d, ticks];\n}\nfunction calculateNiceStart(a, b, count) {\n    const rawStep = Math.abs(b - a) / (count - 1);\n    const order = Math.floor(Math.log10(rawStep));\n    const magnitude = Math.pow(10, order);\n    return Math.floor(a / magnitude) * magnitude;\n}\nfunction getTicks(start, step, count) {\n    // power of the step will be negative if the step is a fraction (between 0 and 1)\n    const stepPower = Math.floor(Math.log10(step));\n    const fractionDigits = step > 0 && step < 1 ? Math.abs(stepPower) : 0;\n    const f = Math.pow(10, fractionDigits);\n    const ticks = new NumericTicks(fractionDigits);\n    for (let i = 0; i < count; i++) {\n        const tick = start + step * i;\n        ticks[i] = Math.round(tick * f) / f;\n    }\n    return ticks;\n}\nfunction getTickStep(start, stop, count) {\n    const segments = count - 1;\n    const rawStep = (stop - start) / segments;\n    return calculateNextNiceStep(rawStep);\n}\nfunction calculateNextNiceStep(rawStep) {\n    const order = Math.floor(Math.log10(rawStep));\n    const magnitude = Math.pow(10, order);\n    // Make order 1\n    const step = (rawStep / magnitude) * 10;\n    if (step > 0 && step <= 1) {\n        return magnitude / 10;\n    }\n    if (step > 1 && step <= 2) {\n        return (2 * magnitude) / 10;\n    }\n    if (step > 1 && step <= 5) {\n        return (5 * magnitude) / 10;\n    }\n    if (step > 5 && step <= 10) {\n        return (10 * magnitude) / 10;\n    }\n    if (step > 10 && step <= 20) {\n        return (20 * magnitude) / 10;\n    }\n    if (step > 20 && step <= 40) {\n        return (40 * magnitude) / 10;\n    }\n    if (step > 40 && step <= 50) {\n        return (50 * magnitude) / 10;\n    }\n    if (step > 50 && step <= 100) {\n        return (100 * magnitude) / 10;\n    }\n    return step;\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { LinearScale } from '../../scale/linearScale.mjs';\nimport { extent } from '../../util/array.mjs';\nimport { ChartAxis } from '../chartAxis.mjs';\nimport { Validate, GREATER_THAN, AND, LESS_THAN, NUMBER_OR_NAN } from '../../util/validation.mjs';\nimport { Default } from '../../util/default.mjs';\nimport { calculateNiceSecondaryAxis } from '../../util/secondaryAxisTicks.mjs';\nimport { Logger } from '../../util/logger.mjs';\nimport { BaseAxisTick } from '../../axis.mjs';\nclass NumberAxisTick extends BaseAxisTick {\n    constructor() {\n        super(...arguments);\n        this.maxSpacing = NaN;\n    }\n}\n__decorate([\n    Validate(AND(NUMBER_OR_NAN(1), GREATER_THAN('minSpacing'))),\n    Default(NaN)\n], NumberAxisTick.prototype, \"maxSpacing\", void 0);\nexport class NumberAxis extends ChartAxis {\n    constructor(moduleCtx, scale = new LinearScale()) {\n        super(moduleCtx, scale);\n        this.min = NaN;\n        this.max = NaN;\n        scale.strictClampByDefault = true;\n    }\n    normaliseDataDomain(d) {\n        var _a;\n        const { min, max } = this;\n        if (d.length > 2) {\n            d = (_a = extent(d)) !== null && _a !== void 0 ? _a : [NaN, NaN];\n        }\n        if (!isNaN(min)) {\n            d = [min, d[1]];\n        }\n        if (!isNaN(max)) {\n            d = [d[0], max];\n        }\n        if (d[0] > d[1]) {\n            d = [];\n        }\n        return d;\n    }\n    formatDatum(datum) {\n        if (typeof datum === 'number') {\n            return datum.toFixed(2);\n        }\n        else {\n            Logger.warnOnce('data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers.');\n            return String(datum);\n        }\n    }\n    createTick() {\n        return new NumberAxisTick();\n    }\n    updateSecondaryAxisTicks(primaryTickCount) {\n        if (this.dataDomain == null) {\n            throw new Error('AG Charts - dataDomain not calculated, cannot perform tick calculation.');\n        }\n        const [d, ticks] = calculateNiceSecondaryAxis(this.dataDomain, primaryTickCount !== null && primaryTickCount !== void 0 ? primaryTickCount : 0);\n        this.scale.nice = false;\n        this.scale.domain = d;\n        this.scale.update();\n        return ticks;\n    }\n}\nNumberAxis.className = 'NumberAxis';\nNumberAxis.type = 'number';\n__decorate([\n    Validate(AND(NUMBER_OR_NAN(), LESS_THAN('max'))),\n    Default(NaN)\n], NumberAxis.prototype, \"min\", void 0);\n__decorate([\n    Validate(AND(NUMBER_OR_NAN(), GREATER_THAN('min'))),\n    Default(NaN)\n], NumberAxis.prototype, \"max\", void 0);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { AND, GREATER_THAN, LESS_THAN, NUMBER_OR_NAN, predicateWithMessage, Validate } from '../../util/validation.mjs';\nimport { Default } from '../../util/default.mjs';\nimport { LogScale } from '../../scale/logScale.mjs';\nimport { NumberAxis } from './numberAxis.mjs';\nimport { extent } from '../../util/array.mjs';\nimport { Logger } from '../../util/logger.mjs';\nfunction NON_ZERO_NUMBER() {\n    // Cannot be 0\n    const message = `expecting a non-zero Number`;\n    return predicateWithMessage((v) => typeof v === 'number' && v !== 0, message);\n}\nexport class LogAxis extends NumberAxis {\n    constructor(moduleCtx) {\n        super(moduleCtx, new LogScale());\n        this.min = NaN;\n        this.max = NaN;\n        this.scale.strictClampByDefault = true;\n    }\n    normaliseDataDomain(d) {\n        var _a;\n        const { min, max } = this;\n        if (d.length > 2) {\n            d = (_a = extent(d)) !== null && _a !== void 0 ? _a : [NaN, NaN];\n        }\n        if (!isNaN(min)) {\n            d = [min, d[1]];\n        }\n        if (!isNaN(max)) {\n            d = [d[0], max];\n        }\n        const isInverted = d[0] > d[1];\n        const crossesZero = d[0] < 0 && d[1] > 0;\n        const hasZeroExtent = d[0] === 0 && d[1] === 0;\n        const invalidDomain = isInverted || crossesZero || hasZeroExtent;\n        if (invalidDomain) {\n            d = [];\n            if (crossesZero) {\n                Logger.warn(`the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information.`);\n            }\n            else if (hasZeroExtent) {\n                Logger.warn(`the data domain has 0 extent, no data is rendered.`);\n            }\n        }\n        if (d[0] === 0) {\n            d[0] = 1;\n        }\n        if (d[1] === 0) {\n            d[1] = -1;\n        }\n        return d;\n    }\n    set base(value) {\n        this.scale.base = value;\n    }\n    get base() {\n        return this.scale.base;\n    }\n}\nLogAxis.className = 'LogAxis';\nLogAxis.type = 'log';\n__decorate([\n    Validate(AND(NUMBER_OR_NAN(), LESS_THAN('max'), NON_ZERO_NUMBER())),\n    Default(NaN)\n], LogAxis.prototype, \"min\", void 0);\n__decorate([\n    Validate(AND(NUMBER_OR_NAN(), GREATER_THAN('min'), NON_ZERO_NUMBER())),\n    Default(NaN)\n], LogAxis.prototype, \"max\", void 0);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Validate, AND, LESS_THAN, GREATER_THAN, OPT_DATE_OR_DATETIME_MS, NUMBER_OR_NAN } from '../../util/validation.mjs';\nimport { TimeScale } from '../../scale/timeScale.mjs';\nimport { extent } from '../../util/array.mjs';\nimport { ChartAxis } from '../chartAxis.mjs';\nimport { Default } from '../../util/default.mjs';\nimport { BaseAxisTick } from '../../axis.mjs';\nclass TimeAxisTick extends BaseAxisTick {\n    constructor() {\n        super(...arguments);\n        this.maxSpacing = NaN;\n    }\n}\n__decorate([\n    Validate(AND(NUMBER_OR_NAN(1), GREATER_THAN('minSpacing'))),\n    Default(NaN)\n], TimeAxisTick.prototype, \"maxSpacing\", void 0);\nexport class TimeAxis extends ChartAxis {\n    constructor(moduleCtx) {\n        super(moduleCtx, new TimeScale());\n        this.datumFormat = '%m/%d/%y, %H:%M:%S';\n        this.min = undefined;\n        this.max = undefined;\n        const { scale } = this;\n        scale.strictClampByDefault = true;\n        this.refreshScale();\n        this.datumFormatter = scale.tickFormat({\n            specifier: this.datumFormat,\n        });\n    }\n    normaliseDataDomain(d) {\n        var _a;\n        let { min, max } = this;\n        if (typeof min === 'number') {\n            min = new Date(min);\n        }\n        if (typeof max === 'number') {\n            max = new Date(max);\n        }\n        if (d.length > 2) {\n            d = ((_a = extent(d)) !== null && _a !== void 0 ? _a : [0, 1000]).map((x) => new Date(x));\n        }\n        if (min instanceof Date) {\n            d = [min, d[1]];\n        }\n        if (max instanceof Date) {\n            d = [d[0], max];\n        }\n        if (d[0] > d[1]) {\n            d = [];\n        }\n        return d;\n    }\n    createTick() {\n        return new TimeAxisTick();\n    }\n    onLabelFormatChange(ticks, format) {\n        if (format) {\n            super.onLabelFormatChange(ticks, format);\n        }\n        else {\n            // For time axis labels to look nice, even if date format wasn't set.\n            this.labelFormatter = this.scale.tickFormat({ ticks });\n        }\n    }\n    formatDatum(datum) {\n        var _a;\n        return (_a = this.moduleCtx.callbackCache.call(this.datumFormatter, datum)) !== null && _a !== void 0 ? _a : String(datum);\n    }\n    calculatePadding(_min, _max) {\n        // numbers in domain correspond to Unix timestamps\n        // automatically expand domain by 1 in each direction\n        return 1;\n    }\n}\nTimeAxis.className = 'TimeAxis';\nTimeAxis.type = 'time';\n__decorate([\n    Validate(AND(OPT_DATE_OR_DATETIME_MS, LESS_THAN('max')))\n], TimeAxis.prototype, \"min\", void 0);\n__decorate([\n    Validate(AND(OPT_DATE_OR_DATETIME_MS, GREATER_THAN('min')))\n], TimeAxis.prototype, \"max\", void 0);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { SeriesTooltip, keyProperty, valueProperty } from '../series.mjs';\nimport { PointerEvents } from '../../../scene/node.mjs';\nimport { CartesianSeries, CartesianSeriesMarker, CartesianSeriesNodeClickEvent, CartesianSeriesNodeDoubleClickEvent, } from './cartesianSeries.mjs';\nimport { ChartAxisDirection } from '../../chartAxisDirection.mjs';\nimport { getMarker } from '../../marker/util.mjs';\nimport { toTooltipHtml } from '../../tooltip/tooltip.mjs';\nimport { extent } from '../../../util/array.mjs';\nimport { areArrayItemsStrictlyEqual } from '../../../util/equal.mjs';\nimport { interpolate } from '../../../util/string.mjs';\nimport { Label } from '../../label.mjs';\nimport { sanitizeHtml } from '../../../util/sanitize.mjs';\nimport { isContinuous, isNumber } from '../../../util/value.mjs';\nimport { ContinuousScale } from '../../../scale/continuousScale.mjs';\nimport { BOOLEAN_ARRAY, NUMBER, OPT_FUNCTION, OPT_LINE_DASH, OPT_STRING, STRING_ARRAY, COLOR_STRING_ARRAY, Validate, OPT_NUMBER, } from '../../../util/validation.mjs';\nimport { LogAxis } from '../../axis/logAxis.mjs';\nimport { DataModel } from '../../data/dataModel.mjs';\nimport { TimeAxis } from '../../axis/timeAxis.mjs';\nimport { sum } from '../../data/aggregateFunctions.mjs';\nimport { normaliseGroupTo } from '../../data/processors.mjs';\nimport * as easing from '../../../motion/easing.mjs';\nclass AreaSeriesLabel extends Label {\n    constructor() {\n        super(...arguments);\n        this.formatter = undefined;\n    }\n}\n__decorate([\n    Validate(OPT_FUNCTION)\n], AreaSeriesLabel.prototype, \"formatter\", void 0);\nclass AreaSeriesTooltip extends SeriesTooltip {\n    constructor() {\n        super(...arguments);\n        this.renderer = undefined;\n        this.format = undefined;\n    }\n}\n__decorate([\n    Validate(OPT_FUNCTION)\n], AreaSeriesTooltip.prototype, \"renderer\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], AreaSeriesTooltip.prototype, \"format\", void 0);\nvar AreaSeriesTag;\n(function (AreaSeriesTag) {\n    AreaSeriesTag[AreaSeriesTag[\"Fill\"] = 0] = \"Fill\";\n    AreaSeriesTag[AreaSeriesTag[\"Stroke\"] = 1] = \"Stroke\";\n    AreaSeriesTag[AreaSeriesTag[\"Marker\"] = 2] = \"Marker\";\n    AreaSeriesTag[AreaSeriesTag[\"Label\"] = 3] = \"Label\";\n})(AreaSeriesTag || (AreaSeriesTag = {}));\nexport class AreaSeries extends CartesianSeries {\n    constructor(moduleCtx) {\n        super({\n            moduleCtx,\n            pathsPerSeries: 2,\n            pathsZIndexSubOrderOffset: [0, 1000],\n            hasMarkers: true,\n            directionKeys: {\n                [ChartAxisDirection.X]: ['xKey'],\n                [ChartAxisDirection.Y]: ['yKeys'],\n            },\n            directionNames: {\n                [ChartAxisDirection.X]: ['xName'],\n                [ChartAxisDirection.Y]: ['yNames'],\n            },\n        });\n        this.tooltip = new AreaSeriesTooltip();\n        this.marker = new CartesianSeriesMarker();\n        this.label = new AreaSeriesLabel();\n        this.fills = ['#c16068', '#a2bf8a', '#ebcc87', '#80a0c3', '#b58dae', '#85c0d1'];\n        this.strokes = ['#874349', '#718661', '#a48f5f', '#5a7088', '#7f637a', '#5d8692'];\n        this.fillOpacity = 1;\n        this.strokeOpacity = 1;\n        this.lineDash = [0];\n        this.lineDashOffset = 0;\n        this.xKey = undefined;\n        this.xName = undefined;\n        this._yKeys = [];\n        this._visibles = [];\n        this.yNames = [];\n        this.strokeWidth = 2;\n        this.shadow = undefined;\n        const { marker, label } = this;\n        marker.enabled = false;\n        label.enabled = false;\n    }\n    set yKeys(values) {\n        if (!areArrayItemsStrictlyEqual(this._yKeys, values)) {\n            this._yKeys = values;\n            this.processedData = undefined;\n            this.processSeriesItemEnabled();\n        }\n    }\n    get yKeys() {\n        return this._yKeys;\n    }\n    set visibles(visibles) {\n        this._visibles = visibles;\n        this.processSeriesItemEnabled();\n    }\n    get visibles() {\n        return this._visibles;\n    }\n    processSeriesItemEnabled() {\n        const { seriesItemEnabled, _visibles: visibles = [] } = this;\n        seriesItemEnabled.clear();\n        this._yKeys.forEach((key, idx) => { var _a; return seriesItemEnabled.set(key, (_a = visibles[idx]) !== null && _a !== void 0 ? _a : true); });\n    }\n    set normalizedTo(value) {\n        const absValue = value ? Math.abs(value) : undefined;\n        if (this._normalizedTo !== absValue) {\n            this._normalizedTo = absValue;\n        }\n    }\n    get normalizedTo() {\n        return this._normalizedTo;\n    }\n    processData() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { xKey, yKeys, seriesItemEnabled, xAxis, yAxis, normalizedTo } = this;\n            const data = xKey && yKeys.length && this.data ? this.data : [];\n            const isContinuousX = (xAxis === null || xAxis === void 0 ? void 0 : xAxis.scale) instanceof ContinuousScale;\n            const isContinuousY = (yAxis === null || yAxis === void 0 ? void 0 : yAxis.scale) instanceof ContinuousScale;\n            const enabledYKeys = [...seriesItemEnabled.entries()].filter(([, enabled]) => enabled).map(([yKey]) => yKey);\n            const normaliseTo = normalizedTo && isFinite(normalizedTo) ? normalizedTo : undefined;\n            const extraProps = [];\n            if (normaliseTo) {\n                extraProps.push(normaliseGroupTo(enabledYKeys, normaliseTo, 'sum'));\n            }\n            this.dataModel = new DataModel({\n                props: [\n                    keyProperty(xKey, isContinuousX, { id: 'xValue' }),\n                    ...enabledYKeys.map((yKey) => valueProperty(yKey, isContinuousY, {\n                        id: `yValue-${yKey}`,\n                        missingValue: NaN,\n                        invalidValue: undefined,\n                    })),\n                    sum(enabledYKeys),\n                    ...extraProps,\n                ],\n                groupByKeys: true,\n                dataVisible: this.visible && enabledYKeys.length > 0,\n            });\n            this.processedData = this.dataModel.processData(data);\n        });\n    }\n    getDomain(direction) {\n        const { processedData, xAxis, yAxis } = this;\n        if (!processedData)\n            return [];\n        const { defs: { keys: [keyDef], }, domain: { keys: [keys], values: [yExtent], aggValues: [ySumExtent] = [], }, } = processedData;\n        if (direction === ChartAxisDirection.X) {\n            if (keyDef.valueType === 'category') {\n                return keys;\n            }\n            return this.fixNumericExtent(extent(keys), xAxis);\n        }\n        else if (yAxis instanceof LogAxis || yAxis instanceof TimeAxis) {\n            return this.fixNumericExtent(yExtent, yAxis);\n        }\n        else {\n            return this.fixNumericExtent(ySumExtent, yAxis);\n        }\n    }\n    createNodeData() {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const { xAxis, yAxis, data, processedData: { data: groupedData } = {}, ctx: { callbackCache }, } = this;\n            if (!xAxis || !yAxis || !data) {\n                return [];\n            }\n            const contexts = [];\n            const { yKeys, xKey = '', marker, label, fills, strokes, id: seriesId } = this;\n            const { scale: xScale } = xAxis;\n            const { scale: yScale } = yAxis;\n            const continuousY = yScale instanceof ContinuousScale;\n            const xOffset = ((_a = xScale.bandwidth) !== null && _a !== void 0 ? _a : 0) / 2;\n            const xDataCount = data.length;\n            const cumulativePathValues = new Array(xDataCount)\n                .fill(null)\n                .map(() => ({ left: 0, right: 0 }));\n            const cumulativeMarkerValues = new Array(xDataCount).fill(0);\n            const createPathCoordinates = (xDatum, yDatum, idx, side) => {\n                const x = xScale.convert(xDatum) + xOffset;\n                const prevY = cumulativePathValues[idx][side];\n                const currY = cumulativePathValues[idx][side] + yDatum;\n                const prevYCoordinate = yScale.convert(prevY, { strict: false });\n                const currYCoordinate = yScale.convert(currY, { strict: false });\n                cumulativePathValues[idx][side] = currY;\n                return [\n                    { x, y: currYCoordinate, size: marker.size },\n                    { x, y: prevYCoordinate, size: marker.size },\n                ];\n            };\n            const createMarkerCoordinate = (xDatum, yDatum, idx, rawYDatum) => {\n                let currY;\n                // if not normalized, the invalid data points will be processed as `undefined` in processData()\n                // if normalized, the invalid data points will be processed as 0 rather than `undefined`\n                // check if unprocessed datum is valid as we only want to show markers for valid points\n                const normalized = this.normalizedTo && isFinite(this.normalizedTo);\n                const normalizedAndValid = normalized && continuousY && isContinuous(rawYDatum);\n                const valid = (!normalized && !isNaN(rawYDatum)) || normalizedAndValid;\n                if (valid) {\n                    currY = cumulativeMarkerValues[idx] += yDatum;\n                }\n                const x = xScale.convert(xDatum) + xOffset;\n                const y = yScale.convert(currY, { strict: false });\n                return { x, y, size: marker.size };\n            };\n            yKeys.forEach((yKey, seriesIdx) => {\n                var _a;\n                const yKeyDataIndex = (_a = this.dataModel) === null || _a === void 0 ? void 0 : _a.resolveProcessedDataIndexById(`yValue-${yKey}`);\n                const labelSelectionData = [];\n                const markerSelectionData = [];\n                const strokeSelectionData = { itemId: yKey, points: [], yValues: [] };\n                const fillSelectionData = { itemId: yKey, points: [] };\n                contexts[seriesIdx] = {\n                    itemId: yKey,\n                    fillSelectionData,\n                    labelData: labelSelectionData,\n                    nodeData: markerSelectionData,\n                    strokeSelectionData,\n                };\n                if (!yKeyDataIndex) {\n                    return;\n                }\n                const fillPoints = fillSelectionData.points;\n                const fillPhantomPoints = [];\n                const strokePoints = strokeSelectionData.points;\n                const yValues = strokeSelectionData.yValues;\n                let datumIdx = -1;\n                groupedData === null || groupedData === void 0 ? void 0 : groupedData.forEach((datumGroup, dataIdx) => {\n                    const { keys: [xDatum], datum: datumArray, values: valuesArray, } = datumGroup;\n                    valuesArray.forEach((values, valueIdx) => {\n                        var _a;\n                        datumIdx++;\n                        const seriesDatum = datumArray[valueIdx];\n                        const rawYDatum = values[yKeyDataIndex.index];\n                        const yDatum = isNaN(rawYDatum) ? undefined : rawYDatum;\n                        const nextValuesSameGroup = valueIdx < valuesArray.length - 1;\n                        const nextDatumGroup = nextValuesSameGroup ? datumGroup : groupedData[dataIdx + 1];\n                        const nextXDatum = nextDatumGroup === null || nextDatumGroup === void 0 ? void 0 : nextDatumGroup.keys[0];\n                        const rawNextYIdx = nextValuesSameGroup ? valueIdx + 1 : 0;\n                        const rawNextYDatum = nextDatumGroup === null || nextDatumGroup === void 0 ? void 0 : nextDatumGroup.values[rawNextYIdx][yKeyDataIndex.index];\n                        const nextYDatum = isNaN(rawNextYDatum) ? undefined : rawNextYDatum;\n                        // marker data\n                        const point = createMarkerCoordinate(xDatum, +yDatum, datumIdx, seriesDatum[yKey]);\n                        if (marker) {\n                            markerSelectionData.push({\n                                index: datumIdx,\n                                series: this,\n                                itemId: yKey,\n                                datum: seriesDatum,\n                                nodeMidPoint: { x: point.x, y: point.y },\n                                cumulativeValue: cumulativeMarkerValues[datumIdx],\n                                yValue: yDatum,\n                                yKey,\n                                xKey,\n                                point,\n                                fill: fills[seriesIdx % fills.length],\n                                stroke: strokes[seriesIdx % strokes.length],\n                            });\n                        }\n                        // label data\n                        let labelText;\n                        if (label.formatter) {\n                            labelText = (_a = callbackCache.call(label.formatter, { value: yDatum, seriesId })) !== null && _a !== void 0 ? _a : '';\n                        }\n                        else {\n                            labelText = isNumber(yDatum) ? Number(yDatum).toFixed(2) : String(yDatum);\n                        }\n                        if (label) {\n                            labelSelectionData.push({\n                                index: datumIdx,\n                                itemId: yKey,\n                                point,\n                                label: labelText\n                                    ? {\n                                        text: labelText,\n                                        fontStyle: label.fontStyle,\n                                        fontWeight: label.fontWeight,\n                                        fontSize: label.fontSize,\n                                        fontFamily: label.fontFamily,\n                                        textAlign: 'center',\n                                        textBaseline: 'bottom',\n                                        fill: label.color,\n                                    }\n                                    : undefined,\n                            });\n                        }\n                        // fill data\n                        // Handle data in pairs of current and next x and y values\n                        const windowX = [xDatum, nextXDatum];\n                        const windowY = [yDatum, nextYDatum];\n                        if (windowX.some((v) => v == undefined)) {\n                            return;\n                        }\n                        if (windowY.some((v) => v == undefined)) {\n                            windowY[0] = 0;\n                            windowY[1] = 0;\n                        }\n                        const currCoordinates = createPathCoordinates(windowX[0], +windowY[0], datumIdx, 'right');\n                        fillPoints.push(currCoordinates[0]);\n                        fillPhantomPoints.push(currCoordinates[1]);\n                        const nextCoordinates = createPathCoordinates(windowX[1], +windowY[1], datumIdx, 'left');\n                        fillPoints.push(nextCoordinates[0]);\n                        fillPhantomPoints.push(nextCoordinates[1]);\n                        // stroke data\n                        strokePoints.push({ x: NaN, y: NaN }); // moveTo\n                        yValues.push(undefined);\n                        strokePoints.push(currCoordinates[0]);\n                        yValues.push(yDatum);\n                        if (nextYDatum !== undefined) {\n                            strokePoints.push(nextCoordinates[0]);\n                            yValues.push(yDatum);\n                        }\n                    });\n                });\n                for (let i = fillPhantomPoints.length - 1; i >= 0; i--) {\n                    fillPoints.push(fillPhantomPoints[i]);\n                }\n            });\n            return contexts;\n        });\n    }\n    isPathOrSelectionDirty() {\n        return this.marker.isDirty();\n    }\n    markerFactory() {\n        const { shape } = this.marker;\n        const MarkerShape = getMarker(shape);\n        return new MarkerShape();\n    }\n    updateMarkerSelection(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { nodeData, markerSelection } = opts;\n            const { marker: { enabled }, } = this;\n            const data = enabled && nodeData ? nodeData : [];\n            if (this.marker.isDirty()) {\n                markerSelection.clear();\n            }\n            return markerSelection.update(data, (marker) => {\n                marker.tag = AreaSeriesTag.Marker;\n            });\n        });\n    }\n    updateMarkerNodes(opts) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const { markerSelection, isHighlight: isDatumHighlighted } = opts;\n            const { id: seriesId, xKey = '', marker, seriesItemEnabled, yKeys, fills, strokes, fillOpacity: seriesFillOpacity, marker: { fillOpacity: markerFillOpacity = seriesFillOpacity }, strokeOpacity, highlightStyle: { item: { fill: highlightedFill, fillOpacity: highlightFillOpacity = markerFillOpacity, stroke: highlightedStroke, strokeWidth: highlightedDatumStrokeWidth, }, }, ctx: { callbackCache }, } = this;\n            const { size, formatter } = marker;\n            const markerStrokeWidth = (_a = marker.strokeWidth) !== null && _a !== void 0 ? _a : this.strokeWidth;\n            const customMarker = typeof marker.shape === 'function';\n            markerSelection.each((node, datum) => {\n                var _a, _b, _c, _d, _e, _f, _g, _h;\n                const yKeyIndex = yKeys.indexOf(datum.yKey);\n                const fill = isDatumHighlighted && highlightedFill !== undefined\n                    ? highlightedFill\n                    : (_a = marker.fill) !== null && _a !== void 0 ? _a : fills[yKeyIndex % fills.length];\n                const fillOpacity = isDatumHighlighted ? highlightFillOpacity : markerFillOpacity;\n                const stroke = isDatumHighlighted && highlightedStroke !== undefined\n                    ? highlightedStroke\n                    : (_b = marker.stroke) !== null && _b !== void 0 ? _b : strokes[yKeyIndex % fills.length];\n                const strokeWidth = isDatumHighlighted && highlightedDatumStrokeWidth !== undefined\n                    ? highlightedDatumStrokeWidth\n                    : markerStrokeWidth;\n                let format = undefined;\n                if (formatter) {\n                    format = callbackCache.call(formatter, {\n                        datum: datum.datum,\n                        xKey,\n                        yKey: datum.yKey,\n                        fill,\n                        stroke,\n                        strokeWidth,\n                        size,\n                        highlighted: isDatumHighlighted,\n                        seriesId,\n                    });\n                }\n                node.fill = (_c = format === null || format === void 0 ? void 0 : format.fill) !== null && _c !== void 0 ? _c : fill;\n                node.stroke = (_d = format === null || format === void 0 ? void 0 : format.stroke) !== null && _d !== void 0 ? _d : stroke;\n                node.strokeWidth = (_e = format === null || format === void 0 ? void 0 : format.strokeWidth) !== null && _e !== void 0 ? _e : strokeWidth;\n                node.fillOpacity = fillOpacity !== null && fillOpacity !== void 0 ? fillOpacity : 1;\n                node.strokeOpacity = (_g = (_f = marker.strokeOpacity) !== null && _f !== void 0 ? _f : strokeOpacity) !== null && _g !== void 0 ? _g : 1;\n                node.size = (_h = format === null || format === void 0 ? void 0 : format.size) !== null && _h !== void 0 ? _h : size;\n                node.translationX = datum.point.x;\n                node.translationY = datum.point.y;\n                node.visible =\n                    node.size > 0 && !!seriesItemEnabled.get(datum.yKey) && !isNaN(datum.point.x) && !isNaN(datum.point.y);\n                if (!customMarker || node.dirtyPath) {\n                    return;\n                }\n                // Only for custom marker shapes\n                node.path.clear({ trackChanges: true });\n                node.updatePath();\n                node.checkPathDirty();\n            });\n            if (!isDatumHighlighted) {\n                this.marker.markClean();\n            }\n        });\n    }\n    updateLabelSelection(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { labelData, labelSelection } = opts;\n            return labelSelection.update(labelData, (text) => {\n                text.tag = AreaSeriesTag.Label;\n            });\n        });\n    }\n    updateLabelNodes(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { labelSelection } = opts;\n            const { enabled: labelEnabled, fontStyle, fontWeight, fontSize, fontFamily, color } = this.label;\n            labelSelection.each((text, datum) => {\n                const { point, label } = datum;\n                if (label && labelEnabled) {\n                    text.fontStyle = fontStyle;\n                    text.fontWeight = fontWeight;\n                    text.fontSize = fontSize;\n                    text.fontFamily = fontFamily;\n                    text.textAlign = label.textAlign;\n                    text.textBaseline = label.textBaseline;\n                    text.text = label.text;\n                    text.x = point.x;\n                    text.y = point.y - 10;\n                    text.fill = color;\n                    text.visible = true;\n                }\n                else {\n                    text.visible = false;\n                }\n            });\n        });\n    }\n    getNodeClickEvent(event, datum) {\n        var _a;\n        return new CartesianSeriesNodeClickEvent((_a = this.xKey) !== null && _a !== void 0 ? _a : '', datum.yKey, event, datum, this);\n    }\n    getNodeDoubleClickEvent(event, datum) {\n        var _a;\n        return new CartesianSeriesNodeDoubleClickEvent((_a = this.xKey) !== null && _a !== void 0 ? _a : '', datum.yKey, event, datum, this);\n    }\n    getTooltipHtml(nodeDatum) {\n        var _a, _b, _c, _d;\n        const { xKey, id: seriesId } = this;\n        const { yKey } = nodeDatum;\n        const yKeyDataIndex = (_a = this.dataModel) === null || _a === void 0 ? void 0 : _a.resolveProcessedDataIndexById(`yValue-${yKey}`);\n        if (!(xKey && yKey) || !yKeyDataIndex) {\n            return '';\n        }\n        const datum = nodeDatum.datum;\n        const xValue = datum[xKey];\n        const yValue = datum[yKey];\n        const { xAxis, yAxis, yKeys } = this;\n        if (!(xAxis && yAxis && isNumber(yValue)) || !yKeyDataIndex) {\n            return '';\n        }\n        const { xName, yNames, fills, strokes, tooltip, marker } = this;\n        const { size, formatter: markerFormatter, strokeWidth: markerStrokeWidth, fill: markerFill, stroke: markerStroke, } = marker;\n        const xString = xAxis.formatDatum(xValue);\n        const yString = yAxis.formatDatum(yValue);\n        const yKeyIndex = yKeys.indexOf(yKey);\n        const processedYValue = (_c = (_b = this.processedData) === null || _b === void 0 ? void 0 : _b.data[nodeDatum.index]) === null || _c === void 0 ? void 0 : _c.values[0][yKeyDataIndex === null || yKeyDataIndex === void 0 ? void 0 : yKeyDataIndex.index];\n        const yName = yNames[yKeyIndex];\n        const title = sanitizeHtml(yName);\n        const content = sanitizeHtml(xString + ': ' + yString);\n        const strokeWidth = markerStrokeWidth !== null && markerStrokeWidth !== void 0 ? markerStrokeWidth : this.strokeWidth;\n        const fill = markerFill !== null && markerFill !== void 0 ? markerFill : fills[yKeyIndex % fills.length];\n        const stroke = markerStroke !== null && markerStroke !== void 0 ? markerStroke : strokes[yKeyIndex % fills.length];\n        let format = undefined;\n        if (markerFormatter) {\n            format = markerFormatter({\n                datum,\n                xKey,\n                yKey,\n                fill,\n                stroke,\n                strokeWidth,\n                size,\n                highlighted: false,\n                seriesId,\n            });\n        }\n        const color = (_d = format === null || format === void 0 ? void 0 : format.fill) !== null && _d !== void 0 ? _d : fill;\n        const defaults = {\n            title,\n            backgroundColor: color,\n            content,\n        };\n        const { renderer: tooltipRenderer, format: tooltipFormat } = tooltip;\n        if (tooltipFormat || tooltipRenderer) {\n            const params = {\n                datum,\n                xKey,\n                xName,\n                xValue,\n                yKey,\n                yValue,\n                processedYValue,\n                yName,\n                color,\n                title,\n                seriesId,\n            };\n            if (tooltipFormat) {\n                return toTooltipHtml({\n                    content: interpolate(tooltipFormat, params),\n                }, defaults);\n            }\n            if (tooltipRenderer) {\n                return toTooltipHtml(tooltipRenderer(params), defaults);\n            }\n        }\n        return toTooltipHtml(defaults);\n    }\n    getLegendData() {\n        var _a, _b, _c, _d, _e;\n        const { data, id, xKey, yKeys, yNames, seriesItemEnabled, marker, fills, strokes, fillOpacity, strokeOpacity } = this;\n        if (!(data === null || data === void 0 ? void 0 : data.length) || !xKey || !yKeys.length) {\n            return [];\n        }\n        const legendData = [];\n        // Area stacks should be listed in the legend in reverse order, for symmetry with the\n        // vertical stack display order.\n        for (let index = yKeys.length - 1; index >= 0; index--) {\n            const yKey = yKeys[index];\n            legendData.push({\n                legendType: 'category',\n                id,\n                itemId: yKey,\n                seriesId: id,\n                enabled: (_a = seriesItemEnabled.get(yKey)) !== null && _a !== void 0 ? _a : false,\n                label: {\n                    text: yNames[index] || yKeys[index],\n                },\n                marker: {\n                    shape: marker.shape,\n                    fill: (_b = marker.fill) !== null && _b !== void 0 ? _b : fills[index % fills.length],\n                    stroke: (_c = marker.stroke) !== null && _c !== void 0 ? _c : strokes[index % strokes.length],\n                    fillOpacity: (_d = marker.fillOpacity) !== null && _d !== void 0 ? _d : fillOpacity,\n                    strokeOpacity: (_e = marker.strokeOpacity) !== null && _e !== void 0 ? _e : strokeOpacity,\n                },\n            });\n        }\n        return legendData;\n    }\n    onLegendItemDoubleClick(event) {\n        const { enabled, itemId, series, numVisibleItems } = event;\n        const newEnableds = {};\n        const totalVisibleItems = Object.values(numVisibleItems).reduce((p, v) => p + v, 0);\n        const singleEnabledWasClicked = totalVisibleItems === 1 && enabled;\n        if (series.id === this.id) {\n            const singleEnabledInEachSeries = Object.values(numVisibleItems).filter((v) => v === 1).length === Object.keys(numVisibleItems).length;\n            this.yKeys.forEach((yKey) => {\n                var _a;\n                const matches = yKey === itemId;\n                const newEnabled = matches || singleEnabledWasClicked || (singleEnabledInEachSeries && enabled);\n                newEnableds[yKey] = (_a = newEnableds[yKey]) !== null && _a !== void 0 ? _a : newEnabled;\n            });\n        }\n        else {\n            this.yKeys.forEach((yKey) => {\n                newEnableds[yKey] = singleEnabledWasClicked;\n            });\n        }\n        Object.keys(newEnableds).forEach((yKey) => {\n            super.toggleSeriesItem(yKey, newEnableds[yKey]);\n        });\n    }\n    animateEmptyUpdateReady({ markerSelections, labelSelections, contextData, paths, seriesRect, }) {\n        const { strokes, fills, fillOpacity, lineDash, lineDashOffset, strokeOpacity, strokeWidth, shadow } = this;\n        contextData.forEach(({ fillSelectionData, strokeSelectionData, itemId }, seriesIdx) => {\n            var _a, _b, _c;\n            const [fill, stroke] = paths[seriesIdx];\n            const duration = 1000;\n            const markerDuration = 200;\n            const animationOptions = {\n                from: 0,\n                to: (_a = seriesRect === null || seriesRect === void 0 ? void 0 : seriesRect.width) !== null && _a !== void 0 ? _a : 0,\n                disableInteractions: true,\n                duration,\n                ease: easing.linear,\n                repeat: 0,\n            };\n            // Stroke\n            {\n                const { points, yValues } = strokeSelectionData;\n                stroke.tag = AreaSeriesTag.Stroke;\n                stroke.fill = undefined;\n                stroke.lineJoin = stroke.lineCap = 'round';\n                stroke.pointerEvents = PointerEvents.None;\n                stroke.stroke = strokes[seriesIdx % strokes.length];\n                stroke.strokeWidth = this.getStrokeWidth(this.strokeWidth, { itemId });\n                stroke.strokeOpacity = strokeOpacity;\n                stroke.lineDash = lineDash;\n                stroke.lineDashOffset = lineDashOffset;\n                (_b = this.animationManager) === null || _b === void 0 ? void 0 : _b.animate(`${this.id}_empty-update-ready_stroke_${seriesIdx}`, Object.assign(Object.assign({}, animationOptions), { onUpdate(xValue) {\n                        stroke.path.clear({ trackChanges: true });\n                        let moveTo = true;\n                        points.forEach((point, index) => {\n                            // Draw/move the full segment if past the end of this segment\n                            if (yValues[index] === undefined || isNaN(point.x) || isNaN(point.y)) {\n                                moveTo = true;\n                            }\n                            else if (point.x <= xValue) {\n                                if (moveTo) {\n                                    stroke.path.moveTo(point.x, point.y);\n                                    moveTo = false;\n                                }\n                                else {\n                                    stroke.path.lineTo(point.x, point.y);\n                                }\n                            }\n                            else if (index > 0 &&\n                                yValues[index] !== undefined &&\n                                yValues[index - 1] !== undefined &&\n                                points[index - 1].x <= xValue) {\n                                // Draw/move partial line if in between the start and end of this segment\n                                const start = points[index - 1];\n                                const end = point;\n                                const x = xValue;\n                                const y = start.y + ((x - start.x) * (end.y - start.y)) / (end.x - start.x);\n                                stroke.path.lineTo(x, y);\n                            }\n                        });\n                        stroke.checkPathDirty();\n                    } }));\n            }\n            // Fill\n            {\n                const { points: allPoints } = fillSelectionData;\n                const points = allPoints.slice(0, allPoints.length / 2);\n                const bottomPoints = allPoints.slice(allPoints.length / 2);\n                fill.tag = AreaSeriesTag.Fill;\n                fill.stroke = undefined;\n                fill.lineJoin = 'round';\n                fill.pointerEvents = PointerEvents.None;\n                fill.fill = fills[seriesIdx % fills.length];\n                fill.fillOpacity = fillOpacity;\n                fill.strokeOpacity = strokeOpacity;\n                fill.strokeWidth = strokeWidth;\n                fill.lineDash = lineDash;\n                fill.lineDashOffset = lineDashOffset;\n                fill.fillShadow = shadow;\n                (_c = this.animationManager) === null || _c === void 0 ? void 0 : _c.animate(`${this.id}_empty-update-ready_fill_${seriesIdx}`, Object.assign(Object.assign({}, animationOptions), { onUpdate(xValue) {\n                        fill.path.clear({ trackChanges: true });\n                        let x = 0;\n                        let y = 0;\n                        points.forEach((point, index) => {\n                            if (point.x <= xValue) {\n                                // Draw/move the full segment if past the end of this segment\n                                x = point.x;\n                                y = point.y;\n                                fill.path.lineTo(point.x, point.y);\n                            }\n                            else if (index > 0 && points[index - 1].x < xValue) {\n                                // Draw/move partial line if in between the start and end of this segment\n                                const start = points[index - 1];\n                                const end = point;\n                                x = xValue;\n                                y = start.y + ((x - start.x) * (end.y - start.y)) / (end.x - start.x);\n                                fill.path.lineTo(x, y);\n                            }\n                        });\n                        bottomPoints.forEach((point, index) => {\n                            const reverseIndex = bottomPoints.length - index - 1;\n                            if (point.x <= xValue) {\n                                fill.path.lineTo(point.x, point.y);\n                            }\n                            else if (reverseIndex > 0 && points[reverseIndex - 1].x < xValue) {\n                                const start = point;\n                                const end = bottomPoints[index + 1];\n                                const bottomY = start.y + ((x - start.x) * (end.y - start.y)) / (end.x - start.x);\n                                fill.path.lineTo(x, bottomY);\n                            }\n                        });\n                        if (bottomPoints.length > 0) {\n                            fill.path.lineTo(bottomPoints[bottomPoints.length - 1].x, bottomPoints[bottomPoints.length - 1].y);\n                        }\n                        fill.path.closePath();\n                        fill.checkPathDirty();\n                    } }));\n            }\n            markerSelections[seriesIdx].each((marker, datum) => {\n                var _a, _b, _c, _d;\n                const delay = (seriesRect === null || seriesRect === void 0 ? void 0 : seriesRect.width) ? (datum.point.x / seriesRect.width) * duration : 0;\n                const format = this.animateFormatter(datum);\n                const size = (_b = (_a = datum.point) === null || _a === void 0 ? void 0 : _a.size) !== null && _b !== void 0 ? _b : 0;\n                (_c = this.animationManager) === null || _c === void 0 ? void 0 : _c.animate(`${this.id}_empty-update-ready_${marker.id}`, Object.assign(Object.assign({}, animationOptions), { to: (_d = format === null || format === void 0 ? void 0 : format.size) !== null && _d !== void 0 ? _d : size, delay, duration: markerDuration, onUpdate(size) {\n                        marker.size = size;\n                    } }));\n            });\n            labelSelections[seriesIdx].each((label, datum) => {\n                var _a;\n                const delay = (seriesRect === null || seriesRect === void 0 ? void 0 : seriesRect.width) ? (datum.point.x / seriesRect.width) * duration : 0;\n                (_a = this.animationManager) === null || _a === void 0 ? void 0 : _a.animate(`${this.id}_empty-update-ready_${label.id}`, {\n                    from: 0,\n                    to: 1,\n                    delay,\n                    duration: markerDuration,\n                    ease: easing.linear,\n                    repeat: 0,\n                    onUpdate: (opacity) => {\n                        label.opacity = opacity;\n                    },\n                });\n            });\n        });\n    }\n    animateReadyUpdate({ contextData, paths, }) {\n        const { strokes, fills, fillOpacity, lineDash, lineDashOffset, strokeOpacity, strokeWidth, shadow } = this;\n        contextData.forEach(({ strokeSelectionData, fillSelectionData, itemId }, seriesIdx) => {\n            const [fill, stroke] = paths[seriesIdx];\n            // Stroke\n            stroke.stroke = strokes[seriesIdx % strokes.length];\n            stroke.strokeWidth = this.getStrokeWidth(this.strokeWidth, { itemId });\n            stroke.strokeOpacity = strokeOpacity;\n            stroke.lineDash = lineDash;\n            stroke.lineDashOffset = lineDashOffset;\n            stroke.path.clear({ trackChanges: true });\n            let moveTo = true;\n            strokeSelectionData.points.forEach((point, index) => {\n                if (strokeSelectionData.yValues[index] === undefined || isNaN(point.x) || isNaN(point.y)) {\n                    moveTo = true;\n                }\n                else if (moveTo) {\n                    stroke.path.moveTo(point.x, point.y);\n                    moveTo = false;\n                }\n                else {\n                    stroke.path.lineTo(point.x, point.y);\n                }\n            });\n            stroke.checkPathDirty();\n            // Fill\n            fill.fill = fills[seriesIdx % fills.length];\n            fill.fillOpacity = fillOpacity;\n            fill.strokeOpacity = strokeOpacity;\n            fill.strokeWidth = strokeWidth;\n            fill.lineDash = lineDash;\n            fill.lineDashOffset = lineDashOffset;\n            fill.fillShadow = shadow;\n            fill.path.clear({ trackChanges: true });\n            fillSelectionData.points.forEach((point) => {\n                fill.path.lineTo(point.x, point.y);\n            });\n            fill.path.closePath();\n            fill.checkPathDirty();\n        });\n    }\n    animateFormatter(datum) {\n        var _a, _b, _c;\n        const { marker, fills, strokes, xKey = '', yKeys, id: seriesId, ctx: { callbackCache }, } = this;\n        const { size, formatter } = marker;\n        const yKeyIndex = yKeys.indexOf(datum.yKey);\n        const fill = (_a = marker.fill) !== null && _a !== void 0 ? _a : fills[yKeyIndex % fills.length];\n        const stroke = (_b = marker.stroke) !== null && _b !== void 0 ? _b : strokes[yKeyIndex % fills.length];\n        const strokeWidth = (_c = marker.strokeWidth) !== null && _c !== void 0 ? _c : this.strokeWidth;\n        let format = undefined;\n        if (formatter) {\n            format = callbackCache.call(formatter, {\n                datum: datum.datum,\n                xKey,\n                yKey: datum.yKey,\n                fill,\n                stroke,\n                strokeWidth,\n                size,\n                highlighted: false,\n                seriesId,\n            });\n        }\n        return format;\n    }\n    isLabelEnabled() {\n        return this.label.enabled;\n    }\n}\nAreaSeries.className = 'AreaSeries';\nAreaSeries.type = 'area';\n__decorate([\n    Validate(COLOR_STRING_ARRAY)\n], AreaSeries.prototype, \"fills\", void 0);\n__decorate([\n    Validate(COLOR_STRING_ARRAY)\n], AreaSeries.prototype, \"strokes\", void 0);\n__decorate([\n    Validate(NUMBER(0, 1))\n], AreaSeries.prototype, \"fillOpacity\", void 0);\n__decorate([\n    Validate(NUMBER(0, 1))\n], AreaSeries.prototype, \"strokeOpacity\", void 0);\n__decorate([\n    Validate(OPT_LINE_DASH)\n], AreaSeries.prototype, \"lineDash\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], AreaSeries.prototype, \"lineDashOffset\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], AreaSeries.prototype, \"xKey\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], AreaSeries.prototype, \"xName\", void 0);\n__decorate([\n    Validate(STRING_ARRAY)\n], AreaSeries.prototype, \"_yKeys\", void 0);\n__decorate([\n    Validate(BOOLEAN_ARRAY)\n], AreaSeries.prototype, \"_visibles\", void 0);\n__decorate([\n    Validate(STRING_ARRAY)\n], AreaSeries.prototype, \"yNames\", void 0);\n__decorate([\n    Validate(OPT_NUMBER())\n], AreaSeries.prototype, \"_normalizedTo\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], AreaSeries.prototype, \"strokeWidth\", void 0);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Path, ScenePathChangeDetection } from './path.mjs';\nimport { BBox } from '../bbox.mjs';\nimport { Shape } from './shape.mjs';\nimport { Path2D } from '../path2D.mjs';\nexport class Rect extends Path {\n    constructor() {\n        super(...arguments);\n        this.borderPath = new Path2D();\n        this.x = 0;\n        this.y = 0;\n        this.width = 10;\n        this.height = 10;\n        this.radius = 0;\n        /**\n         * If `true`, the rect is aligned to the pixel grid for crisp looking lines.\n         * Animated rects may not look nice with this option enabled, for example\n         * when a rect is translated by a sub-pixel value on each frame.\n         */\n        this.crisp = false;\n        this.lastUpdatePathStrokeWidth = Shape.defaultStyles.strokeWidth;\n        this.effectiveStrokeWidth = Shape.defaultStyles.strokeWidth;\n        /**\n         * When the rectangle's width or height is less than a pixel\n         * and crisp mode is on, the rectangle will still fit into the pixel,\n         * but will be less opaque to make an effect of holding less space.\n         */\n        this.microPixelEffectOpacity = 1;\n    }\n    isDirtyPath() {\n        var _a;\n        if (this.lastUpdatePathStrokeWidth !== this.strokeWidth) {\n            return true;\n        }\n        if (this.path.isDirty() || this.borderPath.isDirty() || ((_a = this.clipPath) === null || _a === void 0 ? void 0 : _a.isDirty())) {\n            return true;\n        }\n        return false;\n    }\n    updatePath() {\n        var _a, _b, _c;\n        const { path, borderPath, crisp } = this;\n        let { x, y, width: w, height: h, strokeWidth } = this;\n        const pixelRatio = (_b = (_a = this.layerManager) === null || _a === void 0 ? void 0 : _a.canvas.pixelRatio) !== null && _b !== void 0 ? _b : 1;\n        const pixelSize = 1 / pixelRatio;\n        let microPixelEffectOpacity = 1;\n        path.clear({ trackChanges: true });\n        borderPath.clear({ trackChanges: true });\n        if (crisp) {\n            if (w <= pixelSize) {\n                microPixelEffectOpacity *= w / pixelSize;\n            }\n            if (h <= pixelSize) {\n                microPixelEffectOpacity *= h / pixelSize;\n            }\n            w = this.align(x, w);\n            h = this.align(y, h);\n            x = this.align(x);\n            y = this.align(y);\n        }\n        if (strokeWidth) {\n            if (w < pixelSize) {\n                // Too narrow, draw a vertical stroke\n                const lx = x + pixelSize / 2;\n                borderPath.moveTo(lx, y);\n                borderPath.lineTo(lx, y + h);\n                strokeWidth = pixelSize;\n                this.borderClipPath = undefined;\n            }\n            else if (h < pixelSize) {\n                // Too narrow, draw a horizontal stroke\n                const ly = y + pixelSize / 2;\n                borderPath.moveTo(x, ly);\n                borderPath.lineTo(x + w, ly);\n                strokeWidth = pixelSize;\n                this.borderClipPath = undefined;\n            }\n            else if (strokeWidth < w && strokeWidth < h) {\n                const halfStrokeWidth = strokeWidth / 2;\n                x += halfStrokeWidth;\n                y += halfStrokeWidth;\n                w -= strokeWidth;\n                h -= strokeWidth;\n                // Clipping not needed in this case; fill to center of stroke.\n                this.borderClipPath = undefined;\n                path.rect(x, y, w, h);\n                borderPath.rect(x, y, w, h);\n            }\n            else {\n                // Skip the fill and just render the stroke.\n                this.borderClipPath = (_c = this.borderClipPath) !== null && _c !== void 0 ? _c : new Path2D();\n                this.borderClipPath.clear({ trackChanges: true });\n                this.borderClipPath.rect(x, y, w, h);\n                borderPath.rect(x, y, w, h);\n            }\n        }\n        else {\n            // No borderPath needed, and thus no clipPath needed either. Fill to full extent of\n            // Rect.\n            this.borderClipPath = undefined;\n            path.rect(x, y, w, h);\n        }\n        this.effectiveStrokeWidth = strokeWidth;\n        this.lastUpdatePathStrokeWidth = strokeWidth;\n        this.microPixelEffectOpacity = microPixelEffectOpacity;\n    }\n    computeBBox() {\n        const { x, y, width, height } = this;\n        return new BBox(x, y, width, height);\n    }\n    isPointInPath(x, y) {\n        const point = this.transformPoint(x, y);\n        const bbox = this.computeBBox();\n        return bbox.containsPoint(point.x, point.y);\n    }\n    applyFillAlpha(ctx) {\n        const { fillOpacity, microPixelEffectOpacity, opacity } = this;\n        const { globalAlpha } = ctx;\n        ctx.globalAlpha = globalAlpha * opacity * fillOpacity * microPixelEffectOpacity;\n    }\n    renderStroke(ctx) {\n        const { stroke, effectiveStrokeWidth, borderPath, borderClipPath, opacity, microPixelEffectOpacity } = this;\n        const borderActive = !!stroke && !!effectiveStrokeWidth;\n        if (borderActive) {\n            const { strokeOpacity, lineDash, lineDashOffset, lineCap, lineJoin } = this;\n            if (borderClipPath) {\n                // strokeWidth is larger than width or height, so use clipping to render correctly.\n                // This is the simplest way to achieve the correct rendering due to nuances with ~0\n                // width/height lines in Canvas operations.\n                borderClipPath.draw(ctx);\n                ctx.clip();\n            }\n            borderPath.draw(ctx);\n            const { globalAlpha } = ctx;\n            ctx.strokeStyle = stroke;\n            ctx.globalAlpha = globalAlpha * opacity * strokeOpacity * microPixelEffectOpacity;\n            ctx.lineWidth = effectiveStrokeWidth;\n            if (lineDash) {\n                ctx.setLineDash(lineDash);\n            }\n            if (lineDashOffset) {\n                ctx.lineDashOffset = lineDashOffset;\n            }\n            if (lineCap) {\n                ctx.lineCap = lineCap;\n            }\n            if (lineJoin) {\n                ctx.lineJoin = lineJoin;\n            }\n            ctx.stroke();\n            ctx.globalAlpha = globalAlpha;\n        }\n    }\n}\nRect.className = 'Rect';\n__decorate([\n    ScenePathChangeDetection()\n], Rect.prototype, \"x\", void 0);\n__decorate([\n    ScenePathChangeDetection()\n], Rect.prototype, \"y\", void 0);\n__decorate([\n    ScenePathChangeDetection()\n], Rect.prototype, \"width\", void 0);\n__decorate([\n    ScenePathChangeDetection()\n], Rect.prototype, \"height\", void 0);\n__decorate([\n    ScenePathChangeDetection()\n], Rect.prototype, \"radius\", void 0);\n__decorate([\n    ScenePathChangeDetection()\n], Rect.prototype, \"crisp\", void 0);\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { isNumber } from '../../../util/value.mjs';\nexport function createLabelData({ value, rect, placement, seriesId, padding = 0, formatter, barAlongX, ctx: { callbackCache }, }) {\n    let labelText;\n    if (formatter) {\n        labelText = callbackCache.call(formatter, {\n            value: isNumber(value) ? value : undefined,\n            seriesId,\n        });\n    }\n    if (labelText === undefined) {\n        labelText = isNumber(value) ? value.toFixed(2) : '';\n    }\n    let labelX = rect.x + rect.width / 2;\n    let labelY = rect.y + rect.height / 2;\n    let labelTextAlign = 'center';\n    let labelTextBaseline = 'middle';\n    const isPositive = value >= 0;\n    switch (placement) {\n        case 'start': {\n            if (barAlongX) {\n                labelX = isPositive ? rect.x - padding : rect.x + rect.width + padding;\n                labelTextAlign = isPositive ? 'start' : 'end';\n            }\n            else {\n                labelY = isPositive ? rect.y + rect.height + padding : rect.y - padding;\n                labelTextBaseline = isPositive ? 'top' : 'bottom';\n            }\n            break;\n        }\n        case 'outside':\n        case 'end': {\n            if (barAlongX) {\n                labelX = isPositive ? rect.x + rect.width + padding : rect.x - padding;\n                labelTextAlign = isPositive ? 'start' : 'end';\n            }\n            else {\n                labelY = isPositive ? rect.y - padding : rect.y + rect.height + padding;\n                labelTextBaseline = isPositive ? 'bottom' : 'top';\n            }\n            break;\n        }\n        case 'inside':\n        default: {\n            labelTextBaseline = 'middle';\n            break;\n        }\n    }\n    return {\n        text: labelText,\n        textAlign: labelTextAlign,\n        textBaseline: labelTextBaseline,\n        x: labelX,\n        y: labelY,\n    };\n}\nexport function updateRect({ rect, config }) {\n    const { crisp = true, fill, stroke, strokeWidth, fillOpacity, strokeOpacity, lineDash, lineDashOffset, fillShadow, visible = true, } = config;\n    rect.crisp = crisp;\n    rect.fill = fill;\n    rect.stroke = stroke;\n    rect.strokeWidth = strokeWidth;\n    rect.fillOpacity = fillOpacity;\n    rect.strokeOpacity = strokeOpacity;\n    rect.lineDash = lineDash;\n    rect.lineDashOffset = lineDashOffset;\n    rect.fillShadow = fillShadow;\n    rect.visible = visible;\n}\nexport function getRectConfig(_a) {\n    var _b, _c, _d, _e, _f, _g, _h;\n    var { datum, isHighlighted, style, highlightStyle, formatter, seriesId, stackGroup, ctx: { callbackCache } } = _a, opts = __rest(_a, [\"datum\", \"isHighlighted\", \"style\", \"highlightStyle\", \"formatter\", \"seriesId\", \"stackGroup\", \"ctx\"]);\n    const itemFill = isHighlighted ? (_b = highlightStyle.fill) !== null && _b !== void 0 ? _b : style.fill : style.fill;\n    const itemStroke = isHighlighted ? (_c = highlightStyle.stroke) !== null && _c !== void 0 ? _c : style.stroke : style.stroke;\n    const itemStrokeWidth = isHighlighted ? (_d = highlightStyle.strokeWidth) !== null && _d !== void 0 ? _d : style.strokeWidth : style.strokeWidth;\n    const fillOpacity = isHighlighted ? (_e = highlightStyle.fillOpacity) !== null && _e !== void 0 ? _e : style.fillOpacity : style.fillOpacity;\n    const { strokeOpacity, fillShadow, lineDash, lineDashOffset } = style;\n    let format = undefined;\n    if (formatter) {\n        format = callbackCache.call(formatter, Object.assign({ datum: datum.datum, xKey: datum.xKey, yKey: datum.yKey, fill: itemFill, stroke: itemStroke, strokeWidth: itemStrokeWidth, highlighted: isHighlighted, seriesId,\n            stackGroup }, opts));\n    }\n    return {\n        fill: (_f = format === null || format === void 0 ? void 0 : format.fill) !== null && _f !== void 0 ? _f : itemFill,\n        stroke: (_g = format === null || format === void 0 ? void 0 : format.stroke) !== null && _g !== void 0 ? _g : itemStroke,\n        strokeWidth: (_h = format === null || format === void 0 ? void 0 : format.strokeWidth) !== null && _h !== void 0 ? _h : itemStrokeWidth,\n        fillOpacity,\n        strokeOpacity,\n        lineDash,\n        lineDashOffset,\n        fillShadow,\n    };\n}\nexport function checkCrisp(visibleRange = []) {\n    const [visibleMin, visibleMax] = visibleRange;\n    const isZoomed = visibleMin !== 0 || visibleMax !== 1;\n    const crisp = !isZoomed;\n    return crisp;\n}\nexport function updateLabel({ labelNode, labelDatum, config, visible, }) {\n    if (labelDatum && config && config.enabled) {\n        const { x, y, text, textAlign, textBaseline } = labelDatum;\n        const { fontStyle, fontWeight, fontSize, fontFamily, color } = config;\n        labelNode.fontStyle = fontStyle;\n        labelNode.fontWeight = fontWeight;\n        labelNode.fontSize = fontSize;\n        labelNode.fontFamily = fontFamily;\n        labelNode.textAlign = textAlign;\n        labelNode.textBaseline = textBaseline;\n        labelNode.text = text;\n        labelNode.x = x;\n        labelNode.y = y;\n        labelNode.fill = color;\n        labelNode.visible = visible;\n    }\n    else {\n        labelNode.visible = false;\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Rect } from '../../../scene/shape/rect.mjs';\nimport { BandScale } from '../../../scale/bandScale.mjs';\nimport { SeriesTooltip, SeriesNodePickMode, keyProperty, valueProperty } from '../series.mjs';\nimport { Label } from '../../label.mjs';\nimport { PointerEvents } from '../../../scene/node.mjs';\nimport { CartesianSeries, CartesianSeriesNodeClickEvent, CartesianSeriesNodeDoubleClickEvent, } from './cartesianSeries.mjs';\nimport { ChartAxisDirection } from '../../chartAxisDirection.mjs';\nimport { toTooltipHtml } from '../../tooltip/tooltip.mjs';\nimport { extent } from '../../../util/array.mjs';\nimport { areArrayItemsStrictlyEqual } from '../../../util/equal.mjs';\nimport { Logger } from '../../../util/logger.mjs';\nimport { sanitizeHtml } from '../../../util/sanitize.mjs';\nimport { ContinuousScale } from '../../../scale/continuousScale.mjs';\nimport { BOOLEAN, BOOLEAN_ARRAY, NUMBER, OPT_FUNCTION, OPT_LINE_DASH, OPT_NUMBER, STRING_ARRAY, COLOR_STRING_ARRAY, Validate, OPTIONAL, OPT_STRING, } from '../../../util/validation.mjs';\nimport { CategoryAxis } from '../../axis/categoryAxis.mjs';\nimport { GroupedCategoryAxis } from '../../axis/groupedCategoryAxis.mjs';\nimport { LogAxis } from '../../axis/logAxis.mjs';\nimport { DataModel } from '../../data/dataModel.mjs';\nimport { sum } from '../../data/aggregateFunctions.mjs';\nimport { AGG_VALUES_EXTENT, normaliseGroupTo, SMALLEST_KEY_INTERVAL } from '../../data/processors.mjs';\nimport * as easing from '../../../motion/easing.mjs';\nimport { createLabelData, getRectConfig, updateRect, checkCrisp, updateLabel } from './barUtil.mjs';\nconst BAR_LABEL_PLACEMENTS = ['inside', 'outside'];\nconst OPT_BAR_LABEL_PLACEMENT = (v, ctx) => OPTIONAL(v, ctx, (v) => BAR_LABEL_PLACEMENTS.includes(v));\nvar BarSeriesNodeTag;\n(function (BarSeriesNodeTag) {\n    BarSeriesNodeTag[BarSeriesNodeTag[\"Bar\"] = 0] = \"Bar\";\n    BarSeriesNodeTag[BarSeriesNodeTag[\"Label\"] = 1] = \"Label\";\n})(BarSeriesNodeTag || (BarSeriesNodeTag = {}));\nclass BarSeriesLabel extends Label {\n    constructor() {\n        super(...arguments);\n        this.formatter = undefined;\n        this.placement = 'inside';\n    }\n}\n__decorate([\n    Validate(OPT_FUNCTION)\n], BarSeriesLabel.prototype, \"formatter\", void 0);\n__decorate([\n    Validate(OPT_BAR_LABEL_PLACEMENT)\n], BarSeriesLabel.prototype, \"placement\", void 0);\nclass BarSeriesTooltip extends SeriesTooltip {\n    constructor() {\n        super(...arguments);\n        this.renderer = undefined;\n    }\n}\n__decorate([\n    Validate(OPT_FUNCTION)\n], BarSeriesTooltip.prototype, \"renderer\", void 0);\nfunction is2dArray(array) {\n    return array.length > 0 && Array.isArray(array[0]);\n}\nexport class BarSeries extends CartesianSeries {\n    constructor(moduleCtx) {\n        super({\n            moduleCtx,\n            pickModes: [SeriesNodePickMode.EXACT_SHAPE_MATCH],\n            pathsPerSeries: 0,\n            directionKeys: {\n                [ChartAxisDirection.X]: ['xKey'],\n                [ChartAxisDirection.Y]: ['yKeys'],\n            },\n            directionNames: {\n                [ChartAxisDirection.X]: ['xName'],\n                [ChartAxisDirection.Y]: ['yNames'],\n            },\n        });\n        this.label = new BarSeriesLabel();\n        this.tooltip = new BarSeriesTooltip();\n        this.fills = ['#c16068', '#a2bf8a', '#ebcc87', '#80a0c3', '#b58dae', '#85c0d1'];\n        this.strokes = ['#874349', '#718661', '#a48f5f', '#5a7088', '#7f637a', '#5d8692'];\n        this.fillOpacity = 1;\n        this.strokeOpacity = 1;\n        this.lineDash = [0];\n        this.lineDashOffset = 0;\n        this.formatter = undefined;\n        /**\n         * Used to get the position of bars within each group.\n         */\n        this.groupScale = new BandScale();\n        this.xKey = undefined;\n        this.xName = undefined;\n        this.cumYKeyCount = [];\n        this.flatYKeys = undefined; // only set when a user used a flat array for yKeys\n        this.hideInLegend = [];\n        this.yKeys = [];\n        this.yKeysCache = [];\n        this.visibles = [];\n        this.grouped = false;\n        this.stackGroups = {};\n        /**\n         * A map of `yKeys` to their names (used in legends and tooltips).\n         * For example, if a key is `product_name` it's name can be a more presentable `Product Name`.\n         */\n        this.yNames = {};\n        this.legendItemNames = {};\n        this.strokeWidth = 1;\n        this.shadow = undefined;\n        this.smallestDataInterval = undefined;\n        this.label.enabled = false;\n    }\n    resolveKeyDirection(direction) {\n        if (this.getBarDirection() === ChartAxisDirection.X) {\n            if (direction === ChartAxisDirection.X) {\n                return ChartAxisDirection.Y;\n            }\n            return ChartAxisDirection.X;\n        }\n        return direction;\n    }\n    processYKeys() {\n        let { yKeys } = this;\n        let flatYKeys = undefined;\n        // Convert from flat y-keys to grouped y-keys.\n        if (!is2dArray(yKeys)) {\n            flatYKeys = yKeys;\n            yKeys = this.grouped ? flatYKeys.map((k) => [k]) : [flatYKeys];\n        }\n        const stackGroups = Object.values(this.stackGroups);\n        if (stackGroups.length > 0) {\n            const flattenKeys = (keys) => keys.reduce((res, k) => res.concat(k), []);\n            // Create a stack for items without a group\n            const flatKeys = flattenKeys(yKeys);\n            const keysInStacks = new Set(flattenKeys(stackGroups));\n            const ungroupedKeys = flatKeys.filter((k) => !keysInStacks.has(k));\n            yKeys = stackGroups.map((keys) => keys);\n            if (ungroupedKeys.length > 0) {\n                yKeys.push(ungroupedKeys);\n            }\n            // Preserve the order of colours and other properties\n            const indexMap = (items) => items.reduce((map, key, index) => map.set(key, index), new Map());\n            const newKeys = flattenKeys(yKeys);\n            const newKeysIndices = indexMap(newKeys);\n            const sort = (items) => {\n                const result = Array.from({ length: items.length });\n                items.forEach((item, index) => {\n                    const key = flatKeys[index];\n                    const newIndex = newKeysIndices.get(key);\n                    result[newIndex] = item;\n                });\n                return result;\n            };\n            this.fills = sort(this.fills);\n            this.strokes = sort(this.strokes);\n            this.visibles = sort(this.visibles);\n        }\n        if (!areArrayItemsStrictlyEqual(this.yKeysCache, yKeys)) {\n            this.flatYKeys = flatYKeys ? flatYKeys : undefined;\n            this.yKeys = yKeys;\n            let prevYKeyCount = 0;\n            this.cumYKeyCount = [];\n            const visibleStacks = [];\n            yKeys.forEach((stack, index) => {\n                if (stack.length > 0) {\n                    visibleStacks.push(String(index));\n                }\n                this.cumYKeyCount.push(prevYKeyCount);\n                prevYKeyCount += stack.length;\n            });\n            this.processSeriesItemEnabled();\n            const { groupScale } = this;\n            groupScale.domain = visibleStacks;\n        }\n        this.yKeysCache = yKeys;\n    }\n    processSeriesItemEnabled() {\n        const { seriesItemEnabled } = this;\n        const flattenFn = (r, n) => r.concat(...(Array.isArray(n) ? n : [n]));\n        const visibles = this.visibles.reduce(flattenFn, []);\n        seriesItemEnabled.clear();\n        let visiblesIdx = 0;\n        this.yKeys.forEach((stack) => {\n            stack.forEach((yKey) => { var _a; return seriesItemEnabled.set(yKey, (_a = visibles[visiblesIdx++]) !== null && _a !== void 0 ? _a : true); });\n        });\n    }\n    getStackGroup(yKey) {\n        var _a;\n        const { stackGroups } = this;\n        return (_a = Object.entries(stackGroups).find(([_, keys]) => keys.includes(yKey))) === null || _a === void 0 ? void 0 : _a[0];\n    }\n    processYNames() {\n        const values = this.yNames;\n        if (Array.isArray(values) && this.flatYKeys) {\n            const map = {};\n            this.flatYKeys.forEach((k, i) => {\n                map[k] = values[i];\n            });\n            this.yNames = map;\n        }\n    }\n    processData() {\n        var _a, _b, _c, _d, _e;\n        return __awaiter(this, void 0, void 0, function* () {\n            this.processYKeys();\n            this.processYNames();\n            const { xKey, seriesItemEnabled, normalizedTo, data = [] } = this;\n            const normalizedToAbs = Math.abs(normalizedTo !== null && normalizedTo !== void 0 ? normalizedTo : NaN);\n            const isContinuousX = ((_a = this.getCategoryAxis()) === null || _a === void 0 ? void 0 : _a.scale) instanceof ContinuousScale;\n            const isContinuousY = ((_b = this.getValueAxis()) === null || _b === void 0 ? void 0 : _b.scale) instanceof ContinuousScale;\n            const activeSeriesItems = [...seriesItemEnabled.entries()]\n                .filter(([, enabled]) => enabled)\n                .map(([yKey]) => yKey);\n            const activeStacks = this.yKeys\n                .map((stack) => stack.filter((key) => seriesItemEnabled.get(key)))\n                .filter((stack) => stack.length > 0);\n            const normaliseTo = normalizedToAbs && isFinite(normalizedToAbs) ? normalizedToAbs : undefined;\n            const extraProps = [];\n            if (normaliseTo) {\n                extraProps.push(normaliseGroupTo(activeSeriesItems, normaliseTo, 'sum'));\n            }\n            this.dataModel = new DataModel({\n                props: [\n                    keyProperty(xKey, isContinuousX),\n                    ...activeSeriesItems.map((yKey) => valueProperty(yKey, isContinuousY, { invalidValue: null })),\n                    ...activeStacks.map((stack) => sum(stack)),\n                    ...(isContinuousX ? [SMALLEST_KEY_INTERVAL] : []),\n                    AGG_VALUES_EXTENT,\n                    ...extraProps,\n                ],\n                groupByKeys: true,\n                dataVisible: this.visible && activeSeriesItems.length > 0,\n            });\n            this.processedData = this.dataModel.processData(data);\n            this.smallestDataInterval = {\n                x: (_e = (_d = (_c = this.processedData) === null || _c === void 0 ? void 0 : _c.reduced) === null || _d === void 0 ? void 0 : _d[SMALLEST_KEY_INTERVAL.property]) !== null && _e !== void 0 ? _e : Infinity,\n                y: Infinity,\n            };\n        });\n    }\n    getDomain(direction) {\n        var _a;\n        const { processedData } = this;\n        if (!processedData)\n            return [];\n        const { defs: { keys: [keyDef], }, domain: { keys: [keys], values: [yExtent], }, reduced: { [SMALLEST_KEY_INTERVAL.property]: smallestX, [AGG_VALUES_EXTENT.property]: ySumExtent } = {}, } = processedData;\n        if (direction === this.getCategoryDirection()) {\n            if (keyDef.valueType === 'category') {\n                return keys;\n            }\n            const keysExtent = (_a = extent(keys)) !== null && _a !== void 0 ? _a : [NaN, NaN];\n            if (direction === ChartAxisDirection.Y) {\n                return [keysExtent[0] + -smallestX, keysExtent[1]];\n            }\n            return [keysExtent[0], keysExtent[1] + smallestX];\n        }\n        else if (this.getValueAxis() instanceof LogAxis) {\n            return this.fixNumericExtent(yExtent);\n        }\n        else {\n            return this.fixNumericExtent(ySumExtent);\n        }\n    }\n    getNodeClickEvent(event, datum) {\n        var _a;\n        return new CartesianSeriesNodeClickEvent((_a = this.xKey) !== null && _a !== void 0 ? _a : '', datum.yKey, event, datum, this);\n    }\n    getNodeDoubleClickEvent(event, datum) {\n        var _a;\n        return new CartesianSeriesNodeDoubleClickEvent((_a = this.xKey) !== null && _a !== void 0 ? _a : '', datum.yKey, event, datum, this);\n    }\n    getCategoryAxis() {\n        return this.getCategoryDirection() === ChartAxisDirection.Y ? this.yAxis : this.xAxis;\n    }\n    getValueAxis() {\n        return this.getBarDirection() === ChartAxisDirection.Y ? this.yAxis : this.xAxis;\n    }\n    calculateStep(range) {\n        var _a;\n        const { smallestDataInterval: smallestInterval } = this;\n        const xAxis = this.getCategoryAxis();\n        if (!xAxis) {\n            return;\n        }\n        // calculate step\n        const domainLength = xAxis.dataDomain[1] - xAxis.dataDomain[0];\n        const intervals = domainLength / ((_a = smallestInterval === null || smallestInterval === void 0 ? void 0 : smallestInterval.x) !== null && _a !== void 0 ? _a : 1) + 1;\n        // The number of intervals/bands is used to determine the width of individual bands by dividing the available range.\n        // Allow a maximum number of bands to ensure the step does not fall below 1 pixel.\n        // This means there could be some overlap of the bands in the chart.\n        const maxBands = Math.floor(range); // A minimum of 1px per bar/column means the maximum number of bands will equal the available range\n        const bands = Math.min(intervals, maxBands);\n        const step = range / Math.max(1, bands);\n        return step;\n    }\n    createNodeData() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { data, visible } = this;\n            const xAxis = this.getCategoryAxis();\n            const yAxis = this.getValueAxis();\n            if (!(data && visible && xAxis && yAxis)) {\n                return [];\n            }\n            const xScale = xAxis.scale;\n            const yScale = yAxis.scale;\n            const { groupScale, yKeys, xKey = '', cumYKeyCount, fills, strokes, strokeWidth, seriesItemEnabled, label, id: seriesId, processedData, ctx, } = this;\n            let xBandWidth = xScale.bandwidth;\n            if (xScale instanceof ContinuousScale) {\n                const availableRange = Math.max(xAxis.range[0], xAxis.range[1]);\n                const step = this.calculateStep(availableRange);\n                xBandWidth = step;\n            }\n            groupScale.range = [0, xBandWidth];\n            if (xAxis instanceof CategoryAxis) {\n                groupScale.padding = xAxis.groupPaddingInner;\n            }\n            else if (xAxis instanceof GroupedCategoryAxis) {\n                groupScale.padding = 0.1;\n            }\n            else {\n                // Number or Time axis\n                groupScale.padding = 0;\n            }\n            // To get exactly `0` padding we need to turn off rounding\n            if (groupScale.padding === 0) {\n                groupScale.round = false;\n            }\n            else {\n                groupScale.round = true;\n            }\n            const barWidth = groupScale.bandwidth >= 1\n                ? // Pixel-rounded value for low-volume bar charts.\n                    groupScale.bandwidth\n                : // Handle high-volume bar charts gracefully.\n                    groupScale.rawBandwidth;\n            const contexts = [];\n            processedData === null || processedData === void 0 ? void 0 : processedData.data.forEach(({ keys, datum: seriesDatum, values }, dataIndex) => {\n                var _a, _b, _c, _d, _e;\n                var _f;\n                const x = xScale.convert(keys[0]);\n                for (let stackIndex = 0; stackIndex < ((_a = yKeys === null || yKeys === void 0 ? void 0 : yKeys.length) !== null && _a !== void 0 ? _a : 0); stackIndex++) {\n                    const stackYKeys = (_b = yKeys === null || yKeys === void 0 ? void 0 : yKeys[stackIndex]) !== null && _b !== void 0 ? _b : []; // y-data for a stack within a group\n                    (_c = contexts[stackIndex]) !== null && _c !== void 0 ? _c : (contexts[stackIndex] = []);\n                    let prevMinY = 0;\n                    let prevMaxY = 0;\n                    for (let levelIndex = 0; levelIndex < stackYKeys.length; levelIndex++) {\n                        const yKey = stackYKeys[levelIndex];\n                        const yIndex = (_d = processedData === null || processedData === void 0 ? void 0 : processedData.indices.values[yKey]) !== null && _d !== void 0 ? _d : -1;\n                        (_e = (_f = contexts[stackIndex])[levelIndex]) !== null && _e !== void 0 ? _e : (_f[levelIndex] = {\n                            itemId: yKey,\n                            nodeData: [],\n                            labelData: [],\n                        });\n                        if (yIndex === undefined)\n                            continue;\n                        const yValue = values[0][yIndex];\n                        const currY = +yValue;\n                        const barX = x + groupScale.convert(String(stackIndex));\n                        // Bars outside of visible range are not rendered, so we create node data\n                        // only for the visible subset of user data.\n                        if (!xAxis.inRange(barX, barWidth)) {\n                            continue;\n                        }\n                        if (isNaN(currY)) {\n                            continue;\n                        }\n                        const prevY = currY < 0 ? prevMinY : prevMaxY;\n                        const y = yScale.convert(prevY + currY, { strict: false });\n                        const bottomY = yScale.convert(prevY, { strict: false });\n                        const barAlongX = this.getBarDirection() === ChartAxisDirection.X;\n                        const rect = {\n                            x: barAlongX ? Math.min(y, bottomY) : barX,\n                            y: barAlongX ? barX : Math.min(y, bottomY),\n                            width: barAlongX ? Math.abs(bottomY - y) : barWidth,\n                            height: barAlongX ? barWidth : Math.abs(bottomY - y),\n                        };\n                        const nodeMidPoint = {\n                            x: rect.x + rect.width / 2,\n                            y: rect.y + rect.height / 2,\n                        };\n                        const { fontStyle: labelFontStyle, fontWeight: labelFontWeight, fontSize: labelFontSize, fontFamily: labelFontFamily, color: labelColor, formatter, placement, } = label;\n                        const { text: labelText, textAlign: labelTextAlign, textBaseline: labelTextBaseline, x: labelX, y: labelY, } = createLabelData({ value: yValue, rect, formatter, placement, seriesId, barAlongX, ctx });\n                        const colorIndex = cumYKeyCount[stackIndex] + levelIndex;\n                        const nodeData = {\n                            index: dataIndex,\n                            series: this,\n                            itemId: yKey,\n                            datum: seriesDatum[0],\n                            cumulativeValue: prevY + currY,\n                            yValue,\n                            yKey,\n                            xKey,\n                            x: rect.x,\n                            y: rect.y,\n                            width: rect.width,\n                            height: rect.height,\n                            nodeMidPoint,\n                            colorIndex,\n                            fill: fills[colorIndex % fills.length],\n                            stroke: strokes[colorIndex % strokes.length],\n                            strokeWidth,\n                            label: seriesItemEnabled.get(yKey) && labelText\n                                ? {\n                                    text: labelText,\n                                    fontStyle: labelFontStyle,\n                                    fontWeight: labelFontWeight,\n                                    fontSize: labelFontSize,\n                                    fontFamily: labelFontFamily,\n                                    textAlign: labelTextAlign,\n                                    textBaseline: labelTextBaseline,\n                                    fill: labelColor,\n                                    x: labelX,\n                                    y: labelY,\n                                }\n                                : undefined,\n                        };\n                        contexts[stackIndex][levelIndex].nodeData.push(nodeData);\n                        contexts[stackIndex][levelIndex].labelData.push(nodeData);\n                        if (currY < 0) {\n                            prevMinY += currY;\n                        }\n                        else {\n                            prevMaxY += currY;\n                        }\n                    }\n                }\n            });\n            return contexts.reduce((r, n) => r.concat(...n), []);\n        });\n    }\n    nodeFactory() {\n        return new Rect();\n    }\n    updateDatumSelection(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { nodeData, datumSelection } = opts;\n            return datumSelection.update(nodeData, (rect) => (rect.tag = BarSeriesNodeTag.Bar));\n        });\n    }\n    updateDatumNodes(opts) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const { datumSelection, isHighlight } = opts;\n            const { fills, strokes, fillOpacity, strokeOpacity, lineDash, lineDashOffset, shadow, formatter, id: seriesId, highlightStyle: { item: itemHighlightStyle }, ctx, } = this;\n            const crisp = checkCrisp((_a = this.xAxis) === null || _a === void 0 ? void 0 : _a.visibleRange);\n            const categoryAlongX = this.getCategoryDirection() === ChartAxisDirection.X;\n            datumSelection.each((rect, datum) => {\n                const { colorIndex } = datum;\n                const style = {\n                    fill: fills[colorIndex % fills.length],\n                    stroke: strokes[colorIndex % fills.length],\n                    fillOpacity,\n                    strokeOpacity,\n                    lineDash,\n                    lineDashOffset,\n                    fillShadow: shadow,\n                    strokeWidth: this.getStrokeWidth(this.strokeWidth, datum),\n                };\n                const visible = categoryAlongX ? datum.width > 0 : datum.height > 0;\n                const config = getRectConfig({\n                    datum,\n                    isHighlighted: isHighlight,\n                    style,\n                    highlightStyle: itemHighlightStyle,\n                    formatter,\n                    seriesId,\n                    stackGroup: this.getStackGroup(datum.yKey),\n                    ctx,\n                });\n                config.crisp = crisp;\n                config.visible = visible;\n                updateRect({ rect, config });\n            });\n        });\n    }\n    updateLabelSelection(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { labelData, labelSelection } = opts;\n            const { enabled } = this.label;\n            const data = enabled ? labelData : [];\n            return labelSelection.update(data, (text) => {\n                text.tag = BarSeriesNodeTag.Label;\n                text.pointerEvents = PointerEvents.None;\n            });\n        });\n    }\n    updateLabelNodes(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { labelSelection } = opts;\n            labelSelection.each((text, datum) => {\n                const labelDatum = datum.label;\n                updateLabel({ labelNode: text, labelDatum, config: this.label, visible: true });\n            });\n        });\n    }\n    getTooltipHtml(nodeDatum) {\n        var _a;\n        const { xKey, yKeys, processedData, ctx: { callbackCache }, } = this;\n        const xAxis = this.getCategoryAxis();\n        const yAxis = this.getValueAxis();\n        const { yKey } = nodeDatum;\n        if (!processedData || !xKey || !yKey || !xAxis || !yAxis) {\n            return '';\n        }\n        let fillIndex = 0;\n        let i = 0;\n        let j = 0;\n        for (; j < yKeys.length; j++) {\n            const stack = yKeys[j];\n            i = stack.indexOf(yKey);\n            if (i >= 0) {\n                fillIndex += i;\n                break;\n            }\n            fillIndex += stack.length;\n        }\n        const { xName, yNames, fills, strokes, tooltip, formatter, id: seriesId } = this;\n        const { renderer: tooltipRenderer } = tooltip;\n        const datum = nodeDatum.datum;\n        const yName = yNames[yKey];\n        const stackGroup = this.getStackGroup(yKey);\n        const fill = fills[fillIndex % fills.length];\n        const stroke = strokes[fillIndex % fills.length];\n        const strokeWidth = this.getStrokeWidth(this.strokeWidth);\n        const xValue = datum[xKey];\n        const yValue = datum[yKey];\n        const xString = sanitizeHtml(xAxis.formatDatum(xValue));\n        const yString = sanitizeHtml(yAxis.formatDatum(yValue));\n        const title = sanitizeHtml(yName);\n        const content = xString + ': ' + yString;\n        let format = undefined;\n        if (formatter) {\n            format = callbackCache.call(formatter, {\n                datum,\n                fill,\n                stroke,\n                strokeWidth,\n                highlighted: false,\n                xKey,\n                yKey,\n                seriesId,\n                stackGroup,\n            });\n        }\n        const color = (_a = format === null || format === void 0 ? void 0 : format.fill) !== null && _a !== void 0 ? _a : fill;\n        const defaults = {\n            title,\n            backgroundColor: color,\n            content,\n        };\n        if (tooltipRenderer) {\n            return toTooltipHtml(tooltipRenderer({\n                datum,\n                xKey,\n                xValue,\n                xName,\n                yKey,\n                yValue,\n                yName,\n                color,\n                title,\n                seriesId,\n                stackGroup,\n            }), defaults);\n        }\n        return toTooltipHtml(defaults);\n    }\n    getLegendData() {\n        const { id, data, xKey, yKeys, yNames, legendItemNames, cumYKeyCount, seriesItemEnabled, hideInLegend, fills, strokes, fillOpacity, strokeOpacity, } = this;\n        if (!(data === null || data === void 0 ? void 0 : data.length) || !xKey || !yKeys.length) {\n            return [];\n        }\n        const legendData = [];\n        this.validateLegendData();\n        this.yKeys.forEach((stack, stackIndex) => {\n            var _a, _b, _c;\n            for (let levelIndex = 0; levelIndex < stack.length; levelIndex++) {\n                const yKey = stack[levelIndex];\n                if (hideInLegend.indexOf(yKey) >= 0) {\n                    return;\n                }\n                const colorIndex = cumYKeyCount[stackIndex] + levelIndex;\n                legendData.push({\n                    legendType: 'category',\n                    id,\n                    itemId: yKey,\n                    seriesId: id,\n                    enabled: (_a = seriesItemEnabled.get(yKey)) !== null && _a !== void 0 ? _a : false,\n                    label: {\n                        text: (_c = (_b = legendItemNames[yKey]) !== null && _b !== void 0 ? _b : yNames[yKey]) !== null && _c !== void 0 ? _c : yKey,\n                    },\n                    marker: {\n                        fill: fills[colorIndex % fills.length],\n                        stroke: strokes[colorIndex % strokes.length],\n                        fillOpacity: fillOpacity,\n                        strokeOpacity: strokeOpacity,\n                    },\n                });\n            }\n        });\n        return legendData;\n    }\n    validateLegendData() {\n        const { hideInLegend, legendItemNames } = this;\n        let hasAnyLegendItemName = false;\n        this.yKeys.forEach((stack) => {\n            stack.forEach((yKey) => {\n                if (hideInLegend.indexOf(yKey) >= 0) {\n                    return;\n                }\n                const hasLegendItemName = legendItemNames[yKey] !== undefined;\n                if (hasAnyLegendItemName && !hasLegendItemName) {\n                    Logger.warnOnce(`a series is missing the legendItemName property, unexpected behaviour may occur.`);\n                }\n                hasAnyLegendItemName = hasLegendItemName;\n            });\n        });\n    }\n    onLegendItemClick(event) {\n        const { itemId, enabled, series } = event;\n        if (series.id !== this.id)\n            return;\n        super.toggleSeriesItem(itemId, enabled);\n        // Toggle items where the legendItemName matches the legendItemName of the clicked item\n        Object.keys(this.legendItemNames)\n            .filter((id) => this.legendItemNames[id] !== undefined && this.legendItemNames[id] === this.legendItemNames[itemId])\n            .forEach((yKey) => {\n            if (yKey !== itemId) {\n                super.toggleSeriesItem(yKey, enabled);\n            }\n        });\n        this.calculateVisibleDomain();\n    }\n    onLegendItemDoubleClick(event) {\n        const { enabled, itemId, numVisibleItems } = event;\n        const totalVisibleItems = Object.values(numVisibleItems).reduce((p, v) => p + v, 0);\n        const singleEnabledInEachSeries = Object.values(numVisibleItems).filter((v) => v === 1).length === Object.keys(numVisibleItems).length;\n        const newEnableds = {};\n        this.yKeys.forEach((stack) => {\n            stack.forEach((yKey) => {\n                var _a;\n                const matches = yKey === itemId;\n                const singleEnabledWasClicked = totalVisibleItems === 1 && enabled;\n                const newEnabled = matches || singleEnabledWasClicked || (singleEnabledInEachSeries && enabled);\n                newEnableds[yKey] = (_a = newEnableds[yKey]) !== null && _a !== void 0 ? _a : newEnabled;\n                // Toggle other items that have matching legendItemNames which have not already been processed.\n                Object.keys(this.legendItemNames)\n                    .filter((id) => this.legendItemNames[id] !== undefined &&\n                    this.legendItemNames[id] === this.legendItemNames[yKey])\n                    .forEach((nameYKey) => {\n                    var _a;\n                    newEnableds[nameYKey] = (_a = newEnableds[nameYKey]) !== null && _a !== void 0 ? _a : newEnabled;\n                });\n            });\n        });\n        Object.keys(newEnableds).forEach((yKey) => {\n            super.toggleSeriesItem(yKey, newEnableds[yKey]);\n        });\n        this.calculateVisibleDomain();\n    }\n    calculateVisibleDomain() {\n        const yKeys = this.yKeys.map((stack) => stack.slice()); // deep clone\n        this.seriesItemEnabled.forEach((enabled, yKey) => {\n            if (!enabled) {\n                yKeys.forEach((stack) => {\n                    const index = stack.indexOf(yKey);\n                    if (index >= 0) {\n                        stack.splice(index, 1);\n                    }\n                });\n            }\n        });\n        const visibleStacks = [];\n        yKeys.forEach((stack, index) => {\n            if (stack.length > 0) {\n                visibleStacks.push(String(index));\n            }\n        });\n        this.groupScale.domain = visibleStacks;\n        this.nodeDataRefresh = true;\n    }\n    animateEmptyUpdateReady({ datumSelections, labelSelections, }) {\n        const duration = 1000;\n        const labelDuration = 200;\n        let startingX = Infinity;\n        datumSelections.forEach((datumSelection) => datumSelection.each((_, datum) => {\n            if (datum.yValue >= 0) {\n                startingX = Math.min(startingX, datum.x);\n            }\n        }));\n        datumSelections.forEach((datumSelection) => {\n            datumSelection.each((rect, datum) => {\n                var _a;\n                (_a = this.animationManager) === null || _a === void 0 ? void 0 : _a.animateMany(`${this.id}_empty-update-ready_${rect.id}`, [\n                    { from: startingX, to: datum.x },\n                    { from: 0, to: datum.width },\n                ], {\n                    disableInteractions: true,\n                    duration,\n                    ease: easing.easeOut,\n                    repeat: 0,\n                    onUpdate([x, width]) {\n                        rect.x = x;\n                        rect.width = width;\n                        rect.y = datum.y;\n                        rect.height = datum.height;\n                    },\n                });\n            });\n        });\n        labelSelections.forEach((labelSelection) => {\n            labelSelection.each((label) => {\n                var _a;\n                (_a = this.animationManager) === null || _a === void 0 ? void 0 : _a.animate(`${this.id}_empty-update-ready_${label.id}`, {\n                    from: 0,\n                    to: 1,\n                    delay: duration,\n                    duration: labelDuration,\n                    ease: easing.linear,\n                    repeat: 0,\n                    onUpdate: (opacity) => {\n                        label.opacity = opacity;\n                    },\n                });\n            });\n        });\n    }\n    animateReadyUpdate({ datumSelections }) {\n        datumSelections.forEach((datumSelection) => {\n            this.resetSelectionRects(datumSelection);\n        });\n    }\n    animateReadyHighlight(highlightSelection) {\n        this.resetSelectionRects(highlightSelection);\n    }\n    animateReadyResize({ datumSelections }) {\n        var _a;\n        (_a = this.animationManager) === null || _a === void 0 ? void 0 : _a.stop();\n        datumSelections.forEach((datumSelection) => {\n            this.resetSelectionRects(datumSelection);\n        });\n    }\n    resetSelectionRects(selection) {\n        selection.each((rect, datum) => {\n            rect.x = datum.x;\n            rect.y = datum.y;\n            rect.width = datum.width;\n            rect.height = datum.height;\n        });\n    }\n    isLabelEnabled() {\n        return this.label.enabled;\n    }\n    getBandScalePadding() {\n        return { inner: 0.2, outer: 0.3 };\n    }\n    getBarDirection() {\n        return ChartAxisDirection.X;\n    }\n    getCategoryDirection() {\n        return ChartAxisDirection.Y;\n    }\n}\nBarSeries.className = 'BarSeries';\nBarSeries.type = 'bar';\n__decorate([\n    Validate(COLOR_STRING_ARRAY)\n], BarSeries.prototype, \"fills\", void 0);\n__decorate([\n    Validate(COLOR_STRING_ARRAY)\n], BarSeries.prototype, \"strokes\", void 0);\n__decorate([\n    Validate(NUMBER(0, 1))\n], BarSeries.prototype, \"fillOpacity\", void 0);\n__decorate([\n    Validate(NUMBER(0, 1))\n], BarSeries.prototype, \"strokeOpacity\", void 0);\n__decorate([\n    Validate(OPT_LINE_DASH)\n], BarSeries.prototype, \"lineDash\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], BarSeries.prototype, \"lineDashOffset\", void 0);\n__decorate([\n    Validate(OPT_FUNCTION)\n], BarSeries.prototype, \"formatter\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], BarSeries.prototype, \"xKey\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], BarSeries.prototype, \"xName\", void 0);\n__decorate([\n    Validate(STRING_ARRAY)\n], BarSeries.prototype, \"hideInLegend\", void 0);\n__decorate([\n    Validate(BOOLEAN_ARRAY)\n], BarSeries.prototype, \"visibles\", void 0);\n__decorate([\n    Validate(BOOLEAN)\n], BarSeries.prototype, \"grouped\", void 0);\n__decorate([\n    Validate(OPT_NUMBER())\n], BarSeries.prototype, \"normalizedTo\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], BarSeries.prototype, \"strokeWidth\", void 0);\nexport class ColumnSeries extends BarSeries {\n    getBarDirection() {\n        return ChartAxisDirection.Y;\n    }\n    getCategoryDirection() {\n        return ChartAxisDirection.X;\n    }\n    animateEmptyUpdateReady({ datumSelections, labelSelections, }) {\n        const duration = 1000;\n        const labelDuration = 200;\n        let startingY = 0;\n        datumSelections.forEach((datumSelection) => datumSelection.each((_, datum) => {\n            if (datum.yValue >= 0) {\n                startingY = Math.max(startingY, datum.height + datum.y);\n            }\n        }));\n        datumSelections.forEach((datumSelection) => {\n            datumSelection.each((rect, datum) => {\n                var _a;\n                (_a = this.animationManager) === null || _a === void 0 ? void 0 : _a.animateMany(`${this.id}_empty-update-ready_${rect.id}`, [\n                    { from: startingY, to: datum.y },\n                    { from: 0, to: datum.height },\n                ], {\n                    disableInteractions: true,\n                    duration,\n                    ease: easing.easeOut,\n                    repeat: 0,\n                    onUpdate([y, height]) {\n                        rect.y = y;\n                        rect.height = height;\n                        rect.x = datum.x;\n                        rect.width = datum.width;\n                    },\n                });\n            });\n        });\n        labelSelections.forEach((labelSelection) => {\n            labelSelection.each((label) => {\n                var _a;\n                (_a = this.animationManager) === null || _a === void 0 ? void 0 : _a.animate(`${this.id}_empty-update-ready_${label.id}`, {\n                    from: 0,\n                    to: 1,\n                    delay: duration,\n                    duration: labelDuration,\n                    ease: easing.linear,\n                    repeat: 0,\n                    onUpdate: (opacity) => {\n                        label.opacity = opacity;\n                    },\n                });\n            });\n        });\n    }\n}\nColumnSeries.type = 'column';\nColumnSeries.className = 'ColumnSeries';\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Rect } from '../../../scene/shape/rect.mjs';\nimport { SeriesTooltip, Series, SeriesNodePickMode, valueProperty, keyProperty, } from '../series.mjs';\nimport { Label } from '../../label.mjs';\nimport { PointerEvents } from '../../../scene/node.mjs';\nimport { CartesianSeries, CartesianSeriesNodeClickEvent, CartesianSeriesNodeDoubleClickEvent, } from './cartesianSeries.mjs';\nimport { ChartAxisDirection } from '../../chartAxisDirection.mjs';\nimport { toTooltipHtml } from '../../tooltip/tooltip.mjs';\nimport ticks, { tickStep } from '../../../util/ticks.mjs';\nimport { sanitizeHtml } from '../../../util/sanitize.mjs';\nimport { BOOLEAN, NUMBER, OPT_ARRAY, OPT_FUNCTION, OPT_LINE_DASH, OPT_NUMBER, OPT_COLOR_STRING, Validate, predicateWithMessage, OPT_STRING, } from '../../../util/validation.mjs';\nimport { DataModel, fixNumericExtent, } from '../../data/dataModel.mjs';\nimport { area, groupAverage, groupCount, groupSum } from '../../data/aggregateFunctions.mjs';\nimport { SORT_DOMAIN_GROUPS } from '../../data/processors.mjs';\nimport * as easing from '../../../motion/easing.mjs';\nconst HISTOGRAM_AGGREGATIONS = ['count', 'sum', 'mean'];\nconst HISTOGRAM_AGGREGATION = predicateWithMessage((v) => HISTOGRAM_AGGREGATIONS.includes(v), `expecting a histogram aggregation keyword such as 'count', 'sum' or 'mean`);\nvar HistogramSeriesNodeTag;\n(function (HistogramSeriesNodeTag) {\n    HistogramSeriesNodeTag[HistogramSeriesNodeTag[\"Bin\"] = 0] = \"Bin\";\n    HistogramSeriesNodeTag[HistogramSeriesNodeTag[\"Label\"] = 1] = \"Label\";\n})(HistogramSeriesNodeTag || (HistogramSeriesNodeTag = {}));\nclass HistogramSeriesLabel extends Label {\n    constructor() {\n        super(...arguments);\n        this.formatter = undefined;\n    }\n}\n__decorate([\n    Validate(OPT_FUNCTION)\n], HistogramSeriesLabel.prototype, \"formatter\", void 0);\nconst defaultBinCount = 10;\nclass HistogramSeriesTooltip extends SeriesTooltip {\n    constructor() {\n        super(...arguments);\n        this.renderer = undefined;\n    }\n}\n__decorate([\n    Validate(OPT_FUNCTION)\n], HistogramSeriesTooltip.prototype, \"renderer\", void 0);\nexport class HistogramSeries extends CartesianSeries {\n    constructor(moduleCtx) {\n        super({ moduleCtx, pickModes: [SeriesNodePickMode.EXACT_SHAPE_MATCH] });\n        this.label = new HistogramSeriesLabel();\n        this.tooltip = new HistogramSeriesTooltip();\n        this.fill = undefined;\n        this.stroke = undefined;\n        this.fillOpacity = 1;\n        this.strokeOpacity = 1;\n        this.lineDash = [0];\n        this.lineDashOffset = 0;\n        this.xKey = undefined;\n        this.areaPlot = false;\n        this.bins = undefined;\n        this.aggregation = 'count';\n        this.binCount = undefined;\n        this.xName = undefined;\n        this.yKey = undefined;\n        this.yName = undefined;\n        this.strokeWidth = 1;\n        this.shadow = undefined;\n        this.calculatedBins = [];\n        this.label.enabled = false;\n    }\n    // During processData phase, used to unify different ways of the user specifying\n    // the bins. Returns bins in format[[min1, max1], [min2, max2], ... ].\n    deriveBins(xDomain) {\n        if (this.binCount === undefined) {\n            const binStarts = ticks(xDomain[0], xDomain[1], defaultBinCount);\n            const binSize = tickStep(xDomain[0], xDomain[1], defaultBinCount);\n            const firstBinEnd = binStarts[0];\n            const expandStartToBin = (n) => [n, n + binSize];\n            return [[firstBinEnd - binSize, firstBinEnd], ...binStarts.map(expandStartToBin)];\n        }\n        else {\n            return this.calculateNiceBins(xDomain, this.binCount);\n        }\n    }\n    calculateNiceBins(domain, binCount) {\n        const startGuess = Math.floor(domain[0]);\n        const stop = domain[1];\n        const segments = binCount || 1;\n        const { start, binSize } = this.calculateNiceStart(startGuess, stop, segments);\n        return this.getBins(start, stop, binSize, segments);\n    }\n    getBins(start, stop, step, count) {\n        const bins = [];\n        for (let i = 0; i < count; i++) {\n            const a = Math.round((start + i * step) * 10) / 10;\n            let b = Math.round((start + (i + 1) * step) * 10) / 10;\n            if (i === count - 1) {\n                b = Math.max(b, stop);\n            }\n            bins[i] = [a, b];\n        }\n        return bins;\n    }\n    calculateNiceStart(a, b, segments) {\n        const binSize = Math.abs(b - a) / segments;\n        const order = Math.floor(Math.log10(binSize));\n        const magnitude = Math.pow(10, order);\n        const start = Math.floor(a / magnitude) * magnitude;\n        return {\n            start,\n            binSize,\n        };\n    }\n    processData() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { xKey, yKey, data, areaPlot, aggregation } = this;\n            const props = [keyProperty(xKey, true), SORT_DOMAIN_GROUPS];\n            if (yKey) {\n                let aggProp = groupCount();\n                if (aggregation === 'count') {\n                    // Nothing to do.\n                }\n                else if (aggregation === 'sum') {\n                    aggProp = groupSum([yKey]);\n                }\n                else if (aggregation === 'mean') {\n                    aggProp = groupAverage([yKey]);\n                }\n                if (areaPlot) {\n                    aggProp = area([yKey], aggProp);\n                }\n                props.push(valueProperty(yKey, true, { invalidValue: undefined }), aggProp);\n            }\n            else {\n                let aggProp = groupCount();\n                if (areaPlot) {\n                    aggProp = area([], aggProp);\n                }\n                props.push(aggProp);\n            }\n            const groupByFn = (dataSet) => {\n                var _a;\n                const xExtent = fixNumericExtent(dataSet.domain.keys[0]);\n                if (xExtent.length === 0) {\n                    // No buckets can be calculated.\n                    dataSet.domain.groups = [];\n                    return () => [];\n                }\n                const bins = (_a = this.bins) !== null && _a !== void 0 ? _a : this.deriveBins(xExtent);\n                const binCount = bins.length;\n                this.calculatedBins = [...bins];\n                return (item) => {\n                    const xValue = item.keys[0];\n                    for (let i = 0; i < binCount; i++) {\n                        const nextBin = bins[i];\n                        if (xValue >= nextBin[0] && xValue < nextBin[1]) {\n                            return nextBin;\n                        }\n                        if (i === binCount - 1 && xValue <= nextBin[1]) {\n                            // Handle edge case of a value being at the maximum extent, and the\n                            // final bin aligning with it.\n                            return nextBin;\n                        }\n                    }\n                    return [];\n                };\n            };\n            this.dataModel = new DataModel({\n                props,\n                dataVisible: this.visible,\n                groupByFn,\n            });\n            this.processedData = this.dataModel.processData(data !== null && data !== void 0 ? data : []);\n        });\n    }\n    getDomain(direction) {\n        var _a, _b, _c, _d;\n        const { processedData } = this;\n        if (!processedData)\n            return [];\n        const { domain: { aggValues: [yDomain] = [] }, } = processedData;\n        const xDomainMin = (_a = this.calculatedBins) === null || _a === void 0 ? void 0 : _a[0][0];\n        const xDomainMax = (_b = this.calculatedBins) === null || _b === void 0 ? void 0 : _b[((_d = (_c = this.calculatedBins) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0) - 1][1];\n        if (direction === ChartAxisDirection.X) {\n            return fixNumericExtent([xDomainMin, xDomainMax]);\n        }\n        return fixNumericExtent(yDomain);\n    }\n    getNodeClickEvent(event, datum) {\n        var _a, _b;\n        return new CartesianSeriesNodeClickEvent((_a = this.xKey) !== null && _a !== void 0 ? _a : '', (_b = this.yKey) !== null && _b !== void 0 ? _b : '', event, datum, this);\n    }\n    getNodeDoubleClickEvent(event, datum) {\n        var _a, _b;\n        return new CartesianSeriesNodeDoubleClickEvent((_a = this.xKey) !== null && _a !== void 0 ? _a : '', (_b = this.yKey) !== null && _b !== void 0 ? _b : '', event, datum, this);\n    }\n    createNodeData() {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const { xAxis, yAxis, processedData, ctx: { callbackCache }, } = this;\n            if (!this.seriesItemEnabled || !xAxis || !yAxis || !processedData || processedData.type !== 'grouped') {\n                return [];\n            }\n            const { scale: xScale } = xAxis;\n            const { scale: yScale } = yAxis;\n            const { fill, stroke, strokeWidth, id: seriesId, yKey = '', xKey = '' } = this;\n            const nodeData = [];\n            const defaultLabelFormatter = (params) => String(params.value);\n            const { label: { formatter: labelFormatter = defaultLabelFormatter, fontStyle: labelFontStyle, fontWeight: labelFontWeight, fontSize: labelFontSize, fontFamily: labelFontFamily, color: labelColor, }, } = this;\n            processedData.data.forEach((group) => {\n                var _a;\n                const { aggValues: [[negativeAgg, positiveAgg]] = [[0, 0]], datum, datum: { length: frequency }, keys: domain, keys: [xDomainMin, xDomainMax], } = group;\n                const xMinPx = xScale.convert(xDomainMin);\n                const xMaxPx = xScale.convert(xDomainMax);\n                const total = negativeAgg + positiveAgg;\n                const yZeroPx = yScale.convert(0);\n                const yMaxPx = yScale.convert(total);\n                const w = xMaxPx - xMinPx;\n                const h = Math.abs(yMaxPx - yZeroPx);\n                const selectionDatumLabel = total !== 0\n                    ? {\n                        text: (_a = callbackCache.call(labelFormatter, { value: total, seriesId })) !== null && _a !== void 0 ? _a : String(total),\n                        fontStyle: labelFontStyle,\n                        fontWeight: labelFontWeight,\n                        fontSize: labelFontSize,\n                        fontFamily: labelFontFamily,\n                        fill: labelColor,\n                        x: xMinPx + w / 2,\n                        y: yMaxPx + h / 2,\n                    }\n                    : undefined;\n                const nodeMidPoint = {\n                    x: xMinPx + w / 2,\n                    y: yMaxPx + h / 2,\n                };\n                nodeData.push({\n                    series: this,\n                    datum,\n                    // since each selection is an aggregation of multiple data.\n                    aggregatedValue: total,\n                    frequency,\n                    domain: domain,\n                    yKey,\n                    xKey,\n                    x: xMinPx,\n                    y: yMaxPx,\n                    width: w,\n                    height: h,\n                    nodeMidPoint,\n                    fill: fill,\n                    stroke: stroke,\n                    strokeWidth: strokeWidth,\n                    label: selectionDatumLabel,\n                });\n            });\n            return [{ itemId: (_a = this.yKey) !== null && _a !== void 0 ? _a : this.id, nodeData, labelData: nodeData }];\n        });\n    }\n    nodeFactory() {\n        return new Rect();\n    }\n    updateDatumSelection(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { nodeData, datumSelection } = opts;\n            return datumSelection.update(nodeData, (rect) => {\n                rect.tag = HistogramSeriesNodeTag.Bin;\n                rect.crisp = true;\n            });\n        });\n    }\n    updateDatumNodes(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { datumSelection, isHighlight: isDatumHighlighted } = opts;\n            const { fillOpacity: seriesFillOpacity, strokeOpacity, shadow, highlightStyle: { item: { fill: highlightedFill, fillOpacity: highlightFillOpacity = seriesFillOpacity, stroke: highlightedStroke, strokeWidth: highlightedDatumStrokeWidth, }, }, } = this;\n            datumSelection.each((rect, datum, index) => {\n                var _a, _b;\n                const strokeWidth = isDatumHighlighted && highlightedDatumStrokeWidth !== undefined\n                    ? highlightedDatumStrokeWidth\n                    : datum.strokeWidth;\n                const fillOpacity = isDatumHighlighted ? highlightFillOpacity : seriesFillOpacity;\n                rect.x = datum.x;\n                rect.width = datum.width;\n                rect.fill = (_a = (isDatumHighlighted ? highlightedFill : undefined)) !== null && _a !== void 0 ? _a : datum.fill;\n                rect.stroke = (_b = (isDatumHighlighted ? highlightedStroke : undefined)) !== null && _b !== void 0 ? _b : datum.stroke;\n                rect.fillOpacity = fillOpacity;\n                rect.strokeOpacity = strokeOpacity;\n                rect.strokeWidth = strokeWidth;\n                rect.lineDash = this.lineDash;\n                rect.lineDashOffset = this.lineDashOffset;\n                rect.fillShadow = shadow;\n                rect.zIndex = isDatumHighlighted ? Series.highlightedZIndex : index;\n                rect.visible = datum.height > 0; // prevent stroke from rendering for zero height columns\n            });\n        });\n    }\n    updateLabelSelection(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { labelData, labelSelection } = opts;\n            return labelSelection.update(labelData, (text) => {\n                text.tag = HistogramSeriesNodeTag.Label;\n                text.pointerEvents = PointerEvents.None;\n                text.textAlign = 'center';\n                text.textBaseline = 'middle';\n            });\n        });\n    }\n    updateLabelNodes(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { labelSelection } = opts;\n            const labelEnabled = this.label.enabled;\n            labelSelection.each((text, datum) => {\n                const label = datum.label;\n                if (label && labelEnabled) {\n                    text.text = label.text;\n                    text.x = label.x;\n                    text.y = label.y;\n                    text.fontStyle = label.fontStyle;\n                    text.fontWeight = label.fontWeight;\n                    text.fontSize = label.fontSize;\n                    text.fontFamily = label.fontFamily;\n                    text.fill = label.fill;\n                    text.visible = true;\n                }\n                else {\n                    text.visible = false;\n                }\n            });\n        });\n    }\n    getTooltipHtml(nodeDatum) {\n        const { xKey, yKey = '', xAxis, yAxis } = this;\n        if (!xKey || !xAxis || !yAxis) {\n            return '';\n        }\n        const { xName, yName, fill: color, tooltip, aggregation, id: seriesId } = this;\n        const { renderer: tooltipRenderer } = tooltip;\n        const { aggregatedValue, frequency, domain, domain: [rangeMin, rangeMax], } = nodeDatum;\n        const title = `${sanitizeHtml(xName !== null && xName !== void 0 ? xName : xKey)}: ${xAxis.formatDatum(rangeMin)} - ${xAxis.formatDatum(rangeMax)}`;\n        let content = yKey\n            ? `<b>${sanitizeHtml(yName !== null && yName !== void 0 ? yName : yKey)} (${aggregation})</b>: ${yAxis.formatDatum(aggregatedValue)}<br>`\n            : '';\n        content += `<b>Frequency</b>: ${frequency}`;\n        const defaults = {\n            title,\n            backgroundColor: color,\n            content,\n        };\n        if (tooltipRenderer) {\n            return toTooltipHtml(tooltipRenderer({\n                datum: {\n                    data: nodeDatum.datum,\n                    aggregatedValue: nodeDatum.aggregatedValue,\n                    domain: nodeDatum.domain,\n                    frequency: nodeDatum.frequency,\n                },\n                xKey,\n                xValue: domain,\n                xName,\n                yKey,\n                yValue: aggregatedValue,\n                yName,\n                color,\n                title,\n                seriesId,\n            }), defaults);\n        }\n        return toTooltipHtml(defaults);\n    }\n    getLegendData() {\n        var _a;\n        const { id, data, xKey, yName, visible, fill, stroke, fillOpacity, strokeOpacity } = this;\n        if (!data || data.length === 0) {\n            return [];\n        }\n        const legendData = [\n            {\n                legendType: 'category',\n                id,\n                itemId: xKey,\n                seriesId: id,\n                enabled: visible,\n                label: {\n                    text: (_a = yName !== null && yName !== void 0 ? yName : xKey) !== null && _a !== void 0 ? _a : 'Frequency',\n                },\n                marker: {\n                    fill: fill !== null && fill !== void 0 ? fill : 'rgba(0, 0, 0, 0)',\n                    stroke: stroke !== null && stroke !== void 0 ? stroke : 'rgba(0, 0, 0, 0)',\n                    fillOpacity: fillOpacity,\n                    strokeOpacity: strokeOpacity,\n                },\n            },\n        ];\n        return legendData;\n    }\n    animateEmptyUpdateReady({ datumSelections, labelSelections, }) {\n        const duration = 1000;\n        const labelDuration = 200;\n        let startingY = 0;\n        datumSelections.forEach((datumSelection) => datumSelection.each((_, datum) => {\n            startingY = Math.max(startingY, datum.height + datum.y);\n        }));\n        datumSelections.forEach((datumSelection) => {\n            datumSelection.each((rect, datum) => {\n                var _a;\n                (_a = this.animationManager) === null || _a === void 0 ? void 0 : _a.animateMany(`${this.id}_empty-update-ready_${rect.id}`, [\n                    { from: startingY, to: datum.y },\n                    { from: 0, to: datum.height },\n                ], {\n                    disableInteractions: true,\n                    duration,\n                    ease: easing.easeOut,\n                    repeat: 0,\n                    onUpdate([y, height]) {\n                        rect.y = y;\n                        rect.height = height;\n                        rect.x = datum.x;\n                        rect.width = datum.width;\n                    },\n                });\n            });\n        });\n        labelSelections.forEach((labelSelection) => {\n            labelSelection.each((label) => {\n                var _a;\n                (_a = this.animationManager) === null || _a === void 0 ? void 0 : _a.animate(`${this.id}_empty-update-ready_${label.id}`, {\n                    from: 0,\n                    to: 1,\n                    delay: duration,\n                    duration: labelDuration,\n                    ease: easing.linear,\n                    repeat: 0,\n                    onUpdate: (opacity) => {\n                        label.opacity = opacity;\n                    },\n                });\n            });\n        });\n    }\n    animateReadyUpdate({ datumSelections }) {\n        datumSelections.forEach((datumSelection) => {\n            this.resetSelectionRects(datumSelection);\n        });\n    }\n    animateReadyHighlight(highlightSelection) {\n        this.resetSelectionRects(highlightSelection);\n    }\n    animateReadyResize({ datumSelections }) {\n        var _a;\n        (_a = this.animationManager) === null || _a === void 0 ? void 0 : _a.stop();\n        datumSelections.forEach((datumSelection) => {\n            this.resetSelectionRects(datumSelection);\n        });\n    }\n    resetSelectionRects(selection) {\n        selection.each((rect, datum) => {\n            rect.x = datum.x;\n            rect.y = datum.y;\n            rect.width = datum.width;\n            rect.height = datum.height;\n        });\n    }\n    isLabelEnabled() {\n        return this.label.enabled;\n    }\n}\nHistogramSeries.className = 'HistogramSeries';\nHistogramSeries.type = 'histogram';\n__decorate([\n    Validate(OPT_COLOR_STRING)\n], HistogramSeries.prototype, \"fill\", void 0);\n__decorate([\n    Validate(OPT_COLOR_STRING)\n], HistogramSeries.prototype, \"stroke\", void 0);\n__decorate([\n    Validate(NUMBER(0, 1))\n], HistogramSeries.prototype, \"fillOpacity\", void 0);\n__decorate([\n    Validate(NUMBER(0, 1))\n], HistogramSeries.prototype, \"strokeOpacity\", void 0);\n__decorate([\n    Validate(OPT_LINE_DASH)\n], HistogramSeries.prototype, \"lineDash\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], HistogramSeries.prototype, \"lineDashOffset\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], HistogramSeries.prototype, \"xKey\", void 0);\n__decorate([\n    Validate(BOOLEAN)\n], HistogramSeries.prototype, \"areaPlot\", void 0);\n__decorate([\n    Validate(OPT_ARRAY())\n], HistogramSeries.prototype, \"bins\", void 0);\n__decorate([\n    Validate(HISTOGRAM_AGGREGATION)\n], HistogramSeries.prototype, \"aggregation\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0))\n], HistogramSeries.prototype, \"binCount\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], HistogramSeries.prototype, \"xName\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], HistogramSeries.prototype, \"yKey\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], HistogramSeries.prototype, \"yName\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], HistogramSeries.prototype, \"strokeWidth\", void 0);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { ContinuousScale } from '../../../scale/continuousScale.mjs';\nimport { SeriesTooltip, SeriesNodePickMode, valueProperty } from '../series.mjs';\nimport { extent } from '../../../util/array.mjs';\nimport { PointerEvents } from '../../../scene/node.mjs';\nimport { CartesianSeries, CartesianSeriesMarker, CartesianSeriesNodeClickEvent, CartesianSeriesNodeDoubleClickEvent, } from './cartesianSeries.mjs';\nimport { ChartAxisDirection } from '../../chartAxisDirection.mjs';\nimport { getMarker } from '../../marker/util.mjs';\nimport { toTooltipHtml } from '../../tooltip/tooltip.mjs';\nimport { interpolate } from '../../../util/string.mjs';\nimport { Label } from '../../label.mjs';\nimport { sanitizeHtml } from '../../../util/sanitize.mjs';\nimport { NUMBER, OPT_FUNCTION, OPT_LINE_DASH, OPT_STRING, OPT_COLOR_STRING, Validate } from '../../../util/validation.mjs';\nimport { DataModel } from '../../data/dataModel.mjs';\nimport * as easing from '../../../motion/easing.mjs';\nclass LineSeriesLabel extends Label {\n    constructor() {\n        super(...arguments);\n        this.formatter = undefined;\n    }\n}\n__decorate([\n    Validate(OPT_FUNCTION)\n], LineSeriesLabel.prototype, \"formatter\", void 0);\nclass LineSeriesTooltip extends SeriesTooltip {\n    constructor() {\n        super(...arguments);\n        this.renderer = undefined;\n        this.format = undefined;\n    }\n}\n__decorate([\n    Validate(OPT_FUNCTION)\n], LineSeriesTooltip.prototype, \"renderer\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], LineSeriesTooltip.prototype, \"format\", void 0);\nexport class LineSeries extends CartesianSeries {\n    constructor(moduleCtx) {\n        super({\n            moduleCtx,\n            hasMarkers: true,\n            pickModes: [\n                SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,\n                SeriesNodePickMode.NEAREST_NODE,\n                SeriesNodePickMode.EXACT_SHAPE_MATCH,\n            ],\n        });\n        this.marker = new CartesianSeriesMarker();\n        this.label = new LineSeriesLabel();\n        this.title = undefined;\n        this.stroke = '#874349';\n        this.lineDash = [0];\n        this.lineDashOffset = 0;\n        this.strokeWidth = 2;\n        this.strokeOpacity = 1;\n        this.tooltip = new LineSeriesTooltip();\n        this.xKey = undefined;\n        this.xName = undefined;\n        this.yKey = undefined;\n        this.yName = undefined;\n        const { marker, label } = this;\n        marker.fill = '#c16068';\n        marker.stroke = '#874349';\n        label.enabled = false;\n    }\n    processData() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { xAxis, yAxis, xKey = '', yKey = '' } = this;\n            const data = xKey && yKey && this.data ? this.data : [];\n            const isContinuousX = (xAxis === null || xAxis === void 0 ? void 0 : xAxis.scale) instanceof ContinuousScale;\n            const isContinuousY = (yAxis === null || yAxis === void 0 ? void 0 : yAxis.scale) instanceof ContinuousScale;\n            this.dataModel = new DataModel({\n                props: [\n                    valueProperty(xKey, isContinuousX, { id: 'xValue' }),\n                    valueProperty(yKey, isContinuousY, { id: 'yValue', invalidValue: undefined }),\n                ],\n                dataVisible: this.visible,\n            });\n            this.processedData = this.dataModel.processData(data !== null && data !== void 0 ? data : []);\n        });\n    }\n    getDomain(direction) {\n        const { xAxis, yAxis, dataModel, processedData } = this;\n        if (!processedData || !dataModel)\n            return [];\n        const xDef = dataModel.resolveProcessedDataDefById(`xValue`);\n        if (direction === ChartAxisDirection.X) {\n            const domain = dataModel.getDomain(`xValue`, processedData);\n            if ((xDef === null || xDef === void 0 ? void 0 : xDef.valueType) === 'category') {\n                return domain;\n            }\n            return this.fixNumericExtent(extent(domain), xAxis);\n        }\n        else {\n            const domain = dataModel.getDomain(`yValue`, processedData);\n            return this.fixNumericExtent(domain, yAxis);\n        }\n    }\n    createNodeData() {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n        return __awaiter(this, void 0, void 0, function* () {\n            const { processedData, dataModel, xAxis, yAxis, marker: { enabled: markerEnabled, size: markerSize, strokeWidth }, ctx: { callbackCache }, } = this;\n            if (!processedData || !dataModel || !xAxis || !yAxis) {\n                return [];\n            }\n            const { label, yKey = '', xKey = '', id: seriesId } = this;\n            const xScale = xAxis.scale;\n            const yScale = yAxis.scale;\n            const xOffset = ((_a = xScale.bandwidth) !== null && _a !== void 0 ? _a : 0) / 2;\n            const yOffset = ((_b = yScale.bandwidth) !== null && _b !== void 0 ? _b : 0) / 2;\n            const nodeData = new Array(processedData.data.length);\n            const size = markerEnabled ? markerSize : 0;\n            const xIdx = (_e = (_d = (_c = this.dataModel) === null || _c === void 0 ? void 0 : _c.resolveProcessedDataIndexById(`xValue`)) === null || _d === void 0 ? void 0 : _d.index) !== null && _e !== void 0 ? _e : -1;\n            const yIdx = (_h = (_g = (_f = this.dataModel) === null || _f === void 0 ? void 0 : _f.resolveProcessedDataIndexById(`yValue`)) === null || _g === void 0 ? void 0 : _g.index) !== null && _h !== void 0 ? _h : -1;\n            let moveTo = true;\n            let prevXInRange = undefined;\n            let nextPoint = undefined;\n            let actualLength = 0;\n            for (let i = 0; i < processedData.data.length; i++) {\n                const { datum, values } = nextPoint !== null && nextPoint !== void 0 ? nextPoint : processedData.data[i];\n                const xDatum = values[xIdx];\n                const yDatum = values[yIdx];\n                if (yDatum === undefined) {\n                    prevXInRange = undefined;\n                    moveTo = true;\n                }\n                else {\n                    const x = xScale.convert(xDatum) + xOffset;\n                    if (isNaN(x)) {\n                        prevXInRange = undefined;\n                        moveTo = true;\n                        continue;\n                    }\n                    const tolerance = ((_j = xScale.bandwidth) !== null && _j !== void 0 ? _j : markerSize * 0.5 + (strokeWidth !== null && strokeWidth !== void 0 ? strokeWidth : 0)) + 1;\n                    nextPoint =\n                        ((_k = processedData.data[i + 1]) === null || _k === void 0 ? void 0 : _k.values[yIdx]) === undefined ? undefined : processedData.data[i + 1];\n                    const nextXDatum = (_l = processedData.data[i + 1]) === null || _l === void 0 ? void 0 : _l.values[xIdx];\n                    const xInRange = xAxis.inRangeEx(x, 0, tolerance);\n                    const nextXInRange = nextPoint && xAxis.inRangeEx(xScale.convert(nextXDatum) + xOffset, 0, tolerance);\n                    if (xInRange === -1 && nextXInRange === -1) {\n                        moveTo = true;\n                        continue;\n                    }\n                    if (xInRange === 1 && prevXInRange === 1) {\n                        moveTo = true;\n                        continue;\n                    }\n                    prevXInRange = xInRange;\n                    const y = yScale.convert(yDatum) + yOffset;\n                    let labelText;\n                    if (label.formatter) {\n                        labelText = callbackCache.call(label.formatter, { value: yDatum, seriesId });\n                    }\n                    if (labelText !== undefined) {\n                        // Label retrieved from formatter successfully.\n                    }\n                    else if (typeof yDatum === 'number' && isFinite(yDatum)) {\n                        labelText = yDatum.toFixed(2);\n                    }\n                    else if (yDatum) {\n                        labelText = String(yDatum);\n                    }\n                    nodeData[actualLength++] = {\n                        series: this,\n                        datum,\n                        yKey,\n                        xKey,\n                        point: { x, y, moveTo, size },\n                        nodeMidPoint: { x, y },\n                        label: labelText\n                            ? {\n                                text: labelText,\n                                fontStyle: label.fontStyle,\n                                fontWeight: label.fontWeight,\n                                fontSize: label.fontSize,\n                                fontFamily: label.fontFamily,\n                                textAlign: 'center',\n                                textBaseline: 'bottom',\n                                fill: label.color,\n                            }\n                            : undefined,\n                    };\n                    moveTo = false;\n                }\n            }\n            nodeData.length = actualLength;\n            return [{ itemId: yKey, nodeData, labelData: nodeData }];\n        });\n    }\n    isPathOrSelectionDirty() {\n        return this.marker.isDirty();\n    }\n    markerFactory() {\n        const { shape } = this.marker;\n        const MarkerShape = getMarker(shape);\n        return new MarkerShape();\n    }\n    updateMarkerSelection(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let { nodeData } = opts;\n            const { markerSelection } = opts;\n            const { shape, enabled } = this.marker;\n            nodeData = shape && enabled ? nodeData : [];\n            if (this.marker.isDirty()) {\n                markerSelection.clear();\n            }\n            return markerSelection.update(nodeData);\n        });\n    }\n    updateMarkerNodes(opts) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const { markerSelection, isHighlight: isDatumHighlighted } = opts;\n            const { marker, marker: { fillOpacity: markerFillOpacity }, xKey = '', yKey = '', stroke: lineStroke, strokeOpacity, highlightStyle: { item: { fill: highlightedFill, fillOpacity: highlightFillOpacity = markerFillOpacity, stroke: highlightedStroke, strokeWidth: highlightedDatumStrokeWidth, }, }, id: seriesId, ctx: { callbackCache }, } = this;\n            const { size, formatter } = marker;\n            const markerStrokeWidth = (_a = marker.strokeWidth) !== null && _a !== void 0 ? _a : this.strokeWidth;\n            const customMarker = typeof marker.shape === 'function';\n            markerSelection.each((node, datum) => {\n                var _a, _b, _c, _d, _e, _f, _g;\n                const fill = isDatumHighlighted && highlightedFill !== undefined ? highlightedFill : marker.fill;\n                const fillOpacity = isDatumHighlighted ? highlightFillOpacity : markerFillOpacity;\n                const stroke = isDatumHighlighted && highlightedStroke !== undefined ? highlightedStroke : (_a = marker.stroke) !== null && _a !== void 0 ? _a : lineStroke;\n                const strokeWidth = isDatumHighlighted && highlightedDatumStrokeWidth !== undefined\n                    ? highlightedDatumStrokeWidth\n                    : markerStrokeWidth;\n                let format = undefined;\n                if (formatter) {\n                    format = callbackCache.call(formatter, {\n                        datum: datum.datum,\n                        xKey,\n                        yKey,\n                        fill,\n                        stroke,\n                        strokeWidth,\n                        size,\n                        highlighted: isDatumHighlighted,\n                        seriesId,\n                    });\n                }\n                node.fill = (_b = format === null || format === void 0 ? void 0 : format.fill) !== null && _b !== void 0 ? _b : fill;\n                node.stroke = (_c = format === null || format === void 0 ? void 0 : format.stroke) !== null && _c !== void 0 ? _c : stroke;\n                node.strokeWidth = (_d = format === null || format === void 0 ? void 0 : format.strokeWidth) !== null && _d !== void 0 ? _d : strokeWidth;\n                node.fillOpacity = fillOpacity !== null && fillOpacity !== void 0 ? fillOpacity : 1;\n                node.strokeOpacity = (_f = (_e = marker.strokeOpacity) !== null && _e !== void 0 ? _e : strokeOpacity) !== null && _f !== void 0 ? _f : 1;\n                node.size = (_g = format === null || format === void 0 ? void 0 : format.size) !== null && _g !== void 0 ? _g : size;\n                node.translationX = datum.point.x;\n                node.translationY = datum.point.y;\n                node.visible = node.size > 0 && !isNaN(datum.point.x) && !isNaN(datum.point.y);\n                if (!customMarker || node.dirtyPath) {\n                    return;\n                }\n                // Only for cutom marker shapes\n                node.path.clear({ trackChanges: true });\n                node.updatePath();\n                node.checkPathDirty();\n            });\n            if (!isDatumHighlighted) {\n                this.marker.markClean();\n            }\n        });\n    }\n    updateLabelSelection(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let { labelData } = opts;\n            const { labelSelection } = opts;\n            const { shape, enabled } = this.marker;\n            labelData = shape && enabled ? labelData : [];\n            return labelSelection.update(labelData);\n        });\n    }\n    updateLabelNodes(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { labelSelection } = opts;\n            const { enabled: labelEnabled, fontStyle, fontWeight, fontSize, fontFamily, color } = this.label;\n            labelSelection.each((text, datum) => {\n                const { point, label } = datum;\n                if (datum && label && labelEnabled) {\n                    text.fontStyle = fontStyle;\n                    text.fontWeight = fontWeight;\n                    text.fontSize = fontSize;\n                    text.fontFamily = fontFamily;\n                    text.textAlign = label.textAlign;\n                    text.textBaseline = label.textBaseline;\n                    text.text = label.text;\n                    text.x = point.x;\n                    text.y = point.y - 10;\n                    text.fill = color;\n                    text.visible = true;\n                }\n                else {\n                    text.visible = false;\n                }\n            });\n        });\n    }\n    getNodeClickEvent(event, datum) {\n        var _a, _b;\n        return new CartesianSeriesNodeClickEvent((_a = this.xKey) !== null && _a !== void 0 ? _a : '', (_b = this.yKey) !== null && _b !== void 0 ? _b : '', event, datum, this);\n    }\n    getNodeDoubleClickEvent(event, datum) {\n        var _a, _b;\n        return new CartesianSeriesNodeDoubleClickEvent((_a = this.xKey) !== null && _a !== void 0 ? _a : '', (_b = this.yKey) !== null && _b !== void 0 ? _b : '', event, datum, this);\n    }\n    getTooltipHtml(nodeDatum) {\n        var _a, _b;\n        const { xKey, yKey, xAxis, yAxis } = this;\n        if (!xKey || !yKey || !xAxis || !yAxis) {\n            return '';\n        }\n        const { xName, yName, tooltip, marker, id: seriesId } = this;\n        const { renderer: tooltipRenderer, format: tooltipFormat } = tooltip;\n        const datum = nodeDatum.datum;\n        const xValue = datum[xKey];\n        const yValue = datum[yKey];\n        const xString = xAxis.formatDatum(xValue);\n        const yString = yAxis.formatDatum(yValue);\n        const title = sanitizeHtml((_a = this.title) !== null && _a !== void 0 ? _a : yName);\n        const content = sanitizeHtml(xString + ': ' + yString);\n        const { formatter: markerFormatter, fill, stroke, strokeWidth: markerStrokeWidth, size } = marker;\n        const strokeWidth = markerStrokeWidth !== null && markerStrokeWidth !== void 0 ? markerStrokeWidth : this.strokeWidth;\n        let format = undefined;\n        if (markerFormatter) {\n            format = markerFormatter({\n                datum,\n                xKey,\n                yKey,\n                fill,\n                stroke,\n                strokeWidth,\n                size,\n                highlighted: false,\n                seriesId,\n            });\n        }\n        const color = (_b = format === null || format === void 0 ? void 0 : format.fill) !== null && _b !== void 0 ? _b : fill;\n        const defaults = {\n            title,\n            backgroundColor: color,\n            content,\n        };\n        if (tooltipFormat || tooltipRenderer) {\n            const params = {\n                datum,\n                xKey,\n                xValue,\n                xName,\n                yKey,\n                yValue,\n                yName,\n                title,\n                color,\n                seriesId,\n            };\n            if (tooltipFormat) {\n                return toTooltipHtml({\n                    content: interpolate(tooltipFormat, params),\n                }, defaults);\n            }\n            if (tooltipRenderer) {\n                return toTooltipHtml(tooltipRenderer(params), defaults);\n            }\n        }\n        return toTooltipHtml(defaults);\n    }\n    getLegendData() {\n        var _a, _b, _c, _d, _e, _f, _g;\n        const { id, data, xKey, yKey, yName, visible, title, marker, stroke, strokeOpacity } = this;\n        if (!((data === null || data === void 0 ? void 0 : data.length) && xKey && yKey)) {\n            return [];\n        }\n        const legendData = [\n            {\n                legendType: 'category',\n                id: id,\n                itemId: yKey,\n                seriesId: id,\n                enabled: visible,\n                label: {\n                    text: (_a = title !== null && title !== void 0 ? title : yName) !== null && _a !== void 0 ? _a : yKey,\n                },\n                marker: {\n                    shape: marker.shape,\n                    fill: (_b = marker.fill) !== null && _b !== void 0 ? _b : 'rgba(0, 0, 0, 0)',\n                    stroke: (_d = (_c = marker.stroke) !== null && _c !== void 0 ? _c : stroke) !== null && _d !== void 0 ? _d : 'rgba(0, 0, 0, 0)',\n                    fillOpacity: (_e = marker.fillOpacity) !== null && _e !== void 0 ? _e : 1,\n                    strokeOpacity: (_g = (_f = marker.strokeOpacity) !== null && _f !== void 0 ? _f : strokeOpacity) !== null && _g !== void 0 ? _g : 1,\n                },\n            },\n        ];\n        return legendData;\n    }\n    animateEmptyUpdateReady({ markerSelections, labelSelections, contextData, paths, seriesRect, }) {\n        contextData.forEach(({ nodeData }, contextDataIndex) => {\n            var _a, _b;\n            const [lineNode] = paths[contextDataIndex];\n            const { path: linePath } = lineNode;\n            lineNode.fill = undefined;\n            lineNode.lineJoin = 'round';\n            lineNode.pointerEvents = PointerEvents.None;\n            lineNode.stroke = this.stroke;\n            lineNode.strokeWidth = this.getStrokeWidth(this.strokeWidth);\n            lineNode.strokeOpacity = this.strokeOpacity;\n            lineNode.lineDash = this.lineDash;\n            lineNode.lineDashOffset = this.lineDashOffset;\n            const duration = 1000;\n            const markerDuration = 200;\n            const animationOptions = {\n                from: 0,\n                to: (_a = seriesRect === null || seriesRect === void 0 ? void 0 : seriesRect.width) !== null && _a !== void 0 ? _a : 0,\n                disableInteractions: true,\n                ease: easing.linear,\n                repeat: 0,\n            };\n            (_b = this.animationManager) === null || _b === void 0 ? void 0 : _b.animate(`${this.id}_empty-update-ready`, Object.assign(Object.assign({}, animationOptions), { duration,\n                onUpdate(xValue) {\n                    linePath.clear({ trackChanges: true });\n                    nodeData.forEach((datum, index) => {\n                        if (datum.point.x <= xValue) {\n                            // Draw/move the full segment if past the end of this segment\n                            if (datum.point.moveTo) {\n                                linePath.moveTo(datum.point.x, datum.point.y);\n                            }\n                            else {\n                                linePath.lineTo(datum.point.x, datum.point.y);\n                            }\n                        }\n                        else if (index > 0 && nodeData[index - 1].point.x < xValue) {\n                            // Draw/move partial line if in between the start and end of this segment\n                            const start = nodeData[index - 1].point;\n                            const end = datum.point;\n                            const x = xValue;\n                            const y = start.y + ((x - start.x) * (end.y - start.y)) / (end.x - start.x);\n                            if (datum.point.moveTo) {\n                                linePath.moveTo(x, y);\n                            }\n                            else {\n                                linePath.lineTo(x, y);\n                            }\n                        }\n                    });\n                    lineNode.checkPathDirty();\n                } }));\n            markerSelections[contextDataIndex].each((marker, datum) => {\n                var _a, _b, _c, _d;\n                const delay = (seriesRect === null || seriesRect === void 0 ? void 0 : seriesRect.width) ? (datum.point.x / seriesRect.width) * duration : 0;\n                const format = this.animateFormatter(datum);\n                const size = (_b = (_a = datum.point) === null || _a === void 0 ? void 0 : _a.size) !== null && _b !== void 0 ? _b : 0;\n                (_c = this.animationManager) === null || _c === void 0 ? void 0 : _c.animate(`${this.id}_empty-update-ready_${marker.id}`, Object.assign(Object.assign({}, animationOptions), { to: (_d = format === null || format === void 0 ? void 0 : format.size) !== null && _d !== void 0 ? _d : size, delay, duration: markerDuration, onUpdate(size) {\n                        marker.size = size;\n                    } }));\n            });\n            labelSelections[contextDataIndex].each((label, datum) => {\n                var _a;\n                const delay = (seriesRect === null || seriesRect === void 0 ? void 0 : seriesRect.width) ? (datum.point.x / seriesRect.width) * duration : 0;\n                (_a = this.animationManager) === null || _a === void 0 ? void 0 : _a.animate(`${this.id}_empty-update-ready_${label.id}`, {\n                    from: 0,\n                    to: 1,\n                    delay,\n                    duration: markerDuration,\n                    ease: easing.linear,\n                    repeat: 0,\n                    onUpdate: (opacity) => {\n                        label.opacity = opacity;\n                    },\n                });\n            });\n        });\n    }\n    animateReadyUpdate(data) {\n        this.resetMarkersAndPaths(data);\n    }\n    animateReadyResize(data) {\n        var _a;\n        (_a = this.animationManager) === null || _a === void 0 ? void 0 : _a.stop();\n        this.resetMarkersAndPaths(data);\n    }\n    resetMarkersAndPaths({ markerSelections, contextData, paths, }) {\n        contextData.forEach(({ nodeData }, contextDataIndex) => {\n            const [lineNode] = paths[contextDataIndex];\n            const { path: linePath } = lineNode;\n            lineNode.stroke = this.stroke;\n            lineNode.strokeWidth = this.getStrokeWidth(this.strokeWidth);\n            lineNode.strokeOpacity = this.strokeOpacity;\n            lineNode.lineDash = this.lineDash;\n            lineNode.lineDashOffset = this.lineDashOffset;\n            linePath.clear({ trackChanges: true });\n            nodeData.forEach((datum) => {\n                if (datum.point.moveTo) {\n                    linePath.moveTo(datum.point.x, datum.point.y);\n                }\n                else {\n                    linePath.lineTo(datum.point.x, datum.point.y);\n                }\n            });\n            lineNode.checkPathDirty();\n            markerSelections[contextDataIndex].each((marker, datum) => {\n                var _a, _b, _c;\n                const format = this.animateFormatter(datum);\n                const size = (_b = (_a = datum.point) === null || _a === void 0 ? void 0 : _a.size) !== null && _b !== void 0 ? _b : 0;\n                marker.size = (_c = format === null || format === void 0 ? void 0 : format.size) !== null && _c !== void 0 ? _c : size;\n            });\n        });\n    }\n    animateFormatter(datum) {\n        var _a, _b;\n        const { marker, xKey = '', yKey = '', stroke: lineStroke, id: seriesId, ctx: { callbackCache }, } = this;\n        const { size, formatter } = marker;\n        const fill = marker.fill;\n        const stroke = (_a = marker.stroke) !== null && _a !== void 0 ? _a : lineStroke;\n        const strokeWidth = (_b = marker.strokeWidth) !== null && _b !== void 0 ? _b : this.strokeWidth;\n        let format = undefined;\n        if (formatter) {\n            format = callbackCache.call(formatter, {\n                datum: datum.datum,\n                xKey,\n                yKey,\n                fill,\n                stroke,\n                strokeWidth,\n                size,\n                highlighted: false,\n                seriesId,\n            });\n        }\n        return format;\n    }\n    isLabelEnabled() {\n        return this.label.enabled;\n    }\n}\nLineSeries.className = 'LineSeries';\nLineSeries.type = 'line';\n__decorate([\n    Validate(OPT_STRING)\n], LineSeries.prototype, \"title\", void 0);\n__decorate([\n    Validate(OPT_COLOR_STRING)\n], LineSeries.prototype, \"stroke\", void 0);\n__decorate([\n    Validate(OPT_LINE_DASH)\n], LineSeries.prototype, \"lineDash\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], LineSeries.prototype, \"lineDashOffset\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], LineSeries.prototype, \"strokeWidth\", void 0);\n__decorate([\n    Validate(NUMBER(0, 1))\n], LineSeries.prototype, \"strokeOpacity\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], LineSeries.prototype, \"xKey\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], LineSeries.prototype, \"xName\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], LineSeries.prototype, \"yKey\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], LineSeries.prototype, \"yName\", void 0);\n","import { Color } from '../util/color.mjs';\nimport { Logger } from '../util/logger.mjs';\nimport interpolateColor from '../interpolate/color.mjs';\nexport class ColorScale {\n    constructor() {\n        this.domain = [0, 1];\n        this.range = ['red', 'blue'];\n        this.parsedRange = this.range.map((v) => Color.fromString(v));\n    }\n    update() {\n        const { domain, range } = this;\n        if (domain.length < 2) {\n            Logger.warnOnce('`colorDomain` should have at least 2 values.');\n            if (domain.length === 0) {\n                domain.push(0, 1);\n            }\n            else if (domain.length === 1) {\n                domain.push(domain[0] + 1);\n            }\n        }\n        for (let i = 1; i < domain.length; i++) {\n            const a = domain[i - 1];\n            const b = domain[i];\n            if (a >= b) {\n                Logger.warnOnce('`colorDomain` values should be supplied in ascending order.');\n                domain.sort((a, b) => a - b);\n                break;\n            }\n        }\n        const isSmallRange = range.length < domain.length;\n        if (isSmallRange || (domain.length > 2 && range.length > domain.length)) {\n            Logger.warnOnce('Number of elements in `colorRange` needs to match the number of elements in `colorDomain`.');\n            if (isSmallRange) {\n                for (let i = range.length; i < domain.length; i++) {\n                    range.push('black');\n                }\n            }\n            else {\n                range.splice(domain.length);\n            }\n        }\n        this.parsedRange = this.range.map((v) => Color.fromString(v));\n    }\n    convert(x) {\n        const { domain, range, parsedRange } = this;\n        const d0 = domain[0];\n        const d1 = domain[domain.length - 1];\n        const r0 = range[0];\n        const r1 = range[range.length - 1];\n        if (x <= d0) {\n            return r0;\n        }\n        if (x >= d1) {\n            return r1;\n        }\n        let index;\n        let q;\n        if (domain.length === 2) {\n            const t = (x - d0) / (d1 - d0);\n            const step = 1 / (range.length - 1);\n            index = range.length <= 2 ? 0 : Math.min(Math.floor(t * (range.length - 1)), range.length - 2);\n            q = (t - index * step) / step;\n        }\n        else {\n            for (index = 0; index < domain.length - 2; index++) {\n                if (x < domain[index + 1]) {\n                    break;\n                }\n            }\n            const a = domain[index];\n            const b = domain[index + 1];\n            q = (x - a) / (b - a);\n        }\n        const c0 = parsedRange[index];\n        const c1 = parsedRange[index + 1];\n        return interpolateColor(c0, c1)(q);\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { SeriesTooltip, SeriesNodePickMode, valueProperty } from '../series.mjs';\nimport { ColorScale } from '../../../scale/colorScale.mjs';\nimport { LinearScale } from '../../../scale/linearScale.mjs';\nimport { CartesianSeries, CartesianSeriesMarker, CartesianSeriesNodeBaseClickEvent, } from './cartesianSeries.mjs';\nimport { ChartAxisDirection } from '../../chartAxisDirection.mjs';\nimport { getMarker } from '../../marker/util.mjs';\nimport { toTooltipHtml } from '../../tooltip/tooltip.mjs';\nimport { ContinuousScale } from '../../../scale/continuousScale.mjs';\nimport { extent } from '../../../util/array.mjs';\nimport { sanitizeHtml } from '../../../util/sanitize.mjs';\nimport { Label } from '../../label.mjs';\nimport { HdpiCanvas } from '../../../canvas/hdpiCanvas.mjs';\nimport { OPT_FUNCTION, OPT_STRING, OPT_NUMBER_ARRAY, COLOR_STRING_ARRAY, Validate } from '../../../util/validation.mjs';\nimport { DataModel } from '../../data/dataModel.mjs';\nimport * as easing from '../../../motion/easing.mjs';\nclass ScatterSeriesLabel extends Label {\n    constructor() {\n        super(...arguments);\n        this.formatter = undefined;\n    }\n}\n__decorate([\n    Validate(OPT_FUNCTION)\n], ScatterSeriesLabel.prototype, \"formatter\", void 0);\nclass ScatterSeriesNodeBaseClickEvent extends CartesianSeriesNodeBaseClickEvent {\n    constructor(sizeKey, xKey, yKey, nativeEvent, datum, series) {\n        super(xKey, yKey, nativeEvent, datum, series);\n        this.sizeKey = sizeKey;\n    }\n}\nclass ScatterSeriesNodeClickEvent extends ScatterSeriesNodeBaseClickEvent {\n    constructor() {\n        super(...arguments);\n        this.type = 'nodeClick';\n    }\n}\nclass ScatterSeriesNodeDoubleClickEvent extends ScatterSeriesNodeBaseClickEvent {\n    constructor() {\n        super(...arguments);\n        this.type = 'nodeDoubleClick';\n    }\n}\nclass ScatterSeriesTooltip extends SeriesTooltip {\n    constructor() {\n        super(...arguments);\n        this.renderer = undefined;\n    }\n}\n__decorate([\n    Validate(OPT_FUNCTION)\n], ScatterSeriesTooltip.prototype, \"renderer\", void 0);\nexport class ScatterSeries extends CartesianSeries {\n    constructor(moduleCtx) {\n        super({\n            moduleCtx,\n            pickModes: [\n                SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,\n                SeriesNodePickMode.NEAREST_NODE,\n                SeriesNodePickMode.EXACT_SHAPE_MATCH,\n            ],\n            pathsPerSeries: 0,\n            hasMarkers: true,\n        });\n        this.sizeScale = new LinearScale();\n        this.marker = new CartesianSeriesMarker();\n        this.label = new ScatterSeriesLabel();\n        this.title = undefined;\n        this.labelKey = undefined;\n        this.xName = undefined;\n        this.yName = undefined;\n        this.sizeName = 'Size';\n        this.labelName = 'Label';\n        this.xKey = undefined;\n        this.yKey = undefined;\n        this.sizeKey = undefined;\n        this.colorKey = undefined;\n        this.colorName = 'Color';\n        this.colorDomain = undefined;\n        this.colorRange = ['#ffff00', '#00ff00', '#0000ff'];\n        this.colorScale = new ColorScale();\n        this.tooltip = new ScatterSeriesTooltip();\n        const { label } = this;\n        label.enabled = false;\n    }\n    processData() {\n        var _a, _b, _c, _d, _e, _f;\n        return __awaiter(this, void 0, void 0, function* () {\n            const { xKey = '', yKey = '', sizeKey, xAxis, yAxis, marker, data } = this;\n            const isContinuousX = (xAxis === null || xAxis === void 0 ? void 0 : xAxis.scale) instanceof ContinuousScale;\n            const isContinuousY = (yAxis === null || yAxis === void 0 ? void 0 : yAxis.scale) instanceof ContinuousScale;\n            const { colorScale, colorDomain, colorRange, colorKey } = this;\n            this.dataModel = new DataModel({\n                props: [\n                    valueProperty(xKey, isContinuousX, { id: `xValue` }),\n                    valueProperty(yKey, isContinuousY, { id: `yValue` }),\n                    ...(sizeKey ? [valueProperty(sizeKey, true, { id: `sizeValue` })] : []),\n                    ...(colorKey ? [valueProperty(colorKey, true, { id: `colorValue` })] : []),\n                ],\n                dataVisible: this.visible,\n            });\n            this.processedData = this.dataModel.processData(data !== null && data !== void 0 ? data : []);\n            if (sizeKey) {\n                const sizeKeyIdx = (_b = (_a = this.dataModel.resolveProcessedDataIndexById(`sizeValue`)) === null || _a === void 0 ? void 0 : _a.index) !== null && _b !== void 0 ? _b : -1;\n                const processedSize = (_d = (_c = this.processedData) === null || _c === void 0 ? void 0 : _c.domain.values[sizeKeyIdx]) !== null && _d !== void 0 ? _d : [];\n                this.sizeScale.domain = marker.domain ? marker.domain : processedSize;\n            }\n            if (colorKey) {\n                const colorKeyIdx = (_f = (_e = this.dataModel.resolveProcessedDataIndexById(`colorValue`)) === null || _e === void 0 ? void 0 : _e.index) !== null && _f !== void 0 ? _f : -1;\n                colorScale.domain = colorDomain !== null && colorDomain !== void 0 ? colorDomain : this.processedData.domain.values[colorKeyIdx];\n                colorScale.range = colorRange;\n                colorScale.update();\n            }\n        });\n    }\n    getDomain(direction) {\n        const { dataModel, processedData } = this;\n        if (!processedData || !dataModel)\n            return [];\n        const id = direction === ChartAxisDirection.X ? `xValue` : `yValue`;\n        const dataDef = dataModel.resolveProcessedDataDefById(id);\n        const domain = dataModel.getDomain(id, processedData);\n        if ((dataDef === null || dataDef === void 0 ? void 0 : dataDef.valueType) === 'category') {\n            return domain;\n        }\n        const axis = direction === ChartAxisDirection.X ? this.xAxis : this.yAxis;\n        return this.fixNumericExtent(extent(domain), axis);\n    }\n    getNodeClickEvent(event, datum) {\n        var _a, _b;\n        return new ScatterSeriesNodeClickEvent(this.sizeKey, (_a = this.xKey) !== null && _a !== void 0 ? _a : '', (_b = this.yKey) !== null && _b !== void 0 ? _b : '', event, datum, this);\n    }\n    getNodeDoubleClickEvent(event, datum) {\n        var _a, _b;\n        return new ScatterSeriesNodeDoubleClickEvent(this.sizeKey, (_a = this.xKey) !== null && _a !== void 0 ? _a : '', (_b = this.yKey) !== null && _b !== void 0 ? _b : '', event, datum, this);\n    }\n    createNodeData() {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n        return __awaiter(this, void 0, void 0, function* () {\n            const { visible, xAxis, yAxis, yKey = '', xKey = '', label, labelKey, ctx: { callbackCache }, } = this;\n            const xDataIdx = (_a = this.dataModel) === null || _a === void 0 ? void 0 : _a.resolveProcessedDataIndexById(`xValue`);\n            const yDataIdx = (_b = this.dataModel) === null || _b === void 0 ? void 0 : _b.resolveProcessedDataIndexById(`yValue`);\n            if (!(xDataIdx && yDataIdx && visible && xAxis && yAxis)) {\n                return [];\n            }\n            const { colorScale, sizeKey, colorKey, id: seriesId } = this;\n            const xScale = xAxis.scale;\n            const yScale = yAxis.scale;\n            const xOffset = ((_c = xScale.bandwidth) !== null && _c !== void 0 ? _c : 0) / 2;\n            const yOffset = ((_d = yScale.bandwidth) !== null && _d !== void 0 ? _d : 0) / 2;\n            const { sizeScale, marker } = this;\n            const nodeData = new Array((_f = (_e = this.processedData) === null || _e === void 0 ? void 0 : _e.data.length) !== null && _f !== void 0 ? _f : 0);\n            sizeScale.range = [marker.size, marker.maxSize];\n            const font = label.getFont();\n            let actualLength = 0;\n            for (const { values, datum } of (_h = (_g = this.processedData) === null || _g === void 0 ? void 0 : _g.data) !== null && _h !== void 0 ? _h : []) {\n                const xDatum = values[xDataIdx.index];\n                const yDatum = values[yDataIdx.index];\n                const x = xScale.convert(xDatum) + xOffset;\n                const y = yScale.convert(yDatum) + yOffset;\n                if (!this.checkRangeXY(x, y, xAxis, yAxis)) {\n                    continue;\n                }\n                let text;\n                if (label.formatter) {\n                    text = callbackCache.call(label.formatter, { value: yDatum, seriesId, datum });\n                }\n                if (text === undefined) {\n                    text = labelKey ? String(datum[labelKey]) : '';\n                }\n                const size = HdpiCanvas.getTextSize(text, font);\n                const markerSize = sizeKey ? sizeScale.convert(values[2]) : marker.size;\n                const colorIdx = sizeKey ? 3 : 2;\n                const fill = colorKey ? colorScale.convert(values[colorIdx]) : undefined;\n                nodeData[actualLength++] = {\n                    series: this,\n                    itemId: yKey,\n                    yKey,\n                    xKey,\n                    datum,\n                    point: { x, y, size: markerSize },\n                    nodeMidPoint: { x, y },\n                    fill,\n                    label: Object.assign({ text }, size),\n                };\n            }\n            nodeData.length = actualLength;\n            return [{ itemId: (_j = this.yKey) !== null && _j !== void 0 ? _j : this.id, nodeData, labelData: nodeData }];\n        });\n    }\n    isPathOrSelectionDirty() {\n        return this.marker.isDirty();\n    }\n    getLabelData() {\n        var _a;\n        return (_a = this.contextNodeData) === null || _a === void 0 ? void 0 : _a.reduce((r, n) => r.concat(n.labelData), []);\n    }\n    markerFactory() {\n        const { shape } = this.marker;\n        const MarkerShape = getMarker(shape);\n        return new MarkerShape();\n    }\n    updateMarkerSelection(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { nodeData, markerSelection } = opts;\n            const { marker: { enabled }, } = this;\n            if (this.marker.isDirty()) {\n                markerSelection.clear();\n            }\n            const data = enabled ? nodeData : [];\n            return markerSelection.update(data);\n        });\n    }\n    updateMarkerNodes(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { markerSelection, isHighlight: isDatumHighlighted } = opts;\n            const { marker, xKey = '', yKey = '', sizeScale, marker: { fillOpacity: markerFillOpacity, strokeOpacity: markerStrokeOpacity, strokeWidth: markerStrokeWidth, }, highlightStyle: { item: { fill: highlightedFill, fillOpacity: highlightFillOpacity = markerFillOpacity, stroke: highlightedStroke, strokeWidth: highlightedDatumStrokeWidth, }, }, id: seriesId, ctx: { callbackCache }, } = this;\n            const { formatter } = marker;\n            sizeScale.range = [marker.size, marker.maxSize];\n            const customMarker = typeof marker.shape === 'function';\n            markerSelection.each((node, datum) => {\n                var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n                const fill = isDatumHighlighted && highlightedFill !== undefined ? highlightedFill : (_a = datum.fill) !== null && _a !== void 0 ? _a : marker.fill;\n                const fillOpacity = isDatumHighlighted ? highlightFillOpacity : markerFillOpacity;\n                const stroke = isDatumHighlighted && highlightedStroke !== undefined ? highlightedStroke : marker.stroke;\n                const strokeOpacity = markerStrokeOpacity;\n                const strokeWidth = isDatumHighlighted && highlightedDatumStrokeWidth !== undefined\n                    ? highlightedDatumStrokeWidth\n                    : markerStrokeWidth !== null && markerStrokeWidth !== void 0 ? markerStrokeWidth : 1;\n                const size = (_c = (_b = datum.point) === null || _b === void 0 ? void 0 : _b.size) !== null && _c !== void 0 ? _c : 0;\n                let format = undefined;\n                if (formatter) {\n                    format = callbackCache.call(formatter, {\n                        datum: datum.datum,\n                        xKey,\n                        yKey,\n                        fill,\n                        stroke,\n                        strokeWidth,\n                        size,\n                        highlighted: isDatumHighlighted,\n                        seriesId,\n                    });\n                }\n                node.fill = (_d = format === null || format === void 0 ? void 0 : format.fill) !== null && _d !== void 0 ? _d : fill;\n                node.stroke = (_e = format === null || format === void 0 ? void 0 : format.stroke) !== null && _e !== void 0 ? _e : stroke;\n                node.strokeWidth = (_f = format === null || format === void 0 ? void 0 : format.strokeWidth) !== null && _f !== void 0 ? _f : strokeWidth;\n                node.fillOpacity = fillOpacity !== null && fillOpacity !== void 0 ? fillOpacity : 1;\n                node.strokeOpacity = strokeOpacity !== null && strokeOpacity !== void 0 ? strokeOpacity : 1;\n                node.translationX = (_h = (_g = datum.point) === null || _g === void 0 ? void 0 : _g.x) !== null && _h !== void 0 ? _h : 0;\n                node.translationY = (_k = (_j = datum.point) === null || _j === void 0 ? void 0 : _j.y) !== null && _k !== void 0 ? _k : 0;\n                node.visible = node.size > 0;\n                if (!customMarker || node.dirtyPath) {\n                    return;\n                }\n                // Only for custom marker shapes.\n                node.path.clear({ trackChanges: true });\n                node.updatePath();\n                node.checkPathDirty();\n            });\n            if (!isDatumHighlighted) {\n                this.marker.markClean();\n            }\n        });\n    }\n    updateLabelSelection(opts) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            const { labelSelection } = opts;\n            const { label: { enabled }, } = this;\n            const placedLabels = enabled ? (_b = (_a = this.chart) === null || _a === void 0 ? void 0 : _a.placeLabels().get(this)) !== null && _b !== void 0 ? _b : [] : [];\n            const placedNodeDatum = placedLabels.map((v) => (Object.assign(Object.assign({}, v.datum), { point: {\n                    x: v.x,\n                    y: v.y,\n                    size: v.datum.point.size,\n                } })));\n            return labelSelection.update(placedNodeDatum);\n        });\n    }\n    updateLabelNodes(opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { labelSelection } = opts;\n            const { label } = this;\n            labelSelection.each((text, datum) => {\n                var _a, _b, _c, _d;\n                text.text = datum.label.text;\n                text.fill = label.color;\n                text.x = (_b = (_a = datum.point) === null || _a === void 0 ? void 0 : _a.x) !== null && _b !== void 0 ? _b : 0;\n                text.y = (_d = (_c = datum.point) === null || _c === void 0 ? void 0 : _c.y) !== null && _d !== void 0 ? _d : 0;\n                text.fontStyle = label.fontStyle;\n                text.fontWeight = label.fontWeight;\n                text.fontSize = label.fontSize;\n                text.fontFamily = label.fontFamily;\n                text.textAlign = 'left';\n                text.textBaseline = 'top';\n            });\n        });\n    }\n    getTooltipHtml(nodeDatum) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        const { xKey, yKey, xAxis, yAxis } = this;\n        if (!xKey || !yKey || !xAxis || !yAxis) {\n            return '';\n        }\n        const { marker, tooltip, xName, yName, sizeKey, sizeName, labelKey, labelName, id: seriesId, ctx: { callbackCache }, } = this;\n        const { stroke } = marker;\n        const fill = (_a = nodeDatum.fill) !== null && _a !== void 0 ? _a : marker.fill;\n        const strokeWidth = this.getStrokeWidth((_b = marker.strokeWidth) !== null && _b !== void 0 ? _b : 1);\n        const { formatter } = this.marker;\n        let format = undefined;\n        if (formatter) {\n            format = callbackCache.call(formatter, {\n                datum: nodeDatum,\n                xKey,\n                yKey,\n                fill,\n                stroke,\n                strokeWidth,\n                size: (_d = (_c = nodeDatum.point) === null || _c === void 0 ? void 0 : _c.size) !== null && _d !== void 0 ? _d : 0,\n                highlighted: false,\n                seriesId,\n            });\n        }\n        const color = (_f = (_e = format === null || format === void 0 ? void 0 : format.fill) !== null && _e !== void 0 ? _e : fill) !== null && _f !== void 0 ? _f : 'gray';\n        const title = (_g = this.title) !== null && _g !== void 0 ? _g : yName;\n        const datum = nodeDatum.datum;\n        const xValue = datum[xKey];\n        const yValue = datum[yKey];\n        const xString = sanitizeHtml(xAxis.formatDatum(xValue));\n        const yString = sanitizeHtml(yAxis.formatDatum(yValue));\n        let content = `<b>${sanitizeHtml(xName !== null && xName !== void 0 ? xName : xKey)}</b>: ${xString}<br>` +\n            `<b>${sanitizeHtml(yName !== null && yName !== void 0 ? yName : yKey)}</b>: ${yString}`;\n        if (sizeKey) {\n            content += `<br><b>${sanitizeHtml(sizeName !== null && sizeName !== void 0 ? sizeName : sizeKey)}</b>: ${sanitizeHtml(datum[sizeKey])}`;\n        }\n        if (labelKey) {\n            content = `<b>${sanitizeHtml(labelName !== null && labelName !== void 0 ? labelName : labelKey)}</b>: ${sanitizeHtml(datum[labelKey])}<br>` + content;\n        }\n        const defaults = {\n            title,\n            backgroundColor: color,\n            content,\n        };\n        const { renderer: tooltipRenderer } = tooltip;\n        if (tooltipRenderer) {\n            return toTooltipHtml(tooltipRenderer({\n                datum,\n                xKey,\n                xValue,\n                xName,\n                yKey,\n                yValue,\n                yName,\n                sizeKey,\n                sizeName,\n                labelKey,\n                labelName,\n                title,\n                color,\n                seriesId,\n            }), defaults);\n        }\n        return toTooltipHtml(defaults);\n    }\n    getLegendData() {\n        var _a, _b, _c, _d, _e;\n        const { id, data, xKey, yKey, yName, title, visible, marker } = this;\n        const { fill, stroke, fillOpacity, strokeOpacity } = marker;\n        if (!((data === null || data === void 0 ? void 0 : data.length) && xKey && yKey)) {\n            return [];\n        }\n        const legendData = [\n            {\n                legendType: 'category',\n                id,\n                itemId: yKey,\n                seriesId: id,\n                enabled: visible,\n                label: {\n                    text: (_a = title !== null && title !== void 0 ? title : yName) !== null && _a !== void 0 ? _a : yKey,\n                },\n                marker: {\n                    shape: marker.shape,\n                    fill: (_c = (_b = marker.fill) !== null && _b !== void 0 ? _b : fill) !== null && _c !== void 0 ? _c : 'rgba(0, 0, 0, 0)',\n                    stroke: (_e = (_d = marker.stroke) !== null && _d !== void 0 ? _d : stroke) !== null && _e !== void 0 ? _e : 'rgba(0, 0, 0, 0)',\n                    fillOpacity: fillOpacity !== null && fillOpacity !== void 0 ? fillOpacity : 1,\n                    strokeOpacity: strokeOpacity !== null && strokeOpacity !== void 0 ? strokeOpacity : 1,\n                },\n            },\n        ];\n        return legendData;\n    }\n    animateEmptyUpdateReady({ markerSelections, labelSelections, }) {\n        const duration = 1000;\n        const labelDuration = 200;\n        markerSelections.forEach((markerSelection) => {\n            markerSelection.each((marker, datum) => {\n                var _a, _b, _c, _d;\n                const format = this.animateFormatter(marker, datum);\n                const size = (_b = (_a = datum.point) === null || _a === void 0 ? void 0 : _a.size) !== null && _b !== void 0 ? _b : 0;\n                const to = (_c = format === null || format === void 0 ? void 0 : format.size) !== null && _c !== void 0 ? _c : size;\n                (_d = this.animationManager) === null || _d === void 0 ? void 0 : _d.animate(`${this.id}_empty-update-ready_${marker.id}`, {\n                    from: 0,\n                    to: to,\n                    disableInteractions: true,\n                    duration,\n                    ease: easing.linear,\n                    repeat: 0,\n                    onUpdate(size) {\n                        marker.size = size;\n                    },\n                });\n            });\n        });\n        labelSelections.forEach((labelSelection) => {\n            labelSelection.each((label) => {\n                var _a;\n                (_a = this.animationManager) === null || _a === void 0 ? void 0 : _a.animate(`${this.id}_empty-update-ready_${label.id}`, {\n                    from: 0,\n                    to: 1,\n                    delay: duration,\n                    duration: labelDuration,\n                    ease: easing.linear,\n                    repeat: 0,\n                    onUpdate: (opacity) => {\n                        label.opacity = opacity;\n                    },\n                });\n            });\n        });\n    }\n    animateReadyUpdate({ markerSelections }) {\n        markerSelections.forEach((markerSelection) => {\n            this.resetMarkers(markerSelection);\n        });\n    }\n    animateReadyHighlightMarkers(markerSelection) {\n        this.resetMarkers(markerSelection);\n    }\n    resetMarkers(markerSelection) {\n        markerSelection.each((marker, datum) => {\n            var _a, _b, _c;\n            const format = this.animateFormatter(marker, datum);\n            const size = (_b = (_a = datum.point) === null || _a === void 0 ? void 0 : _a.size) !== null && _b !== void 0 ? _b : 0;\n            marker.size = (_c = format === null || format === void 0 ? void 0 : format.size) !== null && _c !== void 0 ? _c : size;\n        });\n    }\n    animateFormatter(marker, datum) {\n        var _a, _b, _c;\n        const { xKey = '', yKey = '', marker: { strokeWidth: markerStrokeWidth }, id: seriesId, ctx: { callbackCache }, } = this;\n        const { formatter } = this.marker;\n        const fill = (_a = datum.fill) !== null && _a !== void 0 ? _a : marker.fill;\n        const stroke = marker.stroke;\n        const strokeWidth = markerStrokeWidth !== null && markerStrokeWidth !== void 0 ? markerStrokeWidth : 1;\n        const size = (_c = (_b = datum.point) === null || _b === void 0 ? void 0 : _b.size) !== null && _c !== void 0 ? _c : 0;\n        let format = undefined;\n        if (formatter) {\n            format = callbackCache.call(formatter, {\n                datum: datum.datum,\n                xKey,\n                yKey,\n                fill,\n                stroke,\n                strokeWidth,\n                size,\n                highlighted: false,\n                seriesId,\n            });\n        }\n        return format;\n    }\n    isLabelEnabled() {\n        return this.label.enabled;\n    }\n}\nScatterSeries.className = 'ScatterSeries';\nScatterSeries.type = 'scatter';\n__decorate([\n    Validate(OPT_STRING)\n], ScatterSeries.prototype, \"title\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], ScatterSeries.prototype, \"labelKey\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], ScatterSeries.prototype, \"xName\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], ScatterSeries.prototype, \"yName\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], ScatterSeries.prototype, \"sizeName\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], ScatterSeries.prototype, \"labelName\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], ScatterSeries.prototype, \"xKey\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], ScatterSeries.prototype, \"yKey\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], ScatterSeries.prototype, \"sizeKey\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], ScatterSeries.prototype, \"colorKey\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], ScatterSeries.prototype, \"colorName\", void 0);\n__decorate([\n    Validate(OPT_NUMBER_ARRAY)\n], ScatterSeries.prototype, \"colorDomain\", void 0);\n__decorate([\n    Validate(COLOR_STRING_ARRAY)\n], ScatterSeries.prototype, \"colorRange\", void 0);\n","import { Series, SeriesNodePickMode } from '../series.mjs';\nexport class HierarchySeries extends Series {\n    constructor(moduleCtx) {\n        super({ moduleCtx, pickModes: [SeriesNodePickMode.EXACT_SHAPE_MATCH] });\n    }\n    getLabelData() {\n        return [];\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { BOOLEAN, COLOR_STRING, NUMBER, Validate } from '../util/validation.mjs';\nimport { ChangeDetectable, RedrawType } from './changeDetectable.mjs';\nimport { SceneChangeDetection } from './node.mjs';\nexport class DropShadow extends ChangeDetectable {\n    constructor() {\n        super(...arguments);\n        this.enabled = true;\n        this.color = 'rgba(0, 0, 0, 0.5)';\n        this.xOffset = 0;\n        this.yOffset = 0;\n        this.blur = 5;\n    }\n}\n__decorate([\n    Validate(BOOLEAN),\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], DropShadow.prototype, \"enabled\", void 0);\n__decorate([\n    Validate(COLOR_STRING),\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], DropShadow.prototype, \"color\", void 0);\n__decorate([\n    Validate(NUMBER()),\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], DropShadow.prototype, \"xOffset\", void 0);\n__decorate([\n    Validate(NUMBER()),\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], DropShadow.prototype, \"yOffset\", void 0);\n__decorate([\n    Validate(NUMBER(0)),\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], DropShadow.prototype, \"blur\", void 0);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Selection } from '../../../scene/selection.mjs';\nimport { Label } from '../../label.mjs';\nimport { SeriesTooltip, HighlightStyle, SeriesNodeBaseClickEvent } from '../series.mjs';\nimport { HierarchySeries } from './hierarchySeries.mjs';\nimport { toTooltipHtml } from '../../tooltip/tooltip.mjs';\nimport { Group } from '../../../scene/group.mjs';\nimport { Text } from '../../../scene/shape/text.mjs';\nimport { Rect } from '../../../scene/shape/rect.mjs';\nimport { DropShadow } from '../../../scene/dropShadow.mjs';\nimport { ColorScale } from '../../../scale/colorScale.mjs';\nimport { toFixed, isEqual } from '../../../util/number.mjs';\nimport { BBox } from '../../../scene/bbox.mjs';\nimport { Color } from '../../../util/color.mjs';\nimport { BOOLEAN, NUMBER, NUMBER_ARRAY, OPT_BOOLEAN, OPT_COLOR_STRING, OPT_FUNCTION, OPT_NUMBER, OPT_STRING, STRING, COLOR_STRING_ARRAY, Validate, TEXT_WRAP, } from '../../../util/validation.mjs';\nimport { Logger } from '../../../util/logger.mjs';\nclass TreemapSeriesTooltip extends SeriesTooltip {\n    constructor() {\n        super(...arguments);\n        this.renderer = undefined;\n    }\n}\n__decorate([\n    Validate(OPT_FUNCTION)\n], TreemapSeriesTooltip.prototype, \"renderer\", void 0);\nclass TreemapSeriesNodeBaseClickEvent extends SeriesNodeBaseClickEvent {\n    constructor(labelKey, sizeKey, colorKey, nativeEvent, datum, series) {\n        super(nativeEvent, datum, series);\n        this.labelKey = labelKey;\n        this.sizeKey = sizeKey;\n        this.colorKey = colorKey;\n    }\n}\nclass TreemapSeriesNodeClickEvent extends TreemapSeriesNodeBaseClickEvent {\n    constructor() {\n        super(...arguments);\n        this.type = 'nodeClick';\n    }\n}\nclass TreemapSeriesNodeDoubleClickEvent extends TreemapSeriesNodeBaseClickEvent {\n    constructor() {\n        super(...arguments);\n        this.type = 'nodeDoubleClick';\n    }\n}\nclass TreemapSeriesLabel extends Label {\n    constructor() {\n        super(...arguments);\n        this.padding = 10;\n    }\n}\n__decorate([\n    Validate(NUMBER(0))\n], TreemapSeriesLabel.prototype, \"padding\", void 0);\nclass TreemapSeriesTileLabel extends Label {\n    constructor() {\n        super(...arguments);\n        this.wrapping = 'on-space';\n    }\n}\n__decorate([\n    Validate(TEXT_WRAP)\n], TreemapSeriesTileLabel.prototype, \"wrapping\", void 0);\nclass TreemapValueLabel {\n    constructor() {\n        this.style = (() => {\n            const label = new Label();\n            label.color = 'white';\n            return label;\n        })();\n    }\n}\n__decorate([\n    Validate(OPT_STRING)\n], TreemapValueLabel.prototype, \"key\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], TreemapValueLabel.prototype, \"name\", void 0);\n__decorate([\n    Validate(OPT_FUNCTION)\n], TreemapValueLabel.prototype, \"formatter\", void 0);\nvar TextNodeTag;\n(function (TextNodeTag) {\n    TextNodeTag[TextNodeTag[\"Name\"] = 0] = \"Name\";\n    TextNodeTag[TextNodeTag[\"Value\"] = 1] = \"Value\";\n})(TextNodeTag || (TextNodeTag = {}));\nconst tempText = new Text();\nfunction getTextSize(text, style) {\n    const { fontStyle, fontWeight, fontSize, fontFamily } = style;\n    tempText.fontStyle = fontStyle;\n    tempText.fontWeight = fontWeight;\n    tempText.fontSize = fontSize;\n    tempText.fontFamily = fontFamily;\n    tempText.text = text;\n    tempText.x = 0;\n    tempText.y = 0;\n    tempText.textAlign = 'left';\n    tempText.textBaseline = 'top';\n    const { width, height } = tempText.computeBBox();\n    return { width, height };\n}\nfunction validateColor(color) {\n    if (typeof color === 'string' && !Color.validColorString(color)) {\n        const fallbackColor = 'black';\n        Logger.warnOnce(`invalid Treemap tile colour string \"${color}\". Affected treemap tiles will be coloured ${fallbackColor}.`);\n        return 'black';\n    }\n    return color;\n}\nclass TreemapTextHighlightStyle {\n    constructor() {\n        this.color = 'black';\n    }\n}\n__decorate([\n    Validate(OPT_COLOR_STRING)\n], TreemapTextHighlightStyle.prototype, \"color\", void 0);\nclass TreemapHighlightStyle extends HighlightStyle {\n    constructor() {\n        super(...arguments);\n        this.text = new TreemapTextHighlightStyle();\n    }\n}\nexport class TreemapSeries extends HierarchySeries {\n    constructor() {\n        super(...arguments);\n        this.groupSelection = Selection.select(this.contentGroup, Group);\n        this.highlightSelection = Selection.select(this.highlightGroup, Group);\n        this.title = (() => {\n            const label = new TreemapSeriesLabel();\n            label.color = 'white';\n            label.fontWeight = 'bold';\n            label.fontSize = 12;\n            label.fontFamily = 'Verdana, sans-serif';\n            label.padding = 15;\n            return label;\n        })();\n        this.subtitle = (() => {\n            const label = new TreemapSeriesLabel();\n            label.color = 'white';\n            label.fontSize = 9;\n            label.fontFamily = 'Verdana, sans-serif';\n            label.padding = 13;\n            return label;\n        })();\n        this.labels = {\n            large: (() => {\n                const label = new TreemapSeriesTileLabel();\n                label.color = 'white';\n                label.fontWeight = 'bold';\n                label.fontSize = 18;\n                return label;\n            })(),\n            medium: (() => {\n                const label = new TreemapSeriesTileLabel();\n                label.color = 'white';\n                label.fontWeight = 'bold';\n                label.fontSize = 14;\n                return label;\n            })(),\n            small: (() => {\n                const label = new TreemapSeriesTileLabel();\n                label.color = 'white';\n                label.fontWeight = 'bold';\n                label.fontSize = 10;\n                return label;\n            })(),\n            formatter: undefined,\n            value: new TreemapValueLabel(),\n        };\n        this.nodePadding = 2;\n        this.nodeGap = 0;\n        this.labelKey = 'label';\n        this.sizeKey = 'size';\n        this.colorKey = 'color';\n        this.colorDomain = [-5, 5];\n        this.colorRange = ['#cb4b3f', '#6acb64'];\n        this.groupFill = '#272931';\n        this.groupStroke = 'black';\n        this.groupStrokeWidth = 1;\n        this.tileStroke = 'black';\n        this.tileStrokeWidth = 1;\n        this.gradient = true;\n        this.formatter = undefined;\n        this.colorName = 'Change';\n        this.rootName = 'Root';\n        this.highlightGroups = true;\n        this.tileShadow = new DropShadow();\n        this.labelShadow = new DropShadow();\n        this.tooltip = new TreemapSeriesTooltip();\n        this.highlightStyle = new TreemapHighlightStyle();\n    }\n    getNodePaddingTop(nodeDatum, bbox) {\n        var _a;\n        const { title, subtitle, nodePadding } = this;\n        const label = nodeDatum.label;\n        if (nodeDatum.isLeaf || !label || nodeDatum.depth === 0) {\n            return nodePadding;\n        }\n        const font = nodeDatum.depth > 1 ? subtitle : title;\n        const textSize = getTextSize(label, font);\n        const heightRatioThreshold = 3;\n        if (font.fontSize > bbox.width / heightRatioThreshold || font.fontSize > bbox.height / heightRatioThreshold) {\n            return nodePadding;\n        }\n        if (textSize.height >= bbox.height) {\n            return nodePadding;\n        }\n        return textSize.height + nodePadding + ((_a = font.padding) !== null && _a !== void 0 ? _a : 0);\n    }\n    getNodePadding(nodeDatum, bbox) {\n        const { nodePadding } = this;\n        const top = this.getNodePaddingTop(nodeDatum, bbox);\n        return {\n            top,\n            right: nodePadding,\n            bottom: nodePadding,\n            left: nodePadding,\n        };\n    }\n    /**\n     * Squarified Treemap algorithm\n     * https://www.win.tue.nl/~vanwijk/stm.pdf\n     */\n    squarify(nodeDatum, bbox, outputNodesBoxes = new Map()) {\n        if (bbox.width <= 0 || bbox.height <= 0) {\n            return outputNodesBoxes;\n        }\n        outputNodesBoxes.set(nodeDatum, bbox);\n        const targetTileAspectRatio = 1; // The width and height will tend to this ratio\n        const padding = this.getNodePadding(nodeDatum, bbox);\n        const width = bbox.width - padding.left - padding.right;\n        const height = bbox.height - padding.top - padding.bottom;\n        if (width <= 0 || height <= 0 || nodeDatum.value <= 0) {\n            return outputNodesBoxes;\n        }\n        let stackSum = 0;\n        let startIndex = 0;\n        let minRatioDiff = Infinity;\n        let partitionSum = nodeDatum.value;\n        const children = nodeDatum.children;\n        const innerBox = new BBox(bbox.x + padding.left, bbox.y + padding.top, width, height);\n        const partition = innerBox.clone();\n        for (let i = 0; i < children.length; i++) {\n            const value = children[i].value;\n            const firstValue = children[startIndex].value;\n            const isVertical = partition.width < partition.height;\n            stackSum += value;\n            const partThickness = isVertical ? partition.height : partition.width;\n            const partLength = isVertical ? partition.width : partition.height;\n            const firstTileLength = (partLength * firstValue) / stackSum;\n            let stackThickness = (partThickness * stackSum) / partitionSum;\n            const ratio = Math.max(firstTileLength, stackThickness) / Math.min(firstTileLength, stackThickness);\n            const diff = Math.abs(targetTileAspectRatio - ratio);\n            if (diff < minRatioDiff) {\n                minRatioDiff = diff;\n                continue;\n            }\n            // Go one step back and process the best match\n            stackSum -= value;\n            stackThickness = (partThickness * stackSum) / partitionSum;\n            let start = isVertical ? partition.x : partition.y;\n            for (let j = startIndex; j < i; j++) {\n                const child = children[j];\n                const x = isVertical ? start : partition.x;\n                const y = isVertical ? partition.y : start;\n                const length = (partLength * child.value) / stackSum;\n                const width = isVertical ? length : stackThickness;\n                const height = isVertical ? stackThickness : length;\n                const childBox = new BBox(x, y, width, height);\n                this.applyGap(innerBox, childBox);\n                this.squarify(child, childBox, outputNodesBoxes);\n                partitionSum -= child.value;\n                start += length;\n            }\n            if (isVertical) {\n                partition.y += stackThickness;\n                partition.height -= stackThickness;\n            }\n            else {\n                partition.x += stackThickness;\n                partition.width -= stackThickness;\n            }\n            startIndex = i;\n            stackSum = 0;\n            minRatioDiff = Infinity;\n            i--;\n        }\n        // Process remaining space\n        const isVertical = partition.width < partition.height;\n        let start = isVertical ? partition.x : partition.y;\n        for (let i = startIndex; i < children.length; i++) {\n            const x = isVertical ? start : partition.x;\n            const y = isVertical ? partition.y : start;\n            const part = children[i].value / partitionSum;\n            const width = partition.width * (isVertical ? part : 1);\n            const height = partition.height * (isVertical ? 1 : part);\n            const childBox = new BBox(x, y, width, height);\n            this.applyGap(innerBox, childBox);\n            this.squarify(children[i], childBox, outputNodesBoxes);\n            start += isVertical ? width : height;\n        }\n        return outputNodesBoxes;\n    }\n    applyGap(innerBox, childBox) {\n        const gap = this.nodeGap / 2;\n        const getBounds = (box) => {\n            return {\n                left: box.x,\n                top: box.y,\n                right: box.x + box.width,\n                bottom: box.y + box.height,\n            };\n        };\n        const innerBounds = getBounds(innerBox);\n        const childBounds = getBounds(childBox);\n        const sides = Object.keys(innerBounds);\n        sides.forEach((side) => {\n            if (!isEqual(innerBounds[side], childBounds[side])) {\n                childBox.shrink(gap, side);\n            }\n        });\n    }\n    processData() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.data) {\n                return;\n            }\n            const { data, sizeKey, labelKey, colorKey, colorDomain, colorRange, groupFill } = this;\n            const labelFormatter = this.labels.formatter;\n            const colorScale = new ColorScale();\n            colorScale.domain = colorDomain;\n            colorScale.range = colorRange;\n            colorScale.update();\n            const createTreeNodeDatum = (datum, depth = 0, parent) => {\n                var _a, _b, _c;\n                let label;\n                if (labelFormatter) {\n                    label = this.ctx.callbackCache.call(labelFormatter, { datum });\n                }\n                if (label !== undefined) {\n                    // Label retrieved from formatter successfully.\n                }\n                else if (labelKey) {\n                    label = (_a = datum[labelKey]) !== null && _a !== void 0 ? _a : '';\n                }\n                else {\n                    label = '';\n                }\n                let colorScaleValue = colorKey ? (_b = datum[colorKey]) !== null && _b !== void 0 ? _b : depth : depth;\n                colorScaleValue = validateColor(colorScaleValue);\n                const isLeaf = !datum.children;\n                let fill = groupFill;\n                if (typeof colorScaleValue === 'string') {\n                    fill = colorScaleValue;\n                }\n                else if (isLeaf || !groupFill) {\n                    fill = colorScale.convert(colorScaleValue);\n                }\n                const nodeDatum = {\n                    datum,\n                    depth,\n                    parent,\n                    value: 0,\n                    label,\n                    fill,\n                    series: this,\n                    isLeaf,\n                    children: [],\n                };\n                if (isLeaf) {\n                    nodeDatum.value = sizeKey ? (_c = datum[sizeKey]) !== null && _c !== void 0 ? _c : 1 : 1;\n                }\n                else {\n                    datum.children.forEach((child) => {\n                        const childNodeDatum = createTreeNodeDatum(child, depth + 1, nodeDatum);\n                        const value = childNodeDatum.value;\n                        if (isNaN(value) || !isFinite(value) || value === 0) {\n                            return;\n                        }\n                        nodeDatum.value += value;\n                        nodeDatum.children.push(childNodeDatum);\n                    });\n                    nodeDatum.children.sort((a, b) => {\n                        return b.value - a.value;\n                    });\n                }\n                return nodeDatum;\n            };\n            this.dataRoot = createTreeNodeDatum(data);\n        });\n    }\n    createNodeData() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return [];\n        });\n    }\n    update() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.updateSelections();\n            yield this.updateNodes();\n        });\n    }\n    updateSelections() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.nodeDataRefresh) {\n                return;\n            }\n            this.nodeDataRefresh = false;\n            const { chart, dataRoot } = this;\n            if (!chart || !dataRoot) {\n                return;\n            }\n            const seriesRect = chart.getSeriesRect();\n            if (!seriesRect) {\n                return;\n            }\n            const descendants = [];\n            const traverse = (datum) => {\n                var _a;\n                descendants.push(datum);\n                (_a = datum.children) === null || _a === void 0 ? void 0 : _a.forEach(traverse);\n            };\n            traverse(this.dataRoot);\n            const { groupSelection, highlightSelection } = this;\n            const update = (selection) => {\n                return selection.update(descendants, (group) => {\n                    const rect = new Rect();\n                    const nameLabel = new Text();\n                    nameLabel.tag = TextNodeTag.Name;\n                    const valueLabel = new Text();\n                    valueLabel.tag = TextNodeTag.Value;\n                    group.append([rect, nameLabel, valueLabel]);\n                });\n            };\n            this.groupSelection = update(groupSelection);\n            this.highlightSelection = update(highlightSelection);\n        });\n    }\n    isDatumHighlighted(datum) {\n        var _a;\n        const highlightedDatum = (_a = this.highlightManager) === null || _a === void 0 ? void 0 : _a.getActiveHighlight();\n        return datum === highlightedDatum && (datum.isLeaf || this.highlightGroups);\n    }\n    getTileFormat(datum, isHighlighted) {\n        var _a;\n        const { formatter, ctx: { callbackCache }, } = this;\n        if (!formatter) {\n            return {};\n        }\n        const { gradient, colorKey, labelKey, sizeKey, tileStroke, tileStrokeWidth, groupStroke, groupStrokeWidth } = this;\n        const stroke = datum.isLeaf ? tileStroke : groupStroke;\n        const strokeWidth = datum.isLeaf ? tileStrokeWidth : groupStrokeWidth;\n        const result = callbackCache.call(formatter, {\n            seriesId: this.id,\n            datum: datum.datum,\n            depth: datum.depth,\n            parent: (_a = datum.parent) === null || _a === void 0 ? void 0 : _a.datum,\n            colorKey,\n            sizeKey,\n            labelKey,\n            fill: datum.fill,\n            stroke,\n            strokeWidth,\n            gradient,\n            highlighted: isHighlighted,\n        });\n        return result !== null && result !== void 0 ? result : {};\n    }\n    updateNodes() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.chart) {\n                return;\n            }\n            const { gradient, highlightStyle: { item: { fill: highlightedFill, fillOpacity: highlightedFillOpacity, stroke: highlightedStroke, strokeWidth: highlightedDatumStrokeWidth, }, text: { color: highlightedTextColor }, }, tileStroke, tileStrokeWidth, groupStroke, groupStrokeWidth, tileShadow, labelShadow, } = this;\n            const seriesRect = this.chart.getSeriesRect();\n            const boxes = this.squarify(this.dataRoot, new BBox(0, 0, seriesRect.width, seriesRect.height));\n            const labelMeta = this.buildLabelMeta(boxes);\n            const highlightedSubtree = this.getHighlightedSubtree();\n            this.updateNodeMidPoint(boxes);\n            const updateRectFn = (rect, datum, isDatumHighlighted) => {\n                var _a, _b, _c, _d, _e, _f;\n                const box = boxes.get(datum);\n                if (!box) {\n                    rect.visible = false;\n                    return;\n                }\n                const fill = isDatumHighlighted && highlightedFill !== undefined ? highlightedFill : datum.fill;\n                const fillOpacity = (_a = (isDatumHighlighted ? highlightedFillOpacity : 1)) !== null && _a !== void 0 ? _a : 1;\n                let stroke = groupStroke;\n                if (isDatumHighlighted && highlightedStroke !== undefined) {\n                    stroke = highlightedStroke;\n                }\n                else if (datum.isLeaf) {\n                    stroke = tileStroke;\n                }\n                let strokeWidth = groupStrokeWidth;\n                if (isDatumHighlighted && highlightedDatumStrokeWidth !== undefined) {\n                    strokeWidth = highlightedDatumStrokeWidth;\n                }\n                else if (datum.isLeaf) {\n                    strokeWidth = tileStrokeWidth;\n                }\n                const format = this.getTileFormat(datum, isDatumHighlighted);\n                const fillColor = validateColor((_b = format === null || format === void 0 ? void 0 : format.fill) !== null && _b !== void 0 ? _b : fill);\n                if ((_c = format === null || format === void 0 ? void 0 : format.gradient) !== null && _c !== void 0 ? _c : gradient) {\n                    const start = Color.tryParseFromString(fill).brighter().toString();\n                    const end = Color.tryParseFromString(fill).darker().toString();\n                    rect.fill = `linear-gradient(180deg, ${start}, ${end})`;\n                }\n                else {\n                    rect.fill = fillColor;\n                }\n                rect.fillOpacity = (_d = format === null || format === void 0 ? void 0 : format.fillOpacity) !== null && _d !== void 0 ? _d : fillOpacity;\n                rect.stroke = validateColor((_e = format === null || format === void 0 ? void 0 : format.stroke) !== null && _e !== void 0 ? _e : stroke);\n                rect.strokeWidth = (_f = format === null || format === void 0 ? void 0 : format.strokeWidth) !== null && _f !== void 0 ? _f : strokeWidth;\n                rect.fillShadow = tileShadow;\n                rect.crisp = true;\n                rect.x = box.x;\n                rect.y = box.y;\n                rect.width = box.width;\n                rect.height = box.height;\n                rect.visible = true;\n            };\n            this.groupSelection.selectByClass(Rect).forEach((rect) => updateRectFn(rect, rect.datum, false));\n            this.highlightSelection.selectByClass(Rect).forEach((rect) => {\n                const isDatumHighlighted = this.isDatumHighlighted(rect.datum);\n                rect.visible = isDatumHighlighted || highlightedSubtree.has(rect.datum);\n                if (rect.visible) {\n                    updateRectFn(rect, rect.datum, isDatumHighlighted);\n                }\n            });\n            const updateLabelFn = (text, datum, highlighted, key) => {\n                const meta = labelMeta.get(datum);\n                const label = meta === null || meta === void 0 ? void 0 : meta[key];\n                if (!label) {\n                    text.visible = false;\n                    return;\n                }\n                text.text = label.text;\n                text.fontFamily = label.style.fontFamily;\n                text.fontSize = label.style.fontSize;\n                text.fontWeight = label.style.fontWeight;\n                text.fill = highlighted ? highlightedTextColor !== null && highlightedTextColor !== void 0 ? highlightedTextColor : label.style.color : label.style.color;\n                text.fillShadow = highlighted ? undefined : labelShadow;\n                text.textAlign = label.hAlign;\n                text.textBaseline = label.vAlign;\n                text.x = label.x;\n                text.y = label.y;\n                text.visible = true;\n            };\n            this.groupSelection\n                .selectByTag(TextNodeTag.Name)\n                .forEach((text) => updateLabelFn(text, text.datum, false, 'label'));\n            this.highlightSelection.selectByTag(TextNodeTag.Name).forEach((text) => {\n                const isDatumHighlighted = this.isDatumHighlighted(text.datum);\n                text.visible = isDatumHighlighted || highlightedSubtree.has(text.datum);\n                if (text.visible) {\n                    updateLabelFn(text, text.datum, isDatumHighlighted, 'label');\n                }\n            });\n            this.groupSelection\n                .selectByTag(TextNodeTag.Value)\n                .forEach((text) => updateLabelFn(text, text.datum, false, 'value'));\n            this.highlightSelection.selectByTag(TextNodeTag.Value).forEach((text) => {\n                const isDatumHighlighted = this.isDatumHighlighted(text.datum);\n                text.visible = isDatumHighlighted || highlightedSubtree.has(text.datum);\n                if (text.visible) {\n                    updateLabelFn(text, text.datum, isDatumHighlighted, 'value');\n                }\n            });\n        });\n    }\n    updateNodeMidPoint(boxes) {\n        boxes.forEach((box, treeNodeDatum) => {\n            treeNodeDatum.nodeMidPoint = {\n                x: box.x + box.width / 2,\n                y: box.y,\n            };\n        });\n    }\n    getHighlightedSubtree() {\n        const items = new Set();\n        const traverse = (datum) => {\n            var _a;\n            if (this.isDatumHighlighted(datum) || (datum.parent && items.has(datum.parent))) {\n                items.add(datum);\n            }\n            (_a = datum.children) === null || _a === void 0 ? void 0 : _a.forEach(traverse);\n        };\n        traverse(this.dataRoot);\n        return items;\n    }\n    buildLabelMeta(boxes) {\n        const { labels, title, subtitle, nodePadding, labelKey, ctx: { callbackCache }, } = this;\n        const wrappedRegExp = /-$/m;\n        const labelMeta = new Map();\n        boxes.forEach((box, datum) => {\n            var _a, _b, _c;\n            if (!labelKey || datum.depth === 0) {\n                return;\n            }\n            const availTextWidth = box.width - 2 * nodePadding;\n            const availTextHeight = box.height - 2 * nodePadding;\n            const isBoxTooSmall = (labelStyle) => {\n                const minSizeRatio = 3;\n                return (labelStyle.fontSize > box.width / minSizeRatio || labelStyle.fontSize > box.height / minSizeRatio);\n            };\n            let labelText = datum.isLeaf ? datum.label : datum.label.toUpperCase();\n            let valueText = '';\n            const valueConfig = labels.value;\n            const valueStyle = valueConfig.style;\n            const valueMargin = Math.ceil(valueStyle.fontSize * 2 * (Text.defaultLineHeightRatio - 1));\n            if (datum.isLeaf) {\n                if (valueConfig.formatter) {\n                    valueText = (_a = callbackCache.call(valueConfig.formatter, { datum: datum.datum })) !== null && _a !== void 0 ? _a : '';\n                }\n                else if (valueConfig.key) {\n                    valueText = datum.datum[valueConfig.key];\n                }\n            }\n            let valueSize = getTextSize(valueText, valueStyle);\n            if (valueText && valueSize.width > availTextWidth) {\n                valueText = '';\n            }\n            let labelStyle;\n            let wrappedText = '';\n            if (datum.isLeaf) {\n                labelStyle = labels.small;\n                const pickStyle = () => {\n                    const availHeight = availTextHeight - (valueText ? valueStyle.fontSize + valueMargin : 0);\n                    const labelStyles = [labels.large, labels.medium, labels.small];\n                    for (const style of labelStyles) {\n                        const { width, height } = getTextSize(labelText, style);\n                        if (height > availHeight || isBoxTooSmall(style)) {\n                            continue;\n                        }\n                        if (width <= availTextWidth) {\n                            return { style, wrappedText: undefined };\n                        }\n                        // Avoid hyphens and ellipsis for large and medium label styles\n                        const wrapped = Text.wrap(labelText, availTextWidth, availHeight, style, style.wrapping);\n                        if (wrapped &&\n                            wrapped !== '\\u2026' &&\n                            (style === labels.small || !(wrappedRegExp.exec(wrapped) || wrapped.endsWith('\\u2026')))) {\n                            return { style, wrappedText: wrapped };\n                        }\n                    }\n                    // Check if small font fits by height\n                    const smallSize = getTextSize(labelText, labels.small);\n                    if (smallSize.height <= availHeight && !isBoxTooSmall(labels.small)) {\n                        return { style: labels.small, wrappedText: undefined };\n                    }\n                    return { style: undefined, wrappedText: undefined };\n                };\n                let result = pickStyle();\n                if (!result.style && valueText) {\n                    valueText = '';\n                    result = pickStyle();\n                }\n                labelStyle = (_b = result.style) !== null && _b !== void 0 ? _b : labels.small;\n                wrappedText = (_c = result.wrappedText) !== null && _c !== void 0 ? _c : '';\n            }\n            else if (datum.depth === 1) {\n                labelStyle = title;\n            }\n            else {\n                labelStyle = subtitle;\n            }\n            const labelSize = getTextSize(wrappedText || labelText, labelStyle);\n            if (isBoxTooSmall(labelStyle)) {\n                // Avoid labels on too small tiles\n                return;\n            }\n            // Crop text if not enough space\n            if (labelSize.width > availTextWidth) {\n                const textLength = Math.floor((labelText.length * availTextWidth) / labelSize.width) - 1;\n                labelText = `${labelText.substring(0, textLength).trim()}`;\n            }\n            valueSize = getTextSize(valueText, valueStyle);\n            const hasValueText = valueText &&\n                valueSize.width < availTextWidth &&\n                valueSize.height + labelSize.height + valueMargin < availTextHeight;\n            labelMeta.set(datum, {\n                label: Object.assign({ text: wrappedText || labelText, style: labelStyle }, (datum.isLeaf\n                    ? {\n                        hAlign: 'center',\n                        vAlign: 'middle',\n                        x: box.x + box.width / 2,\n                        y: box.y + box.height / 2 - (hasValueText ? valueSize.height / 2 + valueMargin / 2 : 0),\n                    }\n                    : {\n                        hAlign: 'left',\n                        vAlign: 'top',\n                        x: box.x + nodePadding,\n                        y: box.y + nodePadding,\n                    })),\n                value: hasValueText\n                    ? {\n                        text: valueText,\n                        style: valueStyle,\n                        hAlign: 'center',\n                        vAlign: 'middle',\n                        x: box.x + box.width / 2,\n                        y: box.y + box.height / 2 + labelSize.height / 2 + valueMargin / 2,\n                    }\n                    : undefined,\n            });\n        });\n        return labelMeta;\n    }\n    getDomain(_direction) {\n        return [0, 1];\n    }\n    getNodeClickEvent(event, datum) {\n        return new TreemapSeriesNodeClickEvent(this.labelKey, this.sizeKey, this.colorKey, event, datum, this);\n    }\n    getNodeDoubleClickEvent(event, datum) {\n        return new TreemapSeriesNodeDoubleClickEvent(this.labelKey, this.sizeKey, this.colorKey, event, datum, this);\n    }\n    getTooltipHtml(nodeDatum) {\n        var _a, _b, _c, _d;\n        if (!this.highlightGroups && !nodeDatum.isLeaf) {\n            return '';\n        }\n        const { tooltip, sizeKey, labelKey, colorKey, rootName, id: seriesId, labels, ctx: { callbackCache }, } = this;\n        const { datum } = nodeDatum;\n        const { renderer: tooltipRenderer } = tooltip;\n        const title = nodeDatum.depth ? datum[labelKey] : (_a = datum[labelKey]) !== null && _a !== void 0 ? _a : rootName;\n        let content = '';\n        const format = this.getTileFormat(nodeDatum, false);\n        const color = (_c = (_b = format === null || format === void 0 ? void 0 : format.fill) !== null && _b !== void 0 ? _b : nodeDatum.fill) !== null && _c !== void 0 ? _c : 'gray';\n        const valueKey = labels.value.key;\n        const valueFormatter = labels.value.formatter;\n        if (valueKey || valueFormatter) {\n            let valueText = '';\n            if (valueFormatter) {\n                valueText = callbackCache.call(valueFormatter, { datum });\n            }\n            else {\n                const value = datum[valueKey];\n                if (typeof value === 'number' && isFinite(value)) {\n                    valueText = toFixed(value);\n                }\n            }\n            if (valueText) {\n                if (labels.value.name) {\n                    content += `<b>${labels.value.name}:</b> `;\n                }\n                content += valueText;\n            }\n        }\n        const defaults = {\n            title,\n            backgroundColor: color,\n            content,\n        };\n        if (tooltipRenderer) {\n            return toTooltipHtml(tooltipRenderer({\n                datum: nodeDatum.datum,\n                parent: (_d = nodeDatum.parent) === null || _d === void 0 ? void 0 : _d.datum,\n                depth: nodeDatum.depth,\n                sizeKey,\n                labelKey,\n                colorKey,\n                title,\n                color,\n                seriesId,\n            }), defaults);\n        }\n        if (!title && !content) {\n            return '';\n        }\n        return toTooltipHtml(defaults);\n    }\n    getLegendData() {\n        // Override point for subclasses.\n        return [];\n    }\n}\nTreemapSeries.className = 'TreemapSeries';\nTreemapSeries.type = 'treemap';\n__decorate([\n    Validate(NUMBER(0))\n], TreemapSeries.prototype, \"nodePadding\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], TreemapSeries.prototype, \"nodeGap\", void 0);\n__decorate([\n    Validate(STRING)\n], TreemapSeries.prototype, \"labelKey\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], TreemapSeries.prototype, \"sizeKey\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], TreemapSeries.prototype, \"colorKey\", void 0);\n__decorate([\n    Validate(NUMBER_ARRAY)\n], TreemapSeries.prototype, \"colorDomain\", void 0);\n__decorate([\n    Validate(COLOR_STRING_ARRAY)\n], TreemapSeries.prototype, \"colorRange\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], TreemapSeries.prototype, \"groupFill\", void 0);\n__decorate([\n    Validate(OPT_COLOR_STRING)\n], TreemapSeries.prototype, \"groupStroke\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0))\n], TreemapSeries.prototype, \"groupStrokeWidth\", void 0);\n__decorate([\n    Validate(OPT_COLOR_STRING)\n], TreemapSeries.prototype, \"tileStroke\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0))\n], TreemapSeries.prototype, \"tileStrokeWidth\", void 0);\n__decorate([\n    Validate(BOOLEAN)\n], TreemapSeries.prototype, \"gradient\", void 0);\n__decorate([\n    Validate(OPT_FUNCTION)\n], TreemapSeries.prototype, \"formatter\", void 0);\n__decorate([\n    Validate(STRING)\n], TreemapSeries.prototype, \"colorName\", void 0);\n__decorate([\n    Validate(STRING)\n], TreemapSeries.prototype, \"rootName\", void 0);\n__decorate([\n    Validate(OPT_BOOLEAN)\n], TreemapSeries.prototype, \"highlightGroups\", void 0);\n","import { jsonMerge } from '../../util/json.mjs';\nconst TYPES = {\n    area: 'cartesian',\n    bar: 'cartesian',\n    column: 'cartesian',\n    histogram: 'cartesian',\n    line: 'cartesian',\n    scatter: 'cartesian',\n    treemap: 'hierarchy',\n    pie: 'polar',\n};\nconst DEFAULTS = {};\nexport const CHART_TYPES = {\n    has(seriesType) {\n        return Object.prototype.hasOwnProperty.call(TYPES, seriesType);\n    },\n    isCartesian(seriesType) {\n        return TYPES[seriesType] === 'cartesian';\n    },\n    isPolar(seriesType) {\n        return TYPES[seriesType] === 'polar';\n    },\n    isHierarchy(seriesType) {\n        return TYPES[seriesType] === 'hierarchy';\n    },\n    get seriesTypes() {\n        return Object.keys(TYPES);\n    },\n    get cartesianTypes() {\n        return this.seriesTypes.filter((t) => this.isCartesian(t));\n    },\n    get polarTypes() {\n        return this.seriesTypes.filter((t) => this.isPolar(t));\n    },\n    get hierarchyTypes() {\n        return this.seriesTypes.filter((t) => this.isHierarchy(t));\n    },\n};\nexport function registerChartSeriesType(seriesType, chartType) {\n    TYPES[seriesType] = chartType;\n}\nexport function registerChartDefaults(chartType, defaults) {\n    var _a;\n    DEFAULTS[chartType] = jsonMerge([(_a = DEFAULTS[chartType]) !== null && _a !== void 0 ? _a : {}, defaults]);\n}\nexport function getChartDefaults(chartType) {\n    var _a;\n    return (_a = DEFAULTS[chartType]) !== null && _a !== void 0 ? _a : {};\n}\n","import { AreaSeries } from '../series/cartesian/areaSeries.mjs';\nimport { BarSeries, ColumnSeries } from '../series/cartesian/barSeries.mjs';\nimport { HistogramSeries } from '../series/cartesian/histogramSeries.mjs';\nimport { LineSeries } from '../series/cartesian/lineSeries.mjs';\nimport { ScatterSeries } from '../series/cartesian/scatterSeries.mjs';\nimport { PieSeries } from '../series/polar/pieSeries.mjs';\nimport { TreemapSeries } from '../series/hierarchy/treemapSeries.mjs';\nimport { registerChartSeriesType } from './chartTypes.mjs';\nconst BUILT_IN_SERIES_FACTORIES = {\n    area: AreaSeries,\n    bar: BarSeries,\n    column: ColumnSeries,\n    histogram: HistogramSeries,\n    line: LineSeries,\n    pie: PieSeries,\n    scatter: ScatterSeries,\n    treemap: TreemapSeries,\n};\nconst SERIES_FACTORIES = {};\nconst SERIES_DEFAULTS = {};\nconst SERIES_THEME_TEMPLATES = {};\nexport function registerSeries(seriesType, chartType, cstr, defaults, theme) {\n    SERIES_FACTORIES[seriesType] = cstr;\n    SERIES_DEFAULTS[seriesType] = defaults;\n    SERIES_THEME_TEMPLATES[seriesType] = theme;\n    registerChartSeriesType(seriesType, chartType);\n}\nexport function getSeries(chartType, moduleCtx) {\n    var _a;\n    const seriesConstructor = (_a = SERIES_FACTORIES[chartType]) !== null && _a !== void 0 ? _a : BUILT_IN_SERIES_FACTORIES[chartType];\n    if (seriesConstructor) {\n        return new seriesConstructor(moduleCtx);\n    }\n    throw new Error(`AG Charts - unknown series type: ${chartType}`);\n}\nexport function getSeriesDefaults(chartType) {\n    return SERIES_DEFAULTS[chartType];\n}\nexport function getSeriesThemeTemplate(chartType) {\n    return SERIES_THEME_TEMPLATES[chartType];\n}\n","import { NumberAxis } from '../axis/numberAxis.mjs';\nimport { CategoryAxis } from '../axis/categoryAxis.mjs';\nexport const DEFAULT_CARTESIAN_CHART_OVERRIDES = {\n    axes: [\n        {\n            type: NumberAxis.type,\n            position: 'left',\n        },\n        {\n            type: CategoryAxis.type,\n            position: 'bottom',\n        },\n    ],\n};\nexport const DEFAULT_BAR_CHART_OVERRIDES = {\n    axes: [\n        {\n            type: 'number',\n            position: 'bottom',\n        },\n        {\n            type: 'category',\n            position: 'left',\n        },\n    ],\n};\nexport const DEFAULT_SCATTER_HISTOGRAM_CHART_OVERRIDES = {\n    axes: [\n        {\n            type: 'number',\n            position: 'bottom',\n        },\n        {\n            type: 'number',\n            position: 'left',\n        },\n    ],\n};\n","function transform(input, transforms) {\n    const result = {};\n    for (const p in input) {\n        const t = transforms[p] || ((x) => x);\n        result[p] = t(input[p], input);\n    }\n    return result;\n}\nfunction is2dArray(input) {\n    return input != null && input instanceof Array && input[0] instanceof Array;\n}\nfunction yNamesMapping(p, src) {\n    if (p == null) {\n        return {};\n    }\n    if (!(p instanceof Array)) {\n        return p;\n    }\n    const yKeys = src.yKeys;\n    if (yKeys == null || is2dArray(yKeys)) {\n        throw new Error('AG Charts - yNames and yKeys mismatching configuration.');\n    }\n    const result = {};\n    yKeys.forEach((k, i) => {\n        result[k] = p[i];\n    });\n    return result;\n}\nfunction yKeysMapping(p, src) {\n    if (p == null) {\n        return [[]];\n    }\n    if (is2dArray(p)) {\n        return p;\n    }\n    return src.grouped ? p.map((v) => [v]) : [p];\n}\nfunction legendItemNamesMapping(p, src) {\n    if (p == null) {\n        return {};\n    }\n    if (!(p instanceof Array)) {\n        return p;\n    }\n    const yKeys = src.yKeys;\n    if (yKeys == null || is2dArray(yKeys)) {\n        throw new Error('AG Charts - legendItemNames and yKeys mismatching configuration.');\n    }\n    const result = {};\n    yKeys.forEach((k, i) => {\n        result[k] = p[i];\n    });\n    return result;\n}\nfunction barSeriesTransform(options) {\n    const result = Object.assign({}, options);\n    delete result['yKey'];\n    delete result['yName'];\n    return transform(result, {\n        yNames: yNamesMapping,\n        yKeys: yKeysMapping,\n        legendItemNames: legendItemNamesMapping,\n    });\n}\nfunction columnSeriesTransform(options) {\n    const result = Object.assign({}, options);\n    delete result['yKey'];\n    delete result['yName'];\n    return transform(result, {\n        yNames: yNamesMapping,\n        yKeys: yKeysMapping,\n        legendItemNames: legendItemNamesMapping,\n    });\n}\nfunction identityTransform(input) {\n    return input;\n}\nconst SERIES_TRANSFORMS = {\n    area: identityTransform,\n    bar: barSeriesTransform,\n    column: columnSeriesTransform,\n    histogram: identityTransform,\n    line: identityTransform,\n    pie: identityTransform,\n    scatter: identityTransform,\n    treemap: identityTransform,\n};\nexport function applySeriesTransform(options) {\n    var _a;\n    const type = (_a = options.type) !== null && _a !== void 0 ? _a : 'line';\n    const transform = SERIES_TRANSFORMS[type];\n    return (transform !== null && transform !== void 0 ? transform : identityTransform)(options);\n}\n","export function deepMerge(target, source) {\n    if (isPlainObject(target) && isPlainObject(source)) {\n        const result = {};\n        Object.keys(target).forEach((key) => {\n            if (key in source) {\n                result[key] = deepMerge(target[key], source[key]);\n            }\n            else {\n                result[key] = target[key];\n            }\n        });\n        Object.keys(source).forEach((key) => {\n            if (!(key in target)) {\n                result[key] = source[key];\n            }\n        });\n        return result;\n    }\n    if ((Array.isArray(target) && !Array.isArray(source)) || (isObject(target) && !isObject(source))) {\n        return target;\n    }\n    return source;\n}\nfunction isObject(value) {\n    return value && typeof value === 'object';\n}\nfunction isPlainObject(x) {\n    return isObject(x) && x.constructor === Object;\n}\n","const TYPES = {\n    number: 'number',\n    time: 'time',\n    log: 'log',\n    category: 'category',\n    groupedCategory: 'groupedCategory',\n};\nconst AXES_THEME_TEMPLATES = {};\nexport const CHART_AXES_TYPES = {\n    has(axisType) {\n        return Object.prototype.hasOwnProperty.call(TYPES, axisType);\n    },\n    get axesTypes() {\n        return Object.keys(TYPES);\n    },\n};\nexport function registerAxisThemeTemplate(axisType, theme) {\n    AXES_THEME_TEMPLATES[axisType] = theme;\n}\nexport function getAxisThemeTemplate(axisType) {\n    var _a;\n    return (_a = AXES_THEME_TEMPLATES[axisType]) !== null && _a !== void 0 ? _a : {};\n}\n","import { jsonMerge, jsonWalk } from '../../util/json.mjs';\nimport { deepMerge } from '../../util/object.mjs';\nimport { CHART_AXES_TYPES, getAxisThemeTemplate } from '../chartAxesTypes.mjs';\nimport { CHART_TYPES, getChartDefaults } from '../factory/chartTypes.mjs';\nimport { getSeriesThemeTemplate } from '../factory/seriesTypes.mjs';\nconst palette = {\n    fills: ['#f3622d', '#fba71b', '#57b757', '#41a9c9', '#4258c9', '#9a42c8', '#c84164', '#888888'],\n    strokes: ['#aa4520', '#b07513', '#3d803d', '#2d768d', '#2e3e8d', '#6c2e8c', '#8c2d46', '#5f5f5f'],\n};\nexport const EXTENDS_SERIES_DEFAULTS = Symbol('extends-series-defaults');\nexport const OVERRIDE_SERIES_LABEL_DEFAULTS = Symbol('override-series-label-defaults');\nexport const DEFAULT_FONT_FAMILY = Symbol('default-font');\nconst BOLD = 'bold';\nconst INSIDE = 'inside';\nconst BOTTOM = 'bottom';\nexport class ChartTheme {\n    constructor(options) {\n        options = deepMerge({}, options !== null && options !== void 0 ? options : {});\n        const { overrides = null, palette = null } = options;\n        const defaults = this.createChartConfigPerChartType(this.getDefaults());\n        if (overrides) {\n            const { common, cartesian, polar, hierarchy } = overrides;\n            const applyOverrides = (type, seriesTypes, overrideOpts) => {\n                if (overrideOpts) {\n                    defaults[type] = deepMerge(defaults[type], overrideOpts);\n                    seriesTypes.forEach((s) => {\n                        const seriesType = s;\n                        defaults[seriesType] = deepMerge(defaults[seriesType], overrideOpts);\n                    });\n                }\n            };\n            applyOverrides('common', Object.keys(defaults), common);\n            applyOverrides('cartesian', CHART_TYPES.cartesianTypes, cartesian);\n            applyOverrides('polar', CHART_TYPES.polarTypes, polar);\n            applyOverrides('hierarchy', CHART_TYPES.hierarchyTypes, hierarchy);\n            CHART_TYPES.seriesTypes.forEach((s) => {\n                const seriesType = s;\n                const chartConfig = overrides[seriesType];\n                if (chartConfig) {\n                    if (chartConfig.series) {\n                        chartConfig.series = { [seriesType]: chartConfig.series };\n                    }\n                    defaults[seriesType] = deepMerge(defaults[seriesType], chartConfig);\n                }\n            });\n        }\n        this.palette = palette !== null && palette !== void 0 ? palette : this.getPalette();\n        this.config = Object.freeze(defaults);\n    }\n    getPalette() {\n        return palette;\n    }\n    static getAxisDefaults() {\n        return {\n            top: {},\n            right: {},\n            bottom: {},\n            left: {},\n            thickness: 0,\n            title: {\n                enabled: false,\n                text: 'Axis Title',\n                fontStyle: undefined,\n                fontWeight: BOLD,\n                fontSize: 12,\n                fontFamily: this.fontFamily,\n                color: 'rgb(70, 70, 70)',\n            },\n            label: {\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: this.fontFamily,\n                padding: 5,\n                rotation: undefined,\n                color: 'rgb(87, 87, 87)',\n                formatter: undefined,\n                autoRotate: false,\n                avoidCollisions: true,\n            },\n            line: {\n                width: 1,\n                color: 'rgb(195, 195, 195)',\n            },\n            tick: {\n                width: 1,\n                size: 6,\n                color: 'rgb(195, 195, 195)',\n            },\n            gridStyle: [\n                {\n                    stroke: 'rgb(219, 219, 219)',\n                    lineDash: [4, 2],\n                },\n            ],\n            crossLines: {\n                enabled: false,\n                fill: 'rgb(187,221,232)',\n                stroke: 'rgb(70,162,192)',\n                strokeWidth: 1,\n                label: {\n                    enabled: false,\n                    fontStyle: undefined,\n                    fontWeight: undefined,\n                    fontSize: 12,\n                    fontFamily: this.fontFamily,\n                    padding: 5,\n                    color: 'rgb(87, 87, 87)',\n                    rotation: undefined,\n                },\n            },\n        };\n    }\n    static getSeriesDefaults() {\n        return {\n            tooltip: {\n                enabled: true,\n                renderer: undefined,\n            },\n            visible: true,\n            showInLegend: true,\n            highlightStyle: {\n                item: {\n                    fill: 'yellow',\n                    fillOpacity: 1,\n                },\n                series: {\n                    dimOpacity: 1,\n                },\n                text: {\n                    color: 'black',\n                },\n            },\n            nodeClickRange: 'exact',\n        };\n    }\n    static getBarSeriesDefaults() {\n        return Object.assign(Object.assign({}, this.getSeriesDefaults()), { fillOpacity: 1, strokeOpacity: 1, normalizedTo: undefined, strokeWidth: 1, lineDash: [0], lineDashOffset: 0, label: {\n                enabled: false,\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: this.fontFamily,\n                color: 'rgb(70, 70, 70)',\n                formatter: undefined,\n                placement: INSIDE,\n            }, shadow: {\n                enabled: false,\n                color: 'rgba(0, 0, 0, 0.5)',\n                xOffset: 3,\n                yOffset: 3,\n                blur: 5,\n            } });\n    }\n    static getLineSeriesDefaults() {\n        const seriesDefaults = this.getSeriesDefaults();\n        return Object.assign(Object.assign({}, seriesDefaults), { tooltip: Object.assign(Object.assign({}, seriesDefaults.tooltip), { format: undefined, position: {\n                    type: 'node',\n                } }) });\n    }\n    static getAreaSeriesDefaults() {\n        const seriesDefaults = this.getSeriesDefaults();\n        return Object.assign(Object.assign({}, seriesDefaults), { nodeClickRange: 'nearest', tooltip: Object.assign(Object.assign({}, seriesDefaults.tooltip), { position: {\n                    type: 'node',\n                } }) });\n    }\n    static getScatterSeriesDefaults() {\n        const seriesDefaults = this.getSeriesDefaults();\n        return Object.assign(Object.assign({}, seriesDefaults), { tooltip: Object.assign(Object.assign({}, seriesDefaults.tooltip), { position: {\n                    type: 'node',\n                } }) });\n    }\n    static getCartesianSeriesMarkerDefaults() {\n        return {\n            enabled: true,\n            shape: 'circle',\n            size: 6,\n            maxSize: 30,\n            strokeWidth: 1,\n            formatter: undefined,\n        };\n    }\n    static getCaptionWrappingDefaults() {\n        return 'hyphenate';\n    }\n    static getChartDefaults() {\n        return {\n            background: {\n                visible: true,\n                fill: 'white',\n            },\n            padding: {\n                top: 20,\n                right: 20,\n                bottom: 20,\n                left: 20,\n            },\n            title: {\n                enabled: false,\n                text: 'Title',\n                fontStyle: undefined,\n                fontWeight: BOLD,\n                fontSize: 16,\n                fontFamily: this.fontFamily,\n                color: 'rgb(70, 70, 70)',\n                wrapping: ChartTheme.getCaptionWrappingDefaults(),\n            },\n            subtitle: {\n                enabled: false,\n                text: 'Subtitle',\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: this.fontFamily,\n                color: 'rgb(140, 140, 140)',\n                wrapping: ChartTheme.getCaptionWrappingDefaults(),\n            },\n            footnote: {\n                enabled: false,\n                text: 'Footnote',\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: this.fontFamily,\n                color: 'rgb(140, 140, 140)',\n                spacing: 30,\n                wrapping: ChartTheme.getCaptionWrappingDefaults(),\n            },\n            legend: {\n                position: BOTTOM,\n                spacing: 20,\n                listeners: {},\n                item: {\n                    paddingX: 16,\n                    paddingY: 8,\n                    marker: {\n                        shape: undefined,\n                        size: 15,\n                        strokeWidth: 1,\n                        padding: 8,\n                    },\n                    label: {\n                        color: 'black',\n                        fontStyle: undefined,\n                        fontWeight: undefined,\n                        fontSize: 12,\n                        fontFamily: this.fontFamily,\n                        formatter: undefined,\n                    },\n                },\n                reverseOrder: false,\n                pagination: {\n                    marker: {\n                        size: 12,\n                    },\n                    activeStyle: {\n                        fill: 'rgb(70, 70, 70)',\n                    },\n                    inactiveStyle: {\n                        fill: 'rgb(219, 219, 219)',\n                    },\n                    highlightStyle: {\n                        fill: 'rgb(70, 70, 70)',\n                    },\n                    label: {\n                        color: 'rgb(70, 70, 70)',\n                    },\n                },\n            },\n            tooltip: {\n                enabled: true,\n                range: 'nearest',\n                delay: 0,\n            },\n            listeners: {},\n        };\n    }\n    createChartConfigPerChartType(config) {\n        const typeToAliases = {\n            cartesian: CHART_TYPES.cartesianTypes,\n            polar: CHART_TYPES.polarTypes,\n            hierarchy: CHART_TYPES.hierarchyTypes,\n            groupedCategory: [],\n        };\n        Object.entries(typeToAliases).forEach(([nextType, aliases]) => {\n            const type = nextType;\n            const typeDefaults = this.templateTheme(getChartDefaults(type));\n            aliases.forEach((next) => {\n                const alias = next;\n                if (!config[alias]) {\n                    config[alias] = deepMerge({}, config[type]);\n                    deepMerge(config[alias], typeDefaults);\n                }\n            });\n        });\n        return config;\n    }\n    getDefaults() {\n        const defaults = deepMerge({}, ChartTheme.defaults);\n        const getOverridesByType = (chartType, seriesTypes) => {\n            const result = this.templateTheme(getChartDefaults(chartType));\n            result.series = seriesTypes.reduce((obj, seriesType) => {\n                const template = getSeriesThemeTemplate(seriesType);\n                if (template) {\n                    obj[seriesType] = this.templateTheme(template);\n                }\n                return obj;\n            }, {});\n            if (chartType === 'cartesian') {\n                result.axes = CHART_AXES_TYPES.axesTypes.reduce((obj, axisType) => {\n                    const template = getAxisThemeTemplate(axisType);\n                    if (template) {\n                        obj[axisType] = this.templateTheme(template);\n                    }\n                    return obj;\n                }, {});\n            }\n            return result;\n        };\n        const extension = {\n            cartesian: getOverridesByType('cartesian', CHART_TYPES.cartesianTypes),\n            groupedCategory: getOverridesByType('cartesian', CHART_TYPES.cartesianTypes),\n            polar: getOverridesByType('polar', CHART_TYPES.polarTypes),\n            hierarchy: getOverridesByType('hierarchy', CHART_TYPES.hierarchyTypes),\n        };\n        return deepMerge(defaults, extension);\n    }\n    templateTheme(themeTemplate) {\n        const themeInstance = jsonMerge([themeTemplate]);\n        const { extensions, properties } = this.getTemplateParameters();\n        jsonWalk(themeInstance, (_, node) => {\n            if (node['__extends__']) {\n                const key = node['__extends__'];\n                const source = extensions.get(key);\n                if (source == null) {\n                    throw new Error('AG Charts - no template variable provided for: ' + key);\n                }\n                Object.assign(node, source, node);\n                delete node['__extends__'];\n            }\n            if (node['__overrides__']) {\n                const key = node['__overrides__'];\n                const source = extensions.get(key);\n                if (source == null) {\n                    throw new Error('AG Charts - no template variable provided for: ' + key);\n                }\n                Object.assign(node, source);\n                delete node['__overrides__'];\n            }\n            for (const [name, value] of Object.entries(node)) {\n                if (properties.has(value)) {\n                    node[name] = properties.get(value);\n                }\n            }\n        }, {});\n        return themeInstance;\n    }\n    getTemplateParameters() {\n        const extensions = new Map();\n        extensions.set(EXTENDS_SERIES_DEFAULTS, ChartTheme.getSeriesDefaults());\n        extensions.set(OVERRIDE_SERIES_LABEL_DEFAULTS, {});\n        const properties = new Map();\n        properties.set(DEFAULT_FONT_FAMILY, ChartTheme.fontFamily);\n        return {\n            extensions,\n            properties,\n        };\n    }\n    mergeWithParentDefaults(parentDefaults, defaults) {\n        return deepMerge(parentDefaults, defaults);\n    }\n}\nChartTheme.fontFamily = 'Verdana, sans-serif';\nChartTheme.cartesianDefaults = Object.assign(Object.assign({}, ChartTheme.getChartDefaults()), { axes: {\n        number: Object.assign({}, ChartTheme.getAxisDefaults()),\n        log: Object.assign(Object.assign({}, ChartTheme.getAxisDefaults()), { base: 10 }),\n        category: Object.assign(Object.assign({}, ChartTheme.getAxisDefaults()), { groupPaddingInner: 0.1, label: Object.assign(Object.assign({}, ChartTheme.getAxisDefaults().label), { autoRotate: true }) }),\n        groupedCategory: Object.assign({}, ChartTheme.getAxisDefaults()),\n        time: Object.assign({}, ChartTheme.getAxisDefaults()),\n    }, series: {\n        column: Object.assign({}, ChartTheme.getBarSeriesDefaults()),\n        bar: Object.assign({}, ChartTheme.getBarSeriesDefaults()),\n        line: Object.assign(Object.assign({}, ChartTheme.getLineSeriesDefaults()), { title: undefined, strokeWidth: 2, strokeOpacity: 1, lineDash: [0], lineDashOffset: 0, marker: Object.assign(Object.assign({}, ChartTheme.getCartesianSeriesMarkerDefaults()), { fillOpacity: 1, strokeOpacity: 1 }), label: {\n                enabled: false,\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: ChartTheme.fontFamily,\n                color: 'rgb(70, 70, 70)',\n                formatter: undefined,\n            } }),\n        scatter: Object.assign(Object.assign({}, ChartTheme.getScatterSeriesDefaults()), { sizeName: 'Size', labelName: 'Label', marker: Object.assign({}, ChartTheme.getCartesianSeriesMarkerDefaults()), label: {\n                enabled: false,\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: ChartTheme.fontFamily,\n                color: 'rgb(70, 70, 70)',\n            } }),\n        area: Object.assign(Object.assign({}, ChartTheme.getAreaSeriesDefaults()), { normalizedTo: undefined, fillOpacity: 0.8, strokeOpacity: 1, strokeWidth: 2, lineDash: [0], lineDashOffset: 0, shadow: {\n                enabled: false,\n                color: 'rgba(0, 0, 0, 0.5)',\n                xOffset: 3,\n                yOffset: 3,\n                blur: 5,\n            }, marker: Object.assign(Object.assign({}, ChartTheme.getCartesianSeriesMarkerDefaults()), { fillOpacity: 1, strokeOpacity: 1, enabled: false }), label: {\n                enabled: false,\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: ChartTheme.fontFamily,\n                color: 'rgb(70, 70, 70)',\n                formatter: undefined,\n            } }),\n        histogram: Object.assign(Object.assign({}, ChartTheme.getSeriesDefaults()), { strokeWidth: 1, fillOpacity: 1, strokeOpacity: 1, lineDash: [0], lineDashOffset: 0, areaPlot: false, bins: undefined, aggregation: 'sum', label: {\n                enabled: false,\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: ChartTheme.fontFamily,\n                color: 'rgb(70, 70, 70)',\n                formatter: undefined,\n            }, shadow: {\n                enabled: true,\n                color: 'rgba(0, 0, 0, 0.5)',\n                xOffset: 0,\n                yOffset: 0,\n                blur: 5,\n            } }),\n    } });\nChartTheme.polarDefaults = Object.assign(Object.assign({}, ChartTheme.getChartDefaults()), { series: {\n        pie: Object.assign(Object.assign({}, ChartTheme.getSeriesDefaults()), { title: {\n                enabled: true,\n                fontStyle: undefined,\n                fontWeight: 'bold',\n                fontSize: 14,\n                fontFamily: ChartTheme.fontFamily,\n                color: 'rgb(70, 70, 70)',\n                spacing: 0,\n            }, radiusKey: undefined, radiusName: undefined, calloutLabelKey: undefined, calloutLabelName: undefined, sectorLabelKey: undefined, sectorLabelName: undefined, calloutLabel: {\n                enabled: true,\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: ChartTheme.fontFamily,\n                color: 'rgb(70, 70, 70)',\n                offset: 3,\n                minAngle: 0,\n            }, sectorLabel: {\n                enabled: true,\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: ChartTheme.fontFamily,\n                color: 'rgb(70, 70, 70)',\n                positionOffset: 0,\n                positionRatio: 0.5,\n            }, calloutLine: {\n                length: 10,\n                strokeWidth: 2,\n            }, fillOpacity: 1, strokeOpacity: 1, strokeWidth: 1, lineDash: [0], lineDashOffset: 0, rotation: 0, outerRadiusOffset: 0, innerRadiusOffset: 0, shadow: {\n                enabled: false,\n                color: 'rgba(0, 0, 0, 0.5)',\n                xOffset: 3,\n                yOffset: 3,\n                blur: 5,\n            }, innerLabels: {\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: ChartTheme.fontFamily,\n                color: 'rgb(70, 70, 70)',\n                margin: 2,\n            } }),\n    } });\nChartTheme.hierarchyDefaults = Object.assign(Object.assign({}, ChartTheme.getChartDefaults()), { series: {\n        treemap: Object.assign(Object.assign({}, ChartTheme.getSeriesDefaults()), { showInLegend: false, labelKey: 'label', sizeKey: 'size', colorKey: 'color', colorDomain: [-5, 5], colorRange: ['#cb4b3f', '#6acb64'], groupFill: '#272931', groupStroke: 'black', groupStrokeWidth: 1, tileStroke: 'black', tileStrokeWidth: 1, gradient: true, tileShadow: {\n                enabled: false,\n                color: 'rgba(0, 0, 0, 0.5)',\n                xOffset: 3,\n                yOffset: 3,\n                blur: 5,\n            }, labelShadow: {\n                enabled: true,\n                color: 'rgba(0, 0, 0, 0.4)',\n                xOffset: 1.5,\n                yOffset: 1.5,\n                blur: 5,\n            }, highlightGroups: true, nodePadding: 2, nodeGap: 0, title: {\n                enabled: true,\n                color: 'white',\n                fontStyle: undefined,\n                fontWeight: 'bold',\n                fontSize: 12,\n                fontFamily: 'Verdana, sans-serif',\n                padding: 2,\n            }, subtitle: {\n                enabled: true,\n                color: 'white',\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 9,\n                fontFamily: 'Verdana, sans-serif',\n                padding: 2,\n            }, labels: {\n                large: {\n                    enabled: true,\n                    fontStyle: undefined,\n                    fontWeight: 'bold',\n                    fontSize: 18,\n                    fontFamily: 'Verdana, sans-serif',\n                    color: 'white',\n                    wrapping: 'on-space',\n                },\n                medium: {\n                    enabled: true,\n                    fontStyle: undefined,\n                    fontWeight: 'bold',\n                    fontSize: 14,\n                    fontFamily: 'Verdana, sans-serif',\n                    color: 'white',\n                    wrapping: 'on-space',\n                },\n                small: {\n                    enabled: true,\n                    fontStyle: undefined,\n                    fontWeight: 'bold',\n                    fontSize: 10,\n                    fontFamily: 'Verdana, sans-serif',\n                    color: 'white',\n                    wrapping: 'on-space',\n                },\n                value: {\n                    style: {\n                        enabled: true,\n                        fontStyle: undefined,\n                        fontWeight: undefined,\n                        fontSize: 12,\n                        fontFamily: 'Verdana, sans-serif',\n                        color: 'white',\n                    },\n                },\n            } }),\n    } });\nChartTheme.defaults = {\n    cartesian: ChartTheme.cartesianDefaults,\n    groupedCategory: ChartTheme.cartesianDefaults,\n    polar: ChartTheme.polarDefaults,\n    hierarchy: ChartTheme.hierarchyDefaults,\n};\n","import { ChartTheme, OVERRIDE_SERIES_LABEL_DEFAULTS } from './chartTheme.mjs';\nimport { CHART_TYPES } from '../factory/chartTypes.mjs';\nimport { getSeriesThemeTemplate } from '../factory/seriesTypes.mjs';\nexport class DarkTheme extends ChartTheme {\n    constructor(options) {\n        super(options);\n    }\n    getDefaults() {\n        const fontColor = DarkTheme.fontColor;\n        const mutedFontColor = DarkTheme.mutedFontColor;\n        const axisDefaults = {\n            title: {\n                color: fontColor,\n            },\n            label: {\n                color: fontColor,\n            },\n            gridStyle: [\n                {\n                    stroke: 'rgb(88, 88, 88)',\n                    lineDash: [4, 2],\n                },\n            ],\n        };\n        const seriesLabelDefaults = {\n            label: {\n                color: fontColor,\n            },\n        };\n        const chartAxesDefaults = {\n            axes: {\n                number: Object.assign({}, axisDefaults),\n                category: Object.assign({}, axisDefaults),\n                time: Object.assign({}, axisDefaults),\n            },\n        };\n        const chartDefaults = {\n            background: {\n                fill: 'rgb(34, 38, 41)',\n            },\n            title: {\n                color: fontColor,\n            },\n            subtitle: {\n                color: mutedFontColor,\n            },\n            legend: {\n                item: {\n                    label: {\n                        color: fontColor,\n                    },\n                },\n                pagination: {\n                    activeStyle: {\n                        fill: fontColor,\n                    },\n                    inactiveStyle: {\n                        fill: mutedFontColor,\n                    },\n                    highlightStyle: {\n                        fill: fontColor,\n                    },\n                    label: {\n                        color: fontColor,\n                    },\n                },\n            },\n        };\n        const getOverridesByType = (seriesTypes) => {\n            return seriesTypes.reduce((obj, seriesType) => {\n                const template = getSeriesThemeTemplate(seriesType);\n                if (template) {\n                    obj[seriesType] = this.templateTheme(template);\n                }\n                return obj;\n            }, {});\n        };\n        return this.mergeWithParentDefaults(super.getDefaults(), {\n            cartesian: Object.assign(Object.assign(Object.assign({}, chartDefaults), chartAxesDefaults), { series: Object.assign({ line: Object.assign({}, seriesLabelDefaults), bar: Object.assign({}, seriesLabelDefaults), column: Object.assign({}, seriesLabelDefaults), histogram: Object.assign({}, seriesLabelDefaults) }, getOverridesByType(CHART_TYPES.cartesianTypes)) }),\n            groupedCategory: Object.assign(Object.assign(Object.assign({}, chartDefaults), chartAxesDefaults), { series: Object.assign({ bar: Object.assign({}, seriesLabelDefaults), column: Object.assign({}, seriesLabelDefaults), histogram: Object.assign({}, seriesLabelDefaults) }, getOverridesByType(CHART_TYPES.cartesianTypes)) }),\n            polar: Object.assign(Object.assign({}, chartDefaults), { series: Object.assign({ pie: {\n                        calloutLabel: {\n                            color: fontColor,\n                        },\n                        sectorLabel: {\n                            color: fontColor,\n                        },\n                        title: {\n                            color: fontColor,\n                        },\n                        innerLabels: {\n                            color: fontColor,\n                        },\n                    } }, getOverridesByType(CHART_TYPES.polarTypes)) }),\n            hierarchy: Object.assign(Object.assign({}, chartDefaults), { series: Object.assign({ treemap: {\n                        tileStroke: 'white',\n                        groupStroke: 'white',\n                        title: {\n                            color: fontColor,\n                        },\n                        subtitle: {\n                            color: mutedFontColor,\n                        },\n                        labels: {\n                            large: {\n                                color: fontColor,\n                            },\n                            medium: {\n                                color: fontColor,\n                            },\n                            small: {\n                                color: fontColor,\n                            },\n                            value: {\n                                style: {\n                                    color: fontColor,\n                                },\n                            },\n                        },\n                    } }, getOverridesByType(CHART_TYPES.hierarchyTypes)) }),\n        });\n    }\n    getTemplateParameters() {\n        const result = super.getTemplateParameters();\n        result.extensions.set(OVERRIDE_SERIES_LABEL_DEFAULTS, DarkTheme.seriesLabelDefaults.label);\n        return result;\n    }\n}\nDarkTheme.fontColor = 'rgb(200, 200, 200)';\nDarkTheme.mutedFontColor = 'rgb(150, 150, 150)';\nDarkTheme.seriesLabelDefaults = {\n    label: {\n        color: DarkTheme.fontColor,\n    },\n};\n","import { ChartTheme } from './chartTheme.mjs';\nconst palette = {\n    fills: [\n        '#f44336',\n        '#e91e63',\n        '#9c27b0',\n        '#673ab7',\n        '#3f51b5',\n        '#2196f3',\n        '#03a9f4',\n        '#00bcd4',\n        '#009688',\n        '#4caf50',\n        '#8bc34a',\n        '#cddc39',\n        '#ffeb3b',\n        '#ffc107',\n        '#ff9800',\n        '#ff5722',\n    ],\n    strokes: [\n        '#ab2f26',\n        '#a31545',\n        '#6d1b7b',\n        '#482980',\n        '#2c397f',\n        '#1769aa',\n        '#0276ab',\n        '#008494',\n        '#00695f',\n        '#357a38',\n        '#618834',\n        '#909a28',\n        '#b3a429',\n        '#b38705',\n        '#b36a00',\n        '#b33d18',\n    ],\n};\nexport class MaterialLight extends ChartTheme {\n    getPalette() {\n        return palette;\n    }\n}\n","import { DarkTheme } from './darkTheme.mjs';\nconst palette = {\n    fills: [\n        '#f44336',\n        '#e91e63',\n        '#9c27b0',\n        '#673ab7',\n        '#3f51b5',\n        '#2196f3',\n        '#03a9f4',\n        '#00bcd4',\n        '#009688',\n        '#4caf50',\n        '#8bc34a',\n        '#cddc39',\n        '#ffeb3b',\n        '#ffc107',\n        '#ff9800',\n        '#ff5722',\n    ],\n    strokes: [\n        '#ab2f26',\n        '#a31545',\n        '#6d1b7b',\n        '#482980',\n        '#2c397f',\n        '#1769aa',\n        '#0276ab',\n        '#008494',\n        '#00695f',\n        '#357a38',\n        '#618834',\n        '#909a28',\n        '#b3a429',\n        '#b38705',\n        '#b36a00',\n        '#b33d18',\n    ],\n};\nexport class MaterialDark extends DarkTheme {\n    getPalette() {\n        return palette;\n    }\n}\n","import { ChartTheme } from './chartTheme.mjs';\nconst palette = {\n    fills: ['#c16068', '#a2bf8a', '#ebcc87', '#80a0c3', '#b58dae', '#85c0d1'],\n    strokes: ['#874349', '#718661', '#a48f5f', '#5a7088', '#7f637a', '#5d8692'],\n};\nexport class PastelLight extends ChartTheme {\n    getPalette() {\n        return palette;\n    }\n}\n","import { DarkTheme } from './darkTheme.mjs';\nconst palette = {\n    fills: ['#c16068', '#a2bf8a', '#ebcc87', '#80a0c3', '#b58dae', '#85c0d1'],\n    strokes: ['#874349', '#718661', '#a48f5f', '#5a7088', '#7f637a', '#5d8692'],\n};\nexport class PastelDark extends DarkTheme {\n    getPalette() {\n        return palette;\n    }\n}\n","import { ChartTheme } from './chartTheme.mjs';\nconst palette = {\n    fills: [\n        '#febe76',\n        '#ff7979',\n        '#badc58',\n        '#f9ca23',\n        '#f0932b',\n        '#eb4c4b',\n        '#6ab04c',\n        '#7ed6df',\n        '#e056fd',\n        '#686de0',\n    ],\n    strokes: [\n        '#b28553',\n        '#b35555',\n        '#829a3e',\n        '#ae8d19',\n        '#a8671e',\n        '#a43535',\n        '#4a7b35',\n        '#58969c',\n        '#9d3cb1',\n        '#494c9d',\n    ],\n};\nexport class SolarLight extends ChartTheme {\n    getPalette() {\n        return palette;\n    }\n}\n","import { DarkTheme } from './darkTheme.mjs';\nconst palette = {\n    fills: [\n        '#febe76',\n        '#ff7979',\n        '#badc58',\n        '#f9ca23',\n        '#f0932b',\n        '#eb4c4b',\n        '#6ab04c',\n        '#7ed6df',\n        '#e056fd',\n        '#686de0',\n    ],\n    strokes: [\n        '#b28553',\n        '#b35555',\n        '#829a3e',\n        '#ae8d19',\n        '#a8671e',\n        '#a43535',\n        '#4a7b35',\n        '#58969c',\n        '#9d3cb1',\n        '#494c9d',\n    ],\n};\nexport class SolarDark extends DarkTheme {\n    getPalette() {\n        return palette;\n    }\n}\n","import { ChartTheme } from './chartTheme.mjs';\nconst palette = {\n    fills: ['#5BC0EB', '#FDE74C', '#9BC53D', '#E55934', '#FA7921', '#fa3081'],\n    strokes: ['#4086a4', '#b1a235', '#6c8a2b', '#a03e24', '#af5517', '#af225a'],\n};\nexport class VividLight extends ChartTheme {\n    getPalette() {\n        return palette;\n    }\n}\n","import { DarkTheme } from './darkTheme.mjs';\nconst palette = {\n    fills: ['#5BC0EB', '#FDE74C', '#9BC53D', '#E55934', '#FA7921', '#fa3081'],\n    strokes: ['#4086a4', '#b1a235', '#6c8a2b', '#a03e24', '#af5517', '#af225a'],\n};\nexport class VividDark extends DarkTheme {\n    getPalette() {\n        return palette;\n    }\n}\n","import { ChartTheme } from '../themes/chartTheme.mjs';\nimport { DarkTheme } from '../themes/darkTheme.mjs';\nimport { MaterialLight } from '../themes/materialLight.mjs';\nimport { MaterialDark } from '../themes/materialDark.mjs';\nimport { PastelLight } from '../themes/pastelLight.mjs';\nimport { PastelDark } from '../themes/pastelDark.mjs';\nimport { SolarLight } from '../themes/solarLight.mjs';\nimport { SolarDark } from '../themes/solarDark.mjs';\nimport { VividLight } from '../themes/vividLight.mjs';\nimport { VividDark } from '../themes/vividDark.mjs';\nimport { jsonMerge } from '../../util/json.mjs';\nconst lightTheme = () => new ChartTheme();\nconst darkTheme = () => new DarkTheme();\nconst lightThemes = {\n    undefined: lightTheme,\n    null: lightTheme,\n    'ag-default': lightTheme,\n    'ag-material': () => new MaterialLight(),\n    'ag-pastel': () => new PastelLight(),\n    'ag-solar': () => new SolarLight(),\n    'ag-vivid': () => new VividLight(),\n};\nconst darkThemes = {\n    undefined: darkTheme,\n    null: darkTheme,\n    'ag-default-dark': darkTheme,\n    'ag-material-dark': () => new MaterialDark(),\n    'ag-pastel-dark': () => new PastelDark(),\n    'ag-solar-dark': () => new SolarDark(),\n    'ag-vivid-dark': () => new VividDark(),\n};\nexport const themes = Object.assign(Object.assign({}, darkThemes), lightThemes);\nexport function getChartTheme(value) {\n    var _a;\n    if (value instanceof ChartTheme) {\n        return value;\n    }\n    const stockTheme = themes[value];\n    if (stockTheme) {\n        return stockTheme();\n    }\n    value = value;\n    // Flatten recursive themes.\n    const overrides = [];\n    let palette;\n    while (typeof value === 'object') {\n        overrides.push((_a = value.overrides) !== null && _a !== void 0 ? _a : {});\n        // Use first palette found, they can't be merged.\n        if (value.palette && palette == null) {\n            palette = value.palette;\n        }\n        value = value.baseTheme;\n    }\n    overrides.reverse();\n    const flattenedTheme = Object.assign({ baseTheme: value, overrides: jsonMerge(overrides) }, (palette ? { palette } : {}));\n    if (flattenedTheme.baseTheme || flattenedTheme.overrides) {\n        const baseTheme = getChartTheme(flattenedTheme.baseTheme);\n        return new baseTheme.constructor(flattenedTheme);\n    }\n    return lightTheme();\n}\n","import { Logger } from '../../util/logger.mjs';\n/**\n * Groups the series options objects if they are of type `column` or `bar` and places them in an array at the index where the first instance of this series type was found.\n * Returns an array of arrays containing the ordered and grouped series options objects.\n */\nexport function groupSeriesByType(seriesOptions) {\n    var _a;\n    const indexMap = {};\n    const result = [];\n    for (const s of seriesOptions) {\n        if (s.type !== 'column' && s.type !== 'bar' && (s.type !== 'area' || s.stacked !== true)) {\n            // No need to use index for these cases.\n            result.push([s]);\n            continue;\n        }\n        const seriesType = (_a = s.type) !== null && _a !== void 0 ? _a : 'line';\n        const groupingKey = s.stacked ? 'stacked' : 'grouped';\n        const indexKey = `${seriesType}-${s.xKey}-${groupingKey}`;\n        if (indexMap[indexKey] == null) {\n            // Add indexed array to result on first addition.\n            indexMap[indexKey] = [];\n            result.push(indexMap[indexKey]);\n        }\n        indexMap[indexKey].push(s);\n    }\n    return result;\n}\nconst FAIL = Symbol();\nconst SKIP = Symbol();\nconst ARRAY_REDUCER = (prop) => (result, next) => {\n    var _a;\n    return result.concat(...((_a = next[prop]) !== null && _a !== void 0 ? _a : []));\n};\nconst BOOLEAN_OR_REDUCER = (prop, defaultValue) => (result, next) => {\n    if (typeof next[prop] === 'boolean') {\n        return (result !== null && result !== void 0 ? result : false) || next[prop];\n    }\n    return result !== null && result !== void 0 ? result : defaultValue;\n};\nconst DEFAULTING_ARRAY_REDUCER = (prop, defaultValue) => (result, next, idx, length) => {\n    var _a;\n    const sparse = defaultValue === SKIP || defaultValue === FAIL;\n    const nextValue = (_a = next[prop]) !== null && _a !== void 0 ? _a : defaultValue;\n    if (nextValue === FAIL) {\n        throw new Error(`AG Charts - missing value for property [${prop}] on series config.`);\n    }\n    else if (nextValue === SKIP) {\n        return result;\n    }\n    if (result.length === 0 && !sparse) {\n        // Pre-populate values on first invocation as we will only be invoked for series with a\n        // value specified.\n        while (result.length < length) {\n            result = result.concat(defaultValue);\n        }\n    }\n    if (!sparse) {\n        result[idx] = nextValue;\n        return result;\n    }\n    return result.concat(nextValue);\n};\nconst YKEYS_REDUCER = (prop, activationValue) => (result, next) => {\n    if (next[prop] === activationValue) {\n        return result.concat(...(next.yKey ? [next.yKey] : next.yKeys));\n    }\n    return result;\n};\nconst STACK_GROUPS_REDUCER = () => (result, next) => {\n    return Object.assign(Object.assign({}, result), { [next.stackGroup]: [...(result[next.stackGroup] || []), next.yKey] });\n};\nconst REDUCE_CONFIG = {\n    hideInChart: { outputProp: 'hideInChart', reducer: ARRAY_REDUCER('hideInChart'), start: [] },\n    hideInLegend: { outputProp: 'hideInLegend', reducer: ARRAY_REDUCER('hideInLegend'), start: [] },\n    yKey: { outputProp: 'yKeys', reducer: DEFAULTING_ARRAY_REDUCER('yKey', SKIP), start: [] },\n    fill: { outputProp: 'fills', reducer: DEFAULTING_ARRAY_REDUCER('fill', SKIP), start: [] },\n    stroke: { outputProp: 'strokes', reducer: DEFAULTING_ARRAY_REDUCER('stroke', SKIP), start: [] },\n    yName: { outputProp: 'yNames', reducer: DEFAULTING_ARRAY_REDUCER('yName', SKIP), start: [] },\n    visible: { outputProp: 'visibles', reducer: DEFAULTING_ARRAY_REDUCER('visible', true), start: [] },\n    legendItemName: {\n        outputProp: 'legendItemNames',\n        reducer: DEFAULTING_ARRAY_REDUCER('legendItemName', SKIP),\n        start: [],\n    },\n    grouped: {\n        outputProp: 'grouped',\n        reducer: BOOLEAN_OR_REDUCER('grouped'),\n        seriesType: ['bar', 'column'],\n        start: undefined,\n    },\n    showInLegend: {\n        outputProp: 'hideInLegend',\n        reducer: YKEYS_REDUCER('showInLegend', false),\n        seriesType: ['bar', 'column'],\n        start: [],\n    },\n    stackGroup: {\n        outputProp: 'stackGroups',\n        reducer: STACK_GROUPS_REDUCER(),\n        seriesType: ['bar', 'column'],\n        start: {},\n    },\n};\n/**\n * Takes an array of bar or area series options objects and returns a single object with the combined area series options.\n */\nexport function reduceSeries(series) {\n    const options = {};\n    series.forEach((s, idx) => {\n        Object.keys(s).forEach((prop) => {\n            var _a;\n            const reducerConfig = REDUCE_CONFIG[prop];\n            const defaultReduce = () => {\n                var _a, _b;\n                options[prop] = (_b = (_a = s[prop]) !== null && _a !== void 0 ? _a : options[prop]) !== null && _b !== void 0 ? _b : undefined;\n            };\n            if (!reducerConfig) {\n                defaultReduce();\n                return;\n            }\n            const { outputProp, reducer, start = undefined, seriesType = [s.type] } = reducerConfig;\n            if (!seriesType.includes(s.type)) {\n                defaultReduce();\n                return;\n            }\n            const result = reducer((_a = options[outputProp]) !== null && _a !== void 0 ? _a : start, s, idx, series.length);\n            if (result !== undefined) {\n                options[outputProp] = result;\n            }\n        });\n    });\n    return options;\n}\n/**\n * Transforms provided series options array into an array containing series options which are compatible with standalone charts series options.\n */\nexport function processSeriesOptions(seriesOptions) {\n    const result = [];\n    const preprocessed = seriesOptions.map((series) => {\n        var _a;\n        // Change the default for bar/columns when yKey is used to be grouped rather than stacked.\n        if ((series.type === 'bar' || series.type === 'column') && series.yKey != null && !series.stacked) {\n            return Object.assign(Object.assign({}, series), { grouped: (_a = series.grouped) !== null && _a !== void 0 ? _a : true });\n        }\n        return series;\n    });\n    for (const series of groupSeriesByType(preprocessed)) {\n        switch (series[0].type) {\n            case 'column':\n            case 'bar':\n            case 'area':\n                result.push(reduceSeries(series));\n                break;\n            case 'line':\n            default:\n                if (series.length > 1) {\n                    Logger.warn('unexpected grouping of series type: ' + series[0].type);\n                }\n                result.push(series[0]);\n                break;\n        }\n    }\n    return result;\n}\n","import { DEFAULT_CARTESIAN_CHART_OVERRIDES, DEFAULT_BAR_CHART_OVERRIDES, DEFAULT_SCATTER_HISTOGRAM_CHART_OVERRIDES, } from './defaults.mjs';\nimport { jsonMerge, DELETE, jsonWalk } from '../../util/json.mjs';\nimport { applySeriesTransform } from './transforms.mjs';\nimport { getChartTheme } from './themes.mjs';\nimport { processSeriesOptions } from './prepareSeries.mjs';\nimport { Logger } from '../../util/logger.mjs';\nimport { CHART_TYPES } from '../factory/chartTypes.mjs';\nimport { CHART_AXES_TYPES } from '../chartAxesTypes.mjs';\nimport { getSeriesDefaults } from '../factory/seriesTypes.mjs';\nexport function optionsType(input) {\n    var _a, _b, _c, _d;\n    return (_d = (_a = input.type) !== null && _a !== void 0 ? _a : (_c = (_b = input.series) === null || _b === void 0 ? void 0 : _b[0]) === null || _c === void 0 ? void 0 : _c.type) !== null && _d !== void 0 ? _d : 'line';\n}\nexport function isAgCartesianChartOptions(input) {\n    const specifiedType = optionsType(input);\n    if (specifiedType == null) {\n        return true;\n    }\n    if (specifiedType === 'cartesian') {\n        Logger.warnOnce(`type '${specifiedType}' is deprecated, use a series type instead`);\n        return true;\n    }\n    return CHART_TYPES.isCartesian(specifiedType);\n}\nexport function isAgHierarchyChartOptions(input) {\n    const specifiedType = optionsType(input);\n    if (specifiedType == null) {\n        return false;\n    }\n    if (specifiedType === 'hierarchy') {\n        Logger.warnOnce(`type '${specifiedType}' is deprecated, use a series type instead`);\n        return true;\n    }\n    return CHART_TYPES.isHierarchy(specifiedType);\n}\nexport function isAgPolarChartOptions(input) {\n    const specifiedType = optionsType(input);\n    if (specifiedType == null) {\n        return false;\n    }\n    if (specifiedType === 'polar') {\n        Logger.warnOnce(`type '${specifiedType}' is deprecated, use a series type instead`);\n        return true;\n    }\n    return CHART_TYPES.isPolar(specifiedType);\n}\nfunction isSeriesOptionType(input) {\n    if (input == null) {\n        return false;\n    }\n    return CHART_TYPES.has(input);\n}\nfunction isAxisOptionType(input) {\n    if (input == null) {\n        return false;\n    }\n    return CHART_AXES_TYPES.has(input);\n}\nfunction countArrayElements(input) {\n    let count = 0;\n    for (const next of input) {\n        if (next instanceof Array) {\n            count += countArrayElements(next);\n        }\n        if (next != null) {\n            count++;\n        }\n    }\n    return count;\n}\nfunction takeColours(context, colours, maxCount) {\n    const result = [];\n    for (let count = 0; count < maxCount; count++) {\n        result.push(colours[(count + context.colourIndex) % colours.length]);\n    }\n    return result;\n}\nexport const noDataCloneMergeOptions = {\n    avoidDeepClone: ['data'],\n};\nexport function prepareOptions(newOptions, fallbackOptions) {\n    var _a, _b, _c, _d, _e, _f;\n    let options = jsonMerge([fallbackOptions, newOptions], noDataCloneMergeOptions);\n    sanityCheckOptions(options);\n    // Determine type and ensure it's explicit in the options config.\n    const userSuppliedOptionsType = options.type;\n    const type = optionsType(options);\n    const globalTooltipPositionOptions = (_b = (_a = options.tooltip) === null || _a === void 0 ? void 0 : _a.position) !== null && _b !== void 0 ? _b : {};\n    const checkSeriesType = (type) => {\n        if (type != null && !(isSeriesOptionType(type) || getSeriesDefaults(type))) {\n            throw new Error(`AG Charts - unknown series type: ${type}; expected one of: ${CHART_TYPES.seriesTypes}`);\n        }\n    };\n    checkSeriesType(type);\n    for (const { type: seriesType } of (_c = options.series) !== null && _c !== void 0 ? _c : []) {\n        if (seriesType == null)\n            continue;\n        checkSeriesType(seriesType);\n    }\n    options = Object.assign(Object.assign({}, options), { type });\n    let defaultSeriesType = 'line';\n    if (isAgCartesianChartOptions(options)) {\n        defaultSeriesType = 'line';\n    }\n    else if (isAgHierarchyChartOptions(options)) {\n        defaultSeriesType = 'treemap';\n    }\n    else if (isAgPolarChartOptions(options)) {\n        defaultSeriesType = 'pie';\n    }\n    let defaultOverrides = {};\n    const seriesDefaults = getSeriesDefaults(type);\n    if (seriesDefaults) {\n        defaultOverrides = seriesDefaults;\n    }\n    else if (type === 'bar') {\n        defaultOverrides = DEFAULT_BAR_CHART_OVERRIDES;\n    }\n    else if (type === 'scatter' || type === 'histogram') {\n        defaultOverrides = DEFAULT_SCATTER_HISTOGRAM_CHART_OVERRIDES;\n    }\n    else if (isAgCartesianChartOptions(options)) {\n        defaultOverrides = DEFAULT_CARTESIAN_CHART_OVERRIDES;\n    }\n    removeDisabledOptions(options);\n    const { context, mergedOptions, axesThemes, seriesThemes } = prepareMainOptions(defaultOverrides, options);\n    // Special cases where we have arrays of elements which need their own defaults.\n    // Apply series themes before calling processSeriesOptions() as it reduces and renames some\n    // properties, and in that case then cannot correctly have themes applied.\n    mergedOptions.series = processSeriesOptions(((_d = mergedOptions.series) !== null && _d !== void 0 ? _d : []).map((s) => {\n        let type = defaultSeriesType;\n        if (s.type) {\n            type = s.type;\n        }\n        else if (isSeriesOptionType(userSuppliedOptionsType)) {\n            type = userSuppliedOptionsType;\n        }\n        const mergedSeries = mergeSeriesOptions(s, type, seriesThemes, globalTooltipPositionOptions);\n        if (type === 'pie') {\n            preparePieOptions(seriesThemes.pie, s, mergedSeries);\n        }\n        return mergedSeries;\n    })).map((s) => prepareSeries(context, s));\n    const checkAxisType = (type) => {\n        const isAxisType = isAxisOptionType(type);\n        if (!isAxisType) {\n            Logger.warnOnce(`AG Charts - unknown axis type: ${type}; expected one of: ${CHART_AXES_TYPES.axesTypes}, ignoring.`);\n        }\n        return isAxisType;\n    };\n    if (isAgCartesianChartOptions(mergedOptions)) {\n        let validAxesTypes = true;\n        for (const { type: axisType } of (_e = mergedOptions.axes) !== null && _e !== void 0 ? _e : []) {\n            if (!checkAxisType(axisType)) {\n                validAxesTypes = false;\n            }\n        }\n        if (!validAxesTypes) {\n            mergedOptions.axes = defaultOverrides.axes;\n        }\n        else {\n            mergedOptions.axes = (_f = mergedOptions.axes) === null || _f === void 0 ? void 0 : _f.map((axis) => {\n                var _a, _b;\n                const axisType = axis.type;\n                const axesTheme = jsonMerge([\n                    axesThemes[axisType],\n                    (_b = axesThemes[axisType][(_a = axis.position) !== null && _a !== void 0 ? _a : 'unknown']) !== null && _b !== void 0 ? _b : {},\n                ]);\n                return prepareAxis(axis, axesTheme);\n            });\n        }\n        prepareLegendEnabledOption(options, mergedOptions);\n    }\n    prepareEnabledOptions(options, mergedOptions);\n    return mergedOptions;\n}\nfunction sanityCheckOptions(options) {\n    const deprecatedArrayProps = {\n        yKeys: 'yKey',\n        yNames: 'yName',\n    };\n    Object.entries(deprecatedArrayProps).forEach(([oldProp, newProp]) => {\n        var _a;\n        if ((_a = options.series) === null || _a === void 0 ? void 0 : _a.some((s) => s[oldProp] != null)) {\n            Logger.warnOnce(`property [series.${oldProp}] is deprecated, please use [series.${newProp}] and multiple series instead.`);\n        }\n    });\n}\nfunction mergeSeriesOptions(series, type, seriesThemes, globalTooltipPositionOptions) {\n    var _a, _b;\n    const mergedTooltipPosition = jsonMerge([Object.assign({}, globalTooltipPositionOptions), (_a = series.tooltip) === null || _a === void 0 ? void 0 : _a.position], noDataCloneMergeOptions);\n    const mergedSeries = jsonMerge([\n        (_b = seriesThemes[type]) !== null && _b !== void 0 ? _b : {},\n        Object.assign(Object.assign({}, series), { type, tooltip: Object.assign(Object.assign({}, series.tooltip), { position: mergedTooltipPosition }) }),\n    ], noDataCloneMergeOptions);\n    return mergedSeries;\n}\nfunction prepareMainOptions(defaultOverrides, options) {\n    const { theme, cleanedTheme, axesThemes, seriesThemes } = prepareTheme(options);\n    const context = { colourIndex: 0, palette: theme.palette };\n    const mergedOptions = jsonMerge([defaultOverrides, cleanedTheme, options], noDataCloneMergeOptions);\n    return { context, mergedOptions, axesThemes, seriesThemes };\n}\nfunction prepareTheme(options) {\n    var _a, _b;\n    const theme = getChartTheme(options.theme);\n    const themeConfig = theme.config[(_a = optionsType(options)) !== null && _a !== void 0 ? _a : 'cartesian'];\n    const seriesThemes = Object.entries(theme.config).reduce((result, [seriesType, { series }]) => {\n        result[seriesType] = series === null || series === void 0 ? void 0 : series[seriesType];\n        return result;\n    }, {});\n    return {\n        theme,\n        axesThemes: (_b = themeConfig['axes']) !== null && _b !== void 0 ? _b : {},\n        seriesThemes: seriesThemes,\n        cleanedTheme: jsonMerge([themeConfig, { axes: DELETE, series: DELETE }]),\n    };\n}\nfunction prepareSeries(context, input, ...defaults) {\n    const paletteOptions = calculateSeriesPalette(context, input);\n    // Part of the options interface, but not directly consumed by the series implementations.\n    const removeOptions = { stacked: DELETE };\n    const mergedResult = jsonMerge([...defaults, paletteOptions, input, removeOptions], noDataCloneMergeOptions);\n    return applySeriesTransform(mergedResult);\n}\nfunction calculateSeriesPalette(context, input) {\n    var _a;\n    const paletteOptions = {};\n    const { palette: { fills, strokes }, } = context;\n    const inputAny = input;\n    let colourCount = countArrayElements((_a = inputAny['yKeys']) !== null && _a !== void 0 ? _a : []) || 1; // Defaults to 1 if no yKeys.\n    switch (input.type) {\n        case 'pie':\n            colourCount = Math.max(fills.length, strokes.length);\n        // eslint-disable-next-line no-fallthrough\n        case 'area':\n        case 'bar':\n        case 'column':\n            paletteOptions.fills = takeColours(context, fills, colourCount);\n            paletteOptions.strokes = takeColours(context, strokes, colourCount);\n            break;\n        case 'histogram':\n            paletteOptions.fill = takeColours(context, fills, 1)[0];\n            paletteOptions.stroke = takeColours(context, strokes, 1)[0];\n            break;\n        case 'scatter':\n            paletteOptions.marker = {\n                stroke: takeColours(context, strokes, 1)[0],\n                fill: takeColours(context, fills, 1)[0],\n            };\n            break;\n        case 'line':\n            paletteOptions.stroke = takeColours(context, fills, 1)[0];\n            paletteOptions.marker = {\n                stroke: takeColours(context, strokes, 1)[0],\n                fill: takeColours(context, fills, 1)[0],\n            };\n            break;\n    }\n    context.colourIndex += colourCount;\n    return paletteOptions;\n}\nfunction prepareAxis(axis, axisTheme) {\n    // Remove redundant theme overload keys.\n    const removeOptions = { top: DELETE, bottom: DELETE, left: DELETE, right: DELETE };\n    // Special cross lines case where we have an array of cross line elements which need their own defaults.\n    if (axis.crossLines) {\n        if (!Array.isArray(axis.crossLines)) {\n            Logger.warn('axis[].crossLines should be an array.');\n            axis.crossLines = [];\n        }\n        const { crossLines: crossLinesTheme } = axisTheme;\n        axis.crossLines = axis.crossLines.map((crossLine) => jsonMerge([crossLinesTheme, crossLine]));\n    }\n    const cleanTheme = { crossLines: DELETE };\n    return jsonMerge([axisTheme, cleanTheme, axis, removeOptions], noDataCloneMergeOptions);\n}\nfunction removeDisabledOptions(options) {\n    // Remove configurations from all option objects with a `false` value for the `enabled` property.\n    jsonWalk(options, (_, visitingUserOpts) => {\n        if (!('enabled' in visitingUserOpts))\n            return;\n        if (visitingUserOpts.enabled === false) {\n            Object.entries(visitingUserOpts).forEach(([key]) => {\n                if (key === 'enabled')\n                    return;\n                delete visitingUserOpts[key];\n            });\n        }\n    }, { skip: ['data', 'theme'] });\n}\nfunction prepareLegendEnabledOption(options, mergedOptions) {\n    var _a, _b, _c, _d;\n    // Disable legend by default for single series cartesian charts\n    if (((_a = options.legend) === null || _a === void 0 ? void 0 : _a.enabled) !== undefined || ((_b = mergedOptions.legend) === null || _b === void 0 ? void 0 : _b.enabled) !== undefined) {\n        return;\n    }\n    (_c = mergedOptions.legend) !== null && _c !== void 0 ? _c : (mergedOptions.legend = {});\n    if (((_d = options.series) !== null && _d !== void 0 ? _d : []).length > 1) {\n        mergedOptions.legend.enabled = true;\n        return;\n    }\n    mergedOptions.legend.enabled = false;\n}\nfunction prepareEnabledOptions(options, mergedOptions) {\n    // Set `enabled: true` for all option objects where the user has provided values.\n    jsonWalk(options, (_, visitingUserOpts, visitingMergedOpts) => {\n        if (!visitingMergedOpts)\n            return;\n        const { _enabledFromTheme } = visitingMergedOpts;\n        if (_enabledFromTheme != null) {\n            // Do not apply special handling, base enablement on theme.\n            delete visitingMergedOpts._enabledFromTheme;\n        }\n        if (!('enabled' in visitingMergedOpts))\n            return;\n        if (_enabledFromTheme)\n            return;\n        if (visitingUserOpts.enabled == null) {\n            visitingMergedOpts.enabled = true;\n        }\n    }, { skip: ['data', 'theme'] }, mergedOptions);\n    // Cleanup any special properties.\n    jsonWalk(mergedOptions, (_, visitingMergedOpts) => {\n        if (visitingMergedOpts._enabledFromTheme != null) {\n            // Do not apply special handling, base enablement on theme.\n            delete visitingMergedOpts._enabledFromTheme;\n        }\n    }, { skip: ['data', 'theme'] });\n}\nfunction preparePieOptions(pieSeriesTheme, seriesOptions, mergedSeries) {\n    if (Array.isArray(seriesOptions.innerLabels)) {\n        mergedSeries.innerLabels = seriesOptions.innerLabels.map((ln) => {\n            return jsonMerge([pieSeriesTheme.innerLabels, ln]);\n        });\n    }\n    else {\n        mergedSeries.innerLabels = DELETE;\n    }\n}\n","const horizontalCrosslineTranslationDirections = {\n    top: { xTranslationDirection: 0, yTranslationDirection: -1 },\n    bottom: { xTranslationDirection: 0, yTranslationDirection: 1 },\n    left: { xTranslationDirection: -1, yTranslationDirection: 0 },\n    right: { xTranslationDirection: 1, yTranslationDirection: 0 },\n    topLeft: { xTranslationDirection: 1, yTranslationDirection: -1 },\n    topRight: { xTranslationDirection: -1, yTranslationDirection: -1 },\n    bottomLeft: { xTranslationDirection: 1, yTranslationDirection: 1 },\n    bottomRight: { xTranslationDirection: -1, yTranslationDirection: 1 },\n    inside: { xTranslationDirection: 0, yTranslationDirection: 0 },\n    insideLeft: { xTranslationDirection: 1, yTranslationDirection: 0 },\n    insideRight: { xTranslationDirection: -1, yTranslationDirection: 0 },\n    insideTop: { xTranslationDirection: 0, yTranslationDirection: 1 },\n    insideBottom: { xTranslationDirection: 0, yTranslationDirection: -1 },\n    insideTopLeft: { xTranslationDirection: 1, yTranslationDirection: 1 },\n    insideBottomLeft: { xTranslationDirection: 1, yTranslationDirection: -1 },\n    insideTopRight: { xTranslationDirection: -1, yTranslationDirection: 1 },\n    insideBottomRight: { xTranslationDirection: -1, yTranslationDirection: -1 },\n};\nconst verticalCrossLineTranslationDirections = {\n    top: { xTranslationDirection: 1, yTranslationDirection: 0 },\n    bottom: { xTranslationDirection: -1, yTranslationDirection: 0 },\n    left: { xTranslationDirection: 0, yTranslationDirection: -1 },\n    right: { xTranslationDirection: 0, yTranslationDirection: 1 },\n    topLeft: { xTranslationDirection: -1, yTranslationDirection: -1 },\n    topRight: { xTranslationDirection: -1, yTranslationDirection: 1 },\n    bottomLeft: { xTranslationDirection: 1, yTranslationDirection: -1 },\n    bottomRight: { xTranslationDirection: 1, yTranslationDirection: 1 },\n    inside: { xTranslationDirection: 0, yTranslationDirection: 0 },\n    insideLeft: { xTranslationDirection: 0, yTranslationDirection: 1 },\n    insideRight: { xTranslationDirection: 0, yTranslationDirection: -1 },\n    insideTop: { xTranslationDirection: -1, yTranslationDirection: 0 },\n    insideBottom: { xTranslationDirection: 1, yTranslationDirection: 0 },\n    insideTopLeft: { xTranslationDirection: -1, yTranslationDirection: 1 },\n    insideBottomLeft: { xTranslationDirection: 1, yTranslationDirection: 1 },\n    insideTopRight: { xTranslationDirection: -1, yTranslationDirection: -1 },\n    insideBottomRight: { xTranslationDirection: 1, yTranslationDirection: -1 },\n};\nexport function calculateLabelTranslation({ yDirection, padding = 0, position = 'top', bbox, }) {\n    const crossLineTranslationDirections = yDirection\n        ? horizontalCrosslineTranslationDirections\n        : verticalCrossLineTranslationDirections;\n    const { xTranslationDirection, yTranslationDirection } = crossLineTranslationDirections[position];\n    const w = yDirection ? bbox.width : bbox.height;\n    const h = yDirection ? bbox.height : bbox.width;\n    const xTranslation = xTranslationDirection * (padding + w / 2);\n    const yTranslation = yTranslationDirection * (padding + h / 2);\n    const result = {\n        xTranslation,\n        yTranslation,\n    };\n    return result;\n}\nexport function calculateLabelChartPadding({ yDirection, bbox, padding = 0, position = 'top', }) {\n    const chartPadding = {};\n    if (position.startsWith('inside'))\n        return chartPadding;\n    if (position === 'top' && !yDirection) {\n        chartPadding.top = padding + bbox.height;\n    }\n    else if (position === 'bottom' && !yDirection) {\n        chartPadding.bottom = padding + bbox.height;\n    }\n    else if (position === 'left' && yDirection) {\n        chartPadding.left = padding + bbox.width;\n    }\n    else if (position === 'right' && yDirection) {\n        chartPadding.right = padding + bbox.width;\n    }\n    return chartPadding;\n}\nexport const POSITION_TOP_COORDINATES = ({ yDirection, xEnd, yStart, yEnd }) => {\n    if (yDirection) {\n        return { x: xEnd / 2, y: yStart };\n    }\n    else {\n        return { x: xEnd, y: !isNaN(yEnd) ? (yStart + yEnd) / 2 : yStart };\n    }\n};\nconst POSITION_LEFT_COORDINATES = ({ yDirection, xStart, xEnd, yStart, yEnd }) => {\n    if (yDirection) {\n        return { x: xStart, y: !isNaN(yEnd) ? (yStart + yEnd) / 2 : yStart };\n    }\n    else {\n        return { x: xEnd / 2, y: yStart };\n    }\n};\nconst POSITION_RIGHT_COORDINATES = ({ yDirection, xEnd, yStart, yEnd }) => {\n    if (yDirection) {\n        return { x: xEnd, y: !isNaN(yEnd) ? (yStart + yEnd) / 2 : yStart };\n    }\n    else {\n        return { x: xEnd / 2, y: !isNaN(yEnd) ? yEnd : yStart };\n    }\n};\nconst POSITION_BOTTOM_COORDINATES = ({ yDirection, xStart, xEnd, yStart, yEnd }) => {\n    if (yDirection) {\n        return { x: xEnd / 2, y: !isNaN(yEnd) ? yEnd : yStart };\n    }\n    else {\n        return { x: xStart, y: !isNaN(yEnd) ? (yStart + yEnd) / 2 : yStart };\n    }\n};\nconst POSITION_INSIDE_COORDINATES = ({ xEnd, yStart, yEnd }) => {\n    return { x: xEnd / 2, y: !isNaN(yEnd) ? (yStart + yEnd) / 2 : yStart };\n};\nconst POSITION_TOP_LEFT_COORDINATES = ({ yDirection, xStart, xEnd, yStart }) => {\n    if (yDirection) {\n        return { x: xStart / 2, y: yStart };\n    }\n    else {\n        return { x: xEnd, y: yStart };\n    }\n};\nconst POSITION_BOTTOM_LEFT_COORDINATES = ({ yDirection, xStart, yStart, yEnd }) => {\n    if (yDirection) {\n        return { x: xStart, y: !isNaN(yEnd) ? yEnd : yStart };\n    }\n    else {\n        return { x: xStart, y: yStart };\n    }\n};\nconst POSITION_TOP_RIGHT_COORDINATES = ({ yDirection, xEnd, yStart, yEnd }) => {\n    if (yDirection) {\n        return { x: xEnd, y: yStart };\n    }\n    else {\n        return { x: xEnd, y: !isNaN(yEnd) ? yEnd : yStart };\n    }\n};\nconst POSITION_BOTTOM_RIGHT_COORDINATES = ({ yDirection, xStart, xEnd, yStart, yEnd }) => {\n    if (yDirection) {\n        return { x: xEnd, y: !isNaN(yEnd) ? yEnd : yStart };\n    }\n    else {\n        return { x: xStart, y: !isNaN(yEnd) ? yEnd : yStart };\n    }\n};\nexport const labeldDirectionHandling = {\n    top: { c: POSITION_TOP_COORDINATES },\n    bottom: { c: POSITION_BOTTOM_COORDINATES },\n    left: { c: POSITION_LEFT_COORDINATES },\n    right: { c: POSITION_RIGHT_COORDINATES },\n    topLeft: { c: POSITION_TOP_LEFT_COORDINATES },\n    topRight: { c: POSITION_TOP_RIGHT_COORDINATES },\n    bottomLeft: { c: POSITION_BOTTOM_LEFT_COORDINATES },\n    bottomRight: { c: POSITION_BOTTOM_RIGHT_COORDINATES },\n    inside: { c: POSITION_INSIDE_COORDINATES },\n    insideLeft: { c: POSITION_LEFT_COORDINATES },\n    insideRight: { c: POSITION_RIGHT_COORDINATES },\n    insideTop: { c: POSITION_TOP_COORDINATES },\n    insideBottom: { c: POSITION_BOTTOM_COORDINATES },\n    insideTopLeft: { c: POSITION_TOP_LEFT_COORDINATES },\n    insideBottomLeft: { c: POSITION_BOTTOM_LEFT_COORDINATES },\n    insideTopRight: { c: POSITION_TOP_RIGHT_COORDINATES },\n    insideBottomRight: { c: POSITION_BOTTOM_RIGHT_COORDINATES },\n};\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Shape } from './shape.mjs';\nimport { BBox } from '../bbox.mjs';\nimport { RedrawType, SceneChangeDetection } from '../node.mjs';\nexport class Range extends Shape {\n    constructor() {\n        super();\n        this.x1 = 0;\n        this.y1 = 0;\n        this.x2 = 0;\n        this.y2 = 0;\n        this.startLine = false;\n        this.endLine = false;\n        this.isRange = false;\n        this.restoreOwnStyles();\n    }\n    computeBBox() {\n        return new BBox(this.x1, this.y1, this.x2 - this.x1, this.y2 - this.y1);\n    }\n    isPointInPath(_x, _y) {\n        return false;\n    }\n    render(renderCtx) {\n        var _a;\n        const { ctx, forceRender, stats } = renderCtx;\n        if (this.dirty === RedrawType.NONE && !forceRender) {\n            if (stats)\n                stats.nodesSkipped += this.nodeCount.count;\n            return;\n        }\n        this.computeTransformMatrix();\n        this.matrix.toContext(ctx);\n        let { x1, y1, x2, y2 } = this;\n        x1 = this.align(x1);\n        y1 = this.align(y1);\n        x2 = this.align(x2);\n        y2 = this.align(y2);\n        const { fill, opacity, isRange } = this;\n        const fillActive = !!(isRange && fill);\n        if (fillActive) {\n            const { fillOpacity } = this;\n            ctx.fillStyle = fill;\n            ctx.globalAlpha = opacity * fillOpacity;\n            ctx.beginPath();\n            ctx.moveTo(x1, y1);\n            ctx.lineTo(x2, y1);\n            ctx.lineTo(x2, y2);\n            ctx.lineTo(x1, y2);\n            ctx.closePath();\n            ctx.fill();\n        }\n        const { stroke, strokeWidth, startLine, endLine } = this;\n        const strokeActive = !!((startLine || endLine) && stroke && strokeWidth);\n        if (strokeActive) {\n            const { strokeOpacity, lineDash, lineDashOffset, lineCap, lineJoin } = this;\n            ctx.strokeStyle = stroke;\n            ctx.globalAlpha = opacity * strokeOpacity;\n            ctx.lineWidth = strokeWidth;\n            if (lineDash) {\n                ctx.setLineDash(lineDash);\n            }\n            if (lineDashOffset) {\n                ctx.lineDashOffset = lineDashOffset;\n            }\n            if (lineCap) {\n                ctx.lineCap = lineCap;\n            }\n            if (lineJoin) {\n                ctx.lineJoin = lineJoin;\n            }\n            ctx.beginPath();\n            if (startLine) {\n                ctx.moveTo(x1, y1);\n                ctx.lineTo(x2, y1);\n            }\n            if (endLine) {\n                ctx.moveTo(x2, y2);\n                ctx.lineTo(x1, y2);\n            }\n            ctx.stroke();\n        }\n        (_a = this.fillShadow) === null || _a === void 0 ? void 0 : _a.markClean();\n        super.render(renderCtx);\n    }\n}\nRange.className = 'Range';\nRange.defaultStyles = Object.assign(Object.assign({}, Shape.defaultStyles), { strokeWidth: 1 });\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MINOR })\n], Range.prototype, \"x1\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MINOR })\n], Range.prototype, \"y1\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MINOR })\n], Range.prototype, \"x2\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MINOR })\n], Range.prototype, \"y2\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MINOR })\n], Range.prototype, \"startLine\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MINOR })\n], Range.prototype, \"endLine\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MINOR })\n], Range.prototype, \"isRange\", void 0);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { PointerEvents } from '../../scene/node.mjs';\nimport { Group } from '../../scene/group.mjs';\nimport { Text } from '../../scene/shape/text.mjs';\nimport { ContinuousScale } from '../../scale/continuousScale.mjs';\nimport { createId } from '../../util/id.mjs';\nimport { ChartAxisDirection } from '../chartAxisDirection.mjs';\nimport { labeldDirectionHandling, POSITION_TOP_COORDINATES, calculateLabelTranslation, calculateLabelChartPadding, } from './crossLineLabelPosition.mjs';\nimport { checkDatum } from '../../util/value.mjs';\nimport { Layers } from '../layers.mjs';\nimport { Range } from '../../scene/shape/range.mjs';\nimport { OPT_ARRAY, OPT_BOOLEAN, OPT_NUMBER, OPT_STRING, OPT_COLOR_STRING, STRING, Validate, OPT_LINE_DASH, OPT_FONT_STYLE, OPT_FONT_WEIGHT, NUMBER, OPTIONAL, predicateWithMessage, } from '../../util/validation.mjs';\nimport { calculateLabelRotation } from '../label.mjs';\nconst CROSSLINE_LABEL_POSITIONS = [\n    'top',\n    'left',\n    'right',\n    'bottom',\n    'topLeft',\n    'topRight',\n    'bottomLeft',\n    'bottomRight',\n    'inside',\n    'insideLeft',\n    'insideRight',\n    'insideTop',\n    'insideBottom',\n    'insideTopLeft',\n    'insideBottomLeft',\n    'insideTopRight',\n    'insideBottomRight',\n];\nconst OPT_CROSSLINE_LABEL_POSITION = predicateWithMessage((v, ctx) => OPTIONAL(v, ctx, (v) => CROSSLINE_LABEL_POSITIONS.includes(v)), `expecting an optional crossLine label position keyword such as 'topLeft', 'topRight' or 'inside'`);\nconst OPT_CROSSLINE_TYPE = predicateWithMessage((v, ctx) => OPTIONAL(v, ctx, (v) => v === 'range' || v === 'line'), `expecting a crossLine type keyword such as 'range' or 'line'`);\nclass CrossLineLabel {\n    constructor() {\n        this.enabled = undefined;\n        this.text = undefined;\n        this.fontStyle = undefined;\n        this.fontWeight = undefined;\n        this.fontSize = 14;\n        this.fontFamily = 'Verdana, sans-serif';\n        /**\n         * The padding between the label and the line.\n         */\n        this.padding = 5;\n        /**\n         * The color of the labels.\n         */\n        this.color = 'rgba(87, 87, 87, 1)';\n        this.position = undefined;\n        this.rotation = undefined;\n        this.parallel = undefined;\n    }\n}\n__decorate([\n    Validate(OPT_BOOLEAN)\n], CrossLineLabel.prototype, \"enabled\", void 0);\n__decorate([\n    Validate(OPT_STRING)\n], CrossLineLabel.prototype, \"text\", void 0);\n__decorate([\n    Validate(OPT_FONT_STYLE)\n], CrossLineLabel.prototype, \"fontStyle\", void 0);\n__decorate([\n    Validate(OPT_FONT_WEIGHT)\n], CrossLineLabel.prototype, \"fontWeight\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], CrossLineLabel.prototype, \"fontSize\", void 0);\n__decorate([\n    Validate(STRING)\n], CrossLineLabel.prototype, \"fontFamily\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], CrossLineLabel.prototype, \"padding\", void 0);\n__decorate([\n    Validate(OPT_COLOR_STRING)\n], CrossLineLabel.prototype, \"color\", void 0);\n__decorate([\n    Validate(OPT_CROSSLINE_LABEL_POSITION)\n], CrossLineLabel.prototype, \"position\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(-360, 360))\n], CrossLineLabel.prototype, \"rotation\", void 0);\n__decorate([\n    Validate(OPT_BOOLEAN)\n], CrossLineLabel.prototype, \"parallel\", void 0);\nexport class CrossLine {\n    constructor() {\n        this.id = createId(this);\n        this.enabled = undefined;\n        this.type = undefined;\n        this.range = undefined;\n        this.value = undefined;\n        this.fill = undefined;\n        this.fillOpacity = undefined;\n        this.stroke = undefined;\n        this.strokeWidth = undefined;\n        this.strokeOpacity = undefined;\n        this.lineDash = undefined;\n        this.label = new CrossLineLabel();\n        this.scale = undefined;\n        this.clippedRange = [-Infinity, Infinity];\n        this.gridLength = 0;\n        this.sideFlag = -1;\n        this.parallelFlipRotation = 0;\n        this.regularFlipRotation = 0;\n        this.direction = ChartAxisDirection.X;\n        this.group = new Group({ name: `${this.id}`, layer: true, zIndex: CrossLine.LINE_LAYER_ZINDEX });\n        this.crossLineRange = new Range();\n        this.crossLineLabel = new Text();\n        this.labelPoint = undefined;\n        this.data = [];\n        this.startLine = false;\n        this.endLine = false;\n        this.isRange = false;\n        const { group, crossLineRange, crossLineLabel } = this;\n        group.append([crossLineRange, crossLineLabel]);\n        crossLineRange.pointerEvents = PointerEvents.None;\n    }\n    update(visible) {\n        if (!this.enabled) {\n            return;\n        }\n        this.group.visible = visible;\n        if (!visible) {\n            return;\n        }\n        const dataCreated = this.createNodeData();\n        if (!dataCreated) {\n            this.group.visible = false;\n            return;\n        }\n        this.updateNodes();\n        this.group.zIndex = this.getZIndex(this.isRange);\n    }\n    updateNodes() {\n        this.updateRangeNode();\n        if (this.label.enabled) {\n            this.updateLabel();\n            this.positionLabel();\n        }\n    }\n    createNodeData() {\n        var _a, _b;\n        const { scale, gridLength, sideFlag, direction, label: { position = 'top' }, clippedRange, strokeWidth = 0, } = this;\n        if (!scale) {\n            return false;\n        }\n        const bandwidth = (_a = scale.bandwidth) !== null && _a !== void 0 ? _a : 0;\n        const clippedRangeClamper = (x) => Math.max(Math.min(...clippedRange), Math.min(Math.max(...clippedRange), x));\n        const [xStart, xEnd] = [0, sideFlag * gridLength];\n        let [yStart, yEnd] = this.getRange();\n        let [clampedYStart, clampedYEnd] = [\n            Number(scale.convert(yStart, { strict: false })),\n            scale.convert(yEnd, { strict: false }) + bandwidth,\n        ];\n        clampedYStart = clippedRangeClamper(clampedYStart);\n        clampedYEnd = clippedRangeClamper(clampedYEnd);\n        [yStart, yEnd] = [Number(scale.convert(yStart)), scale.convert(yEnd) + bandwidth];\n        const validRange = !isNaN(clampedYStart) &&\n            !isNaN(clampedYEnd) &&\n            (yStart === clampedYStart || yEnd === clampedYEnd || clampedYStart !== clampedYEnd) &&\n            Math.abs(clampedYEnd - clampedYStart) > 0;\n        if (validRange) {\n            const reverse = clampedYStart !== Math.min(clampedYStart, clampedYEnd);\n            if (reverse) {\n                [clampedYStart, clampedYEnd] = [\n                    Math.min(clampedYStart, clampedYEnd),\n                    Math.max(clampedYStart, clampedYEnd),\n                ];\n                [yStart, yEnd] = [yEnd, yStart];\n            }\n        }\n        this.isRange = validRange;\n        this.startLine = !isNaN(yStart) && strokeWidth > 0 && yStart === clampedYStart;\n        this.endLine = !isNaN(yEnd) && strokeWidth > 0 && yEnd === clampedYEnd;\n        if (!validRange && !this.startLine && !this.endLine) {\n            return false;\n        }\n        this.data = [clampedYStart, clampedYEnd];\n        if (this.label.enabled) {\n            const yDirection = direction === ChartAxisDirection.Y;\n            const { c = POSITION_TOP_COORDINATES } = (_b = labeldDirectionHandling[position]) !== null && _b !== void 0 ? _b : {};\n            const { x: labelX, y: labelY } = c({ yDirection, xStart, xEnd, yStart: clampedYStart, yEnd: clampedYEnd });\n            this.labelPoint = {\n                x: labelX,\n                y: labelY,\n            };\n        }\n        return true;\n    }\n    updateRangeNode() {\n        var _a;\n        const { crossLineRange, sideFlag, gridLength, data, startLine, endLine, isRange, fill, fillOpacity, stroke, strokeWidth, lineDash, } = this;\n        crossLineRange.x1 = 0;\n        crossLineRange.x2 = sideFlag * gridLength;\n        crossLineRange.y1 = data[0];\n        crossLineRange.y2 = data[1];\n        crossLineRange.startLine = startLine;\n        crossLineRange.endLine = endLine;\n        crossLineRange.isRange = isRange;\n        crossLineRange.fill = fill;\n        crossLineRange.fillOpacity = fillOpacity !== null && fillOpacity !== void 0 ? fillOpacity : 1;\n        crossLineRange.stroke = stroke;\n        crossLineRange.strokeWidth = strokeWidth !== null && strokeWidth !== void 0 ? strokeWidth : 1;\n        crossLineRange.strokeOpacity = (_a = this.strokeOpacity) !== null && _a !== void 0 ? _a : 1;\n        crossLineRange.lineDash = lineDash;\n    }\n    updateLabel() {\n        const { crossLineLabel, label } = this;\n        if (!label.text) {\n            return;\n        }\n        crossLineLabel.fontStyle = label.fontStyle;\n        crossLineLabel.fontWeight = label.fontWeight;\n        crossLineLabel.fontSize = label.fontSize;\n        crossLineLabel.fontFamily = label.fontFamily;\n        crossLineLabel.fill = label.color;\n        crossLineLabel.text = label.text;\n    }\n    positionLabel() {\n        const { crossLineLabel, labelPoint: { x = undefined, y = undefined } = {}, label: { parallel, rotation, position = 'top', padding = 0 }, direction, parallelFlipRotation, regularFlipRotation, } = this;\n        if (x === undefined || y === undefined) {\n            return;\n        }\n        const { defaultRotation, configuredRotation } = calculateLabelRotation({\n            rotation,\n            parallel,\n            regularFlipRotation,\n            parallelFlipRotation,\n        });\n        crossLineLabel.rotation = defaultRotation + configuredRotation;\n        crossLineLabel.textBaseline = 'middle';\n        crossLineLabel.textAlign = 'center';\n        const bbox = this.computeLabelBBox();\n        if (!bbox) {\n            return;\n        }\n        const yDirection = direction === ChartAxisDirection.Y;\n        const { xTranslation, yTranslation } = calculateLabelTranslation({ yDirection, padding, position, bbox });\n        crossLineLabel.translationX = x + xTranslation;\n        crossLineLabel.translationY = y + yTranslation;\n    }\n    getZIndex(isRange = false) {\n        if (isRange) {\n            return CrossLine.RANGE_LAYER_ZINDEX;\n        }\n        return CrossLine.LINE_LAYER_ZINDEX;\n    }\n    getRange() {\n        const { value, range, scale } = this;\n        const isContinuous = scale instanceof ContinuousScale;\n        let [start, end] = range !== null && range !== void 0 ? range : [value, undefined];\n        if (!isContinuous && end === undefined) {\n            end = start;\n        }\n        start = checkDatum(start, isContinuous) != null ? start : undefined;\n        end = checkDatum(end, isContinuous) != null ? end : undefined;\n        if (isContinuous && start === end) {\n            end = undefined;\n        }\n        if (start === undefined && end !== undefined) {\n            start = end;\n            end = undefined;\n        }\n        return [start, end];\n    }\n    computeLabelBBox() {\n        return this.crossLineLabel.computeTransformedBBox();\n    }\n    calculatePadding(padding) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        const { isRange, startLine, endLine, direction, label: { padding: labelPadding = 0, position = 'top' }, } = this;\n        if (!isRange && !startLine && !endLine) {\n            return;\n        }\n        const crossLineLabelBBox = this.computeLabelBBox();\n        const labelX = crossLineLabelBBox === null || crossLineLabelBBox === void 0 ? void 0 : crossLineLabelBBox.x;\n        const labelY = crossLineLabelBBox === null || crossLineLabelBBox === void 0 ? void 0 : crossLineLabelBBox.y;\n        if (!crossLineLabelBBox || labelX == undefined || labelY == undefined) {\n            return;\n        }\n        const chartPadding = calculateLabelChartPadding({\n            yDirection: direction === ChartAxisDirection.Y,\n            padding: labelPadding,\n            position,\n            bbox: crossLineLabelBBox,\n        });\n        padding.left = Math.max((_a = padding.left) !== null && _a !== void 0 ? _a : 0, (_b = chartPadding.left) !== null && _b !== void 0 ? _b : 0);\n        padding.right = Math.max((_c = padding.right) !== null && _c !== void 0 ? _c : 0, (_d = chartPadding.right) !== null && _d !== void 0 ? _d : 0);\n        padding.top = Math.max((_e = padding.top) !== null && _e !== void 0 ? _e : 0, (_f = chartPadding.top) !== null && _f !== void 0 ? _f : 0);\n        padding.bottom = Math.max((_g = padding.bottom) !== null && _g !== void 0 ? _g : 0, (_h = chartPadding.bottom) !== null && _h !== void 0 ? _h : 0);\n    }\n}\nCrossLine.LINE_LAYER_ZINDEX = Layers.SERIES_CROSSLINE_LINE_ZINDEX;\nCrossLine.RANGE_LAYER_ZINDEX = Layers.SERIES_CROSSLINE_RANGE_ZINDEX;\nCrossLine.className = 'CrossLine';\n__decorate([\n    Validate(OPT_BOOLEAN)\n], CrossLine.prototype, \"enabled\", void 0);\n__decorate([\n    Validate(OPT_CROSSLINE_TYPE)\n], CrossLine.prototype, \"type\", void 0);\n__decorate([\n    Validate(OPT_ARRAY(2))\n], CrossLine.prototype, \"range\", void 0);\n__decorate([\n    Validate(OPT_COLOR_STRING)\n], CrossLine.prototype, \"fill\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0, 1))\n], CrossLine.prototype, \"fillOpacity\", void 0);\n__decorate([\n    Validate(OPT_COLOR_STRING)\n], CrossLine.prototype, \"stroke\", void 0);\n__decorate([\n    Validate(OPT_NUMBER())\n], CrossLine.prototype, \"strokeWidth\", void 0);\n__decorate([\n    Validate(OPT_NUMBER(0, 1))\n], CrossLine.prototype, \"strokeOpacity\", void 0);\n__decorate([\n    Validate(OPT_LINE_DASH)\n], CrossLine.prototype, \"lineDash\", void 0);\n","import { AxisTitle } from '../axis.mjs';\nimport { Caption } from '../caption.mjs';\nimport { DropShadow } from '../scene/dropShadow.mjs';\nimport { CrossLine } from './crossline/crossLine.mjs';\nimport { DoughnutInnerLabel, DoughnutInnerCircle } from './series/polar/pieSeries.mjs';\nexport const JSON_APPLY_PLUGINS = {\n    constructors: {},\n};\nconst JSON_APPLY_OPTIONS = {\n    constructors: {\n        title: Caption,\n        subtitle: Caption,\n        footnote: Caption,\n        shadow: DropShadow,\n        innerCircle: DoughnutInnerCircle,\n        'axes[].crossLines[]': CrossLine,\n        'axes[].title': AxisTitle,\n        'series[].innerLabels[]': DoughnutInnerLabel,\n    },\n    allowedTypes: {\n        'legend.pagination.marker.shape': ['primitive', 'function'],\n        'series[].marker.shape': ['primitive', 'function'],\n        'axis[].tick.count': ['primitive', 'class-instance'],\n    },\n};\nexport function getJsonApplyOptions() {\n    return {\n        constructors: Object.assign(Object.assign({}, JSON_APPLY_OPTIONS.constructors), JSON_APPLY_PLUGINS.constructors),\n        allowedTypes: Object.assign({}, JSON_APPLY_OPTIONS.allowedTypes),\n    };\n}\n","export class BaseModuleInstance {\n    constructor() {\n        this.destroyFns = [];\n    }\n    destroy() {\n        for (const destroyFn of this.destroyFns) {\n            destroyFn();\n        }\n    }\n}\nexport const REGISTERED_MODULES = [];\nexport function registerModule(module) {\n    const otherModule = REGISTERED_MODULES.find((other) => {\n        return (module.type === other.type &&\n            module.optionsKey === other.optionsKey &&\n            module.identifier === other.identifier);\n    });\n    if (otherModule) {\n        if (module.packageType === 'enterprise' && otherModule.packageType === 'community') {\n            // Replace the community module with an enterprise version\n            const index = REGISTERED_MODULES.indexOf(otherModule);\n            REGISTERED_MODULES.splice(index, 1, module);\n        }\n        else {\n            // Skip if the module is already registered\n        }\n    }\n    else {\n        // Simply register the module\n        REGISTERED_MODULES.push(module);\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Path } from '../../scene/shape/path.mjs';\nimport { BBox } from '../../scene/bbox.mjs';\nimport { LINE_CAP, NUMBER, COLOR_STRING, Validate } from '../../util/validation.mjs';\nexport class RangeHandle extends Path {\n    constructor() {\n        super(...arguments);\n        this._fill = '#f2f2f2';\n        this._stroke = '#999999';\n        this._strokeWidth = 1;\n        this._lineCap = 'square';\n        this._centerX = 0;\n        this._centerY = 0;\n        // Use an even number for better looking results.\n        this._width = 8;\n        // Use an even number for better looking results.\n        this._gripLineGap = 2;\n        // Use an even number for better looking results.\n        this._gripLineLength = 8;\n        this._height = 16;\n    }\n    set centerX(value) {\n        if (this._centerX !== value) {\n            this._centerX = value;\n            this.dirtyPath = true;\n        }\n    }\n    get centerX() {\n        return this._centerX;\n    }\n    set centerY(value) {\n        if (this._centerY !== value) {\n            this._centerY = value;\n            this.dirtyPath = true;\n        }\n    }\n    get centerY() {\n        return this._centerY;\n    }\n    set width(value) {\n        if (this._width !== value) {\n            this._width = value;\n            this.dirtyPath = true;\n        }\n    }\n    get width() {\n        return this._width;\n    }\n    set gripLineGap(value) {\n        if (this._gripLineGap !== value) {\n            this._gripLineGap = value;\n            this.dirtyPath = true;\n        }\n    }\n    get gripLineGap() {\n        return this._gripLineGap;\n    }\n    set gripLineLength(value) {\n        if (this._gripLineLength !== value) {\n            this._gripLineLength = value;\n            this.dirtyPath = true;\n        }\n    }\n    get gripLineLength() {\n        return this._gripLineLength;\n    }\n    set height(value) {\n        if (this._height !== value) {\n            this._height = value;\n            this.dirtyPath = true;\n        }\n    }\n    get height() {\n        return this._height;\n    }\n    computeBBox() {\n        const { centerX, centerY, width, height } = this;\n        const x = centerX - width / 2;\n        const y = centerY - height / 2;\n        return new BBox(x, y, width, height);\n    }\n    isPointInPath(x, y) {\n        const point = this.transformPoint(x, y);\n        const bbox = this.computeBBox();\n        return bbox.containsPoint(point.x, point.y);\n    }\n    updatePath() {\n        const { path, centerX, centerY, width, height } = this;\n        path.clear();\n        const x = centerX - width / 2;\n        const y = centerY - height / 2;\n        const ax = this.align(x);\n        const ay = this.align(y);\n        const axw = ax + this.align(x, width);\n        const ayh = ay + this.align(y, height);\n        // Handle.\n        path.moveTo(ax, ay);\n        path.lineTo(axw, ay);\n        path.lineTo(axw, ayh);\n        path.lineTo(ax, ayh);\n        path.lineTo(ax, ay);\n        // Grip lines.\n        const dx = this.gripLineGap / 2;\n        const dy = this.gripLineLength / 2;\n        path.moveTo(this.align(centerX - dx), this.align(centerY - dy));\n        path.lineTo(this.align(centerX - dx), this.align(centerY + dy));\n        path.moveTo(this.align(centerX + dx), this.align(centerY - dy));\n        path.lineTo(this.align(centerX + dx), this.align(centerY + dy));\n    }\n}\nRangeHandle.className = 'RangeHandle';\n__decorate([\n    Validate(COLOR_STRING)\n], RangeHandle.prototype, \"_fill\", void 0);\n__decorate([\n    Validate(COLOR_STRING)\n], RangeHandle.prototype, \"_stroke\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], RangeHandle.prototype, \"_strokeWidth\", void 0);\n__decorate([\n    Validate(LINE_CAP)\n], RangeHandle.prototype, \"_lineCap\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], RangeHandle.prototype, \"_width\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], RangeHandle.prototype, \"_gripLineGap\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], RangeHandle.prototype, \"_gripLineLength\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], RangeHandle.prototype, \"_height\", void 0);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Path } from '../../scene/shape/path.mjs';\nimport { BBox } from '../../scene/bbox.mjs';\nimport { LINE_CAP, NUMBER, COLOR_STRING, Validate } from '../../util/validation.mjs';\nexport class RangeMask extends Path {\n    constructor() {\n        super(...arguments);\n        this._stroke = '#999999';\n        this._strokeWidth = 1;\n        this._fill = '#999999';\n        this._fillOpacity = 0.2;\n        this._lineCap = 'square';\n        this._x = 0;\n        this._y = 0;\n        this._width = 200;\n        this._height = 30;\n        this.minRange = 0.05;\n        this._min = 0;\n        this._max = 1;\n    }\n    set x(value) {\n        if (this._x !== value) {\n            this._x = value;\n            this.dirtyPath = true;\n        }\n    }\n    get x() {\n        return this._x;\n    }\n    set y(value) {\n        if (this._y !== value) {\n            this._y = value;\n            this.dirtyPath = true;\n        }\n    }\n    get y() {\n        return this._y;\n    }\n    set width(value) {\n        if (this._width !== value) {\n            this._width = value;\n            this.dirtyPath = true;\n        }\n    }\n    get width() {\n        return this._width;\n    }\n    set height(value) {\n        if (this._height !== value) {\n            this._height = value;\n            this.dirtyPath = true;\n        }\n    }\n    get height() {\n        return this._height;\n    }\n    set min(value) {\n        var _a;\n        value = Math.min(Math.max(value, 0), this.max - this.minRange);\n        if (isNaN(value)) {\n            return;\n        }\n        if (this._min !== value) {\n            this._min = value;\n            this.dirtyPath = true;\n            (_a = this.onRangeChange) === null || _a === void 0 ? void 0 : _a.call(this);\n        }\n    }\n    get min() {\n        return this._min;\n    }\n    set max(value) {\n        var _a;\n        value = Math.max(Math.min(value, 1), this.min + this.minRange);\n        if (isNaN(value)) {\n            return;\n        }\n        if (this._max !== value) {\n            this._max = value;\n            this.dirtyPath = true;\n            (_a = this.onRangeChange) === null || _a === void 0 ? void 0 : _a.call(this);\n        }\n    }\n    get max() {\n        return this._max;\n    }\n    computeBBox() {\n        const { x, y, width, height } = this;\n        return new BBox(x, y, width, height);\n    }\n    computeVisibleRangeBBox() {\n        const { x, y, width, height, min, max } = this;\n        const minX = x + width * min;\n        const maxX = x + width * max;\n        return new BBox(minX, y, maxX - minX, height);\n    }\n    updatePath() {\n        const { path, x, y, width, height, min, max } = this;\n        path.clear();\n        const ax = this.align(x);\n        const ay = this.align(y);\n        const axw = ax + this.align(x, width);\n        const ayh = ay + this.align(y, height);\n        // Whole range.\n        path.moveTo(ax, ay);\n        path.lineTo(axw, ay);\n        path.lineTo(axw, ayh);\n        path.lineTo(ax, ayh);\n        path.lineTo(ax, ay);\n        const minX = this.align(x + width * min);\n        const maxX = this.align(x + width * max);\n        // Visible range.\n        path.moveTo(minX, ay);\n        path.lineTo(minX, ayh);\n        path.lineTo(maxX, ayh);\n        path.lineTo(maxX, ay);\n        path.lineTo(minX, ay);\n    }\n}\nRangeMask.className = 'RangeMask';\n__decorate([\n    Validate(COLOR_STRING)\n], RangeMask.prototype, \"_stroke\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], RangeMask.prototype, \"_strokeWidth\", void 0);\n__decorate([\n    Validate(COLOR_STRING)\n], RangeMask.prototype, \"_fill\", void 0);\n__decorate([\n    Validate(NUMBER(0, 1))\n], RangeMask.prototype, \"_fillOpacity\", void 0);\n__decorate([\n    Validate(LINE_CAP)\n], RangeMask.prototype, \"_lineCap\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], RangeMask.prototype, \"_width\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], RangeMask.prototype, \"_height\", void 0);\n__decorate([\n    Validate(NUMBER())\n], RangeMask.prototype, \"_min\", void 0);\n__decorate([\n    Validate(NUMBER())\n], RangeMask.prototype, \"_max\", void 0);\n","import { Group } from '../../scene/group.mjs';\nimport { RangeHandle } from './rangeHandle.mjs';\nimport { RangeMask } from './rangeMask.mjs';\nimport { RedrawType } from '../../scene/node.mjs';\nexport class RangeSelector extends Group {\n    constructor() {\n        super({ name: 'rangeSelectorGroup' });\n        this.minHandle = new RangeHandle();\n        this.maxHandle = new RangeHandle();\n        this.mask = (() => {\n            const { x, y, width, height, min, max } = RangeSelector.defaults;\n            const mask = new RangeMask();\n            mask.x = x;\n            mask.y = y;\n            mask.width = width;\n            mask.height = height;\n            mask.min = min;\n            mask.max = max;\n            const { minHandle, maxHandle } = this;\n            minHandle.centerX = x;\n            maxHandle.centerX = x + width;\n            minHandle.centerY = maxHandle.centerY = y + height / 2;\n            this.append([mask, minHandle, maxHandle]);\n            mask.onRangeChange = () => {\n                var _a;\n                this.updateHandles();\n                (_a = this.onRangeChange) === null || _a === void 0 ? void 0 : _a.call(this);\n            };\n            return mask;\n        })();\n        this._x = RangeSelector.defaults.x;\n        this._y = RangeSelector.defaults.y;\n        this._width = RangeSelector.defaults.width;\n        this._height = RangeSelector.defaults.height;\n        this._min = RangeSelector.defaults.min;\n        this._max = RangeSelector.defaults.max;\n        this.isContainerNode = true;\n    }\n    set x(value) {\n        this.mask.x = value;\n        this.updateHandles();\n    }\n    get x() {\n        return this.mask.x;\n    }\n    set y(value) {\n        this.mask.y = value;\n        this.updateHandles();\n    }\n    get y() {\n        return this.mask.y;\n    }\n    set width(value) {\n        this.mask.width = value;\n        this.updateHandles();\n    }\n    get width() {\n        return this.mask.width;\n    }\n    set height(value) {\n        this.mask.height = value;\n        this.updateHandles();\n    }\n    get height() {\n        return this.mask.height;\n    }\n    set min(value) {\n        this.mask.min = value;\n    }\n    get min() {\n        return this.mask.min;\n    }\n    set max(value) {\n        this.mask.max = value;\n    }\n    get max() {\n        return this.mask.max;\n    }\n    updateHandles() {\n        const { minHandle, maxHandle, x, y, width, height, mask } = this;\n        minHandle.centerX = x + width * mask.min;\n        maxHandle.centerX = x + width * mask.max;\n        minHandle.centerY = maxHandle.centerY = y + height / 2;\n    }\n    computeBBox() {\n        return this.mask.computeBBox();\n    }\n    computeVisibleRangeBBox() {\n        return this.mask.computeVisibleRangeBBox();\n    }\n    render(renderCtx) {\n        const { ctx, forceRender, stats } = renderCtx;\n        if (this.dirty === RedrawType.NONE && !forceRender) {\n            if (stats)\n                stats.nodesSkipped++;\n            return;\n        }\n        this.computeTransformMatrix();\n        this.matrix.toContext(ctx);\n        const { mask, minHandle, maxHandle } = this;\n        [mask, minHandle, maxHandle].forEach((child) => {\n            if (child.visible && (forceRender || child.dirty > RedrawType.NONE)) {\n                ctx.save();\n                child.render(Object.assign(Object.assign({}, renderCtx), { ctx, forceRender }));\n                ctx.restore();\n            }\n        });\n        this.markClean({ force: true });\n        if (stats)\n            stats.nodesRendered++;\n    }\n}\nRangeSelector.className = 'Range';\nRangeSelector.defaults = {\n    x: 0,\n    y: 0,\n    width: 200,\n    height: 30,\n    min: 0,\n    max: 1,\n};\n","export class NavigatorMask {\n    constructor(rangeMask) {\n        this.rm = rangeMask;\n    }\n    set fill(value) {\n        this.rm.fill = value;\n    }\n    get fill() {\n        return this.rm.fill;\n    }\n    set stroke(value) {\n        this.rm.stroke = value;\n    }\n    get stroke() {\n        return this.rm.stroke;\n    }\n    set strokeWidth(value) {\n        this.rm.strokeWidth = value;\n    }\n    get strokeWidth() {\n        return this.rm.strokeWidth;\n    }\n    set fillOpacity(value) {\n        this.rm.fillOpacity = value;\n    }\n    get fillOpacity() {\n        return this.rm.fillOpacity;\n    }\n}\n","export class NavigatorHandle {\n    constructor(rangeHandle) {\n        this.rh = rangeHandle;\n    }\n    set fill(value) {\n        this.rh.fill = value;\n    }\n    get fill() {\n        return this.rh.fill;\n    }\n    set stroke(value) {\n        this.rh.stroke = value;\n    }\n    get stroke() {\n        return this.rh.stroke;\n    }\n    set strokeWidth(value) {\n        this.rh.strokeWidth = value;\n    }\n    get strokeWidth() {\n        return this.rh.strokeWidth;\n    }\n    set width(value) {\n        this.rh.width = value;\n    }\n    get width() {\n        return this.rh.width;\n    }\n    set height(value) {\n        this.rh.height = value;\n    }\n    get height() {\n        return this.rh.height;\n    }\n    set gripLineGap(value) {\n        this.rh.gripLineGap = value;\n    }\n    get gripLineGap() {\n        return this.rh.gripLineGap;\n    }\n    set gripLineLength(value) {\n        this.rh.gripLineLength = value;\n    }\n    get gripLineLength() {\n        return this.rh.gripLineLength;\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { RangeSelector } from '../shapes/rangeSelector.mjs';\nimport { NavigatorMask } from './navigatorMask.mjs';\nimport { NavigatorHandle } from './navigatorHandle.mjs';\nimport { BaseModuleInstance } from '../../util/module.mjs';\nimport { BOOLEAN, NUMBER, Validate } from '../../util/validation.mjs';\nimport { BBox } from '../../scene/bbox.mjs';\nexport class Navigator extends BaseModuleInstance {\n    constructor(ctx) {\n        super();\n        this.ctx = ctx;\n        this.rs = new RangeSelector();\n        // Wrappers to allow option application to the scene graph nodes.\n        this.mask = new NavigatorMask(this.rs.mask);\n        this.minHandle = new NavigatorHandle(this.rs.minHandle);\n        this.maxHandle = new NavigatorHandle(this.rs.maxHandle);\n        this.minHandleDragging = false;\n        this.maxHandleDragging = false;\n        this.panHandleOffset = NaN;\n        this._enabled = false;\n        this.margin = 10;\n        this._visible = true;\n        this.rs.onRangeChange = () => this.ctx.zoomManager.updateZoom('navigator', { x: { min: this.rs.min, max: this.rs.max } });\n        [\n            ctx.interactionManager.addListener('drag-start', (event) => this.onDragStart(event)),\n            ctx.interactionManager.addListener('drag', (event) => this.onDrag(event)),\n            ctx.interactionManager.addListener('hover', (event) => this.onDrag(event)),\n            ctx.interactionManager.addListener('drag-end', () => this.onDragStop()),\n        ].forEach((s) => this.destroyFns.push(() => ctx.interactionManager.removeListener(s)));\n        [\n            ctx.layoutService.addListener('before-series', (event) => this.layout(event)),\n            ctx.layoutService.addListener('layout-complete', (event) => this.layoutComplete(event)),\n        ].forEach((s) => this.destroyFns.push(() => ctx.layoutService.removeListener(s)));\n        ctx.scene.root.appendChild(this.rs);\n        this.destroyFns.push(() => { var _a; return (_a = ctx.scene.root) === null || _a === void 0 ? void 0 : _a.removeChild(this.rs); });\n        this.destroyFns.push(() => this.ctx.zoomManager.updateZoom('navigator'));\n        this.updateGroupVisibility();\n    }\n    set enabled(value) {\n        this._enabled = value;\n        this.updateGroupVisibility();\n    }\n    get enabled() {\n        return this._enabled;\n    }\n    set width(value) {\n        this.rs.width = value;\n    }\n    get width() {\n        return this.rs.width;\n    }\n    set height(value) {\n        this.rs.height = value;\n    }\n    get height() {\n        return this.rs.height;\n    }\n    set min(value) {\n        this.rs.min = value;\n    }\n    get min() {\n        return this.rs.min;\n    }\n    set max(value) {\n        this.rs.max = value;\n    }\n    get max() {\n        return this.rs.max;\n    }\n    set visible(value) {\n        this._visible = value;\n        this.updateGroupVisibility();\n    }\n    get visible() {\n        return this._visible;\n    }\n    updateGroupVisibility() {\n        const visible = this.enabled && this.visible;\n        this.rs.visible = visible;\n        if (visible) {\n            this.ctx.zoomManager.updateZoom('navigator', { x: { min: this.rs.min, max: this.rs.max } });\n        }\n        else {\n            this.ctx.zoomManager.updateZoom('navigator');\n        }\n    }\n    layout({ shrinkRect }) {\n        if (this.enabled) {\n            const navigatorTotalHeight = this.rs.height + this.margin;\n            shrinkRect.shrink(navigatorTotalHeight, 'bottom');\n            this.rs.y = shrinkRect.y + shrinkRect.height + this.margin;\n        }\n        return { shrinkRect };\n    }\n    layoutComplete({ series: { rect, visible } }) {\n        if (this.enabled && visible) {\n            this.rs.x = rect.x;\n            this.rs.width = rect.width;\n        }\n        this.visible = visible;\n    }\n    onDragStart(offset) {\n        if (!this.enabled) {\n            return;\n        }\n        const { offsetX, offsetY } = offset;\n        const { rs } = this;\n        const { minHandle, maxHandle, x, width, min } = rs;\n        const visibleRange = rs.computeVisibleRangeBBox();\n        if (!(this.minHandleDragging || this.maxHandleDragging)) {\n            if (minHandle.containsPoint(offsetX, offsetY)) {\n                this.minHandleDragging = true;\n            }\n            else if (maxHandle.containsPoint(offsetX, offsetY)) {\n                this.maxHandleDragging = true;\n            }\n            else if (visibleRange.containsPoint(offsetX, offsetY)) {\n                this.panHandleOffset = (offsetX - x) / width - min;\n            }\n        }\n    }\n    onDrag(offset) {\n        if (!this.enabled) {\n            return;\n        }\n        const { rs, panHandleOffset } = this;\n        const { x, y, width, height, minHandle, maxHandle } = rs;\n        const { offsetX, offsetY } = offset;\n        const minX = x + width * rs.min;\n        const maxX = x + width * rs.max;\n        const visibleRange = new BBox(minX, y, maxX - minX, height);\n        const getRatio = () => Math.min(Math.max((offsetX - x) / width, 0), 1);\n        if (minHandle.containsPoint(offsetX, offsetY) || maxHandle.containsPoint(offsetX, offsetY)) {\n            this.ctx.cursorManager.updateCursor('navigator', 'ew-resize');\n        }\n        else if (visibleRange.containsPoint(offsetX, offsetY)) {\n            this.ctx.cursorManager.updateCursor('navigator', 'grab');\n        }\n        else {\n            this.ctx.cursorManager.updateCursor('navigator');\n        }\n        if (this.minHandleDragging) {\n            rs.min = getRatio();\n        }\n        else if (this.maxHandleDragging) {\n            rs.max = getRatio();\n        }\n        else if (!isNaN(panHandleOffset)) {\n            const span = rs.max - rs.min;\n            const min = Math.min(getRatio() - panHandleOffset, 1 - span);\n            if (min <= rs.min) {\n                // pan left\n                rs.min = min;\n                rs.max = rs.min + span;\n            }\n            else {\n                // pan right\n                rs.max = min + span;\n                rs.min = rs.max - span;\n            }\n        }\n    }\n    onDragStop() {\n        this.stopHandleDragging();\n    }\n    stopHandleDragging() {\n        this.minHandleDragging = this.maxHandleDragging = false;\n        this.panHandleOffset = NaN;\n    }\n}\n__decorate([\n    Validate(BOOLEAN)\n], Navigator.prototype, \"_enabled\", void 0);\n__decorate([\n    Validate(NUMBER(0))\n], Navigator.prototype, \"margin\", void 0);\n","import { Navigator } from '../chart/navigator/navigator.mjs';\nimport { registerModule } from './module.mjs';\nexport const CHART_NAVIGATOR_MODULE = {\n    type: 'root',\n    optionsKey: 'navigator',\n    packageType: 'community',\n    chartTypes: ['cartesian'],\n    instanceConstructor: Navigator,\n    themeTemplate: {\n        navigator: {\n            enabled: false,\n            height: 30,\n            mask: {\n                fill: '#999999',\n                stroke: '#999999',\n                strokeWidth: 1,\n                fillOpacity: 0.2,\n            },\n            minHandle: {\n                fill: '#f2f2f2',\n                stroke: '#999999',\n                strokeWidth: 1,\n                width: 8,\n                height: 16,\n                gripLineGap: 2,\n                gripLineLength: 8,\n            },\n            maxHandle: {\n                fill: '#f2f2f2',\n                stroke: '#999999',\n                strokeWidth: 1,\n                width: 8,\n                height: 16,\n                gripLineGap: 2,\n                gripLineLength: 8,\n            },\n        },\n    },\n};\nregisterModule(CHART_NAVIGATOR_MODULE);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Rect } from '../../scene/shape/rect.mjs';\nimport { Group } from '../../scene/group.mjs';\nimport { BaseModuleInstance } from '../../util/module.mjs';\nimport { ProxyPropertyOnWrite } from '../../util/proxy.mjs';\nimport { BOOLEAN, OPT_COLOR_STRING, Validate } from '../../util/validation.mjs';\nimport { Layers } from '../layers.mjs';\nexport class Background extends BaseModuleInstance {\n    constructor(ctx) {\n        var _a;\n        super();\n        this.onLayoutComplete = (e) => {\n            const { width, height } = e.chart;\n            this.rectNode.width = width;\n            this.rectNode.height = height;\n        };\n        this.node = new Group({ name: 'background' });\n        this.node.zIndex = Layers.SERIES_BACKGROUND_ZINDEX;\n        this.rectNode = new Rect();\n        this.node.appendChild(this.rectNode);\n        this.fill = 'white';\n        this.visible = true;\n        (_a = ctx.scene.root) === null || _a === void 0 ? void 0 : _a.appendChild(this.node);\n        this.destroyFns.push(() => { var _a; return (_a = ctx.scene.root) === null || _a === void 0 ? void 0 : _a.removeChild(this.node); });\n        const layoutHandle = ctx.layoutService.addListener('layout-complete', this.onLayoutComplete);\n        this.destroyFns.push(() => ctx.layoutService.removeListener(layoutHandle));\n    }\n}\n__decorate([\n    Validate(BOOLEAN),\n    ProxyPropertyOnWrite('node', 'visible')\n], Background.prototype, \"visible\", void 0);\n__decorate([\n    Validate(OPT_COLOR_STRING),\n    ProxyPropertyOnWrite('rectNode', 'fill')\n], Background.prototype, \"fill\", void 0);\n","import { Background } from './background.mjs';\nimport { registerModule } from '../../util/module.mjs';\nexport const CHART_BACKGROUND_MODULE = {\n    type: 'root',\n    optionsKey: 'background',\n    packageType: 'community',\n    chartTypes: ['cartesian', 'polar', 'hierarchy'],\n    instanceConstructor: Background,\n};\nregisterModule(CHART_BACKGROUND_MODULE);\n","import { REGISTERED_MODULES } from '../../util/module.mjs';\nimport { registerAxisThemeTemplate } from '../chartAxesTypes.mjs';\nimport { JSON_APPLY_PLUGINS } from '../chartOptions.mjs';\nimport { registerChartDefaults } from './chartTypes.mjs';\nimport { registerLegend } from './legendTypes.mjs';\nimport { registerSeries } from './seriesTypes.mjs';\nexport function setupModules() {\n    for (const m of REGISTERED_MODULES) {\n        if (m.optionConstructors != null) {\n            Object.assign(JSON_APPLY_PLUGINS.constructors, m.optionConstructors);\n        }\n        if (m.type === 'root') {\n            if (m.themeTemplate) {\n                for (const chartType of m.chartTypes) {\n                    registerChartDefaults(chartType, m.themeTemplate);\n                }\n            }\n        }\n        if (m.type === 'series') {\n            if (m.chartTypes.length > 1)\n                throw new Error('AG Charts - Module definition error: ' + m.identifier);\n            registerSeries(m.identifier, m.chartTypes[0], m.instanceConstructor, m.seriesDefaults, m.themeTemplate);\n        }\n        if (m.type === 'axis') {\n            if (m.themeTemplate) {\n                for (const axisType of m.axisTypes) {\n                    registerAxisThemeTemplate(axisType, m.themeTemplate);\n                }\n            }\n        }\n        if (m.type === 'legend') {\n            registerLegend(m.identifier, m.instanceConstructor);\n        }\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { CartesianChart } from './cartesianChart.mjs';\nimport { PolarChart } from './polarChart.mjs';\nimport { HierarchyChart } from './hierarchyChart.mjs';\nimport { getSeries } from './factory/seriesTypes.mjs';\nimport { PieTitle } from './series/polar/pieSeries.mjs';\nimport { LogAxis } from './axis/logAxis.mjs';\nimport { NumberAxis } from './axis/numberAxis.mjs';\nimport { CategoryAxis } from './axis/categoryAxis.mjs';\nimport { GroupedCategoryAxis } from './axis/groupedCategoryAxis.mjs';\nimport { TimeAxis } from './axis/timeAxis.mjs';\nimport { ChartUpdateType } from './chartUpdateType.mjs';\nimport { jsonDiff, jsonMerge, jsonApply } from '../util/json.mjs';\nimport { prepareOptions, isAgCartesianChartOptions, isAgHierarchyChartOptions, isAgPolarChartOptions, optionsType, noDataCloneMergeOptions, } from './mapping/prepare.mjs';\nimport { windowValue } from '../util/window.mjs';\nimport { Logger } from '../util/logger.mjs';\nimport { getJsonApplyOptions } from './chartOptions.mjs';\n// Deliberately imported via `module-support` so that internal module registration happens.\nimport { REGISTERED_MODULES } from '../module-support.mjs';\nimport { setupModules } from './factory/setupModules.mjs';\nfunction chartType(options) {\n    if (isAgCartesianChartOptions(options)) {\n        return 'cartesian';\n    }\n    else if (isAgPolarChartOptions(options)) {\n        return 'polar';\n    }\n    else if (isAgHierarchyChartOptions(options)) {\n        return 'hierarchy';\n    }\n    throw new Error(`AG Chart - unknown type of chart for options with type: ${options.type}`);\n}\n/**\n * Factory for creating and updating instances of AgChartInstance.\n *\n * @docsInterface\n */\nexport class AgChart {\n    /**\n     * Create a new `AgChartInstance` based upon the given configuration options.\n     */\n    static create(options) {\n        return AgChartInternal.createOrUpdate(options);\n    }\n    /**\n     * Update an existing `AgChartInstance`. Options provided should be complete and not\n     * partial.\n     * <br/>\n     * <br/>\n     * **NOTE**: As each call could trigger a chart redraw, multiple calls to update options in\n     * quick succession could result in undesirable flickering, so callers should batch up and/or\n     * debounce changes to avoid unintended partial update renderings.\n     */\n    static update(chart, options) {\n        if (!AgChartInstanceProxy.isInstance(chart)) {\n            throw new Error('AG Charts - invalid chart reference passed');\n        }\n        AgChartInternal.createOrUpdate(options, chart);\n    }\n    /**\n     * Update an existing `AgChartInstance` by applying a partial set of option changes.\n     * <br/>\n     * <br/>\n     * **NOTE**: As each call could trigger a chart redraw, each individual delta options update\n     * should leave the chart in a valid options state. Also, multiple calls to update options in\n     * quick succession could result in undesirable flickering, so callers should batch up and/or\n     * debounce changes to avoid unintended partial update renderings.\n     */\n    static updateDelta(chart, deltaOptions) {\n        if (!AgChartInstanceProxy.isInstance(chart)) {\n            throw new Error('AG Charts - invalid chart reference passed');\n        }\n        return AgChartInternal.updateUserDelta(chart, deltaOptions);\n    }\n    /**\n     * Starts a browser-based image download for the given `AgChartInstance`.\n     */\n    static download(chart, options) {\n        if (!(chart instanceof AgChartInstanceProxy)) {\n            throw new Error('AG Charts - invalid chart reference passed');\n        }\n        return AgChartInternal.download(chart, options);\n    }\n    /**\n     * Returns a base64-encoded image data URL for the given `AgChartInstance`.\n     */\n    static getImageDataURL(chart, options) {\n        if (!(chart instanceof AgChartInstanceProxy)) {\n            throw new Error('AG Charts - invalid chart reference passed');\n        }\n        return AgChartInternal.getImageDataURL(chart, options);\n    }\n}\n/**\n * Proxy class, to allow library users to keep a stable reference to their chart, even if we need\n * to switch concrete class (e.g. when switching between CartesianChart vs. PolarChart).\n */\nclass AgChartInstanceProxy {\n    constructor(chart) {\n        this.chart = chart;\n    }\n    static isInstance(x) {\n        var _a, _b;\n        if (x instanceof AgChartInstanceProxy) {\n            // Simple case.\n            return true;\n        }\n        if (((_a = x.constructor) === null || _a === void 0 ? void 0 : _a.name) === 'AgChartInstanceProxy' && x.chart != null) {\n            // instanceof can fail if mixing bundles (e.g. grid all-modules vs. standalone).\n            return true;\n        }\n        const signatureProps = Object.keys((_b = x.constructor) === null || _b === void 0 ? void 0 : _b.prototype);\n        const heuristicTypeCheck = Object.keys(AgChartInstanceProxy.prototype).every((prop) => signatureProps.includes(prop));\n        if (heuristicTypeCheck && x.chart != null) {\n            // minimised code case - the constructor name is mangled but prototype names are not :P\n            return true;\n        }\n        return false;\n    }\n    getOptions() {\n        return this.chart.getOptions();\n    }\n    destroy() {\n        this.chart.destroy();\n    }\n}\nclass AgChartInternal {\n    static initialiseModules() {\n        if (AgChartInternal.initialised)\n            return;\n        setupModules();\n        AgChartInternal.initialised = true;\n    }\n    static createOrUpdate(userOptions, proxy) {\n        AgChartInternal.initialiseModules();\n        debug('>>> createOrUpdate() user options', userOptions);\n        const mixinOpts = {};\n        if (AgChartInternal.DEBUG() === true) {\n            mixinOpts['debug'] = true;\n        }\n        const { overrideDevicePixelRatio } = userOptions;\n        delete userOptions['overrideDevicePixelRatio'];\n        const processedOptions = prepareOptions(userOptions, mixinOpts);\n        let chart = proxy === null || proxy === void 0 ? void 0 : proxy.chart;\n        if (chart == null || chartType(userOptions) !== chartType(chart.processedOptions)) {\n            chart = AgChartInternal.createChartInstance(processedOptions, overrideDevicePixelRatio, chart);\n        }\n        if (proxy == null) {\n            proxy = new AgChartInstanceProxy(chart);\n        }\n        else {\n            proxy.chart = chart;\n        }\n        const chartToUpdate = chart;\n        chartToUpdate.queuedUserOptions.push(userOptions);\n        const dequeue = () => {\n            // If there are a lot of update calls, `requestFactoryUpdate()` may skip callbacks,\n            // so we need to remove all queue items up to the last successfully applied item.\n            const queuedOptionsIdx = chartToUpdate.queuedUserOptions.indexOf(userOptions);\n            chartToUpdate.queuedUserOptions.splice(0, queuedOptionsIdx);\n        };\n        chartToUpdate.requestFactoryUpdate(() => __awaiter(this, void 0, void 0, function* () {\n            // Chart destroyed, skip processing.\n            if (chartToUpdate.destroyed)\n                return;\n            const deltaOptions = jsonDiff(chartToUpdate.processedOptions, processedOptions);\n            if (deltaOptions == null) {\n                dequeue();\n                return;\n            }\n            yield AgChartInternal.updateDelta(chartToUpdate, deltaOptions, userOptions);\n            dequeue();\n        }));\n        return proxy;\n    }\n    static updateUserDelta(proxy, deltaOptions) {\n        var _a;\n        const { chart, chart: { queuedUserOptions }, } = proxy;\n        const lastUpdateOptions = (_a = queuedUserOptions[queuedUserOptions.length - 1]) !== null && _a !== void 0 ? _a : chart.userOptions;\n        const userOptions = jsonMerge([lastUpdateOptions, deltaOptions]);\n        debug('>>> updateUserDelta() user delta', deltaOptions);\n        debug('base options', lastUpdateOptions);\n        AgChartInternal.createOrUpdate(userOptions, proxy);\n    }\n    /**\n     * Returns the content of the current canvas as an image.\n     * @param opts The download options including `width` and `height` of the image as well as `fileName` and `fileFormat`.\n     */\n    static download(proxy, opts) {\n        const asyncDownload = () => __awaiter(this, void 0, void 0, function* () {\n            const maybeClone = yield AgChartInternal.prepareResizedChart(proxy, opts);\n            const { chart } = maybeClone;\n            chart.scene.download(opts === null || opts === void 0 ? void 0 : opts.fileName, opts === null || opts === void 0 ? void 0 : opts.fileFormat);\n            if (maybeClone !== proxy) {\n                maybeClone.destroy();\n            }\n        });\n        asyncDownload().catch((e) => Logger.errorOnce(e));\n    }\n    static getImageDataURL(proxy, opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const maybeClone = yield AgChartInternal.prepareResizedChart(proxy, opts);\n            const { chart } = maybeClone;\n            const result = chart.scene.canvas.getDataURL(opts === null || opts === void 0 ? void 0 : opts.fileFormat);\n            if (maybeClone !== proxy) {\n                maybeClone.destroy();\n            }\n            return result;\n        });\n    }\n    static prepareResizedChart(proxy, opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { chart } = proxy;\n            let { width, height } = opts !== null && opts !== void 0 ? opts : {};\n            const currentWidth = chart.width;\n            const currentHeight = chart.height;\n            const unchanged = (width === undefined && height === undefined) ||\n                (chart.scene.canvas.pixelRatio === 1 && currentWidth === width && currentHeight === height);\n            if (unchanged) {\n                return proxy;\n            }\n            width = width !== null && width !== void 0 ? width : currentWidth;\n            height = height !== null && height !== void 0 ? height : currentHeight;\n            const options = Object.assign(Object.assign({}, chart.userOptions), { container: document.createElement('div'), width,\n                height, autoSize: false, overrideDevicePixelRatio: 1 });\n            const clonedChart = AgChartInternal.createOrUpdate(options);\n            yield clonedChart.chart.waitForUpdate();\n            return clonedChart;\n        });\n    }\n    static createChartInstance(options, overrideDevicePixelRatio, oldChart) {\n        const transferableResource = oldChart === null || oldChart === void 0 ? void 0 : oldChart.destroy({ keepTransferableResources: true });\n        if (isAgCartesianChartOptions(options)) {\n            return new CartesianChart(document, overrideDevicePixelRatio, transferableResource);\n        }\n        else if (isAgHierarchyChartOptions(options)) {\n            return new HierarchyChart(document, overrideDevicePixelRatio, transferableResource);\n        }\n        else if (isAgPolarChartOptions(options)) {\n            return new PolarChart(document, overrideDevicePixelRatio, transferableResource);\n        }\n        throw new Error(`AG Charts - couldn't apply configuration, check type of options: ${options['type']}`);\n    }\n    static updateDelta(chart, processedOptions, userOptions) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (processedOptions.type == null) {\n                processedOptions = Object.assign(Object.assign({}, processedOptions), { type: (_a = chart.processedOptions.type) !== null && _a !== void 0 ? _a : optionsType(processedOptions) });\n            }\n            yield chart.awaitUpdateCompletion();\n            if (chart.destroyed)\n                return;\n            debug('applying delta', processedOptions);\n            applyChartOptions(chart, processedOptions, userOptions);\n        });\n    }\n}\nAgChartInternal.DEBUG = () => { var _a; return (_a = windowValue('agChartsDebug')) !== null && _a !== void 0 ? _a : false; };\nAgChartInternal.initialised = false;\nfunction debug(message, ...optionalParams) {\n    if ([true, 'opts'].includes(AgChartInternal.DEBUG())) {\n        Logger.debug(message, ...optionalParams);\n    }\n}\nfunction applyChartOptions(chart, processedOptions, userOptions) {\n    var _a, _b, _c, _d;\n    const completeOptions = jsonMerge([(_a = chart.processedOptions) !== null && _a !== void 0 ? _a : {}, processedOptions], noDataCloneMergeOptions);\n    const modulesChanged = applyModules(chart, completeOptions);\n    const skip = ['type', 'data', 'series', 'listeners', 'theme', 'legend'];\n    if (isAgCartesianChartOptions(processedOptions)) {\n        // Append axes to defaults.\n        skip.push('axes');\n    }\n    else if (isAgPolarChartOptions(processedOptions) || isAgHierarchyChartOptions(processedOptions)) {\n        // Use defaults.\n    }\n    else {\n        throw new Error(`AG Charts - couldn't apply configuration, check type of options and chart: ${processedOptions['type']}`);\n    }\n    // Needs to be done before applying the series to detect if a seriesNode[Double]Click listener has been added\n    if (processedOptions.listeners) {\n        registerListeners(chart, processedOptions.listeners);\n    }\n    applyOptionValues(chart, processedOptions, { skip });\n    let forceNodeDataRefresh = false;\n    if (processedOptions.series && processedOptions.series.length > 0) {\n        applySeries(chart, processedOptions);\n        forceNodeDataRefresh = true;\n    }\n    if (isAgCartesianChartOptions(processedOptions) && processedOptions.axes) {\n        const axesPresent = applyAxes(chart, processedOptions);\n        if (axesPresent) {\n            forceNodeDataRefresh = true;\n        }\n    }\n    applyLegend(chart, processedOptions);\n    const seriesOpts = processedOptions.series;\n    const seriesDataUpdate = !!processedOptions.data || (seriesOpts === null || seriesOpts === void 0 ? void 0 : seriesOpts.some((s) => s.data != null));\n    const otherRefreshUpdate = (_c = (_b = processedOptions.legend) !== null && _b !== void 0 ? _b : processedOptions.title) !== null && _c !== void 0 ? _c : processedOptions.subtitle;\n    forceNodeDataRefresh = forceNodeDataRefresh || seriesDataUpdate || !!otherRefreshUpdate;\n    if (processedOptions.data) {\n        chart.data = processedOptions.data;\n    }\n    if (processedOptions.listeners) {\n        chart.updateAllSeriesListeners();\n    }\n    chart.processedOptions = completeOptions;\n    chart.userOptions = jsonMerge([(_d = chart.userOptions) !== null && _d !== void 0 ? _d : {}, userOptions], noDataCloneMergeOptions);\n    const majorChange = forceNodeDataRefresh || modulesChanged;\n    const updateType = majorChange ? ChartUpdateType.PROCESS_DATA : ChartUpdateType.PERFORM_LAYOUT;\n    debug('chart update type', { updateType: ChartUpdateType[updateType] });\n    chart.update(updateType, { forceNodeDataRefresh });\n}\nfunction applyModules(chart, options) {\n    const matchingChartType = (module) => {\n        return ((chart instanceof CartesianChart && module.chartTypes.includes('cartesian')) ||\n            (chart instanceof PolarChart && module.chartTypes.includes('polar')) ||\n            (chart instanceof HierarchyChart && module.chartTypes.includes('hierarchy')));\n    };\n    let modulesChanged = false;\n    const rootModules = REGISTERED_MODULES.filter((m) => m.type === 'root');\n    for (const next of rootModules) {\n        const shouldBeEnabled = matchingChartType(next) && options[next.optionsKey] != null;\n        const isEnabled = chart.isModuleEnabled(next);\n        if (shouldBeEnabled === isEnabled)\n            continue;\n        modulesChanged = true;\n        if (shouldBeEnabled) {\n            chart.addModule(next);\n        }\n        else {\n            chart.removeModule(next);\n        }\n    }\n    return modulesChanged;\n}\nfunction applySeries(chart, options) {\n    const optSeries = options.series;\n    if (!optSeries) {\n        return;\n    }\n    const matchingTypes = chart.series.length === optSeries.length && chart.series.every((s, i) => { var _a; return s.type === ((_a = optSeries[i]) === null || _a === void 0 ? void 0 : _a.type); });\n    // Try to optimise series updates if series count and types didn't change.\n    if (matchingTypes) {\n        chart.series.forEach((s, i) => {\n            var _a, _b, _c, _d;\n            const previousOpts = (_c = (_b = (_a = chart.processedOptions) === null || _a === void 0 ? void 0 : _a.series) === null || _b === void 0 ? void 0 : _b[i]) !== null && _c !== void 0 ? _c : {};\n            const seriesDiff = jsonDiff(previousOpts, (_d = optSeries[i]) !== null && _d !== void 0 ? _d : {});\n            if (!seriesDiff) {\n                return;\n            }\n            debug(`applying series diff idx ${i}`, seriesDiff);\n            applySeriesValues(s, seriesDiff, { path: `series[${i}]`, index: i });\n            s.markNodeDataDirty();\n        });\n        return;\n    }\n    chart.series = createSeries(chart, optSeries);\n}\nfunction applyAxes(chart, options) {\n    const optAxes = options.axes;\n    if (!optAxes) {\n        return false;\n    }\n    const matchingTypes = chart.axes.length === optAxes.length && chart.axes.every((a, i) => a.type === optAxes[i].type);\n    // Try to optimise series updates if series count and types didn't change.\n    if (matchingTypes) {\n        const oldOpts = chart.processedOptions;\n        if (isAgCartesianChartOptions(oldOpts)) {\n            chart.axes.forEach((a, i) => {\n                var _a, _b;\n                const previousOpts = (_b = (_a = oldOpts.axes) === null || _a === void 0 ? void 0 : _a[i]) !== null && _b !== void 0 ? _b : {};\n                const axisDiff = jsonDiff(previousOpts, optAxes[i]);\n                debug(`applying axis diff idx ${i}`, axisDiff);\n                const path = `axes[${i}]`;\n                const skip = ['axes[].type'];\n                applyOptionValues(a, axisDiff, { path, skip });\n            });\n            return true;\n        }\n    }\n    chart.axes = createAxis(chart, optAxes);\n    return true;\n}\nfunction applyLegend(chart, options) {\n    const skip = ['listeners'];\n    chart.setLegendInit((legend) => {\n        var _a, _b, _c;\n        applyOptionValues(legend, (_a = options.legend) !== null && _a !== void 0 ? _a : {}, { skip });\n        if ((_b = options.legend) === null || _b === void 0 ? void 0 : _b.listeners) {\n            Object.assign(chart.legend.listeners, (_c = options.legend.listeners) !== null && _c !== void 0 ? _c : {});\n        }\n    });\n}\nfunction createSeries(chart, options) {\n    const series = [];\n    const moduleContext = chart.getModuleContext();\n    let index = 0;\n    for (const seriesOptions of options !== null && options !== void 0 ? options : []) {\n        const path = `series[${index++}]`;\n        const seriesInstance = getSeries(seriesOptions.type, moduleContext);\n        applySeriesValues(seriesInstance, seriesOptions, { path, index });\n        series.push(seriesInstance);\n    }\n    return series;\n}\nfunction createAxis(chart, options) {\n    const axes = [];\n    const skip = ['axes[].type'];\n    const moduleContext = chart.getModuleContext();\n    let index = 0;\n    for (const axisOptions of options !== null && options !== void 0 ? options : []) {\n        let axis;\n        switch (axisOptions.type) {\n            case 'number':\n                axis = new NumberAxis(moduleContext);\n                break;\n            case LogAxis.type:\n                axis = new LogAxis(moduleContext);\n                break;\n            case CategoryAxis.type:\n                axis = new CategoryAxis(moduleContext);\n                break;\n            case GroupedCategoryAxis.type:\n                axis = new GroupedCategoryAxis(moduleContext);\n                break;\n            case TimeAxis.type:\n                axis = new TimeAxis(moduleContext);\n                break;\n            default:\n                throw new Error('AG Charts - unknown axis type: ' + axisOptions['type']);\n        }\n        const path = `axes[${index++}]`;\n        applyAxisModules(axis, axisOptions);\n        applyOptionValues(axis, axisOptions, { path, skip });\n        axes.push(axis);\n    }\n    return axes;\n}\nfunction applyAxisModules(axis, options) {\n    let modulesChanged = false;\n    const rootModules = REGISTERED_MODULES.filter((m) => m.type === 'axis');\n    for (const next of rootModules) {\n        const shouldBeEnabled = options[next.optionsKey] != null;\n        const isEnabled = axis.isModuleEnabled(next);\n        if (shouldBeEnabled === isEnabled)\n            continue;\n        modulesChanged = true;\n        if (shouldBeEnabled) {\n            axis.addModule(next);\n        }\n        else {\n            axis.removeModule(next);\n        }\n    }\n    return modulesChanged;\n}\nfunction registerListeners(source, listeners) {\n    source.clearEventListeners();\n    for (const property in listeners) {\n        const listener = listeners[property];\n        if (typeof listener !== 'function')\n            continue;\n        source.addEventListener(property, listener);\n    }\n}\nfunction applyOptionValues(target, options, { skip, path } = {}) {\n    const applyOpts = Object.assign(Object.assign(Object.assign({}, getJsonApplyOptions()), { skip }), (path ? { path } : {}));\n    return jsonApply(target, options, applyOpts);\n}\nfunction applySeriesValues(target, options, { path, index } = {}) {\n    var _a;\n    const skip = ['series[].listeners'];\n    const jsonApplyOptions = getJsonApplyOptions();\n    const ctrs = (_a = jsonApplyOptions.constructors) !== null && _a !== void 0 ? _a : {};\n    const seriesTypeOverrides = {\n        constructors: Object.assign(Object.assign({}, ctrs), { title: target.type === 'pie' ? PieTitle : ctrs['title'] }),\n    };\n    const applyOpts = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, jsonApplyOptions), seriesTypeOverrides), { skip: ['series[].type', ...(skip !== null && skip !== void 0 ? skip : [])] }), (path ? { path } : {})), { idx: index !== null && index !== void 0 ? index : -1 });\n    const result = jsonApply(target, options, applyOpts);\n    const listeners = options === null || options === void 0 ? void 0 : options.listeners;\n    if (listeners != null) {\n        registerListeners(target, listeners);\n    }\n    return result;\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Node, RedrawType, SceneChangeDetection } from './node.mjs';\nexport class Image extends Node {\n    constructor(sourceImage) {\n        super();\n        this.x = 0;\n        this.y = 0;\n        this.width = 0;\n        this.height = 0;\n        this.opacity = 1;\n        this.sourceImage = sourceImage;\n    }\n    render(renderCtx) {\n        const { ctx, forceRender, stats } = renderCtx;\n        if (this.dirty === RedrawType.NONE && !forceRender) {\n            if (stats)\n                stats.nodesSkipped++;\n            return;\n        }\n        this.computeTransformMatrix();\n        this.matrix.toContext(ctx);\n        const image = this.sourceImage;\n        ctx.globalAlpha = this.opacity;\n        ctx.drawImage(image, 0, 0, image.width, image.height, this.x, this.y, this.width, this.height);\n        super.render(renderCtx);\n    }\n}\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], Image.prototype, \"x\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], Image.prototype, \"y\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], Image.prototype, \"width\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], Image.prototype, \"height\", void 0);\n__decorate([\n    SceneChangeDetection({ redraw: RedrawType.MAJOR })\n], Image.prototype, \"opacity\", void 0);\n","import { themes as themeFactories } from './chart/mapping/themes.mjs';\nexport { getChartTheme } from './chart/mapping/themes.mjs';\nexport { ChartTheme, EXTENDS_SERIES_DEFAULTS, OVERRIDE_SERIES_LABEL_DEFAULTS, DEFAULT_FONT_FAMILY, } from './chart/themes/chartTheme.mjs';\nexport const themes = Object.entries(themeFactories).reduce((obj, [name, factory]) => {\n    obj[name] = factory();\n    return obj;\n}, {});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","/* eslint-disable no-var */\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    var getCurrentScript = require('@soda/get-current-script')\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_public_path__ = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","<template>\r\n<ag-charts-vue\r\n                    \r\n                    :options=\"options\"></ag-charts-vue>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { AgChartsVue } from \"ag-charts-vue3\";\r\nimport * as agCharts from \"ag-charts-community\";\r\n\r\nexport default ({\r\n    name: \"gepChartCustomerHistoricalComparison\",\r\n    components: {\r\n        \"ag-charts-vue\": AgChartsVue,\r\n    },\r\n    data: function () {\r\n    return {\r\n      options: null,\r\n    };\r\n  },\r\n  created() {\r\n    this.options = {\r\n      autoSize: true,\r\n      title: {\r\n        text: 'Mean Sea Level (mm)',\r\n      },\r\n\r\n      data: [\r\n    {\r\n      time: 1998,\r\n      mm: -18.044704295762713,\r\n    },\r\n    {\r\n      time: 1998.05,\r\n      mm: -8.01167395696654,\r\n    },\r\n    {\r\n      time: 1998.1,\r\n      mm: -11.723956003017026,\r\n    },\r\n    {\r\n      time: 1998.1499999999999,\r\n      mm: -13.950128097323676,\r\n    },\r\n    {\r\n      time: 1998.1999999999998,\r\n      mm: -18.568726152487848,\r\n    },\r\n    {\r\n      time: 1998.2499999999998,\r\n      mm: -16.9826460946247,\r\n    },\r\n    {\r\n      time: 1998.2999999999997,\r\n      mm: -14.237773696675355,\r\n    },\r\n    {\r\n      time: 1998.3499999999997,\r\n      mm: -10.498762915259096,\r\n    },\r\n    {\r\n      time: 1998.3999999999996,\r\n      mm: -10.5813146712348,\r\n    },\r\n    {\r\n      time: 1998.4499999999996,\r\n      mm: -11.80256206064789,\r\n    },\r\n    {\r\n      time: 1998.4999999999995,\r\n      mm: -5.9298308802357305,\r\n    },\r\n    {\r\n      time: 1998.5499999999995,\r\n      mm: -4.485394405421387,\r\n    },\r\n    {\r\n      time: 1998.5999999999995,\r\n      mm: -9.085616601658025,\r\n    },\r\n    {\r\n      time: 1998.6499999999994,\r\n      mm: -13.53351803257168,\r\n    },\r\n    {\r\n      time: 1998.6999999999994,\r\n      mm: -10.638713820906212,\r\n    },\r\n    {\r\n      time: 1998.7499999999993,\r\n      mm: -11.925245427689404,\r\n    },\r\n    {\r\n      time: 1998.7999999999993,\r\n      mm: -15.204691835196051,\r\n    },\r\n    {\r\n      time: 1998.8499999999992,\r\n      mm: -9.975145257530706,\r\n    },\r\n    {\r\n      time: 1998.8999999999992,\r\n      mm: -9.111788395881328,\r\n    },\r\n    {\r\n      time: 1998.9499999999991,\r\n      mm: -12.626260692955546,\r\n    },\r\n    {\r\n      time: 1998.999999999999,\r\n      mm: -6.470631442069884,\r\n    },\r\n    {\r\n      time: 1999.049999999999,\r\n      mm: -6.325711974577979,\r\n    },\r\n    {\r\n      time: 1999.099999999999,\r\n      mm: -6.948262274091785,\r\n    },\r\n    {\r\n      time: 1999.149999999999,\r\n      mm: -6.782176474476461,\r\n    },\r\n    {\r\n      time: 1999.199999999999,\r\n      mm: -9.58441476298171,\r\n    },\r\n    {\r\n      time: 1999.2499999999989,\r\n      mm: -2.955987327262733,\r\n    },\r\n    {\r\n      time: 1999.2999999999988,\r\n      mm: -8.71197033065971,\r\n    },\r\n    {\r\n      time: 1999.3499999999988,\r\n      mm: -7.3376252957588335,\r\n    },\r\n    {\r\n      time: 1999.3999999999987,\r\n      mm: -10.907341193561223,\r\n    },\r\n    {\r\n      time: 1999.4499999999987,\r\n      mm: -8.68863688090925,\r\n    },\r\n    {\r\n      time: 1999.4999999999986,\r\n      mm: -9.913720798033156,\r\n    },\r\n    {\r\n      time: 1999.5499999999986,\r\n      mm: -7.56520952284904,\r\n    },\r\n    {\r\n      time: 1999.5999999999985,\r\n      mm: -12.948614376814833,\r\n    },\r\n    {\r\n      time: 1999.6499999999985,\r\n      mm: -5.772033101863784,\r\n    },\r\n    {\r\n      time: 1999.6999999999985,\r\n      mm: -11.822446339666257,\r\n    },\r\n    {\r\n      time: 1999.7499999999984,\r\n      mm: -11.322700292901029,\r\n    },\r\n    {\r\n      time: 1999.7999999999984,\r\n      mm: -3.740090984751749,\r\n    },\r\n    {\r\n      time: 1999.8499999999983,\r\n      mm: -5.334569669010907,\r\n    },\r\n    {\r\n      time: 1999.8999999999983,\r\n      mm: -3.7203793477638065,\r\n    },\r\n    {\r\n      time: 1999.9499999999982,\r\n      mm: -8.511258109605286,\r\n    },\r\n    {\r\n      time: 1999.9999999999982,\r\n      mm: -10.173334290959453,\r\n    },\r\n    {\r\n      time: 2000.0499999999981,\r\n      mm: -12.32193293376777,\r\n    },\r\n    {\r\n      time: 2000.099999999998,\r\n      mm: 2.9198954882239665,\r\n    },\r\n    {\r\n      time: 2000.149999999998,\r\n      mm: -11.200621036166854,\r\n    },\r\n    {\r\n      time: 2000.199999999998,\r\n      mm: -1.5902175866924981,\r\n    },\r\n    {\r\n      time: 2000.249999999998,\r\n      mm: -0.2974904537808367,\r\n    },\r\n    {\r\n      time: 2000.299999999998,\r\n      mm: -3.4287219220995215,\r\n    },\r\n    {\r\n      time: 2000.3499999999979,\r\n      mm: -8.893091660102144,\r\n    },\r\n    {\r\n      time: 2000.3999999999978,\r\n      mm: -8.569403031523603,\r\n    },\r\n    {\r\n      time: 2000.4499999999978,\r\n      mm: -4.863271685844555,\r\n    },\r\n    {\r\n      time: 2000.4999999999977,\r\n      mm: -1.3106025098230472,\r\n    },\r\n    {\r\n      time: 2000.5499999999977,\r\n      mm: -3.378986244406452,\r\n    },\r\n    {\r\n      time: 2000.5999999999976,\r\n      mm: 0.6543209346728922,\r\n    },\r\n    {\r\n      time: 2000.6499999999976,\r\n      mm: -0.373219906579493,\r\n    },\r\n    {\r\n      time: 2000.6999999999975,\r\n      mm: 1.6636607747541667,\r\n    },\r\n    {\r\n      time: 2000.7499999999975,\r\n      mm: -0.3162884931932961,\r\n    },\r\n    {\r\n      time: 2000.7999999999975,\r\n      mm: 0.1663366792883112,\r\n    },\r\n    {\r\n      time: 2000.8499999999974,\r\n      mm: -0.17863332528387232,\r\n    },\r\n    {\r\n      time: 2000.8999999999974,\r\n      mm: -0.8227918713865856,\r\n    },\r\n    {\r\n      time: 2000.9499999999973,\r\n      mm: -0.6268209545787142,\r\n    },\r\n    {\r\n      time: 2000.9999999999973,\r\n      mm: -9.608531973024718,\r\n    },\r\n    {\r\n      time: 2001.0499999999972,\r\n      mm: -9.724677049240123,\r\n    },\r\n    {\r\n      time: 2001.0999999999972,\r\n      mm: 2.7475615038855583,\r\n    },\r\n    {\r\n      time: 2001.1499999999971,\r\n      mm: 3.5533567222360567,\r\n    },\r\n    {\r\n      time: 2001.199999999997,\r\n      mm: 4.249449591877086,\r\n    },\r\n    {\r\n      time: 2001.249999999997,\r\n      mm: -3.141816970310899,\r\n    },\r\n    {\r\n      time: 2001.299999999997,\r\n      mm: 0.26228922897072504,\r\n    },\r\n    {\r\n      time: 2001.349999999997,\r\n      mm: 2.7604234020367837,\r\n    },\r\n    {\r\n      time: 2001.399999999997,\r\n      mm: 2.699061335265049,\r\n    },\r\n    {\r\n      time: 2001.4499999999969,\r\n      mm: 1.8655180286262993,\r\n    },\r\n    {\r\n      time: 2001.4999999999968,\r\n      mm: 2.592347457795303,\r\n    },\r\n    {\r\n      time: 2001.5499999999968,\r\n      mm: 2.5268304782368674,\r\n    },\r\n    {\r\n      time: 2001.5999999999967,\r\n      mm: 4.740028528794215,\r\n    },\r\n    {\r\n      time: 2001.6499999999967,\r\n      mm: -7.810644184211567,\r\n    },\r\n    {\r\n      time: 2001.6999999999966,\r\n      mm: -1.3171470822362936,\r\n    },\r\n    {\r\n      time: 2001.7499999999966,\r\n      mm: 5.399431992332412,\r\n    },\r\n    {\r\n      time: 2001.7999999999965,\r\n      mm: -0.18041552671703087,\r\n    },\r\n    {\r\n      time: 2001.8499999999965,\r\n      mm: 2.035854537274691,\r\n    },\r\n    {\r\n      time: 2001.8999999999965,\r\n      mm: -0.027346254445385743,\r\n    },\r\n    {\r\n      time: 2001.9499999999964,\r\n      mm: -0.48574269299339257,\r\n    },\r\n    {\r\n      time: 2001.9999999999964,\r\n      mm: 2.9567025228818995,\r\n    },\r\n    {\r\n      time: 2002.0499999999963,\r\n      mm: 2.3152190704508375,\r\n    },\r\n    {\r\n      time: 2002.0999999999963,\r\n      mm: 1.7991980102523986,\r\n    },\r\n    {\r\n      time: 2002.1499999999962,\r\n      mm: 2.8799665606424787,\r\n    },\r\n    {\r\n      time: 2002.1999999999962,\r\n      mm: 6.366042262780211,\r\n    },\r\n    {\r\n      time: 2002.2499999999961,\r\n      mm: 8.718852610752014,\r\n    },\r\n    {\r\n      time: 2002.299999999996,\r\n      mm: 1.7025186486214263,\r\n    },\r\n    {\r\n      time: 2002.349999999996,\r\n      mm: 4.373973101767856,\r\n    },\r\n    {\r\n      time: 2002.399999999996,\r\n      mm: 0.9297333294445598,\r\n    },\r\n    {\r\n      time: 2002.449999999996,\r\n      mm: 6.199667197467772,\r\n    },\r\n    {\r\n      time: 2002.499999999996,\r\n      mm: -2.398646421871616,\r\n    },\r\n    {\r\n      time: 2002.5499999999959,\r\n      mm: -0.7268568139048419,\r\n    },\r\n    {\r\n      time: 2002.5999999999958,\r\n      mm: -0.7190093361980727,\r\n    },\r\n    {\r\n      time: 2002.6499999999958,\r\n      mm: 1.8554026111389144,\r\n    },\r\n    {\r\n      time: 2002.6999999999957,\r\n      mm: 3.9914498836091266,\r\n    },\r\n    {\r\n      time: 2002.7499999999957,\r\n      mm: 15.440503872842658,\r\n    },\r\n    {\r\n      time: 2002.7999999999956,\r\n      mm: 1.5880035716282626,\r\n    },\r\n    {\r\n      time: 2002.8499999999956,\r\n      mm: 9.980445660566572,\r\n    },\r\n    {\r\n      time: 2002.8999999999955,\r\n      mm: 4.651045119557397,\r\n    },\r\n    {\r\n      time: 2002.9499999999955,\r\n      mm: 3.3297163572320465,\r\n    },\r\n    {\r\n      time: 2002.9999999999955,\r\n      mm: 4.415742900089591,\r\n    },\r\n    {\r\n      time: 2003.0499999999954,\r\n      mm: 9.708295213794061,\r\n    },\r\n    {\r\n      time: 2003.0999999999954,\r\n      mm: 5.965017245184134,\r\n    },\r\n    {\r\n      time: 2003.1499999999953,\r\n      mm: 4.771305751998193,\r\n    },\r\n    {\r\n      time: 2003.1999999999953,\r\n      mm: 7.12125666676957,\r\n    },\r\n    {\r\n      time: 2003.2499999999952,\r\n      mm: 1.6841222053459948,\r\n    },\r\n    {\r\n      time: 2003.2999999999952,\r\n      mm: 5.427046091147847,\r\n    },\r\n    {\r\n      time: 2003.3499999999951,\r\n      mm: 4.260098331938561,\r\n    },\r\n    {\r\n      time: 2003.399999999995,\r\n      mm: 12.2087985658812,\r\n    },\r\n    {\r\n      time: 2003.449999999995,\r\n      mm: 4.292494785513127,\r\n    },\r\n    {\r\n      time: 2003.499999999995,\r\n      mm: 7.928077799491142,\r\n    },\r\n    {\r\n      time: 2003.549999999995,\r\n      mm: 14.726912160552136,\r\n    },\r\n    {\r\n      time: 2003.599999999995,\r\n      mm: 12.959736611753732,\r\n    },\r\n    {\r\n      time: 2003.6499999999949,\r\n      mm: 11.375494840011726,\r\n    },\r\n    {\r\n      time: 2003.6999999999948,\r\n      mm: 7.855139702702456,\r\n    },\r\n    {\r\n      time: 2003.7499999999948,\r\n      mm: 14.746993640258415,\r\n    },\r\n    {\r\n      time: 2003.7999999999947,\r\n      mm: 14.90504068108065,\r\n    },\r\n    {\r\n      time: 2003.8499999999947,\r\n      mm: 12.980904068233901,\r\n    },\r\n    {\r\n      time: 2003.8999999999946,\r\n      mm: 6.050365267483823,\r\n    },\r\n    {\r\n      time: 2003.9499999999946,\r\n      mm: 12.122837726119416,\r\n    },\r\n    {\r\n      time: 2003.9999999999945,\r\n      mm: 9.243529978656351,\r\n    },\r\n    {\r\n      time: 2004.0499999999945,\r\n      mm: 11.60677461614598,\r\n    },\r\n    {\r\n      time: 2004.0999999999945,\r\n      mm: 10.898001680018043,\r\n    },\r\n    {\r\n      time: 2004.1499999999944,\r\n      mm: 15.410302318361857,\r\n    },\r\n    {\r\n      time: 2004.1999999999944,\r\n      mm: 8.141969510915079,\r\n    },\r\n    {\r\n      time: 2004.2499999999943,\r\n      mm: 13.882930449128766,\r\n    },\r\n    {\r\n      time: 2004.2999999999943,\r\n      mm: 12.561292714117089,\r\n    },\r\n    {\r\n      time: 2004.3499999999942,\r\n      mm: 10.897184548985969,\r\n    },\r\n    {\r\n      time: 2004.3999999999942,\r\n      mm: 18.87841771419057,\r\n    },\r\n    {\r\n      time: 2004.4499999999941,\r\n      mm: 15.981372488627665,\r\n    },\r\n    {\r\n      time: 2004.499999999994,\r\n      mm: 18.567279636952097,\r\n    },\r\n    {\r\n      time: 2004.549999999994,\r\n      mm: 17.10185082769863,\r\n    },\r\n    {\r\n      time: 2004.599999999994,\r\n      mm: 16.65247308280955,\r\n    },\r\n    {\r\n      time: 2004.649999999994,\r\n      mm: 13.028204447681336,\r\n    },\r\n    {\r\n      time: 2004.699999999994,\r\n      mm: 20.431174406188045,\r\n    },\r\n    {\r\n      time: 2004.7499999999939,\r\n      mm: 8.890017191913248,\r\n    },\r\n    {\r\n      time: 2004.7999999999938,\r\n      mm: 17.99150402975073,\r\n    },\r\n    {\r\n      time: 2004.8499999999938,\r\n      mm: 19.5641052549399,\r\n    },\r\n    {\r\n      time: 2004.8999999999937,\r\n      mm: 17.64155069725755,\r\n    },\r\n    {\r\n      time: 2004.9499999999937,\r\n      mm: 12.615646074511668,\r\n    },\r\n    {\r\n      time: 2004.9999999999936,\r\n      mm: 18.551882563736555,\r\n    },\r\n    {\r\n      time: 2005.0499999999936,\r\n      mm: 17.151807608204187,\r\n    },\r\n    {\r\n      time: 2005.0999999999935,\r\n      mm: 22.212036738549756,\r\n    },\r\n    {\r\n      time: 2005.1499999999935,\r\n      mm: 9.4395400078233,\r\n    },\r\n    {\r\n      time: 2005.1999999999935,\r\n      mm: 24.335806157416066,\r\n    },\r\n    {\r\n      time: 2005.2499999999934,\r\n      mm: 10.713520135045385,\r\n    },\r\n    {\r\n      time: 2005.2999999999934,\r\n      mm: 14.67159085937137,\r\n    },\r\n    {\r\n      time: 2005.3499999999933,\r\n      mm: 21.475871387776394,\r\n    },\r\n    {\r\n      time: 2005.3999999999933,\r\n      mm: 12.62581684210625,\r\n    },\r\n    {\r\n      time: 2005.4499999999932,\r\n      mm: 19.969362382031832,\r\n    },\r\n    {\r\n      time: 2005.4999999999932,\r\n      mm: 20.39135541077421,\r\n    },\r\n    {\r\n      time: 2005.5499999999931,\r\n      mm: 28.041637444740815,\r\n    },\r\n    {\r\n      time: 2005.599999999993,\r\n      mm: 18.013067221562903,\r\n    },\r\n    {\r\n      time: 2005.649999999993,\r\n      mm: 21.53979641696595,\r\n    },\r\n    {\r\n      time: 2005.699999999993,\r\n      mm: 24.43129032832503,\r\n    },\r\n    {\r\n      time: 2005.749999999993,\r\n      mm: 26.72716950873879,\r\n    },\r\n    {\r\n      time: 2005.799999999993,\r\n      mm: 22.53662533319716,\r\n    },\r\n    {\r\n      time: 2005.8499999999929,\r\n      mm: 19.913635704521237,\r\n    },\r\n    {\r\n      time: 2005.8999999999928,\r\n      mm: 22.03129582463497,\r\n    },\r\n    {\r\n      time: 2005.9499999999928,\r\n      mm: 18.317440743356144,\r\n    },\r\n    {\r\n      time: 2005.9999999999927,\r\n      mm: 19.725095158845217,\r\n    },\r\n    {\r\n      time: 2006.0499999999927,\r\n      mm: 22.738629159922755,\r\n    },\r\n    {\r\n      time: 2006.0999999999926,\r\n      mm: 17.544782550283344,\r\n    },\r\n    {\r\n      time: 2006.1499999999926,\r\n      mm: 18.29826776588348,\r\n    },\r\n    {\r\n      time: 2006.1999999999925,\r\n      mm: 20.07957708032884,\r\n    },\r\n    {\r\n      time: 2006.2499999999925,\r\n      mm: 20.725443030710046,\r\n    },\r\n    {\r\n      time: 2006.2999999999925,\r\n      mm: 28.689084452452917,\r\n    },\r\n    {\r\n      time: 2006.3499999999924,\r\n      mm: 20.049201040306247,\r\n    },\r\n    {\r\n      time: 2006.3999999999924,\r\n      mm: 33.12787607661357,\r\n    },\r\n    {\r\n      time: 2006.4499999999923,\r\n      mm: 18.032189154186995,\r\n    },\r\n    {\r\n      time: 2006.4999999999923,\r\n      mm: 26.879880575490855,\r\n    },\r\n    {\r\n      time: 2006.5499999999922,\r\n      mm: 27.966175337986606,\r\n    },\r\n    {\r\n      time: 2006.5999999999922,\r\n      mm: 18.3544407118249,\r\n    },\r\n    {\r\n      time: 2006.6499999999921,\r\n      mm: 24.50844341222195,\r\n    },\r\n    {\r\n      time: 2006.699999999992,\r\n      mm: 18.691452025192042,\r\n    },\r\n    {\r\n      time: 2006.749999999992,\r\n      mm: 34.704555934620984,\r\n    },\r\n    {\r\n      time: 2006.799999999992,\r\n      mm: 22.599513393893588,\r\n    },\r\n    {\r\n      time: 2006.849999999992,\r\n      mm: 33.13097089910198,\r\n    },\r\n    {\r\n      time: 2006.899999999992,\r\n      mm: 19.42426459222666,\r\n    },\r\n    {\r\n      time: 2006.9499999999919,\r\n      mm: 23.873776525653962,\r\n    },\r\n    {\r\n      time: 2006.9999999999918,\r\n      mm: 20.93050206432765,\r\n    },\r\n    {\r\n      time: 2007.0499999999918,\r\n      mm: 31.545209528324147,\r\n    },\r\n    {\r\n      time: 2007.0999999999917,\r\n      mm: 25.25323147059744,\r\n    },\r\n    {\r\n      time: 2007.1499999999917,\r\n      mm: 29.40516663777317,\r\n    },\r\n    {\r\n      time: 2007.1999999999916,\r\n      mm: 24.137749671683633,\r\n    },\r\n    {\r\n      time: 2007.2499999999916,\r\n      mm: 22.952227348054084,\r\n    },\r\n    {\r\n      time: 2007.2999999999915,\r\n      mm: 26.569614793245552,\r\n    },\r\n    {\r\n      time: 2007.3499999999915,\r\n      mm: 28.973873895627637,\r\n    },\r\n    {\r\n      time: 2007.3999999999915,\r\n      mm: 26.038055355356217,\r\n    },\r\n    {\r\n      time: 2007.4499999999914,\r\n      mm: 33.48790207600345,\r\n    },\r\n    {\r\n      time: 2007.4999999999914,\r\n      mm: 29.1900095847528,\r\n    },\r\n    {\r\n      time: 2007.5499999999913,\r\n      mm: 25.216337654110596,\r\n    },\r\n    {\r\n      time: 2007.5999999999913,\r\n      mm: 24.775555868607483,\r\n    },\r\n    {\r\n      time: 2007.6499999999912,\r\n      mm: 29.992547812621066,\r\n    },\r\n    {\r\n      time: 2007.6999999999912,\r\n      mm: 29.906922369334055,\r\n    },\r\n    {\r\n      time: 2007.7499999999911,\r\n      mm: 31.619306852556317,\r\n    },\r\n    {\r\n      time: 2007.799999999991,\r\n      mm: 35.435816641309415,\r\n    },\r\n    {\r\n      time: 2007.849999999991,\r\n      mm: 34.45445276718546,\r\n    },\r\n    {\r\n      time: 2007.899999999991,\r\n      mm: 23.994290321446243,\r\n    },\r\n    {\r\n      time: 2007.949999999991,\r\n      mm: 29.594922929454924,\r\n    },\r\n    {\r\n      time: 2007.999999999991,\r\n      mm: 32.218242518852534,\r\n    },\r\n    {\r\n      time: 2008.0499999999909,\r\n      mm: 21.2582103727037,\r\n    },\r\n    {\r\n      time: 2008.0999999999908,\r\n      mm: 34.94057999762386,\r\n    },\r\n    {\r\n      time: 2008.1499999999908,\r\n      mm: 28.81490377885196,\r\n    },\r\n    {\r\n      time: 2008.1999999999907,\r\n      mm: 26.934959354283485,\r\n    },\r\n    {\r\n      time: 2008.2499999999907,\r\n      mm: 25.68184116258691,\r\n    },\r\n    {\r\n      time: 2008.2999999999906,\r\n      mm: 29.27000013607092,\r\n    },\r\n    {\r\n      time: 2008.3499999999906,\r\n      mm: 32.82175946954303,\r\n    },\r\n    {\r\n      time: 2008.3999999999905,\r\n      mm: 37.92542795885618,\r\n    },\r\n    {\r\n      time: 2008.4499999999905,\r\n      mm: 29.86111826577077,\r\n    },\r\n    {\r\n      time: 2008.4999999999905,\r\n      mm: 29.752246614473055,\r\n    },\r\n    {\r\n      time: 2008.5499999999904,\r\n      mm: 33.16215081564422,\r\n    },\r\n    {\r\n      time: 2008.5999999999904,\r\n      mm: 38.39353089627636,\r\n    },\r\n    {\r\n      time: 2008.6499999999903,\r\n      mm: 34.7390013596042,\r\n    },\r\n    {\r\n      time: 2008.6999999999903,\r\n      mm: 44.6554557756114,\r\n    },\r\n    {\r\n      time: 2008.7499999999902,\r\n      mm: 44.670028636136436,\r\n    },\r\n    {\r\n      time: 2008.7999999999902,\r\n      mm: 32.467832814805,\r\n    },\r\n    {\r\n      time: 2008.8499999999901,\r\n      mm: 35.21771148916366,\r\n    },\r\n    {\r\n      time: 2008.89999999999,\r\n      mm: 28.980783637163047,\r\n    },\r\n    {\r\n      time: 2008.94999999999,\r\n      mm: 29.474242069765115,\r\n    },\r\n    {\r\n      time: 2008.99999999999,\r\n      mm: 35.70027684910628,\r\n    },\r\n    {\r\n      time: 2009.04999999999,\r\n      mm: 36.66640748546295,\r\n    },\r\n    {\r\n      time: 2009.09999999999,\r\n      mm: 38.28125714265353,\r\n    },\r\n    {\r\n      time: 2009.1499999999899,\r\n      mm: 30.86118387555772,\r\n    },\r\n    {\r\n      time: 2009.1999999999898,\r\n      mm: 34.14976343207722,\r\n    },\r\n    {\r\n      time: 2009.2499999999898,\r\n      mm: 30.311590224797307,\r\n    },\r\n    {\r\n      time: 2009.2999999999897,\r\n      mm: 33.12161381695369,\r\n    },\r\n    {\r\n      time: 2009.3499999999897,\r\n      mm: 27.202150358392004,\r\n    },\r\n    {\r\n      time: 2009.3999999999896,\r\n      mm: 32.450665456829846,\r\n    },\r\n    {\r\n      time: 2009.4499999999896,\r\n      mm: 41.829619335658045,\r\n    },\r\n    {\r\n      time: 2009.4999999999895,\r\n      mm: 37.79502641904563,\r\n    },\r\n    {\r\n      time: 2009.5499999999895,\r\n      mm: 37.327501706660456,\r\n    },\r\n    {\r\n      time: 2009.5999999999894,\r\n      mm: 42.59074289376976,\r\n    },\r\n    {\r\n      time: 2009.6499999999894,\r\n      mm: 34.713566410332405,\r\n    },\r\n    {\r\n      time: 2009.6999999999894,\r\n      mm: 33.8454724212374,\r\n    },\r\n    {\r\n      time: 2009.7499999999893,\r\n      mm: 33.85551755707323,\r\n    },\r\n    {\r\n      time: 2009.7999999999893,\r\n      mm: 38.44131577360343,\r\n    },\r\n    {\r\n      time: 2009.8499999999892,\r\n      mm: 34.01133575190159,\r\n    },\r\n    {\r\n      time: 2009.8999999999892,\r\n      mm: 40.734904554081275,\r\n    },\r\n    {\r\n      time: 2009.9499999999891,\r\n      mm: 37.69440629874941,\r\n    },\r\n    {\r\n      time: 2009.999999999989,\r\n      mm: 43.65512099702232,\r\n    },\r\n    {\r\n      time: 2010.049999999989,\r\n      mm: 44.53855675976268,\r\n    },\r\n    {\r\n      time: 2010.099999999989,\r\n      mm: 34.580252737624555,\r\n    },\r\n    {\r\n      time: 2010.149999999989,\r\n      mm: 36.3044869070914,\r\n    },\r\n    {\r\n      time: 2010.199999999989,\r\n      mm: 34.935323475623214,\r\n    },\r\n    {\r\n      time: 2010.2499999999889,\r\n      mm: 38.544021319788065,\r\n    },\r\n    {\r\n      time: 2010.2999999999888,\r\n      mm: 37.69994364087048,\r\n    },\r\n    {\r\n      time: 2010.3499999999888,\r\n      mm: 37.01352175828303,\r\n    },\r\n    {\r\n      time: 2010.3999999999887,\r\n      mm: 31.364911225433474,\r\n    },\r\n    {\r\n      time: 2010.4499999999887,\r\n      mm: 41.92653957695048,\r\n    },\r\n    {\r\n      time: 2010.4999999999886,\r\n      mm: 39.13930732971747,\r\n    },\r\n    {\r\n      time: 2010.5499999999886,\r\n      mm: 32.4230503673564,\r\n    },\r\n    {\r\n      time: 2010.5999999999885,\r\n      mm: 45.92332001275658,\r\n    },\r\n    {\r\n      time: 2010.6499999999885,\r\n      mm: 45.42805076602833,\r\n    },\r\n    {\r\n      time: 2010.6999999999884,\r\n      mm: 35.34184620278239,\r\n    },\r\n    {\r\n      time: 2010.7499999999884,\r\n      mm: 41.96927369628975,\r\n    },\r\n    {\r\n      time: 2010.7999999999884,\r\n      mm: 55.946105121932945,\r\n    },\r\n    {\r\n      time: 2010.8499999999883,\r\n      mm: 51.79230227596097,\r\n    },\r\n    {\r\n      time: 2010.8999999999883,\r\n      mm: 45.46426892020041,\r\n    },\r\n    {\r\n      time: 2010.9499999999882,\r\n      mm: 45.27959481231892,\r\n    },\r\n    {\r\n      time: 2010.9999999999882,\r\n      mm: 43.027412523819585,\r\n    },\r\n    {\r\n      time: 2011.0499999999881,\r\n      mm: 39.8879529362198,\r\n    },\r\n    {\r\n      time: 2011.099999999988,\r\n      mm: 42.78890561958068,\r\n    },\r\n    {\r\n      time: 2011.149999999988,\r\n      mm: 40.43630068974813,\r\n    },\r\n    {\r\n      time: 2011.199999999988,\r\n      mm: 45.5441947549631,\r\n    },\r\n    {\r\n      time: 2011.249999999988,\r\n      mm: 48.59433430815706,\r\n    },\r\n    {\r\n      time: 2011.299999999988,\r\n      mm: 44.69424073749984,\r\n    },\r\n    {\r\n      time: 2011.3499999999879,\r\n      mm: 49.22484372965325,\r\n    },\r\n    {\r\n      time: 2011.3999999999878,\r\n      mm: 31.32083108929117,\r\n    },\r\n    {\r\n      time: 2011.4499999999878,\r\n      mm: 45.77863789209616,\r\n    },\r\n    {\r\n      time: 2011.4999999999877,\r\n      mm: 49.59001066037766,\r\n    },\r\n    {\r\n      time: 2011.5499999999877,\r\n      mm: 41.420637392649475,\r\n    },\r\n    {\r\n      time: 2011.5999999999876,\r\n      mm: 51.88379530742566,\r\n    },\r\n    {\r\n      time: 2011.6499999999876,\r\n      mm: 53.69537450924408,\r\n    },\r\n    {\r\n      time: 2011.6999999999875,\r\n      mm: 41.64122130895057,\r\n    },\r\n    {\r\n      time: 2011.7499999999875,\r\n      mm: 50.87074674721288,\r\n    },\r\n    {\r\n      time: 2011.7999999999874,\r\n      mm: 47.74692871527646,\r\n    },\r\n    {\r\n      time: 2011.8499999999874,\r\n      mm: 42.003562334542565,\r\n    },\r\n    {\r\n      time: 2011.8999999999874,\r\n      mm: 45.00064478378242,\r\n    },\r\n    {\r\n      time: 2011.9499999999873,\r\n      mm: 52.58461914267784,\r\n    },\r\n    {\r\n      time: 2011.9999999999873,\r\n      mm: 44.48000793743117,\r\n    },\r\n    {\r\n      time: 2012.0499999999872,\r\n      mm: 49.77313335586189,\r\n    },\r\n    {\r\n      time: 2012.0999999999872,\r\n      mm: 44.13010614066648,\r\n    },\r\n    {\r\n      time: 2012.1499999999871,\r\n      mm: 45.17222626974958,\r\n    },\r\n    {\r\n      time: 2012.199999999987,\r\n      mm: 45.394199326276585,\r\n    },\r\n    {\r\n      time: 2012.249999999987,\r\n      mm: 40.88614823803925,\r\n    },\r\n    {\r\n      time: 2012.299999999987,\r\n      mm: 53.819374661543904,\r\n    },\r\n    {\r\n      time: 2012.349999999987,\r\n      mm: 47.93862079276136,\r\n    },\r\n    {\r\n      time: 2012.399999999987,\r\n      mm: 48.23538407731764,\r\n    },\r\n    {\r\n      time: 2012.4499999999869,\r\n      mm: 43.781820026161405,\r\n    },\r\n    {\r\n      time: 2012.4999999999868,\r\n      mm: 47.65097175733099,\r\n    },\r\n    {\r\n      time: 2012.5499999999868,\r\n      mm: 46.84727093739718,\r\n    },\r\n    {\r\n      time: 2012.5999999999867,\r\n      mm: 51.13113606417207,\r\n    },\r\n    {\r\n      time: 2012.6499999999867,\r\n      mm: 59.62392518885257,\r\n    },\r\n    {\r\n      time: 2012.6999999999866,\r\n      mm: 55.93657038324557,\r\n    },\r\n    {\r\n      time: 2012.7499999999866,\r\n      mm: 55.74069731509539,\r\n    },\r\n    {\r\n      time: 2012.7999999999865,\r\n      mm: 61.29934446303331,\r\n    },\r\n    {\r\n      time: 2012.8499999999865,\r\n      mm: 49.016392727908006,\r\n    },\r\n    {\r\n      time: 2012.8999999999864,\r\n      mm: 45.08149281950582,\r\n    },\r\n    {\r\n      time: 2012.9499999999864,\r\n      mm: 55.66940410520621,\r\n    },\r\n    {\r\n      time: 2012.9999999999864,\r\n      mm: 62.18171546736599,\r\n    },\r\n  ],\r\n      series: [\r\n        {\r\n          type: 'scatter',\r\n          xKey: 'time',\r\n          yKey: 'mm',\r\n        },\r\n      ],\r\n    };\r\n  },\r\n\r\n})\r\n\r\n</script>\r\n","import { render } from \"./agCharts.vue?vue&type=template&id=28ce898c\"\nimport script from \"./agCharts.vue?vue&type=script&lang=js\"\nexport * from \"./agCharts.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineCustomElement } from 'vue'\r\nimport charts from './components/agCharts.vue';\r\nconst element = defineCustomElement(charts);\r\ncustomElements.define(\"ag-charts\", element);"],"names":["root","factory","exports","module","define","amd","self","this","isCallable","tryToString","$TypeError","TypeError","argument","$String","String","isPrototypeOf","it","Prototype","isObject","toIndexedObject","toAbsoluteIndex","lengthOfArrayLike","createMethod","IS_INCLUDES","$this","el","fromIndex","value","O","length","index","includes","indexOf","DESCRIPTORS","isArray","getOwnPropertyDescriptor","Object","SILENT_ON_NON_WRITABLE_LENGTH_SET","undefined","defineProperty","writable","error","uncurryThis","toString","stringSlice","slice","TO_STRING_TAG_SUPPORT","classofRaw","wellKnownSymbol","TO_STRING_TAG","$Object","CORRECT_ARGUMENTS","arguments","tryGet","key","tag","result","callee","hasOwn","ownKeys","getOwnPropertyDescriptorModule","definePropertyModule","target","source","exceptions","keys","f","i","createPropertyDescriptor","object","bitmap","enumerable","configurable","makeBuiltIn","defineGlobalProperty","options","simple","name","global","unsafe","nonConfigurable","nonWritable","fails","get","documentAll","document","all","IS_HTMLDDA","EXISTS","createElement","MAX_SAFE_INTEGER","IndexSizeError","s","c","m","DOMStringSizeError","HierarchyRequestError","WrongDocumentError","InvalidCharacterError","NoDataAllowedError","NoModificationAllowedError","NotFoundError","NotSupportedError","InUseAttributeError","InvalidStateError","SyntaxError","InvalidModificationError","NamespaceError","InvalidAccessError","ValidationError","TypeMismatchError","SecurityError","NetworkError","AbortError","URLMismatchError","QuotaExceededError","TimeoutError","InvalidNodeTypeError","DataCloneError","navigator","userAgent","match","version","process","Deno","versions","v8","split","$Error","Error","replace","TEST","arg","stack","V8_OR_CHAKRA_STACK_ENTRY","IS_V8_OR_CHAKRA_STACK","test","dropEntries","prepareStackTrace","createNonEnumerableProperty","defineBuiltIn","copyConstructorProperties","isForced","FORCED","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","prototype","dontCallGetSet","forced","sham","exec","bind","hasOwnProperty","NATIVE_BIND","call","Function","apply","FunctionPrototype","getDescriptor","PROPER","CONFIGURABLE","aCallable","method","uncurryThisWithBind","fn","aFunction","namespace","isNullOrUndefined","V","P","func","check","Math","globalThis","window","g","toObject","a","classof","propertyIsEnumerable","setPrototypeOf","dummy","Wrapper","NewTarget","NewTargetPrototype","constructor","store","functionToString","inspectSource","set","has","NATIVE_WEAK_MAP","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","enforce","getterFor","TYPE","state","type","metadata","facade","STATE","Array","$documentAll","replacement","feature","detection","data","normalize","POLYFILL","NATIVE","string","toLowerCase","getBuiltIn","USE_SYMBOL_AS_UID","$Symbol","toLength","obj","CONFIGURABLE_FUNCTION_NAME","InternalStateModule","enforceInternalState","getInternalState","join","CONFIGURABLE_LENGTH","TEMPLATE","getter","setter","arity","ceil","floor","trunc","x","n","$default","IE8_DOM_DEFINE","V8_PROTOTYPE_DEFINE_BUG","anObject","toPropertyKey","$defineProperty","$getOwnPropertyDescriptor","ENUMERABLE","WRITABLE","Attributes","current","propertyIsEnumerableModule","internalObjectKeys","enumBugKeys","concat","getOwnPropertyNames","getOwnPropertySymbols","push","names","$propertyIsEnumerable","NASHORN_BUG","uncurryThisAccessor","aPossiblePrototype","CORRECT_SETTER","proto","__proto__","input","pref","val","valueOf","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","uid","SHARED","IS_PURE","mode","copyright","license","V8_VERSION","symbol","Symbol","toIntegerOrInfinity","max","min","integer","IndexedObject","requireObjectCoercible","number","isSymbol","getMethod","ordinaryToPrimitive","TO_PRIMITIVE","exoticToPrim","toPrimitive","id","postfix","random","NATIVE_SYMBOL","iterator","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","$","setArrayLength","doesNotExceedSafeInteger","INCORRECT_TO_LENGTH","properErrorOnNonWritableLength","item","len","argCount","anInstance","inheritIfRequired","normalizeStringArgument","DOMExceptionConstants","clearErrorStack","DOM_EXCEPTION","NativeDOMException","$DOMException","DOMExceptionPrototype","argumentsLength","message","that","ERROR_HAS_STACK","DOM_EXCEPTION_HAS_STACK","BUGGY_DESCRIPTOR","FORCED_CONSTRUCTOR","DOMException","PolyfilledDOMException","PolyfilledDOMExceptionPrototype","constant","constantName","activeEffectScope","EffectScope","detached","_active","effects","cleanups","parent","scopes","active","run","currentEffectScope","on","off","stop","fromParent","l","last","pop","effectScope","recordEffectScope","effect","scope","getCurrentScope","onScopeDispose","createDep","dep","Set","w","wasTracked","trackOpBit","newTracked","initDepMarkers","deps","finalizeDepMarkers","ptr","delete","targetMap","effectTrackDepth","maxMarkerBits","activeEffect","ITERATE_KEY","MAP_KEY_ITERATE_KEY","ReactiveEffect","scheduler","lastShouldTrack","shouldTrack","cleanupEffect","deferStop","onStop","effect2","_effect","extend","lazy","runner","trackStack","pauseTracking","resetTracking","track","depsMap","Map","eventInfo","trackEffects","debuggerEventExtraInfo","shouldTrack2","add","trigger","newValue","oldValue","oldTarget","values","newLength","Number","forEach","key2","isIntegerKey","isMap","triggerEffects","computed","triggerEffect","allowRecurse","getDepFromReactive","_a","isNonTrackableKeys","makeMap","builtInSymbols","filter","map","get$1","createGetter","shallowGet","readonlyGet","shallowReadonlyGet","arrayInstrumentations","createArrayInstrumentations","instrumentations","args","arr","toRaw","res","isReadonly2","shallow","receiver","shallowReadonlyMap","readonlyMap","shallowReactiveMap","reactiveMap","targetIsArray","Reflect","isRef","readonly","reactive","set$1","createSetter","shallowSet","isReadonly","isShallow","hadKey","hasChanged","deleteProperty","has$1","mutableHandlers","readonlyHandlers","shallowReactiveHandlers","shallowReadonlyHandlers","toShallow","getProto","v","getPrototypeOf","rawTarget","rawKey","has2","wrap","toReadonly","toReactive","size","get2","deleteEntry","clear","hadItems","createForEach","callback","thisArg","observed","createIterableMethod","targetIsMap","isPair","isKeyOnly","innerIterator","next","done","createReadonlyMethod","createInstrumentations","mutableInstrumentations2","shallowInstrumentations2","readonlyInstrumentations2","shallowReadonlyInstrumentations2","iteratorMethods","mutableInstrumentations","readonlyInstrumentations","shallowInstrumentations","shallowReadonlyInstrumentations","createInstrumentationGetter","mutableCollectionHandlers","shallowCollectionHandlers","readonlyCollectionHandlers","shallowReadonlyCollectionHandlers","targetTypeMap","rawType","getTargetType","isExtensible","toRawType","createReactiveObject","shallowReactive","shallowReadonly","baseHandlers","collectionHandlers","proxyMap","existingProxy","targetType","proxy","Proxy","isReactive","isProxy","raw","markRaw","def","trackRefValue","ref2","triggerRefValue","newVal","r","__v_isRef","ref","createRef","shallowRef","rawValue","RefImpl","__v_isShallow","_rawValue","_value","useDirectValue","triggerRef","unref","toValue","isFunction","shallowUnwrapHandlers","proxyRefs","objectWithRefs","CustomRefImpl","_get","_set","customRef","toRefs","ret","propertyToRef","ObjectRefImpl","_object","_key","_defaultValue","GetterRefImpl","_getter","__v_isReadonly","toRef","defaultValue","ComputedRefImpl","_setter","isSSR","_dirty","_cacheable","getterOrOptions","debugOptions","onlyGetter","NOOP","cRef","str","expectsLowerCase","create","list","EMPTY_OBJ","EMPTY_ARR","NO","onRE","isOn","isModelListener","startsWith","assign","remove","splice","toTypeString","isSet","isDate","isRegExp","isString","isPromise","then","catch","objectToString","isPlainObject","parseInt","isReservedProp","isBuiltInDirective","cacheStringFunction","cache","hit","camelizeRE","camelize","_","toUpperCase","hyphenateRE","hyphenate","capitalize","charAt","toHandlerKey","is","invokeArrayFns","fns","looseToNumber","parseFloat","isNaN","toNumber","NaN","_globalThis","getGlobalThis","PatchFlagNames","GLOBALS_WHITE_LISTED","isGloballyWhitelisted","range","generateCodeFrame","start","end","lines","newlineSequences","idx","count","j","line","repeat","lineLength","newLineSeqLength","pad","normalizeStyle","normalized","parseStringStyle","listDelimiterRE","propertyDelimiterRE","styleCommentRE","cssText","tmp","trim","normalizeClass","normalizeProps","props","class","klass","style","HTML_TAGS","SVG_TAGS","VOID_TAGS","isHTMLTag","isSVGTag","isVoidTag","specialBooleanAttrs","isSpecialBooleanAttr","includeBooleanAttr","looseCompareArrays","b","equal","looseEqual","aValidType","bValidType","getTime","aKeysCount","bKeysCount","aHasKey","bHasKey","looseIndexOf","findIndex","toDisplayString","JSON","stringify","replacer","entries","reduce","val2","_classCallCheck","instance","Constructor","_defineProperties","_createClass","protoProps","staticProps","_defineProperty","enumerableOnly","symbols","sym","_objectSpread2","getOwnPropertyDescriptors","defineProperties","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","o","p","_isNativeReflectConstruct","construct","Date","e","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","Super","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_arrayLikeToArray","iter","from","minLen","arr2","defineGetter","defineProxy","getSuper","Ctor","superProto","getOwn","VueImpl","ctx","_this","attrs","slots","emit","_this$__h","__h","Props","propsMeta","meta","PropsMixin","_this2","_super","__b","Vue","__c","__vccOpts","base","mixins","unshift","methods","setup","_promise","dataKeys","plainData","promise","__s","setupState","Promise","resolve","decorators","injections","Options","Component","__o","__decorate","desc","d","decorate","AgChartsVue","super","isCreated","isDestroyed","render","h","height","mounted","applyContainerIfNotSet","chart","AgChart","$watch","processChanges","deep","waitForUpdate","$emit","destroyed","destroy","unmounted","currentValue","previousValue","update","propsOptions","container","$refs","agChartRef","emits","__export","require","sfc","warn","msg","assertNumber","callWithErrorHandling","err","handleError","callWithAsyncErrorHandling","throwInDev","contextVNode","vnode","cur","exposedInstance","errorInfo","errorCapturedHooks","ec","appErrorHandler","appContext","config","errorHandler","logError","console","isFlushing","isFlushPending","queue","flushIndex","pendingPostFlushCbs","activePostFlushCbs","postFlushIndex","resolvedPromise","currentFlushPromise","nextTick","findInsertionIndex","middle","middleJobId","getId","queueJob","job","queueFlush","flushJobs","invalidateJob","queuePostFlushCb","cb","flushPreFlushCbs","seen","pre","flushPostFlushCbs","deduped","sort","Infinity","comparator","diff","devtools","buffer","devtoolsNotInstalled","setDevtoolsHook","hook","_b","enabled","event","HTMLElement","replay","__VUE_DEVTOOLS_HOOK_REPLAY__","newHook","setTimeout","rawArgs","isUnmounted","modelArg","modifiersKey","handlerName","handler","onceHandler","emitted","normalizeEmitsOptions","comp","asMixin","emitsCache","cached","hasExtends","extendEmits","raw2","normalizedFromExtend","extends","isEmitListener","currentRenderingInstance","currentScopeId","setCurrentRenderingInstance","prev","__scopeId","pushScopeId","popScopeId","withScopeId","_id","withCtx","isNonScopedSlot","_n","renderFnWithContext","_d","setBlockTracking","prevInstance","_c","renderComponentRoot","withProxy","renderCache","inheritAttrs","fallthroughAttrs","shapeFlag","proxyToUse","normalizeVNode","render2","getFunctionalFallthrough","blockStack","createVNode","Comment","some","filterModelListeners","cloneVNode","dirs","transition","filterSingleRoot","children","singleRoot","child","isVNode","shouldUpdateComponent","prevVNode","nextVNode","optimized","prevProps","prevChildren","component","nextProps","nextChildren","patchFlag","emitsOptions","$stable","hasPropsChanged","dynamicProps","nextKeys","updateHOCHostEl","subTree","isSuspense","__isSuspense","SuspenseImpl","n1","n2","anchor","parentComponent","parentSuspense","isSVG","slotScopeIds","rendererInternals","mountSuspense","patchSuspense","hydrate","hydrateSuspense","createSuspenseBoundary","normalizeSuspenseChildren","Suspense","triggerEvent","eventListener","patch","hiddenContainer","suspense","pendingBranch","ssContent","ssFallback","setActiveBranch","um","unmount","newBranch","newFallback","activeBranch","isInFallback","isHydrating","isSameVNodeType","pendingId","timeout","fallback","move","parentNode","parentSuspenseId","isSuspensible","isVNodeSuspensible","resume","sync","vnode2","parentComponent2","container2","delayEnter","afterLeave","anchor2","hasUnresolvedAncestor","fallbackVNode","isSVG2","mountFallback","registerDep","setupRenderEffect","isInPendingSuspense","hydratedEl","asyncDep","asyncSetupResult","suspenseId","asyncResolved","handleSetupResult","placeholder","parentSuspense2","doRemove","node","hydrateNode","isSlotChildren","normalizeSuspenseSlot","default","block","trackBlock","isBlockTreeEnabled","openBlock","currentBlock","closeBlock","singleChild","dynamicChildren","queueEffectWithSuspense","branch","suspensible","watchEffect","doWatch","watchPostEffect","flush","watchSyncEffect","INITIAL_WATCHER_VALUE","watch","immediate","onTrack","onTrigger","currentInstance","cleanup","forceTrigger","isMultiSource","isShallow$1","traverse","onCleanup","baseGetter","ssrCleanup","isInSSRComponentSetup","useSSRContext","__watcherHandles","fill","queuePostRenderEffect","unwatch","instanceWatch","publicThis","createPathGetter","setCurrentInstance","unsetCurrentInstance","path","segments","withDirectives","directives","internalInstance","getExposeProxy","bindings","dir","modifiers","updated","invokeDirectiveHook","oldBindings","binding","useTransitionState","isMounted","isLeaving","isUnmounting","leavingVNodes","onMounted","onBeforeUnmount","TransitionHookValidator","BaseTransitionPropsValidators","appear","Boolean","persisted","onBeforeEnter","onEnter","onAfterEnter","onEnterCancelled","onBeforeLeave","onLeave","onAfterLeave","onLeaveCancelled","onBeforeAppear","onAppear","onAfterAppear","onAppearCancelled","BaseTransitionImpl","getCurrentInstance","prevTransitionKey","getTransitionRawChildren","hasFound","rawProps","emptyPlaceholder","innerChild","getKeepAliveChild","enterHooks","resolveTransitionHooks","setTransitionHooks","oldChild","oldInnerChild","transitionKeyChanged","getTransitionKey","leavingHooks","delayLeave","earlyRemove","delayedLeave","leavingVNodesCache","getLeavingNodesForType","_leaveCb","BaseTransition","callHook","callAsyncHook","every","hook2","hooks","beforeEnter","leavingVNode","enter","afterHook","cancelHook","called","_enterCb","cancelled","leave","clone","isKeepAlive","keepComment","parentKey","keyedFragmentCount","Fragment","defineComponent","extraOptions","isAsyncWrapper","__asyncLoader","defineAsyncComponent","loader","loadingComponent","errorComponent","delay","onError","userOnError","resolvedComp","pendingRequest","retries","retry","load","thisRequest","reject","userRetry","userFail","__esModule","toStringTag","__asyncResolved","createInnerComp","loaded","delayed","ce","__isKeepAlive","KeepAliveImpl","include","RegExp","exclude","sharedContext","renderer","_unmount","storageContainer","resetShapeFlag","pruneCache","getComponentName","pruneCacheEntry","activate","instance2","isDeactivated","vnodeHook","onVnodeMounted","invokeVNodeHook","deactivate","da","onVnodeUnmounted","matches","pendingCacheKey","cacheSubtree","getInnerChild","onUpdated","rawVNode","cachedVNode","KeepAlive","pattern","onActivated","registerKeepAliveHook","onDeactivated","wrappedHook","__wdc","injectHook","injectToKeepAliveRoot","keepAliveRoot","injected","onUnmounted","prepend","__weh","createHook","lifecycle","onBeforeMount","onBeforeUpdate","onServerPrefetch","onRenderTriggered","onRenderTracked","onErrorCaptured","COMPONENTS","DIRECTIVES","resolveComponent","maybeSelfReference","resolveAsset","NULL_DYNAMIC_COMPONENT","for","resolveDynamicComponent","resolveDirective","warnMissing","selfName","registry","renderList","renderItem","createSlots","dynamicSlots","slot","renderSlot","noSlotted","isCE","validSlotContent","ensureValidVNode","rendered","createBlock","scopeId","vnodes","toHandlers","preserveCaseIfNecessary","getPublicInstance","isStatefulComponent","publicPropertiesMap","$el","$data","$props","$attrs","$slots","refs","$parent","$root","$options","resolveMergedOptions","$forceUpdate","$nextTick","hasSetupBinding","__isScriptSetup","PublicInstanceProxyHandlers","accessCache","normalizedProps","shouldCacheAccess","publicGetter","cssModule","globalProperties","__cssModules","RuntimeCompiledPublicInstanceProxyHandlers","unscopables","defineProps","defineEmits","defineExpose","exposed","defineOptions","defineSlots","defineModel","withDefaults","defaults","useSlots","getContext","useAttrs","useModel","local","setupContext","createSetupContext","normalizePropsOrEmits","mergeDefaults","opt","skipFactory","mergeModels","createPropsRestProxy","excludedKeys","withAsyncContext","getAwaitable","awaitable","applyOptions","beforeCreate","dataOptions","computedOptions","watchOptions","provide","provideOptions","inject","injectOptions","created","beforeMount","beforeUpdate","activated","deactivated","beforeDestroy","beforeUnmount","renderTracked","renderTriggered","errorCaptured","serverPrefetch","expose","components","filters","checkDuplicateProperties","resolveInjections","methodHandler","createWatcher","provides","registerLifecycleHook","register","_hook","normalizeInject","extendsOptions","globalMixins","optionsCache","optionMergeStrategies","resolved","mergeOptions","to","strats","strat","internalOptionMergeStrats","mergeDataFn","mergeEmitsOrPropsOptions","mergeObjectOptions","mergeAsArray","mergeWatchOptions","mergeInject","merged","createAppContext","app","isNativeTag","performance","warnHandler","compilerOptions","propsCache","uid$1","createAppAPI","rootComponent","rootProps","context","installedPlugins","_uid","_component","_props","_container","_context","_instance","use","plugin","install","mixin","directive","mount","rootContainer","isHydrate","__vue_app__","runWithContext","currentApp","parentProvides","treatDefaultAsFactory","hasInjectionContext","initProps","isStateful","InternalObjectKey","propsDefaults","setFullProps","updateProps","rawPrevProps","rawCurrentProps","hasAttrsChanged","kebabKey","resolvePropValue","propsToUpdate","camelizedKey","needCastKeys","rawCastValues","camelKey","castValues","isAbsent","hasDefault","normalizePropsOptions","extendProps","normalizedKey","validatePropName","prop","booleanIndex","getTypeIndex","stringIndex","getType","ctor","isSameType","expectedTypes","t","isInternalKey","normalizeSlotValue","normalizeSlot","rawSlot","normalizeObjectSlots","rawSlots","_ctx","normalizeVNodeSlots","initSlots","updateSlots","needDeletionCheck","deletionComparisonTarget","setRef","rawRef","oldRawRef","isUnmount","refValue","owner","oldRef","_isString","_isRef","doSet","existing","k","hasMismatch","isSVGContainer","namespaceURI","tagName","isComment","nodeType","createHydrationFunctions","mt","mountComponent","patchProp","createText","nextSibling","insert","createComment","hasChildNodes","_vnode","firstChild","isFragmentStart","onMismatch","handleMismatch","domType","nextNode","Text","Static","needToAdoptContent","staticCount","outerHTML","hydrateFragment","hydrateElement","locateClosingAsyncAnchor","previousSibling","lastChild","createTextVNode","hydrateChildren","forcePatchValue","endsWith","onClick","vnodeHooks","onVnodeBeforeMount","innerHTML","textContent","parentVNode","fragmentSlotScopeIds","isFragment","next2","initFeatureFlags","createRenderer","baseCreateRenderer","createHydrationRenderer","createHydrationFns","__VUE__","hostInsert","hostRemove","hostPatchProp","hostCreateElement","hostCreateText","hostCreateComment","setText","hostSetText","setElementText","hostSetElementText","hostParentNode","hostNextSibling","setScopeId","hostSetScopeId","insertStaticContent","hostInsertStaticContent","getNextHostNode","processText","processCommentNode","mountStaticNode","processFragment","processElement","processComponent","internals","moveStaticNode","removeStaticNode","mountElement","patchElement","mountChildren","unmountChildren","needCallTransitionHooks","cloneIfMounted","oldProps","newProps","toggleRecurse","onVnodeBeforeUpdate","areChildrenSVG","patchBlockChildren","patchChildren","patchProps","onVnodeUpdated","oldChildren","newChildren","fallbackContainer","oldVNode","newVNode","fragmentStartAnchor","fragmentEndAnchor","traverseStaticChildren","updateComponent","initialVNode","createComponentInstance","setupComponent","updateComponentPreRender","componentUpdateFn","bu","u","originNext","nextTree","prevTree","bm","isAsyncWrapperVNode","hydrateSubTree","scopedInitialVNode","c1","prevShapeFlag","c2","patchKeyedChildren","patchUnkeyedChildren","oldLength","commonLength","nextChild","parentAnchor","l2","e1","e2","nextPos","s1","s2","keyToNewIndexMap","patched","toBePatched","moved","maxNewIndexSoFar","newIndexToOldIndexMap","prevChild","newIndex","increasingNewIndexSequence","getSequence","nextIndex","moveType","needTransition","remove2","performLeave","shouldInvokeDirs","shouldInvokeVnodeHook","onVnodeBeforeUnmount","unmountComponent","removeFragment","performRemove","bum","mc","pc","pbc","createApp","allowed","ch1","ch2","arrI","isTeleport","__isTeleport","isTeleportDisabled","disabled","isTargetSVG","SVGElement","resolveTarget","select","targetSelector","TeleportImpl","querySelector","mainAnchor","targetAnchor","wasDisabled","currentContainer","currentAnchor","moveTeleport","nextTarget","updateCssVars","hydrateTeleport","isReorder","targetNode","_lpa","Teleport","ut","setAttribute","disableTracking","vnodeArgsTransformer","setupBlock","createElementBlock","createBaseVNode","__v_isVNode","transformVNodeArgs","transformer","normalizeKey","normalizeRef","ref_key","ref_for","isBlockNode","needFullChildrenNormalization","__v_skip","normalizeChildren","_createVNode","cloned","isClassComponent","guardReactiveProps","extraProps","mergeRef","mergedProps","mergeProps","text","flag","createStaticVNode","content","numberOfNodes","createCommentVNode","asBlock","memo","slotFlag","toMerge","incoming","emptyAppContext","exposeProxy","attrsProxy","slotsProxy","bc","rtg","rtc","sp","internalSetCurrentInstance","globalCurrentInstanceSetters","settersKey","compile","installWithProxy","setupResult","setupStatefulComponent","resolvedResult","finishComponentSetup","__ssrInlineRender","ssrRender","registerRuntimeCompiler","_compile","_rc","isRuntimeOnly","skipOptions","template","isCustomElement","delimiters","componentCompilerOptions","finalCompilerOptions","getAttrsProxy","includeInferred","displayName","__name","computed$1","propsOrChildren","ssrContextKey","initCustomFormatter","withMemo","isMemoSame","_ssrUtils","ssrUtils","resolveFilter","compatUtils","svgNS","doc","templateContainer","nodeOps","insertBefore","removeChild","createElementNS","multiple","createTextNode","nodeValue","selector","before","cloneNode","wrapper","appendChild","patchClass","transitionClasses","_vtc","removeAttribute","className","patchStyle","isCssString","setStyle","currentDisplay","display","importantRE","setProperty","prefixed","autoPrefix","prefixes","prefixCache","rawName","xlinkNS","patchAttr","removeAttributeNS","setAttributeNS","isBoolean","patchDOMProp","getAttribute","needRemove","addEventListener","removeEventListener","patchEvent","prevValue","nextValue","invokers","_vei","existingInvoker","parseName","invoker","createInvoker","optionsModifierRE","cachedNow","getNow","now","initialValue","_vts","attached","patchStopImmediatePropagation","originalStop","stopImmediatePropagation","_stopped","nativeOnRE","shouldSetAsProp","_trueValue","_falseValue","defineCustomElement","hydrate2","Comp","VueCustomElement","VueElement","initialProps","defineSSRCustomElement","BaseClass","_def","_connected","_resolved","_numberProps","shadowRoot","attachShadow","_resolveProps","connectedCallback","_update","_resolveDef","disconnectedCallback","attributes","_setAttr","MutationObserver","mutations","attributeName","observe","isAsync","styles","numberProps","camelize$1","_applyStyles","asyncDef","declaredPropKeys","_setProp","_getProp","shouldReflect","shouldUpdate","dispatch","dispatchEvent","CustomEvent","detail","host","css","useCssModule","modules","mod","useCssVars","updateTeleports","vars","querySelectorAll","setVarsOnNode","setVars","setVarsOnVNode","ob","childList","disconnect","TRANSITION","ANIMATION","Transition","resolveTransitionProps","DOMTransitionPropsValidators","duration","enterFromClass","enterActiveClass","enterToClass","appearFromClass","appearActiveClass","appearToClass","leaveFromClass","leaveActiveClass","leaveToClass","TransitionPropsValidators","h2","hasExplicitCallback","baseProps","durations","normalizeDuration","enterDuration","leaveDuration","finishEnter","isAppear","removeTransitionClass","finishLeave","_isLeaving","makeEnterHook","nextFrame","addTransitionClass","whenTransitionEnds","forceReflow","NumberOf","cls","classList","requestAnimationFrame","endId","expectedType","explicitTimeout","_endId","resolveIfNotStale","propCount","getTransitionInfo","endEvent","ended","onEnd","getComputedStyle","getStyleProperties","transitionDelays","transitionDurations","transitionTimeout","getTimeout","animationDelays","animationDurations","animationTimeout","hasTransform","delays","toMs","body","offsetHeight","positionMap","newPositionMap","TransitionGroupImpl","moveClass","hasCSSTransform","callPendingCbs","recordPosition","movedChildren","applyTranslation","transform","webkitTransform","transitionDuration","_moveCb","propertyName","cssTransitionProps","getBoundingClientRect","TransitionGroup","oldPos","newPos","dx","left","dy","top","getModelAssigner","onCompositionStart","composing","onCompositionEnd","Event","vModelText","_assign","castToNumber","domValue","activeElement","vModelCheckbox","modelValue","_modelValue","elementValue","getValue","checked","found","filtered","getCheckboxValue","setChecked","vModelRadio","vModelSelect","isSetModel","selectedVal","selected","setSelected","_binding","isMultiple","option","optionValue","selectedIndex","vModelDynamic","callModelHook","resolveDynamicModel","modelToUse","initVModelForSSR","getSSRProps","systemModifiers","modifierGuards","stopPropagation","prevent","preventDefault","currentTarget","ctrl","ctrlKey","shift","shiftKey","alt","altKey","metaKey","button","right","exact","withModifiers","guard","keyNames","esc","space","up","down","withKeys","eventKey","vShow","_vod","setDisplay","initVShowForSSR","rendererOptions","enabledHydration","ensureRenderer","ensureHydrationRenderer","containerOrSelector","normalizeContainer","Element","createSSRApp","ssrDirectiveInitialized","initDirectivesForSSR","defaultOnError","defaultOnWarn","createCompilerError","code","loc","messages","additionalMessage","FRAGMENT","TELEPORT","SUSPENSE","KEEP_ALIVE","BASE_TRANSITION","OPEN_BLOCK","CREATE_BLOCK","CREATE_ELEMENT_BLOCK","CREATE_VNODE","CREATE_ELEMENT_VNODE","CREATE_COMMENT","CREATE_TEXT","CREATE_STATIC","RESOLVE_COMPONENT","RESOLVE_DYNAMIC_COMPONENT","RESOLVE_DIRECTIVE","RESOLVE_FILTER","WITH_DIRECTIVES","RENDER_LIST","RENDER_SLOT","CREATE_SLOTS","TO_DISPLAY_STRING","MERGE_PROPS","NORMALIZE_CLASS","NORMALIZE_STYLE","NORMALIZE_PROPS","GUARD_REACTIVE_PROPS","TO_HANDLERS","CAMELIZE","CAPITALIZE","TO_HANDLER_KEY","SET_BLOCK_TRACKING","PUSH_SCOPE_ID","POP_SCOPE_ID","WITH_CTX","UNREF","IS_REF","WITH_MEMO","IS_MEMO_SAME","helperNameMap","registerRuntimeHelpers","helpers","locStub","column","offset","createRoot","hoists","imports","temps","codegenNode","createVNodeCall","isBlock","isComponent","helper","getVNodeBlockHelper","inSSR","getVNodeHelper","createArrayExpression","elements","createObjectExpression","properties","createObjectProperty","createSimpleExpression","isStatic","constType","createCompoundExpression","createCallExpression","createFunctionExpression","params","returns","newline","isSlot","createConditionalExpression","consequent","alternate","createCacheExpression","createBlockStatement","ssr","convertToBlock","removeHelper","isStaticExp","isBuiltInType","expected","isCoreComponent","nonIdentifierRE","isSimpleIdentifier","validFirstIdentCharRE","validIdentCharRE","whitespaceRE","isMemberExpressionBrowser","stateStack","currentOpenBracketCount","currentOpenParensCount","currentStringType","char","isMemberExpression","getInnerRange","newLoc","advancePositionWithClone","pos","numberOfCharacters","advancePositionWithMutation","linesCount","lastNewLinePos","charCodeAt","findDir","allowEmpty","exp","findProp","dynamicOnly","isStaticArgOf","hasDynamicKeyVBind","isText$1","isVSlot","isTemplateNode","tagType","isSlotOutlet","propsHelperSet","getUnnormalizedProps","callPath","injectProp","propsWithInjection","parentCall","first","hasProp","propKeyName","toValidAssetId","searchValue","replaceValue","getMemoedVNodeCall","getCompatValue","compatConfig","isCompatEnabled","checkCompatEnabled","decodeRE","decodeMap","gt","lt","amp","apos","quot","defaultParserOptions","getNamespace","getTextMode","isPreTag","decodeEntities","rawText","p1","onWarn","comments","baseParse","createParserContext","getCursor","parseChildren","getSelection","rawOptions","originalSource","inPre","inVPre","ancestors","ns","nodes","isEnd","parseInterpolation","emitError","parseComment","parseBogusComment","parseCDATA","advanceBy","parseTag","TagType","End","parseElement","isSpecialTemplateDirective","parseText","pushNode","removedWhitespace","shouldCondense","whitespace","prevIndex","nestedIndex","contentStart","closeIndex","wasInPre","wasInVPre","element","Start","isPreBoundary","isVPreBoundary","isSelfClosing","inlineTemplateProp","find","startsWithEndTagOpen","TagType2","advanceSpaces","cursor","currentSource","parseAttributes","isBuiltInComponent","attributeNames","attr","parseAttribute","nameSet","parseAttributeValue","match2","isPropShorthand","dirName","startOffset","lastIndexOf","loc2","getNewPosition","isQuoted","valueLoc","quote","endIndex","parseTextData","unexpectedChars","open","close","innerStart","innerEnd","rawContentLength","rawContent","preTrimContent","endOffset","endTokens","xs","searchString","hoistStatic","walk","isSingleElementRoot","doNotHoistNode","originalCount","hoistedCount","constantType","getConstantType","hoist","getPatchFlag","getGeneratedPropsConstantType","getNodeProps","vSlot","i2","branches","transformHoist","constantCache","returnType2","generatedPropsType","childType","expType","returnType","allowHoistedHelperSet","getConstantTypeOfHelperCall","keyType","valueType","createTransformContext","filename","prefixIdentifiers","hoistStatic2","cacheHandlers","nodeTransforms","directiveTransforms","expressionPlugins","slotted","ssrCssVars","bindingMetadata","inline","isTS","nameMatch","identifiers","vFor","vPre","vOnce","currentNode","childIndex","inVOnce","currentCount","helperString","replaceNode","removeNode","removalIndex","onNodeRemoved","addIdentifiers","removeIdentifiers","identifier","hoisted","traverseNode","createRootCodegen","traverseChildren","nodeRemoved","exitFns","onExit","createStructuralDirectiveTransform","PURE_ANNOTATION","aliasHelper","createCodegenContext","ast","sourceMap","optimizeImports","runtimeGlobalName","runtimeModuleName","ssrRuntimeModuleName","indentLevel","pure","indent","deindent","withoutNewLine","generate","onContextCreated","hasHelpers","useWithBlock","isSetupInlined","preambleContext","genFunctionPreamble","functionName","signature","genAssets","genNode","preamble","toJSON","VueBinding","staticHelpers","genHoists","assets","resolver","genNodeListAsArray","multilines","genNodeList","comma","genText","genExpression","genInterpolation","genCompoundExpression","genComment","genVNodeCall","genCallExpression","genObjectExpression","genArrayExpression","genFunctionExpression","genConditionalExpression","genCacheExpression","genExpressionAsPropertyKey","callHelper","genNullableArgs","needNewline","needsParens","isNested","transformIf","processIf","ifNode","isRoot","siblings","sibling","createCodegenNodeForBranch","parentCondition","getParentCondition","processCodegen","createIfBranch","condition","isTemplateIf","userKey","keyIndex","createChildrenCodegenNode","keyProperty","needFragmentWrapper","vnodeCall","transformFor","processFor","forNode","renderExp","isTemplate","keyProp","keyExp","isStableFragment","fragmentFlag","childBlock","slotOutlet","loop","createForLoopParams","parseResult","parseForExpression","valueAlias","keyAlias","objectIndexAlias","forAliasRE","forIteratorRE","stripParensRE","inMatch","LHS","RHS","createAliasExpression","valueContent","trimmedOffset","iteratorMatch","keyContent","keyOffset","indexContent","memoArgs","createParamsList","defaultFallback","trackSlotScopes","buildClientSlotFn","buildSlots","buildSlotFn","slotsProperties","hasDynamicSlots","onComponentSlot","hasTemplateSlots","hasNamedDefaultSlot","implicitDefaultChildren","seenSlotNames","conditionalBranchIndex","slotElement","slotDir","slotChildren","slotLoc","slotName","slotProps","dirLoc","staticSlotName","slotFunction","vIf","vElse","buildDynamicSlot","conditional","buildDefaultSlotProperty","children2","node2","isNonWhitespaceContent","hasForwardedSlots","directiveImportMap","transformElement","vnodeTag","resolveComponentType","isDynamicComponent","vnodeProps","vnodeChildren","vnodePatchFlag","vnodeDynamicProps","dynamicPropNames","vnodeDirectives","shouldUseBlock","propsBuildResult","buildProps","buildDirectiveArgs","shouldBuildAsSlots","hasDynamicTextChild","stringifyDynamicPropNames","isExplicitDynamic","isComponentTag","isProp","isDir","builtIn","elementLoc","mergeArgs","runtimeDirectives","hasChildren","hasRef","hasClassBinding","hasStyleBinding","hasHydrationEventBinding","hasDynamicKeys","hasVnodeHook","pushMergeArg","dedupeProperties","analyzePatchFlag","isEventHandler","isVBind","isVOn","directiveTransform","props2","needRuntime","propsExpression","classKeyIndex","styleKeyIndex","hasDynamicKey","isHandlerKey","classProp","styleProp","knownProps","dirArgs","runtime","trueExpression","modifier","propsNamesString","transformSlotOutlet","processSlotOutlet","slotArgs","expectedLen","nonNameProps","fnExpRE","transformOn","augmentor","eventName","eventString","shouldCache","isMemberExp","isInlineStatement","hasMultipleStatements","transformBind","_node","injectPrefix","prefix","transformText","hasText","callArgs","seen$1","WeakSet","transformOnce","transformModel","createTransformProps","rawExp","expString","bindingType","maybeRef","propName","assignmentExp","eventArg","validDivisionCharRE","transformFilter","rewriteFilter","parseFilter","expression","inSingle","inDouble","inTemplateString","inRegex","curly","square","paren","lastFilterIndex","pushFilter","wrapFilter","transformMemo","getBaseTransformPreset","model","baseCompile","isModuleMode","noopDirectiveTransform","V_MODEL_RADIO","V_MODEL_CHECKBOX","V_MODEL_TEXT","V_MODEL_SELECT","V_MODEL_DYNAMIC","V_ON_WITH_MODIFIERS","V_ON_WITH_KEYS","V_SHOW","TRANSITION_GROUP","decoder","decodeHtmlBrowser","asAttr","isRawTextContainer","parserOptions","transformStyle","parseInlineCSS","createDOMCompilerError","transformVHtml","transformVText","baseResult","transformModel$1","directiveToUse","isInvalidType","isEventOptionModifier","isNonKeyModifier","maybeKeyModifier","isKeyboardEvent","resolveModifiers","keyModifiers","nonKeyModifiers","eventOptionModifiers","transformClick","isStaticClick","transformOn$1","handlerExp","modifierPostfix","transformShow","ignoreSideEffectTags","DOMNodeTransforms","DOMDirectiveTransforms","cloak","html","show","compileCache","compileToFunction","opts","customElements","runtimeDom","TimeInterval","encode","decode","rangeCallback","_encode","_decode","_rangeCallback","date","e0","CountableTimeInterval","getOffset","snapTo","step","initialOffset","encoded","interval","millisecond","getFullYear","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","getTimezoneOffset","second","minute","hour","utc","UTC","getMonth","getDate","setDate","setHours","day","baseSunday","weekday","sunday","year","month","setFullYear","setMonth","setUTCDate","getUTCDate","setUTCHours","getUTCFullYear","getUTCMonth","setUTCFullYear","setUTCMonth","MOBILE","isDesktop","HdpiCanvas","width","domLayer","zIndex","overrideDevicePixelRatio","_enabled","_pixelRatio","_width","_height","imageSource","canvas","userSelect","position","pointerEvents","opacity","setPixelRatio","resize","clearRect","freeze","snapshot","save","resetTransform","restore","toImage","img","src","getDataURL","toDataURL","download","fileName","fileFormat","dataUrl","href","click","pixelRatio","ratio","devicePixelRatio","overrideScale","pixelated","imageRendering","round","textMeasuringContext","_textMeasuringContext","svgText","_svgText","xmlns","svg","visibility","_has","isChrome","isFirefox","isSafari","textMetrics","measureText","actualBoundingBoxDescent","getTransform","static","font","textBaseline","textAlign","metrics","actualBoundingBoxAscent","measureSvgText","textSizeCache","fontCache","bbox","getBBox","scale","depth","overrides","$save","$restore","setTransform","$setTransform","verifyDepthZero","BBox","y","equals","other","containsPoint","collidesBBox","isInfinite","abs","shrink","amount","amt","grow","paddingCopy","boxes","bottom","box","Matrix","setElements","identity","AxB","A","B","C","multiplySelf","multiply","preMultiplySelf","inverse","rD","inverseTo","invertSelf","transformPoint","transformBBox","xx","xy","yx","yy","h_w","h_h","cx","cy","toContext","sourceMatrix","matrix","scalingX","scalingY","rotation","translationX","translationY","bbcx","bbcy","sx","sy","scx","scy","scalingCenterX","scalingCenterY","cos","sin","rcx","rcy","rotationCenterX","rotationCenterY","tx","ty","tx4","ty4","domMatrix","ID_MAP","createId","nextId","RedrawType","functionConstructorAvailable","STRING_FUNCTION_USEABLE","SceneChangeDetection","changeCb","convertor","privateKey","prepareFastGetSet","prepareSlowGetSet","redraw","TRIVIAL","checkDirtyOnAssignment","setterJs","NONE","getterJs","markDirty","markDirtyTransform","_dirtyPath","_dirtyFont","ChangeDetectable","MAJOR","_source","markClean","_opts","isDirty","PointerEvents","zIndexChangedCallback","dirtyZIndex","zIndexChanged","Node","serialNumber","_nextSerialNumber","isContainerNode","_children","childSet","inverseMatrix","_dirtyTransform","visible","zIndexSubOrder","All","datum","_datum","_parent","_setLayerManager","_layerManager","_debug","debug","layerManager","append","calculateCumulativeMatrix","computeTransformMatrix","flyweight","inverseTransformPoint","inverseTransformBBox","_x","_y","pickNode","None","computeTransformedBBox","findNodes","predicate","childResult","computeBBox","updateTransformMatrix","renderCtx","stats","nodesRendered","clearBBox","topLeft","bottomRight","parentType","dirty","force","recursive","visibilityChanged","nodeCount","dirtyCount","visibleCount","childCount","childVisibleCount","childDirtyCount","ascendingStringNumberUndefined","localeCompare","compoundAscending","toLiteral","doOnceFlags","doOnce","Logger","logContent","log","warnOnce","errorOnce","Group","lastBBox","layer","moveLayer","isLayer","scene","removeLayer","getComputedOpacity","getVisibility","addLayer","MINOR","consoleLog","clipRect","forceRender","clipBBox","resized","canvasCtxTransform","isChildDirty","group","currentBBox","counts","layersSkipped","nodesSkipped","groupVisible","ctxTransform","clipCtx","globalAlpha","sortChildren","renderContextChanged","childRenderContext","skipped","layersRendered","beginPath","moveTo","lineTo","closePath","clip","setClipRectInGroupCoordinateSpace","HdpiOffscreenCanvas","OffscreenCanvas","transferToImageBitmap","windowValue","WINDOW","__awaiter","_arguments","generator","adopt","fulfilled","rejected","buildSceneNodeHighlight","Scene","layers","_nextZIndex","_nextLayerId","_root","dirtyTree","renderBoundingBoxes","sceneNodeHighlight","pendingSize","lessThanZero","nan","unchanged","layeredModes","advLayer","isSupported","newLayer","sortLayers","domCanvases","newLayerIndex","lastLayer","insertAdjacentElement","newZIndex","newZIndexSubOrder","strip","debugSplitTimes","extraDebugStats","redrawType","tree","buildTree","debugStats","debugNodes","canvasCleared","paths","buildDirtyTree","drawImage","debugSceneNodeHighlight","renderCtxStats","pct","total","time","splits","extras","statsSize","getTextSize","fillStyle","fillRect","fillText","regexpPredicate","matcher","stringPredicate","strokeStyle","lineWidth","strokeRect","strokeText","childTree","treeNodeName","childNode","childrenDirtyTree","Gradient","stops","twoPi","PI","normalizeAngle360","radians","normalizeAngle360Inclusive","normalizeAngle180","toRadians","degrees","LinearGradient","angle","createGradient","angleOffset","diagonal","sqrt","diagonalAngle","atan2","quarteredAngle","gradient","createLinearGradient","addColorStop","color","LINEAR_GRADIENT_REGEXP","Shape","lastInstanceId","fillOpacity","strokeOpacity","defaultStyles","stroke","strokeWidth","lineDash","lineDashOffset","lineCap","lineJoin","fillShadow","shape","_setParent","restoreOwnStyles","restoreAllStyles","property","restoreOverriddenStyles","protoStyles","updateGradient","linearGradientMatch","colors","colorsPart","colorRegex","align","alignedStart","fillStroke","renderFill","renderStroke","applyFill","applyFillAlpha","applyShadow","shadowColor","shadowOffsetX","xOffset","shadowOffsetY","yOffset","shadowBlur","blur","setLineDash","isPointInPath","ellipsis","SceneFontChangeDetection","fontSize","fontFamily","lineHeight","_setLines","splitText","_font","getFont","getPreciseBBox","getApproximateBBox","getLineHeight","fontBoundingBoxAscent","emHeightAscent","fontBoundingBoxDescent","emHeightDescent","point","renderLines","renderCallback","lineHeights","totalHeight","offsetY","getVerticalOffset","maxWidth","maxHeight","textProps","wrapping","measurer","createTextMeasurer","truncateLine","cumulativeHeight","wrappedLine","wrapLine","truncated","initialSize","words","wrapResult","wrapLineSequentially","wordsBrokenOrTruncated","linesTruncated","balanced","wrapLineBalanced","wrappedText","ln","word","firstLineWidth","hyphens","isPunctuationAt","punctuationMarks","breaks","partWidth","limit","parts","part","substring","forceEllipsis","ellipsisWidth","truncWidth","defaultLineHeightRatio","breakWord","spaceWidth","currentLine","addNewLine","expectedHeight","lastLine","wordWidth","expectedSpaceWidth","expectedLineWidth","availWidth","breakLoop","totalWordsWidth","sum","totalSpaceWidth","averageLineWidth","newLine","getLineWidth","fontProps","fontStyle","fontWeight","baselineDistance","actualBoundingBoxLeft","firstLineHeight","lineSize","Observable","allEventListeners","listener","eventListeners","hasEventListener","clearEventListeners","fireEvent","listeners","isStringObject","isDiscrete","isContinuous","isNumberObject","isNumber","checkDatum","isContinuousScale","isFinite","Color","parseHex","stringToRgba","nameToHex","fromHexString","hex","fromRgbaString","fromString","fromArray","po","contents","rgba","alpha","rgb","HSBtoRGB","toHexString","padHex","toRgbaString","fractionDigits","pow","toHSB","RGBtoHSB","S","H","delta","rc","gc","q","derive","hueShift","saturationFactor","brightnessFactor","opacityFactor","hsb","brighter","darker","c0","tryParseFromString","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","transparent","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","BREAK_TRANSFORM_CHAIN","CONFIG_KEY","initialiseConfig","propertyKeyOrSymbol","propertyKey","valueStoreKey","setters","getters","prevSet","prevGet","transformFn","addTransformToInstanceProperty","Validate","cleanKey","targetClass","targetClassName","predicateWithMessage","OPTIONAL","ARRAY","OPT_ARRAY","AND","predicates","OR","isComparable","LESS_THAN","otherField","GREATER_THAN","FUNCTION","OPT_FUNCTION","BOOLEAN","OPT_BOOLEAN","STRING","OPT_STRING","DATE","OPT_DATE","DATETIME_MS","NUMBER","OPT_DATETIME_MS","OPT_DATE_OR_DATETIME_MS","colorMessage","COLOR_STRING","validColorString","OPT_COLOR_STRING","COLOR_STRING_ARRAY","OPT_COLOR_STRING_ARRAY","OPT_NUMBER","NUMBER_OR_NAN","NUMBER_ARRAY","OPT_NUMBER_ARRAY","STRING_ARRAY","STRING_UNION","BOOLEAN_ARRAY","FONT_WEIGHTS","FONT_STYLE","OPT_FONT_STYLE","FONT_WEIGHT","OPT_FONT_WEIGHT","LINE_DASH","OPT_LINE_DASH","LINE_CAPS","LINE_CAP","LINE_JOINS","LINE_JOIN","POSITIONS","POSITION","INTERACTION_RANGES","INTERACTION_RANGE","TEXT_WRAPS","TEXT_WRAP","Layers","ChartAxisDirection","extendDomain","domain","toKeyString","accuracy","isInteger","fixNumericExtent","extent","INVALID_VALUE","DataModel","dataVisible","missing","aggregates","groupProcessors","propertyProcessors","reducers","processors","resolveProcessedDataIndexById","searchId","resolveProcessedDataDefById","getDomain","processedData","processData","groupByKeys","groupByFn","extractData","groupData","postProcessGroups","aggregateData","postProcessProperties","reduceData","postProcessData","DEBUG","logProcessedData","valueIdxLookup","keyDefs","valueDefs","dataDomain","processValue","initDataDomainProcessor","resultData","resultDataIdx","keyIdx","valueIdx","propertyDomain","indices","defs","groupingFn","dataEntry","groupStr","existingData","resultGroups","dataIndex","groups","_e","_f","_g","aggDefs","resultAggValues","resultAggValueIndices","resultAggFns","aggregateFunction","resultGroupAggFns","groupAggregateFunction","resultFinalFns","finalFunction","aggValues","resultIdx","groupAggValues","distinctValues","valuesToAgg","valuesAgg","finalValues","processor","valueIndexes","adjustFn","adjust","reducerDefs","reducer","accValues","reducerIndex","accIdx","reduced","processorDefs","calculate","processorFns","initDataDomainKey","updateDataDomain","initDataDomain","previousDatum","valueInDatum","missingValueDef","missingValue","valid","validation","invalidValue","table","flattenedValues","acc","skipKeys","skipAggValues","createDeprecationWarning","Deprecated","DeprecatedAndRenamedTo","newPropName","mapValue","warnDeprecated","DEFAULT_TOOLTIP_CLASS","defaultTooltipCss","toTooltipHtml","title","backgroundColor","titleHtml","POSITION_TYPES","POSITION_TYPE","TooltipPosition","Tooltip","canvasElement","enableInteraction","showArrow","lastClass","showTimeout","_showArrow","tooltipRoot","IntersectionObserver","observer","entry","intersectionRatio","toggle","tooltipDocuments","styleElement","head","unobserve","isVisible","contains","updateClass","newClass","wasVisible","toggleClass","instantly","low","actual","high","canvasRect","naiveLeft","offsetX","clientWidth","naiveTop","clientHeight","windowBounds","getWindowBoundingBox","maxLeft","maxTop","constrained","defaultShowArrow","updateShowArrow","innerWidth","innerHeight","clearTimeout","pointerLeftOntoTooltip","sourceEvent","relatedTarget","classes","classListContains","sumValues","accumulator","groupSum","groupCount","groupAverage","area","aggFn","keyRange","keyWidth","accumulatedValue","SeriesNodePickMode","__rest","continuous","valueProperty","rangedValueProperty","defOpts","accumulativeValueProperty","SeriesNodeBaseClickEvent","nativeEvent","series","seriesId","SeriesNodeClickEvent","SeriesNodeDoubleClickEvent","SeriesItemHighlightStyle","SeriesHighlightStyle","dimOpacity","TextHighlightStyle","HighlightStyle","SeriesTooltip","interaction","SeriesTooltipInteraction","Series","rootGroup","directions","X","Y","nodeDataRefresh","_data","_visible","showInLegend","nodeClickRange","_declarationOrder","highlightStyle","moduleCtx","useSeriesGroupLayer","useLabelLayer","pickModes","NEAREST_BY_MAIN_AXIS_FIRST","directionKeys","directionNames","contentGroup","SERIES_LAYER_ZINDEX","highlightGroup","highlightNode","highlightLabel","labelGroup","SERIES_LABEL_ZINDEX","hasData","visibleChanged","getBandScalePadding","inner","outer","addChartEventListeners","getDirectionValues","direction","resolvedDirection","resolveKeyDirection","flatten","array","addValue","getKeys","getNames","markNodeDataDirty","getOpacity","defaultOpacity","isItemIdHighlighted","getStrokeWidth","defaultStrokeWidth","highlightedDatum","highlightManager","getActiveHighlight","itemId","highlighting","limitPickModes","pickMode","EXACT_SHAPE_MATCH","pickNodeExactShape","NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST","pickNodeMainAxisFirst","NEAREST_NODE","pickNodeClosestDatum","distance","_point","_requireCategoryAxis","fireNodeClickEvent","eventObject","getNodeClickEvent","fireNodeDoubleClickEvent","getNodeDoubleClickEvent","toggleSeriesItem","_itemId","isEnabled","axis","fixedExtent","padding","calculatePadding","highlightedZIndex","Padding","SizeMonitor","NativeResizeObserver","ResizeObserver","resizeObserver","contentRect","checkSize","checkClientSize","setInterval","ready","init","circleRectOverlap","edgeX","edgeY","rectRectOverlap","r1","x2","y2","w2","xOverlap","yOverlap","rectContainsRect","r2x","r2y","r2w","r2h","isPointLabelDatum","label","placeLabels","bounds","labels","withinBounds","overlapPoints","overlapLabels","axisLabelsOverlap","overlap","Command","debouncedAnimationFrame","buildScheduler","debouncedCallback","scheduleFn","awaitingPromise","awaitingDone","scheduleCount","promiseRunning","busy","scheduleCb","maybePromise","schedule","await","linearRoot","quadraticRoots","D","roots","t1","t2","cubicRoots","Q","R","third","sign","T","Im","theta","acos","thirdA","twoSqrtQ","t3","segmentIntersection","ax1","ay1","ax2","ay2","bx1","by1","bx2","by2","ua","ub","cubicSegmentIntersections","px1","py1","px2","py2","px3","py3","px4","py4","x1","y1","intersections","bx","bezierCoefficients","by","tt","ttt","P1","P2","P3","P4","arcIntersections","startAngle","endAngle","counterClockwise","y0","i1x","i2x","isXInsideLine","a1","a2","intersectionAngle","Path2D","previousCommands","previousParams","previousClosedPath","commands","_closedPath","draw","command","Move","Line","Curve","bezierCurveTo","Arc","arc","ClosePath","rect","sAngle","eAngle","antiClockwise","endX","endY","cubicCurveTo","cx1","cy1","cx2","cy2","closedPath","trackChanges","cn","ox","oy","px","py","intersectionCount","ci","pi","ScenePathChangeDetection","Path","dirtyPath","checkPathDirty","isDirtyPath","updatePath","clipPath","clipMode","Marker","half","applyPath","moves","mx","my","Circle","MARKER_SHAPES","MARKER_SHAPE","SeriesMarker","maxSize","Selection","classOrFactory","_nodes","_factory","each","iterate","old","results","Class","selectAll","selectByClass","selectByTag","clamp","BandScale","cacheProps","ordinalRange","_domain","_bandwidth","_rawBandwidth","_paddingInner","_paddingOuter","didChange","refresh","ticks","convert","invert","bandwidth","rawBandwidth","paddingInner","paddingOuter","r0","rawStep","fullBandWidth","x0","bw","isEqual","epsilon","toFixed","fractionOrSignificantDigits","power","LN10","ArcType","centerX","centerY","radius","Open","fullPie","Chord","Round","ProxyPropertyOnWrite","childName","childProperty","ActionOnSet","newValueFn","oldValueFn","changeValue","changeValueFn","Caption","spacing","PADDING","computeTextWrap","containerWidth","containerHeight","wrapped","areArrayItemsStrictlyEqual","arrA","arrB","areArrayNumbersEqual","ContinuousScale","nice","tickCount","defaultTickCount","minTickCount","maxTickCount","niceDomain","strictClampByDefault","transformInvert","fromDomain","strict","d0","d1","isReversed","rMin","rMax","toDomain","isDenseInterval","availableRange","minCount","maxCount","tickStep","NumericTicks","defaultMaxTickCount","tickMultipliers","log10","multiplier","isWithinBounds","diffCount","singleTickDomain","countDigits","expNo","fractionalDigits","toExponential","CONSTANTS","periods","days","shortDays","months","shortMonths","dayOfYear","startOfYear","timeDiff","timeOneDay","weekOfYear","startDay","startOfYearDay","getDay","firstWeekStartOffset","SUNDAY","MONDAY","THURSDAY","isoWeekOfYear","firstOfYear","firstOfYearDay","firstThursdayOffset","timezone","unsignedOffset","FORMATTERS","getMilliseconds","getHours","I","hours","M","getMinutes","L","getSeconds","U","W","Z","%","PADS","padChar","output","buildFormatter","formatString","formatParts","nextEscapeIdx","literalPart","maybePadSpecifier","maybePad","maybeFormatterSpecifier","maybeFormatter","formatter","dateTime","dateTimeAsDate","DefaultTimeFormats","formatStrings","MILLISECOND","SECOND","MINUTE","HOUR","WEEK_DAY","SHORT_MONTH","MONTH","SHORT_YEAR","YEAR","TimeScale","timeYear","timeMonth","week","timeWeek","timeDay","timeHour","timeMinute","timeSecond","timeMillisecond","tickIntervals","calculateDefaultTickFormat","defaultTimeFormat","updateFormat","format","getLowestGranularityFormat","firstTick","lastTick","startYear","stopYear","yearChange","buildFormatString","formatStringArray","timeEndIndex","weekDayIndex","reverse","defaultTickFormat","getTickInterval","countableTimeInterval","diff0","diff1","t0","getTicksForInterval","getDefaultTicks","absInterval","reversedInterval","timeInterval","tickInterval","stopDate","setMilliseconds","tickFormat","specifier","updateNiceDomain","maxAttempts","updateNiceDomainIteration","n0","intervalRange","optionalGroup","nonCapturingGroup","formatRegEx","zero","precision","tilde","surroundedRegEx","suffix","parseFormatter","surrounded","formatBody","decimalTypes","integerTypes","removeTrailingZeros","insertSeparator","addSign","getSIPrefix","addPadding","absFloor","fromCharCode","E","F","G","getSIPrefixPower","numString","separator","dotIndex","integerChars","fractionalPart","siPrefixes","minSIPrefix","maxSIPrefix","minusSign","num","signType","plusSign","padEnd","padWidth","padLeft","padRight","padStart","digits","LogScale","baseLog","basePow","updateLogFn","updatePowFn","log2","logBase","pow10","p0","absDiff","isBaseInteger","isDiffLarge","generateTicks","isPositive","availableSpacing","lastTickPosition","nextMagnitudeTickPosition","tickPosition","prevSpacing","nextSpacing","fits","Default","replaces","__","Label","calculateLabelRotation","parallelFlipRotation","regularFlipRotation","configuredRotation","parallelFlipFlag","regularFlipFlag","defaultRotation","parallel","getLabelSpacing","minSpacing","rotated","getTextBaseline","labelRotation","sideFlag","getTextAlign","labelAutoRotation","labelRotated","labelAutoRotated","alignFlag","calculateLabelBBox","labelX","labelY","labelMatrix","translatedBBox","TICK_COUNT","OPT_TICK_COUNT","OPT_TICK_INTERVAL","GRID_STYLE_KEYS","GRID_STYLE","Tags","TickGenerationType","AxisLine","BaseAxisTick","AxisLabel","autoWrap","autoRotate","autoRotateAngle","avoidCollisions","mirrored","getSideFlag","AxisTitle","Axis","axisGroup","AXIS_ZINDEX","lineNode","tickLineGroup","tickLabelGroup","crossLineGroup","gridGroup","gridLineGroup","AXIS_GRID_ZINDEX","gridArcGroup","tickLineGroupSelection","tickLabelGroupSelection","gridLineGroupSelection","gridArcGroupSelection","_crossLines","tick","createTick","translation","layout","visibleRange","_titleCaption","_gridLength","gridStyle","_radialGrid","gridPadding","seriesAreaPadding","thickness","maxThickness","_scale","refreshScale","crossLines","crossLine","detachCrossLine","attachCrossLine","initCrossLine","updateRange","rr","vr","span","clippedRange","setCrossLinesVisible","attachAxis","detachAxis","inRange","tolerance","inRangeEx","onLabelFormatChange","logScale","defaultLabelFormatter","labelFormatter","setDomain","tickValues","tickMin","tickMax","setTickInterval","setTickCount","gridLength","radialGrid","primaryTickCount","calculateRotations","updateScale","updatePosition","updateLine","tickData","combinedRotation","ticksResult","updateSelections","updateLabels","updateVisibility","updateGridLines","updateTickLines","updateTitle","anyTickVisible","updateCrossLines","updateLayoutState","calculateDomain","secondaryAxis","initialRotation","estimateTickCount","maxSpacing","maxIterations","rawTicks","labelCount","autoRotation","labelOverlap","terminate","tickStrategies","getTickStrategies","strategy","checkLabelOverlap","avoidLabelCollisions","filterTicks","strategies","tickGenerationType","VALUES","CREATE_SECONDARY","FILTER","CREATE","tickGenerationStrategy","createTickData","tickFilterStrategy","autoWrapStrategy","wrapLabels","autoRotateStrategy","getAutoRotation","regenerateTicks","prevTicks","getTicks","previousTicks","shouldTerminate","labelData","createLabelData","labelSpacing","tickDatum","tickLabel","labelDatum","labelOveralap","updateSecondaryAxisTicks","createTicks","halfBandwidth","rawTick","formatTick","tickSpacing","keepEvery","calculateAvailableRange","defaultMinSpacing","defaultTickMinSpacing","requestedRange","requestedRangeMin","requestedRangeMax","visibleFn","anySeriesActive","isAnySeriesActive","_primaryTickCount","gridData","GridLine","GridArc","TickLine","TickLabel","translationFn","styleCount","grid","angularGridLength","labelsEnabled","userHidden","labelProps","defaultMaxLabelWidth","maxLabelWidth","defaultMaxLabelHeight","maxLabelHeight","wrappedTickLabel","identityFormatter","callbackCache","titleVisible","titleNode","titleRotationFlag","bboxYDimension","tickBBox","tickWidth","getTitleFormatterParams","formatDatum","clipTickLines","clipGrid","_max","LinearScale","prev0","prev1","ChartAxis","boundSeries","includeInvisibleDomains","useCalculatedTickCount","updateDirection","axisContext","linkedTo","domains","visibleSeries","normaliseDataDomain","getLayoutState","tickSize","addModule","optionsKey","seriesKeys","axisId","scaleValueFormatter","scaleBandwidth","scaleConvert","scaleInvert","moduleInstance","instanceConstructor","removeModule","isModuleEnabled","CategoryAxis","_paddingOverrideEnabled","groupPaddingInner","valuesSet","paddings","jsonDiff","sourceType","classify","targetArray","targetElement","lhs","rhs","allProps","propsChangedCount","take","lhsType","rhsType","DELETE","NOT_SPECIFIED","jsonMerge","json","avoidDeepClone","jsonTypes","finalValue","nextProp","lastValue","types","jsonApply","matcherPath","skip","constructors","allowedTypes","targetAny","propertyMatcherPath","propertyPath","ctr","currentValueType","newValueType","allowableTypes","newValueArray","jsonWalk","visit","jsons","jsonType","otherValues","isBrowser","Square","hs","Cross","Diamond","Heart","rad","degree","Plus","Triangle","getMarker","StateMachine","initialState","states","currentStateConfig","destinationTransition","destinationState","destinationStateConfig","action","actions","DEFAULT_DIRECTION_KEYS","DEFAULT_DIRECTION_NAMES","CartesianSeriesNodeBaseClickEvent","xKey","yKey","CartesianSeriesNodeClickEvent","CartesianSeriesNodeDoubleClickEvent","CartesianStateMachine","CartesianSeries","_contextNodeData","nodeDataDependencies","highlightSelection","hasMarkers","markerFactory","nodeFactory","highlightLabelSelection","subGroups","subGroupId","seriesItemEnabled","pathsPerSeries","pathsZIndexSubOrderOffset","animationState","empty","animateEmptyUpdateReady","animateReadyUpdate","highlight","animateReadyHighlight","highlightMarkers","animateReadyHighlightMarkers","animateReadyResize","contextNodeData","chartEventManager","addListener","onLegendItemClick","onLegendItemDoubleClick","checkDomainXY","isContinuousX","isContinuousY","isValidDatum","checkRangeXY","xAxis","yAxis","seriesRect","seriesHighlighted","anySeriesItemEnabled","newNodeDataDependencies","seriesRectWidth","seriesRectHeight","datumSelections","datumSelection","markerSelections","markerSelection","contextData","updateNodes","labelSelections","labelSelection","updateHighlightSelection","isPathOrSelectionDirty","createNodeData","updateSeriesGroups","updateSeriesGroupSelections","subGroup","seriesIdx","nodeData","updateDatumSelection","updateLabelSelection","updateMarkerSelection","MarkerShape","dataNodeGroup","markerGroup","totalGroups","subGroupZOffset","seriesOpacity","subGroupOpacities","isSubGroupOpacityDifferent","subOp","updateMarkerNodes","isHighlight","updateDatumNodes","updateLabelNodes","subGroupVisible","subGroupOpacity","labelItem","updateHighlightSelectionItem","isLabelEnabled","ld","updateHighlightSelectionLabel","hitPoint","closestDatum","minDistance","datumX","datumY","isInRange","requireCategoryAxis","primaryDirection","hitPointCoords","newMinDistance","dist","numVisibleItems","totalVisibleItems","wasClicked","newEnabled","getLabelData","isAnySeriesVisible","CartesianSeriesMarker","sleep","sleepTimeoutMs","Overlay","parentElement","alignItems","boxSizing","justifyContent","margin","innerText","hide","ChartOverlays","noData","Listeners","registeredListeners","cancellableDispatch","reduceDispatch","reduceFn","listenerResult","removeListener","listenerSymbol","BaseManager","createEase","interp","interpolate","linear","easeOut","RepeatType","animate","driver","autoplay","ease","repeatMax","repeatType","Loop","onComplete","onPlay","onRepeat","onUpdate","delayElapsed","elapsed","iteration","isForward","isComplete","easing","controls","isPlaying","play","pause","reset","driverControls","Reverse","complete","tween","handleUpdate","animateOpts","animationControls","DEBOUNCE_DELAY","AnimationManager","interactionManager","controllers","debouncers","updaters","readyToPlay","skipAnimations","startAnimationCycle","cancelAnimationFrame","optsExtra","createDriver","disableInteractions","controller","baseAnimate","animateMany","updateBatch","completeBatch","drivers","inner_id","debouncedAnimate","btoa","requestId","frame","lastTime","deltaMs","CursorManager","updateCursor","callerId","applyStates","styleToApply","ChartEventManager","legendItemClick","legendItemDoubleClick","HighlightManager","activeHighlight","updateHighlight","previousHighlight","highlightToApply","changed","currentHighlight","WINDOW_EVENT_HANDLERS","EVENT_HANDLERS","CSS","InteractionManager","eventHandler","processEvent","mouseDown","touchDown","pausers","rootElement","passive","interactionDocuments","decideInteractionEventTypes","coords","calculateCoordinates","interactionEvent","buildEvent","consumed","dragStartElement","isEventOverElement","mouseButtonDown","MouseEvent","buttons","clientX","clientY","pageX","pageY","fixOffsets","TouchEvent","lastTouch","touches","changedTouches","NULL_COORDS","PageTransitionEvent","offsets","offsetLeft","offsetTop","offsetParent","offsetDragStart","offsetEvent","pageRect","builtEvent","consume","TooltipManager","tooltip","exclusiveAreas","destroyFns","hoverRef","checkExclusiveRects","updateTooltip","updateExclusiveRect","removeTooltip","getTooltipMeta","destroyFn","newAppliedExclusiveArea","entryId","appliedExclusiveArea","ids","contentToApply","metaToApply","appliedState","renderInstantly","_h","ZoomManager","currentZoom","updateZoom","newZoom","getZoom","zoomToApply","isLayoutStage","isLayoutComplete","LayoutService","layoutProcessors","dispatchPerformLayout","stage","shrinkRect","dispatchLayoutComplete","DataService","getSeries","ChartUpdateType","UpdateService","updateCallback","FULL","forceNodeDataRefresh","ChartHighlight","MarkerLabel","_marker","_markerSize","_spacing","marker","markerSize","gridLayout","orientation","bboxes","itemPaddingY","itemPaddingX","forceResult","horizontal","primary","secondary","processedBBoxCount","rawPages","unprocessedBBoxes","processBBoxes","pageIndices","buildPages","indexOffset","minGuess","startingGuess","estimateStartingGuess","guess","calculatePage","primaryCount","sumSecondary","currentMaxSecondary","currentPrimaryIndices","maxPrimaryValues","bboxIndex","primaryValueIdx","primaryValue","currentSecondaryDimension","returnResult","sumPrimary","maxPageWidth","maxPageHeight","pages","transpose","columns","colIndices","colBBoxes","columnHeight","columnWidth","pageWidth","pageHeight","startIndex","innerData","dataIdx","itemIdx","primarySum","PaginationLabel","PaginationMarkerStyle","PaginationMarker","_shape","onMarkerShapeChange","Pagination","chartUpdateCallback","pageUpdateCallback","cursorManager","labelNode","activeStyle","inactiveStyle","totalPages","currentPage","nextButtonDisabled","previousButtonDisabled","_orientation","_nextButton","_previousButton","nextButton","previousButton","onPaginationClick","onPaginationMouseMove","updateMarkers","updateGroupVisibility","updateLabel","updatePositions","enableOrDisableButtons","updateLabelPosition","updateNextButtonPosition","markerPadding","labelBBox","highlightActive","buttonStyle","updateMarker","zeroPagesToDisplay","onLastPage","onFirstPage","nextButtonContainsPoint","previousButtonContainsPoint","incrementPage","onPaginationChanged","decrementPage","SCENE_RENDER","attachPagination","ORIENTATIONS","OPT_ORIENTATION","LegendLabel","maxLength","LegendMarker","LegendItem","paddingX","paddingY","toggleSeriesVisible","LegendListeners","Legend","LEGEND_ZINDEX","itemSelection","oldSize","maxPageSize","paginationTrackingIndex","truncatedItems","reverseOrder","characterWidths","pagination","updateService","page","updatePageNumber","interactionListeners","checkLegendClick","checkLegendDoubleClick","handleLegendMouseMove","layoutListeners","layoutService","positionLegend","detachLegend","getOrientation","getCharacterWidths","cw","attachLegend","getItemLabel","performLayout","markerShape","itemMaxWidthPercentage","maxItemWidth","paddedMarkerWidth","markerLabel","labelText","truncate","updatePagination","pageNumber","maxCharLength","textChars","addEllipsis","labelWidth","truncatedText","cumulativeWidth","trackingIndex","paginationBBox","paginationVertical","calculatePagination","newCurrentPage","paginationComponentPadding","legendItemsWidth","legendItemsHeight","paginationX","paginationY","lastPassPaginationBBox","stableOutput","visibleStart","visibleEnd","columnCount","rowCount","itemHeight","rowSumColumnWidths","pageIndex","columnIndex","rowIndex","markerFill","markerStroke","markerStrokeWidth","markerFillOpacity","markerStrokeOpacity","getDatumForPoint","visibleChildBBoxes","closestLeftTop","childBBox","distX","distY","toTheLeftTop","pageBBox","merge","computePagedBBox","actualBBox","dataService","legendBBox","pointerInsideLegend","chartSeries","PROCESS_DATA","legendData","ls","getLegendData","legendType","clickedItem","tooltipManager","pointerOverLegendDatum","newShrinkRect","legendWidth","legendHeight","calculateLegendDimensions","calculateTranslationPerpendicularDimension","legendPadding","legendPositionedBBox","aspectRatio","maxCoefficient","minHeightCoefficient","minWidthCoefficient","heightCoefficient","widthCoefficient","LEGEND_FACTORIES","category","registerLegend","getLegend","CallbackCache","serialisedParams","paramCache","invoke","invalidateCache","Chart","resources","processedOptions","userOptions","queuedUserOptions","seriesRoot","subtitle","footnote","_destroyed","legendModules","_pendingFactoryUpdates","_performUpdateNoRenderCount","_performUpdateType","seriesToUpdate","performUpdateTrigger","performUpdate","_lastPerformUpdateError","_axes","_series","applyLegendOptions","lastInteractionEvent","pointerScheduler","handlePointer","onSeriesNodeClick","seriesNodeClickEvent","onSeriesNodeDoubleClick","seriesNodeDoubleClick","autoSize","zoomManager","animationManager","overlays","autoWidth","authHeight","_lastAutoSize","positionPadding","positionCaptions","onDoubleClick","onMouseMove","disablePointer","changeHighlightDatum","getOptions","lastUpdateOptions","autoSizeChanged","getModuleContext","keepTransferableResources","legend","axes","highlightOnly","requestFactoryUpdate","callbacks","_processCallbacks","updatePending","performUpdateType","lastPerformUpdateError","awaitUpdateCompletion","PERFORM_LAYOUT","handleOverlays","SERIES_UPDATE","seriesUpdates","TOOLTIP_RECALCULATION","tooltipMeta","durationMs","removedAxes","removeAllSeries","addSeries","allSeries","canAdd","beforeIndex","initSeries","addSeriesListeners","freeSeries","updateAllSeriesListeners","assignSeriesToAxes","seriesAxis","assignAxesToSeries","directionToAxesMap","directionAxes","currentAxis","newAxis","findMatchingAxis","axisKeys","directionKey","updateLegend","setLegendInit","initLegend","validateLegendData","labelMarkerFills","seriesType","dc","fills","updateCaption","caption","defaultCaptionHeight","captionLineHeight","positionTopAndShrinkBBox","baseY","bboxHeight","positionBottomAndShrinkBBox","getSeriesRect","pickSeriesNode","exactMatchOnly","maxDistance","reverseSeries","lastPick","hoverRect","handlePointerTooltip","handlePointerNode","pixelRange","pick","isNewDatum","getTooltipHtml","isPixelRange","tooltipEnabled","exactlyMatched","rangeMatched","shouldUpdateTooltip","mergePointerDatum","checkSeriesNodeRange","checkSeriesNodeClick","checkSeriesNodeDoubleClick","nearestNode","nodeMidPoint","scrollX","scrollY","newSeries","newDatum","lastSeries","lastDatum","updateAll","timeoutMs","handleNoDataOverlay","shouldDisplayNoDataOverlay","TreeNode","subtreeLeft","subtreeRight","screenX","screenY","leafCount","prelim","ancestor","change","getLeftSibling","getLeftmostSibling","nextLeft","thread","nextRight","getSiblings","ticksToTree","insertTick","pathParts","lastPartIndex","pathPart","partIndex","existingNode","isNotLeaf","moveSubtree","wm","wp","subtrees","vim","defaultAncestor","executeShifts","apportion","vop","vip","vom","sip","sop","sim","som","firstWalk","midpoint","leftSibling","Dimensions","secondWalk","thirdWalk","treeLayout","TreeLayout","dimensions","leafNodes","nonLeafNodes","shiftX","shiftY","flipX","xSteps","ySteps","existingSpacingX","desiredSpacingX","existingSpacingY","desiredSpacingY","screenDimensions","GroupedCategoryAxisLabel","GroupedCategoryAxis","tickScale","labelColor","gridLineSelection","axisLineSelection","separatorSelection","resizeTickTree","tickTreeLayout","isNumericX","tickTree","tickScaleDomain","rangeStart","rangeEnd","rangeLength","isHorizontal","treeLabels","isLabelTree","labelBBoxes","maxLeafLabelWidth","labelGrid","separatorData","minX","lineCount","CartesianChart","paired","_lastAxisWidths","_lastVisibility","clipSeries","updateAxes","seriesPaddedRect","hoverRectPadding","paddedRect","inputShrinkRect","axisWidths","liveAxisWidths","stableOutputs","otherAxisWidths","otherVisibility","otherW","ceilValues","records","out","lastPassAxisWidths","lastPassVisibility","updateAxesPass","clipRectPadding","lastPassSeriesRect","visited","newAxisWidths","primaryTickCounts","paddedBounds","applySeriesPadding","crossLinePadding","buildCrossLinePadding","axisBound","buildAxisBound","buildSeriesRect","newClipSeries","axisThickness","axisOffset","calculateAxisDimensions","addInterAxisPadding","positionAxis","side","reversedAxes","horizontalPadding","verticalPadding","totalWidth","clampToOutsideSeriesRect","dimension","clampBounds","compareTo","axisLeftRightRange","zoom","paddedBoundsCoefficient","axisPadding","PolarSeries","computeLabelsBBox","_options","_seriesRect","isPointInSector","sector","innerRadius","outerRadius","lineCollidesSector","outerStart","outerEnd","boxCollidesSector","topRight","bottomLeft","Sector","SMALLEST_KEY_INTERVAL","prevX","smallestSoFar","nextX","AGG_VALUES_EXTENT","SORT_DOMAIN_GROUPS","normaliseGroupTo","normaliseTo","normalise","valuesExtent","valIdx","normalisePropertyTo","rangeMin","rangeMax","normaliseSpan","pData","pIdx","groupValues","PieNodeTag","PieSeriesNodeBaseClickEvent","angleKey","calloutLabelKey","sectorLabelKey","radiusKey","PieSeriesNodeClickEvent","PieSeriesNodeDoubleClickEvent","PieSeriesCalloutLabel","minAngle","maxCollisionOffset","PieSeriesSectorLabel","positionOffset","positionRatio","PieSeriesCalloutLine","PieSeriesTooltip","PieTitle","DoughnutInnerLabel","DoughnutInnerCircle","PieStateMachine","PieSeries","radiusScale","groupSelection","calloutLabel","sectorLabel","calloutLine","angleName","innerLabels","innerCircle","radiusName","radiusMin","radiusMax","calloutLabelName","sectorLabelName","legendItemKey","strokes","outerRadiusOffset","outerRadiusRatio","innerRadiusOffset","innerRadiusRatio","shadow","surroundingRadius","angleScale","backgroundGroup","SERIES_BACKGROUND_ZINDEX","pieCalloutLabels","pieSectorLabels","calloutLabelSelection","sectorLabelSelection","innerLabelsSelection","animateReadyUpdateReady","processSeriesItemEnabled","dataModel","maybeRefreshNodeData","_createNodeData","angleIdx","radiusIdx","currentStart","midAngle","angleValue","radiusValue","getLabels","sectorFormat","getSectorFormat","midCos","midSin","skipDisabled","labelFormatterParams","getLabelFormatterParams","calloutLabelText","sectorLabelText","legendItemText","calloutLabelMinAngle","calloutLabelVisible","getTextAlignment","hidden","collisionTextAlign","collisionOffsetY","legendItem","calloutLabelValue","sectorLabelValue","quadrantTextOpts","midAngle180","quadrantStart","quadrantOffset","quadrant","quadrantIndex","_j","seriesFillOpacity","isDatumHighlighted","highlightedStyle","highlighted","getInnerRadius","getOuterRadius","updateRadiusScale","getTitleTranslationY","titleOffset","updateTitleNodes","updateInnerCircleNodes","titleBox","bboxIntersectsSurroundingSeries","updateNodeMidPoint","oldTitle","oldInnerCircle","innerCircleNode","oldNode","circle","updateGroupSelection","selection","Callout","updateInnerCircle","updateSectorFn","sectorParent","sectorGrandParent","updateCalloutLineNodes","updateCalloutLabelNodes","updateSectorLabelNodes","updateInnerLabelNodes","calloutLength","calloutStrokeWidth","calloutColors","paddedLength","getLabelOverflow","seriesLeft","seriesRight","seriesTop","seriesBottom","errPx","visibleTextPart","hasVerticalOverflow","textLength","hasSurroundingSeriesOverflow","corners","sur2","corner","computeCalloutLabelCollisionOffsets","shouldSkip","fullData","leftLabels","rightLabels","topLabels","bottomLabels","tempTextNode","getTextBBox","labelRadius","setTextDimensionalProps","avoidNeighbourYCollision","collidesOrBehind","avoidYCollisions","midLabel","midIndex","avoidXCollisions","labelsCollideLabelsByY","paddedBoxes","labelsCollideLabelsByX","sectors","labelsCollideSectors","displayText","textBoxes","titleCleanArea","hideWhenNecessary","isTooShort","textNode","isDoughnut","singleVisibleSector","isTextVisible","shouldPutTextInCenter","sectorBounds","circleRadius","antiAliasingPadding","textBBoxes","margins","getMarginTop","getMarginBottom","labelsVisible","textBottoms","nodeDatum","tooltipRenderer","formattedAngleValue","titleText","labelParts","toggleOtherSeriesItems","datumToggledLegendItemValue","datumItemId","labelDuration","labelAnimationOptions","PolarChart","fullSeriesRect","computeSeriesRect","computeCircle","seriesBox","polarSeries","setSeriesCircle","pieSeries","innerRadii","initialRadius","shake","labelBoxes","labelBox","refined","refineCircle","labelsBox","minCircleRatio","circleLeft","circleTop","circleRight","circleBottom","padTop","padBottom","availCircleWidth","availCircleHeight","newRadius","minHorizontalRadius","minVerticalRadius","minRadius","padHeight","newWidth","newHeight","HierarchyChart","interpolatePattern","formats","valueName","formatName","locales","toLocaleString","toDateString","sanitizeHtml","calculateNiceSecondaryAxis","calculateNiceStart","getTickStep","order","magnitude","stepPower","calculateNextNiceStep","NumberAxisTick","NumberAxis","NON_ZERO_NUMBER","LogAxis","isInverted","crossesZero","hasZeroExtent","invalidDomain","TimeAxisTick","TimeAxis","datumFormat","datumFormatter","_min","AreaSeriesTag","AreaSeriesLabel","AreaSeriesTooltip","AreaSeries","xName","_yKeys","_visibles","yNames","yKeys","visibles","normalizedTo","absValue","_normalizedTo","enabledYKeys","keyDef","yExtent","ySumExtent","groupedData","contexts","xScale","yScale","continuousY","xDataCount","cumulativePathValues","cumulativeMarkerValues","createPathCoordinates","xDatum","yDatum","prevY","currY","prevYCoordinate","currYCoordinate","createMarkerCoordinate","rawYDatum","normalizedAndValid","yKeyDataIndex","labelSelectionData","markerSelectionData","strokeSelectionData","points","yValues","fillSelectionData","fillPoints","fillPhantomPoints","strokePoints","datumIdx","datumGroup","datumArray","valuesArray","seriesDatum","nextValuesSameGroup","nextDatumGroup","nextXDatum","rawNextYIdx","rawNextYDatum","nextYDatum","cumulativeValue","yValue","windowX","windowY","currCoordinates","nextCoordinates","highlightedFill","highlightFillOpacity","highlightedStroke","highlightedDatumStrokeWidth","customMarker","yKeyIndex","labelEnabled","xValue","markerFormatter","xString","yString","processedYValue","yName","tooltipFormat","newEnableds","singleEnabledWasClicked","singleEnabledInEachSeries","markerDuration","animationOptions","Stroke","allPoints","bottomPoints","Fill","reverseIndex","bottomY","animateFormatter","Rect","borderPath","crisp","lastUpdatePathStrokeWidth","effectiveStrokeWidth","microPixelEffectOpacity","pixelSize","lx","borderClipPath","ly","halfStrokeWidth","borderActive","placement","barAlongX","labelTextAlign","labelTextBaseline","updateRect","getRectConfig","isHighlighted","stackGroup","itemFill","itemStroke","itemStrokeWidth","checkCrisp","visibleMin","visibleMax","isZoomed","BAR_LABEL_PLACEMENTS","OPT_BAR_LABEL_PLACEMENT","BarSeriesNodeTag","BarSeriesLabel","BarSeriesTooltip","is2dArray","BarSeries","groupScale","cumYKeyCount","flatYKeys","hideInLegend","yKeysCache","grouped","stackGroups","legendItemNames","smallestDataInterval","getBarDirection","processYKeys","flattenKeys","flatKeys","keysInStacks","ungroupedKeys","indexMap","items","newKeys","newKeysIndices","prevYKeyCount","visibleStacks","flattenFn","visiblesIdx","getStackGroup","processYNames","normalizedToAbs","getCategoryAxis","getValueAxis","activeSeriesItems","activeStacks","smallestX","getCategoryDirection","keysExtent","calculateStep","smallestInterval","domainLength","intervals","maxBands","bands","xBandWidth","barWidth","stackIndex","stackYKeys","prevMinY","prevMaxY","levelIndex","yIndex","barX","labelFontStyle","labelFontWeight","labelFontSize","labelFontFamily","colorIndex","Bar","itemHighlightStyle","categoryAlongX","fillIndex","hasAnyLegendItemName","hasLegendItemName","calculateVisibleDomain","nameYKey","startingX","resetSelectionRects","ColumnSeries","startingY","HISTOGRAM_AGGREGATIONS","HISTOGRAM_AGGREGATION","HistogramSeriesNodeTag","HistogramSeriesLabel","defaultBinCount","HistogramSeriesTooltip","HistogramSeries","areaPlot","bins","aggregation","binCount","calculatedBins","deriveBins","xDomain","binStarts","binSize","firstBinEnd","expandStartToBin","calculateNiceBins","startGuess","getBins","aggProp","dataSet","xExtent","nextBin","yDomain","xDomainMin","xDomainMax","negativeAgg","positiveAgg","frequency","xMinPx","xMaxPx","yZeroPx","yMaxPx","selectionDatumLabel","aggregatedValue","Bin","LineSeriesLabel","LineSeriesTooltip","LineSeries","xDef","_k","_l","markerEnabled","xIdx","yIdx","prevXInRange","nextPoint","actualLength","xInRange","nextXInRange","lineStroke","contextDataIndex","linePath","resetMarkersAndPaths","ColorScale","parsedRange","isSmallRange","interpolateColor","ScatterSeriesLabel","ScatterSeriesNodeBaseClickEvent","sizeKey","ScatterSeriesNodeClickEvent","ScatterSeriesNodeDoubleClickEvent","ScatterSeriesTooltip","ScatterSeries","sizeScale","labelKey","sizeName","labelName","colorKey","colorName","colorDomain","colorRange","colorScale","sizeKeyIdx","processedSize","colorKeyIdx","dataDef","xDataIdx","yDataIdx","colorIdx","placedLabels","placedNodeDatum","resetMarkers","HierarchySeries","DropShadow","TextNodeTag","TreemapSeriesTooltip","TreemapSeriesNodeBaseClickEvent","TreemapSeriesNodeClickEvent","TreemapSeriesNodeDoubleClickEvent","TreemapSeriesLabel","TreemapSeriesTileLabel","TreemapValueLabel","tempText","validateColor","fallbackColor","TreemapTextHighlightStyle","TreemapHighlightStyle","TreemapSeries","large","medium","small","nodePadding","nodeGap","groupFill","groupStroke","groupStrokeWidth","tileStroke","tileStrokeWidth","rootName","highlightGroups","tileShadow","labelShadow","getNodePaddingTop","isLeaf","textSize","heightRatioThreshold","getNodePadding","squarify","outputNodesBoxes","targetTileAspectRatio","stackSum","minRatioDiff","partitionSum","innerBox","partition","firstValue","isVertical","partThickness","partLength","firstTileLength","stackThickness","childBox","applyGap","gap","getBounds","innerBounds","childBounds","sides","createTreeNodeDatum","colorScaleValue","childNodeDatum","dataRoot","descendants","nameLabel","Name","valueLabel","Value","getTileFormat","highlightedFillOpacity","highlightedTextColor","labelMeta","buildLabelMeta","highlightedSubtree","getHighlightedSubtree","updateRectFn","fillColor","updateLabelFn","hAlign","vAlign","treeNodeDatum","wrappedRegExp","availTextWidth","availTextHeight","isBoxTooSmall","labelStyle","minSizeRatio","valueText","valueConfig","valueStyle","valueMargin","valueSize","pickStyle","availHeight","labelStyles","smallSize","labelSize","hasValueText","_direction","valueKey","valueFormatter","TYPES","bar","histogram","scatter","treemap","pie","DEFAULTS","CHART_TYPES","isCartesian","isPolar","isHierarchy","seriesTypes","cartesianTypes","polarTypes","hierarchyTypes","registerChartSeriesType","chartType","registerChartDefaults","getChartDefaults","BUILT_IN_SERIES_FACTORIES","SERIES_FACTORIES","SERIES_DEFAULTS","SERIES_THEME_TEMPLATES","registerSeries","cstr","theme","seriesConstructor","getSeriesDefaults","getSeriesThemeTemplate","DEFAULT_CARTESIAN_CHART_OVERRIDES","DEFAULT_BAR_CHART_OVERRIDES","DEFAULT_SCATTER_HISTOGRAM_CHART_OVERRIDES","transforms","yNamesMapping","yKeysMapping","legendItemNamesMapping","barSeriesTransform","columnSeriesTransform","identityTransform","SERIES_TRANSFORMS","applySeriesTransform","deepMerge","groupedCategory","AXES_THEME_TEMPLATES","CHART_AXES_TYPES","axisType","axesTypes","registerAxisThemeTemplate","getAxisThemeTemplate","palette","EXTENDS_SERIES_DEFAULTS","OVERRIDE_SERIES_LABEL_DEFAULTS","DEFAULT_FONT_FAMILY","BOLD","INSIDE","BOTTOM","ChartTheme","createChartConfigPerChartType","getDefaults","common","cartesian","polar","hierarchy","applyOverrides","overrideOpts","chartConfig","getPalette","seriesDefaults","background","getCaptionWrappingDefaults","typeToAliases","nextType","aliases","typeDefaults","templateTheme","alias","getOverridesByType","extension","themeTemplate","themeInstance","extensions","getTemplateParameters","mergeWithParentDefaults","parentDefaults","cartesianDefaults","getAxisDefaults","getBarSeriesDefaults","getLineSeriesDefaults","getCartesianSeriesMarkerDefaults","getScatterSeriesDefaults","getAreaSeriesDefaults","polarDefaults","hierarchyDefaults","DarkTheme","fontColor","mutedFontColor","axisDefaults","seriesLabelDefaults","chartAxesDefaults","chartDefaults","MaterialLight","MaterialDark","PastelLight","PastelDark","SolarLight","SolarDark","VividLight","VividDark","lightTheme","darkTheme","lightThemes","null","ag-material","ag-pastel","ag-solar","ag-vivid","darkThemes","ag-material-dark","ag-pastel-dark","ag-solar-dark","ag-vivid-dark","themes","getChartTheme","stockTheme","baseTheme","flattenedTheme","groupSeriesByType","seriesOptions","stacked","groupingKey","indexKey","FAIL","SKIP","ARRAY_REDUCER","BOOLEAN_OR_REDUCER","DEFAULTING_ARRAY_REDUCER","sparse","YKEYS_REDUCER","activationValue","STACK_GROUPS_REDUCER","REDUCE_CONFIG","hideInChart","outputProp","legendItemName","reduceSeries","reducerConfig","defaultReduce","processSeriesOptions","preprocessed","optionsType","isAgCartesianChartOptions","specifiedType","isAgHierarchyChartOptions","isAgPolarChartOptions","isSeriesOptionType","isAxisOptionType","countArrayElements","takeColours","colours","colourIndex","noDataCloneMergeOptions","prepareOptions","newOptions","fallbackOptions","sanityCheckOptions","userSuppliedOptionsType","globalTooltipPositionOptions","checkSeriesType","defaultSeriesType","defaultOverrides","removeDisabledOptions","mergedOptions","axesThemes","seriesThemes","prepareMainOptions","mergedSeries","mergeSeriesOptions","preparePieOptions","prepareSeries","checkAxisType","isAxisType","validAxesTypes","axesTheme","prepareAxis","prepareLegendEnabledOption","prepareEnabledOptions","deprecatedArrayProps","oldProp","newProp","mergedTooltipPosition","cleanedTheme","prepareTheme","themeConfig","paletteOptions","calculateSeriesPalette","removeOptions","mergedResult","inputAny","colourCount","axisTheme","crossLinesTheme","cleanTheme","visitingUserOpts","visitingMergedOpts","_enabledFromTheme","pieSeriesTheme","horizontalCrosslineTranslationDirections","xTranslationDirection","yTranslationDirection","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight","verticalCrossLineTranslationDirections","calculateLabelTranslation","yDirection","crossLineTranslationDirections","xTranslation","yTranslation","calculateLabelChartPadding","chartPadding","POSITION_TOP_COORDINATES","xEnd","yStart","yEnd","POSITION_LEFT_COORDINATES","xStart","POSITION_RIGHT_COORDINATES","POSITION_BOTTOM_COORDINATES","POSITION_INSIDE_COORDINATES","POSITION_TOP_LEFT_COORDINATES","POSITION_BOTTOM_LEFT_COORDINATES","POSITION_TOP_RIGHT_COORDINATES","POSITION_BOTTOM_RIGHT_COORDINATES","labeldDirectionHandling","Range","startLine","endLine","isRange","fillActive","strokeActive","CROSSLINE_LABEL_POSITIONS","OPT_CROSSLINE_LABEL_POSITION","OPT_CROSSLINE_TYPE","CrossLineLabel","CrossLine","LINE_LAYER_ZINDEX","crossLineRange","crossLineLabel","labelPoint","dataCreated","getZIndex","updateRangeNode","positionLabel","clippedRangeClamper","getRange","clampedYStart","clampedYEnd","validRange","computeLabelBBox","RANGE_LAYER_ZINDEX","labelPadding","crossLineLabelBBox","SERIES_CROSSLINE_LINE_ZINDEX","SERIES_CROSSLINE_RANGE_ZINDEX","JSON_APPLY_PLUGINS","JSON_APPLY_OPTIONS","getJsonApplyOptions","BaseModuleInstance","REGISTERED_MODULES","registerModule","otherModule","packageType","RangeHandle","_fill","_stroke","_strokeWidth","_lineCap","_centerX","_centerY","_gripLineGap","_gripLineLength","gripLineGap","gripLineLength","ax","ay","axw","ayh","RangeMask","_fillOpacity","minRange","onRangeChange","computeVisibleRangeBBox","maxX","RangeSelector","minHandle","maxHandle","mask","updateHandles","NavigatorMask","rangeMask","rm","NavigatorHandle","rangeHandle","rh","Navigator","rs","minHandleDragging","maxHandleDragging","panHandleOffset","onDragStart","onDrag","onDragStop","layoutComplete","navigatorTotalHeight","getRatio","stopHandleDragging","CHART_NAVIGATOR_MODULE","chartTypes","Background","onLayoutComplete","rectNode","layoutHandle","CHART_BACKGROUND_MODULE","setupModules","optionConstructors","axisTypes","AgChartInternal","createOrUpdate","AgChartInstanceProxy","isInstance","deltaOptions","updateUserDelta","getImageDataURL","signatureProps","heuristicTypeCheck","initialised","initialiseModules","mixinOpts","createChartInstance","chartToUpdate","dequeue","queuedOptionsIdx","updateDelta","asyncDownload","maybeClone","prepareResizedChart","currentWidth","currentHeight","clonedChart","oldChart","transferableResource","applyChartOptions","optionalParams","completeOptions","modulesChanged","applyModules","registerListeners","applyOptionValues","applySeries","axesPresent","applyAxes","applyLegend","seriesOpts","seriesDataUpdate","otherRefreshUpdate","majorChange","updateType","matchingChartType","rootModules","shouldBeEnabled","optSeries","matchingTypes","previousOpts","seriesDiff","applySeriesValues","createSeries","optAxes","oldOpts","axisDiff","createAxis","moduleContext","seriesInstance","axisOptions","applyAxisModules","applyOpts","jsonApplyOptions","ctrs","seriesTypeOverrides","Image","sourceImage","image","themeFactories","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","currentScript","_createBlock","_component_ag_charts_vue","mm","__exports__","charts"],"sourceRoot":""}